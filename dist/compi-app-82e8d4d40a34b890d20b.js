!function(t){function e(e){for(var i,r,o=e[0],s=e[1],a=0,c=[];a<o.length;a++)r=o[a],Object.prototype.hasOwnProperty.call(n,r)&&n[r]&&c.push(n[r][0]),n[r]=0;for(i in s)Object.prototype.hasOwnProperty.call(s,i)&&(t[i]=s[i]);for(l&&l(e);c.length;)c.shift()()}var i={},n={0:0};function r(e){if(i[e])return i[e].exports;var n=i[e]={i:e,l:!1,exports:{}};return t[e].call(n.exports,n,n.exports,r),n.l=!0,n.exports}r.e=function(t){var e=[],i=n[t];if(0!==i)if(i)e.push(i[2]);else{var o=new Promise((function(e,r){i=n[t]=[e,r]}));e.push(i[2]=o);var s,a=document.createElement("script");a.charset="utf-8",a.timeout=120,r.nc&&a.setAttribute("nonce",r.nc),a.src=function(t){return r.p+""+{1:"519e9c87fb46b2d5c20d",2:"c54328f757f4006bdd1b",3:"aae4376209e1316f01ed"}[t]+".js"}(t);var l=new Error;s=function(e){a.onerror=a.onload=null,clearTimeout(c);var i=n[t];if(0!==i){if(i){var r=e&&("load"===e.type?"missing":e.type),o=e&&e.target&&e.target.src;l.message="Loading chunk "+t+" failed.\n("+r+": "+o+")",l.name="ChunkLoadError",l.type=r,l.request=o,i[1](l)}n[t]=void 0}};var c=setTimeout((function(){s({type:"timeout",target:a})}),12e4);a.onerror=a.onload=s,document.head.appendChild(a)}return Promise.all(e)},r.m=t,r.c=i,r.d=function(t,e,i){r.o(t,e)||Object.defineProperty(t,e,{enumerable:!0,get:i})},r.r=function(t){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},r.t=function(t,e){if(1&e&&(t=r(t)),8&e)return t;if(4&e&&"object"==typeof t&&t&&t.__esModule)return t;var i=Object.create(null);if(r.r(i),Object.defineProperty(i,"default",{enumerable:!0,value:t}),2&e&&"string"!=typeof t)for(var n in t)r.d(i,n,function(e){return t[e]}.bind(null,n));return i},r.n=function(t){var e=t&&t.__esModule?function(){return t.default}:function(){return t};return r.d(e,"a",e),e},r.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},r.p="",r.oe=function(t){throw console.error(t),t};var o=window.webpackJsonp=window.webpackJsonp||[],s=o.push.bind(o);o.push=e,o=o.slice();for(var a=0;a<o.length;a++)e(o[a]);var l=s;r(r.s=52)}([function(t,e,i){"use strict";i.d(e,"a",(function(){return n}));
/**
@license
Copyright (c) 2017 The Polymer Project Authors. All rights reserved.
This code may only be used under the BSD style license found at http://polymer.github.io/LICENSE.txt
The complete set of authors may be found at http://polymer.github.io/AUTHORS.txt
The complete set of contributors may be found at http://polymer.github.io/CONTRIBUTORS.txt
Code distributed by Google as part of the polymer project is also
subject to an additional IP rights grant found at http://polymer.github.io/PATENTS.txt
*/
const n=window.ShadyDOM&&window.ShadyDOM.noPatch&&window.ShadyDOM.wrap?window.ShadyDOM.wrap:t=>t},function(t,e,i){"use strict";i.d(e,"c",(function(){return n.d})),i.d(e,"b",(function(){return E})),i.d(e,"a",(function(){return T}));var n=i(19),r=i(17),o=i(9);function s(t,e){const{element:{content:i},parts:n}=t,r=document.createTreeWalker(i,133,null,!1);let o=l(n),s=n[o],a=-1,c=0;const d=[];let p=null;for(;r.nextNode();){a++;const t=r.currentNode;for(t.previousSibling===p&&(p=null),e.has(t)&&(d.push(t),null===p&&(p=t)),null!==p&&c++;void 0!==s&&s.index===a;)s.index=null!==p?-1:s.index-c,o=l(n,o),s=n[o]}d.forEach(t=>t.parentNode.removeChild(t))}const a=t=>{let e=11===t.nodeType?0:1;const i=document.createTreeWalker(t,133,null,!1);for(;i.nextNode();)e++;return e},l=(t,e=-1)=>{for(let i=e+1;i<t.length;i++){const e=t[i];if(Object(o.d)(e))return i}return-1};var c=i(26),d=i(24),p=i(29),h=i(22);
/**
 * @license
 * Copyright (c) 2017 The Polymer Project Authors. All rights reserved.
 * This code may only be used under the BSD style license found at
 * http://polymer.github.io/LICENSE.txt
 * The complete set of authors may be found at
 * http://polymer.github.io/AUTHORS.txt
 * The complete set of contributors may be found at
 * http://polymer.github.io/CONTRIBUTORS.txt
 * Code distributed by Google as part of the polymer project is also
 * subject to an additional IP rights grant found at
 * http://polymer.github.io/PATENTS.txt
 */
const u=(t,e)=>`${t}--${e}`;let f=!0;void 0===window.ShadyCSS?f=!1:void 0===window.ShadyCSS.prepareTemplateDom&&(console.warn("Incompatible ShadyCSS version detected.Please update to at least @webcomponents/webcomponentsjs@2.0.2 and@webcomponents/shadycss@1.3.1."),f=!1);const _=t=>e=>{const i=u(e.type,t);let n=d.a.get(i);void 0===n&&(n={stringsArray:new WeakMap,keyString:new Map},d.a.set(i,n));let r=n.stringsArray.get(e.strings);if(void 0!==r)return r;const s=e.strings.join(o.f);if(r=n.keyString.get(s),void 0===r){const i=e.getTemplateElement();f&&window.ShadyCSS.prepareTemplateDom(i,t),r=new o.a(e,i),n.keyString.set(s,r)}return n.stringsArray.set(e.strings,r),r},m=["html","svg"],b=new Set,y=(t,e,i)=>{b.add(i);const n=t.querySelectorAll("style");if(0===n.length)return void window.ShadyCSS.prepareTemplateStyles(e.element,i);const r=document.createElement("style");for(let t=0;t<n.length;t++){const e=n[t];e.parentNode.removeChild(e),r.textContent+=e.textContent}if((t=>{m.forEach(e=>{const i=d.a.get(u(e,t));void 0!==i&&i.keyString.forEach(t=>{const{element:{content:e}}=t,i=new Set;Array.from(e.querySelectorAll("style")).forEach(t=>{i.add(t)}),s(t,i)})})})(i),function(t,e,i=null){const{element:{content:n},parts:r}=t;if(null==i)return void n.appendChild(e);const o=document.createTreeWalker(n,133,null,!1);let s=l(r),c=0,d=-1;for(;o.nextNode();){for(d++,o.currentNode===i&&(c=a(e),i.parentNode.insertBefore(e,i));-1!==s&&r[s].index===d;){if(c>0){for(;-1!==s;)r[s].index+=c,s=l(r,s);return}s=l(r,s)}}}(e,r,e.element.content.firstChild),window.ShadyCSS.prepareTemplateStyles(e.element,i),window.ShadyCSS.nativeShadow){const i=e.element.content.querySelector("style");t.insertBefore(i.cloneNode(!0),t.firstChild)}else{e.element.content.insertBefore(r,e.element.content.firstChild);const t=new Set;t.add(r),s(e,t)}};
/**
 * @license
 * Copyright (c) 2017 The Polymer Project Authors. All rights reserved.
 * This code may only be used under the BSD style license found at
 * http://polymer.github.io/LICENSE.txt
 * The complete set of authors may be found at
 * http://polymer.github.io/AUTHORS.txt
 * The complete set of contributors may be found at
 * http://polymer.github.io/CONTRIBUTORS.txt
 * Code distributed by Google as part of the polymer project is also
 * subject to an additional IP rights grant found at
 * http://polymer.github.io/PATENTS.txt
 */
window.JSCompiler_renameProperty=(t,e)=>t;const g={toAttribute(t,e){switch(e){case Boolean:return t?"":null;case Object:case Array:return null==t?t:JSON.stringify(t)}return t},fromAttribute(t,e){switch(e){case Boolean:return null!==t;case Number:return null===t?null:Number(t);case Object:case Array:return JSON.parse(t)}return t}},v=(t,e)=>e!==t&&(e==e||t==t),w={attribute:!0,type:String,converter:g,reflect:!1,hasChanged:v},x=Promise.resolve(!0);class S extends HTMLElement{constructor(){super(),this._updateState=0,this._instanceProperties=void 0,this._updatePromise=x,this._hasConnectedResolver=void 0,this._changedProperties=new Map,this._reflectingProperties=void 0,this.initialize()}static get observedAttributes(){this.finalize();const t=[];return this._classProperties.forEach((e,i)=>{const n=this._attributeNameForProperty(i,e);void 0!==n&&(this._attributeToPropertyMap.set(n,i),t.push(n))}),t}static _ensureClassProperties(){if(!this.hasOwnProperty(JSCompiler_renameProperty("_classProperties",this))){this._classProperties=new Map;const t=Object.getPrototypeOf(this)._classProperties;void 0!==t&&t.forEach((t,e)=>this._classProperties.set(e,t))}}static createProperty(t,e=w){if(this._ensureClassProperties(),this._classProperties.set(t,e),e.noAccessor||this.prototype.hasOwnProperty(t))return;const i="symbol"==typeof t?Symbol():"__"+t;Object.defineProperty(this.prototype,t,{get(){return this[i]},set(e){const n=this[t];this[i]=e,this._requestUpdate(t,n)},configurable:!0,enumerable:!0})}static finalize(){if(this.hasOwnProperty(JSCompiler_renameProperty("finalized",this))&&this.finalized)return;const t=Object.getPrototypeOf(this);if("function"==typeof t.finalize&&t.finalize(),this.finalized=!0,this._ensureClassProperties(),this._attributeToPropertyMap=new Map,this.hasOwnProperty(JSCompiler_renameProperty("properties",this))){const t=this.properties,e=[...Object.getOwnPropertyNames(t),..."function"==typeof Object.getOwnPropertySymbols?Object.getOwnPropertySymbols(t):[]];for(const i of e)this.createProperty(i,t[i])}}static _attributeNameForProperty(t,e){const i=e.attribute;return!1===i?void 0:"string"==typeof i?i:"string"==typeof t?t.toLowerCase():void 0}static _valueHasChanged(t,e,i=v){return i(t,e)}static _propertyValueFromAttribute(t,e){const i=e.type,n=e.converter||g,r="function"==typeof n?n:n.fromAttribute;return r?r(t,i):t}static _propertyValueToAttribute(t,e){if(void 0===e.reflect)return;const i=e.type,n=e.converter;return(n&&n.toAttribute||g.toAttribute)(t,i)}initialize(){this._saveInstanceProperties(),this._requestUpdate()}_saveInstanceProperties(){this.constructor._classProperties.forEach((t,e)=>{if(this.hasOwnProperty(e)){const t=this[e];delete this[e],this._instanceProperties||(this._instanceProperties=new Map),this._instanceProperties.set(e,t)}})}_applyInstanceProperties(){this._instanceProperties.forEach((t,e)=>this[e]=t),this._instanceProperties=void 0}connectedCallback(){this._updateState=32|this._updateState,this._hasConnectedResolver&&(this._hasConnectedResolver(),this._hasConnectedResolver=void 0)}disconnectedCallback(){}attributeChangedCallback(t,e,i){e!==i&&this._attributeToProperty(t,i)}_propertyToAttribute(t,e,i=w){const n=this.constructor,r=n._attributeNameForProperty(t,i);if(void 0!==r){const t=n._propertyValueToAttribute(e,i);if(void 0===t)return;this._updateState=8|this._updateState,null==t?this.removeAttribute(r):this.setAttribute(r,t),this._updateState=-9&this._updateState}}_attributeToProperty(t,e){if(8&this._updateState)return;const i=this.constructor,n=i._attributeToPropertyMap.get(t);if(void 0!==n){const t=i._classProperties.get(n)||w;this._updateState=16|this._updateState,this[n]=i._propertyValueFromAttribute(e,t),this._updateState=-17&this._updateState}}_requestUpdate(t,e){let i=!0;if(void 0!==t){const n=this.constructor,r=n._classProperties.get(t)||w;n._valueHasChanged(this[t],e,r.hasChanged)?(this._changedProperties.has(t)||this._changedProperties.set(t,e),!0!==r.reflect||16&this._updateState||(void 0===this._reflectingProperties&&(this._reflectingProperties=new Map),this._reflectingProperties.set(t,r))):i=!1}!this._hasRequestedUpdate&&i&&this._enqueueUpdate()}requestUpdate(t,e){return this._requestUpdate(t,e),this.updateComplete}async _enqueueUpdate(){let t,e;this._updateState=4|this._updateState;const i=this._updatePromise;this._updatePromise=new Promise((i,n)=>{t=i,e=n});try{await i}catch(t){}this._hasConnected||await new Promise(t=>this._hasConnectedResolver=t);try{const t=this.performUpdate();null!=t&&await t}catch(t){e(t)}t(!this._hasRequestedUpdate)}get _hasConnected(){return 32&this._updateState}get _hasRequestedUpdate(){return 4&this._updateState}get hasUpdated(){return 1&this._updateState}performUpdate(){this._instanceProperties&&this._applyInstanceProperties();let t=!1;const e=this._changedProperties;try{t=this.shouldUpdate(e),t&&this.update(e)}catch(e){throw t=!1,e}finally{this._markUpdated()}t&&(1&this._updateState||(this._updateState=1|this._updateState,this.firstUpdated(e)),this.updated(e))}_markUpdated(){this._changedProperties=new Map,this._updateState=-5&this._updateState}get updateComplete(){return this._updatePromise}shouldUpdate(t){return!0}update(t){void 0!==this._reflectingProperties&&this._reflectingProperties.size>0&&(this._reflectingProperties.forEach((t,e)=>this._propertyToAttribute(e,this[e],t)),this._reflectingProperties=void 0)}updated(t){}firstUpdated(t){}}S.finalized=!0;const C="adoptedStyleSheets"in Document.prototype&&"replace"in CSSStyleSheet.prototype,k=Symbol();class P{constructor(t,e){if(e!==k)throw new Error("CSSResult is not constructable. Use `unsafeCSS` or `css` instead.");this.cssText=t}get styleSheet(){return void 0===this._styleSheet&&(C?(this._styleSheet=new CSSStyleSheet,this._styleSheet.replaceSync(this.cssText)):this._styleSheet=null),this._styleSheet}toString(){return this.cssText}}const E=(t,...e)=>{const i=e.reduce((e,i,n)=>e+(t=>{if(t instanceof P)return t.cssText;throw new Error(`Value passed to 'css' function must be a 'css' function result: ${t}. Use 'unsafeCSS' to pass non-literal values, but\n            take care to ensure page security.`)})(i)+t[n+1],t[0]);return new P(i,k)};
/**
 * @license
 * Copyright (c) 2017 The Polymer Project Authors. All rights reserved.
 * This code may only be used under the BSD style license found at
 * http://polymer.github.io/LICENSE.txt
 * The complete set of authors may be found at
 * http://polymer.github.io/AUTHORS.txt
 * The complete set of contributors may be found at
 * http://polymer.github.io/CONTRIBUTORS.txt
 * Code distributed by Google as part of the polymer project is also
 * subject to an additional IP rights grant found at
 * http://polymer.github.io/PATENTS.txt
 */
(window.litElementVersions||(window.litElementVersions=[])).push("2.0.1");const O=t=>t.flat?t.flat(1/0):function t(e,i=[]){for(let n=0,r=e.length;n<r;n++){const r=e[n];Array.isArray(r)?t(r,i):i.push(r)}return i}(t);class T extends S{static finalize(){super.finalize(),this._styles=this.hasOwnProperty(JSCompiler_renameProperty("styles",this))?this._getUniqueStyles():this._styles||[]}static _getUniqueStyles(){const t=this.styles,e=[];if(Array.isArray(t)){O(t).reduceRight((t,e)=>(t.add(e),t),new Set).forEach(t=>e.unshift(t))}else t&&e.push(t);return e}initialize(){super.initialize(),this.renderRoot=this.createRenderRoot(),window.ShadowRoot&&this.renderRoot instanceof window.ShadowRoot&&this.adoptStyles()}createRenderRoot(){return this.attachShadow({mode:"open"})}adoptStyles(){const t=this.constructor._styles;0!==t.length&&(void 0===window.ShadyCSS||window.ShadyCSS.nativeShadow?C?this.renderRoot.adoptedStyleSheets=t.map(t=>t.styleSheet):this._needsShimAdoptedStyleSheets=!0:window.ShadyCSS.ScopingShim.prepareAdoptedCssText(t.map(t=>t.cssText),this.localName))}connectedCallback(){super.connectedCallback(),this.hasUpdated&&void 0!==window.ShadyCSS&&window.ShadyCSS.styleElement(this)}update(t){super.update(t);const e=this.render();e instanceof n.b&&this.constructor.render(e,this.renderRoot,{scopeName:this.localName,eventContext:this}),this._needsShimAdoptedStyleSheets&&(this._needsShimAdoptedStyleSheets=!1,this.constructor._styles.forEach(t=>{const e=document.createElement("style");e.textContent=t.cssText,this.renderRoot.appendChild(e)}))}render(){}}T.finalized=!0,T.render=(t,e,i)=>{const n=i.scopeName,o=c.a.has(e),s=e instanceof ShadowRoot&&f&&t instanceof h.b,a=s&&!b.has(n),l=a?document.createDocumentFragment():e;if(Object(c.b)(t,l,Object.assign({templateFactory:_(n)},i)),a){const t=c.a.get(l);c.a.delete(l),t.value instanceof p.a&&y(l,t.value.template,n),Object(r.b)(e,e.firstChild),e.appendChild(l),c.a.set(e,t)}!o&&s&&window.ShadyCSS.styleElement(e.host)}},function(t,e,i){"use strict";i.d(e,"d",(function(){return n})),i.d(e,"g",(function(){return r})),i.d(e,"b",(function(){return o})),i.d(e,"c",(function(){return s})),i.d(e,"i",(function(){return a})),i.d(e,"e",(function(){return l})),i.d(e,"f",(function(){return c})),i.d(e,"a",(function(){return p})),i.d(e,"h",(function(){return h}));i(7);
/**
@license
Copyright (c) 2017 The Polymer Project Authors. All rights reserved.
This code may only be used under the BSD style license found at http://polymer.github.io/LICENSE.txt
The complete set of authors may be found at http://polymer.github.io/AUTHORS.txt
The complete set of contributors may be found at http://polymer.github.io/CONTRIBUTORS.txt
Code distributed by Google as part of the polymer project is also
subject to an additional IP rights grant found at http://polymer.github.io/PATENTS.txt
*/function n(t){return t.indexOf(".")>=0}function r(t){let e=t.indexOf(".");return-1===e?t:t.slice(0,e)}function o(t,e){return 0===t.indexOf(e+".")}function s(t,e){return 0===e.indexOf(t+".")}function a(t,e,i){return e+i.slice(t.length)}function l(t,e){return t===e||o(t,e)||s(t,e)}function c(t){if(Array.isArray(t)){let e=[];for(let i=0;i<t.length;i++){let n=t[i].toString().split(".");for(let t=0;t<n.length;t++)e.push(n[t])}return e.join(".")}return t}function d(t){return Array.isArray(t)?c(t).split("."):t.toString().split(".")}function p(t,e,i){let n=t,r=d(e);for(let t=0;t<r.length;t++){if(!n)return;n=n[r[t]]}return i&&(i.path=r.join(".")),n}function h(t,e,i){let n=t,r=d(e),o=r[r.length-1];if(r.length>1){for(let t=0;t<r.length-1;t++){if(n=n[r[t]],!n)return}n[o]=i}else n[e]=i;return r.join(".")}},function(t,e,i){"use strict";i.d(e,"a",(function(){return o}));i(7);
/**
@license
Copyright (c) 2017 The Polymer Project Authors. All rights reserved.
This code may only be used under the BSD style license found at http://polymer.github.io/LICENSE.txt
The complete set of authors may be found at http://polymer.github.io/AUTHORS.txt
The complete set of contributors may be found at http://polymer.github.io/CONTRIBUTORS.txt
Code distributed by Google as part of the polymer project is also
subject to an additional IP rights grant found at http://polymer.github.io/PATENTS.txt
*/class n{constructor(t){this.value=t.toString()}toString(){return this.value}}function r(t){if(t instanceof n)return t.value;throw new Error("non-literal value passed to Polymer's htmlLiteral function: "+t)}const o=function(t,...e){const i=document.createElement("template");return i.innerHTML=e.reduce((e,i,o)=>e+function(t){if(t instanceof HTMLTemplateElement)return t.innerHTML;if(t instanceof n)return r(t);throw new Error("non-template value passed to Polymer's html function: "+t)}(i)+t[o+1],t[0]),i}},function(t,e,i){"use strict";i.d(e,"b",(function(){return d})),i.d(e,"a",(function(){return _}));i(7);var n=i(0),r=(i(5),i(40)),o=i(12);
/**
@license
Copyright (c) 2017 The Polymer Project Authors. All rights reserved.
This code may only be used under the BSD style license found at http://polymer.github.io/LICENSE.txt
The complete set of authors may be found at http://polymer.github.io/AUTHORS.txt
The complete set of contributors may be found at http://polymer.github.io/CONTRIBUTORS.txt
Code distributed by Google as part of the polymer project is also
subject to an additional IP rights grant found at http://polymer.github.io/PATENTS.txt
*/
function s(t){return"slot"===t.localName}let a=class{static getFlattenedNodes(t){const e=Object(n.a)(t);return s(t)?(t=t,e.assignedNodes({flatten:!0})):Array.from(e.childNodes).map(t=>s(t)?(t=t,Object(n.a)(t).assignedNodes({flatten:!0})):[t]).reduce((t,e)=>t.concat(e),[])}constructor(t,e){this._shadyChildrenObserver=null,this._nativeChildrenObserver=null,this._connected=!1,this._target=t,this.callback=e,this._effectiveNodes=[],this._observer=null,this._scheduled=!1,this._boundSchedule=()=>{this._schedule()},this.connect(),this._schedule()}connect(){s(this._target)?this._listenSlots([this._target]):Object(n.a)(this._target).children&&(this._listenSlots(Object(n.a)(this._target).children),window.ShadyDOM?this._shadyChildrenObserver=ShadyDOM.observeChildren(this._target,t=>{this._processMutations(t)}):(this._nativeChildrenObserver=new MutationObserver(t=>{this._processMutations(t)}),this._nativeChildrenObserver.observe(this._target,{childList:!0}))),this._connected=!0}disconnect(){s(this._target)?this._unlistenSlots([this._target]):Object(n.a)(this._target).children&&(this._unlistenSlots(Object(n.a)(this._target).children),window.ShadyDOM&&this._shadyChildrenObserver?(ShadyDOM.unobserveChildren(this._shadyChildrenObserver),this._shadyChildrenObserver=null):this._nativeChildrenObserver&&(this._nativeChildrenObserver.disconnect(),this._nativeChildrenObserver=null)),this._connected=!1}_schedule(){this._scheduled||(this._scheduled=!0,o.b.run(()=>this.flush()))}_processMutations(t){this._processSlotMutations(t),this.flush()}_processSlotMutations(t){if(t)for(let e=0;e<t.length;e++){let i=t[e];i.addedNodes&&this._listenSlots(i.addedNodes),i.removedNodes&&this._unlistenSlots(i.removedNodes)}}flush(){if(!this._connected)return!1;window.ShadyDOM&&ShadyDOM.flush(),this._nativeChildrenObserver?this._processSlotMutations(this._nativeChildrenObserver.takeRecords()):this._shadyChildrenObserver&&this._processSlotMutations(this._shadyChildrenObserver.takeRecords()),this._scheduled=!1;let t={target:this._target,addedNodes:[],removedNodes:[]},e=this.constructor.getFlattenedNodes(this._target),i=Object(r.a)(e,this._effectiveNodes);for(let e,n=0;n<i.length&&(e=i[n]);n++)for(let i,n=0;n<e.removed.length&&(i=e.removed[n]);n++)t.removedNodes.push(i);for(let n,r=0;r<i.length&&(n=i[r]);r++)for(let i=n.index;i<n.index+n.addedCount;i++)t.addedNodes.push(e[i]);this._effectiveNodes=e;let n=!1;return(t.addedNodes.length||t.removedNodes.length)&&(n=!0,this.callback.call(this._target,t)),n}_listenSlots(t){for(let e=0;e<t.length;e++){let i=t[e];s(i)&&i.addEventListener("slotchange",this._boundSchedule)}}_unlistenSlots(t){for(let e=0;e<t.length;e++){let i=t[e];s(i)&&i.removeEventListener("slotchange",this._boundSchedule)}}};i(20),i(16);
/**
@license
Copyright (c) 2017 The Polymer Project Authors. All rights reserved.
This code may only be used under the BSD style license found at http://polymer.github.io/LICENSE.txt
The complete set of authors may be found at http://polymer.github.io/AUTHORS.txt
The complete set of contributors may be found at http://polymer.github.io/CONTRIBUTORS.txt
Code distributed by Google as part of the polymer project is also
subject to an additional IP rights grant found at http://polymer.github.io/PATENTS.txt
*/
const l=Element.prototype,c=l.matches||l.matchesSelector||l.mozMatchesSelector||l.msMatchesSelector||l.oMatchesSelector||l.webkitMatchesSelector,d=function(t,e){return c.call(t,e)};class p{constructor(t){this.node=t}observeNodes(t){return new a(this.node,t)}unobserveNodes(t){t.disconnect()}notifyObserver(){}deepContains(t){if(Object(n.a)(this.node).contains(t))return!0;let e=t,i=t.ownerDocument;for(;e&&e!==i&&e!==this.node;)e=Object(n.a)(e).parentNode||Object(n.a)(e).host;return e===this.node}getOwnerRoot(){return Object(n.a)(this.node).getRootNode()}getDistributedNodes(){return"slot"===this.node.localName?Object(n.a)(this.node).assignedNodes({flatten:!0}):[]}getDestinationInsertionPoints(){let t=[],e=Object(n.a)(this.node).assignedSlot;for(;e;)t.push(e),e=Object(n.a)(e).assignedSlot;return t}importNode(t,e){let i=this.node instanceof Document?this.node:this.node.ownerDocument;return Object(n.a)(i).importNode(t,e)}getEffectiveChildNodes(){return a.getFlattenedNodes(this.node)}queryDistributedElements(t){let e=this.getEffectiveChildNodes(),i=[];for(let n,r=0,o=e.length;r<o&&(n=e[r]);r++)n.nodeType===Node.ELEMENT_NODE&&d(n,t)&&i.push(n);return i}get activeElement(){let t=this.node;return void 0!==t._activeElement?t._activeElement:t.activeElement}}function h(t,e){for(let i=0;i<e.length;i++){let n=e[i];Object.defineProperty(t,n,{get:function(){return this.node[n]},configurable:!0})}}class u{constructor(t){this.event=t}get rootTarget(){return this.path[0]}get localTarget(){return this.event.target}get path(){return this.event.composedPath()}}p.prototype.cloneNode,p.prototype.appendChild,p.prototype.insertBefore,p.prototype.removeChild,p.prototype.replaceChild,p.prototype.setAttribute,p.prototype.removeAttribute,p.prototype.querySelector,p.prototype.querySelectorAll,p.prototype.parentNode,p.prototype.firstChild,p.prototype.lastChild,p.prototype.nextSibling,p.prototype.previousSibling,p.prototype.firstElementChild,p.prototype.lastElementChild,p.prototype.nextElementSibling,p.prototype.previousElementSibling,p.prototype.childNodes,p.prototype.children,p.prototype.classList,p.prototype.textContent,p.prototype.innerHTML;let f=p;if(window.ShadyDOM&&window.ShadyDOM.inUse&&window.ShadyDOM.noPatch&&window.ShadyDOM.Wrapper){class t extends window.ShadyDOM.Wrapper{}Object.getOwnPropertyNames(p.prototype).forEach(e=>{"activeElement"!=e&&(t.prototype[e]=p.prototype[e])}),h(t.prototype,["classList"]),f=t,Object.defineProperties(u.prototype,{localTarget:{get(){return this.event.currentTarget},configurable:!0},path:{get(){return window.ShadyDOM.composedPath(this.event)},configurable:!0}})}else!function(t,e){for(let i=0;i<e.length;i++){let n=e[i];t[n]=function(){return this.node[n].apply(this.node,arguments)}}}(p.prototype,["cloneNode","appendChild","insertBefore","removeChild","replaceChild","setAttribute","removeAttribute","querySelector","querySelectorAll"]),h(p.prototype,["parentNode","firstChild","lastChild","nextSibling","previousSibling","firstElementChild","lastElementChild","nextElementSibling","previousElementSibling","childNodes","children","classList"]),function(t,e){for(let i=0;i<e.length;i++){let n=e[i];Object.defineProperty(t,n,{get:function(){return this.node[n]},set:function(t){this.node[n]=t},configurable:!0})}}(p.prototype,["textContent","innerHTML"]);const _=function(t){if((t=t||document)instanceof f)return t;if(t instanceof u)return t;let e=t.__domApi;return e||(e=t instanceof Event?new u(t):new f(t),t.__domApi=e),e}},function(t,e,i){"use strict";i.d(e,"i",(function(){return r})),i.d(e,"d",(function(){return o})),i.d(e,"e",(function(){return s})),i.d(e,"c",(function(){return a})),i.d(e,"f",(function(){return l})),i.d(e,"g",(function(){return c})),i.d(e,"a",(function(){return d})),i.d(e,"b",(function(){return p})),i.d(e,"h",(function(){return h}));i(7);var n=i(18);
/**
@license
Copyright (c) 2017 The Polymer Project Authors. All rights reserved.
This code may only be used under the BSD style license found at http://polymer.github.io/LICENSE.txt
The complete set of authors may be found at http://polymer.github.io/AUTHORS.txt
The complete set of contributors may be found at http://polymer.github.io/CONTRIBUTORS.txt
Code distributed by Google as part of the polymer project is also
subject to an additional IP rights grant found at http://polymer.github.io/PATENTS.txt
*/
const r=!window.ShadyDOM;Boolean(!window.ShadyCSS||window.ShadyCSS.nativeCss),window.customElements.polyfillWrapFlushCallback;let o=Object(n.a)(document.baseURI||window.location.href);let s=window.Polymer&&window.Polymer.sanitizeDOMValue||void 0;let a=!1;const l=function(t){a=t};let c=!1;let d=!1;let p=!1;let h=!1},function(t,e,i){"use strict";i.d(e,"b",(function(){return K.a})),i.d(e,"a",(function(){return W}));var n=i(33),r=(i(11),i(7),i(31)),o=i(10);
/**
@license
Copyright (c) 2017 The Polymer Project Authors. All rights reserved.
This code may only be used under the BSD style license found at http://polymer.github.io/LICENSE.txt
The complete set of authors may be found at http://polymer.github.io/AUTHORS.txt
The complete set of contributors may be found at http://polymer.github.io/CONTRIBUTORS.txt
Code distributed by Google as part of the polymer project is also
subject to an additional IP rights grant found at http://polymer.github.io/PATENTS.txt
*/
function s(t,e,i,n,r){let o;r&&(o="object"==typeof i&&null!==i,o&&(n=t.__dataTemp[e]));let s=n!==i&&(n==n||i==i);return o&&s&&(t.__dataTemp[e]=i),s}const a=Object(o.a)(t=>class extends t{_shouldPropertyChange(t,e,i){return s(this,t,e,i,!0)}}),l=Object(o.a)(t=>class extends t{static get properties(){return{mutableData:Boolean}}_shouldPropertyChange(t,e,i){return s(this,t,e,i,this.mutableData)}});a._mutablePropertyChange=s;var c=i(5),d=i(0);
/**
@license
Copyright (c) 2017 The Polymer Project Authors. All rights reserved.
This code may only be used under the BSD style license found at http://polymer.github.io/LICENSE.txt
The complete set of authors may be found at http://polymer.github.io/AUTHORS.txt
The complete set of contributors may be found at http://polymer.github.io/CONTRIBUTORS.txt
Code distributed by Google as part of the polymer project is also
subject to an additional IP rights grant found at http://polymer.github.io/PATENTS.txt
*/
let p=null;function h(){return p}h.prototype=Object.create(HTMLTemplateElement.prototype,{constructor:{value:h,writable:!0}});const u=Object(r.a)(h),f=a(u);const _=Object(r.a)(class{});class m extends _{constructor(t){super(),this._configureProperties(t),this.root=this._stampTemplate(this.__dataHost);let e=this.children=[];for(let t=this.root.firstChild;t;t=t.nextSibling)e.push(t),t.__templatizeInstance=this;this.__templatizeOwner&&this.__templatizeOwner.__hideTemplateChildren__&&this._showHideChildren(!0);let i=this.__templatizeOptions;(t&&i.instanceProps||!i.instanceProps)&&this._enableProperties()}_configureProperties(t){if(this.__templatizeOptions.forwardHostProp)for(let t in this.__hostProps)this._setPendingProperty(t,this.__dataHost["_host_"+t]);for(let e in t)this._setPendingProperty(e,t[e])}forwardHostProp(t,e){this._setPendingPropertyOrPath(t,e,!1,!0)&&this.__dataHost._enqueueClient(this)}_addEventListenerToNode(t,e,i){if(this._methodHost&&this.__templatizeOptions.parentModel)this._methodHost._addEventListenerToNode(t,e,t=>{t.model=this,i(t)});else{let n=this.__dataHost.__dataHost;n&&n._addEventListenerToNode(t,e,i)}}_showHideChildren(t){let e=this.children;for(let i=0;i<e.length;i++){let n=e[i];if(Boolean(t)!=Boolean(n.__hideTemplateChildren__))if(n.nodeType===Node.TEXT_NODE)t?(n.__polymerTextContent__=n.textContent,n.textContent=""):n.textContent=n.__polymerTextContent__;else if("slot"===n.localName)if(t)n.__polymerReplaced__=document.createComment("hidden-slot"),Object(d.a)(Object(d.a)(n).parentNode).replaceChild(n.__polymerReplaced__,n);else{const t=n.__polymerReplaced__;t&&Object(d.a)(Object(d.a)(t).parentNode).replaceChild(n,t)}else n.style&&(t?(n.__polymerDisplay__=n.style.display,n.style.display="none"):n.style.display=n.__polymerDisplay__);n.__hideTemplateChildren__=t,n._showHideChildren&&n._showHideChildren(t)}}_setUnmanagedPropertyToNode(t,e,i){t.__hideTemplateChildren__&&t.nodeType==Node.TEXT_NODE&&"textContent"==e?t.__polymerTextContent__=i:super._setUnmanagedPropertyToNode(t,e,i)}get parentModel(){let t=this.__parentModel;if(!t){let e;t=this;do{t=t.__dataHost.__dataHost}while((e=t.__templatizeOptions)&&!e.parentModel);this.__parentModel=t}return t}dispatchEvent(t){return!0}}m.prototype.__dataHost,m.prototype.__templatizeOptions,m.prototype._methodHost,m.prototype.__templatizeOwner,m.prototype.__hostProps;const b=a(m);function y(t){let e=t.__dataHost;return e&&e._methodHost||e}function g(t,e,i){let n=i.mutableData?b:m;S.mixin&&(n=S.mixin(n));let r=class extends n{};return r.prototype.__templatizeOptions=i,r.prototype._bindTemplate(t),function(t,e,i,n){let r=i.hostProps||{};for(let e in n.instanceProps){delete r[e];let i=n.notifyInstanceProp;i&&t.prototype._addPropertyEffect(e,t.prototype.PROPERTY_EFFECT_TYPES.NOTIFY,{fn:x(e,i)})}if(n.forwardHostProp&&e.__dataHost)for(let e in r)t.prototype._addPropertyEffect(e,t.prototype.PROPERTY_EFFECT_TYPES.NOTIFY,{fn:function(t,e,i){t.__dataHost._setPendingPropertyOrPath("_host_"+e,i[e],!0,!0)}})}(r,t,e,i),r}function v(t,e,i){let n=i.forwardHostProp;if(n){let r=e.templatizeTemplateClass;if(!r){let t=i.mutableData?f:u;r=e.templatizeTemplateClass=class extends t{};let o=e.hostProps;for(let t in o)r.prototype._addPropertyEffect("_host_"+t,r.prototype.PROPERTY_EFFECT_TYPES.PROPAGATE,{fn:w(t,n)}),r.prototype._createNotifyingProperty("_host_"+t)}!function(t,e){p=t,Object.setPrototypeOf(t,e.prototype),new e,p=null}(t,r),t.__dataProto&&Object.assign(t.__data,t.__dataProto),t.__dataTemp={},t.__dataPending=null,t.__dataOld=null,t._enableProperties()}}function w(t,e){return function(t,i,n){e.call(t.__templatizeOwner,i.substring("_host_".length),n[i])}}function x(t,e){return function(t,i,n){e.call(t.__templatizeOwner,t,i,n[i])}}function S(t,e,i){if(c.g&&!y(t))throw new Error("strictTemplatePolicy: template owner not trusted");if(i=i||{},t.__templatizeOwner)throw new Error("A <template> can only be templatized once");t.__templatizeOwner=e;let n=(e?e.constructor:m)._parseTemplate(t),r=n.templatizeInstanceClass;r||(r=g(t,n,i),n.templatizeInstanceClass=r),v(t,n,i);let o=class extends r{};return o.prototype._methodHost=y(t),o.prototype.__dataHost=t,o.prototype.__templatizeOwner=e,o.prototype.__hostProps=n.hostProps,o=o,o}function C(t,e){let i;for(;e;)if(i=e.__templatizeInstance){if(i.__dataHost==t)return i;e=i.__dataHost}else e=Object(d.a)(e).parentNode;return null}
/**
@license
Copyright (c) 2017 The Polymer Project Authors. All rights reserved.
This code may only be used under the BSD style license found at http://polymer.github.io/LICENSE.txt
The complete set of authors may be found at http://polymer.github.io/AUTHORS.txt
The complete set of contributors may be found at http://polymer.github.io/CONTRIBUTORS.txt
Code distributed by Google as part of the polymer project is also
subject to an additional IP rights grant found at http://polymer.github.io/PATENTS.txt
*/var k=i(39);
/**
@license
Copyright (c) 2017 The Polymer Project Authors. All rights reserved.
This code may only be used under the BSD style license found at http://polymer.github.io/LICENSE.txt
The complete set of authors may be found at http://polymer.github.io/AUTHORS.txt
The complete set of contributors may be found at http://polymer.github.io/CONTRIBUTORS.txt
Code distributed by Google as part of the polymer project is also
subject to an additional IP rights grant found at http://polymer.github.io/PATENTS.txt
*/const P=Object(k.a)(l(Object(r.a)(HTMLElement)));customElements.define("dom-bind",class extends P{static get observedAttributes(){return["mutable-data"]}constructor(){if(super(),c.g)throw new Error("strictTemplatePolicy: dom-bind not allowed");this.root=null,this.$=null,this.__children=null}attributeChangedCallback(){this.mutableData=!0}connectedCallback(){this.style.display="none",this.render()}disconnectedCallback(){this.__removeChildren()}__insertChildren(){Object(d.a)(Object(d.a)(this).parentNode).insertBefore(this.root,this)}__removeChildren(){if(this.__children)for(let t=0;t<this.__children.length;t++)this.root.appendChild(this.__children[t])}render(){let t;if(!this.__children){if(t=t||this.querySelector("template"),!t){let e=new MutationObserver(()=>{if(t=this.querySelector("template"),!t)throw new Error("dom-bind requires a <template> child");e.disconnect(),this.render()});return void e.observe(this,{childList:!0})}this.root=this._stampTemplate(t),this.$=this.root.$,this.__children=[];for(let t=this.root.firstChild;t;t=t.nextSibling)this.__children[this.__children.length]=t;this._enableProperties()}this.__insertChildren(),this.dispatchEvent(new CustomEvent("dom-change",{bubbles:!0,composed:!0}))}});var E=i(28),O=i(16),T=i(20),A=i(2),N=i(12);
/**
@license
Copyright (c) 2017 The Polymer Project Authors. All rights reserved.
This code may only be used under the BSD style license found at http://polymer.github.io/LICENSE.txt
The complete set of authors may be found at http://polymer.github.io/AUTHORS.txt
The complete set of contributors may be found at http://polymer.github.io/CONTRIBUTORS.txt
Code distributed by Google as part of the polymer project is also
subject to an additional IP rights grant found at http://polymer.github.io/PATENTS.txt
*/
const M=l(E.a);class z extends M{static get is(){return"dom-repeat"}static get template(){return null}static get properties(){return{items:{type:Array},as:{type:String,value:"item"},indexAs:{type:String,value:"index"},itemsIndexAs:{type:String,value:"itemsIndex"},sort:{type:Function,observer:"__sortChanged"},filter:{type:Function,observer:"__filterChanged"},observe:{type:String,observer:"__observeChanged"},delay:Number,renderedItemCount:{type:Number,notify:!0,readOnly:!0},initialCount:{type:Number,observer:"__initializeChunking"},targetFramerate:{type:Number,value:20},_targetFrameTime:{type:Number,computed:"__computeFrameTime(targetFramerate)"}}}static get observers(){return["__itemsChanged(items.*)"]}constructor(){super(),this.__instances=[],this.__limit=1/0,this.__pool=[],this.__renderDebouncer=null,this.__itemsIdxToInstIdx={},this.__chunkCount=null,this.__lastChunkTime=null,this.__sortFn=null,this.__filterFn=null,this.__observePaths=null,this.__ctor=null,this.__isDetached=!0,this.template=null}disconnectedCallback(){super.disconnectedCallback(),this.__isDetached=!0;for(let t=0;t<this.__instances.length;t++)this.__detachInstance(t)}connectedCallback(){if(super.connectedCallback(),this.style.display="none",this.__isDetached){this.__isDetached=!1;let t=Object(d.a)(Object(d.a)(this).parentNode);for(let e=0;e<this.__instances.length;e++)this.__attachInstance(e,t)}}__ensureTemplatized(){if(!this.__ctor){let t=this.template=this.querySelector("template");if(!t){let t=new MutationObserver(()=>{if(!this.querySelector("template"))throw new Error("dom-repeat requires a <template> child");t.disconnect(),this.__render()});return t.observe(this,{childList:!0}),!1}let e={};e[this.as]=!0,e[this.indexAs]=!0,e[this.itemsIndexAs]=!0,this.__ctor=S(t,this,{mutableData:this.mutableData,parentModel:!0,instanceProps:e,forwardHostProp:function(t,e){let i=this.__instances;for(let n,r=0;r<i.length&&(n=i[r]);r++)n.forwardHostProp(t,e)},notifyInstanceProp:function(t,e,i){if(Object(A.e)(this.as,e)){let n=t[this.itemsIndexAs];e==this.as&&(this.items[n]=i);let r=Object(A.i)(this.as,`${JSCompiler_renameProperty("items",this)}.${n}`,e);this.notifyPath(r,i)}}})}return!0}__getMethodHost(){return this.__dataHost._methodHost||this.__dataHost}__functionFromPropertyValue(t){if("string"==typeof t){let e=t,i=this.__getMethodHost();return function(){return i[e].apply(i,arguments)}}return t}__sortChanged(t){this.__sortFn=this.__functionFromPropertyValue(t),this.items&&this.__debounceRender(this.__render)}__filterChanged(t){this.__filterFn=this.__functionFromPropertyValue(t),this.items&&this.__debounceRender(this.__render)}__computeFrameTime(t){return Math.ceil(1e3/t)}__initializeChunking(){this.initialCount&&(this.__limit=this.initialCount,this.__chunkCount=this.initialCount,this.__lastChunkTime=performance.now())}__tryRenderChunk(){this.items&&this.__limit<this.items.length&&this.__debounceRender(this.__requestRenderChunk)}__requestRenderChunk(){requestAnimationFrame(()=>this.__renderChunk())}__renderChunk(){let t=performance.now(),e=this._targetFrameTime/(t-this.__lastChunkTime);this.__chunkCount=Math.round(this.__chunkCount*e)||1,this.__limit+=this.__chunkCount,this.__lastChunkTime=t,this.__debounceRender(this.__render)}__observeChanged(){this.__observePaths=this.observe&&this.observe.replace(".*",".").split(" ")}__itemsChanged(t){this.items&&!Array.isArray(this.items)&&console.warn("dom-repeat expected array for `items`, found",this.items),this.__handleItemPath(t.path,t.value)||(this.__initializeChunking(),this.__debounceRender(this.__render))}__handleObservedPaths(t){if(this.__sortFn||this.__filterFn)if(t){if(this.__observePaths){let e=this.__observePaths;for(let i=0;i<e.length;i++)0===t.indexOf(e[i])&&this.__debounceRender(this.__render,this.delay)}}else this.__debounceRender(this.__render,this.delay)}__debounceRender(t,e=0){this.__renderDebouncer=O.a.debounce(this.__renderDebouncer,e>0?N.c.after(e):N.b,t.bind(this)),Object(T.a)(this.__renderDebouncer)}render(){this.__debounceRender(this.__render),Object(T.b)()}__render(){this.__ensureTemplatized()&&(this.__applyFullRefresh(),this.__pool.length=0,this._setRenderedItemCount(this.__instances.length),this.dispatchEvent(new CustomEvent("dom-change",{bubbles:!0,composed:!0})),this.__tryRenderChunk())}__applyFullRefresh(){let t=this.items||[],e=new Array(t.length);for(let i=0;i<t.length;i++)e[i]=i;this.__filterFn&&(e=e.filter((e,i,n)=>this.__filterFn(t[e],i,n))),this.__sortFn&&e.sort((e,i)=>this.__sortFn(t[e],t[i]));const i=this.__itemsIdxToInstIdx={};let n=0;const r=Math.min(e.length,this.__limit);for(;n<r;n++){let r=this.__instances[n],o=e[n],s=t[o];i[o]=n,r?(r._setPendingProperty(this.as,s),r._setPendingProperty(this.indexAs,n),r._setPendingProperty(this.itemsIndexAs,o),r._flushProperties()):this.__insertInstance(s,n,o)}for(let t=this.__instances.length-1;t>=n;t--)this.__detachAndRemoveInstance(t)}__detachInstance(t){let e=this.__instances[t];const i=Object(d.a)(e.root);for(let t=0;t<e.children.length;t++){let n=e.children[t];i.appendChild(n)}return e}__attachInstance(t,e){let i=this.__instances[t];e.insertBefore(i.root,this)}__detachAndRemoveInstance(t){let e=this.__detachInstance(t);e&&this.__pool.push(e),this.__instances.splice(t,1)}__stampInstance(t,e,i){let n={};return n[this.as]=t,n[this.indexAs]=e,n[this.itemsIndexAs]=i,new this.__ctor(n)}__insertInstance(t,e,i){let n=this.__pool.pop();n?(n._setPendingProperty(this.as,t),n._setPendingProperty(this.indexAs,e),n._setPendingProperty(this.itemsIndexAs,i),n._flushProperties()):n=this.__stampInstance(t,e,i);let r=this.__instances[e+1],o=r?r.children[0]:this;return Object(d.a)(Object(d.a)(this).parentNode).insertBefore(n.root,o),this.__instances[e]=n,n}_showHideChildren(t){for(let e=0;e<this.__instances.length;e++)this.__instances[e]._showHideChildren(t)}__handleItemPath(t,e){let i=t.slice(6),n=i.indexOf("."),r=n<0?i:i.substring(0,n);if(r==parseInt(r,10)){let t=n<0?"":i.substring(n+1);this.__handleObservedPaths(t);let o=this.__itemsIdxToInstIdx[r],s=this.__instances[o];if(s){let i=this.as+(t?"."+t:"");s._setPendingPropertyOrPath(i,e,!1,!0),s._flushProperties()}return!0}}itemForElement(t){let e=this.modelForElement(t);return e&&e[this.as]}indexForElement(t){let e=this.modelForElement(t);return e&&e[this.indexAs]}modelForElement(t){return C(this.template,t)}}customElements.define(z.is,z);
/**
@license
Copyright (c) 2017 The Polymer Project Authors. All rights reserved.
This code may only be used under the BSD style license found at http://polymer.github.io/LICENSE.txt
The complete set of authors may be found at http://polymer.github.io/AUTHORS.txt
The complete set of contributors may be found at http://polymer.github.io/CONTRIBUTORS.txt
Code distributed by Google as part of the polymer project is also
subject to an additional IP rights grant found at http://polymer.github.io/PATENTS.txt
*/
class I extends E.a{static get is(){return"dom-if"}static get template(){return null}static get properties(){return{if:{type:Boolean,observer:"__debounceRender"},restamp:{type:Boolean,observer:"__debounceRender"}}}constructor(){super(),this.__renderDebouncer=null,this.__invalidProps=null,this.__instance=null,this._lastIf=!1,this.__ctor=null,this.__hideTemplateChildren__=!1}__debounceRender(){this.__renderDebouncer=O.a.debounce(this.__renderDebouncer,N.b,()=>this.__render()),Object(T.a)(this.__renderDebouncer)}disconnectedCallback(){super.disconnectedCallback();const t=Object(d.a)(this).parentNode;t&&(t.nodeType!=Node.DOCUMENT_FRAGMENT_NODE||Object(d.a)(t).host)||this.__teardownInstance()}connectedCallback(){super.connectedCallback(),this.style.display="none",this.if&&this.__debounceRender()}render(){Object(T.b)()}__render(){if(this.if){if(!this.__ensureInstance())return;this._showHideChildren()}else this.restamp&&this.__teardownInstance();!this.restamp&&this.__instance&&this._showHideChildren(),this.if!=this._lastIf&&(this.dispatchEvent(new CustomEvent("dom-change",{bubbles:!0,composed:!0})),this._lastIf=this.if)}__ensureInstance(){let t=Object(d.a)(this).parentNode;if(t){if(!this.__ctor){let t=Object(d.a)(this).querySelector("template");if(!t){let t=new MutationObserver(()=>{if(!Object(d.a)(this).querySelector("template"))throw new Error("dom-if requires a <template> child");t.disconnect(),this.__render()});return t.observe(this,{childList:!0}),!1}this.__ctor=S(t,this,{mutableData:!0,forwardHostProp:function(t,e){this.__instance&&(this.if?this.__instance.forwardHostProp(t,e):(this.__invalidProps=this.__invalidProps||Object.create(null),this.__invalidProps[Object(A.g)(t)]=!0))}})}if(this.__instance){this.__syncHostProperties();let e=this.__instance.children;if(e&&e.length){if(Object(d.a)(this).previousSibling!==e[e.length-1])for(let i,n=0;n<e.length&&(i=e[n]);n++)Object(d.a)(t).insertBefore(i,this)}}else this.__instance=new this.__ctor,Object(d.a)(t).insertBefore(this.__instance.root,this)}return!0}__syncHostProperties(){let t=this.__invalidProps;if(t){for(let e in t)this.__instance._setPendingProperty(e,this.__dataHost[e]);this.__invalidProps=null,this.__instance._flushProperties()}}__teardownInstance(){if(this.__instance){let t=this.__instance.children;if(t&&t.length){let e=Object(d.a)(t[0]).parentNode;if(e){e=Object(d.a)(e);for(let i,n=0;n<t.length&&(i=t[n]);n++)e.removeChild(i)}}this.__instance=null,this.__invalidProps=null}}_showHideChildren(){let t=this.__hideTemplateChildren__||!this.if;this.__instance&&this.__instance._showHideChildren(t)}}customElements.define(I.is,I);var L=i(40),R=i(30);
/**
@license
Copyright (c) 2017 The Polymer Project Authors. All rights reserved.
This code may only be used under the BSD style license found at http://polymer.github.io/LICENSE.txt
The complete set of authors may be found at http://polymer.github.io/AUTHORS.txt
The complete set of contributors may be found at http://polymer.github.io/CONTRIBUTORS.txt
Code distributed by Google as part of the polymer project is also
subject to an additional IP rights grant found at http://polymer.github.io/PATENTS.txt
*/
let j=Object(o.a)(t=>{let e=Object(R.a)(t);return class extends e{static get properties(){return{items:{type:Array},multi:{type:Boolean,value:!1},selected:{type:Object,notify:!0},selectedItem:{type:Object,notify:!0},toggle:{type:Boolean,value:!1}}}static get observers(){return["__updateSelection(multi, items.*)"]}constructor(){super(),this.__lastItems=null,this.__lastMulti=null,this.__selectedMap=null}__updateSelection(t,e){let i=e.path;if(i==JSCompiler_renameProperty("items",this)){let i=e.base||[],n=this.__lastItems;if(t!==this.__lastMulti&&this.clearSelection(),n){let t=Object(L.a)(i,n);this.__applySplices(t)}this.__lastItems=i,this.__lastMulti=t}else if(e.path==JSCompiler_renameProperty("items",this)+".splices")this.__applySplices(e.value.indexSplices);else{let t=i.slice((JSCompiler_renameProperty("items",this)+".").length),e=parseInt(t,10);t.indexOf(".")<0&&t==e&&this.__deselectChangedIdx(e)}}__applySplices(t){let e=this.__selectedMap;for(let i=0;i<t.length;i++){let n=t[i];e.forEach((t,i)=>{t<n.index||(t>=n.index+n.removed.length?e.set(i,t+n.addedCount-n.removed.length):e.set(i,-1))});for(let t=0;t<n.addedCount;t++){let i=n.index+t;e.has(this.items[i])&&e.set(this.items[i],i)}}this.__updateLinks();let i=0;e.forEach((t,n)=>{t<0?(this.multi?this.splice(JSCompiler_renameProperty("selected",this),i,1):this.selected=this.selectedItem=null,e.delete(n)):i++})}__updateLinks(){if(this.__dataLinkedPaths={},this.multi){let t=0;this.__selectedMap.forEach(e=>{e>=0&&this.linkPaths(`${JSCompiler_renameProperty("items",this)}.${e}`,`${JSCompiler_renameProperty("selected",this)}.${t++}`)})}else this.__selectedMap.forEach(t=>{this.linkPaths(JSCompiler_renameProperty("selected",this),`${JSCompiler_renameProperty("items",this)}.${t}`),this.linkPaths(JSCompiler_renameProperty("selectedItem",this),`${JSCompiler_renameProperty("items",this)}.${t}`)})}clearSelection(){this.__dataLinkedPaths={},this.__selectedMap=new Map,this.selected=this.multi?[]:null,this.selectedItem=null}isSelected(t){return this.__selectedMap.has(t)}isIndexSelected(t){return this.isSelected(this.items[t])}__deselectChangedIdx(t){let e=this.__selectedIndexForItemIndex(t);if(e>=0){let t=0;this.__selectedMap.forEach((i,n)=>{e==t++&&this.deselect(n)})}}__selectedIndexForItemIndex(t){let e=this.__dataLinkedPaths[`${JSCompiler_renameProperty("items",this)}.${t}`];if(e)return parseInt(e.slice((JSCompiler_renameProperty("selected",this)+".").length),10)}deselect(t){let e=this.__selectedMap.get(t);if(e>=0){let i;this.__selectedMap.delete(t),this.multi&&(i=this.__selectedIndexForItemIndex(e)),this.__updateLinks(),this.multi?this.splice(JSCompiler_renameProperty("selected",this),i,1):this.selected=this.selectedItem=null}}deselectIndex(t){this.deselect(this.items[t])}select(t){this.selectIndex(this.items.indexOf(t))}selectIndex(t){let e=this.items[t];this.isSelected(e)?this.toggle&&this.deselectIndex(t):(this.multi||this.__selectedMap.clear(),this.__selectedMap.set(e,t),this.__updateLinks(),this.multi?this.push(JSCompiler_renameProperty("selected",this),e):this.selected=this.selectedItem=e)}}})(E.a);class D extends j{static get is(){return"array-selector"}static get template(){return null}}customElements.define(D.is,D);var H=i(45),B=i(27),F=i(13);
/**
@license
Copyright (c) 2017 The Polymer Project Authors. All rights reserved.
This code may only be used under the BSD style license found at http://polymer.github.io/LICENSE.txt
The complete set of authors may be found at http://polymer.github.io/AUTHORS.txt
The complete set of contributors may be found at http://polymer.github.io/CONTRIBUTORS.txt
Code distributed by Google as part of the polymer project is also
subject to an additional IP rights grant found at http://polymer.github.io/PATENTS.txt
*/
const V=new H.a;window.ShadyCSS||(window.ShadyCSS={prepareTemplate(t,e,i){},prepareTemplateDom(t,e){},prepareTemplateStyles(t,e,i){},styleSubtree(t,e){V.processStyles(),Object(B.c)(t,e)},styleElement(t){V.processStyles()},styleDocument(t){V.processStyles(),Object(B.c)(document.body,t)},getComputedStyleValue:(t,e)=>Object(B.b)(t,e),flushCustomStyles(){},nativeCss:F.c,nativeShadow:F.d,cssBuild:F.a,disableRuntime:F.b}),window.ShadyCSS.CustomStyleInterface=V;var $=i(35);
/**
@license
Copyright (c) 2017 The Polymer Project Authors. All rights reserved.
This code may only be used under the BSD style license found at http://polymer.github.io/LICENSE.txt
The complete set of authors may be found at http://polymer.github.io/AUTHORS.txt
The complete set of contributors may be found at http://polymer.github.io/CONTRIBUTORS.txt
Code distributed by Google as part of the polymer project is also
subject to an additional IP rights grant found at http://polymer.github.io/PATENTS.txt
*/const q=window.ShadyCSS.CustomStyleInterface;class U extends HTMLElement{constructor(){super(),this._style=null,q.addCustomStyle(this)}getStyle(){if(this._style)return this._style;const t=this.querySelector("style");if(!t)return null;this._style=t;const e=t.getAttribute("include");return e&&(t.removeAttribute("include"),t.textContent=Object($.a)(e)+t.textContent),this.ownerDocument!==window.document&&window.document.head.appendChild(this),this._style}}
/**
@license
Copyright (c) 2017 The Polymer Project Authors. All rights reserved.
This code may only be used under the BSD style license found at http://polymer.github.io/LICENSE.txt
The complete set of authors may be found at http://polymer.github.io/AUTHORS.txt
The complete set of contributors may be found at http://polymer.github.io/CONTRIBUTORS.txt
Code distributed by Google as part of the polymer project is also
subject to an additional IP rights grant found at http://polymer.github.io/PATENTS.txt
*/
let Y;window.customElements.define("custom-style",U),Y=a._mutablePropertyChange;Boolean;var K=i(3);
/**
@license
Copyright (c) 2017 The Polymer Project Authors. All rights reserved.
This code may only be used under the BSD style license found at http://polymer.github.io/LICENSE.txt
The complete set of authors may be found at http://polymer.github.io/AUTHORS.txt
The complete set of contributors may be found at http://polymer.github.io/CONTRIBUTORS.txt
Code distributed by Google as part of the polymer project is also
subject to an additional IP rights grant found at http://polymer.github.io/PATENTS.txt
*/const W=Object(n.a)(HTMLElement).prototype},function(t,e,i){"use strict";
/**
@license
Copyright (c) 2017 The Polymer Project Authors. All rights reserved.
This code may only be used under the BSD style license found at http://polymer.github.io/LICENSE.txt
The complete set of authors may be found at http://polymer.github.io/AUTHORS.txt
The complete set of contributors may be found at http://polymer.github.io/CONTRIBUTORS.txt
Code distributed by Google as part of the polymer project is also
subject to an additional IP rights grant found at http://polymer.github.io/PATENTS.txt
*/window.JSCompiler_renameProperty=function(t,e){return t}},function(t,e,i){"use strict";i.d(e,"a",(function(){return r}));var n=i(1);i.d(e,"c",(function(){return n.c})),i.d(e,"b",(function(){return n.b}));const r=class extends n.a{constructor(){super(),this.$={}}_(t){return this.shadowRoot.getElementById(t)}$$(t){return this.shadowRoot.querySelector(t)}$$$(t){return this.shadowRoot.querySelectorAll(t)}mapIDs(){let t=this.shadowRoot.querySelectorAll("[id]");for(let e=0;e<t.length;e++)this.$[t[e].id]=t[e]}set(t,e){this[t]=e,this.dispatchEvent(new CustomEvent(t,{detail:e}))}fire(t,e,i=!1){i?this.dispatchEvent(new CustomEvent(t,{detail:e,bubbles:!0,composed:!0})):this.dispatchEvent(new CustomEvent(t,{detail:e}))}push(t,e){this[t].push(e),this.requestUpdate()}isObject(t){return null!==t&&("function"==typeof t||"object"==typeof t)}isFunction(t){return t&&"[object Function]"==={}.toString.call(t)}isObjectEmpty(t){return this.isObject(t)&&0===Object.keys(t).length}bind(t,e){return i=>{try{let n=this,r=t.split("."),o=r.length;for(let t=0;t<o-1;t++){let e=r[t];n[e]||(n[e]={}),n=n[e]}n?n[r[o-1]]=null==e?i.detail:i.detail[e]:console.log("no hay schema para",t)}catch(i){console.error("Error in 2-way DataBinding",i)}}}scrollTo(){this.scrollToY()}scrollToY(t=0,e=600,i="easeOutSine",n=OpticApp.ScrollTarget){let r=0;const o=e/1e3,s={easeOutSine:t=>Math.sin(t*(Math.PI/2)),easeInOutSine:t=>-.5*(Math.cos(Math.PI*t)-1),easeInOutQuint:t=>(t/=.5)<1?.5*Math.pow(t,5):.5*(Math.pow(t-2,5)+2)};!function e(){r+=1/60;const a=r/o,l=s[i](a),c=n.pageYOffset||n.scrollTop||0,d=c+(t-c)*l;a<1&&(window.requestAnimationFrame(e),n.scrollTop=d)}()}toggleAddRemoveClasses(t,e,i=0){let n=t||"",r=e||"";if(("string"==typeof r||Array.isArray(r))&&r.length){let t=n.classList;Array.isArray(r)||(r=r.replace(/(,\s*|\s+)/g," ").split(" "));for(let e of r)switch(i){case 0:t.toggle(e);break;case 1:t.add(e);break;case 2:t.remove(e)}return!0}}}},function(t,e,i){"use strict";i.d(e,"f",(function(){return n})),i.d(e,"g",(function(){return r})),i.d(e,"b",(function(){return s})),i.d(e,"a",(function(){return a})),i.d(e,"d",(function(){return l})),i.d(e,"c",(function(){return c})),i.d(e,"e",(function(){return d}));
/**
 * @license
 * Copyright (c) 2017 The Polymer Project Authors. All rights reserved.
 * This code may only be used under the BSD style license found at
 * http://polymer.github.io/LICENSE.txt
 * The complete set of authors may be found at
 * http://polymer.github.io/AUTHORS.txt
 * The complete set of contributors may be found at
 * http://polymer.github.io/CONTRIBUTORS.txt
 * Code distributed by Google as part of the polymer project is also
 * subject to an additional IP rights grant found at
 * http://polymer.github.io/PATENTS.txt
 */
const n=`{{lit-${String(Math.random()).slice(2)}}}`,r=`\x3c!--${n}--\x3e`,o=new RegExp(`${n}|${r}`),s="$lit$";class a{constructor(t,e){this.parts=[],this.element=e;let i=-1,r=0;const a=[],l=e=>{const p=e.content,h=document.createTreeWalker(p,133,null,!1);let u=0;for(;h.nextNode();){i++;const e=h.currentNode;if(1===e.nodeType){if(e.hasAttributes()){const a=e.attributes;let l=0;for(let t=0;t<a.length;t++)a[t].value.indexOf(n)>=0&&l++;for(;l-- >0;){const n=t.strings[r],a=d.exec(n)[2],l=a.toLowerCase()+s,c=e.getAttribute(l).split(o);this.parts.push({type:"attribute",index:i,name:a,strings:c}),e.removeAttribute(l),r+=c.length-1}}"TEMPLATE"===e.tagName&&l(e)}else if(3===e.nodeType){const t=e.data;if(t.indexOf(n)>=0){const n=e.parentNode,s=t.split(o),l=s.length-1;for(let t=0;t<l;t++)n.insertBefore(""===s[t]?c():document.createTextNode(s[t]),e),this.parts.push({type:"node",index:++i});""===s[l]?(n.insertBefore(c(),e),a.push(e)):e.data=s[l],r+=l}}else if(8===e.nodeType)if(e.data===n){const t=e.parentNode;null!==e.previousSibling&&i!==u||(i++,t.insertBefore(c(),e)),u=i,this.parts.push({type:"node",index:i}),null===e.nextSibling?e.data="":(a.push(e),i--),r++}else{let t=-1;for(;-1!==(t=e.data.indexOf(n,t+1));)this.parts.push({type:"node",index:-1})}}};l(e);for(const t of a)t.parentNode.removeChild(t)}}const l=t=>-1!==t.index,c=()=>document.createComment(""),d=/([ \x09\x0a\x0c\x0d])([^\0-\x1F\x7F-\x9F \x09\x0a\x0c\x0d"'>=/]+)([ \x09\x0a\x0c\x0d]*=[ \x09\x0a\x0c\x0d]*(?:[^ \x09\x0a\x0c\x0d"'`<>=]*|"[^"]*|'[^']*))$/},function(t,e,i){"use strict";i.d(e,"a",(function(){return o}));i(7);
/**
@license
Copyright (c) 2017 The Polymer Project Authors. All rights reserved.
This code may only be used under the BSD style license found at http://polymer.github.io/LICENSE.txt
The complete set of authors may be found at http://polymer.github.io/AUTHORS.txt
The complete set of contributors may be found at http://polymer.github.io/CONTRIBUTORS.txt
Code distributed by Google as part of the polymer project is also
subject to an additional IP rights grant found at http://polymer.github.io/PATENTS.txt
*/let n=0;function r(){}r.prototype.__mixinApplications,r.prototype.__mixinSet;const o=function(t){let e=t.__mixinApplications;e||(e=new WeakMap,t.__mixinApplications=e);let i=n++;return function(n){let r=n.__mixinSet;if(r&&r[i])return n;let o=e,s=o.get(n);s||(s=t(n),o.set(n,s));let a=Object.create(s.__mixinSet||r||null);return a[i]=!0,s.__mixinSet=a,s}}},function(t,e,i){"use strict";i.d(e,"a",(function(){return p}));var n=i(33),r=i(5);
/**
@license
Copyright (c) 2017 The Polymer Project Authors. All rights reserved.
This code may only be used under the BSD style license found at http://polymer.github.io/LICENSE.txt
The complete set of authors may be found at http://polymer.github.io/AUTHORS.txt
The complete set of contributors may be found at http://polymer.github.io/CONTRIBUTORS.txt
Code distributed by Google as part of the polymer project is also
subject to an additional IP rights grant found at http://polymer.github.io/PATENTS.txt
*/
const o={attached:!0,detached:!0,ready:!0,created:!0,beforeRegister:!0,registered:!0,attributeChanged:!0,listeners:!0,hostAttributes:!0},s={attached:!0,detached:!0,ready:!0,created:!0,beforeRegister:!0,registered:!0,attributeChanged:!0,behaviors:!0,_noAccessors:!0},a=Object.assign({listeners:!0,hostAttributes:!0,properties:!0,observers:!0},s);function l(t,e,i,n){!function(t,e,i){const n=t._noAccessors,r=Object.getOwnPropertyNames(t);for(let o=0;o<r.length;o++){let s=r[o];if(!(s in i))if(n)e[s]=t[s];else{let i=Object.getOwnPropertyDescriptor(t,s);i&&(i.configurable=!0,Object.defineProperty(e,s,i))}}}(e,t,n);for(let t in o)e[t]&&(i[t]=i[t]||[],i[t].push(e[t]))}function c(t,e){for(const i in e){const n=t[i],r=e[i];t[i]=!("value"in r)&&n&&"value"in n?Object.assign({value:n.value},r):r}}function d(t,e,i){let n;const o={};class d extends e{static _finalizeClass(){if(this.hasOwnProperty(JSCompiler_renameProperty("generatedFrom",this))){if(n)for(let t,e=0;e<n.length;e++)t=n[e],t.properties&&this.createProperties(t.properties),t.observers&&this.createObservers(t.observers,t.properties);t.properties&&this.createProperties(t.properties),t.observers&&this.createObservers(t.observers,t.properties),this._prepareTemplate()}else super._finalizeClass()}static get properties(){const e={};if(n)for(let t=0;t<n.length;t++)c(e,n[t].properties);return c(e,t.properties),e}static get observers(){let e=[];if(n)for(let t,i=0;i<n.length;i++)t=n[i],t.observers&&(e=e.concat(t.observers));return t.observers&&(e=e.concat(t.observers)),e}created(){super.created();const t=o.created;if(t)for(let e=0;e<t.length;e++)t[e].call(this)}_registered(){const t=d.prototype;if(!t.hasOwnProperty("__hasRegisterFinished")){t.__hasRegisterFinished=!0,super._registered(),r.b&&p(t);const e=Object.getPrototypeOf(this);let i=o.beforeRegister;if(i)for(let t=0;t<i.length;t++)i[t].call(e);if(i=o.registered,i)for(let t=0;t<i.length;t++)i[t].call(e)}}_applyListeners(){super._applyListeners();const t=o.listeners;if(t)for(let e=0;e<t.length;e++){const i=t[e];if(i)for(let t in i)this._addMethodEventListenerToNode(this,t,i[t])}}_ensureAttributes(){const t=o.hostAttributes;if(t)for(let e=t.length-1;e>=0;e--){const i=t[e];for(let t in i)this._ensureAttribute(t,i[t])}super._ensureAttributes()}ready(){super.ready();let t=o.ready;if(t)for(let e=0;e<t.length;e++)t[e].call(this)}attached(){super.attached();let t=o.attached;if(t)for(let e=0;e<t.length;e++)t[e].call(this)}detached(){super.detached();let t=o.detached;if(t)for(let e=0;e<t.length;e++)t[e].call(this)}attributeChanged(t,e,i){super.attributeChanged();let n=o.attributeChanged;if(n)for(let r=0;r<n.length;r++)n[r].call(this,t,e,i)}}if(i){Array.isArray(i)||(i=[i]);let t=e.prototype.behaviors;n=function t(e,i,n){i=i||[];for(let r=e.length-1;r>=0;r--){let o=e[r];o?Array.isArray(o)?t(o,i):i.indexOf(o)<0&&(!n||n.indexOf(o)<0)&&i.unshift(o):console.warn("behavior is null, check for missing or 404 import")}return i}(i,null,t),d.prototype.behaviors=t?t.concat(i):n}const p=e=>{n&&function(t,e,i){for(let n=0;n<e.length;n++)l(t,e[n],i,a)}(e,n,o),l(e,t,o,s)};return r.b||p(d.prototype),d.generatedFrom=t,d}i(7);
/**
@license
Copyright (c) 2017 The Polymer Project Authors. All rights reserved.
This code may only be used under the BSD style license found at http://polymer.github.io/LICENSE.txt
The complete set of authors may be found at http://polymer.github.io/AUTHORS.txt
The complete set of contributors may be found at http://polymer.github.io/CONTRIBUTORS.txt
Code distributed by Google as part of the polymer project is also
subject to an additional IP rights grant found at http://polymer.github.io/PATENTS.txt
*/const p=function(t){let e;return e="function"==typeof t?t:p.Class(t),customElements.define(e.is,e),e};p.Class=function(t,e){t||console.warn("Polymer.Class requires `info` argument");let i=e?e(Object(n.a)(HTMLElement)):Object(n.a)(HTMLElement);return i=d(t,i,t.behaviors),i.is=i.prototype.is=t.is,i}},function(t,e,i){"use strict";i.d(e,"c",(function(){return l})),i.d(e,"a",(function(){return c})),i.d(e,"b",(function(){return d}));i(7);
/**
@license
Copyright (c) 2017 The Polymer Project Authors. All rights reserved.
This code may only be used under the BSD style license found at http://polymer.github.io/LICENSE.txt
The complete set of authors may be found at http://polymer.github.io/AUTHORS.txt
The complete set of contributors may be found at http://polymer.github.io/CONTRIBUTORS.txt
Code distributed by Google as part of the polymer project is also
subject to an additional IP rights grant found at http://polymer.github.io/PATENTS.txt
*/let n=0,r=0,o=[],s=0,a=document.createTextNode("");new window.MutationObserver((function(){const t=o.length;for(let e=0;e<t;e++){let t=o[e];if(t)try{t()}catch(t){setTimeout(()=>{throw t})}}o.splice(0,t),r+=t})).observe(a,{characterData:!0});const l={after:t=>({run:e=>window.setTimeout(e,t),cancel(t){window.clearTimeout(t)}}),run:(t,e)=>window.setTimeout(t,e),cancel(t){window.clearTimeout(t)}},c={run:t=>window.requestAnimationFrame(t),cancel(t){window.cancelAnimationFrame(t)}},d={run:t=>(a.textContent=s++,o.push(t),n++),cancel(t){const e=t-r;if(e>=0){if(!o[e])throw new Error("invalid async handle: "+t);o[e]=null}}}},function(t,e,i){"use strict";i.d(e,"d",(function(){return n})),i.d(e,"a",(function(){return o})),i.d(e,"b",(function(){return a})),i.d(e,"c",(function(){return l}));
/**
@license
Copyright (c) 2017 The Polymer Project Authors. All rights reserved.
This code may only be used under the BSD style license found at http://polymer.github.io/LICENSE.txt
The complete set of authors may be found at http://polymer.github.io/AUTHORS.txt
The complete set of contributors may be found at http://polymer.github.io/CONTRIBUTORS.txt
Code distributed by Google as part of the polymer project is also
subject to an additional IP rights grant found at http://polymer.github.io/PATENTS.txt
*/
const n=!(window.ShadyDOM&&window.ShadyDOM.inUse);let r,o;function s(t){r=(!t||!t.shimcssproperties)&&(n||Boolean(!navigator.userAgent.match(/AppleWebKit\/601|Edge\/15/)&&window.CSS&&CSS.supports&&CSS.supports("box-shadow","0 0 0 var(--foo)")))}window.ShadyCSS&&void 0!==window.ShadyCSS.cssBuild&&(o=window.ShadyCSS.cssBuild);const a=Boolean(window.ShadyCSS&&window.ShadyCSS.disableRuntime);window.ShadyCSS&&void 0!==window.ShadyCSS.nativeCss?r=window.ShadyCSS.nativeCss:window.ShadyCSS?(s(window.ShadyCSS),window.ShadyCSS=void 0):s(window.WebComponents&&window.WebComponents.flags);const l=r},function(t,e,i){"use strict";i.d(e,"f",(function(){return c})),i.d(e,"a",(function(){return d})),i.d(e,"d",(function(){return h})),i.d(e,"b",(function(){return u})),i.d(e,"e",(function(){return f})),i.d(e,"c",(function(){return b}));var n=i(25),r=i(17),o=i(15),s=i(29),a=i(22),l=i(9);
/**
 * @license
 * Copyright (c) 2017 The Polymer Project Authors. All rights reserved.
 * This code may only be used under the BSD style license found at
 * http://polymer.github.io/LICENSE.txt
 * The complete set of authors may be found at
 * http://polymer.github.io/AUTHORS.txt
 * The complete set of contributors may be found at
 * http://polymer.github.io/CONTRIBUTORS.txt
 * Code distributed by Google as part of the polymer project is also
 * subject to an additional IP rights grant found at
 * http://polymer.github.io/PATENTS.txt
 */
const c=t=>null===t||!("object"==typeof t||"function"==typeof t);class d{constructor(t,e,i){this.dirty=!0,this.element=t,this.name=e,this.strings=i,this.parts=[];for(let t=0;t<i.length-1;t++)this.parts[t]=this._createPart()}_createPart(){return new p(this)}_getValue(){const t=this.strings,e=t.length-1;let i="";for(let n=0;n<e;n++){i+=t[n];const e=this.parts[n];if(void 0!==e){const t=e.value;if(null!=t&&(Array.isArray(t)||"string"!=typeof t&&t[Symbol.iterator]))for(const e of t)i+="string"==typeof e?e:String(e);else i+="string"==typeof t?t:String(t)}}return i+=t[e],i}commit(){this.dirty&&(this.dirty=!1,this.element.setAttribute(this.name,this._getValue()))}}class p{constructor(t){this.value=void 0,this.committer=t}setValue(t){t===o.a||c(t)&&t===this.value||(this.value=t,Object(n.b)(t)||(this.committer.dirty=!0))}commit(){for(;Object(n.b)(this.value);){const t=this.value;this.value=o.a,t(this)}this.value!==o.a&&this.committer.commit()}}class h{constructor(t){this.value=void 0,this._pendingValue=void 0,this.options=t}appendInto(t){this.startNode=t.appendChild(Object(l.c)()),this.endNode=t.appendChild(Object(l.c)())}insertAfterNode(t){this.startNode=t,this.endNode=t.nextSibling}appendIntoPart(t){t._insert(this.startNode=Object(l.c)()),t._insert(this.endNode=Object(l.c)())}insertAfterPart(t){t._insert(this.startNode=Object(l.c)()),this.endNode=t.endNode,t.endNode=this.startNode}setValue(t){this._pendingValue=t}commit(){for(;Object(n.b)(this._pendingValue);){const t=this._pendingValue;this._pendingValue=o.a,t(this)}const t=this._pendingValue;t!==o.a&&(c(t)?t!==this.value&&this._commitText(t):t instanceof a.b?this._commitTemplateResult(t):t instanceof Node?this._commitNode(t):Array.isArray(t)||t[Symbol.iterator]?this._commitIterable(t):t===o.b?(this.value=o.b,this.clear()):this._commitText(t))}_insert(t){this.endNode.parentNode.insertBefore(t,this.endNode)}_commitNode(t){this.value!==t&&(this.clear(),this._insert(t),this.value=t)}_commitText(t){const e=this.startNode.nextSibling;t=null==t?"":t,e===this.endNode.previousSibling&&3===e.nodeType?e.data=t:this._commitNode(document.createTextNode("string"==typeof t?t:String(t))),this.value=t}_commitTemplateResult(t){const e=this.options.templateFactory(t);if(this.value instanceof s.a&&this.value.template===e)this.value.update(t.values);else{const i=new s.a(e,t.processor,this.options),n=i._clone();i.update(t.values),this._commitNode(n),this.value=i}}_commitIterable(t){Array.isArray(this.value)||(this.value=[],this.clear());const e=this.value;let i,n=0;for(const r of t)i=e[n],void 0===i&&(i=new h(this.options),e.push(i),0===n?i.appendIntoPart(this):i.insertAfterPart(e[n-1])),i.setValue(r),i.commit(),n++;n<e.length&&(e.length=n,this.clear(i&&i.endNode))}clear(t=this.startNode){Object(r.b)(this.startNode.parentNode,t.nextSibling,this.endNode)}}class u{constructor(t,e,i){if(this.value=void 0,this._pendingValue=void 0,2!==i.length||""!==i[0]||""!==i[1])throw new Error("Boolean attributes can only contain a single expression");this.element=t,this.name=e,this.strings=i}setValue(t){this._pendingValue=t}commit(){for(;Object(n.b)(this._pendingValue);){const t=this._pendingValue;this._pendingValue=o.a,t(this)}if(this._pendingValue===o.a)return;const t=!!this._pendingValue;this.value!==t&&(t?this.element.setAttribute(this.name,""):this.element.removeAttribute(this.name)),this.value=t,this._pendingValue=o.a}}class f extends d{constructor(t,e,i){super(t,e,i),this.single=2===i.length&&""===i[0]&&""===i[1]}_createPart(){return new _(this)}_getValue(){return this.single?this.parts[0].value:super._getValue()}commit(){this.dirty&&(this.dirty=!1,this.element[this.name]=this._getValue())}}class _ extends p{}let m=!1;try{const t={get capture(){return m=!0,!1}};window.addEventListener("test",t,t),window.removeEventListener("test",t,t)}catch(t){}class b{constructor(t,e,i){this.value=void 0,this._pendingValue=void 0,this.element=t,this.eventName=e,this.eventContext=i,this._boundHandleEvent=t=>this.handleEvent(t)}setValue(t){this._pendingValue=t}commit(){for(;Object(n.b)(this._pendingValue);){const t=this._pendingValue;this._pendingValue=o.a,t(this)}if(this._pendingValue===o.a)return;const t=this._pendingValue,e=this.value,i=null==t||null!=e&&(t.capture!==e.capture||t.once!==e.once||t.passive!==e.passive),r=null!=t&&(null==e||i);i&&this.element.removeEventListener(this.eventName,this._boundHandleEvent,this._options),r&&(this._options=y(t),this.element.addEventListener(this.eventName,this._boundHandleEvent,this._options)),this.value=t,this._pendingValue=o.a}handleEvent(t){"function"==typeof this.value?this.value.call(this.eventContext||this.element,t):this.value.handleEvent(t)}}const y=t=>t&&(m?{capture:t.capture,passive:t.passive,once:t.once}:t.capture)},function(t,e,i){"use strict";i.d(e,"a",(function(){return n})),i.d(e,"b",(function(){return r}));
/**
 * @license
 * Copyright (c) 2018 The Polymer Project Authors. All rights reserved.
 * This code may only be used under the BSD style license found at
 * http://polymer.github.io/LICENSE.txt
 * The complete set of authors may be found at
 * http://polymer.github.io/AUTHORS.txt
 * The complete set of contributors may be found at
 * http://polymer.github.io/CONTRIBUTORS.txt
 * Code distributed by Google as part of the polymer project is also
 * subject to an additional IP rights grant found at
 * http://polymer.github.io/PATENTS.txt
 */
const n={},r={}},function(t,e,i){"use strict";i.d(e,"a",(function(){return n})),i.d(e,"b",(function(){return o})),i.d(e,"c",(function(){return s}));i(7),i(10),i(12);
/**
@license
Copyright (c) 2017 The Polymer Project Authors. All rights reserved.
This code may only be used under the BSD style license found at http://polymer.github.io/LICENSE.txt
The complete set of authors may be found at http://polymer.github.io/AUTHORS.txt
The complete set of contributors may be found at http://polymer.github.io/CONTRIBUTORS.txt
Code distributed by Google as part of the polymer project is also
subject to an additional IP rights grant found at http://polymer.github.io/PATENTS.txt
*/
class n{constructor(){this._asyncModule=null,this._callback=null,this._timer=null}setConfig(t,e){this._asyncModule=t,this._callback=e,this._timer=this._asyncModule.run(()=>{this._timer=null,r.delete(this),this._callback()})}cancel(){this.isActive()&&(this._cancelAsync(),r.delete(this))}_cancelAsync(){this.isActive()&&(this._asyncModule.cancel(this._timer),this._timer=null)}flush(){this.isActive()&&(this.cancel(),this._callback())}isActive(){return null!=this._timer}static debounce(t,e,i){return t instanceof n?t._cancelAsync():t=new n,t.setConfig(e,i),t}}let r=new Set;const o=function(t){r.add(t)},s=function(){const t=Boolean(r.size);return r.forEach(t=>{try{t.flush()}catch(t){setTimeout(()=>{throw t})}}),t}},function(t,e,i){"use strict";i.d(e,"a",(function(){return n})),i.d(e,"c",(function(){return r})),i.d(e,"b",(function(){return o}));
/**
 * @license
 * Copyright (c) 2017 The Polymer Project Authors. All rights reserved.
 * This code may only be used under the BSD style license found at
 * http://polymer.github.io/LICENSE.txt
 * The complete set of authors may be found at
 * http://polymer.github.io/AUTHORS.txt
 * The complete set of contributors may be found at
 * http://polymer.github.io/CONTRIBUTORS.txt
 * Code distributed by Google as part of the polymer project is also
 * subject to an additional IP rights grant found at
 * http://polymer.github.io/PATENTS.txt
 */
const n=void 0!==window.customElements&&void 0!==window.customElements.polyfillWrapFlushCallback,r=(t,e,i=null,n=null)=>{let r=e;for(;r!==i;){const e=r.nextSibling;t.insertBefore(r,n),r=e}},o=(t,e,i=null)=>{let n=e;for(;n!==i;){const e=n.nextSibling;t.removeChild(n),n=e}}},function(t,e,i){"use strict";i.d(e,"c",(function(){return a})),i.d(e,"b",(function(){return l})),i.d(e,"a",(function(){return c}));i(7);
/**
@license
Copyright (c) 2017 The Polymer Project Authors. All rights reserved.
This code may only be used under the BSD style license found at http://polymer.github.io/LICENSE.txt
The complete set of authors may be found at http://polymer.github.io/AUTHORS.txt
The complete set of contributors may be found at http://polymer.github.io/CONTRIBUTORS.txt
Code distributed by Google as part of the polymer project is also
subject to an additional IP rights grant found at http://polymer.github.io/PATENTS.txt
*/let n,r,o=/(url\()([^)]*)(\))/g,s=/(^\/)|(^#)|(^[\w-\d]*:)/;function a(t,e){if(t&&s.test(t))return t;if(void 0===n){n=!1;try{const t=new URL("b","http://a");t.pathname="c%20d",n="http://a/c%20d"===t.href}catch(t){}}return e||(e=document.baseURI||window.location.href),n?new URL(t,e).href:(r||(r=document.implementation.createHTMLDocument("temp"),r.base=r.createElement("base"),r.head.appendChild(r.base),r.anchor=r.createElement("a"),r.body.appendChild(r.anchor)),r.base.href=e,r.anchor.href=t,r.anchor.href||t)}function l(t,e){return t.replace(o,(function(t,i,n,r){return i+"'"+a(n.replace(/["']/g,""),e)+"'"+r}))}function c(t){return t.substring(0,t.lastIndexOf("/")+1)}},function(t,e,i){"use strict";i.d(e,"c",(function(){return s.a})),i.d(e,"a",(function(){return n.d})),i.d(e,"b",(function(){return o.b})),i.d(e,"d",(function(){return a}));var n=i(14);
/**
 * @license
 * Copyright (c) 2017 The Polymer Project Authors. All rights reserved.
 * This code may only be used under the BSD style license found at
 * http://polymer.github.io/LICENSE.txt
 * The complete set of authors may be found at
 * http://polymer.github.io/AUTHORS.txt
 * The complete set of contributors may be found at
 * http://polymer.github.io/CONTRIBUTORS.txt
 * Code distributed by Google as part of the polymer project is also
 * subject to an additional IP rights grant found at
 * http://polymer.github.io/PATENTS.txt
 */const r=new class{handleAttributeExpressions(t,e,i,r){const o=e[0];if("."===o){return new n.e(t,e.slice(1),i).parts}return"@"===o?[new n.c(t,e.slice(1),r.eventContext)]:"?"===o?[new n.b(t,e.slice(1),i)]:new n.a(t,e,i).parts}handleTextExpression(t){return new n.d(t)}};var o=i(22),s=i(25);i(17),i(15),i(26),i(24),i(29),i(9);
/**
 * @license
 * Copyright (c) 2017 The Polymer Project Authors. All rights reserved.
 * This code may only be used under the BSD style license found at
 * http://polymer.github.io/LICENSE.txt
 * The complete set of authors may be found at
 * http://polymer.github.io/AUTHORS.txt
 * The complete set of contributors may be found at
 * http://polymer.github.io/CONTRIBUTORS.txt
 * Code distributed by Google as part of the polymer project is also
 * subject to an additional IP rights grant found at
 * http://polymer.github.io/PATENTS.txt
 */
(window.litHtmlVersions||(window.litHtmlVersions=[])).push("1.0.0");const a=(t,...e)=>new o.b(t,e,"html",r)},function(t,e,i){"use strict";i.d(e,"b",(function(){return r}));i(7);var n=i(16);i.d(e,"a",(function(){return n.b}));
/**
@license
Copyright (c) 2017 The Polymer Project Authors. All rights reserved.
This code may only be used under the BSD style license found at http://polymer.github.io/LICENSE.txt
The complete set of authors may be found at http://polymer.github.io/AUTHORS.txt
The complete set of contributors may be found at http://polymer.github.io/CONTRIBUTORS.txt
Code distributed by Google as part of the polymer project is also
subject to an additional IP rights grant found at http://polymer.github.io/PATENTS.txt
*/
const r=function(){let t,e;do{t=window.ShadyDOM&&ShadyDOM.flush(),window.ShadyCSS&&window.ShadyCSS.ScopingShim&&window.ShadyCSS.ScopingShim.flush(),e=Object(n.c)()}while(t||e)}},function(t,e,i){"use strict";i.d(e,"c",(function(){return n})),i.d(e,"b",(function(){return r})),i.d(e,"a",(function(){return o}));
/**
@license
Copyright (c) 2017 The Polymer Project Authors. All rights reserved.
This code may only be used under the BSD style license found at http://polymer.github.io/LICENSE.txt
The complete set of authors may be found at http://polymer.github.io/AUTHORS.txt
The complete set of contributors may be found at http://polymer.github.io/CONTRIBUTORS.txt
Code distributed by Google as part of the polymer project is also
subject to an additional IP rights grant found at http://polymer.github.io/PATENTS.txt
*/
const n=/(?:^|[;\s{]\s*)(--[\w-]*?)\s*:\s*(?:((?:'(?:\\'|.)*?'|"(?:\\"|.)*?"|\([^)]*?\)|[^};{])+)|\{([^}]*)\}(?:(?=[;\s}])|$))/gi,r=/(?:^|\W+)@apply\s*\(?([^);\n]*)\)?/gi,o=/@media\s(.*)/},function(t,e,i){"use strict";i.d(e,"b",(function(){return o})),i.d(e,"a",(function(){return s}));var n=i(17),r=i(9);
/**
 * @license
 * Copyright (c) 2017 The Polymer Project Authors. All rights reserved.
 * This code may only be used under the BSD style license found at
 * http://polymer.github.io/LICENSE.txt
 * The complete set of authors may be found at
 * http://polymer.github.io/AUTHORS.txt
 * The complete set of contributors may be found at
 * http://polymer.github.io/CONTRIBUTORS.txt
 * Code distributed by Google as part of the polymer project is also
 * subject to an additional IP rights grant found at
 * http://polymer.github.io/PATENTS.txt
 */
class o{constructor(t,e,i,n){this.strings=t,this.values=e,this.type=i,this.processor=n}getHTML(){const t=this.strings.length-1;let e="";for(let i=0;i<t;i++){const t=this.strings[i],n=r.e.exec(t);e+=n?t.substr(0,n.index)+n[1]+n[2]+r.b+n[3]+r.f:t+r.g}return e+this.strings[t]}getTemplateElement(){const t=document.createElement("template");return t.innerHTML=this.getHTML(),t}}class s extends o{getHTML(){return`<svg>${super.getHTML()}</svg>`}getTemplateElement(){const t=super.getTemplateElement(),e=t.content,i=e.firstChild;return e.removeChild(i),Object(n.c)(e,i.firstChild),t}}},function(t,e,i){"use strict";i.d(e,"b",(function(){return s})),i.d(e,"a",(function(){return a}));i(7);
/**
@license
Copyright (c) 2017 The Polymer Project Authors. All rights reserved.
This code may only be used under the BSD style license found at http://polymer.github.io/LICENSE.txt
The complete set of authors may be found at http://polymer.github.io/AUTHORS.txt
The complete set of contributors may be found at http://polymer.github.io/CONTRIBUTORS.txt
Code distributed by Google as part of the polymer project is also
subject to an additional IP rights grant found at http://polymer.github.io/PATENTS.txt
*/const n={},r=/-[a-z]/g,o=/([A-Z])/g;function s(t){return n[t]||(n[t]=t.indexOf("-")<0?t:t.replace(r,t=>t[1].toUpperCase()))}function a(t){return n[t]||(n[t]=t.replace(o,"-$1").toLowerCase())}},function(t,e,i){"use strict";i.d(e,"b",(function(){return r})),i.d(e,"a",(function(){return o}));var n=i(9);
/**
 * @license
 * Copyright (c) 2017 The Polymer Project Authors. All rights reserved.
 * This code may only be used under the BSD style license found at
 * http://polymer.github.io/LICENSE.txt
 * The complete set of authors may be found at
 * http://polymer.github.io/AUTHORS.txt
 * The complete set of contributors may be found at
 * http://polymer.github.io/CONTRIBUTORS.txt
 * Code distributed by Google as part of the polymer project is also
 * subject to an additional IP rights grant found at
 * http://polymer.github.io/PATENTS.txt
 */function r(t){let e=o.get(t.type);void 0===e&&(e={stringsArray:new WeakMap,keyString:new Map},o.set(t.type,e));let i=e.stringsArray.get(t.strings);if(void 0!==i)return i;const r=t.strings.join(n.f);return i=e.keyString.get(r),void 0===i&&(i=new n.a(t,t.getTemplateElement()),e.keyString.set(r,i)),e.stringsArray.set(t.strings,i),i}const o=new Map},function(t,e,i){"use strict";i.d(e,"a",(function(){return r})),i.d(e,"b",(function(){return o}));
/**
 * @license
 * Copyright (c) 2017 The Polymer Project Authors. All rights reserved.
 * This code may only be used under the BSD style license found at
 * http://polymer.github.io/LICENSE.txt
 * The complete set of authors may be found at
 * http://polymer.github.io/AUTHORS.txt
 * The complete set of contributors may be found at
 * http://polymer.github.io/CONTRIBUTORS.txt
 * Code distributed by Google as part of the polymer project is also
 * subject to an additional IP rights grant found at
 * http://polymer.github.io/PATENTS.txt
 */
const n=new WeakMap,r=t=>(...e)=>{const i=t(...e);return n.set(i,!0),i},o=t=>"function"==typeof t&&n.has(t)},function(t,e,i){"use strict";i.d(e,"a",(function(){return s})),i.d(e,"b",(function(){return a}));var n=i(17),r=i(14),o=i(24);
/**
 * @license
 * Copyright (c) 2017 The Polymer Project Authors. All rights reserved.
 * This code may only be used under the BSD style license found at
 * http://polymer.github.io/LICENSE.txt
 * The complete set of authors may be found at
 * http://polymer.github.io/AUTHORS.txt
 * The complete set of contributors may be found at
 * http://polymer.github.io/CONTRIBUTORS.txt
 * Code distributed by Google as part of the polymer project is also
 * subject to an additional IP rights grant found at
 * http://polymer.github.io/PATENTS.txt
 */
const s=new WeakMap,a=(t,e,i)=>{let a=s.get(e);void 0===a&&(Object(n.b)(e,e.firstChild),s.set(e,a=new r.d(Object.assign({templateFactory:o.b},i))),a.appendInto(e)),a.setValue(t),a.commit()}},function(t,e,i){"use strict";i.d(e,"c",(function(){return r})),i.d(e,"b",(function(){return o})),i.d(e,"a",(function(){return s}));var n=i(21);
/**
@license
Copyright (c) 2017 The Polymer Project Authors. All rights reserved.
This code may only be used under the BSD style license found at http://polymer.github.io/LICENSE.txt
The complete set of authors may be found at http://polymer.github.io/AUTHORS.txt
The complete set of contributors may be found at http://polymer.github.io/CONTRIBUTORS.txt
Code distributed by Google as part of the polymer project is also
subject to an additional IP rights grant found at http://polymer.github.io/PATENTS.txt
*/function r(t,e){for(let i in e)null===i?t.style.removeProperty(i):t.style.setProperty(i,e[i])}function o(t,e){const i=window.getComputedStyle(t).getPropertyValue(e);return i?i.trim():""}function s(t){const e=n.b.test(t)||n.c.test(t);return n.b.lastIndex=0,n.c.lastIndex=0,e}},function(t,e,i){"use strict";i.d(e,"a",(function(){return r}));var n=i(30);i(3);
/**
@license
Copyright (c) 2017 The Polymer Project Authors. All rights reserved.
This code may only be used under the BSD style license found at http://polymer.github.io/LICENSE.txt
The complete set of authors may be found at http://polymer.github.io/AUTHORS.txt
The complete set of contributors may be found at http://polymer.github.io/CONTRIBUTORS.txt
Code distributed by Google as part of the polymer project is also
subject to an additional IP rights grant found at http://polymer.github.io/PATENTS.txt
*/
const r=Object(n.a)(HTMLElement)},function(t,e,i){"use strict";i.d(e,"a",(function(){return o}));var n=i(17),r=i(9);
/**
 * @license
 * Copyright (c) 2017 The Polymer Project Authors. All rights reserved.
 * This code may only be used under the BSD style license found at
 * http://polymer.github.io/LICENSE.txt
 * The complete set of authors may be found at
 * http://polymer.github.io/AUTHORS.txt
 * The complete set of contributors may be found at
 * http://polymer.github.io/CONTRIBUTORS.txt
 * Code distributed by Google as part of the polymer project is also
 * subject to an additional IP rights grant found at
 * http://polymer.github.io/PATENTS.txt
 */
class o{constructor(t,e,i){this._parts=[],this.template=t,this.processor=e,this.options=i}update(t){let e=0;for(const i of this._parts)void 0!==i&&i.setValue(t[e]),e++;for(const t of this._parts)void 0!==t&&t.commit()}_clone(){const t=n.a?this.template.element.content.cloneNode(!0):document.importNode(this.template.element.content,!0),e=this.template.parts;let i=0,o=0;const s=t=>{const n=document.createTreeWalker(t,133,null,!1);let a=n.nextNode();for(;i<e.length&&null!==a;){const t=e[i];if(Object(r.d)(t))if(o===t.index){if("node"===t.type){const t=this.processor.handleTextExpression(this.options);t.insertAfterNode(a.previousSibling),this._parts.push(t)}else this._parts.push(...this.processor.handleAttributeExpressions(a,t.name,t.strings,this.options));i++}else o++,"TEMPLATE"===a.nodeName&&s(a.content),a=n.nextNode();else this._parts.push(void 0),i++}};return s(t),n.a&&(document.adoptNode(t),customElements.upgrade(t)),t}}},function(t,e,i){"use strict";i.d(e,"a",(function(){return f}));i(7);var n=i(5),r=i(10),o=i(35),s=i(18),a=i(32),l=i(31);const c=[];var d=i(38);
/**
@license
Copyright (c) 2017 The Polymer Project Authors. All rights reserved.
This code may only be used under the BSD style license found at http://polymer.github.io/LICENSE.txt
The complete set of authors may be found at http://polymer.github.io/AUTHORS.txt
The complete set of contributors may be found at http://polymer.github.io/CONTRIBUTORS.txt
Code distributed by Google as part of the polymer project is also
subject to an additional IP rights grant found at http://polymer.github.io/PATENTS.txt
*/const p=Object(r.a)(t=>{const e=Object(d.a)(t);function i(t){const e=Object.getPrototypeOf(t);return e.prototype instanceof r?e:null}function n(t){if(!t.hasOwnProperty(JSCompiler_renameProperty("__ownProperties",t))){let e=null;if(t.hasOwnProperty(JSCompiler_renameProperty("properties",t))){const i=t.properties;i&&(e=function(t){const e={};for(let i in t){const n=t[i];e[i]="function"==typeof n?{type:n}:n}return e}(i))}t.__ownProperties=e}return t.__ownProperties}class r extends e{static get observedAttributes(){if(!this.hasOwnProperty("__observedAttributes")){t=this.prototype,c.push(t);const e=this._properties;this.__observedAttributes=e?Object.keys(e).map(t=>this.attributeNameForProperty(t)):[]}var t;return this.__observedAttributes}static finalize(){if(!this.hasOwnProperty(JSCompiler_renameProperty("__finalized",this))){const t=i(this);t&&t.finalize(),this.__finalized=!0,this._finalizeClass()}}static _finalizeClass(){const t=n(this);t&&this.createProperties(t)}static get _properties(){if(!this.hasOwnProperty(JSCompiler_renameProperty("__properties",this))){const t=i(this);this.__properties=Object.assign({},t&&t._properties,n(this))}return this.__properties}static typeForProperty(t){const e=this._properties[t];return e&&e.type}_initializeProperties(){this.constructor.finalize(),super._initializeProperties()}connectedCallback(){super.connectedCallback&&super.connectedCallback(),this._enableProperties()}disconnectedCallback(){super.disconnectedCallback&&super.disconnectedCallback()}}return r});var h=i(0);
/**
 * @fileoverview
 * @suppress {checkPrototypalTypes}
 * @license Copyright (c) 2017 The Polymer Project Authors. All rights reserved.
 * This code may only be used under the BSD style license found at
 * http://polymer.github.io/LICENSE.txt The complete set of authors may be found
 * at http://polymer.github.io/AUTHORS.txt The complete set of contributors may
 * be found at http://polymer.github.io/CONTRIBUTORS.txt Code distributed by
 * Google as part of the polymer project is also subject to an additional IP
 * rights grant found at http://polymer.github.io/PATENTS.txt
 */const u=window.ShadyCSS&&window.ShadyCSS.cssBuild,f=Object(r.a)(t=>{const e=p(Object(l.a)(t));return class extends e{static get polymerElementVersion(){return"3.2.0"}static _finalizeClass(){super._finalizeClass();const t=((e=this).hasOwnProperty(JSCompiler_renameProperty("__ownObservers",e))||(e.__ownObservers=e.hasOwnProperty(JSCompiler_renameProperty("observers",e))?e.observers:null),e.__ownObservers);var e;t&&this.createObservers(t,this._properties),this._prepareTemplate()}static _prepareTemplate(){let t=this.template;t&&("string"==typeof t?(console.error("template getter must return HTMLTemplateElement"),t=null):n.b||(t=t.cloneNode(!0))),this.prototype._template=t}static createProperties(t){for(let o in t)e=this.prototype,i=o,n=t[o],r=t,n.computed&&(n.readOnly=!0),n.computed&&(e._hasReadOnlyEffect(i)?console.warn(`Cannot redefine computed property '${i}'.`):e._createComputedProperty(i,n.computed,r)),n.readOnly&&!e._hasReadOnlyEffect(i)?e._createReadOnlyProperty(i,!n.computed):!1===n.readOnly&&e._hasReadOnlyEffect(i)&&console.warn(`Cannot make readOnly property '${i}' non-readOnly.`),n.reflectToAttribute&&!e._hasReflectEffect(i)?e._createReflectedProperty(i):!1===n.reflectToAttribute&&e._hasReflectEffect(i)&&console.warn(`Cannot make reflected property '${i}' non-reflected.`),n.notify&&!e._hasNotifyEffect(i)?e._createNotifyingProperty(i):!1===n.notify&&e._hasNotifyEffect(i)&&console.warn(`Cannot make notify property '${i}' non-notify.`),n.observer&&e._createPropertyObserver(i,n.observer,r[n.observer]),e._addPropertyToAttributeMap(i);var e,i,n,r}static createObservers(t,e){const i=this.prototype;for(let n=0;n<t.length;n++)i._createMethodObserver(t[n],e)}static get template(){return this.hasOwnProperty(JSCompiler_renameProperty("_template",this))||(this._template=this.prototype.hasOwnProperty(JSCompiler_renameProperty("_template",this.prototype))?this.prototype._template:function(t){let e=null;if(t&&(!n.g||n.a)&&(e=a.a.import(t,"template"),n.g&&!e))throw new Error("strictTemplatePolicy: expecting dom-module or null template for "+t);return e}(this.is)||Object.getPrototypeOf(this.prototype).constructor.template),this._template}static set template(t){this._template=t}static get importPath(){if(!this.hasOwnProperty(JSCompiler_renameProperty("_importPath",this))){const t=this.importMeta;if(t)this._importPath=Object(s.a)(t.url);else{const t=a.a.import(this.is);this._importPath=t&&t.assetpath||Object.getPrototypeOf(this.prototype).constructor.importPath}}return this._importPath}constructor(){super(),this._template,this._importPath,this.rootPath,this.importPath,this.root,this.$}_initializeProperties(){this.constructor.finalize(),this.constructor._finalizeTemplate(this.localName),super._initializeProperties(),this.rootPath=n.d,this.importPath=this.constructor.importPath;let t=function(t){if(!t.hasOwnProperty(JSCompiler_renameProperty("__propertyDefaults",t))){t.__propertyDefaults=null;let e=t._properties;for(let i in e){let n=e[i];"value"in n&&(t.__propertyDefaults=t.__propertyDefaults||{},t.__propertyDefaults[i]=n)}}return t.__propertyDefaults}(this.constructor);if(t)for(let e in t){let i=t[e];if(!this.hasOwnProperty(e)){let t="function"==typeof i.value?i.value.call(this):i.value;this._hasAccessor(e)?this._setPendingProperty(e,t,!0):this[e]=t}}}static _processStyleText(t,e){return Object(s.b)(t,e)}static _finalizeTemplate(t){const e=this.prototype._template;if(e&&!e.__polymerFinalized){e.__polymerFinalized=!0;const i=this.importPath;!function(t,e,i,n){if(!u){const r=e.content.querySelectorAll("style"),s=Object(o.c)(e),a=Object(o.b)(i),l=e.content.firstElementChild;for(let i=0;i<a.length;i++){let r=a[i];r.textContent=t._processStyleText(r.textContent,n),e.content.insertBefore(r,l)}let c=0;for(let e=0;e<s.length;e++){let i=s[e],o=r[c];o!==i?(i=i.cloneNode(!0),o.parentNode.insertBefore(i,o)):c++,i.textContent=t._processStyleText(i.textContent,n)}}window.ShadyCSS&&window.ShadyCSS.prepareTemplate(e,i)}(this,e,t,i?Object(s.c)(i):""),this.prototype._bindTemplate(e)}}connectedCallback(){window.ShadyCSS&&this._template&&window.ShadyCSS.styleElement(this),super.connectedCallback()}ready(){this._template&&(this.root=this._stampTemplate(this._template),this.$=this.root.$),super.ready()}_readyClients(){this._template&&(this.root=this._attachDom(this.root)),super._readyClients()}_attachDom(t){const e=Object(h.a)(this);if(e.attachShadow)return t?(e.shadowRoot||e.attachShadow({mode:"open"}),e.shadowRoot.appendChild(t),n.h&&window.ShadyDOM&&ShadyDOM.flushInitial(e.shadowRoot),e.shadowRoot):null;throw new Error("ShadowDOM not available. PolymerElement can create dom as children instead of in ShadowDOM by setting `this.root = this;` before `ready`.")}updateStyles(t){window.ShadyCSS&&window.ShadyCSS.styleSubtree(this,t)}resolveUrl(t,e){return!e&&this.importPath&&(e=Object(s.c)(this.importPath)),Object(s.c)(t,e)}static _parseTemplateContent(t,e,i){return e.dynamicFns=e.dynamicFns||this._properties,super._parseTemplateContent(t,e,i)}static _addTemplatePropertyEffect(t,e,i){return n.b&&!(e in this._properties)&&console.warn(`Property '${e}' used in template but not declared in 'properties'; attribute will not be observed.`),super._addTemplatePropertyEffect(t,e,i)}}})},function(t,e,i){"use strict";i.d(e,"a",(function(){return U}));i(7);var n=i(0),r=i(10),o=i(2),s=i(23),a=i(37);
/**
@license
Copyright (c) 2017 The Polymer Project Authors. All rights reserved.
This code may only be used under the BSD style license found at http://polymer.github.io/LICENSE.txt
The complete set of authors may be found at http://polymer.github.io/AUTHORS.txt
The complete set of contributors may be found at http://polymer.github.io/CONTRIBUTORS.txt
Code distributed by Google as part of the polymer project is also
subject to an additional IP rights grant found at http://polymer.github.io/PATENTS.txt
*/
const l=document.createTreeWalker(document,NodeFilter.SHOW_ALL,null,!1),c={"dom-if":!0,"dom-repeat":!0};function d(t){let e=t.getAttribute("is");if(e&&c[e]){let i=t;for(i.removeAttribute("is"),t=i.ownerDocument.createElement(e),i.parentNode.replaceChild(t,i),t.appendChild(i);i.attributes.length;)t.setAttribute(i.attributes[0].name,i.attributes[0].value),i.removeAttribute(i.attributes[0].name)}return t}function p(t,e){let i=e.parentInfo&&p(t,e.parentInfo);if(!i)return t;l.currentNode=i;for(let t=l.firstChild(),i=0;t;t=l.nextSibling())if(e.parentIndex===i++)return t}function h(t,e,i,n){n.id&&(e[n.id]=i)}function u(t,e,i){if(i.events&&i.events.length)for(let n,r=0,o=i.events;r<o.length&&(n=o[r]);r++)t._addMethodEventListenerToNode(e,n.name,n.value,t)}function f(t,e,i){i.templateInfo&&(e._templateInfo=i.templateInfo)}const _=Object(r.a)(t=>class extends t{static _parseTemplate(t,e){if(!t._templateInfo){let i=t._templateInfo={};i.nodeInfoList=[],i.stripWhiteSpace=e&&e.stripWhiteSpace||t.hasAttribute("strip-whitespace"),this._parseTemplateContent(t,i,{parent:null})}return t._templateInfo}static _parseTemplateContent(t,e,i){return this._parseTemplateNode(t.content,e,i)}static _parseTemplateNode(t,e,i){let n,r=t;return"template"!=r.localName||r.hasAttribute("preserve-content")?"slot"===r.localName&&(e.hasInsertionPoint=!0):n=this._parseTemplateNestedTemplate(r,e,i)||n,l.currentNode=r,l.firstChild()&&(n=this._parseTemplateChildNodes(r,e,i)||n),r.hasAttributes&&r.hasAttributes()&&(n=this._parseTemplateNodeAttributes(r,e,i)||n),n}static _parseTemplateChildNodes(t,e,i){if("script"!==t.localName&&"style"!==t.localName){l.currentNode=t;for(let n,r=l.firstChild(),o=0;r;r=n){if("template"==r.localName&&(r=d(r)),l.currentNode=r,n=l.nextSibling(),r.nodeType===Node.TEXT_NODE){let i=n;for(;i&&i.nodeType===Node.TEXT_NODE;)r.textContent+=i.textContent,n=l.nextSibling(),t.removeChild(i),i=n;if(e.stripWhiteSpace&&!r.textContent.trim()){t.removeChild(r);continue}}let s={parentIndex:o,parentInfo:i};this._parseTemplateNode(r,e,s)&&(s.infoIndex=e.nodeInfoList.push(s)-1),l.currentNode=r,l.parentNode()&&o++}}}static _parseTemplateNestedTemplate(t,e,i){let n=this._parseTemplate(t,e);return(n.content=t.content.ownerDocument.createDocumentFragment()).appendChild(t.content),i.templateInfo=n,!0}static _parseTemplateNodeAttributes(t,e,i){let n=!1,r=Array.from(t.attributes);for(let o,s=r.length-1;o=r[s];s--)n=this._parseTemplateNodeAttribute(t,e,i,o.name,o.value)||n;return n}static _parseTemplateNodeAttribute(t,e,i,n,r){return"on-"===n.slice(0,3)?(t.removeAttribute(n),i.events=i.events||[],i.events.push({name:n.slice(3),value:r}),!0):"id"===n&&(i.id=r,!0)}static _contentForTemplate(t){let e=t._templateInfo;return e&&e.content||t.content}_stampTemplate(t){t&&!t.content&&window.HTMLTemplateElement&&HTMLTemplateElement.decorate&&HTMLTemplateElement.decorate(t);let e=this.constructor._parseTemplate(t),i=e.nodeInfoList,n=e.content||t.content,r=document.importNode(n,!0);r.__noInsertionPoint=!e.hasInsertionPoint;let o=r.nodeList=new Array(i.length);r.$={};for(let t,e=0,n=i.length;e<n&&(t=i[e]);e++){let i=o[e]=p(r,t);h(0,r.$,i,t),f(0,i,t),u(this,i,t)}return r=r,r}_addMethodEventListenerToNode(t,e,i,n){let r=function(t,e,i){return t=t._methodHost||t,function(e){t[i]?t[i](e,e.detail):console.warn("listener method `"+i+"` not defined")}}(n=n||t,0,i);return this._addEventListenerToNode(t,e,r),r}_addEventListenerToNode(t,e,i){t.addEventListener(e,i)}_removeEventListenerFromNode(t,e,i){t.removeEventListener(e,i)}});var m=i(5);
/**
 * @fileoverview
 * @suppress {checkPrototypalTypes}
 * @license Copyright (c) 2017 The Polymer Project Authors. All rights reserved.
 * This code may only be used under the BSD style license found at
 * http://polymer.github.io/LICENSE.txt The complete set of authors may be found
 * at http://polymer.github.io/AUTHORS.txt The complete set of contributors may
 * be found at http://polymer.github.io/CONTRIBUTORS.txt Code distributed by
 * Google as part of the polymer project is also subject to an additional IP
 * rights grant found at http://polymer.github.io/PATENTS.txt
 */let b=0;const y={COMPUTE:"__computeEffects",REFLECT:"__reflectEffects",NOTIFY:"__notifyEffects",PROPAGATE:"__propagateEffects",OBSERVE:"__observeEffects",READ_ONLY:"__readOnly"},g=/[A-Z]/;function v(t,e){let i=t[e];if(i){if(!t.hasOwnProperty(e)){i=t[e]=Object.create(t[e]);for(let t in i){let e=i[t],n=i[t]=Array(e.length);for(let t=0;t<e.length;t++)n[t]=e[t]}}}else i=t[e]={};return i}function w(t,e,i,n,r,o){if(e){let s=!1,a=b++;for(let l in i)x(t,e,a,l,i,n,r,o)&&(s=!0);return s}return!1}function x(t,e,i,n,r,s,a,l){let c=!1,d=e[a?Object(o.g)(n):n];if(d)for(let e,o=0,p=d.length;o<p&&(e=d[o]);o++)e.info&&e.info.lastRun===i||a&&!S(n,e.trigger)||(e.info&&(e.info.lastRun=i),e.fn(t,n,r,s,e.info,a,l),c=!0);return c}function S(t,e){if(e){let i=e.name;return i==t||!(!e.structured||!Object(o.b)(i,t))||!(!e.wildcard||!Object(o.c)(i,t))}return!0}function C(t,e,i,n,r){let o="string"==typeof r.method?t[r.method]:r.method,s=r.property;o?o.call(t,t.__data[s],n[s]):r.dynamicFn||console.warn("observer method `"+r.method+"` not defined")}function k(t,e,i){let n=Object(o.g)(e);if(n!==e){return P(t,Object(s.a)(n)+"-changed",i[e],e),!0}return!1}function P(t,e,i,r){let o={value:i,queueProperty:!0};r&&(o.path=r),Object(n.a)(t).dispatchEvent(new CustomEvent(e,{detail:o}))}function E(t,e,i,n,r,s){let a=(s?Object(o.g)(e):e)!=e?e:null,l=a?Object(o.a)(t,a):t.__data[e];a&&void 0===l&&(l=i[e]),P(t,r.eventName,l,a)}function O(t,e,i,n,r){let o=t.__data[e];m.e&&(o=Object(m.e)(o,r.attrName,"attribute",t)),t._propertyToAttribute(e,r.attrName,o)}function T(t,e,i,n,r){let o=R(t,e,i,n,r),s=r.methodInfo;t.__dataHasAccessor&&t.__dataHasAccessor[s]?t._setPendingProperty(s,o,!0):t[s]=o}function A(t,e,i,n,r,o,a){i.bindings=i.bindings||[];let l={kind:n,target:r,parts:o,literal:a,isCompound:1!==o.length};if(i.bindings.push(l),function(t){return Boolean(t.target)&&"attribute"!=t.kind&&"text"!=t.kind&&!t.isCompound&&"{"===t.parts[0].mode}(l)){let{event:t,negate:e}=l.parts[0];l.listenerEvent=t||Object(s.a)(r)+"-changed",l.listenerNegate=e}let c=e.nodeInfoList.length;for(let i=0;i<l.parts.length;i++){let n=l.parts[i];n.compoundIndex=i,N(t,e,l,n,c)}}function N(t,e,i,n,r){if(!n.literal)if("attribute"===i.kind&&"-"===i.target[0])console.warn("Cannot set attribute "+i.target+' because "-" is not a valid attribute starting character');else{let o=n.dependencies,s={index:r,binding:i,part:n,evaluator:t};for(let i=0;i<o.length;i++){let n=o[i];"string"==typeof n&&(n=F(n),n.wildcard=!0),t._addTemplatePropertyEffect(e,n.rootProperty,{fn:M,info:s,trigger:n})}}}function M(t,e,i,n,r,s,a){let l=a[r.index],c=r.binding,d=r.part;if(s&&d.source&&e.length>d.source.length&&"property"==c.kind&&!c.isCompound&&l.__isPropertyEffectsClient&&l.__dataHasAccessor&&l.__dataHasAccessor[c.target]){let n=i[e];e=Object(o.i)(d.source,c.target,e),l._setPendingPropertyOrPath(e,n,!1,!0)&&t._enqueueClient(l)}else{!function(t,e,i,n,r){r=function(t,e,i,n){if(i.isCompound){let r=t.__dataCompoundStorage[i.target];r[n.compoundIndex]=e,e=r.join("")}"attribute"!==i.kind&&("textContent"!==i.target&&("value"!==i.target||"input"!==t.localName&&"textarea"!==t.localName)||(e=null==e?"":e));return e}(e,r,i,n),m.e&&(r=Object(m.e)(r,i.target,i.kind,e));if("attribute"==i.kind)t._valueToNodeAttribute(e,r,i.target);else{let n=i.target;e.__isPropertyEffectsClient&&e.__dataHasAccessor&&e.__dataHasAccessor[n]?e[y.READ_ONLY]&&e[y.READ_ONLY][n]||e._setPendingProperty(n,r)&&t._enqueueClient(e):t._setUnmanagedPropertyToNode(e,n,r)}}(t,l,c,d,r.evaluator._evaluateBinding(t,d,e,i,n,s))}}function z(t,e){if(e.isCompound){let i=t.__dataCompoundStorage||(t.__dataCompoundStorage={}),n=e.parts,r=new Array(n.length);for(let t=0;t<n.length;t++)r[t]=n[t].literal;let o=e.target;i[o]=r,e.literal&&"property"==e.kind&&(t[o]=e.literal)}}function I(t,e,i){if(i.listenerEvent){let n=i.parts[0];t.addEventListener(i.listenerEvent,(function(t){!function(t,e,i,n,r){let s,a=t.detail,l=a&&a.path;l?(n=Object(o.i)(i,n,l),s=a&&a.value):s=t.currentTarget[i],s=r?!s:s,e[y.READ_ONLY]&&e[y.READ_ONLY][n]||!e._setPendingPropertyOrPath(n,s,!0,Boolean(l))||a&&a.queueProperty||e._invalidateProperties()}(t,e,i.target,n.source,n.negate)}))}}function L(t,e,i,n,r,o){o=e.static||o&&("object"!=typeof o||o[e.methodName]);let s={methodName:e.methodName,args:e.args,methodInfo:r,dynamicFn:o};for(let r,o=0;o<e.args.length&&(r=e.args[o]);o++)r.literal||t._addPropertyEffect(r.rootProperty,i,{fn:n,info:s,trigger:r});o&&t._addPropertyEffect(e.methodName,i,{fn:n,info:s})}function R(t,e,i,n,r){let o=t._methodHost||t,s=o[r.methodName];if(s){let n=t._marshalArgs(r.args,e,i);return s.apply(o,n)}r.dynamicFn||console.warn("method `"+r.methodName+"` not defined")}const j=[],D=new RegExp("(\\[\\[|{{)\\s*(?:(!)\\s*)?((?:[a-zA-Z_$][\\w.:$\\-*]*)\\s*(?:\\(\\s*(?:(?:(?:((?:[a-zA-Z_$][\\w.:$\\-*]*)|(?:[-+]?[0-9]*\\.?[0-9]+(?:[eE][-+]?[0-9]+)?)|(?:(?:'(?:[^'\\\\]|\\\\.)*')|(?:\"(?:[^\"\\\\]|\\\\.)*\")))\\s*)(?:,\\s*(?:((?:[a-zA-Z_$][\\w.:$\\-*]*)|(?:[-+]?[0-9]*\\.?[0-9]+(?:[eE][-+]?[0-9]+)?)|(?:(?:'(?:[^'\\\\]|\\\\.)*')|(?:\"(?:[^\"\\\\]|\\\\.)*\")))\\s*))*)?)\\)\\s*)?)(?:]]|}})","g");function H(t){let e="";for(let i=0;i<t.length;i++){e+=t[i].literal||""}return e}function B(t){let e=t.match(/([^\s]+?)\(([\s\S]*)\)/);if(e){let t={methodName:e[1],static:!0,args:j};if(e[2].trim()){return function(t,e){return e.args=t.map((function(t){let i=F(t);return i.literal||(e.static=!1),i}),this),e}(e[2].replace(/\\,/g,"&comma;").split(","),t)}return t}return null}function F(t){let e=t.trim().replace(/&comma;/g,",").replace(/\\(.)/g,"$1"),i={name:e,value:"",literal:!1},n=e[0];switch("-"===n&&(n=e[1]),n>="0"&&n<="9"&&(n="#"),n){case"'":case'"':i.value=e.slice(1,-1),i.literal=!0;break;case"#":i.value=Number(e),i.literal=!0}return i.literal||(i.rootProperty=Object(o.g)(e),i.structured=Object(o.d)(e),i.structured&&(i.wildcard=".*"==e.slice(-2),i.wildcard&&(i.name=e.slice(0,-2)))),i}function V(t,e,i){let n=Object(o.a)(t,i);return void 0===n&&(n=e[i]),n}function $(t,e,i,n){t.notifyPath(i+".splices",{indexSplices:n}),t.notifyPath(i+".length",e.length)}function q(t,e,i,n,r,o){$(t,e,i,[{index:n,addedCount:r,removed:o,object:e,type:"splice"}])}const U=Object(r.a)(t=>{const e=_(Object(a.a)(t));return class extends e{constructor(){super(),this.__isPropertyEffectsClient=!0,this.__dataCounter=0,this.__dataClientsReady,this.__dataPendingClients,this.__dataToNotify,this.__dataLinkedPaths,this.__dataHasPaths,this.__dataCompoundStorage,this.__dataHost,this.__dataTemp,this.__dataClientsInitialized,this.__data,this.__dataPending,this.__dataOld,this.__computeEffects,this.__reflectEffects,this.__notifyEffects,this.__propagateEffects,this.__observeEffects,this.__readOnly,this.__templateInfo}get PROPERTY_EFFECT_TYPES(){return y}_initializeProperties(){super._initializeProperties(),Y.registerHost(this),this.__dataClientsReady=!1,this.__dataPendingClients=null,this.__dataToNotify=null,this.__dataLinkedPaths=null,this.__dataHasPaths=!1,this.__dataCompoundStorage=this.__dataCompoundStorage||null,this.__dataHost=this.__dataHost||null,this.__dataTemp={},this.__dataClientsInitialized=!1}_initializeProtoProperties(t){this.__data=Object.create(t),this.__dataPending=Object.create(t),this.__dataOld={}}_initializeInstanceProperties(t){let e=this[y.READ_ONLY];for(let i in t)e&&e[i]||(this.__dataPending=this.__dataPending||{},this.__dataOld=this.__dataOld||{},this.__data[i]=this.__dataPending[i]=t[i])}_addPropertyEffect(t,e,i){this._createPropertyAccessor(t,e==y.READ_ONLY);let n=v(this,e)[t];n||(n=this[e][t]=[]),n.push(i)}_removePropertyEffect(t,e,i){let n=v(this,e)[t],r=n.indexOf(i);r>=0&&n.splice(r,1)}_hasPropertyEffect(t,e){let i=this[e];return Boolean(i&&i[t])}_hasReadOnlyEffect(t){return this._hasPropertyEffect(t,y.READ_ONLY)}_hasNotifyEffect(t){return this._hasPropertyEffect(t,y.NOTIFY)}_hasReflectEffect(t){return this._hasPropertyEffect(t,y.REFLECT)}_hasComputedEffect(t){return this._hasPropertyEffect(t,y.COMPUTE)}_setPendingPropertyOrPath(t,e,i,n){if(n||Object(o.g)(Array.isArray(t)?t[0]:t)!==t){if(!n){let i=Object(o.a)(this,t);if(!(t=Object(o.h)(this,t,e))||!super._shouldPropertyChange(t,e,i))return!1}if(this.__dataHasPaths=!0,this._setPendingProperty(t,e,i))return function(t,e,i){let n=t.__dataLinkedPaths;if(n){let r;for(let s in n){let a=n[s];Object(o.c)(s,e)?(r=Object(o.i)(s,a,e),t._setPendingPropertyOrPath(r,i,!0,!0)):Object(o.c)(a,e)&&(r=Object(o.i)(a,s,e),t._setPendingPropertyOrPath(r,i,!0,!0))}}}(this,t,e),!0}else{if(this.__dataHasAccessor&&this.__dataHasAccessor[t])return this._setPendingProperty(t,e,i);this[t]=e}return!1}_setUnmanagedPropertyToNode(t,e,i){i===t[e]&&"object"!=typeof i||(t[e]=i)}_setPendingProperty(t,e,i){let n=this.__dataHasPaths&&Object(o.d)(t),r=n?this.__dataTemp:this.__data;return!!this._shouldPropertyChange(t,e,r[t])&&(this.__dataPending||(this.__dataPending={},this.__dataOld={}),t in this.__dataOld||(this.__dataOld[t]=this.__data[t]),n?this.__dataTemp[t]=e:this.__data[t]=e,this.__dataPending[t]=e,(n||this[y.NOTIFY]&&this[y.NOTIFY][t])&&(this.__dataToNotify=this.__dataToNotify||{},this.__dataToNotify[t]=i),!0)}_setProperty(t,e){this._setPendingProperty(t,e,!0)&&this._invalidateProperties()}_invalidateProperties(){this.__dataReady&&this._flushProperties()}_enqueueClient(t){this.__dataPendingClients=this.__dataPendingClients||[],t!==this&&this.__dataPendingClients.push(t)}_flushProperties(){this.__dataCounter++,super._flushProperties(),this.__dataCounter--}_flushClients(){this.__dataClientsReady?this.__enableOrFlushClients():(this.__dataClientsReady=!0,this._readyClients(),this.__dataReady=!0)}__enableOrFlushClients(){let t=this.__dataPendingClients;if(t){this.__dataPendingClients=null;for(let e=0;e<t.length;e++){let i=t[e];i.__dataEnabled?i.__dataPending&&i._flushProperties():i._enableProperties()}}}_readyClients(){this.__enableOrFlushClients()}setProperties(t,e){for(let i in t)!e&&this[y.READ_ONLY]&&this[y.READ_ONLY][i]||this._setPendingPropertyOrPath(i,t[i],!0);this._invalidateProperties()}ready(){this._flushProperties(),this.__dataClientsReady||this._flushClients(),this.__dataPending&&this._flushProperties()}_propertiesChanged(t,e,i){let n=this.__dataHasPaths;this.__dataHasPaths=!1,function(t,e,i,n){let r=t[y.COMPUTE];if(r){let o=e;for(;w(t,r,o,i,n);)Object.assign(i,t.__dataOld),Object.assign(e,t.__dataPending),o=t.__dataPending,t.__dataPending=null}}(this,e,i,n);let r=this.__dataToNotify;this.__dataToNotify=null,this._propagatePropertyChanges(e,i,n),this._flushClients(),w(this,this[y.REFLECT],e,i,n),w(this,this[y.OBSERVE],e,i,n),r&&function(t,e,i,n,r){let o,s,a=t[y.NOTIFY],l=b++;for(let s in e)e[s]&&(a&&x(t,a,l,s,i,n,r)||r&&k(t,s,i))&&(o=!0);o&&(s=t.__dataHost)&&s._invalidateProperties&&s._invalidateProperties()}(this,r,e,i,n),1==this.__dataCounter&&(this.__dataTemp={})}_propagatePropertyChanges(t,e,i){this[y.PROPAGATE]&&w(this,this[y.PROPAGATE],t,e,i);let n=this.__templateInfo;for(;n;)w(this,n.propertyEffects,t,e,i,n.nodeList),n=n.nextTemplateInfo}linkPaths(t,e){t=Object(o.f)(t),e=Object(o.f)(e),this.__dataLinkedPaths=this.__dataLinkedPaths||{},this.__dataLinkedPaths[t]=e}unlinkPaths(t){t=Object(o.f)(t),this.__dataLinkedPaths&&delete this.__dataLinkedPaths[t]}notifySplices(t,e){let i={path:""};$(this,Object(o.a)(this,t,i),i.path,e)}get(t,e){return Object(o.a)(e||this,t)}set(t,e,i){i?Object(o.h)(i,t,e):this[y.READ_ONLY]&&this[y.READ_ONLY][t]||this._setPendingPropertyOrPath(t,e,!0)&&this._invalidateProperties()}push(t,...e){let i={path:""},n=Object(o.a)(this,t,i),r=n.length,s=n.push(...e);return e.length&&q(this,n,i.path,r,e.length,[]),s}pop(t){let e={path:""},i=Object(o.a)(this,t,e),n=Boolean(i.length),r=i.pop();return n&&q(this,i,e.path,i.length,0,[r]),r}splice(t,e,i,...n){let r,s={path:""},a=Object(o.a)(this,t,s);return e<0?e=a.length-Math.floor(-e):e&&(e=Math.floor(e)),r=2===arguments.length?a.splice(e):a.splice(e,i,...n),(n.length||r.length)&&q(this,a,s.path,e,n.length,r),r}shift(t){let e={path:""},i=Object(o.a)(this,t,e),n=Boolean(i.length),r=i.shift();return n&&q(this,i,e.path,0,0,[r]),r}unshift(t,...e){let i={path:""},n=Object(o.a)(this,t,i),r=n.unshift(...e);return e.length&&q(this,n,i.path,0,e.length,[]),r}notifyPath(t,e){let i;if(1==arguments.length){let n={path:""};e=Object(o.a)(this,t,n),i=n.path}else i=Array.isArray(t)?Object(o.f)(t):t;this._setPendingPropertyOrPath(i,e,!0,!0)&&this._invalidateProperties()}_createReadOnlyProperty(t,e){var i;this._addPropertyEffect(t,y.READ_ONLY),e&&(this["_set"+(i=t,i[0].toUpperCase()+i.substring(1))]=function(e){this._setProperty(t,e)})}_createPropertyObserver(t,e,i){let n={property:t,method:e,dynamicFn:Boolean(i)};this._addPropertyEffect(t,y.OBSERVE,{fn:C,info:n,trigger:{name:t}}),i&&this._addPropertyEffect(e,y.OBSERVE,{fn:C,info:n,trigger:{name:e}})}_createMethodObserver(t,e){let i=B(t);if(!i)throw new Error("Malformed observer expression '"+t+"'");L(this,i,y.OBSERVE,R,null,e)}_createNotifyingProperty(t){this._addPropertyEffect(t,y.NOTIFY,{fn:E,info:{eventName:Object(s.a)(t)+"-changed",property:t}})}_createReflectedProperty(t){let e=this.constructor.attributeNameForProperty(t);"-"===e[0]?console.warn("Property "+t+" cannot be reflected to attribute "+e+' because "-" is not a valid starting attribute name. Use a lowercase first letter for the property instead.'):this._addPropertyEffect(t,y.REFLECT,{fn:O,info:{attrName:e}})}_createComputedProperty(t,e,i){let n=B(e);if(!n)throw new Error("Malformed computed expression '"+e+"'");L(this,n,y.COMPUTE,T,t,i)}_marshalArgs(t,e,i){const n=this.__data,r=[];for(let s=0,a=t.length;s<a;s++){let{name:a,structured:l,wildcard:c,value:d,literal:p}=t[s];if(!p)if(c){const t=Object(o.c)(a,e),r=V(n,i,t?e:a);d={path:t?e:a,value:r,base:t?Object(o.a)(n,a):r}}else d=l?V(n,i,a):n[a];r[s]=d}return r}static addPropertyEffect(t,e,i){this.prototype._addPropertyEffect(t,e,i)}static createPropertyObserver(t,e,i){this.prototype._createPropertyObserver(t,e,i)}static createMethodObserver(t,e){this.prototype._createMethodObserver(t,e)}static createNotifyingProperty(t){this.prototype._createNotifyingProperty(t)}static createReadOnlyProperty(t,e){this.prototype._createReadOnlyProperty(t,e)}static createReflectedProperty(t){this.prototype._createReflectedProperty(t)}static createComputedProperty(t,e,i){this.prototype._createComputedProperty(t,e,i)}static bindTemplate(t){return this.prototype._bindTemplate(t)}_bindTemplate(t,e){let i=this.constructor._parseTemplate(t),n=this.__templateInfo==i;if(!n)for(let t in i.propertyEffects)this._createPropertyAccessor(t);if(e&&(i=Object.create(i),i.wasPreBound=n,!n&&this.__templateInfo)){let t=this.__templateInfoLast||this.__templateInfo;return this.__templateInfoLast=t.nextTemplateInfo=i,i.previousTemplateInfo=t,i}return this.__templateInfo=i}static _addTemplatePropertyEffect(t,e,i){(t.hostProps=t.hostProps||{})[e]=!0;let n=t.propertyEffects=t.propertyEffects||{};(n[e]=n[e]||[]).push(i)}_stampTemplate(t){Y.beginHosting(this);let e=super._stampTemplate(t);Y.endHosting(this);let i=this._bindTemplate(t,!0);if(i.nodeList=e.nodeList,!i.wasPreBound){let t=i.childNodes=[];for(let i=e.firstChild;i;i=i.nextSibling)t.push(i)}return e.templateInfo=i,function(t,e){let{nodeList:i,nodeInfoList:n}=e;if(n.length)for(let e=0;e<n.length;e++){let r=n[e],o=i[e],s=r.bindings;if(s)for(let e=0;e<s.length;e++){let i=s[e];z(o,i),I(o,t,i)}o.__dataHost=t}}(this,i),this.__dataReady&&w(this,i.propertyEffects,this.__data,null,!1,i.nodeList),e}_removeBoundDom(t){let e=t.templateInfo;e.previousTemplateInfo&&(e.previousTemplateInfo.nextTemplateInfo=e.nextTemplateInfo),e.nextTemplateInfo&&(e.nextTemplateInfo.previousTemplateInfo=e.previousTemplateInfo),this.__templateInfoLast==e&&(this.__templateInfoLast=e.previousTemplateInfo),e.previousTemplateInfo=e.nextTemplateInfo=null;let i=e.childNodes;for(let t=0;t<i.length;t++){let e=i[t];e.parentNode.removeChild(e)}}static _parseTemplateNode(t,e,i){let n=super._parseTemplateNode(t,e,i);if(t.nodeType===Node.TEXT_NODE){let r=this._parseBindings(t.textContent,e);r&&(t.textContent=H(r)||" ",A(this,e,i,"text","textContent",r),n=!0)}return n}static _parseTemplateNodeAttribute(t,e,i,n,r){let o=this._parseBindings(r,e);if(o){let r=n,a="property";g.test(n)?a="attribute":"$"==n[n.length-1]&&(n=n.slice(0,-1),a="attribute");let l=H(o);return l&&"attribute"==a&&("class"==n&&t.hasAttribute("class")&&(l+=" "+t.getAttribute(n)),t.setAttribute(n,l)),"input"===t.localName&&"value"===r&&t.setAttribute(r,""),t.removeAttribute(r),"property"===a&&(n=Object(s.b)(n)),A(this,e,i,a,n,o,l),!0}return super._parseTemplateNodeAttribute(t,e,i,n,r)}static _parseTemplateNestedTemplate(t,e,i){let n=super._parseTemplateNestedTemplate(t,e,i),r=i.templateInfo.hostProps;for(let t in r){A(this,e,i,"property","_host_"+t,[{mode:"{",source:t,dependencies:[t]}])}return n}static _parseBindings(t,e){let i,n=[],r=0;for(;null!==(i=D.exec(t));){i.index>r&&n.push({literal:t.slice(r,i.index)});let o=i[1][0],s=Boolean(i[2]),a=i[3].trim(),l=!1,c="",d=-1;"{"==o&&(d=a.indexOf("::"))>0&&(c=a.substring(d+2),a=a.substring(0,d),l=!0);let p=B(a),h=[];if(p){let{args:t,methodName:i}=p;for(let e=0;e<t.length;e++){let i=t[e];i.literal||h.push(i)}let n=e.dynamicFns;(n&&n[i]||p.static)&&(h.push(i),p.dynamicFn=!0)}else h.push(a);n.push({source:a,mode:o,negate:s,customEvent:l,signature:p,dependencies:h,event:c}),r=D.lastIndex}if(r&&r<t.length){let e=t.substring(r);e&&n.push({literal:e})}return n.length?n:null}static _evaluateBinding(t,e,i,n,r,s){let a;return a=e.signature?R(t,i,n,0,e.signature):i!=e.source?Object(o.a)(t,e.source):s&&Object(o.d)(i)?Object(o.a)(t,i):t.__data[i],e.negate&&(a=!a),a}}});const Y=new class{constructor(){this.stack=[]}registerHost(t){if(this.stack.length){this.stack[this.stack.length-1]._enqueueClient(t)}}beginHosting(t){this.stack.push(t)}endHosting(t){let e=this.stack.length;e&&this.stack[e-1]==t&&this.stack.pop()}}},function(t,e,i){"use strict";i.d(e,"a",(function(){return c}));i(7);var n=i(18),r=i(5);
/**
@license
Copyright (c) 2017 The Polymer Project Authors. All rights reserved.
This code may only be used under the BSD style license found at http://polymer.github.io/LICENSE.txt
The complete set of authors may be found at http://polymer.github.io/AUTHORS.txt
The complete set of contributors may be found at http://polymer.github.io/CONTRIBUTORS.txt
Code distributed by Google as part of the polymer project is also
subject to an additional IP rights grant found at http://polymer.github.io/PATENTS.txt
*/
let o={},s={};function a(t,e){o[t]=s[t.toLowerCase()]=e}function l(t){return o[t]||s[t.toLowerCase()]}class c extends HTMLElement{static get observedAttributes(){return["id"]}static import(t,e){if(t){let i=l(t);return i&&e?i.querySelector(e):i}return null}attributeChangedCallback(t,e,i,n){e!==i&&this.register()}get assetpath(){if(!this.__assetpath){const t=window.HTMLImports&&HTMLImports.importForElement?HTMLImports.importForElement(this)||document:this.ownerDocument,e=Object(n.c)(this.getAttribute("assetpath")||"",t.baseURI);this.__assetpath=Object(n.a)(e)}return this.__assetpath}register(t){if(t=t||this.id){if(r.g&&void 0!==l(t))throw a(t,null),new Error(`strictTemplatePolicy: dom-module ${t} re-registered`);this.id=t,a(t,this),(e=this).querySelector("style")&&console.warn("dom-module %s has style outside template",e.id)}var e}}c.prototype.modules=o,customElements.define("dom-module",c)},function(t,e,i){"use strict";i.d(e,"a",(function(){return pt}));var n=i(13);
/**
@license
Copyright (c) 2017 The Polymer Project Authors. All rights reserved.
This code may only be used under the BSD style license found at http://polymer.github.io/LICENSE.txt
The complete set of authors may be found at http://polymer.github.io/AUTHORS.txt
The complete set of contributors may be found at http://polymer.github.io/CONTRIBUTORS.txt
Code distributed by Google as part of the polymer project is also
subject to an additional IP rights grant found at http://polymer.github.io/PATENTS.txt
*/class r{constructor(){this.start=0,this.end=0,this.previous=null,this.parent=null,this.rules=null,this.parsedCssText="",this.cssText="",this.atRule=!1,this.type=0,this.keyframesName="",this.selector="",this.parsedSelector=""}}function o(t){return function t(e,i){let n=i.substring(e.start,e.end-1);if(e.parsedCssText=e.cssText=n.trim(),e.parent){let t=e.previous?e.previous.end:e.parent.start;n=i.substring(t,e.start-1),n=function(t){return t.replace(/\\([0-9a-f]{1,6})\s/gi,(function(){let t=arguments[1],e=6-t.length;for(;e--;)t="0"+t;return"\\"+t}))}(n),n=n.replace(d.multipleSpaces," "),n=n.substring(n.lastIndexOf(";")+1);let r=e.parsedSelector=e.selector=n.trim();e.atRule=0===r.indexOf(u),e.atRule?0===r.indexOf(h)?e.type=a.MEDIA_RULE:r.match(d.keyframesRule)&&(e.type=a.KEYFRAMES_RULE,e.keyframesName=e.selector.split(d.multipleSpaces).pop()):0===r.indexOf(p)?e.type=a.MIXIN_RULE:e.type=a.STYLE_RULE}let r=e.rules;if(r)for(let e,n=0,o=r.length;n<o&&(e=r[n]);n++)t(e,i);return e}(function(t){let e=new r;e.start=0,e.end=t.length;let i=e;for(let n=0,o=t.length;n<o;n++)if(t[n]===l){i.rules||(i.rules=[]);let t=i,e=t.rules[t.rules.length-1]||null;i=new r,i.start=n+1,i.parent=t,i.previous=e,t.rules.push(i)}else t[n]===c&&(i.end=n+1,i=i.parent||e);return e}(t=t.replace(d.comments,"").replace(d.port,"")),t)}function s(t,e,i=""){let n="";if(t.cssText||t.rules){let i=t.rules;if(i&&!function(t){let e=t[0];return Boolean(e)&&Boolean(e.selector)&&0===e.selector.indexOf(p)}(i))for(let t,r=0,o=i.length;r<o&&(t=i[r]);r++)n=s(t,e,n);else n=e?t.cssText:function(t){return function(t){return t.replace(d.mixinApply,"").replace(d.varApply,"")}(t=function(t){return t.replace(d.customProp,"").replace(d.mixinProp,"")}(t))}(t.cssText),n=n.trim(),n&&(n="  "+n+"\n")}return n&&(t.selector&&(i+=t.selector+" "+l+"\n"),i+=n,t.selector&&(i+=c+"\n\n")),i}const a={STYLE_RULE:1,KEYFRAMES_RULE:7,MEDIA_RULE:4,MIXIN_RULE:1e3},l="{",c="}",d={comments:/\/\*[^*]*\*+([^/*][^*]*\*+)*\//gim,port:/@import[^;]*;/gim,customProp:/(?:^[^;\-\s}]+)?--[^;{}]*?:[^{};]*?(?:[;\n]|$)/gim,mixinProp:/(?:^[^;\-\s}]+)?--[^;{}]*?:[^{};]*?{[^}]*?}(?:[;\n]|$)?/gim,mixinApply:/@apply\s*\(?[^);]*\)?\s*(?:[;\n]|$)?/gim,varApply:/[^;:]*?:[^;]*?var\([^;]*\)(?:[;\n]|$)?/gim,keyframesRule:/^@[^\s]*keyframes/,multipleSpaces:/\s+/g},p="--",h="@media",u="@";var f=i(21);
/**
@license
Copyright (c) 2017 The Polymer Project Authors. All rights reserved.
This code may only be used under the BSD style license found at http://polymer.github.io/LICENSE.txt
The complete set of authors may be found at http://polymer.github.io/AUTHORS.txt
The complete set of contributors may be found at http://polymer.github.io/CONTRIBUTORS.txt
Code distributed by Google as part of the polymer project is also
subject to an additional IP rights grant found at http://polymer.github.io/PATENTS.txt
*/const _=new Set;function m(t){const e=t.textContent;if(!_.has(e)){_.add(e);const i=t.cloneNode(!0);document.head.appendChild(i)}}function b(t){return t.hasAttribute("shady-unscoped")}
/**
@license
Copyright (c) 2017 The Polymer Project Authors. All rights reserved.
This code may only be used under the BSD style license found at http://polymer.github.io/LICENSE.txt
The complete set of authors may be found at http://polymer.github.io/AUTHORS.txt
The complete set of contributors may be found at http://polymer.github.io/CONTRIBUTORS.txt
Code distributed by Google as part of the polymer project is also
subject to an additional IP rights grant found at http://polymer.github.io/PATENTS.txt
*/function y(t,e){return t?("string"==typeof t&&(t=o(t)),e&&v(t,e),s(t,n.c)):""}function g(t){return!t.__cssRules&&t.textContent&&(t.__cssRules=o(t.textContent)),t.__cssRules||null}function v(t,e,i,n){if(!t)return;let r=!1,o=t.type;if(n&&o===a.MEDIA_RULE){let e=t.selector.match(f.a);e&&(window.matchMedia(e[1]).matches||(r=!0))}o===a.STYLE_RULE?e(t):i&&o===a.KEYFRAMES_RULE?i(t):o===a.MIXIN_RULE&&(r=!0);let s=t.rules;if(s&&!r)for(let t,r=0,o=s.length;r<o&&(t=s[r]);r++)v(t,e,i,n)}function w(t,e){let i=0;for(let n=e,r=t.length;n<r;n++)if("("===t[n])i++;else if(")"===t[n]&&0==--i)return n;return-1}window.ShadyDOM&&window.ShadyDOM.wrap;function x(t){if(void 0!==n.a)return n.a;if(void 0===t.__cssBuild){const e=t.getAttribute("css-build");if(e)t.__cssBuild=e;else{const e=function(t){const e="template"===t.localName?t.content.firstChild:t.firstChild;if(e instanceof Comment){const t=e.textContent.trim().split(":");if("css-build"===t[0])return t[1]}return""}(t);""!==e&&function(t){const e="template"===t.localName?t.content.firstChild:t.firstChild;e.parentNode.removeChild(e)}(t),t.__cssBuild=e}}return t.__cssBuild||""}function S(t){return""!==x(t)}var C=i(27);
/**
@license
Copyright (c) 2017 The Polymer Project Authors. All rights reserved.
This code may only be used under the BSD style license found at http://polymer.github.io/LICENSE.txt
The complete set of authors may be found at http://polymer.github.io/AUTHORS.txt
The complete set of contributors may be found at http://polymer.github.io/CONTRIBUTORS.txt
Code distributed by Google as part of the polymer project is also
subject to an additional IP rights grant found at http://polymer.github.io/PATENTS.txt
*/const k=/;\s*/m,P=/^\s*(initial)|(inherit)\s*$/,E=/\s*!important/;class O{constructor(){this._map={}}set(t,e){t=t.trim(),this._map[t]={properties:e,dependants:{}}}get(t){return t=t.trim(),this._map[t]||null}}let T=null;class A{constructor(){this._currentElement=null,this._measureElement=null,this._map=new O}detectMixin(t){return Object(C.a)(t)}gatherStyles(t){const e=function(t){const e=[],i=t.querySelectorAll("style");for(let t=0;t<i.length;t++){const r=i[t];b(r)?n.d||(m(r),r.parentNode.removeChild(r)):(e.push(r.textContent),r.parentNode.removeChild(r))}return e.join("").trim()}(t.content);if(e){const i=document.createElement("style");return i.textContent=e,t.content.insertBefore(i,t.content.firstChild),i}return null}transformTemplate(t,e){void 0===t._gatheredStyle&&(t._gatheredStyle=this.gatherStyles(t));const i=t._gatheredStyle;return i?this.transformStyle(i,e):null}transformStyle(t,e=""){let i=g(t);return this.transformRules(i,e),t.textContent=y(i),i}transformCustomStyle(t){let e=g(t);return v(e,t=>{":root"===t.selector&&(t.selector="html"),this.transformRule(t)}),t.textContent=y(e),e}transformRules(t,e){this._currentElement=e,v(t,t=>{this.transformRule(t)}),this._currentElement=null}transformRule(t){t.cssText=this.transformCssText(t.parsedCssText,t),":root"===t.selector&&(t.selector=":host > *")}transformCssText(t,e){return t=t.replace(f.c,(t,i,n,r)=>this._produceCssProperties(t,i,n,r,e)),this._consumeCssProperties(t,e)}_getInitialValueForProperty(t){return this._measureElement||(this._measureElement=document.createElement("meta"),this._measureElement.setAttribute("apply-shim-measure",""),this._measureElement.style.all="initial",document.head.appendChild(this._measureElement)),window.getComputedStyle(this._measureElement).getPropertyValue(t)}_fallbacksFromPreviousRules(t){let e=t;for(;e.parent;)e=e.parent;const i={};let n=!1;return v(e,e=>{n=n||e===t,n||e.selector===t.selector&&Object.assign(i,this._cssTextToMap(e.parsedCssText))}),i}_consumeCssProperties(t,e){let i=null;for(;i=f.b.exec(t);){let n=i[0],r=i[1],o=i.index,s=o+n.indexOf("@apply"),a=o+n.length,l=t.slice(0,s),c=t.slice(a),d=e?this._fallbacksFromPreviousRules(e):{};Object.assign(d,this._cssTextToMap(l));let p=this._atApplyToCssProperties(r,d);t=`${l}${p}${c}`,f.b.lastIndex=o+p.length}return t}_atApplyToCssProperties(t,e){t=t.replace(k,"");let i=[],n=this._map.get(t);if(n||(this._map.set(t,{}),n=this._map.get(t)),n){let r,o,s;this._currentElement&&(n.dependants[this._currentElement]=!0);const a=n.properties;for(r in a)s=e&&e[r],o=[r,": var(",t,"_-_",r],s&&o.push(",",s.replace(E,"")),o.push(")"),E.test(a[r])&&o.push(" !important"),i.push(o.join(""))}return i.join("; ")}_replaceInitialOrInherit(t,e){let i=P.exec(e);return i&&(e=i[1]?this._getInitialValueForProperty(t):"apply-shim-inherit"),e}_cssTextToMap(t,e=!1){let i,n,r=t.split(";"),o={};for(let t,s,a=0;a<r.length;a++)t=r[a],t&&(s=t.split(":"),s.length>1&&(i=s[0].trim(),n=s.slice(1).join(":"),e&&(n=this._replaceInitialOrInherit(i,n)),o[i]=n));return o}_invalidateMixinEntry(t){if(T)for(let e in t.dependants)e!==this._currentElement&&T(e)}_produceCssProperties(t,e,i,n,r){if(i&&function t(e,i){let n=e.indexOf("var(");if(-1===n)return i(e,"","","");let r=w(e,n+3),o=e.substring(n+4,r),s=e.substring(0,n),a=t(e.substring(r+1),i),l=o.indexOf(",");return-1===l?i(s,o.trim(),"",a):i(s,o.substring(0,l).trim(),o.substring(l+1).trim(),a)}(i,(t,e)=>{e&&this._map.get(e)&&(n=`@apply ${e};`)}),!n)return t;let o=this._consumeCssProperties(""+n,r),s=t.slice(0,t.indexOf("--")),a=this._cssTextToMap(o,!0),l=a,c=this._map.get(e),d=c&&c.properties;d?l=Object.assign(Object.create(d),a):this._map.set(e,l);let p,h,u=[],f=!1;for(p in l)h=a[p],void 0===h&&(h="initial"),d&&!(p in d)&&(f=!0),u.push(`${e}_-_${p}: ${h}`);return f&&this._invalidateMixinEntry(c),c&&(c.properties=l),i&&(s=`${t};${s}`),`${s}${u.join("; ")};`}}A.prototype.detectMixin=A.prototype.detectMixin,A.prototype.transformStyle=A.prototype.transformStyle,A.prototype.transformCustomStyle=A.prototype.transformCustomStyle,A.prototype.transformRules=A.prototype.transformRules,A.prototype.transformRule=A.prototype.transformRule,A.prototype.transformTemplate=A.prototype.transformTemplate,A.prototype._separator="_-_",Object.defineProperty(A.prototype,"invalidCallback",{get:()=>T,set(t){T=t}});var N=A;
/**
@license
Copyright (c) 2017 The Polymer Project Authors. All rights reserved.
This code may only be used under the BSD style license found at http://polymer.github.io/LICENSE.txt
The complete set of authors may be found at http://polymer.github.io/AUTHORS.txt
The complete set of contributors may be found at http://polymer.github.io/CONTRIBUTORS.txt
Code distributed by Google as part of the polymer project is also
subject to an additional IP rights grant found at http://polymer.github.io/PATENTS.txt
*/var M={};
/**
@license
Copyright (c) 2017 The Polymer Project Authors. All rights reserved.
This code may only be used under the BSD style license found at http://polymer.github.io/LICENSE.txt
The complete set of authors may be found at http://polymer.github.io/AUTHORS.txt
The complete set of contributors may be found at http://polymer.github.io/CONTRIBUTORS.txt
Code distributed by Google as part of the polymer project is also
subject to an additional IP rights grant found at http://polymer.github.io/PATENTS.txt
*/const z="_applyShimCurrentVersion",I="_applyShimNextVersion",L=Promise.resolve();function R(t){let e=M[t];e&&function(t){t[z]=t[z]||0,t._applyShimValidatingVersion=t._applyShimValidatingVersion||0,t[I]=(t[I]||0)+1}(e)}function j(t){return t[z]===t[I]}function D(t){return!j(t)&&t._applyShimValidatingVersion===t[I]}function H(t){t._applyShimValidatingVersion=t[I],t._validating||(t._validating=!0,L.then((function(){t[z]=t[I],t._validating=!1})))}i(45);
/**
@license
Copyright (c) 2017 The Polymer Project Authors. All rights reserved.
This code may only be used under the BSD style license found at http://polymer.github.io/LICENSE.txt
The complete set of authors may be found at http://polymer.github.io/AUTHORS.txt
The complete set of contributors may be found at http://polymer.github.io/CONTRIBUTORS.txt
Code distributed by Google as part of the polymer project is also
subject to an additional IP rights grant found at http://polymer.github.io/PATENTS.txt
*/const B=new N;class F{constructor(){this.customStyleInterface=null,B.invalidCallback=R}ensure(){this.customStyleInterface||window.ShadyCSS.CustomStyleInterface&&(this.customStyleInterface=window.ShadyCSS.CustomStyleInterface,this.customStyleInterface.transformCallback=t=>{B.transformCustomStyle(t)},this.customStyleInterface.validateCallback=()=>{requestAnimationFrame(()=>{this.customStyleInterface.enqueued&&this.flushCustomStyles()})})}prepareTemplate(t,e){if(this.ensure(),S(t))return;M[e]=t;let i=B.transformTemplate(t,e);t._styleAst=i}flushCustomStyles(){if(this.ensure(),!this.customStyleInterface)return;let t=this.customStyleInterface.processStyles();if(this.customStyleInterface.enqueued){for(let e=0;e<t.length;e++){let i=t[e],n=this.customStyleInterface.getStyleForCustomStyle(i);n&&B.transformCustomStyle(n)}this.customStyleInterface.enqueued=!1}}styleSubtree(t,e){if(this.ensure(),e&&Object(C.c)(t,e),t.shadowRoot){this.styleElement(t);let e=t.shadowRoot.children||t.shadowRoot.childNodes;for(let t=0;t<e.length;t++)this.styleSubtree(e[t])}else{let e=t.children||t.childNodes;for(let t=0;t<e.length;t++)this.styleSubtree(e[t])}}styleElement(t){this.ensure();let{is:e}=function(t){let e=t.localName,i="",n="";return e?e.indexOf("-")>-1?i=e:(n=e,i=t.getAttribute&&t.getAttribute("is")||""):(i=t.is,n=t.extends),{is:i,typeExtension:n}}(t),i=M[e];if((!i||!S(i))&&i&&!j(i)){D(i)||(this.prepareTemplate(i,e),H(i));let n=t.shadowRoot;if(n){let t=n.querySelector("style");t&&(t.__cssRules=i._styleAst,t.textContent=y(i._styleAst))}}}styleDocument(t){this.ensure(),this.styleSubtree(document.body,t)}}if(!window.ShadyCSS||!window.ShadyCSS.ScopingShim){const t=new F;let e=window.ShadyCSS&&window.ShadyCSS.CustomStyleInterface;window.ShadyCSS={prepareTemplate(e,i,n){t.flushCustomStyles(),t.prepareTemplate(e,i)},prepareTemplateStyles(t,e,i){window.ShadyCSS.prepareTemplate(t,e,i)},prepareTemplateDom(t,e){},styleSubtree(e,i){t.flushCustomStyles(),t.styleSubtree(e,i)},styleElement(e){t.flushCustomStyles(),t.styleElement(e)},styleDocument(e){t.flushCustomStyles(),t.styleDocument(e)},getComputedStyleValue:(t,e)=>Object(C.b)(t,e),flushCustomStyles(){t.flushCustomStyles()},nativeCss:n.c,nativeShadow:n.d,cssBuild:n.a,disableRuntime:n.b},e&&(window.ShadyCSS.CustomStyleInterface=e)}window.ShadyCSS.ApplyShim=B;var V=i(30),$=i(39),q=i(37),U=i(10);
/**
 * @fileoverview
 * @suppress {checkPrototypalTypes}
 * @license Copyright (c) 2017 The Polymer Project Authors. All rights reserved.
 * This code may only be used under the BSD style license found at
 * http://polymer.github.io/LICENSE.txt The complete set of authors may be found
 * at http://polymer.github.io/AUTHORS.txt The complete set of contributors may
 * be found at http://polymer.github.io/CONTRIBUTORS.txt Code distributed by
 * Google as part of the polymer project is also subject to an additional IP
 * rights grant found at http://polymer.github.io/PATENTS.txt
 */
const Y=/:host\(:dir\((ltr|rtl)\)\)/g,K=/([\s\w-#\.\[\]\*]*):dir\((ltr|rtl)\)/g,W=/:dir\((?:ltr|rtl)\)/,J=Boolean(window.ShadyDOM&&window.ShadyDOM.inUse),G=[];let X=null,Z="";function Q(){Z=document.documentElement.getAttribute("dir")}function tt(t){if(!t.__autoDirOptOut){t.setAttribute("dir",Z)}}function et(){Q(),Z=document.documentElement.getAttribute("dir");for(let t=0;t<G.length;t++)tt(G[t])}const it=Object(U.a)(t=>{J||X||(Q(),X=new MutationObserver(et),X.observe(document.documentElement,{attributes:!0,attributeFilter:["dir"]}));const e=Object(q.a)(t);class i extends e{static _processStyleText(t,e){return t=super._processStyleText(t,e),!J&&W.test(t)&&(t=this._replaceDirInCssText(t),this.__activateDir=!0),t}static _replaceDirInCssText(t){let e=t;return e=e.replace(Y,':host([dir="$1"])'),e=e.replace(K,':host([dir="$2"]) $1'),e}constructor(){super(),this.__autoDirOptOut=!1}ready(){super.ready(),this.__autoDirOptOut=this.hasAttribute("dir")}connectedCallback(){e.prototype.connectedCallback&&super.connectedCallback(),this.constructor.__activateDir&&(X&&X.takeRecords().length&&et(),G.push(this),tt(this))}disconnectedCallback(){if(e.prototype.disconnectedCallback&&super.disconnectedCallback(),this.constructor.__activateDir){const t=G.indexOf(this);t>-1&&G.splice(t,1)}}}return i.__activateDir=!1,i});i(44);
/**
@license
Copyright (c) 2017 The Polymer Project Authors. All rights reserved.
This code may only be used under the BSD style license found at http://polymer.github.io/LICENSE.txt
The complete set of authors may be found at http://polymer.github.io/AUTHORS.txt
The complete set of contributors may be found at http://polymer.github.io/CONTRIBUTORS.txt
Code distributed by Google as part of the polymer project is also
subject to an additional IP rights grant found at http://polymer.github.io/PATENTS.txt
*/function nt(){document.body.removeAttribute("unresolved")}"interactive"===document.readyState||"complete"===document.readyState?nt():window.addEventListener("DOMContentLoaded",nt);var rt=i(4),ot=i(36),st=i(16),at=i(12),lt=i(2),ct=i(0);
/**
@license
Copyright (c) 2017 The Polymer Project Authors. All rights reserved.
This code may only be used under the BSD style license found at http://polymer.github.io/LICENSE.txt
The complete set of authors may be found at http://polymer.github.io/AUTHORS.txt
The complete set of contributors may be found at http://polymer.github.io/CONTRIBUTORS.txt
Code distributed by Google as part of the polymer project is also
subject to an additional IP rights grant found at http://polymer.github.io/PATENTS.txt
*/
let dt=window.ShadyCSS;const pt=Object(U.a)(t=>{const e=it(Object($.a)(Object(V.a)(t))),i={x:"pan-x",y:"pan-y",none:"none",all:"auto"};class n extends e{constructor(){super(),this.isAttached,this.__boundListeners,this._debouncers}static get importMeta(){return this.prototype.importMeta}created(){}connectedCallback(){super.connectedCallback(),this.isAttached=!0,this.attached()}attached(){}disconnectedCallback(){super.disconnectedCallback(),this.isAttached=!1,this.detached()}detached(){}attributeChangedCallback(t,e,i,n){e!==i&&(super.attributeChangedCallback(t,e,i,n),this.attributeChanged(t,e,i))}attributeChanged(t,e,i){}_initializeProperties(){let t=Object.getPrototypeOf(this);t.hasOwnProperty("__hasRegisterFinished")||(this._registered(),t.__hasRegisterFinished=!0),super._initializeProperties(),this.root=this,this.created(),this._applyListeners()}_registered(){}ready(){this._ensureAttributes(),super.ready()}_ensureAttributes(){}_applyListeners(){}serialize(t){return this._serializeValue(t)}deserialize(t,e){return this._deserializeValue(t,e)}reflectPropertyToAttribute(t,e,i){this._propertyToAttribute(t,e,i)}serializeValueToAttribute(t,e,i){this._valueToNodeAttribute(i||this,t,e)}extend(t,e){if(!t||!e)return t||e;let i=Object.getOwnPropertyNames(e);for(let n,r=0;r<i.length&&(n=i[r]);r++){let i=Object.getOwnPropertyDescriptor(e,n);i&&Object.defineProperty(t,n,i)}return t}mixin(t,e){for(let i in e)t[i]=e[i];return t}chainObject(t,e){return t&&e&&t!==e&&(t.__proto__=e),t}instanceTemplate(t){let e=this.constructor._contentForTemplate(t);return document.importNode(e,!0)}fire(t,e,i){i=i||{},e=null==e?{}:e;let n=new Event(t,{bubbles:void 0===i.bubbles||i.bubbles,cancelable:Boolean(i.cancelable),composed:void 0===i.composed||i.composed});n.detail=e;let r=i.node||this;return Object(ct.a)(r).dispatchEvent(n),n}listen(t,e,i){t=t||this;let n=this.__boundListeners||(this.__boundListeners=new WeakMap),r=n.get(t);r||(r={},n.set(t,r));let o=e+i;r[o]||(r[o]=this._addMethodEventListenerToNode(t,e,i,this))}unlisten(t,e,i){t=t||this;let n=this.__boundListeners&&this.__boundListeners.get(t),r=e+i,o=n&&n[r];o&&(this._removeEventListenerFromNode(t,e,o),n[r]=null)}setScrollDirection(t,e){Object(ot.c)(e||this,i[t]||"auto")}$$(t){return this.root.querySelector(t)}get domHost(){let t=Object(ct.a)(this).getRootNode();return t instanceof DocumentFragment?t.host:t}distributeContent(){const t=Object(rt.a)(this);window.ShadyDOM&&t.shadowRoot&&ShadyDOM.flush()}getEffectiveChildNodes(){return Object(rt.a)(this).getEffectiveChildNodes()}queryDistributedElements(t){return Object(rt.a)(this).queryDistributedElements(t)}getEffectiveChildren(){return this.getEffectiveChildNodes().filter((function(t){return t.nodeType===Node.ELEMENT_NODE}))}getEffectiveTextContent(){let t=this.getEffectiveChildNodes(),e=[];for(let i,n=0;i=t[n];n++)i.nodeType!==Node.COMMENT_NODE&&e.push(i.textContent);return e.join("")}queryEffectiveChildren(t){let e=this.queryDistributedElements(t);return e&&e[0]}queryAllEffectiveChildren(t){return this.queryDistributedElements(t)}getContentChildNodes(t){let e=this.root.querySelector(t||"slot");return e?Object(rt.a)(e).getDistributedNodes():[]}getContentChildren(t){return this.getContentChildNodes(t).filter((function(t){return t.nodeType===Node.ELEMENT_NODE}))}isLightDescendant(t){return this!==t&&Object(ct.a)(this).contains(t)&&Object(ct.a)(this).getRootNode()===Object(ct.a)(t).getRootNode()}isLocalDescendant(t){return this.root===Object(ct.a)(t).getRootNode()}scopeSubtree(t,e){}getComputedStyleValue(t){return dt.getComputedStyleValue(this,t)}debounce(t,e,i){return this._debouncers=this._debouncers||{},this._debouncers[t]=st.a.debounce(this._debouncers[t],i>0?at.c.after(i):at.b,e.bind(this))}isDebouncerActive(t){this._debouncers=this._debouncers||{};let e=this._debouncers[t];return!(!e||!e.isActive())}flushDebouncer(t){this._debouncers=this._debouncers||{};let e=this._debouncers[t];e&&e.flush()}cancelDebouncer(t){this._debouncers=this._debouncers||{};let e=this._debouncers[t];e&&e.cancel()}async(t,e){return e>0?at.c.run(t.bind(this),e):~at.b.run(t.bind(this))}cancelAsync(t){t<0?at.b.cancel(~t):at.c.cancel(t)}create(t,e){let i=document.createElement(t);if(e)if(i.setProperties)i.setProperties(e);else for(let t in e)i[t]=e[t];return i}elementMatches(t,e){return Object(rt.b)(e||this,t)}toggleAttribute(t,e){let i=this;return 3===arguments.length&&(i=arguments[2]),1==arguments.length&&(e=!i.hasAttribute(t)),e?(Object(ct.a)(i).setAttribute(t,""),!0):(Object(ct.a)(i).removeAttribute(t),!1)}toggleClass(t,e,i){i=i||this,1==arguments.length&&(e=!i.classList.contains(t)),e?i.classList.add(t):i.classList.remove(t)}transform(t,e){(e=e||this).style.webkitTransform=t,e.style.transform=t}translate3d(t,e,i,n){n=n||this,this.transform("translate3d("+t+","+e+","+i+")",n)}arrayDelete(t,e){let i;if(Array.isArray(t)){if(i=t.indexOf(e),i>=0)return t.splice(i,1)}else{if(i=Object(lt.a)(this,t).indexOf(e),i>=0)return this.splice(t,i,1)}return null}_logger(t,e){switch(Array.isArray(e)&&1===e.length&&Array.isArray(e[0])&&(e=e[0]),t){case"log":case"warn":case"error":console[t](...e)}}_log(...t){this._logger("log",t)}_warn(...t){this._logger("warn",t)}_error(...t){this._logger("error",t)}_logf(t,...e){return["[%s::%s]",this.is,t,...e]}}return n.prototype.is="",n})},function(t,e,i){"use strict";i(6);
/**
@license
Copyright (c) 2015 The Polymer Project Authors. All rights reserved.
This code may only be used under the BSD style license found at
http://polymer.github.io/LICENSE.txt The complete set of authors may be found at
http://polymer.github.io/AUTHORS.txt The complete set of contributors may be
found at http://polymer.github.io/CONTRIBUTORS.txt Code distributed by Google as
part of the polymer project is also subject to an additional IP rights grant
found at http://polymer.github.io/PATENTS.txt
*/
const n=i(3).a`
<custom-style>
  <style is="custom-style">
    [hidden] {
      display: none !important;
    }
  </style>
</custom-style>
<custom-style>
  <style is="custom-style">
    html {

      --layout: {
        display: -ms-flexbox;
        display: -webkit-flex;
        display: flex;
      };

      --layout-inline: {
        display: -ms-inline-flexbox;
        display: -webkit-inline-flex;
        display: inline-flex;
      };

      --layout-horizontal: {
        @apply --layout;

        -ms-flex-direction: row;
        -webkit-flex-direction: row;
        flex-direction: row;
      };

      --layout-horizontal-reverse: {
        @apply --layout;

        -ms-flex-direction: row-reverse;
        -webkit-flex-direction: row-reverse;
        flex-direction: row-reverse;
      };

      --layout-vertical: {
        @apply --layout;

        -ms-flex-direction: column;
        -webkit-flex-direction: column;
        flex-direction: column;
      };

      --layout-vertical-reverse: {
        @apply --layout;

        -ms-flex-direction: column-reverse;
        -webkit-flex-direction: column-reverse;
        flex-direction: column-reverse;
      };

      --layout-wrap: {
        -ms-flex-wrap: wrap;
        -webkit-flex-wrap: wrap;
        flex-wrap: wrap;
      };

      --layout-wrap-reverse: {
        -ms-flex-wrap: wrap-reverse;
        -webkit-flex-wrap: wrap-reverse;
        flex-wrap: wrap-reverse;
      };

      --layout-flex-auto: {
        -ms-flex: 1 1 auto;
        -webkit-flex: 1 1 auto;
        flex: 1 1 auto;
      };

      --layout-flex-none: {
        -ms-flex: none;
        -webkit-flex: none;
        flex: none;
      };

      --layout-flex: {
        -ms-flex: 1 1 0.000000001px;
        -webkit-flex: 1;
        flex: 1;
        -webkit-flex-basis: 0.000000001px;
        flex-basis: 0.000000001px;
      };

      --layout-flex-2: {
        -ms-flex: 2;
        -webkit-flex: 2;
        flex: 2;
      };

      --layout-flex-3: {
        -ms-flex: 3;
        -webkit-flex: 3;
        flex: 3;
      };

      --layout-flex-4: {
        -ms-flex: 4;
        -webkit-flex: 4;
        flex: 4;
      };

      --layout-flex-5: {
        -ms-flex: 5;
        -webkit-flex: 5;
        flex: 5;
      };

      --layout-flex-6: {
        -ms-flex: 6;
        -webkit-flex: 6;
        flex: 6;
      };

      --layout-flex-7: {
        -ms-flex: 7;
        -webkit-flex: 7;
        flex: 7;
      };

      --layout-flex-8: {
        -ms-flex: 8;
        -webkit-flex: 8;
        flex: 8;
      };

      --layout-flex-9: {
        -ms-flex: 9;
        -webkit-flex: 9;
        flex: 9;
      };

      --layout-flex-10: {
        -ms-flex: 10;
        -webkit-flex: 10;
        flex: 10;
      };

      --layout-flex-11: {
        -ms-flex: 11;
        -webkit-flex: 11;
        flex: 11;
      };

      --layout-flex-12: {
        -ms-flex: 12;
        -webkit-flex: 12;
        flex: 12;
      };

      /* alignment in cross axis */

      --layout-start: {
        -ms-flex-align: start;
        -webkit-align-items: flex-start;
        align-items: flex-start;
      };

      --layout-center: {
        -ms-flex-align: center;
        -webkit-align-items: center;
        align-items: center;
      };

      --layout-end: {
        -ms-flex-align: end;
        -webkit-align-items: flex-end;
        align-items: flex-end;
      };

      --layout-baseline: {
        -ms-flex-align: baseline;
        -webkit-align-items: baseline;
        align-items: baseline;
      };

      /* alignment in main axis */

      --layout-start-justified: {
        -ms-flex-pack: start;
        -webkit-justify-content: flex-start;
        justify-content: flex-start;
      };

      --layout-center-justified: {
        -ms-flex-pack: center;
        -webkit-justify-content: center;
        justify-content: center;
      };

      --layout-end-justified: {
        -ms-flex-pack: end;
        -webkit-justify-content: flex-end;
        justify-content: flex-end;
      };

      --layout-around-justified: {
        -ms-flex-pack: distribute;
        -webkit-justify-content: space-around;
        justify-content: space-around;
      };

      --layout-justified: {
        -ms-flex-pack: justify;
        -webkit-justify-content: space-between;
        justify-content: space-between;
      };

      --layout-center-center: {
        @apply --layout-center;
        @apply --layout-center-justified;
      };

      /* self alignment */

      --layout-self-start: {
        -ms-align-self: flex-start;
        -webkit-align-self: flex-start;
        align-self: flex-start;
      };

      --layout-self-center: {
        -ms-align-self: center;
        -webkit-align-self: center;
        align-self: center;
      };

      --layout-self-end: {
        -ms-align-self: flex-end;
        -webkit-align-self: flex-end;
        align-self: flex-end;
      };

      --layout-self-stretch: {
        -ms-align-self: stretch;
        -webkit-align-self: stretch;
        align-self: stretch;
      };

      --layout-self-baseline: {
        -ms-align-self: baseline;
        -webkit-align-self: baseline;
        align-self: baseline;
      };

      /* multi-line alignment in main axis */

      --layout-start-aligned: {
        -ms-flex-line-pack: start;  /* IE10 */
        -ms-align-content: flex-start;
        -webkit-align-content: flex-start;
        align-content: flex-start;
      };

      --layout-end-aligned: {
        -ms-flex-line-pack: end;  /* IE10 */
        -ms-align-content: flex-end;
        -webkit-align-content: flex-end;
        align-content: flex-end;
      };

      --layout-center-aligned: {
        -ms-flex-line-pack: center;  /* IE10 */
        -ms-align-content: center;
        -webkit-align-content: center;
        align-content: center;
      };

      --layout-between-aligned: {
        -ms-flex-line-pack: justify;  /* IE10 */
        -ms-align-content: space-between;
        -webkit-align-content: space-between;
        align-content: space-between;
      };

      --layout-around-aligned: {
        -ms-flex-line-pack: distribute;  /* IE10 */
        -ms-align-content: space-around;
        -webkit-align-content: space-around;
        align-content: space-around;
      };

      /*******************************
                Other Layout
      *******************************/

      --layout-block: {
        display: block;
      };

      --layout-invisible: {
        visibility: hidden !important;
      };

      --layout-relative: {
        position: relative;
      };

      --layout-fit: {
        position: absolute;
        top: 0;
        right: 0;
        bottom: 0;
        left: 0;
      };

      --layout-scroll: {
        -webkit-overflow-scrolling: touch;
        overflow: auto;
      };

      --layout-fullbleed: {
        margin: 0;
        height: 100vh;
      };

      /* fixed position */

      --layout-fixed-top: {
        position: fixed;
        top: 0;
        left: 0;
        right: 0;
      };

      --layout-fixed-right: {
        position: fixed;
        top: 0;
        right: 0;
        bottom: 0;
      };

      --layout-fixed-bottom: {
        position: fixed;
        right: 0;
        bottom: 0;
        left: 0;
      };

      --layout-fixed-left: {
        position: fixed;
        top: 0;
        bottom: 0;
        left: 0;
      };

    }
  </style>
</custom-style>`;n.setAttribute("style","display: none;"),document.head.appendChild(n.content);var r=document.createElement("style");r.textContent="[hidden] { display: none !important; }",document.head.appendChild(r)},function(t,e,i){"use strict";i.d(e,"c",(function(){return c})),i.d(e,"b",(function(){return d})),i.d(e,"a",(function(){return h}));var n=i(32),r=i(18);function o(t){return n.a.import(t)}function s(t){let e=t.body?t.body:t;const i=Object(r.b)(e.textContent,t.baseURI),n=document.createElement("style");return n.textContent=i,n}function a(t){const e=t.trim().split(/\s+/),i=[];for(let t=0;t<e.length;t++)i.push(...l(e[t]));return i}function l(t){const e=o(t);if(!e)return console.warn("Could not find style data in module named",t),[];if(void 0===e._styles){const t=[];t.push(...p(e));const i=e.querySelector("template");i&&t.push(...c(i,e.assetpath)),e._styles=t}return e._styles}function c(t,e){if(!t._styles){const i=[],n=t.content.querySelectorAll("style");for(let t=0;t<n.length;t++){let o=n[t],s=o.getAttribute("include");s&&i.push(...a(s).filter((function(t,e,i){return i.indexOf(t)===e}))),e&&(o.textContent=Object(r.b)(o.textContent,e)),i.push(o)}t._styles=i}return t._styles}function d(t){let e=o(t);return e?p(e):[]}function p(t){const e=[],i=t.querySelectorAll("link[rel=import][type~=css]");for(let t=0;t<i.length;t++){let n=i[t];if(n.import){const t=n.import,i=n.hasAttribute("shady-unscoped");if(i&&!t._unscopedStyle){const e=s(t);e.setAttribute("shady-unscoped",""),t._unscopedStyle=e}else t._style||(t._style=s(t));e.push(i?t._unscopedStyle:t._style)}}return e}function h(t){let e=t.trim().split(/\s+/),i="";for(let t=0;t<e.length;t++)i+=u(e[t]);return i}function u(t){let e=o(t);if(e&&void 0===e._cssText){let t=f(e),i=e.querySelector("template");i&&(t+=function(t,e){let i="";const n=c(t,e);for(let t=0;t<n.length;t++){let e=n[t];e.parentNode&&e.parentNode.removeChild(e),i+=e.textContent}return i}(i,e.assetpath)),e._cssText=t||null}return e||console.warn("Could not find style data in module named",t),e&&e._cssText||""}function f(t){let e="",i=p(t);for(let t=0;t<i.length;t++)e+=i[t].textContent;return e}},function(t,e,i){"use strict";i.d(e,"a",(function(){return M})),i.d(e,"b",(function(){return z})),i.d(e,"c",(function(){return L}));i(7);var n=i(12),r=i(16),o=i(5),s=i(0);
/**
@license
Copyright (c) 2017 The Polymer Project Authors. All rights reserved.
This code may only be used under the BSD style license found at http://polymer.github.io/LICENSE.txt
The complete set of authors may be found at http://polymer.github.io/AUTHORS.txt
The complete set of contributors may be found at http://polymer.github.io/CONTRIBUTORS.txt
Code distributed by Google as part of the polymer project is also
subject to an additional IP rights grant found at http://polymer.github.io/PATENTS.txt
*/
let a="string"==typeof document.head.style.touchAction,l="__polymerGesturesHandled",c="__polymerGesturesTouchAction",d=["mousedown","mousemove","mouseup","click"],p=[0,1,4,2],h=function(){try{return 1===new MouseEvent("test",{buttons:1}).buttons}catch(t){return!1}}();function u(t){return d.indexOf(t)>-1}let f=!1;function _(t){if(!u(t)&&"touchend"!==t)return a&&f&&o.c?{passive:!0}:void 0}!function(){try{let t=Object.defineProperty({},"passive",{get(){f=!0}});window.addEventListener("test",null,t),window.removeEventListener("test",null,t)}catch(t){}}();let m=navigator.userAgent.match(/iP(?:[oa]d|hone)|Android/);const b=[],y={button:!0,input:!0,keygen:!0,meter:!0,output:!0,textarea:!0,progress:!0,select:!0},g={button:!0,command:!0,fieldset:!0,input:!0,keygen:!0,optgroup:!0,option:!0,select:!0,textarea:!0};function v(t){let e=Array.prototype.slice.call(t.labels||[]);if(!e.length){e=[];let i=t.getRootNode();if(t.id){let n=i.querySelectorAll(`label[for = ${t.id}]`);for(let t=0;t<n.length;t++)e.push(n[t])}}return e}let w=function(t){let e=t.sourceCapabilities;var i;if((!e||e.firesTouchEvents)&&(t[l]={skip:!0},"click"===t.type)){let e=!1,n=E(t);for(let t=0;t<n.length;t++){if(n[t].nodeType===Node.ELEMENT_NODE)if("label"===n[t].localName)b.push(n[t]);else if(i=n[t],y[i.localName]){let i=v(n[t]);for(let t=0;t<i.length;t++)e=e||b.indexOf(i[t])>-1}if(n[t]===C.mouse.target)return}if(e)return;t.preventDefault(),t.stopPropagation()}};function x(t){let e=m?["click"]:d;for(let i,n=0;n<e.length;n++)i=e[n],t?(b.length=0,document.addEventListener(i,w,!0)):document.removeEventListener(i,w,!0)}function S(t){let e=t.type;if(!u(e))return!1;if("mousemove"===e){let e=void 0===t.buttons?1:t.buttons;return t instanceof window.MouseEvent&&!h&&(e=p[t.which]||0),Boolean(1&e)}return 0===(void 0===t.button?0:t.button)}let C={mouse:{target:null,mouseIgnoreJob:null},touch:{x:0,y:0,id:-1,scrollDecided:!1}};function k(t,e,i){t.movefn=e,t.upfn=i,document.addEventListener("mousemove",e),document.addEventListener("mouseup",i)}function P(t){document.removeEventListener("mousemove",t.movefn),document.removeEventListener("mouseup",t.upfn),t.movefn=null,t.upfn=null}document.addEventListener("touchend",(function(t){C.mouse.mouseIgnoreJob||x(!0),C.mouse.target=E(t)[0],C.mouse.mouseIgnoreJob=r.a.debounce(C.mouse.mouseIgnoreJob,n.c.after(2500),(function(){x(),C.mouse.target=null,C.mouse.mouseIgnoreJob=null}))}),!!f&&{passive:!0});const E=window.ShadyDOM&&window.ShadyDOM.noPatch?window.ShadyDOM.composedPath:t=>t.composedPath&&t.composedPath()||[],O={},T=[];function A(t){const e=E(t);return e.length>0?e[0]:t.target}function N(t){let e,i=t.type,n=t.currentTarget.__polymerGestures;if(!n)return;let r=n[i];if(r){if(!t[l]&&(t[l]={},"touch"===i.slice(0,5))){let e=(t=t).changedTouches[0];if("touchstart"===i&&1===t.touches.length&&(C.touch.id=e.identifier),C.touch.id!==e.identifier)return;a||"touchstart"!==i&&"touchmove"!==i||function(t){let e=t.changedTouches[0],i=t.type;if("touchstart"===i)C.touch.x=e.clientX,C.touch.y=e.clientY,C.touch.scrollDecided=!1;else if("touchmove"===i){if(C.touch.scrollDecided)return;C.touch.scrollDecided=!0;let i=function(t){let e="auto",i=E(t);for(let t,n=0;n<i.length;n++)if(t=i[n],t[c]){e=t[c];break}return e}(t),n=!1,r=Math.abs(C.touch.x-e.clientX),o=Math.abs(C.touch.y-e.clientY);t.cancelable&&("none"===i?n=!0:"pan-x"===i?n=o>r:"pan-y"===i&&(n=r>o)),n?t.preventDefault():j("track")}}(t)}if(e=t[l],!e.skip){for(let i,n=0;n<T.length;n++)i=T[n],r[i.name]&&!e[i.name]&&i.flow&&i.flow.start.indexOf(t.type)>-1&&i.reset&&i.reset();for(let n,o=0;o<T.length;o++)n=T[o],r[n.name]&&!e[n.name]&&(e[n.name]=!0,n[i](t))}}}function M(t,e,i){return!!O[e]&&(function(t,e,i){let n=O[e],r=n.deps,o=n.name,s=t.__polymerGestures;s||(t.__polymerGestures=s={});for(let e,i,n=0;n<r.length;n++)e=r[n],m&&u(e)&&"click"!==e||(i=s[e],i||(s[e]=i={_count:0}),0===i._count&&t.addEventListener(e,N,_(e)),i[o]=(i[o]||0)+1,i._count=(i._count||0)+1);t.addEventListener(e,i),n.touchAction&&L(t,n.touchAction)}(t,e,i),!0)}function z(t,e,i){return!!O[e]&&(function(t,e,i){let n=O[e],r=n.deps,o=n.name,s=t.__polymerGestures;if(s)for(let e,i,n=0;n<r.length;n++)e=r[n],i=s[e],i&&i[o]&&(i[o]=(i[o]||1)-1,i._count=(i._count||1)-1,0===i._count&&t.removeEventListener(e,N,_(e)));t.removeEventListener(e,i)}(t,e,i),!0)}function I(t){T.push(t);for(let e=0;e<t.emits.length;e++)O[t.emits[e]]=t}function L(t,e){a&&t instanceof HTMLElement&&n.b.run(()=>{t.style.touchAction=e}),t[c]=e}function R(t,e,i){let n=new Event(e,{bubbles:!0,cancelable:!0,composed:!0});if(n.detail=i,Object(s.a)(t).dispatchEvent(n),n.defaultPrevented){let t=i.preventer||i.sourceEvent;t&&t.preventDefault&&t.preventDefault()}}function j(t){let e=function(t){for(let e,i=0;i<T.length;i++){e=T[i];for(let i,n=0;n<e.emits.length;n++)if(i=e.emits[n],i===t)return e}return null}(t);e.info&&(e.info.prevent=!0)}function D(t,e,i,n){e&&R(e,t,{x:i.clientX,y:i.clientY,sourceEvent:i,preventer:n,prevent:function(t){return j(t)}})}function H(t,e,i){if(t.prevent)return!1;if(t.started)return!0;let n=Math.abs(t.x-e),r=Math.abs(t.y-i);return n>=5||r>=5}function B(t,e,i){if(!e)return;let n,r=t.moves[t.moves.length-2],o=t.moves[t.moves.length-1],s=o.x-t.x,a=o.y-t.y,l=0;r&&(n=o.x-r.x,l=o.y-r.y),R(e,"track",{state:t.state,x:i.clientX,y:i.clientY,dx:s,dy:a,ddx:n,ddy:l,sourceEvent:i,hover:function(){return function(t,e){let i=document.elementFromPoint(t,e),n=i;for(;n&&n.shadowRoot&&!window.ShadyDOM;){let r=n;if(n=n.shadowRoot.elementFromPoint(t,e),r===n)break;n&&(i=n)}return i}(i.clientX,i.clientY)}})}function F(t,e,i){let n=Math.abs(e.clientX-t.x),r=Math.abs(e.clientY-t.y),o=A(i||e);!o||g[o.localName]&&o.hasAttribute("disabled")||(isNaN(n)||isNaN(r)||n<=25&&r<=25||function(t){if("click"===t.type){if(0===t.detail)return!0;let e=A(t);if(!e.nodeType||e.nodeType!==Node.ELEMENT_NODE)return!0;let i=e.getBoundingClientRect(),n=t.pageX,r=t.pageY;return!(n>=i.left&&n<=i.right&&r>=i.top&&r<=i.bottom)}return!1}(e))&&(t.prevent||R(o,"tap",{x:e.clientX,y:e.clientY,sourceEvent:e,preventer:i}))}I({name:"downup",deps:["mousedown","touchstart","touchend"],flow:{start:["mousedown","touchstart"],end:["mouseup","touchend"]},emits:["down","up"],info:{movefn:null,upfn:null},reset:function(){P(this.info)},mousedown:function(t){if(!S(t))return;let e=A(t),i=this;k(this.info,(function(t){S(t)||(D("up",e,t),P(i.info))}),(function(t){S(t)&&D("up",e,t),P(i.info)})),D("down",e,t)},touchstart:function(t){D("down",A(t),t.changedTouches[0],t)},touchend:function(t){D("up",A(t),t.changedTouches[0],t)}}),I({name:"track",touchAction:"none",deps:["mousedown","touchstart","touchmove","touchend"],flow:{start:["mousedown","touchstart"],end:["mouseup","touchend"]},emits:["track"],info:{x:0,y:0,state:"start",started:!1,moves:[],addMove:function(t){this.moves.length>2&&this.moves.shift(),this.moves.push(t)},movefn:null,upfn:null,prevent:!1},reset:function(){this.info.state="start",this.info.started=!1,this.info.moves=[],this.info.x=0,this.info.y=0,this.info.prevent=!1,P(this.info)},mousedown:function(t){if(!S(t))return;let e=A(t),i=this,n=function(t){let n=t.clientX,r=t.clientY;H(i.info,n,r)&&(i.info.state=i.info.started?"mouseup"===t.type?"end":"track":"start","start"===i.info.state&&j("tap"),i.info.addMove({x:n,y:r}),S(t)||(i.info.state="end",P(i.info)),e&&B(i.info,e,t),i.info.started=!0)};k(this.info,n,(function(t){i.info.started&&n(t),P(i.info)})),this.info.x=t.clientX,this.info.y=t.clientY},touchstart:function(t){let e=t.changedTouches[0];this.info.x=e.clientX,this.info.y=e.clientY},touchmove:function(t){let e=A(t),i=t.changedTouches[0],n=i.clientX,r=i.clientY;H(this.info,n,r)&&("start"===this.info.state&&j("tap"),this.info.addMove({x:n,y:r}),B(this.info,e,i),this.info.state="track",this.info.started=!0)},touchend:function(t){let e=A(t),i=t.changedTouches[0];this.info.started&&(this.info.state="end",this.info.addMove({x:i.clientX,y:i.clientY}),B(this.info,e,i))}}),I({name:"tap",deps:["mousedown","click","touchstart","touchend"],flow:{start:["mousedown","touchstart"],end:["click","touchend"]},emits:["tap"],info:{x:NaN,y:NaN,prevent:!1},reset:function(){this.info.x=NaN,this.info.y=NaN,this.info.prevent=!1},mousedown:function(t){S(t)&&(this.info.x=t.clientX,this.info.y=t.clientY)},click:function(t){S(t)&&F(this.info,t)},touchstart:function(t){const e=t.changedTouches[0];this.info.x=e.clientX,this.info.y=e.clientY},touchend:function(t){F(this.info,t.changedTouches[0],t)}})},function(t,e,i){"use strict";i.d(e,"a",(function(){return l}));i(7);var n=i(10),r=i(23),o=i(38);
/**
@license
Copyright (c) 2017 The Polymer Project Authors. All rights reserved.
This code may only be used under the BSD style license found at http://polymer.github.io/LICENSE.txt
The complete set of authors may be found at http://polymer.github.io/AUTHORS.txt
The complete set of contributors may be found at http://polymer.github.io/CONTRIBUTORS.txt
Code distributed by Google as part of the polymer project is also
subject to an additional IP rights grant found at http://polymer.github.io/PATENTS.txt
*/
const s={};let a=HTMLElement.prototype;for(;a;){let t=Object.getOwnPropertyNames(a);for(let e=0;e<t.length;e++)s[t[e]]=!0;a=Object.getPrototypeOf(a)}const l=Object(n.a)(t=>{const e=Object(o.a)(t);return class extends e{static createPropertiesForAttributes(){let t=this.observedAttributes;for(let e=0;e<t.length;e++)this.prototype._createPropertyAccessor(Object(r.b)(t[e]))}static attributeNameForProperty(t){return Object(r.a)(t)}_initializeProperties(){this.__dataProto&&(this._initializeProtoProperties(this.__dataProto),this.__dataProto=null),super._initializeProperties()}_initializeProtoProperties(t){for(let e in t)this._setProperty(e,t[e])}_ensureAttribute(t,e){const i=this;i.hasAttribute(t)||this._valueToNodeAttribute(i,e,t)}_serializeValue(t){switch(typeof t){case"object":if(t instanceof Date)return t.toString();if(t)try{return JSON.stringify(t)}catch(t){return""}default:return super._serializeValue(t)}}_deserializeValue(t,e){let i;switch(e){case Object:try{i=JSON.parse(t)}catch(e){i=t}break;case Array:try{i=JSON.parse(t)}catch(e){i=null,console.warn("Polymer::Attributes: couldn't decode Array as JSON: "+t)}break;case Date:i=isNaN(t)?String(t):Number(t),i=new Date(i);break;default:i=super._deserializeValue(t,e)}return i}_definePropertyAccessor(t,e){!function(t,e){if(!s[e]){let i=t[e];void 0!==i&&(t.__data?t._setPendingProperty(e,i):(t.__dataProto?t.hasOwnProperty(JSCompiler_renameProperty("__dataProto",t))||(t.__dataProto=Object.create(t.__dataProto)):t.__dataProto={},t.__dataProto[e]=i))}}(this,t),super._definePropertyAccessor(t,e)}_hasAccessor(t){return this.__dataHasAccessor&&this.__dataHasAccessor[t]}_isPropertyPending(t){return Boolean(this.__dataPending&&t in this.__dataPending)}}})},function(t,e,i){"use strict";i.d(e,"a",(function(){return a}));i(7);var n=i(10),r=i(12),o=i(0);
/**
@license
Copyright (c) 2017 The Polymer Project Authors. All rights reserved.
This code may only be used under the BSD style license found at http://polymer.github.io/LICENSE.txt
The complete set of authors may be found at http://polymer.github.io/AUTHORS.txt
The complete set of contributors may be found at http://polymer.github.io/CONTRIBUTORS.txt
Code distributed by Google as part of the polymer project is also
subject to an additional IP rights grant found at http://polymer.github.io/PATENTS.txt
*/
const s=r.b,a=Object(n.a)(t=>class extends t{static createProperties(t){const e=this.prototype;for(let i in t)i in e||e._createPropertyAccessor(i)}static attributeNameForProperty(t){return t.toLowerCase()}static typeForProperty(t){}_createPropertyAccessor(t,e){this._addPropertyToAttributeMap(t),this.hasOwnProperty("__dataHasAccessor")||(this.__dataHasAccessor=Object.assign({},this.__dataHasAccessor)),this.__dataHasAccessor[t]||(this.__dataHasAccessor[t]=!0,this._definePropertyAccessor(t,e))}_addPropertyToAttributeMap(t){if(this.hasOwnProperty("__dataAttributes")||(this.__dataAttributes=Object.assign({},this.__dataAttributes)),!this.__dataAttributes[t]){const e=this.constructor.attributeNameForProperty(t);this.__dataAttributes[e]=t}}_definePropertyAccessor(t,e){Object.defineProperty(this,t,{get(){return this._getProperty(t)},set:e?function(){}:function(e){this._setProperty(t,e)}})}constructor(){super(),this.__dataEnabled=!1,this.__dataReady=!1,this.__dataInvalid=!1,this.__data={},this.__dataPending=null,this.__dataOld=null,this.__dataInstanceProps=null,this.__serializing=!1,this._initializeProperties()}ready(){this.__dataReady=!0,this._flushProperties()}_initializeProperties(){for(let t in this.__dataHasAccessor)this.hasOwnProperty(t)&&(this.__dataInstanceProps=this.__dataInstanceProps||{},this.__dataInstanceProps[t]=this[t],delete this[t])}_initializeInstanceProperties(t){Object.assign(this,t)}_setProperty(t,e){this._setPendingProperty(t,e)&&this._invalidateProperties()}_getProperty(t){return this.__data[t]}_setPendingProperty(t,e,i){let n=this.__data[t],r=this._shouldPropertyChange(t,e,n);return r&&(this.__dataPending||(this.__dataPending={},this.__dataOld={}),this.__dataOld&&!(t in this.__dataOld)&&(this.__dataOld[t]=n),this.__data[t]=e,this.__dataPending[t]=e),r}_invalidateProperties(){!this.__dataInvalid&&this.__dataReady&&(this.__dataInvalid=!0,s.run(()=>{this.__dataInvalid&&(this.__dataInvalid=!1,this._flushProperties())}))}_enableProperties(){this.__dataEnabled||(this.__dataEnabled=!0,this.__dataInstanceProps&&(this._initializeInstanceProperties(this.__dataInstanceProps),this.__dataInstanceProps=null),this.ready())}_flushProperties(){const t=this.__data,e=this.__dataPending,i=this.__dataOld;this._shouldPropertiesChange(t,e,i)&&(this.__dataPending=null,this.__dataOld=null,this._propertiesChanged(t,e,i))}_shouldPropertiesChange(t,e,i){return Boolean(e)}_propertiesChanged(t,e,i){}_shouldPropertyChange(t,e,i){return i!==e&&(i==i||e==e)}attributeChangedCallback(t,e,i,n){e!==i&&this._attributeToProperty(t,i),super.attributeChangedCallback&&super.attributeChangedCallback(t,e,i,n)}_attributeToProperty(t,e,i){if(!this.__serializing){const n=this.__dataAttributes,r=n&&n[t]||t;this[r]=this._deserializeValue(e,i||this.constructor.typeForProperty(r))}}_propertyToAttribute(t,e,i){this.__serializing=!0,i=arguments.length<3?this[t]:i,this._valueToNodeAttribute(this,i,e||this.constructor.attributeNameForProperty(t)),this.__serializing=!1}_valueToNodeAttribute(t,e,i){const n=this._serializeValue(e);void 0===n?t.removeAttribute(i):("class"!==i&&"name"!==i&&"slot"!==i||(t=Object(o.a)(t)),t.setAttribute(i,n))}_serializeValue(t){switch(typeof t){case"boolean":return t?"":void 0;default:return null!=t?t.toString():void 0}}_deserializeValue(t,e){switch(e){case Boolean:return null!==t;case Number:return Number(t);default:return t}}})},function(t,e,i){"use strict";i.d(e,"a",(function(){return o}));i(7);var n=i(10),r=i(36);
/**
@license
Copyright (c) 2017 The Polymer Project Authors. All rights reserved.
This code may only be used under the BSD style license found at http://polymer.github.io/LICENSE.txt
The complete set of authors may be found at http://polymer.github.io/AUTHORS.txt
The complete set of contributors may be found at http://polymer.github.io/CONTRIBUTORS.txt
Code distributed by Google as part of the polymer project is also
subject to an additional IP rights grant found at http://polymer.github.io/PATENTS.txt
*/
const o=Object(n.a)(t=>class extends t{_addEventListenerToNode(t,e,i){Object(r.a)(t,e,i)||super._addEventListenerToNode(t,e,i)}_removeEventListenerFromNode(t,e,i){Object(r.b)(t,e,i)||super._removeEventListenerFromNode(t,e,i)}})},function(t,e,i){"use strict";i.d(e,"a",(function(){return o}));i(7);
/**
@license
Copyright (c) 2017 The Polymer Project Authors. All rights reserved.
This code may only be used under the BSD style license found at http://polymer.github.io/LICENSE.txt
The complete set of authors may be found at http://polymer.github.io/AUTHORS.txt
The complete set of contributors may be found at http://polymer.github.io/CONTRIBUTORS.txt
Code distributed by Google as part of the polymer project is also
subject to an additional IP rights grant found at http://polymer.github.io/PATENTS.txt
*/function n(t,e,i){return{index:t,removed:e,addedCount:i}}function r(t,e,i,r,o,a){let l,c=0,d=0,p=Math.min(i-e,a-o);if(0==e&&0==o&&(c=function(t,e,i){for(let n=0;n<i;n++)if(!s(t[n],e[n]))return n;return i}(t,r,p)),i==t.length&&a==r.length&&(d=function(t,e,i){let n=t.length,r=e.length,o=0;for(;o<i&&s(t[--n],e[--r]);)o++;return o}(t,r,p-c)),o+=c,a-=d,(i-=d)-(e+=c)==0&&a-o==0)return[];if(e==i){for(l=n(e,[],0);o<a;)l.removed.push(r[o++]);return[l]}if(o==a)return[n(e,[],i-e)];let h=function(t){let e=t.length-1,i=t[0].length-1,n=t[e][i],r=[];for(;e>0||i>0;){if(0==e){r.push(2),i--;continue}if(0==i){r.push(3),e--;continue}let o,s=t[e-1][i-1],a=t[e-1][i],l=t[e][i-1];o=a<l?a<s?a:s:l<s?l:s,o==s?(s==n?r.push(0):(r.push(1),n=s),e--,i--):o==a?(r.push(3),e--,n=a):(r.push(2),i--,n=l)}return r.reverse(),r}(function(t,e,i,n,r,o){let a=o-r+1,l=i-e+1,c=new Array(a);for(let t=0;t<a;t++)c[t]=new Array(l),c[t][0]=t;for(let t=0;t<l;t++)c[0][t]=t;for(let i=1;i<a;i++)for(let o=1;o<l;o++)if(s(t[e+o-1],n[r+i-1]))c[i][o]=c[i-1][o-1];else{let t=c[i-1][o]+1,e=c[i][o-1]+1;c[i][o]=t<e?t:e}return c}(t,e,i,r,o,a));l=void 0;let u=[],f=e,_=o;for(let t=0;t<h.length;t++)switch(h[t]){case 0:l&&(u.push(l),l=void 0),f++,_++;break;case 1:l||(l=n(f,[],0)),l.addedCount++,f++,l.removed.push(r[_]),_++;break;case 2:l||(l=n(f,[],0)),l.addedCount++,f++;break;case 3:l||(l=n(f,[],0)),l.removed.push(r[_]),_++}return l&&u.push(l),u}function o(t,e){return r(t,0,t.length,e,0,e.length)}function s(t,e){return t===e}},function(t,e,i){"use strict";i.d(e,"c",(function(){return r})),i.d(e,"f",(function(){return o})),i.d(e,"e",(function(){return s})),i.d(e,"a",(function(){return a})),i.d(e,"d",(function(){return l})),i.d(e,"b",(function(){return c}));var n=i(8);const r=n.b`

  * {
    box-sizing: border-box;
  }

  :host {
    display:block;
    width: 100%;
  }

  custom-accordion{
    width: 100%;
    background: var(--primary-background-color);
  }

  custom-accordion:not(:last-of-type){
    border-bottom: 1px solid var(--divider-color);
  }

  custom-accordion:first-of-type{
    border-top-left-radius: 5px;
    border-top-right-radius: 5px;
  }

  custom-accordion:last-of-type {
    border-bottom-left-radius: 5px;
    border-bottom-right-radius: 5px;
  }



  custom-accordion.active, custom-accordion:hover {
    border-bottom: none;
  }


  /*paper-input,paper-dropdown-menu, paper-textarea{
    --paper-input-container-focus-color: var( --app-primary-color);
  }*/

  paper-input, paper-dropdown-menu {
    width: 45%;
  }

  form {
    display: flex;
    flex-direction: row;
    flex-wrap: wrap;
    align-items: center;
    align-content: center;
    justify-content: space-between;
    padding: 0 25px 12.5px;
    height: 100%;
    width: auto;
    -webkit-overflow-scrolling: touch;
  }

  paper-textarea{
    width: auto;
    flex-grow: 1;
    max-width: 100%;
    width: 90%;
  }

  custom-radio-group{
    width: 100%;
  }

  .h-hack{
    flex: 0 1 25%;
    min-width: 0;
  }


  .h-layout {
    flex: 0 1 45%;
    min-width: 0;
    background: blue;
  }

  /*
  paper-input:nth-child(n+1), paper-dropdown-menu:nth-child(n+1) {
    margin-left:4.5%;
  }*/

  .controls {
    display: block;
    width: 100%;
    text-align: center;
    margin-top: 25px;
  }

  .controls button{
    width:25%;
    margin:auto;
    padding-top:1.5em;
    border-radius: 8px;
  }

  span {
    width: 24px;
    height: 24px;
  }

  .contactos{
    width: 75%;
    margin: 10px auto;
    box-shadow: var(--shadow-elevation-4dp_-_box-shadow);
    min-height: 0;
    border-radius: 5px;
  }

  .contactos div{
    height: 40px;
    background: var(--secondary-background-color);
  }

  .contactos div:first-of-type{
    border-top-left-radius: 5px;
    border-top-right-radius: 5px;
  }

  .contactos div:last-of-type{
    border-bottom-left-radius: 5px;
    border-bottom-right-radius: 5px;
  }

  .contactos div:not(:last-of-type){
    border-bottom: 1px solid var(--divider-color);
  }

  .contactos div:hover{
    box-shadow: var(--shadow-elevation-4dp_-_box-shadow);
    background-color:white;
  }

  .contactos div button{
    box-shadow: var(--shadow-elevation-2dp_-_box-shadow);
    font-size: 0.8em;
    border-radius: 15px;
    height: 20px;
    width: 20px;
  }

  label {
    padding: 8px;
    line-height: 1.74;
    display: inline-block;
    width: auto;
  }

  button {
    float: right;
    margin: 10px;
    box-shadow: var(--shadow-elevation-2dp_-_box-shadow);
  }

  button:hover{
    color: var(--primary-text-color);
  }

  .primary {
    background-color:var(--dark-primary-color);
    color:white;
    font-weight: 600;
  }

  .primary span svg{
    fill:white;
  }

  .hidden{
    display: none;
  }

  @media (max-width:840px){
    form {
      flex-direction: column;
    }

    paper-input, paper-dropdown-menu, custom-radio-group {
      flex: 1;
      width: 90%;
      max-width: 90%;
    }

    .contactos{
      width: 100%;
    }
  }
  `,o=n.b`
  h1,h2,h3,h4,h5,h6 {
    font-family: 'Josefin Slab', serif;
    width: 100%;
    text-align: center;
    margin: 0 auto 10px auto;
    padding: 0;
    font-weight: 100;
    color: var(--dark-primary-color);
    padding: 8px;
  }

  h1 { font-size: 6em; }
  h2 { font-size: 3.75em; }
  h3 { font-size: 3em; }
  h4 { font-size: 2.125em; }
  h5 { font-size: 1.5em; }
  h6 { font-size: 1.25em; }
  .subtitle-1 { font-size: 1em; }
  .subtitle-2 { font-size: 0.875em; }

  :host {
    display: block;
    box-sizing: border-box;
  }

  * {
      box-sizing: border-box;
  }

  section {
    padding: 24px;
    background: content-box;
    text-align: justify;
    display: flex;
    flex-direction: row;
    flex-wrap: wrap;
    justify-content: space-around;
    margin: auto;
   }

  section > * {
    margin-right: auto;
    margin-left: auto;
  }

  @media (max-width: 840px) {

    h1 {
      font-size: 5.625em;
    }

    h2 {
      font-size: 3.750em;
    }

    section {
      max-width: 100vw;
    }

    section > * {
      width: 80%;
      margin:auto;
    }
  }

  @media (max-width: 460px){

    section {
      max-width: 95vw;
      margin: auto;
      padding: 0;
    }

  }

  @media screen and (max-width:460){

    section, section > * {
      max-width: 460px;
    }

  }

  .circle {
    display: block;
    width: 64px;
    height: 64px;
    margin: 0 auto;
    text-align: center;
    border-radius: 50%;
    background: var(--secondary-background-color);
    color: var(--accent-color);
    font-size: 30px;
    line-height: 64px;
  }
  `,s=(n.b`

  * { box-sizing: border-box; }

  :host{
    display: block;
    width: 95%;
    height: auto;
    margin: auto;
    margin-bottom: 12.5px;
  }

  main {
    background:white;
    width: 100%;
    height: 100%;
    position: relative;
    padding: 10px;
    box-shadow: var(--shadow-elevation-4dp_-_box-shadow);
  }

  span {
    width: 150px;
    height: 100px;
    position: absolute;
    top: 0;
    left: 0;
  }
  .codigo {
    position: absolute;
    top: 20px;
    right: 40px;
    color: red;
    font-size: 1.75em;
    font-weight: 900;
  }

  .information {
    width: 100%;
    display: flex;
    padding-top: 8px;
  }

  .information label{
    font-size: 14px;
    text-align: left !important;
    padding-top: 20px;
    display: block;
    font-family: 'Josefin Sans', sans-serif;
    font-weight: bold;
  }

  .information paper-input, .information label{
    width: 30%;
    margin-left: auto;
    text-align:center;
  }

  .information paper-input:nth-child(n+2),.information label:nth-child(n+2){
    width: 30%;
  }

  div > p {
  margin: 0;
  padding: 0;
  font-size: 10px;
  text-align: center;
  }

  p > strong{
    padding: 0 6px 0 2px;
  }

  h4{
    position: absolute;
    top: 0;
    left: 25px;
    margin: 0;
    font-size: 16px;
    font-family:var(--app-font-family);
  }

  @media print{
    main { box-shadow: 0 0 0 0 transparent; }
  }`,n.b`
  :host {
    display:block;
    position:relative;
    width: 75%;
    border-radius: 5px;
    background: var(--light-secondary-color);
    /*background: var(--secondary-background-color); #005662
    background: var(--secondary-background-color);*/
    margin: 25px auto 12.5px auto;
    padding: 12.5px 0;
    box-shadow: var(--shadow-box-4dp-custom);
    transition: transform 250ms, box-shadow 500ms;
  }

  :host(:hover){
    box-shadow: var(--shadow-box-8dp-custom);
    transform: translateY(-5px);
  }

  :host(:hover[selected="true"]) {
    transform: none;
  }

  @media (max-width:840px){

    :host {
      margin: 12.5px auto;
      width: 97.5%;
    }
  }

  button {
    background-color: #029192;
    border-radius: 50px;
  }

  .submit-btn, .cancel-btn{
    background-color: var(--dark-primary-color);
    border: 1px solid var(--dark-primary-color);
    color: white;
    display: none;
    width: 180px;
    margin: auto;
    font-size: 1.5em;
    font-weight: bold;
    line-height: 1.25;
    vertical-align: top;
  }

  .cancel-btn {
    background: white;
    display: inline-block;
    color: var(--dark-primary-color);
    width:auto;
  }

  .cancel-btn span, .submit-btn span{
    fill: var(--dark-primary-color);
    padding: 0 4px;
    vertical-align: text-bottom;
    display: inline-block;
  }

  .submit-btn span { fill: var(--text-primary-color); }

  section {
    position: relative;
    z-index: 10;
    padding: 12.5px;
    margin-left: 25%;
    width: 60%;
  }

  section > * {
    width: 100%;
    text-align:left;
  }

  section > *:not(div){
    display:none;
  }

  section.active label{
    display:none;
  }

  section.active custom-accordion label{
    display:block;
  }

  section.active *:not(label){
    display: block;
  }

  section.active {
    border-top: 2.5px solid var(--dark-primary-color);
    height: auto;
    width: 75%;
    margin-left: 50%;
    margin-top: 25px;
    margin-bottom: 25px;
    transform: translateX(-50%);
    box-shadow: var(--shadow-elevation-3dp_-_box-shadow);
    background: var(--primary-background-color);
    border-radius: 5px;
    transition-property: transform, background;
    transition: all linear 250ms;
  }

  /*
  label.index:hover{
    transform: rotate3d(1,0,0,60deg);
  }*/

  section > div *, section > div {
    cursor: pointer;
    color: var(--secondary-text-color);
  }

  section > div.active {
    color: var(--accent-color);
  }

  label.index,.close{
    background: var(--secondary-text-color);
    color: white;
    border-radius: 50px;
    width: 40px;
    height: 40px;
    font-size: 1.5em;
    vertical-align: top;
    outline: none;
    border: none;
    display: inline-block;
    text-align: center;
    box-shadow: var(--shadow-elevation-2dp_-_box-shadow);
    line-height: 2;
    position: relative;
    z-index: 10;
  }

  label.index:after{
    content : "";
    display: block;
    position: absolute;
    left: 19px;
    height: 48px;
    width: 2px;
    border-radius: 5px;
    background: inherit;
    z-index: 5;
  }

  .visited > label.index, .visited button.close {
    background: var(--accent-color);
  }

  .visited{
    color: var(--accent-color);
  }

  label.index.last:after{
    content: none;
  }

  label {
    display: inline-block;
  }

  label.index + label {
    font-size: 2.125em;
    font-family: 'Josefin Sans', sans-serif;
    padding: 0 16px;
    color: inherit;
    font-weight: 200;
  }


  button.close {
    margin-left:90%;
    fill: white;
    padding: 2px 8px;
    display:none;
  }

  span { width: 24px; height: 24px; }

  @media (max-width:840px){

    section.active{
      width: 90%;
    }

    section {
      padding: 5px;
      position: relative;
      z-index: 10;
      width: 92.5%;
      text-align:center;
      margin: 12.5px auto;
    }

    section > * {
      text-align:left;
      margin: auto;
    }

    button.close {
      margin-left: 87.5%;
    }

    label.index,.close{
      width: 45px;
      height: 45px;
      line-height: 2;
    }
  }`),a=(n.b`
  :host([edit-form]){
    width: 85vw;
  }
  :host([edit-form]) paper-button{
    display:none;
  }

  :host([edit-form]) paper-input, :host([edit-form]) .contactos{
    width: 45%;
    display: inline-block;
  }

  :host([edit-form]) form, :host([edit-form]) h1 {
    padding: 0;
    margin: 0;
  }
`,n.b`
  *{ box-sizing: border-box; }

  .cbox-container {
    display: inline-block;
    position: relative;
    padding: 2.5px 0 0 35px;
    margin: 10px;
    margin-top: 0;
    cursor: pointer;
    font-size: 1.143em;
    -webkit-user-select: none;
    -moz-user-select: none;
    -ms-user-select: none;
    user-select: none;
    color: var(--secondary-text-color);
  }

  .cbox-container input {
    position: absolute;
    opacity: 0;
    cursor: pointer;
    height: 0;
    width: 0;
  }

  .checkmark {
    position: absolute;
    top: 0;
    left: 0;
    height: 25px;
    width: 25px;
    border-radius: 2.5px;
    border: 2px solid var(--dark-primary-color);
    background-color: var(--light-secondary-color);
    transition: background 0.25s linear, border 0.25 linear;
  }

  .cbox-container:hover input ~ .checkmark {
    background-color: var(--light-secondary-color);
  }


  .cbox-container input:checked ~ .checkmark {
    background-color: var( --dark-primary-color);
    animation: ripple 0.3s linear normal;
  }

  .checkmark:after {
    content: "";
    position: absolute;
    display: none;
  }

  .cbox-container input:checked ~ .checkmark:after {
    display: block;
  }

  .cbox-container .checkmark:after {
    left: 6.5px;
    top: 2.5px;
    width: 5px;
    height: 10px;
    border: solid white;
    border-width: 0 3px 3px 0;
    -webkit-transform: rotate(45deg);
    -ms-transform: rotate(45deg);
    transform: rotate(45deg);
    transition: all 250ms ease;
  }`,n.b`
  .dark-theme paper-input, .dark-theme paper-dropdown-menu {
    margin-bottom: 14px;
    --primary-text-color: #f6f6f6;
    --paper-input-container-color: #fff;
    --paper-input-container-focus-color: #fff;
    --paper-input-container-invalid-color: red;
    --paper-input-container-label-floating: #f6f6f6;
    --paper-input-container-label-focus: #fff;
    --paper-input-container-label-floating : #fff;
    --paper-input-container-underline-focus: #fff;
    --paper-font-caption_-_font-family : var(--app-font-family);
    --primary-background-color: var(--app-secondary-color, black);
    --primary-text-color: #fff;
  }

  paper-button span svg {
    fill: white;
  }`,n.b`

:host{
  --accordion-background-color: var(--dark-primary-color);
  display: block;
}

* { box-sizing: border-box; }

.accordion {
  background-color: transparent;
  color: var(--disabled-color);
  /*padding: 18px 0;*/
  width: 100%;
  border: none;
  text-align: left;
  outline: none;
  font-size: 1.25em;
  transition: 0.5s;
  padding: 8px 0;
  display: block;
  border-radius: 5px 5px 0 0;
}

.active, .accordion:hover {
  background-color: var(--accordion-background-color);
  color: white;
  box-shadow: var(--shadow-elevation-6dp_-_box-shadow);
  position: relative;
  z-index: 100;
}

.active.accordion:hover {
  border-radius: 5px 5px 0 0;
}

.accordion:hover {
  border-radius: 5px;
}

.panel.chosen{
  transform: scaleY(0);
  margin: 0;
}

.panel.hide {
  max-height: 0;
}

.accordion:hover button, .active button{
  fill: #fff;
}

.accordion > * {
  margin-left: 5%;
}

:host([class="full active"]) .panel {
  padding: 8px;
  flex-direction: column;
  box-shadow: var(--shadow-elevation-2dp_-_box-shadow);
}

.panel {
  padding: 0 50px;
  margin: 5px auto;
  background-color: white;
  max-height: max-content;
  transform: scaleY(1);
  transition: transform 500ms ease;
  box-shadow: var(--shadow-elevation-2dp_-_box-shadow);
  background: var(--secondary-background-color);
  border-radius: 0 0 5px 5px;
}

.accordion{
  cursor: pointer;
}

.accordion:hover span,.active span {
  fill: white;
}

.panel > * {
  margin: auto;
}

.hidden{
  display: none;
}`),l=(n.b`

* { box-sizing: border-box; }

:host{
  width: 95%;
  height: auto;
  padding: 2.5px;
  color:black;
}

:host(.graph-only) .container{
  height: auto;
  padding: 0;
  margin: 0;
  box-shadow: none;
}

:host(.graph-only) .container > div {
  background: transparent;
  box-shadow: none;
}

:host(.graph-only) h1 { display: none; }

:host(.graph-only:hover) .container{
  box-shadow: none;
}

:host(:hover) .container{
  box-shadow: var(--shadow-elevation-4dp_-_box-shadow);
}

.container {
  margin: auto;
  box-shadow: var(--shadow-elevation-2dp_-_box-shadow);
  width: 100%;
  height: 450px;
  padding: 0 25px;
  border-radius: 5px;
  display: none;
  /*background-color: var(--dark-primary-color);*/
}

h1 {
  text-align: center;
  margin-top: 0;
  font-weight: 400;
  color: var(--dark-primary-color);
  font-family: var(--app-font-family);
  margin: 0;
  padding: 8px;
  font-size: 2em;
}

.container > div {
  left: calc(50% + -300px);
  box-shadow: var(--shadow-elevation-2dp_-_box-shadow);
  background: #021B2B;
}

@media (max-width:840px){

  .container > div {
    left: calc(50% + -175px);
  }

  .container{
    height: auto;
  }
}

@media (max-width:440px){

.container > div {
  left: calc(50% + -162.5px);
}

}`,n.b`

  #main-content::-webkit-scrollbar, .overflowable::-webkit-scrollbar {
    height: 6px;
    width: 6px;
    background-color: #fff;
  }

  #main-content::-webkit-scrollbar-thumb, .overflowable::-webkit-scrollbar-thumb {
    background-color: #0097A7;
  }

  #main-content::-webkit-scrollbar-track, .overflowable::-webkit-scrollbar-track {
    -webkit-box-shadow: inset 0 0 6px rgba(0,0,0,0.3);
    background-color: #fff;
  }`),c=(n.b`

  order-base-print {
    border-top: 2px solid var(--divider-color);
    margin-top: 50px;
    margin-bottom: 25px;
  }


  @media print{

    *:not(order-print-full, order-print-glasses){
      display: none;
    }

    :host{
      box-shadow: none !important;
      background: white;
    }
  }

  @media (max-width:840px){
    :host{
        max-width: 99vw;
    }
  }

  @media (max-width:440px){
    custom-progression-bar + .underline {
        display:none;
    }
  }

  .submit-container{
    text-align:center;
    margin-top: 12.5px;
  }`,n.b`
    .underline{
        --divider-color : var(--dark-theme-secondary-color, #c6c6c6);
        margin: 12.5px auto;
        height: 1px;
        width: 90%;
        background-color: var(--divider-color);
    }

    .underline-dark{
        margin: auto;
        height: 1px;
        width: 90%;
        background-color: var(--secondary-text-color);
    }

    @media (max-width: 540px){
      .underline.hide{
        display:none;
      }
    }
`);n.b`
    h2 { color: var(--default-primary-color); font-weight:200; }
    h1,h2 { padding: 0;margin: 0;}

    card-element {
        margin: 25px 10px 25px 10px;
        width: 310px;
        display: inline-block;
    }

    span {
        width: 130px;
        height: 130px;
        border-radius:100%;
        display: inline-block;
        background: #99dcffcf;
        padding: 1px;
    }

    span svg {
        width: 125px;
        height: 125px;
        fill: var(--dark-primary-color);
    }

    p {
        text-align:center;
        height: 50px;
        padding: 8px;
        font-size: 1.143em;
        color: var(--default-primary-color);
    }

    a.styled-button {
        width: 150px;
        border-radius: 7.5px;
        padding: 10px;
        margin: 0 0 10px 50px;
        transition: color 250ms;
    }
`,n.b`
  :host{
    width: 100%;
    display: block;
  }

  .accordion{
    display: block;
    color: var(--dark-primary-color);
  }

  paper-dropdown-menu, paper-input{
    width: auto;
    vertical-align: middle;
  }

  form {
    box-shadow: var(--shadow-elevation-4dp_-_box-shadow);
    width: 100%;
    background: transparent;
    padding: 0;
    border-radius: 5px 5px 0 0;
  }

  iron-selector div {
    opacity: 0;
    visibility: hidden;
    max-height: 0;
    text-align:center;
  }

  .iron-selected {
    opacity: 1;
    visibility: visible;
    max-height: fit-content;
  }

  .full-grid {
    grid-column: 1 / 3;
  }

  .accordion:hover{
    background: white;
    color: var(--dark-primary-color);
    border-radius: 5px 5px 0 0;
  }

  .accordion:hover span{
    fill: var( --default-primary-color);
  }

  .panel {
    background: var(--secondary-background-color);
  }
`,n.b`

.date-range {
    display: none;
    position: absolute;
    width: 500px;
    height: 200px;
    background: white;
    padding: 25px;
    z-index: 150;
    left: 48px;
    top: 40px;
    box-shadow: var(--shadow-elevation-16dp_-_box-shadow);

    @media (max-width:840px){
        width: 400px;
    }
  }

  @media (max-width:840px){

    .date-range{
      width: 300px;
    }

    paper-dropdown-menu{
        width: 90%;
    }
  }

  button {
    position: absolute;
    top: -22px;
    left:-22px;
  }

  .range {
    position: relative;
  }

  .range{
    margin-left: 0;
    background: var(--dark-primary-color);
    color: white;
    min-width: 60px;
  }

  .rounded {
    background:white;
    fill: var(--dark-primary-color);
    padding: 0 10px 0 0;
  }

  .rounded span {
    padding-left: 9px;
    display: block;
  }

  .dr-container{
    position: relative;
    display: inline-block;
    padding: 0 16px;
  }


  .dr-container > paper-button span{
    fill: var(--text-primary-color);
  }
`,n.b`
.aro-info {
  border: 2px solid #012257;
  border-radius: 5px;
  margin: 12.5px;
  padding: 8px 16px;
  max-height: 90%;
  height: 90%;
  display: grid;
  grid-template-rows: repeat(3,1fr);
}

.aro-info > div {
  padding: 8px 0;
}

.aro-info > div:not(.cbox-opt) {
  position: relative;
  font-size: 1.5em;
}

.aro-info > div:not(.cbox-opt).underline::after{
  content: "";
  position: absolute;
  left: 10%;
  bottom: 25%;
  width: 80%;
  height: 1px;
  background-color: #012257;
}`},function(t,e,i){"use strict";i.d(e,"a",(function(){return n}));i(6),i(4);
/**
@license
Copyright (c) 2015 The Polymer Project Authors. All rights reserved.
This code may only be used under the BSD style license found at
http://polymer.github.io/LICENSE.txt The complete set of authors may be found at
http://polymer.github.io/AUTHORS.txt The complete set of contributors may be
found at http://polymer.github.io/CONTRIBUTORS.txt Code distributed by Google as
part of the polymer project is also subject to an additional IP rights grant
found at http://polymer.github.io/PATENTS.txt
*/
const n={properties:{focused:{type:Boolean,value:!1,notify:!0,readOnly:!0,reflectToAttribute:!0},disabled:{type:Boolean,value:!1,notify:!0,observer:"_disabledChanged",reflectToAttribute:!0},_oldTabIndex:{type:String},_boundFocusBlurHandler:{type:Function,value:function(){return this._focusBlurHandler.bind(this)}}},observers:["_changedControlState(focused, disabled)"],ready:function(){this.addEventListener("focus",this._boundFocusBlurHandler,!0),this.addEventListener("blur",this._boundFocusBlurHandler,!0)},_focusBlurHandler:function(t){this._setFocused("focus"===t.type)},_disabledChanged:function(t,e){this.setAttribute("aria-disabled",t?"true":"false"),this.style.pointerEvents=t?"none":"",t?(this._oldTabIndex=this.getAttribute("tabindex"),this._setFocused(!1),this.tabIndex=-1,this.blur()):void 0!==this._oldTabIndex&&(null===this._oldTabIndex?this.removeAttribute("tabindex"):this.setAttribute("tabindex",this._oldTabIndex))},_changedControlState:function(){this._controlStateChanged&&this._controlStateChanged()}}},function(t,e,i){"use strict";i(6),i(49);
/**
@license
Copyright (c) 2015 The Polymer Project Authors. All rights reserved.
This code may only be used under the BSD style license found at
http://polymer.github.io/LICENSE.txt The complete set of authors may be found at
http://polymer.github.io/AUTHORS.txt The complete set of contributors may be
found at http://polymer.github.io/CONTRIBUTORS.txt Code distributed by Google as
part of the polymer project is also subject to an additional IP rights grant
found at http://polymer.github.io/PATENTS.txt
*/
const n=i(3).a`
<custom-style>
  <style is="custom-style">
    html {
      /*
       * You can use these generic variables in your elements for easy theming.
       * For example, if all your elements use \`--primary-text-color\` as its main
       * color, then switching from a light to a dark theme is just a matter of
       * changing the value of \`--primary-text-color\` in your application.
       */
      --primary-text-color: var(--light-theme-text-color);
      --primary-background-color: var(--light-theme-background-color);
      --secondary-text-color: var(--light-theme-secondary-color);
      --disabled-text-color: var(--light-theme-disabled-color);
      --divider-color: var(--light-theme-divider-color);
      --error-color: var(--paper-deep-orange-a700);

      /*
       * Primary and accent colors. Also see color.js for more colors.
       */
      --primary-color: var(--paper-indigo-500);
      --light-primary-color: var(--paper-indigo-100);
      --dark-primary-color: var(--paper-indigo-700);

      --accent-color: var(--paper-pink-a200);
      --light-accent-color: var(--paper-pink-a100);
      --dark-accent-color: var(--paper-pink-a400);


      /*
       * Material Design Light background theme
       */
      --light-theme-background-color: #ffffff;
      --light-theme-base-color: #000000;
      --light-theme-text-color: var(--paper-grey-900);
      --light-theme-secondary-color: #737373;  /* for secondary text and icons */
      --light-theme-disabled-color: #9b9b9b;  /* disabled/hint text */
      --light-theme-divider-color: #dbdbdb;

      /*
       * Material Design Dark background theme
       */
      --dark-theme-background-color: var(--paper-grey-900);
      --dark-theme-base-color: #ffffff;
      --dark-theme-text-color: #ffffff;
      --dark-theme-secondary-color: #bcbcbc;  /* for secondary text and icons */
      --dark-theme-disabled-color: #646464;  /* disabled/hint text */
      --dark-theme-divider-color: #3c3c3c;

      /*
       * Deprecated values because of their confusing names.
       */
      --text-primary-color: var(--dark-theme-text-color);
      --default-primary-color: var(--primary-color);
    }
  </style>
</custom-style>`;n.setAttribute("style","display: none;"),document.head.appendChild(n.content)},function(t,e,i){"use strict";i.d(e,"a",(function(){return c}));i(7);
/**
@license
Copyright (c) 2017 The Polymer Project Authors. All rights reserved.
This code may only be used under the BSD style license found at http://polymer.github.io/LICENSE.txt
The complete set of authors may be found at http://polymer.github.io/AUTHORS.txt
The complete set of contributors may be found at http://polymer.github.io/CONTRIBUTORS.txt
Code distributed by Google as part of the polymer project is also
subject to an additional IP rights grant found at http://polymer.github.io/PATENTS.txt
*/let n=!1,r=[],o=[];function s(){n=!0,requestAnimationFrame((function(){n=!1,a(r),setTimeout((function(){!function(t){for(let e=0,i=t.length;e<i;e++)l(t.shift())}(o)}))}))}function a(t){for(;t.length;)l(t.shift())}function l(t){const e=t[0],i=t[1],n=t[2];try{i.apply(e,n)}catch(t){setTimeout(()=>{throw t})}}function c(t,e,i){n||s(),o.push([t,e,i])}},function(t,e,i){"use strict";i.d(e,"a",(function(){return d}));
/**
@license
Copyright (c) 2017 The Polymer Project Authors. All rights reserved.
This code may only be used under the BSD style license found at http://polymer.github.io/LICENSE.txt
The complete set of authors may be found at http://polymer.github.io/AUTHORS.txt
The complete set of contributors may be found at http://polymer.github.io/CONTRIBUTORS.txt
Code distributed by Google as part of the polymer project is also
subject to an additional IP rights grant found at http://polymer.github.io/PATENTS.txt
*/
let n,r=null,o=window.HTMLImports&&window.HTMLImports.whenReady||null;function s(t){requestAnimationFrame((function(){o?o(t):(r||(r=new Promise(t=>{n=t}),"complete"===document.readyState?n():document.addEventListener("readystatechange",()=>{"complete"===document.readyState&&n()})),r.then((function(){t&&t()})))}))}
/**
@license
Copyright (c) 2017 The Polymer Project Authors. All rights reserved.
This code may only be used under the BSD style license found at http://polymer.github.io/LICENSE.txt
The complete set of authors may be found at http://polymer.github.io/AUTHORS.txt
The complete set of contributors may be found at http://polymer.github.io/CONTRIBUTORS.txt
Code distributed by Google as part of the polymer project is also
subject to an additional IP rights grant found at http://polymer.github.io/PATENTS.txt
*/const a="__shadyCSSCachedStyle";let l=null,c=null;class d{constructor(){this.customStyles=[],this.enqueued=!1,s(()=>{window.ShadyCSS.flushCustomStyles&&window.ShadyCSS.flushCustomStyles()})}enqueueDocumentValidation(){!this.enqueued&&c&&(this.enqueued=!0,s(c))}addCustomStyle(t){t.__seenByShadyCSS||(t.__seenByShadyCSS=!0,this.customStyles.push(t),this.enqueueDocumentValidation())}getStyleForCustomStyle(t){if(t[a])return t[a];let e;return e=t.getStyle?t.getStyle():t,e}processStyles(){const t=this.customStyles;for(let e=0;e<t.length;e++){const i=t[e];if(i[a])continue;const n=this.getStyleForCustomStyle(i);if(n){const t=n.__appliedElement||n;l&&l(t),i[a]=t}}return t}}d.prototype.addCustomStyle=d.prototype.addCustomStyle,d.prototype.getStyleForCustomStyle=d.prototype.getStyleForCustomStyle,d.prototype.processStyles=d.prototype.processStyles,Object.defineProperties(d.prototype,{transformCallback:{get:()=>l,set(t){l=t}},validateCallback:{get:()=>c,set(t){let e=!1;c||(e=!0),c=t,e&&this.enqueueDocumentValidation()}}})},function(t,e,i){"use strict";i.d(e,"a",(function(){return _}));i(6);
/**
@license
Copyright (c) 2015 The Polymer Project Authors. All rights reserved.
This code may only be used under the BSD style license found at
http://polymer.github.io/LICENSE.txt The complete set of authors may be found at
http://polymer.github.io/AUTHORS.txt The complete set of contributors may be
found at http://polymer.github.io/CONTRIBUTORS.txt Code distributed by Google as
part of the polymer project is also subject to an additional IP rights grant
found at http://polymer.github.io/PATENTS.txt
*/var n={"U+0008":"backspace","U+0009":"tab","U+001B":"esc","U+0020":"space","U+007F":"del"},r={8:"backspace",9:"tab",13:"enter",27:"esc",33:"pageup",34:"pagedown",35:"end",36:"home",32:"space",37:"left",38:"up",39:"right",40:"down",46:"del",106:"*"},o={shift:"shiftKey",ctrl:"ctrlKey",alt:"altKey",meta:"metaKey"},s=/[a-z0-9*]/,a=/U\+/,l=/^arrow/,c=/^space(bar)?/,d=/^escape$/;function p(t,e){var i="";if(t){var n=t.toLowerCase();" "===n||c.test(n)?i="space":d.test(n)?i="esc":1==n.length?e&&!s.test(n)||(i=n):i=l.test(n)?n.replace("arrow",""):"multiply"==n?"*":n}return i}function h(t,e){return t.key?p(t.key,e):t.detail&&t.detail.key?p(t.detail.key,e):(i=t.keyIdentifier,o="",i&&(i in n?o=n[i]:a.test(i)?(i=parseInt(i.replace("U+","0x"),16),o=String.fromCharCode(i).toLowerCase()):o=i.toLowerCase()),o||function(t){var e="";return Number(t)&&(e=t>=65&&t<=90?String.fromCharCode(32+t):t>=112&&t<=123?"f"+(t-112+1):t>=48&&t<=57?String(t-48):t>=96&&t<=105?String(t-96):r[t]),e}(t.keyCode)||"");var i,o}function u(t,e){return h(e,t.hasModifiers)===t.key&&(!t.hasModifiers||!!e.shiftKey==!!t.shiftKey&&!!e.ctrlKey==!!t.ctrlKey&&!!e.altKey==!!t.altKey&&!!e.metaKey==!!t.metaKey)}function f(t){return t.trim().split(" ").map((function(t){return function(t){return 1===t.length?{combo:t,key:t,event:"keydown"}:t.split("+").reduce((function(t,e){var i=e.split(":"),n=i[0],r=i[1];return n in o?(t[o[n]]=!0,t.hasModifiers=!0):(t.key=n,t.event=r||"keydown"),t}),{combo:t.split(":").shift()})}(t)}))}const _={properties:{keyEventTarget:{type:Object,value:function(){return this}},stopKeyboardEventPropagation:{type:Boolean,value:!1},_boundKeyHandlers:{type:Array,value:function(){return[]}},_imperativeKeyBindings:{type:Object,value:function(){return{}}}},observers:["_resetKeyEventListeners(keyEventTarget, _boundKeyHandlers)"],keyBindings:{},registered:function(){this._prepKeyBindings()},attached:function(){this._listenKeyEventListeners()},detached:function(){this._unlistenKeyEventListeners()},addOwnKeyBinding:function(t,e){this._imperativeKeyBindings[t]=e,this._prepKeyBindings(),this._resetKeyEventListeners()},removeOwnKeyBindings:function(){this._imperativeKeyBindings={},this._prepKeyBindings(),this._resetKeyEventListeners()},keyboardEventMatchesKeys:function(t,e){for(var i=f(e),n=0;n<i.length;++n)if(u(i[n],t))return!0;return!1},_collectKeyBindings:function(){var t=this.behaviors.map((function(t){return t.keyBindings}));return-1===t.indexOf(this.keyBindings)&&t.push(this.keyBindings),t},_prepKeyBindings:function(){for(var t in this._keyBindings={},this._collectKeyBindings().forEach((function(t){for(var e in t)this._addKeyBinding(e,t[e])}),this),this._imperativeKeyBindings)this._addKeyBinding(t,this._imperativeKeyBindings[t]);for(var e in this._keyBindings)this._keyBindings[e].sort((function(t,e){var i=t[0].hasModifiers;return i===e[0].hasModifiers?0:i?-1:1}))},_addKeyBinding:function(t,e){f(t).forEach((function(t){this._keyBindings[t.event]=this._keyBindings[t.event]||[],this._keyBindings[t.event].push([t,e])}),this)},_resetKeyEventListeners:function(){this._unlistenKeyEventListeners(),this.isAttached&&this._listenKeyEventListeners()},_listenKeyEventListeners:function(){this.keyEventTarget&&Object.keys(this._keyBindings).forEach((function(t){var e=this._keyBindings[t],i=this._onKeyBindingEvent.bind(this,e);this._boundKeyHandlers.push([this.keyEventTarget,t,i]),this.keyEventTarget.addEventListener(t,i)}),this)},_unlistenKeyEventListeners:function(){for(var t,e,i,n;this._boundKeyHandlers.length;)e=(t=this._boundKeyHandlers.pop())[0],i=t[1],n=t[2],e.removeEventListener(i,n)},_onKeyBindingEvent:function(t,e){if(this.stopKeyboardEventPropagation&&e.stopPropagation(),!e.defaultPrevented)for(var i=0;i<t.length;i++){var n=t[i][0],r=t[i][1];if(u(n,e)&&(this._triggerKeyHandler(n,r,e),e.defaultPrevented))return}},_triggerKeyHandler:function(t,e,i){var n=Object.create(t);n.keyboardEvent=i;var r=new CustomEvent(t.event,{detail:n,cancelable:!0});this[e].call(this,r),r.defaultPrevented&&i.preventDefault()}}},function(t,e,i){"use strict";i.d(e,"f",(function(){return r})),i.d(e,"g",(function(){return o})),i.d(e,"j",(function(){return s})),i.d(e,"l",(function(){return a})),i.d(e,"k",(function(){return l})),i.d(e,"b",(function(){return c})),i.d(e,"h",(function(){return d})),i.d(e,"d",(function(){return p})),i.d(e,"i",(function(){return h})),i.d(e,"n",(function(){return u})),i.d(e,"m",(function(){return f})),i.d(e,"e",(function(){return _})),i.d(e,"a",(function(){return m})),i.d(e,"c",(function(){return b}));var n=i(1);const r=n.c`<svg height="24" viewBox="0 0 24 24" width="24"><path d="M3 18h18v-2H3v2zm0-5h18v-2H3v2zm0-7v2h18V6H3z"></path></svg>`,o=(n.c`<svg height="24" viewBox="0 0 24 24" width="24"><path d="M0 0h24v24H0zm18.31 6l-2.76 5z" fill="none"/><path id="cart-path" d="M11 9h2V6h3V4h-3V1h-2v3H8v2h3v3zm-4 9c-1.1 0-1.99.9-1.99 2S5.9 22 7 22s2-.9 2-2-.9-2-2-2zm10 0c-1.1 0-1.99.9-1.99 2s.89 2 1.99 2 2-.9 2-2-.9-2-2-2zm-9.83-3.25l.03-.12.9-1.63h7.45c.75 0 1.41-.41 1.75-1.03l3.86-7.01L19.42 4h-.01l-1.1 2-2.76 5H8.53l-.13-.27L6.16 6l-.95-2-.94-2H1v2h2l3.6 7.59-1.35 2.45c-.16.28-.25.61-.25.96 0 1.1.9 2 2 2h12v-2H7.42c-.13 0-.25-.11-.25-.25z"/></svg>`,n.c`<svg height="24" viewBox="0 0 24 24" width="24"><path d="M22.73 22.73L2.77 2.77 2 2l-.73-.73L0 2.54l4.39 4.39 2.21 4.66-1.35 2.45c-.16.28-.25.61-.25.96 0 1.1.9 2 2 2h7.46l1.38 1.38c-.5.36-.83.95-.83 1.62 0 1.1.89 2 1.99 2 .67 0 1.26-.33 1.62-.84L21.46 24l1.27-1.27zM7.42 15c-.14 0-.25-.11-.25-.25l.03-.12.9-1.63h2.36l2 2H7.42zm8.13-2c.75 0 1.41-.41 1.75-1.03l3.58-6.49c.08-.14.12-.31.12-.48 0-.55-.45-1-1-1H6.54l9.01 9zM7 18c-1.1 0-1.99.9-1.99 2S5.9 22 7 22s2-.9 2-2-.9-2-2-2z"/><path d="M0 0h24v24H0z" fill="none"/></svg>`,n.c`<svg height="24" viewBox="0 0 24 24" width="24"><path d="M0 0h24v24H0z" fill="none"/><path d="M7 11v2h10v-2H7zm5-9C6.48 2 2 6.48 2 12s4.48 10 10 10 10-4.48 10-10S17.52 2 12 2zm0 18c-4.41 0-8-3.59-8-8s3.59-8 8-8 8 3.59 8 8-3.59 8-8 8z"/></svg>`),s=n.c`<svg height="24" viewBox="0 0 24 24" width="24"><path d="M0 0h24v24H0z" fill="none"/><path d="M13 7h-2v4H7v2h4v4h2v-4h4v-2h-4V7zm-1-5C6.48 2 2 6.48 2 12s4.48 10 10 10 10-4.48 10-10S17.52 2 12 2zm0 18c-4.41 0-8-3.59-8-8s3.59-8 8-8 8 3.59 8 8-3.59 8-8 8z"/></svg>`,a=(n.c`<svg height="24" viewBox="0 0 24 24" width="24"><path d="M19 8H5c-1.66 0-3 1.34-3 3v6h4v4h12v-4h4v-6c0-1.66-1.34-3-3-3zm-3 11H8v-5h8v5zm3-7c-.55 0-1-.45-1-1s.45-1 1-1 1 .45 1 1-.45 1-1 1zm-1-9H6v4h12V3z"></path></svg>`,n.c`<svg height="24" viewBox="0 0 24 24" width="24"><path d="M16 1H8C6.34 1 5 2.34 5 4v16c0 1.66 1.34 3 3 3h8c1.66 0 3-1.34 3-3V4c0-1.66-1.34-3-3-3zm-2 20h-4v-1h4v1zm3.25-3H6.75V4h10.5v14z"></path></svg>`,n.c`<svg height="24" viewBox="0 0 24 24" width="24" preserveAspectRatio<svg viewBox="0 0 24 24" preserveAspectRatio="xMidYMid meet" focusable="false" style="pointer-events: none; display: block; width: 100%; height: 100%;"><g><path d="M10.08 10.86c.05-.33.16-.62.3-.87s.34-.46.59-.62c.24-.15.54-.22.91-.23.23.01.44.05.63.13.2.09.38.21.52.36s.25.33.34.53.13.42.14.64h1.79c-.02-.47-.11-.9-.28-1.29s-.4-.73-.7-1.01-.66-.5-1.08-.66-.88-.23-1.39-.23c-.65 0-1.22.11-1.7.34s-.88.53-1.2.92-.56.84-.71 1.36S8 11.29 8 11.87v.27c0 .58.08 1.12.23 1.64s.39.97.71 1.35.72.69 1.2.91 1.05.34 1.7.34c.47 0 .91-.08 1.32-.23s.77-.36 1.08-.63.56-.58.74-.94.29-.74.3-1.15h-1.79c-.01.21-.06.4-.15.58s-.21.33-.36.46-.32.23-.52.3c-.19.07-.39.09-.6.1-.36-.01-.66-.08-.89-.23-.25-.16-.45-.37-.59-.62s-.25-.55-.3-.88-.08-.67-.08-1v-.27c0-.35.03-.68.08-1.01zM12 2C6.48 2 2 6.48 2 12s4.48 10 10 10 10-4.48 10-10S17.52 2 12 2zm0 18c-4.41 0-8-3.59-8-8s3.59-8 8-8 8 3.59 8 8-3.59 8-8 8z"></path></g></svg>`,n.c`<svg height="24" viewBox="0 0 24 24" width="24"><path d="M20 11H7.83l5.59-5.59L12 4l-8 8 8 8 1.41-1.41L7.83 13H20v-2z"></path></g></svg>`,n.c`<svg height="24" viewBox="0 0 24 24" width="24"><g id="visibility"><path d="M12 4.5C7 4.5 2.73 7.61 1 12c1.73 4.39 6 7.5 11 7.5s9.27-3.11 11-7.5c-1.73-4.39-6-7.5-11-7.5zM12 17c-2.76 0-5-2.24-5-5s2.24-5 5-5 5 2.24 5 5-2.24 5-5 5zm0-8c-1.66 0-3 1.34-3 3s1.34 3 3 3 3-1.34 3-3-1.34-3-3-3z"></path></g></svg>`,n.c`<svg height="24" viewBox="0 0 24 24" width="24"><path d="M12 7c2.76 0 5 2.24 5 5 0 .65-.13 1.26-.36 1.83l2.92 2.92c1.51-1.26 2.7-2.89 3.43-4.75-1.73-4.39-6-7.5-11-7.5-1.4 0-2.74.25-3.98.7l2.16 2.16C10.74 7.13 11.35 7 12 7zM2 4.27l2.28 2.28.46.46C3.08 8.3 1.78 10.02 1 12c1.73 4.39 6 7.5 11 7.5 1.55 0 3.03-.3 4.38-.84l.42.42L19.73 22 21 20.73 3.27 3 2 4.27zM7.53 9.8l1.55 1.55c-.05.21-.08.43-.08.65 0 1.66 1.34 3 3 3 .22 0 .44-.03.65-.08l1.55 1.55c-.67.33-1.41.53-2.2.53-2.76 0-5-2.24-5-5 0-.79.2-1.53.53-2.2zm4.31-.78l3.15 3.15.02-.16c0-1.66-1.34-3-3-3l-.17.01z"></path></svg>`,n.c`<svg height="24" viewBox="0 0 24 24" width="24"><path d="M17 3H5c-1.11 0-2 .9-2 2v14c0 1.1.89 2 2 2h14c1.1 0 2-.9 2-2V7l-4-4zm-5 16c-1.66 0-3-1.34-3-3s1.34-3 3-3 3 1.34 3 3-1.34 3-3 3zm3-10H5V5h10v4z"></path></svg>`),l=(n.c`<svg height="24" viewBox="0 0 24 24" width="24"><path d="M9 11H7v2h2v-2zm4 0h-2v2h2v-2zm4 0h-2v2h2v-2zm2-7h-1V2h-2v2H8V2H6v2H5c-1.11 0-1.99.9-1.99 2L3 20c0 1.1.89 2 2 2h14c1.1 0 2-.9 2-2V6c0-1.1-.9-2-2-2zm0 16H5V9h14v11z"></path></svg>`,n.c`<svg version="1.1" preserveAspectRatio="xMidYMid meet" viewBox="0 0 400 400" width="150" height="100"><defs><path d="M350 193.24C350 276.03 282.79 343.24 200 343.24C117.21 343.24 50 276.03 50 193.24C50 110.45 117.21 43.24 200 43.24C282.79 43.24 350 110.45 350 193.24Z" id="a3BJFHUn8"></path><radialGradient id="gradientfyN2Th74H" gradientUnits="userSpaceOnUse" cx="350" cy="195.14" r="237.31"><stop style="stop-color: #ffffff;stop-opacity: 1" offset="0%"></stop><stop style="stop-color: #a5f0ff;stop-opacity: 1" offset="29.012480093600683%"></stop><stop style="stop-color: #65e0e7;stop-opacity: 1" offset="59.52695895219217%"></stop><stop style="stop-color: #326fa7;stop-opacity: 1" offset="100%"></stop></radialGradient><path d="M262.5 195.14C262.5 229.63 234.49 257.64 200 257.64C165.51 257.64 137.5 229.63 137.5 195.14C137.5 160.64 165.51 132.64 200 132.64C234.49 132.64 262.5 160.64 262.5 195.14Z" id="dLgBgEMi5"></path><path d="M268.6 158.26C268.6 172.41 257.4 183.89 243.6 183.89C229.8 183.89 218.6 172.41 218.6 158.26C218.6 144.12 229.8 132.64 243.6 132.64C257.4 132.64 268.6 144.12 268.6 158.26Z" id="g2PFaIzYRd"></path></defs><g><g><g><use xlink:href="#a3BJFHUn8" opacity="1" fill="url(#gradientfyN2Th74H)"></use><g><use xlink:href="#a3BJFHUn8" opacity="1" fill-opacity="0" stroke="#b0d6ef" stroke-width="0" stroke-opacity="1"></use></g></g><g><use xlink:href="#dLgBgEMi5" opacity="1" fill="#181d3c" fill-opacity="1"></use></g><g><use xlink:href="#g2PFaIzYRd" opacity="1" fill="#ffffff" fill-opacity="1"></use></g></g></g></svg>`,n.c`<svg height="24" viewBox="0 0 24 24" width="24"><path d="M2.01 21L23 12 2.01 3 2 10l15 2-15 2z"></path></svg>`,n.c`<svg height="24" viewBox="0 0 24 24" width="24"><path d="M15.5 14h-.79l-.28-.27C15.41 12.59 16 11.11 16 9.5 16 5.91 13.09 3 9.5 3S3 5.91 3 9.5 5.91 16 9.5 16c1.61 0 3.09-.59 4.23-1.57l.27.28v.79l5 4.99L20.49 19l-4.99-5zm-6 0C7.01 14 5 11.99 5 9.5S7.01 5 9.5 5 14 7.01 14 9.5 11.99 14 9.5 14z"></path></svg>`,n.c`<svg height="24" viewBox="0 0 24 24" width="24"><path d="M17.65 6.35C16.2 4.9 14.21 4 12 4c-4.42 0-7.99 3.58-7.99 8s3.57 8 7.99 8c3.73 0 6.84-2.55 7.73-6h-2.08c-.82 2.33-3.04 4-5.65 4-3.31 0-6-2.69-6-6s2.69-6 6-6c1.66 0 3.14.69 4.22 1.78L13 11h7V4l-2.35 2.35z"></path></svg>`),c=(n.c`<svg height="24" viewBox="0 0 24 24" width="24"><path d="M5.59 7.41L10.18 12l-4.59 4.59L7 18l6-6-6-6zM16 6h2v12h-2z"></path></svg>`,n.c`<svg height="24" viewBox="0 0 24 24" width="24"><path d="M18.41 16.59L13.82 12l4.59-4.59L17 6l-6 6 6 6zM6 6h2v12H6z"></path></svg>`,n.c`<svg height="24" viewBox="0 0 24 24" width="24"><path d="M8 4v1.45l2 2V4h4v4h-3.45l2 2H14v1.45l2 2V10h4v4h-3.45l2 2H20v1.45l2 2V4c0-1.1-.9-2-2-2H4.55l2 2H8zm8 0h4v4h-4V4zM1.27 1.27L0 2.55l2 2V20c0 1.1.9 2 2 2h15.46l2 2 1.27-1.27L1.27 1.27zM10 12.55L11.45 14H10v-1.45zm-6-6L5.45 8H4V6.55zM8 20H4v-4h4v4zm0-6H4v-4h3.45l.55.55V14zm6 6h-4v-4h3.45l.55.54V20zm2 0v-1.46L17.46 20H16z"></path></svg>`,n.c`<svg height="24" viewBox="0 0 24 24" width="24"><path d="M7 14l5-5 5 5z"></path></svg>`,n.c`<svg height="24" viewBox="0 0 24 24" width="24"><path d="M7 10l5 5 5-5z"></path></svg>`,n.c`<svg height="24" viewBox="0 0 24 24" width="24"><path d="M11 2v20c-5.07-.5-9-4.79-9-10s3.93-9.5 9-10zm2.03 0v8.99H22c-.47-4.74-4.24-8.52-8.97-8.99zm0 11.01V22c4.74-.47 8.5-4.25 8.97-8.99h-8.97z"></path></svg>`,n.c`<svg height="24" viewBox="0 0 24 24" width="24"><path d="M12 2C6.48 2 2 6.48 2 12s4.48 10 10 10 10-4.48 10-10S17.52 2 12 2zm0 3c1.66 0 3 1.34 3 3s-1.34 3-3 3-3-1.34-3-3 1.34-3 3-3zm0 14.2c-2.5 0-4.71-1.28-6-3.22.03-1.99 4-3.08 6-3.08 1.99 0 5.97 1.09 6 3.08-1.29 1.94-3.5 3.22-6 3.22z"></path></svg>`,n.c`<svg height="24" viewBox="0 0 24 24" width="24"><path d="M12 17c1.1 0 2-.9 2-2s-.9-2-2-2-2 .9-2 2 .9 2 2 2zm6-9h-1V6c0-2.76-2.24-5-5-5S7 3.24 7 6v2H6c-1.1 0-2 .9-2 2v10c0 1.1.9 2 2 2h12c1.1 0 2-.9 2-2V10c0-1.1-.9-2-2-2zM8.9 6c0-1.71 1.39-3.1 3.1-3.1s3.1 1.39 3.1 3.1v2H8.9V6zM18 20H6V10h12v10z"></svg>`,n.c`<svg height="24" viewBox="0 0 24 24" width="24"><path d="M14.59 8L12 10.59 9.41 8 8 9.41 10.59 12 8 14.59 9.41 16 12 13.41 14.59 16 16 14.59 13.41 12 16 9.41 14.59 8zM12 2C6.47 2 2 6.47 2 12s4.47 10 10 10 10-4.47 10-10S17.53 2 12 2zm0 18c-4.41 0-8-3.59-8-8s3.59-8 8-8 8 3.59 8 8-3.59 8-8 8z"></path></svg>`),d=(n.c`<svg height="24" viewBox="0 0 24 24" width="24"><path d="M10 20v-6h4v6h5v-8h3L12 3 2 12h3v8z"></path></svg>`,n.c`<svg height="24" viewBox="0 0 24 24" width="24"><path d="M19 3h-4.18C14.4 1.84 13.3 1 12 1c-1.3 0-2.4.84-2.82 2H5c-1.1 0-2 .9-2 2v14c0 1.1.9 2 2 2h14c1.1 0 2-.9 2-2V5c0-1.1-.9-2-2-2zm-7 0c.55 0 1 .45 1 1s-.45 1-1 1-1-.45-1-1 .45-1 1-1zm2 14H7v-2h7v2zm3-4H7v-2h10v2zm0-4H7V7h10v2z"></path></svg>`,n.c`<svg viewBox="0 0 24 24" preserveAspectRatio="xMidYMid meet" ><path d="M19 2h-4.18C14.4.84 13.3 0 12 0c-1.3 0-2.4.84-2.82 2H5c-1.1 0-2 .9-2 2v16c0 1.1.9 2 2 2h14c1.1 0 2-.9 2-2V4c0-1.1-.9-2-2-2zm-7 0c.55 0 1 .45 1 1s-.45 1-1 1-1-.45-1-1 .45-1 1-1zm7 18H5V4h2v3h10V4h2v16z"></path></svg>`),p=(n.c`<svg  height="24" width="24" viewBox="0 0 24 24" preserveAspectRatio="xMidYMid meet" ><path d="M10.01 21.01c0 1.1.89 1.99 1.99 1.99s1.99-.89 1.99-1.99h-3.98zm8.87-4.19V11c0-3.25-2.25-5.97-5.29-6.69v-.72C13.59 2.71 12.88 2 12 2s-1.59.71-1.59 1.59v.72C7.37 5.03 5.12 7.75 5.12 11v5.82L3 18.94V20h18v-1.06l-2.12-2.12zM16 "></path></svg>`,n.c`<svg  height="24" width="24" viewBox="0 0 24 24" preserveAspectRatio="xMidYMid meet" ><path d="M5.59 7.41L10.18 12l-4.59 4.59L7 18l6-6-6-6zM16 6h2v12h-2z"></path></svg>`,n.c`<svg height="24" width="24"  viewBox="0 0 24 24" preserveAspectRatio="xMidYMid meet" ><path d="M6 19c0 1.1.9 2 2 2h8c1.1 0 2-.9 2-2V7H6v12zM19 4h-3.5l-1-1h-5l-1 1H5v2h14V4z"></path></svg>`,n.c`<svg height="24" width="24" viewBox="0 0 24 24" preerveAspectRatio="xMidYMid meet" ><path d="M3 17.25V21h3.75L17.81 9.94l-3.75-3.75L3 17.25zM20.71 7.04c.39-.39.39-1.02 0-1.41l-2.34-2.34c-.39-.39-1.02-.39-1.41 0l-1.83 1.83 3.75 3.75 1.83-1.83z"></path></svg>`,n.c`<svg height="24" width="24" viewBox="0 0 24 24" preerveAspectRatio="xMidYMid meet" ><path d="M12 8c1.1 0 2-.9 2-2s-.9-2-2-2-2 .9-2 2 .9 2 2 2zm0 2c-1.1 0-2 .9-2 2s.9 2 2 2 2-.9 2-2-.9-2-2-2zm0 6c-1.1 0-2 .9-2 2s.9 2 2 2 2-.9 2-2-.9-2-2-2z"></path></svg>`,n.c`<svg height="24" width="24" viewBox="0 0 24 24" preerveAspectRatio="xMidYMid meet" ><path d="M20 2H4c-1.1 0-1.99.9-1.99 2L2 22l4-4h14c1.1 0 2-.9 2-2V4c0-1.1-.9-2-2-2zm-2 12H6v-2h12v2zm0-3H6V9h12v2zm0-3H6V6h12v2z"></path></svg>`,n.c`<svg viewBox="0 0 24 24" preserveAspectRatio="xMidYMid meet"><path d="M10.09 15.59L11.5 17l5-5-5-5-1.41 1.41L12.67 11H3v2h9.67l-2.58 2.59zM19 3H5c-1.11 0-2 .9-2 2v4h2V5h14v14H5v-4H3v4c0 1.1.89 2 2 2h14c1.1 0 2-.9 2-2V5c0-1.1-.9-2-2-2z"></path></svg>`,n.c`<svg viewBox="0 0 24 24" height="24" width="24" preserveAspectRatio="xMidYMid meet" focusable="false" style="pointer-events: none; display: block; width: 100%; height: 100%;"><path d="M9 16h6v-6h4l-7-7-7 7h4zm-4 2h14v2H5z"></path></svg>`),h=n.c`<svg viewBox="0 0 24 24" height="24" width="24" preserveAspectRatio="xMidYMid meet" focusable="false" ><path d="M8 5v14l11-7z"></path></svg>`,u=n.c`<svg viewBox="0 0 24 24" height="24" width="24" preserveAspectRatio="xMidYMid meet" focusable="false" ><path d="M12.87 15.07l-2.54-2.51.03-.03c1.74-1.94 2.98-4.17 3.71-6.53H17V4h-7V2H8v2H1v1.99h11.17C11.5 7.92 10.44 9.75 9 11.35 8.07 10.32 7.3 9.19 6.69 8h-2c.73 1.63 1.73 3.17 2.98 4.56l-5.09 5.02L4 19l5-5 3.11 3.11.76-2.04zM18.5 10h-2L12 22h2l1.12-3h4.75L21 22h2l-4.5-12zm-2.62 7l1.62-4.33L19.12 17h-3.24z"></path></svg>`,f=n.c`<svg viewBox="0 0 24 24" height="24" width="24" preserveAspectRatio="xMidYMid meet" focusable="false" ><path d="M6 6h12v12H6z"></path></svg>`,_=(n.c`<svg viewBox="0 0 24 24" height="24" width="24" preserveAspectRatio="xMidYMid meet" focusable="false" ><path d="M20 18c1.1 0 1.99-.9 1.99-2L22 6c0-1.1-.9-2-2-2H4c-1.1 0-2 .9-2 2v10c0 1.1.9 2 2 2H0v2h24v-2h-4zM4 6h16v10H4V6z"></path></svg>`,n.c`<svg viewBox="0 0 24 24" height="24" width="24" preserveAspectRatio="xMidYMid meet" focusable="false" ><path d="M13.05 9.79L10 7.5v9l3.05-2.29L16 12zm0 0L10 7.5v9l3.05-2.29L16 12zm0 0L10 7.5v9l3.05-2.29L16 12zM11 4.07V2.05c-2.01.2-3.84 1-5.32 2.21L7.1 5.69c1.11-.86 2.44-1.44 3.9-1.62zM5.69 7.1L4.26 5.68C3.05 7.16 2.25 8.99 2.05 11h2.02c.18-1.46.76-2.79 1.62-3.9zM4.07 13H2.05c.2 2.01 1 3.84 2.21 5.32l1.43-1.43c-.86-1.1-1.44-2.43-1.62-3.89zm1.61 6.74C7.16 20.95 9 21.75 11 21.95v-2.02c-1.46-.18-2.79-.76-3.9-1.62l-1.42 1.43zM22 12c0 5.16-3.92 9.42-8.95 9.95v-2.02C16.97 19.41 20 16.05 20 12s-3.03-7.41-6.95-7.93V2.05C18.08 2.58 22 6.84 22 12z"></path></svg>`),m=n.c`<svg viewBox="0 0 24 24" height="24" width="24" preserveAspectRatio="xMidYMid meet" focusable="false" ><path d="M15 9H9v6h6V9zm-2 4h-2v-2h2v2zm8-2V9h-2V7c0-1.1-.9-2-2-2h-2V3h-2v2h-2V3H9v2H7c-1.1 0-2 .9-2 2v2H3v2h2v2H3v2h2v2c0 1.1.9 2 2 2h2v2h2v-2h2v2h2v-2h2c1.1 0 2-.9 2-2v-2h2v-2h-2v-2h2zm-4 6H7V7h10v10z"></path></svg>`,b=(n.c`<svg viewBox="0 0 24 24" height="24" width="24" preserveAspectRatio="xMidYMid meet" focusable="false" ><path d="M19 19H5V5h7V3H5c-1.11 0-2 .9-2 2v14c0 1.1.89 2 2 2h14c1.1 0 2-.9 2-2v-7h-2v7zM14 3v2h3.59l-9.83 9.83 1.41 1.41L19 6.41V10h2V3h-7z"></path></svg >`,n.c`<svg viewBox="0 0 24 24" height="24" width="24" preserveAspectRatio="xMidYMid meet" focusable="false" ><path d="M20 13H4c-.55 0-1 .45-1 1v6c0 .55.45 1 1 1h16c.55 0 1-.45 1-1v-6c0-.55-.45-1-1-1zM7 19c-1.1 0-2-.9-2-2s.9-2 2-2 2 .9 2 2-.9 2-2 2zM20 3H4c-.55 0-1 .45-1 1v6c0 .55.45 1 1 1h16c.55 0 1-.45 1-1V4c0-.55-.45-1-1-1zM7 9c-1.1 0-2-.9-2-2s.9-2 2-2 2 .9 2 2-.9 2-2 2z"></path></svg>`)},function(t,e,i){"use strict";i.d(e,"a",(function(){return s}));i(6);var n=i(4),r=i(5),o=new Set;const s={properties:{_parentResizable:{type:Object,observer:"_parentResizableChanged"},_notifyingDescendant:{type:Boolean,value:!1}},listeners:{"iron-request-resize-notifications":"_onIronRequestResizeNotifications"},created:function(){this._interestedResizables=[],this._boundNotifyResize=this.notifyResize.bind(this),this._boundOnDescendantIronResize=this._onDescendantIronResize.bind(this)},attached:function(){this._requestResizeNotifications()},detached:function(){this._parentResizable?this._parentResizable.stopResizeNotificationsFor(this):(o.delete(this),window.removeEventListener("resize",this._boundNotifyResize)),this._parentResizable=null},notifyResize:function(){this.isAttached&&(this._interestedResizables.forEach((function(t){this.resizerShouldNotify(t)&&this._notifyDescendant(t)}),this),this._fireResize())},assignParentResizable:function(t){this._parentResizable&&this._parentResizable.stopResizeNotificationsFor(this),this._parentResizable=t,t&&-1===t._interestedResizables.indexOf(this)&&(t._interestedResizables.push(this),t._subscribeIronResize(this))},stopResizeNotificationsFor:function(t){var e=this._interestedResizables.indexOf(t);e>-1&&(this._interestedResizables.splice(e,1),this._unsubscribeIronResize(t))},_subscribeIronResize:function(t){t.addEventListener("iron-resize",this._boundOnDescendantIronResize)},_unsubscribeIronResize:function(t){t.removeEventListener("iron-resize",this._boundOnDescendantIronResize)},resizerShouldNotify:function(t){return!0},_onDescendantIronResize:function(t){this._notifyingDescendant?t.stopPropagation():r.i||this._fireResize()},_fireResize:function(){this.fire("iron-resize",null,{node:this,bubbles:!1})},_onIronRequestResizeNotifications:function(t){var e=Object(n.a)(t).rootTarget;e!==this&&(e.assignParentResizable(this),this._notifyDescendant(e),t.stopPropagation())},_parentResizableChanged:function(t){t&&window.removeEventListener("resize",this._boundNotifyResize)},_notifyDescendant:function(t){this.isAttached&&(this._notifyingDescendant=!0,t.notifyResize(),this._notifyingDescendant=!1)},_requestResizeNotifications:function(){if(this.isAttached)if("loading"===document.readyState){var t=this._requestResizeNotifications.bind(this);document.addEventListener("readystatechange",(function e(){document.removeEventListener("readystatechange",e),t()}))}else this._findParent(),this._parentResizable?this._parentResizable._interestedResizables.forEach((function(t){t!==this&&t._findParent()}),this):(o.forEach((function(t){t!==this&&t._findParent()}),this),window.addEventListener("resize",this._boundNotifyResize),this.notifyResize())},_findParent:function(){this.assignParentResizable(null),this.fire("iron-request-resize-notifications",null,{node:this,bubbles:!0,cancelable:!0}),this._parentResizable?o.delete(this):o.add(this)}}},function(t,e,i){"use strict";i(6);
/**
@license
Copyright (c) 2015 The Polymer Project Authors. All rights reserved.
This code may only be used under the BSD style license found at
http://polymer.github.io/LICENSE.txt The complete set of authors may be found at
http://polymer.github.io/AUTHORS.txt The complete set of contributors may be
found at http://polymer.github.io/CONTRIBUTORS.txt Code distributed by Google as
part of the polymer project is also subject to an additional IP rights grant
found at http://polymer.github.io/PATENTS.txt
*/
const n=i(3).a`
<custom-style>
  <style is="custom-style">
    html {

      /* Material Design color palette for Google products */

      --google-red-100: #f4c7c3;
      --google-red-300: #e67c73;
      --google-red-500: #db4437;
      --google-red-700: #c53929;

      --google-blue-100: #c6dafc;
      --google-blue-300: #7baaf7;
      --google-blue-500: #4285f4;
      --google-blue-700: #3367d6;

      --google-green-100: #b7e1cd;
      --google-green-300: #57bb8a;
      --google-green-500: #0f9d58;
      --google-green-700: #0b8043;

      --google-yellow-100: #fce8b2;
      --google-yellow-300: #f7cb4d;
      --google-yellow-500: #f4b400;
      --google-yellow-700: #f09300;

      --google-grey-100: #f5f5f5;
      --google-grey-300: #e0e0e0;
      --google-grey-500: #9e9e9e;
      --google-grey-700: #616161;

      /* Material Design color palette from online spec document */

      --paper-red-50: #ffebee;
      --paper-red-100: #ffcdd2;
      --paper-red-200: #ef9a9a;
      --paper-red-300: #e57373;
      --paper-red-400: #ef5350;
      --paper-red-500: #f44336;
      --paper-red-600: #e53935;
      --paper-red-700: #d32f2f;
      --paper-red-800: #c62828;
      --paper-red-900: #b71c1c;
      --paper-red-a100: #ff8a80;
      --paper-red-a200: #ff5252;
      --paper-red-a400: #ff1744;
      --paper-red-a700: #d50000;

      --paper-pink-50: #fce4ec;
      --paper-pink-100: #f8bbd0;
      --paper-pink-200: #f48fb1;
      --paper-pink-300: #f06292;
      --paper-pink-400: #ec407a;
      --paper-pink-500: #e91e63;
      --paper-pink-600: #d81b60;
      --paper-pink-700: #c2185b;
      --paper-pink-800: #ad1457;
      --paper-pink-900: #880e4f;
      --paper-pink-a100: #ff80ab;
      --paper-pink-a200: #ff4081;
      --paper-pink-a400: #f50057;
      --paper-pink-a700: #c51162;

      --paper-purple-50: #f3e5f5;
      --paper-purple-100: #e1bee7;
      --paper-purple-200: #ce93d8;
      --paper-purple-300: #ba68c8;
      --paper-purple-400: #ab47bc;
      --paper-purple-500: #9c27b0;
      --paper-purple-600: #8e24aa;
      --paper-purple-700: #7b1fa2;
      --paper-purple-800: #6a1b9a;
      --paper-purple-900: #4a148c;
      --paper-purple-a100: #ea80fc;
      --paper-purple-a200: #e040fb;
      --paper-purple-a400: #d500f9;
      --paper-purple-a700: #aa00ff;

      --paper-deep-purple-50: #ede7f6;
      --paper-deep-purple-100: #d1c4e9;
      --paper-deep-purple-200: #b39ddb;
      --paper-deep-purple-300: #9575cd;
      --paper-deep-purple-400: #7e57c2;
      --paper-deep-purple-500: #673ab7;
      --paper-deep-purple-600: #5e35b1;
      --paper-deep-purple-700: #512da8;
      --paper-deep-purple-800: #4527a0;
      --paper-deep-purple-900: #311b92;
      --paper-deep-purple-a100: #b388ff;
      --paper-deep-purple-a200: #7c4dff;
      --paper-deep-purple-a400: #651fff;
      --paper-deep-purple-a700: #6200ea;

      --paper-indigo-50: #e8eaf6;
      --paper-indigo-100: #c5cae9;
      --paper-indigo-200: #9fa8da;
      --paper-indigo-300: #7986cb;
      --paper-indigo-400: #5c6bc0;
      --paper-indigo-500: #3f51b5;
      --paper-indigo-600: #3949ab;
      --paper-indigo-700: #303f9f;
      --paper-indigo-800: #283593;
      --paper-indigo-900: #1a237e;
      --paper-indigo-a100: #8c9eff;
      --paper-indigo-a200: #536dfe;
      --paper-indigo-a400: #3d5afe;
      --paper-indigo-a700: #304ffe;

      --paper-blue-50: #e3f2fd;
      --paper-blue-100: #bbdefb;
      --paper-blue-200: #90caf9;
      --paper-blue-300: #64b5f6;
      --paper-blue-400: #42a5f5;
      --paper-blue-500: #2196f3;
      --paper-blue-600: #1e88e5;
      --paper-blue-700: #1976d2;
      --paper-blue-800: #1565c0;
      --paper-blue-900: #0d47a1;
      --paper-blue-a100: #82b1ff;
      --paper-blue-a200: #448aff;
      --paper-blue-a400: #2979ff;
      --paper-blue-a700: #2962ff;

      --paper-light-blue-50: #e1f5fe;
      --paper-light-blue-100: #b3e5fc;
      --paper-light-blue-200: #81d4fa;
      --paper-light-blue-300: #4fc3f7;
      --paper-light-blue-400: #29b6f6;
      --paper-light-blue-500: #03a9f4;
      --paper-light-blue-600: #039be5;
      --paper-light-blue-700: #0288d1;
      --paper-light-blue-800: #0277bd;
      --paper-light-blue-900: #01579b;
      --paper-light-blue-a100: #80d8ff;
      --paper-light-blue-a200: #40c4ff;
      --paper-light-blue-a400: #00b0ff;
      --paper-light-blue-a700: #0091ea;

      --paper-cyan-50: #e0f7fa;
      --paper-cyan-100: #b2ebf2;
      --paper-cyan-200: #80deea;
      --paper-cyan-300: #4dd0e1;
      --paper-cyan-400: #26c6da;
      --paper-cyan-500: #00bcd4;
      --paper-cyan-600: #00acc1;
      --paper-cyan-700: #0097a7;
      --paper-cyan-800: #00838f;
      --paper-cyan-900: #006064;
      --paper-cyan-a100: #84ffff;
      --paper-cyan-a200: #18ffff;
      --paper-cyan-a400: #00e5ff;
      --paper-cyan-a700: #00b8d4;

      --paper-teal-50: #e0f2f1;
      --paper-teal-100: #b2dfdb;
      --paper-teal-200: #80cbc4;
      --paper-teal-300: #4db6ac;
      --paper-teal-400: #26a69a;
      --paper-teal-500: #009688;
      --paper-teal-600: #00897b;
      --paper-teal-700: #00796b;
      --paper-teal-800: #00695c;
      --paper-teal-900: #004d40;
      --paper-teal-a100: #a7ffeb;
      --paper-teal-a200: #64ffda;
      --paper-teal-a400: #1de9b6;
      --paper-teal-a700: #00bfa5;

      --paper-green-50: #e8f5e9;
      --paper-green-100: #c8e6c9;
      --paper-green-200: #a5d6a7;
      --paper-green-300: #81c784;
      --paper-green-400: #66bb6a;
      --paper-green-500: #4caf50;
      --paper-green-600: #43a047;
      --paper-green-700: #388e3c;
      --paper-green-800: #2e7d32;
      --paper-green-900: #1b5e20;
      --paper-green-a100: #b9f6ca;
      --paper-green-a200: #69f0ae;
      --paper-green-a400: #00e676;
      --paper-green-a700: #00c853;

      --paper-light-green-50: #f1f8e9;
      --paper-light-green-100: #dcedc8;
      --paper-light-green-200: #c5e1a5;
      --paper-light-green-300: #aed581;
      --paper-light-green-400: #9ccc65;
      --paper-light-green-500: #8bc34a;
      --paper-light-green-600: #7cb342;
      --paper-light-green-700: #689f38;
      --paper-light-green-800: #558b2f;
      --paper-light-green-900: #33691e;
      --paper-light-green-a100: #ccff90;
      --paper-light-green-a200: #b2ff59;
      --paper-light-green-a400: #76ff03;
      --paper-light-green-a700: #64dd17;

      --paper-lime-50: #f9fbe7;
      --paper-lime-100: #f0f4c3;
      --paper-lime-200: #e6ee9c;
      --paper-lime-300: #dce775;
      --paper-lime-400: #d4e157;
      --paper-lime-500: #cddc39;
      --paper-lime-600: #c0ca33;
      --paper-lime-700: #afb42b;
      --paper-lime-800: #9e9d24;
      --paper-lime-900: #827717;
      --paper-lime-a100: #f4ff81;
      --paper-lime-a200: #eeff41;
      --paper-lime-a400: #c6ff00;
      --paper-lime-a700: #aeea00;

      --paper-yellow-50: #fffde7;
      --paper-yellow-100: #fff9c4;
      --paper-yellow-200: #fff59d;
      --paper-yellow-300: #fff176;
      --paper-yellow-400: #ffee58;
      --paper-yellow-500: #ffeb3b;
      --paper-yellow-600: #fdd835;
      --paper-yellow-700: #fbc02d;
      --paper-yellow-800: #f9a825;
      --paper-yellow-900: #f57f17;
      --paper-yellow-a100: #ffff8d;
      --paper-yellow-a200: #ffff00;
      --paper-yellow-a400: #ffea00;
      --paper-yellow-a700: #ffd600;

      --paper-amber-50: #fff8e1;
      --paper-amber-100: #ffecb3;
      --paper-amber-200: #ffe082;
      --paper-amber-300: #ffd54f;
      --paper-amber-400: #ffca28;
      --paper-amber-500: #ffc107;
      --paper-amber-600: #ffb300;
      --paper-amber-700: #ffa000;
      --paper-amber-800: #ff8f00;
      --paper-amber-900: #ff6f00;
      --paper-amber-a100: #ffe57f;
      --paper-amber-a200: #ffd740;
      --paper-amber-a400: #ffc400;
      --paper-amber-a700: #ffab00;

      --paper-orange-50: #fff3e0;
      --paper-orange-100: #ffe0b2;
      --paper-orange-200: #ffcc80;
      --paper-orange-300: #ffb74d;
      --paper-orange-400: #ffa726;
      --paper-orange-500: #ff9800;
      --paper-orange-600: #fb8c00;
      --paper-orange-700: #f57c00;
      --paper-orange-800: #ef6c00;
      --paper-orange-900: #e65100;
      --paper-orange-a100: #ffd180;
      --paper-orange-a200: #ffab40;
      --paper-orange-a400: #ff9100;
      --paper-orange-a700: #ff6500;

      --paper-deep-orange-50: #fbe9e7;
      --paper-deep-orange-100: #ffccbc;
      --paper-deep-orange-200: #ffab91;
      --paper-deep-orange-300: #ff8a65;
      --paper-deep-orange-400: #ff7043;
      --paper-deep-orange-500: #ff5722;
      --paper-deep-orange-600: #f4511e;
      --paper-deep-orange-700: #e64a19;
      --paper-deep-orange-800: #d84315;
      --paper-deep-orange-900: #bf360c;
      --paper-deep-orange-a100: #ff9e80;
      --paper-deep-orange-a200: #ff6e40;
      --paper-deep-orange-a400: #ff3d00;
      --paper-deep-orange-a700: #dd2c00;

      --paper-brown-50: #efebe9;
      --paper-brown-100: #d7ccc8;
      --paper-brown-200: #bcaaa4;
      --paper-brown-300: #a1887f;
      --paper-brown-400: #8d6e63;
      --paper-brown-500: #795548;
      --paper-brown-600: #6d4c41;
      --paper-brown-700: #5d4037;
      --paper-brown-800: #4e342e;
      --paper-brown-900: #3e2723;

      --paper-grey-50: #fafafa;
      --paper-grey-100: #f5f5f5;
      --paper-grey-200: #eeeeee;
      --paper-grey-300: #e0e0e0;
      --paper-grey-400: #bdbdbd;
      --paper-grey-500: #9e9e9e;
      --paper-grey-600: #757575;
      --paper-grey-700: #616161;
      --paper-grey-800: #424242;
      --paper-grey-900: #212121;

      --paper-blue-grey-50: #eceff1;
      --paper-blue-grey-100: #cfd8dc;
      --paper-blue-grey-200: #b0bec5;
      --paper-blue-grey-300: #90a4ae;
      --paper-blue-grey-400: #78909c;
      --paper-blue-grey-500: #607d8b;
      --paper-blue-grey-600: #546e7a;
      --paper-blue-grey-700: #455a64;
      --paper-blue-grey-800: #37474f;
      --paper-blue-grey-900: #263238;

      /* opacity for dark text on a light background */
      --dark-divider-opacity: 0.12;
      --dark-disabled-opacity: 0.38; /* or hint text or icon */
      --dark-secondary-opacity: 0.54;
      --dark-primary-opacity: 0.87;

      /* opacity for light text on a dark background */
      --light-divider-opacity: 0.12;
      --light-disabled-opacity: 0.3; /* or hint text or icon */
      --light-secondary-opacity: 0.7;
      --light-primary-opacity: 1.0;

    }

  </style>
</custom-style>
`;n.setAttribute("style","display: none;"),document.head.appendChild(n.content)},function(t,e,i){"use strict";i.d(e,"a",(function(){return r}));i(6);var n=i(11);
/**
@license
Copyright (c) 2015 The Polymer Project Authors. All rights reserved.
This code may only be used under the BSD style license found at
http://polymer.github.io/LICENSE.txt The complete set of authors may be found at
http://polymer.github.io/AUTHORS.txt The complete set of contributors may be
found at http://polymer.github.io/CONTRIBUTORS.txt Code distributed by Google as
part of the polymer project is also subject to an additional IP rights grant
found at http://polymer.github.io/PATENTS.txt
*/
class r{constructor(t){r[" "](t),this.type=t&&t.type||"default",this.key=t&&t.key,t&&"value"in t&&(this.value=t.value)}get value(){var t=this.type,e=this.key;if(t&&e)return r.types[t]&&r.types[t][e]}set value(t){var e=this.type,i=this.key;e&&i&&(e=r.types[e]=r.types[e]||{},null==t?delete e[i]:e[i]=t)}get list(){if(this.type){var t=r.types[this.type];return t?Object.keys(t).map((function(t){return o[this.type][t]}),this):[]}}byKey(t){return this.key=t,this.value}}r[" "]=function(){},r.types={};var o=r.types;Object(n.a)({is:"iron-meta",properties:{type:{type:String,value:"default"},key:{type:String},value:{type:String,notify:!0},self:{type:Boolean,observer:"_selfChanged"},__meta:{type:Boolean,computed:"__computeMeta(type, key, value)"}},hostAttributes:{hidden:!0},__computeMeta:function(t,e,i){var n=new r({type:t,key:e});return void 0!==i&&i!==n.value?n.value=i:this.value!==n.value&&(this.value=n.value),n},get list(){return this.__meta&&this.__meta.list},_selfChanged:function(t){t&&(this.value=this)},byKey:function(t){return new r({type:this.type,key:t}).value}})},function(t,e,i){"use strict";i(6);
/**
@license
Copyright (c) 2015 The Polymer Project Authors. All rights reserved.
This code may only be used under the BSD style license found at
http://polymer.github.io/LICENSE.txt The complete set of authors may be found at
http://polymer.github.io/AUTHORS.txt The complete set of contributors may be
found at http://polymer.github.io/CONTRIBUTORS.txt Code distributed by Google as
part of the polymer project is also subject to an additional IP rights grant
found at http://polymer.github.io/PATENTS.txt
*/
const n=i(3).a`
<custom-style>
  <style is="custom-style">
    html {

      --shadow-transition: {
        transition: box-shadow 0.28s cubic-bezier(0.4, 0, 0.2, 1);
      };

      --shadow-none: {
        box-shadow: none;
      };

      /* from http://codepen.io/shyndman/pen/c5394ddf2e8b2a5c9185904b57421cdb */

      --shadow-elevation-2dp: {
        box-shadow: 0 2px 2px 0 rgba(0, 0, 0, 0.14),
                    0 1px 5px 0 rgba(0, 0, 0, 0.12),
                    0 3px 1px -2px rgba(0, 0, 0, 0.2);
      };

      --shadow-elevation-3dp: {
        box-shadow: 0 3px 4px 0 rgba(0, 0, 0, 0.14),
                    0 1px 8px 0 rgba(0, 0, 0, 0.12),
                    0 3px 3px -2px rgba(0, 0, 0, 0.4);
      };

      --shadow-elevation-4dp: {
        box-shadow: 0 4px 5px 0 rgba(0, 0, 0, 0.14),
                    0 1px 10px 0 rgba(0, 0, 0, 0.12),
                    0 2px 4px -1px rgba(0, 0, 0, 0.4);
      };

      --shadow-elevation-6dp: {
        box-shadow: 0 6px 10px 0 rgba(0, 0, 0, 0.14),
                    0 1px 18px 0 rgba(0, 0, 0, 0.12),
                    0 3px 5px -1px rgba(0, 0, 0, 0.4);
      };

      --shadow-elevation-8dp: {
        box-shadow: 0 8px 10px 1px rgba(0, 0, 0, 0.14),
                    0 3px 14px 2px rgba(0, 0, 0, 0.12),
                    0 5px 5px -3px rgba(0, 0, 0, 0.4);
      };

      --shadow-elevation-12dp: {
        box-shadow: 0 12px 16px 1px rgba(0, 0, 0, 0.14),
                    0 4px 22px 3px rgba(0, 0, 0, 0.12),
                    0 6px 7px -4px rgba(0, 0, 0, 0.4);
      };

      --shadow-elevation-16dp: {
        box-shadow: 0 16px 24px 2px rgba(0, 0, 0, 0.14),
                    0  6px 30px 5px rgba(0, 0, 0, 0.12),
                    0  8px 10px -5px rgba(0, 0, 0, 0.4);
      };

      --shadow-elevation-24dp: {
        box-shadow: 0 24px 38px 3px rgba(0, 0, 0, 0.14),
                    0 9px 46px 8px rgba(0, 0, 0, 0.12),
                    0 11px 15px -7px rgba(0, 0, 0, 0.4);
      };
    }
  </style>
</custom-style>`;n.setAttribute("style","display: none;"),document.head.appendChild(n.content)},function(t,e,i){"use strict";i.r(e);var n=i(8),r=i(5);function o(t,e,i){let n=document.head.querySelector(`meta[${t}="${e}"]`);n||(n=document.createElement("meta"),n.setAttribute(t,e),document.head.appendChild(n)),n.setAttribute("content",i||"")}i(6),i(34);var s=i(11),a=i(4),l=i(3),c=i(44);
/**
@license
Copyright (c) 2015 The Polymer Project Authors. All rights reserved.
This code may only be used under the BSD style license found at
http://polymer.github.io/LICENSE.txt The complete set of authors may be found at
http://polymer.github.io/AUTHORS.txt The complete set of contributors may be
found at http://polymer.github.io/CONTRIBUTORS.txt Code distributed by Google as
part of the polymer project is also subject to an additional IP rights grant
found at http://polymer.github.io/PATENTS.txt
*/
Object(s.a)({_template:l.a`
    <style>
      :host {
        position: fixed;
        top: -120px;
        right: 0;
        bottom: -120px;
        left: 0;

        visibility: hidden;

        transition-property: visibility;
      }

      :host([opened]) {
        visibility: visible;
      }

      :host([persistent]) {
        width: var(--app-drawer-width, 256px);
      }

      :host([persistent][position=left]) {
        right: auto;
      }

      :host([persistent][position=right]) {
        left: auto;
      }

      #contentContainer {
        position: absolute;
        top: 0;
        bottom: 0;
        left: 0;

        width: var(--app-drawer-width, 256px);
        padding: 120px 0;

        transition-property: -webkit-transform;
        transition-property: transform;
        -webkit-transform: translate3d(-100%, 0, 0);
        transform: translate3d(-100%, 0, 0);

        background-color: #FFF;

        @apply --app-drawer-content-container;
      }

      #contentContainer[persistent] {
        width: 100%;
      }

      #contentContainer[position=right] {
        right: 0;
        left: auto;

        -webkit-transform: translate3d(100%, 0, 0);
        transform: translate3d(100%, 0, 0);
      }

      #contentContainer[swipe-open]::after {
        position: fixed;
        top: 0;
        bottom: 0;
        left: 100%;

        visibility: visible;

        width: 20px;

        content: '';
      }

      #contentContainer[swipe-open][position=right]::after {
        right: 100%;
        left: auto;
      }

      #contentContainer[opened] {
        -webkit-transform: translate3d(0, 0, 0);
        transform: translate3d(0, 0, 0);
      }

      #scrim {
        position: absolute;
        top: 0;
        right: 0;
        bottom: 0;
        left: 0;

        transition-property: opacity;
        -webkit-transform: translateZ(0);
        transform:  translateZ(0);

        opacity: 0;
        background: var(--app-drawer-scrim-background, rgba(0, 0, 0, 0.5));
      }

      #scrim.visible {
        opacity: 1;
      }

      :host([no-transition]) #contentContainer {
        transition-property: none;
      }
    </style>

    <div id="scrim" on-click="close"></div>

    <!-- HACK(keanulee): Bind attributes here (in addition to :host) for styling to workaround Safari
    bug. https://bugs.webkit.org/show_bug.cgi?id=170762 -->
    <div id="contentContainer" opened\$="[[opened]]" persistent\$="[[persistent]]" position\$="[[position]]" swipe-open\$="[[swipeOpen]]">
      <slot></slot>
    </div>
`,is:"app-drawer",properties:{opened:{type:Boolean,value:!1,notify:!0,reflectToAttribute:!0},persistent:{type:Boolean,value:!1,reflectToAttribute:!0},transitionDuration:{type:Number,value:200},align:{type:String,value:"left"},position:{type:String,readOnly:!0,reflectToAttribute:!0},swipeOpen:{type:Boolean,value:!1,reflectToAttribute:!0},noFocusTrap:{type:Boolean,value:!1},disableSwipe:{type:Boolean,value:!1}},observers:["resetLayout(position, isAttached)","_resetPosition(align, isAttached)","_styleTransitionDuration(transitionDuration)","_openedPersistentChanged(opened, persistent)"],_translateOffset:0,_trackDetails:null,_drawerState:0,_boundEscKeydownHandler:null,_firstTabStop:null,_lastTabStop:null,attached:function(){Object(c.a)(this,(function(){this._boundEscKeydownHandler=this._escKeydownHandler.bind(this),this.addEventListener("keydown",this._tabKeydownHandler.bind(this)),this.listen(this,"track","_track"),this.setScrollDirection("y")})),this.fire("app-reset-layout")},detached:function(){document.removeEventListener("keydown",this._boundEscKeydownHandler)},open:function(){this.opened=!0},close:function(){this.opened=!1},toggle:function(){this.opened=!this.opened},getWidth:function(){return this._savedWidth||this.$.contentContainer.offsetWidth},_isRTL:function(){return"rtl"===window.getComputedStyle(this).direction},_resetPosition:function(){switch(this.align){case"start":return void this._setPosition(this._isRTL()?"right":"left");case"end":return void this._setPosition(this._isRTL()?"left":"right")}this._setPosition(this.align)},_escKeydownHandler:function(t){27===t.keyCode&&(t.preventDefault(),this.close())},_track:function(t){if(!this.persistent&&!this.disableSwipe)switch(t.preventDefault(),t.detail.state){case"start":this._trackStart(t);break;case"track":this._trackMove(t);break;case"end":this._trackEnd(t)}},_trackStart:function(t){this._drawerState=this._DRAWER_STATE.TRACKING;var e=this.$.contentContainer.getBoundingClientRect();this._savedWidth=e.width,"left"===this.position?this._translateOffset=e.left:this._translateOffset=e.right-window.innerWidth,this._trackDetails=[],this._styleTransitionDuration(0),this.style.visibility="visible"},_trackMove:function(t){this._translateDrawer(t.detail.dx+this._translateOffset),this._trackDetails.push({dx:t.detail.dx,timeStamp:Date.now()})},_trackEnd:function(t){var e=t.detail.dx+this._translateOffset,i=this.getWidth(),n="left"===this.position?e>=0||e<=-i:e<=0||e>=i;if(!n){var r=this._trackDetails;if(this._trackDetails=null,this._flingDrawer(t,r),this._drawerState===this._DRAWER_STATE.FLINGING)return}var o=i/2;t.detail.dx<-o?this.opened="right"===this.position:t.detail.dx>o&&(this.opened="left"===this.position),n?this.debounce("_resetDrawerState",this._resetDrawerState):this.debounce("_resetDrawerState",this._resetDrawerState,this.transitionDuration),this._styleTransitionDuration(this.transitionDuration),this._resetDrawerTranslate(),this.style.visibility=""},_calculateVelocity:function(t,e){for(var i,n=Date.now(),r=n-100,o=0,s=e.length-1;o<=s;){var a=o+s>>1,l=e[a];l.timeStamp>=r?(i=l,s=a-1):o=a+1}return i?(t.detail.dx-i.dx)/(n-i.timeStamp||1):0},_flingDrawer:function(t,e){var i=this._calculateVelocity(t,e);if(!(Math.abs(i)<this._MIN_FLING_THRESHOLD)){this._drawerState=this._DRAWER_STATE.FLINGING;var n,r=t.detail.dx+this._translateOffset,o=this.getWidth(),s="left"===this.position,a=i>0;n=!a&&s?-(r+o):a&&!s?o-r:-r,a?(i=Math.max(i,this._MIN_TRANSITION_VELOCITY),this.opened="left"===this.position):(i=Math.min(i,-this._MIN_TRANSITION_VELOCITY),this.opened="right"===this.position);var l=this._FLING_INITIAL_SLOPE*n/i;this._styleTransitionDuration(l),this._styleTransitionTimingFunction(this._FLING_TIMING_FUNCTION),this._resetDrawerTranslate(),this.debounce("_resetDrawerState",this._resetDrawerState,l)}},_styleTransitionDuration:function(t){this.style.transitionDuration=t+"ms",this.$.contentContainer.style.transitionDuration=t+"ms",this.$.scrim.style.transitionDuration=t+"ms"},_styleTransitionTimingFunction:function(t){this.$.contentContainer.style.transitionTimingFunction=t,this.$.scrim.style.transitionTimingFunction=t},_translateDrawer:function(t){var e=this.getWidth();"left"===this.position?(t=Math.max(-e,Math.min(t,0)),this.$.scrim.style.opacity=1+t/e):(t=Math.max(0,Math.min(t,e)),this.$.scrim.style.opacity=1-t/e),this.translate3d(t+"px","0","0",this.$.contentContainer)},_resetDrawerTranslate:function(){this.$.scrim.style.opacity="",this.transform("",this.$.contentContainer)},_resetDrawerState:function(){var t=this._drawerState;t===this._DRAWER_STATE.FLINGING&&(this._styleTransitionDuration(this.transitionDuration),this._styleTransitionTimingFunction(""),this.style.visibility=""),this._savedWidth=null,this.opened?this._drawerState=this.persistent?this._DRAWER_STATE.OPENED_PERSISTENT:this._DRAWER_STATE.OPENED:this._drawerState=this._DRAWER_STATE.CLOSED,t!==this._drawerState&&(this._drawerState===this._DRAWER_STATE.OPENED?(this._setKeyboardFocusTrap(),document.addEventListener("keydown",this._boundEscKeydownHandler),document.body.style.overflow="hidden"):(document.removeEventListener("keydown",this._boundEscKeydownHandler),document.body.style.overflow=""),t!==this._DRAWER_STATE.INIT&&this.fire("app-drawer-transitioned"))},resetLayout:function(){this.fire("app-reset-layout")},_setKeyboardFocusTrap:function(){if(!this.noFocusTrap){var t=['a[href]:not([tabindex="-1"])','area[href]:not([tabindex="-1"])','input:not([disabled]):not([tabindex="-1"])','select:not([disabled]):not([tabindex="-1"])','textarea:not([disabled]):not([tabindex="-1"])','button:not([disabled]):not([tabindex="-1"])','iframe:not([tabindex="-1"])','[tabindex]:not([tabindex="-1"])','[contentEditable=true]:not([tabindex="-1"])'].join(","),e=Object(a.a)(this).querySelectorAll(t);e.length>0?(this._firstTabStop=e[0],this._lastTabStop=e[e.length-1]):(this._firstTabStop=null,this._lastTabStop=null);var i=this.getAttribute("tabindex");i&&parseInt(i,10)>-1?this.focus():this._firstTabStop&&this._firstTabStop.focus()}},_tabKeydownHandler:function(t){if(!this.noFocusTrap){this._drawerState===this._DRAWER_STATE.OPENED&&9===t.keyCode&&(t.shiftKey?this._firstTabStop&&Object(a.a)(t).localTarget===this._firstTabStop&&(t.preventDefault(),this._lastTabStop.focus()):this._lastTabStop&&Object(a.a)(t).localTarget===this._lastTabStop&&(t.preventDefault(),this._firstTabStop.focus()))}},_openedPersistentChanged:function(t,e){this.toggleClass("visible",t&&!e,this.$.scrim),this.debounce("_resetDrawerState",this._resetDrawerState,this.transitionDuration)},_MIN_FLING_THRESHOLD:.2,_MIN_TRANSITION_VELOCITY:1.2,_FLING_TIMING_FUNCTION:"cubic-bezier(0.667, 1, 0.667, 1)",_FLING_INITIAL_SLOPE:1.5,_DRAWER_STATE:{INIT:0,OPENED:1,OPENED_PERSISTENT:2,CLOSED:3,TRACKING:4,FLINGING:5}});var d=i(48),p=i(12),h=i(16),u=i(20);
/**
@license
Copyright (c) 2016 The Polymer Project Authors. All rights reserved.
This code may only be used under the BSD style license found at
http://polymer.github.io/LICENSE.txt The complete set of authors may be found at
http://polymer.github.io/AUTHORS.txt The complete set of contributors may be
found at http://polymer.github.io/CONTRIBUTORS.txt Code distributed by Google as
part of the polymer project is also subject to an additional IP rights grant
found at http://polymer.github.io/PATENTS.txt
*/
const f=[d.a,{listeners:{"app-reset-layout":"_appResetLayoutHandler","iron-resize":"resetLayout"},attached:function(){this.fire("app-reset-layout")},_appResetLayoutHandler:function(t){Object(a.a)(t).path[0]!==this&&(this.resetLayout(),t.stopPropagation())},_updateLayoutStates:function(){console.error("unimplemented")},resetLayout:function(){var t=this._updateLayoutStates.bind(this);this._layoutDebouncer=h.a.debounce(this._layoutDebouncer,p.a,t),Object(u.a)(this._layoutDebouncer),this._notifyDescendantResize()},_notifyLayoutChanged:function(){var t=this;requestAnimationFrame((function(){t.fire("app-reset-layout")}))},_notifyDescendantResize:function(){this.isAttached&&this._interestedResizables.forEach((function(t){this.resizerShouldNotify(t)&&this._notifyDescendant(t)}),this)}}],_={properties:{scrollTarget:{type:HTMLElement,value:function(){return this._defaultScrollTarget}}},observers:["_scrollTargetChanged(scrollTarget, isAttached)"],_shouldHaveListener:!0,_scrollTargetChanged:function(t,e){if(this._oldScrollTarget&&(this._toggleScrollListener(!1,this._oldScrollTarget),this._oldScrollTarget=null),e)if("document"===t)this.scrollTarget=this._doc;else if("string"==typeof t){var i=this.domHost;this.scrollTarget=i&&i.$?i.$[t]:Object(a.a)(this.ownerDocument).querySelector("#"+t)}else this._isValidScrollTarget()&&(this._oldScrollTarget=t,this._toggleScrollListener(this._shouldHaveListener,t))},_scrollHandler:function(){},get _defaultScrollTarget(){return this._doc},get _doc(){return this.ownerDocument.documentElement},get _scrollTop(){return this._isValidScrollTarget()?this.scrollTarget===this._doc?window.pageYOffset:this.scrollTarget.scrollTop:0},get _scrollLeft(){return this._isValidScrollTarget()?this.scrollTarget===this._doc?window.pageXOffset:this.scrollTarget.scrollLeft:0},set _scrollTop(t){this.scrollTarget===this._doc?window.scrollTo(window.pageXOffset,t):this._isValidScrollTarget()&&(this.scrollTarget.scrollTop=t)},set _scrollLeft(t){this.scrollTarget===this._doc?window.scrollTo(t,window.pageYOffset):this._isValidScrollTarget()&&(this.scrollTarget.scrollLeft=t)},scroll:function(t,e){var i;"object"==typeof t?(i=t.left,e=t.top):i=t,i=i||0,e=e||0,this.scrollTarget===this._doc?window.scrollTo(i,e):this._isValidScrollTarget()&&(this.scrollTarget.scrollLeft=i,this.scrollTarget.scrollTop=e)},get _scrollTargetWidth(){return this._isValidScrollTarget()?this.scrollTarget===this._doc?window.innerWidth:this.scrollTarget.offsetWidth:0},get _scrollTargetHeight(){return this._isValidScrollTarget()?this.scrollTarget===this._doc?window.innerHeight:this.scrollTarget.offsetHeight:0},_isValidScrollTarget:function(){return this.scrollTarget instanceof HTMLElement},_toggleScrollListener:function(t,e){var i=e===this._doc?window:e;t?this._boundScrollHandler||(this._boundScrollHandler=this._scrollHandler.bind(this),i.addEventListener("scroll",this._boundScrollHandler)):this._boundScrollHandler&&(i.removeEventListener("scroll",this._boundScrollHandler),this._boundScrollHandler=null)},toggleScrollListener:function(t){this._shouldHaveListener=t,this._toggleScrollListener(t,this.scrollTarget)}},m={};
/**
@license
Copyright (c) 2016 The Polymer Project Authors. All rights reserved.
This code may only be used under the BSD style license found at
http://polymer.github.io/LICENSE.txt The complete set of authors may be found at
http://polymer.github.io/AUTHORS.txt The complete set of contributors may be
found at http://polymer.github.io/CONTRIBUTORS.txt Code distributed by Google as
part of the polymer project is also subject to an additional IP rights grant
found at http://polymer.github.io/PATENTS.txt
*/const b=[_,{properties:{effects:{type:String},effectsConfig:{type:Object,value:function(){return{}}},disabled:{type:Boolean,reflectToAttribute:!0,value:!1},threshold:{type:Number,value:0},thresholdTriggered:{type:Boolean,notify:!0,readOnly:!0,reflectToAttribute:!0}},observers:["_effectsChanged(effects, effectsConfig, isAttached)"],_updateScrollState:function(t){},isOnScreen:function(){return!1},isContentBelow:function(){return!1},_effectsRunFn:null,_effects:null,get _clampedScrollTop(){return Math.max(0,this._scrollTop)},attached:function(){this._scrollStateChanged()},detached:function(){this._tearDownEffects()},createEffect:function(t,e){var i=m[t];if(!i)throw new ReferenceError(this._getUndefinedMsg(t));var n=this._boundEffect(i,e||{});return n.setUp(),n},_effectsChanged:function(t,e,i){this._tearDownEffects(),t&&i&&(t.split(" ").forEach((function(t){var i;""!==t&&((i=m[t])?this._effects.push(this._boundEffect(i,e[t])):console.warn(this._getUndefinedMsg(t)))}),this),this._setUpEffect())},_layoutIfDirty:function(){return this.offsetWidth},_boundEffect:function(t,e){e=e||{};var i=parseFloat(e.startsAt||0),n=parseFloat(e.endsAt||1),r=n-i,o=function(){},s=0===i&&1===n?t.run:function(e,n){t.run.call(this,Math.max(0,(e-i)/r),n)};return{setUp:t.setUp?t.setUp.bind(this,e):o,run:t.run?s.bind(this):o,tearDown:t.tearDown?t.tearDown.bind(this):o}},_setUpEffect:function(){this.isAttached&&this._effects&&(this._effectsRunFn=[],this._effects.forEach((function(t){!1!==t.setUp()&&this._effectsRunFn.push(t.run)}),this))},_tearDownEffects:function(){this._effects&&this._effects.forEach((function(t){t.tearDown()})),this._effectsRunFn=[],this._effects=[]},_runEffects:function(t,e){this._effectsRunFn&&this._effectsRunFn.forEach((function(i){i(t,e)}))},_scrollHandler:function(){this._scrollStateChanged()},_scrollStateChanged:function(){if(!this.disabled){var t=this._clampedScrollTop;this._updateScrollState(t),this.threshold>0&&this._setThresholdTriggered(t>=this.threshold)}},_getDOMRef:function(t){console.warn("_getDOMRef","`"+t+"` is undefined")},_getUndefinedMsg:function(t){return"Scroll effect `"+t+"` is undefined. Did you forget to import app-layout/app-scroll-effects/effects/"+t+".html ?"}}];
/**
@license
Copyright (c) 2015 The Polymer Project Authors. All rights reserved.
This code may only be used under the BSD style license found at
http://polymer.github.io/LICENSE.txt The complete set of authors may be found at
http://polymer.github.io/AUTHORS.txt The complete set of contributors may be
found at http://polymer.github.io/CONTRIBUTORS.txt Code distributed by Google as
part of the polymer project is also subject to an additional IP rights grant
found at http://polymer.github.io/PATENTS.txt
*/
Object(s.a)({_template:l.a`
    <style>
      :host {
        position: relative;
        display: block;
        transition-timing-function: linear;
        transition-property: -webkit-transform;
        transition-property: transform;
      }

      :host::before {
        position: absolute;
        right: 0px;
        bottom: -5px;
        left: 0px;
        width: 100%;
        height: 5px;
        content: "";
        transition: opacity 0.4s;
        pointer-events: none;
        opacity: 0;
        box-shadow: inset 0px 5px 6px -3px rgba(0, 0, 0, 0.4);
        will-change: opacity;
        @apply --app-header-shadow;
      }

      :host([shadow])::before {
        opacity: 1;
      }

      #background {
        @apply --layout-fit;
        overflow: hidden;
      }

      #backgroundFrontLayer,
      #backgroundRearLayer {
        @apply --layout-fit;
        height: 100%;
        pointer-events: none;
        background-size: cover;
      }

      #backgroundFrontLayer {
        @apply --app-header-background-front-layer;
      }

      #backgroundRearLayer {
        opacity: 0;
        @apply --app-header-background-rear-layer;
      }

      #contentContainer {
        position: relative;
        width: 100%;
        height: 100%;
      }

      :host([disabled]),
      :host([disabled])::after,
      :host([disabled]) #backgroundFrontLayer,
      :host([disabled]) #backgroundRearLayer,
      /* Silent scrolling should not run CSS transitions */
      :host([silent-scroll]),
      :host([silent-scroll])::after,
      :host([silent-scroll]) #backgroundFrontLayer,
      :host([silent-scroll]) #backgroundRearLayer {
        transition: none !important;
      }

      :host([disabled]) ::slotted(app-toolbar:first-of-type),
      :host([disabled]) ::slotted([sticky]),
      /* Silent scrolling should not run CSS transitions */
      :host([silent-scroll]) ::slotted(app-toolbar:first-of-type),
      :host([silent-scroll]) ::slotted([sticky]) {
        transition: none !important;
      }

    </style>
    <div id="contentContainer">
      <slot id="slot"></slot>
    </div>
`,is:"app-header",behaviors:[b,f],properties:{condenses:{type:Boolean,value:!1},fixed:{type:Boolean,value:!1},reveals:{type:Boolean,value:!1},shadow:{type:Boolean,reflectToAttribute:!0,value:!1}},observers:["_configChanged(isAttached, condenses, fixed)"],_height:0,_dHeight:0,_stickyElTop:0,_stickyElRef:null,_top:0,_progress:0,_wasScrollingDown:!1,_initScrollTop:0,_initTimestamp:0,_lastTimestamp:0,_lastScrollTop:0,get _maxHeaderTop(){return this.fixed?this._dHeight:this._height+5},get _stickyEl(){if(this._stickyElRef)return this._stickyElRef;for(var t,e=Object(a.a)(this.$.slot).getDistributedNodes(),i=0;t=e[i];i++)if(t.nodeType===Node.ELEMENT_NODE){if(t.hasAttribute("sticky")){this._stickyElRef=t;break}this._stickyElRef||(this._stickyElRef=t)}return this._stickyElRef},_configChanged:function(){this.resetLayout(),this._notifyLayoutChanged()},_updateLayoutStates:function(){if(0!==this.offsetWidth||0!==this.offsetHeight){var t=this._clampedScrollTop,e=0===this._height||0===t,i=this.disabled;this._height=this.offsetHeight,this._stickyElRef=null,this.disabled=!0,e||this._updateScrollState(0,!0),this._mayMove()?this._dHeight=this._stickyEl?this._height-this._stickyEl.offsetHeight:0:this._dHeight=0,this._stickyElTop=this._stickyEl?this._stickyEl.offsetTop:0,this._setUpEffect(),e?this._updateScrollState(t,!0):(this._updateScrollState(this._lastScrollTop,!0),this._layoutIfDirty()),this.disabled=i}},_updateScrollState:function(t,e){if(0!==this._height){var i=0,n=0,r=this._top,o=(this._lastScrollTop,this._maxHeaderTop),s=t-this._lastScrollTop,a=Math.abs(s),l=t>this._lastScrollTop,c=performance.now();if(this._mayMove()&&(n=this._clamp(this.reveals?r+s:t,0,o)),t>=this._dHeight&&(n=this.condenses&&!this.fixed?Math.max(this._dHeight,n):n,this.style.transitionDuration="0ms"),this.reveals&&!this.disabled&&a<100&&((c-this._initTimestamp>300||this._wasScrollingDown!==l)&&(this._initScrollTop=t,this._initTimestamp=c),t>=o))if(Math.abs(this._initScrollTop-t)>30||a>10){l&&t>=o?n=o:!l&&t>=this._dHeight&&(n=this.condenses&&!this.fixed?this._dHeight:0);var d=s/(c-this._lastTimestamp);this.style.transitionDuration=this._clamp((n-r)/d,0,300)+"ms"}else n=this._top;i=0===this._dHeight?t>0?1:0:n/this._dHeight,e||(this._lastScrollTop=t,this._top=n,this._wasScrollingDown=l,this._lastTimestamp=c),(e||i!==this._progress||r!==n||0===t)&&(this._progress=i,this._runEffects(i,n),this._transformHeader(n))}},_mayMove:function(){return this.condenses||!this.fixed},willCondense:function(){return this._dHeight>0&&this.condenses},isOnScreen:function(){return 0!==this._height&&this._top<this._height},isContentBelow:function(){return 0===this._top?this._clampedScrollTop>0:this._clampedScrollTop-this._maxHeaderTop>=0},_transformHeader:function(t){this.translate3d(0,-t+"px",0),this._stickyEl&&this.translate3d(0,this.condenses&&t>=this._stickyElTop?Math.min(t,this._dHeight)-this._stickyElTop+"px":0,0,this._stickyEl)},_clamp:function(t,e,i){return Math.min(i,Math.max(e,t))},_ensureBgContainers:function(){this._bgContainer||(this._bgContainer=document.createElement("div"),this._bgContainer.id="background",this._bgRear=document.createElement("div"),this._bgRear.id="backgroundRearLayer",this._bgContainer.appendChild(this._bgRear),this._bgFront=document.createElement("div"),this._bgFront.id="backgroundFrontLayer",this._bgContainer.appendChild(this._bgFront),Object(a.a)(this.root).insertBefore(this._bgContainer,this.$.contentContainer))},_getDOMRef:function(t){switch(t){case"backgroundFrontLayer":return this._ensureBgContainers(),this._bgFront;case"backgroundRearLayer":return this._ensureBgContainers(),this._bgRear;case"background":return this._ensureBgContainers(),this._bgContainer;case"mainTitle":return Object(a.a)(this).querySelector("[main-title]");case"condensedTitle":return Object(a.a)(this).querySelector("[condensed-title]")}return null},getScrollState:function(){return{progress:this._progress,top:this._top}}}),
/**
@license
Copyright (c) 2016 The Polymer Project Authors. All rights reserved.
This code may only be used under the BSD style license found at
http://polymer.github.io/LICENSE.txt The complete set of authors may be found at
http://polymer.github.io/AUTHORS.txt The complete set of contributors may be
found at http://polymer.github.io/CONTRIBUTORS.txt Code distributed by Google as
part of the polymer project is also subject to an additional IP rights grant
found at http://polymer.github.io/PATENTS.txt
*/
function(t,e){if(null!=m[t])throw new Error("effect `"+t+"` is already registered.");m[t]=e}("waterfall",{run:function(){this.shadow=this.isOnScreen()&&this.isContentBelow()}}),
/**
@license
Copyright (c) 2015 The Polymer Project Authors. All rights reserved.
This code may only be used under the BSD style license found at
http://polymer.github.io/LICENSE.txt The complete set of authors may be found at
http://polymer.github.io/AUTHORS.txt The complete set of contributors may be
found at http://polymer.github.io/CONTRIBUTORS.txt Code distributed by Google as
part of the polymer project is also subject to an additional IP rights grant
found at http://polymer.github.io/PATENTS.txt
*/
Object(s.a)({_template:l.a`
    <style>

      :host {
        @apply --layout-horizontal;
        @apply --layout-center;
        position: relative;
        height: 64px;
        padding: 0 16px;
        pointer-events: none;
        font-size: var(--app-toolbar-font-size, 20px);
      }

      :host ::slotted(*) {
        pointer-events: auto;
      }

      :host ::slotted(paper-icon-button) {
        /* paper-icon-button/issues/33 */
        font-size: 0;
      }

      :host ::slotted([main-title]),
      :host ::slotted([condensed-title]) {
        pointer-events: none;
        @apply --layout-flex;
      }

      :host ::slotted([bottom-item]) {
        position: absolute;
        right: 0;
        bottom: 0;
        left: 0;
      }

      :host ::slotted([top-item]) {
        position: absolute;
        top: 0;
        right: 0;
        left: 0;
      }

      :host ::slotted([spacer]) {
        margin-left: 64px;
      }
    </style>

    <slot></slot>
`,is:"app-toolbar"});i(49),i(43),i(51);
/**
@license
Copyright (c) 2015 The Polymer Project Authors. All rights reserved.
This code may only be used under the BSD style license found at
http://polymer.github.io/LICENSE.txt The complete set of authors may be found at
http://polymer.github.io/AUTHORS.txt The complete set of contributors may be
found at http://polymer.github.io/CONTRIBUTORS.txt Code distributed by Google as
part of the polymer project is also subject to an additional IP rights grant
found at http://polymer.github.io/PATENTS.txt
*/
if(!window.polymerSkipLoadingFontRoboto){const t=document.createElement("link");t.rel="stylesheet",t.type="text/css",t.crossOrigin="anonymous",t.href="https://fonts.googleapis.com/css?family=Roboto+Mono:400,700|Roboto:400,300,300italic,400italic,500,500italic,700,700italic",document.head.appendChild(t)}
/**
@license
Copyright (c) 2015 The Polymer Project Authors. All rights reserved.
This code may only be used under the BSD style license found at
http://polymer.github.io/LICENSE.txt The complete set of authors may be found at
http://polymer.github.io/AUTHORS.txt The complete set of contributors may be
found at http://polymer.github.io/CONTRIBUTORS.txt Code distributed by Google as
part of the polymer project is also subject to an additional IP rights grant
found at http://polymer.github.io/PATENTS.txt
*/const y=l.a`<custom-style>
  <style is="custom-style">
    html {

      /* Shared Styles */
      --paper-font-common-base: {
        font-family: 'Roboto', 'Noto', sans-serif;
        -webkit-font-smoothing: antialiased;
      };

      --paper-font-common-code: {
        font-family: 'Roboto Mono', 'Consolas', 'Menlo', monospace;
        -webkit-font-smoothing: antialiased;
      };

      --paper-font-common-expensive-kerning: {
        text-rendering: optimizeLegibility;
      };

      --paper-font-common-nowrap: {
        white-space: nowrap;
        overflow: hidden;
        text-overflow: ellipsis;
      };

      /* Material Font Styles */

      --paper-font-display4: {
        @apply --paper-font-common-base;
        @apply --paper-font-common-nowrap;

        font-size: 112px;
        font-weight: 300;
        letter-spacing: -.044em;
        line-height: 120px;
      };

      --paper-font-display3: {
        @apply --paper-font-common-base;
        @apply --paper-font-common-nowrap;

        font-size: 56px;
        font-weight: 400;
        letter-spacing: -.026em;
        line-height: 60px;
      };

      --paper-font-display2: {
        @apply --paper-font-common-base;

        font-size: 45px;
        font-weight: 400;
        letter-spacing: -.018em;
        line-height: 48px;
      };

      --paper-font-display1: {
        @apply --paper-font-common-base;

        font-size: 34px;
        font-weight: 400;
        letter-spacing: -.01em;
        line-height: 40px;
      };

      --paper-font-headline: {
        @apply --paper-font-common-base;

        font-size: 24px;
        font-weight: 400;
        letter-spacing: -.012em;
        line-height: 32px;
      };

      --paper-font-title: {
        @apply --paper-font-common-base;
        @apply --paper-font-common-nowrap;

        font-size: 20px;
        font-weight: 500;
        line-height: 28px;
      };

      --paper-font-subhead: {
        @apply --paper-font-common-base;

        font-size: 16px;
        font-weight: 400;
        line-height: 24px;
      };

      --paper-font-body2: {
        @apply --paper-font-common-base;

        font-size: 14px;
        font-weight: 500;
        line-height: 24px;
      };

      --paper-font-body1: {
        @apply --paper-font-common-base;

        font-size: 14px;
        font-weight: 400;
        line-height: 20px;
      };

      --paper-font-caption: {
        @apply --paper-font-common-base;
        @apply --paper-font-common-nowrap;

        font-size: 12px;
        font-weight: 400;
        letter-spacing: 0.011em;
        line-height: 20px;
      };

      --paper-font-menu: {
        @apply --paper-font-common-base;
        @apply --paper-font-common-nowrap;

        font-size: 13px;
        font-weight: 500;
        line-height: 24px;
      };

      --paper-font-button: {
        @apply --paper-font-common-base;
        @apply --paper-font-common-nowrap;

        font-size: 14px;
        font-weight: 500;
        letter-spacing: 0.018em;
        line-height: 24px;
        text-transform: uppercase;
      };

      --paper-font-code2: {
        @apply --paper-font-common-code;

        font-size: 14px;
        font-weight: 700;
        line-height: 20px;
      };

      --paper-font-code1: {
        @apply --paper-font-common-code;

        font-size: 14px;
        font-weight: 500;
        line-height: 20px;
      };

    }

  </style>
</custom-style>`;y.setAttribute("style","display: none;"),document.head.appendChild(y.content);
/**
@license
Copyright (c) 2015 The Polymer Project Authors. All rights reserved.
This code may only be used under the BSD style license found at
http://polymer.github.io/LICENSE.txt The complete set of authors may be found at
http://polymer.github.io/AUTHORS.txt The complete set of contributors may be
found at http://polymer.github.io/CONTRIBUTORS.txt Code distributed by Google as
part of the polymer project is also subject to an additional IP rights grant
found at http://polymer.github.io/PATENTS.txt
*/
/**
@license
Copyright (c) 2015 The Polymer Project Authors. All rights reserved.
This code may only be used under the BSD style license found at
http://polymer.github.io/LICENSE.txt The complete set of authors may be found at
http://polymer.github.io/AUTHORS.txt The complete set of contributors may be
found at http://polymer.github.io/CONTRIBUTORS.txt Code distributed by Google as
part of the polymer project is also subject to an additional IP rights grant
found at http://polymer.github.io/PATENTS.txt
*/
const g=Object(s.a)({_template:l.a`
    <style>
      :host {
        display: inline-block;
        position: fixed;
        clip: rect(0px,0px,0px,0px);
      }
    </style>
    <div aria-live$="[[mode]]">[[_text]]</div>
`,is:"iron-a11y-announcer",properties:{mode:{type:String,value:"polite"},_text:{type:String,value:""}},created:function(){g.instance||(g.instance=this),document.body.addEventListener("iron-announce",this._onIronAnnounce.bind(this))},announce:function(t){this._text="",this.async((function(){this._text=t}),100)},_onIronAnnounce:function(t){t.detail&&t.detail.text&&this.announce(t.detail.text)}});g.instance=null,g.requestAvailability=function(){g.instance||(g.instance=document.createElement("iron-a11y-announcer")),document.body.appendChild(g.instance)};var v=i(50);
/**
@license
Copyright (c) 2015 The Polymer Project Authors. All rights reserved.
This code may only be used under the BSD style license found at
http://polymer.github.io/LICENSE.txt The complete set of authors may be found at
http://polymer.github.io/AUTHORS.txt The complete set of contributors may be
found at http://polymer.github.io/CONTRIBUTORS.txt Code distributed by Google as
part of the polymer project is also subject to an additional IP rights grant
found at http://polymer.github.io/PATENTS.txt
*/let w=null;const x={properties:{validator:{type:String},invalid:{notify:!0,reflectToAttribute:!0,type:Boolean,value:!1,observer:"_invalidChanged"}},registered:function(){w=new v.a({type:"validator"})},_invalidChanged:function(){this.invalid?this.setAttribute("aria-invalid","true"):this.removeAttribute("aria-invalid")},get _validator(){return w&&w.byKey(this.validator)},hasValidator:function(){return null!=this._validator},validate:function(t){return void 0===t&&void 0!==this.value?this.invalid=!this._getValidity(this.value):this.invalid=!this._getValidity(t),!this.invalid},_getValidity:function(t){return!this.hasValidator()||this._validator.validate(t)}};
/**
@license
Copyright (c) 2015 The Polymer Project Authors. All rights reserved.
This code may only be used under the BSD style license found at
http://polymer.github.io/LICENSE.txt The complete set of authors may be found at
http://polymer.github.io/AUTHORS.txt The complete set of contributors may be
found at http://polymer.github.io/CONTRIBUTORS.txt Code distributed by Google as
part of the polymer project is also subject to an additional IP rights grant
found at http://polymer.github.io/PATENTS.txt
*/Object(s.a)({_template:l.a`
    <style>
      :host {
        display: inline-block;
      }
    </style>
    <slot id="content"></slot>
`,is:"iron-input",behaviors:[x],properties:{bindValue:{type:String,value:""},value:{type:String,computed:"_computeValue(bindValue)"},allowedPattern:{type:String},autoValidate:{type:Boolean,value:!1},_inputElement:Object},observers:["_bindValueChanged(bindValue, _inputElement)"],listeners:{input:"_onInput",keypress:"_onKeypress"},created:function(){g.requestAvailability(),this._previousValidInput="",this._patternAlreadyChecked=!1},attached:function(){this._observer=Object(a.a)(this).observeNodes(function(t){this._initSlottedInput()}.bind(this))},detached:function(){this._observer&&(Object(a.a)(this).unobserveNodes(this._observer),this._observer=null)},get inputElement(){return this._inputElement},_initSlottedInput:function(){this._inputElement=this.getEffectiveChildren()[0],this.inputElement&&this.inputElement.value&&(this.bindValue=this.inputElement.value),this.fire("iron-input-ready")},get _patternRegExp(){var t;if(this.allowedPattern)t=new RegExp(this.allowedPattern);else switch(this.inputElement.type){case"number":t=/[0-9.,e-]/}return t},_bindValueChanged:function(t,e){e&&(void 0===t?e.value=null:t!==e.value&&(this.inputElement.value=t),this.autoValidate&&this.validate(),this.fire("bind-value-changed",{value:t}))},_onInput:function(){this.allowedPattern&&!this._patternAlreadyChecked&&(this._checkPatternValidity()||(this._announceInvalidCharacter("Invalid string of characters not entered."),this.inputElement.value=this._previousValidInput));this.bindValue=this._previousValidInput=this.inputElement.value,this._patternAlreadyChecked=!1},_isPrintable:function(t){var e=8==t.keyCode||9==t.keyCode||13==t.keyCode||27==t.keyCode,i=19==t.keyCode||20==t.keyCode||45==t.keyCode||46==t.keyCode||144==t.keyCode||145==t.keyCode||t.keyCode>32&&t.keyCode<41||t.keyCode>111&&t.keyCode<124;return!(e||0==t.charCode&&i)},_onKeypress:function(t){if(this.allowedPattern||"number"===this.inputElement.type){var e=this._patternRegExp;if(e&&!(t.metaKey||t.ctrlKey||t.altKey)){this._patternAlreadyChecked=!0;var i=String.fromCharCode(t.charCode);this._isPrintable(t)&&!e.test(i)&&(t.preventDefault(),this._announceInvalidCharacter("Invalid character "+i+" not entered."))}}},_checkPatternValidity:function(){var t=this._patternRegExp;if(!t)return!0;for(var e=0;e<this.inputElement.value.length;e++)if(!t.test(this.inputElement.value[e]))return!1;return!0},validate:function(){if(!this.inputElement)return this.invalid=!1,!0;var t=this.inputElement.checkValidity();return t&&(this.required&&""===this.bindValue?t=!1:this.hasValidator()&&(t=x.validate.call(this,this.bindValue))),this.invalid=!t,this.fire("iron-input-validate"),t},_announceInvalidCharacter:function(t){this.fire("iron-announce",{text:t})},_computeValue:function(t){return t}});
/**
@license
Copyright (c) 2015 The Polymer Project Authors. All rights reserved.
This code may only be used under the BSD style license found at
http://polymer.github.io/LICENSE.txt The complete set of authors may be found at
http://polymer.github.io/AUTHORS.txt The complete set of contributors may be
found at http://polymer.github.io/CONTRIBUTORS.txt Code distributed by Google as
part of the polymer project is also subject to an additional IP rights grant
found at http://polymer.github.io/PATENTS.txt
*/
const S={attached:function(){this.fire("addon-attached")},update:function(t){}};
/**
@license
Copyright (c) 2015 The Polymer Project Authors. All rights reserved.
This code may only be used under the BSD style license found at
http://polymer.github.io/LICENSE.txt The complete set of authors may be found at
http://polymer.github.io/AUTHORS.txt The complete set of contributors may be
found at http://polymer.github.io/CONTRIBUTORS.txt Code distributed by Google as
part of the polymer project is also subject to an additional IP rights grant
found at http://polymer.github.io/PATENTS.txt
*/Object(s.a)({_template:l.a`
    <style>
      :host {
        display: inline-block;
        float: right;

        @apply --paper-font-caption;
        @apply --paper-input-char-counter;
      }

      :host([hidden]) {
        display: none !important;
      }

      :host(:dir(rtl)) {
        float: left;
      }
    </style>

    <span>[[_charCounterStr]]</span>
`,is:"paper-input-char-counter",behaviors:[S],properties:{_charCounterStr:{type:String,value:"0"}},update:function(t){if(t.inputElement){t.value=t.value||"";var e=t.value.toString().length.toString();t.inputElement.hasAttribute("maxlength")&&(e+="/"+t.inputElement.getAttribute("maxlength")),this._charCounterStr=e}}});var C=i(23);
/**
@license
Copyright (c) 2015 The Polymer Project Authors. All rights reserved.
This code may only be used under the BSD style license found at
http://polymer.github.io/LICENSE.txt The complete set of authors may be found at
http://polymer.github.io/AUTHORS.txt The complete set of contributors may be
found at http://polymer.github.io/CONTRIBUTORS.txt Code distributed by Google as
part of the polymer project is also subject to an additional IP rights grant
found at http://polymer.github.io/PATENTS.txt
*/const k=l.a`
<custom-style>
  <style is="custom-style">
    html {
      --paper-input-container-shared-input-style: {
        position: relative; /* to make a stacking context */
        outline: none;
        box-shadow: none;
        padding: 0;
        margin: 0;
        width: 100%;
        max-width: 100%;
        background: transparent;
        border: none;
        color: var(--paper-input-container-input-color, var(--primary-text-color));
        -webkit-appearance: none;
        text-align: inherit;
        vertical-align: var(--paper-input-container-input-align, bottom);

        @apply --paper-font-subhead;
      };
    }
  </style>
</custom-style>
`;k.setAttribute("style","display: none;"),document.head.appendChild(k.content),Object(s.a)({_template:l.a`
    <style>
      :host {
        display: block;
        padding: 8px 0;
        @apply --paper-input-container;
      }

      :host([inline]) {
        display: inline-block;
      }

      :host([disabled]) {
        pointer-events: none;
        opacity: 0.33;

        @apply --paper-input-container-disabled;
      }

      :host([hidden]) {
        display: none !important;
      }

      [hidden] {
        display: none !important;
      }

      .floated-label-placeholder {
        @apply --paper-font-caption;
      }

      .underline {
        height: 2px;
        position: relative;
      }

      .focused-line {
        @apply --layout-fit;
        border-bottom: 2px solid var(--paper-input-container-focus-color, var(--primary-color));

        -webkit-transform-origin: center center;
        transform-origin: center center;
        -webkit-transform: scale3d(0,1,1);
        transform: scale3d(0,1,1);

        @apply --paper-input-container-underline-focus;
      }

      .underline.is-highlighted .focused-line {
        -webkit-transform: none;
        transform: none;
        -webkit-transition: -webkit-transform 0.25s;
        transition: transform 0.25s;

        @apply --paper-transition-easing;
      }

      .underline.is-invalid .focused-line {
        border-color: var(--paper-input-container-invalid-color, var(--error-color));
        -webkit-transform: none;
        transform: none;
        -webkit-transition: -webkit-transform 0.25s;
        transition: transform 0.25s;

        @apply --paper-transition-easing;
      }

      .unfocused-line {
        @apply --layout-fit;
        border-bottom: 1px solid var(--paper-input-container-color, var(--secondary-text-color));
        @apply --paper-input-container-underline;
      }

      :host([disabled]) .unfocused-line {
        border-bottom: 1px dashed;
        border-color: var(--paper-input-container-color, var(--secondary-text-color));
        @apply --paper-input-container-underline-disabled;
      }

      .input-wrapper {
        @apply --layout-horizontal;
        @apply --layout-center;
        position: relative;
      }

      .input-content {
        @apply --layout-flex-auto;
        @apply --layout-relative;
        max-width: 100%;
      }

      .input-content ::slotted(label),
      .input-content ::slotted(.paper-input-label) {
        position: absolute;
        top: 0;
        left: 0;
        width: 100%;
        font: inherit;
        color: var(--paper-input-container-color, var(--secondary-text-color));
        -webkit-transition: -webkit-transform 0.25s, width 0.25s;
        transition: transform 0.25s, width 0.25s;
        -webkit-transform-origin: left top;
        transform-origin: left top;
        /* Fix for safari not focusing 0-height date/time inputs with -webkit-apperance: none; */
        min-height: 1px;

        @apply --paper-font-common-nowrap;
        @apply --paper-font-subhead;
        @apply --paper-input-container-label;
        @apply --paper-transition-easing;
      }

      .input-content.label-is-floating ::slotted(label),
      .input-content.label-is-floating ::slotted(.paper-input-label) {
        -webkit-transform: translateY(-75%) scale(0.75);
        transform: translateY(-75%) scale(0.75);

        /* Since we scale to 75/100 of the size, we actually have 100/75 of the
        original space now available */
        width: 133%;

        @apply --paper-input-container-label-floating;
      }

      :host(:dir(rtl)) .input-content.label-is-floating ::slotted(label),
      :host(:dir(rtl)) .input-content.label-is-floating ::slotted(.paper-input-label) {
        right: 0;
        left: auto;
        -webkit-transform-origin: right top;
        transform-origin: right top;
      }

      .input-content.label-is-highlighted ::slotted(label),
      .input-content.label-is-highlighted ::slotted(.paper-input-label) {
        color: var(--paper-input-container-focus-color, var(--primary-color));

        @apply --paper-input-container-label-focus;
      }

      .input-content.is-invalid ::slotted(label),
      .input-content.is-invalid ::slotted(.paper-input-label) {
        color: var(--paper-input-container-invalid-color, var(--error-color));
      }

      .input-content.label-is-hidden ::slotted(label),
      .input-content.label-is-hidden ::slotted(.paper-input-label) {
        visibility: hidden;
      }

      .input-content ::slotted(input),
      .input-content ::slotted(iron-input),
      .input-content ::slotted(textarea),
      .input-content ::slotted(iron-autogrow-textarea),
      .input-content ::slotted(.paper-input-input) {
        @apply --paper-input-container-shared-input-style;
        /* The apply shim doesn't apply the nested color custom property,
          so we have to re-apply it here. */
        color: var(--paper-input-container-input-color, var(--primary-text-color));
        @apply --paper-input-container-input;
      }

      .input-content ::slotted(input)::-webkit-outer-spin-button,
      .input-content ::slotted(input)::-webkit-inner-spin-button {
        @apply --paper-input-container-input-webkit-spinner;
      }

      .input-content.focused ::slotted(input),
      .input-content.focused ::slotted(iron-input),
      .input-content.focused ::slotted(textarea),
      .input-content.focused ::slotted(iron-autogrow-textarea),
      .input-content.focused ::slotted(.paper-input-input) {
        @apply --paper-input-container-input-focus;
      }

      .input-content.is-invalid ::slotted(input),
      .input-content.is-invalid ::slotted(iron-input),
      .input-content.is-invalid ::slotted(textarea),
      .input-content.is-invalid ::slotted(iron-autogrow-textarea),
      .input-content.is-invalid ::slotted(.paper-input-input) {
        @apply --paper-input-container-input-invalid;
      }

      .prefix ::slotted(*) {
        display: inline-block;
        @apply --paper-font-subhead;
        @apply --layout-flex-none;
        @apply --paper-input-prefix;
      }

      .suffix ::slotted(*) {
        display: inline-block;
        @apply --paper-font-subhead;
        @apply --layout-flex-none;

        @apply --paper-input-suffix;
      }

      /* Firefox sets a min-width on the input, which can cause layout issues */
      .input-content ::slotted(input) {
        min-width: 0;
      }

      .input-content ::slotted(textarea) {
        resize: none;
      }

      .add-on-content {
        position: relative;
      }

      .add-on-content.is-invalid ::slotted(*) {
        color: var(--paper-input-container-invalid-color, var(--error-color));
      }

      .add-on-content.is-highlighted ::slotted(*) {
        color: var(--paper-input-container-focus-color, var(--primary-color));
      }
    </style>

    <div class="floated-label-placeholder" aria-hidden="true" hidden="[[noLabelFloat]]">&nbsp;</div>

    <div class="input-wrapper">
      <span class="prefix"><slot name="prefix"></slot></span>

      <div class$="[[_computeInputContentClass(noLabelFloat,alwaysFloatLabel,focused,invalid,_inputHasContent)]]" id="labelAndInputContainer">
        <slot name="label"></slot>
        <slot name="input"></slot>
      </div>

      <span class="suffix"><slot name="suffix"></slot></span>
    </div>

    <div class$="[[_computeUnderlineClass(focused,invalid)]]">
      <div class="unfocused-line"></div>
      <div class="focused-line"></div>
    </div>

    <div class$="[[_computeAddOnContentClass(focused,invalid)]]">
      <slot name="add-on"></slot>
    </div>
`,is:"paper-input-container",properties:{noLabelFloat:{type:Boolean,value:!1},alwaysFloatLabel:{type:Boolean,value:!1},attrForValue:{type:String,value:"bind-value"},autoValidate:{type:Boolean,value:!1},invalid:{observer:"_invalidChanged",type:Boolean,value:!1},focused:{readOnly:!0,type:Boolean,value:!1,notify:!0},_addons:{type:Array},_inputHasContent:{type:Boolean,value:!1},_inputSelector:{type:String,value:"input,iron-input,textarea,.paper-input-input"},_boundOnFocus:{type:Function,value:function(){return this._onFocus.bind(this)}},_boundOnBlur:{type:Function,value:function(){return this._onBlur.bind(this)}},_boundOnInput:{type:Function,value:function(){return this._onInput.bind(this)}},_boundValueChanged:{type:Function,value:function(){return this._onValueChanged.bind(this)}}},listeners:{"addon-attached":"_onAddonAttached","iron-input-validate":"_onIronInputValidate"},get _valueChangedEvent(){return this.attrForValue+"-changed"},get _propertyForValue(){return Object(C.b)(this.attrForValue)},get _inputElement(){return Object(a.a)(this).querySelector(this._inputSelector)},get _inputElementValue(){return this._inputElement[this._propertyForValue]||this._inputElement.value},ready:function(){this.__isFirstValueUpdate=!0,this._addons||(this._addons=[]),this.addEventListener("focus",this._boundOnFocus,!0),this.addEventListener("blur",this._boundOnBlur,!0)},attached:function(){this.attrForValue?this._inputElement.addEventListener(this._valueChangedEvent,this._boundValueChanged):this.addEventListener("input",this._onInput),this._inputElementValue&&""!=this._inputElementValue?this._handleValueAndAutoValidate(this._inputElement):this._handleValue(this._inputElement)},_onAddonAttached:function(t){this._addons||(this._addons=[]);var e=t.target;-1===this._addons.indexOf(e)&&(this._addons.push(e),this.isAttached&&this._handleValue(this._inputElement))},_onFocus:function(){this._setFocused(!0)},_onBlur:function(){this._setFocused(!1),this._handleValueAndAutoValidate(this._inputElement)},_onInput:function(t){this._handleValueAndAutoValidate(t.target)},_onValueChanged:function(t){var e=t.target;this.__isFirstValueUpdate&&(this.__isFirstValueUpdate=!1,void 0===e.value||""===e.value)||this._handleValueAndAutoValidate(t.target)},_handleValue:function(t){var e=this._inputElementValue;e||0===e||"number"===t.type&&!t.checkValidity()?this._inputHasContent=!0:this._inputHasContent=!1,this.updateAddons({inputElement:t,value:e,invalid:this.invalid})},_handleValueAndAutoValidate:function(t){var e;this.autoValidate&&t&&(e=t.validate?t.validate(this._inputElementValue):t.checkValidity(),this.invalid=!e);this._handleValue(t)},_onIronInputValidate:function(t){this.invalid=this._inputElement.invalid},_invalidChanged:function(){this._addons&&this.updateAddons({invalid:this.invalid})},updateAddons:function(t){for(var e,i=0;e=this._addons[i];i++)e.update(t)},_computeInputContentClass:function(t,e,i,n,r){var o="input-content";if(t)r&&(o+=" label-is-hidden"),n&&(o+=" is-invalid");else{var s=this.querySelector("label");e||r?(o+=" label-is-floating",this.$.labelAndInputContainer.style.position="static",n?o+=" is-invalid":i&&(o+=" label-is-highlighted")):(s&&(this.$.labelAndInputContainer.style.position="relative"),n&&(o+=" is-invalid"))}return i&&(o+=" focused"),o},_computeUnderlineClass:function(t,e){var i="underline";return e?i+=" is-invalid":t&&(i+=" is-highlighted"),i},_computeAddOnContentClass:function(t,e){var i="add-on-content";return e?i+=" is-invalid":t&&(i+=" is-highlighted"),i}}),
/**
@license
Copyright (c) 2015 The Polymer Project Authors. All rights reserved.
This code may only be used under the BSD style license found at
http://polymer.github.io/LICENSE.txt The complete set of authors may be found at
http://polymer.github.io/AUTHORS.txt The complete set of contributors may be
found at http://polymer.github.io/CONTRIBUTORS.txt Code distributed by Google as
part of the polymer project is also subject to an additional IP rights grant
found at http://polymer.github.io/PATENTS.txt
*/
Object(s.a)({_template:l.a`
    <style>
      :host {
        display: inline-block;
        visibility: hidden;

        color: var(--paper-input-container-invalid-color, var(--error-color));

        @apply --paper-font-caption;
        @apply --paper-input-error;
        position: absolute;
        left:0;
        right:0;
      }

      :host([invalid]) {
        visibility: visible;
      }

      #a11yWrapper {
        visibility: hidden;
      }

      :host([invalid]) #a11yWrapper {
        visibility: visible;
      }
    </style>

    <!--
    If the paper-input-error element is directly referenced by an
    \`aria-describedby\` attribute, such as when used as a paper-input add-on,
    then applying \`visibility: hidden;\` to the paper-input-error element itself
    does not hide the error.

    For more information, see:
    https://www.w3.org/TR/accname-1.1/#mapping_additional_nd_description
    -->
    <div id="a11yWrapper">
      <slot></slot>
    </div>
`,is:"paper-input-error",behaviors:[S],properties:{invalid:{readOnly:!0,reflectToAttribute:!0,type:Boolean}},update:function(t){this._setInvalid(t.invalid)}});
/**
@license
Copyright (c) 2015 The Polymer Project Authors. All rights reserved.
This code may only be used under the BSD style license found at
http://polymer.github.io/LICENSE.txt The complete set of authors may be found at
http://polymer.github.io/AUTHORS.txt The complete set of contributors may be
found at http://polymer.github.io/CONTRIBUTORS.txt Code distributed by Google as
part of the polymer project is also subject to an additional IP rights grant
found at http://polymer.github.io/PATENTS.txt
*/
const P={properties:{name:{type:String},value:{notify:!0,type:String},required:{type:Boolean,value:!1}},attached:function(){},detached:function(){}};i(32);var E=i(46),O=i(42),T=i(28);
/**
@license
Copyright (c) 2015 The Polymer Project Authors. All rights reserved.
This code may only be used under the BSD style license found at
http://polymer.github.io/LICENSE.txt The complete set of authors may be found at
http://polymer.github.io/AUTHORS.txt The complete set of contributors may be
found at http://polymer.github.io/CONTRIBUTORS.txt Code distributed by Google as
part of the polymer project is also subject to an additional IP rights grant
found at http://polymer.github.io/PATENTS.txt
*/
const A={NextLabelID:1,NextAddonID:1,NextInputID:1},N={properties:{label:{type:String},value:{notify:!0,type:String},disabled:{type:Boolean,value:!1},invalid:{type:Boolean,value:!1,notify:!0},allowedPattern:{type:String},type:{type:String},list:{type:String},pattern:{type:String},required:{type:Boolean,value:!1},errorMessage:{type:String},charCounter:{type:Boolean,value:!1},noLabelFloat:{type:Boolean,value:!1},alwaysFloatLabel:{type:Boolean,value:!1},autoValidate:{type:Boolean,value:!1},validator:{type:String},autocomplete:{type:String,value:"off"},autofocus:{type:Boolean,observer:"_autofocusChanged"},inputmode:{type:String},minlength:{type:Number},maxlength:{type:Number},min:{type:String},max:{type:String},step:{type:String},name:{type:String},placeholder:{type:String,value:""},readonly:{type:Boolean,value:!1},size:{type:Number},autocapitalize:{type:String,value:"none"},autocorrect:{type:String,value:"off"},autosave:{type:String},results:{type:Number},accept:{type:String},multiple:{type:Boolean},_ariaDescribedBy:{type:String,value:""},_ariaLabelledBy:{type:String,value:""},_inputId:{type:String,value:""}},listeners:{"addon-attached":"_onAddonAttached"},keyBindings:{"shift+tab:keydown":"_onShiftTabDown"},hostAttributes:{tabindex:0},get inputElement(){return this.$||(this.$={}),this.$.input||(this._generateInputId(),this.$.input=this.$$("#"+this._inputId)),this.$.input},get _focusableElement(){return this.inputElement},created:function(){this._typesThatHaveText=["date","datetime","datetime-local","month","time","week","file"]},attached:function(){this._updateAriaLabelledBy(),!T.a&&this.inputElement&&-1!==this._typesThatHaveText.indexOf(this.inputElement.type)&&(this.alwaysFloatLabel=!0)},_appendStringWithSpace:function(t,e){return t=t?t+" "+e:e},_onAddonAttached:function(t){var e=Object(a.a)(t).rootTarget;if(e.id)this._ariaDescribedBy=this._appendStringWithSpace(this._ariaDescribedBy,e.id);else{var i="paper-input-add-on-"+A.NextAddonID++;e.id=i,this._ariaDescribedBy=this._appendStringWithSpace(this._ariaDescribedBy,i)}},validate:function(){return this.inputElement.validate()},_focusBlurHandler:function(t){O.a._focusBlurHandler.call(this,t),this.focused&&!this._shiftTabPressed&&this._focusableElement&&this._focusableElement.focus()},_onShiftTabDown:function(t){var e=this.getAttribute("tabindex");this._shiftTabPressed=!0,this.setAttribute("tabindex","-1"),this.async((function(){this.setAttribute("tabindex",e),this._shiftTabPressed=!1}),1)},_handleAutoValidate:function(){this.autoValidate&&this.validate()},updateValueAndPreserveCaret:function(t){try{var e=this.inputElement.selectionStart;this.value=t,this.inputElement.selectionStart=e,this.inputElement.selectionEnd=e}catch(e){this.value=t}},_computeAlwaysFloatLabel:function(t,e){return e||t},_updateAriaLabelledBy:function(){var t,e=Object(a.a)(this.root).querySelector("label");e?(e.id?t=e.id:(t="paper-input-label-"+A.NextLabelID++,e.id=t),this._ariaLabelledBy=t):this._ariaLabelledBy=""},_generateInputId:function(){this._inputId&&""!==this._inputId||(this._inputId="input-"+A.NextInputID++)},_onChange:function(t){this.shadowRoot&&this.fire(t.type,{sourceEvent:t},{node:this,bubbles:t.bubbles,cancelable:t.cancelable})},_autofocusChanged:function(){if(this.autofocus&&this._focusableElement){var t=document.activeElement;t instanceof HTMLElement&&t!==document.body&&t!==document.documentElement||this._focusableElement.focus()}}},M=[O.a,E.a,N];
/**
@license
Copyright (c) 2015 The Polymer Project Authors. All rights reserved.
This code may only be used under the BSD style license found at
http://polymer.github.io/LICENSE.txt The complete set of authors may be found at
http://polymer.github.io/AUTHORS.txt The complete set of contributors may be
found at http://polymer.github.io/CONTRIBUTORS.txt Code distributed by Google as
part of the polymer project is also subject to an additional IP rights grant
found at http://polymer.github.io/PATENTS.txt
*/
Object(s.a)({is:"paper-input",_template:l.a`
    <style>
      :host {
        display: block;
      }

      :host([focused]) {
        outline: none;
      }

      :host([hidden]) {
        display: none !important;
      }

      input {
        /* Firefox sets a min-width on the input, which can cause layout issues */
        min-width: 0;
      }

      /* In 1.x, the <input> is distributed to paper-input-container, which styles it.
      In 2.x the <iron-input> is distributed to paper-input-container, which styles
      it, but in order for this to work correctly, we need to reset some
      of the native input's properties to inherit (from the iron-input) */
      iron-input > input {
        @apply --paper-input-container-shared-input-style;
        font-family: inherit;
        font-weight: inherit;
        font-size: inherit;
        letter-spacing: inherit;
        word-spacing: inherit;
        line-height: inherit;
        text-shadow: inherit;
        color: inherit;
        cursor: inherit;
      }

      input:disabled {
        @apply --paper-input-container-input-disabled;
      }

      input::-webkit-outer-spin-button,
      input::-webkit-inner-spin-button {
        @apply --paper-input-container-input-webkit-spinner;
      }

      input::-webkit-clear-button {
        @apply --paper-input-container-input-webkit-clear;
      }

      input::-webkit-calendar-picker-indicator {
        @apply --paper-input-container-input-webkit-calendar-picker-indicator;
      }

      input::-webkit-input-placeholder {
        color: var(--paper-input-container-color, var(--secondary-text-color));
      }

      input:-moz-placeholder {
        color: var(--paper-input-container-color, var(--secondary-text-color));
      }

      input::-moz-placeholder {
        color: var(--paper-input-container-color, var(--secondary-text-color));
      }

      input::-ms-clear {
        @apply --paper-input-container-ms-clear;
      }

      input::-ms-reveal {
        @apply --paper-input-container-ms-reveal;
      }

      input:-ms-input-placeholder {
        color: var(--paper-input-container-color, var(--secondary-text-color));
      }

      label {
        pointer-events: none;
      }
    </style>

    <paper-input-container id="container" no-label-float="[[noLabelFloat]]" always-float-label="[[_computeAlwaysFloatLabel(alwaysFloatLabel,placeholder)]]" auto-validate$="[[autoValidate]]" disabled$="[[disabled]]" invalid="[[invalid]]">

      <slot name="prefix" slot="prefix"></slot>

      <label hidden$="[[!label]]" aria-hidden="true" for$="[[_inputId]]" slot="label">[[label]]</label>

      <!-- Need to bind maxlength so that the paper-input-char-counter works correctly -->
      <iron-input bind-value="{{value}}" slot="input" class="input-element" id$="[[_inputId]]" maxlength$="[[maxlength]]" allowed-pattern="[[allowedPattern]]" invalid="{{invalid}}" validator="[[validator]]">
        <input aria-labelledby$="[[_ariaLabelledBy]]" aria-describedby$="[[_ariaDescribedBy]]" disabled$="[[disabled]]" title$="[[title]]" type$="[[type]]" pattern$="[[pattern]]" required$="[[required]]" autocomplete$="[[autocomplete]]" autofocus$="[[autofocus]]" inputmode$="[[inputmode]]" minlength$="[[minlength]]" maxlength$="[[maxlength]]" min$="[[min]]" max$="[[max]]" step$="[[step]]" name$="[[name]]" placeholder$="[[placeholder]]" readonly$="[[readonly]]" list$="[[list]]" size$="[[size]]" autocapitalize$="[[autocapitalize]]" autocorrect$="[[autocorrect]]" on-change="_onChange" tabindex$="[[tabIndex]]" autosave$="[[autosave]]" results$="[[results]]" accept$="[[accept]]" multiple$="[[multiple]]">
      </iron-input>

      <slot name="suffix" slot="suffix"></slot>

      <template is="dom-if" if="[[errorMessage]]">
        <paper-input-error aria-live="assertive" slot="add-on">[[errorMessage]]</paper-input-error>
      </template>

      <template is="dom-if" if="[[charCounter]]">
        <paper-input-char-counter slot="add-on"></paper-input-char-counter>
      </template>

    </paper-input-container>
  `,behaviors:[M,P],properties:{value:{type:String}},get _focusableElement(){return this.inputElement._inputElement},listeners:{"iron-input-ready":"_onIronInputReady"},_onIronInputReady:function(){this.$.nativeInput||(this.$.nativeInput=this.$$("input")),this.inputElement&&-1!==this._typesThatHaveText.indexOf(this.$.nativeInput.type)&&(this.alwaysFloatLabel=!0),this.inputElement.bindValue&&this.$.container._handleValueAndAutoValidate(this.inputElement)}});var z=i(47);class I extends n.a{static get styles(){return[n.b`:host {
        display: block;
        position: fixed;
        bottom: 0;
        left: 0;
        right: 0;
        padding: 12px;
        background-color: var(--app-secondary-color);
        color: white;
        box-shadow: 0 0 10px rgba(0, 0, 0, 0.2);
        text-align: center;
        will-change: transform;
        transform: translate3d(0, 100%, 0);
        transition-property: visibility, transform;
        transition-duration: 0.2s;
        visibility: hidden;
      }
      :host([active]) {
        visibility: visible;
        transform: translate3d(0, 0, 0);
        z-index: 160;
      }
      @media (min-width: 460px) {
        :host {
          width: 320px;
          margin: auto;
          border-radius: 5px 5px 0 0;
        }
      }`]}render(){return n.c`
      <slot></slot>
    `}static get properties(){return{active:{type:Boolean}}}}customElements.define("snack-bar",I);var L=i(41);class R extends n.a{static get properties(){return{appTitle:{type:String},_page:{type:String},_drawerOpened:{type:Boolean},_snackbarOpened:{type:Boolean},_offline:{type:Boolean},_snackbarMessage:{type:String}}}static get styles(){return[n.b`
        :host {
          display: block;

          --dark-primary-color:         #0097A7;
          --default-primary-color:      #00BCD4;
          --light-primary-color:        #B2EBF2; /*#9be7ff; */
          --light-secondary-color:      #e4f2ff;
          --text-primary-color:         #FFFFFF;
          --accent-color:               #009688; /*#03A9F4; */
          --primary-background-color:   #F7FFFE; /*#BBDEFB; */
          --secondary-background-color: #FFFFFF;
          --primary-text-color:         #004467;
          --secondary-text-color:       #757575; /*#075784; */
          --ternary-text-color:         #075784;
          --disabled-text-color:        #BDBDBD;
          --divider-color:              #BDBDBD;
          --disabled-color:             #646464;

          --shadow-box-8dp-custom : rgba(4, 68, 109, 0.14) 0px 8px 10px 1px, rgba(4, 68, 109, 0.12) 0px 3px 14px 2px, rgba(4, 68, 109, 0.4) 0px 5px 5px -3px;
          --shadow-box-4dp-custom : rgba(4, 68, 109, 0.28) 0px 3px 4px 0px, rgba(4, 68, 109, 0.24) 0px 1px 8px 0px, rgba(4, 68, 109, 0.8) 0px 3px 3px -2px;
          --shadow-box-2dp-custom : 0 3px 4px 0 rgba(4, 68, 109, 0.14), 0 1px 8px 0 rgba(4, 68, 109, 0.12), 0 3px 3px -2px rgba(4, 68, 109, 0.4);


          --app-drawer-width: 256px;

          --app-primary-color: #00BCD4;
          --app-secondary-color: #293237;
          --app-dark-text-color: var(--app-secondary-color);
          --app-light-text-color: white;
          --app-section-even-color: #f7f7f7;
          --app-section-odd-color: white;

          --app-header-background-color: white;
          --app-header-text-color: var(--app-dark-text-color);
          --app-header-selected-color: var(--app-primary-color);

          --app-drawer-background-color: var(--app-secondary-color);
          --app-drawer-text-color: var(--app-light-text-color);
          --app-drawer-selected-color: #78909C;

          font-size: 12px;
        }

        app-header {
          position: fixed;
          top: 0;
          left: 0;
          width: 100%;
          z-index: 120;
          text-align: center;
          background-color: var(--default-primary-color);
          color: var(--app-header-text-color);
          border-bottom: 1px solid #eee;
        }

        .toolbar-top {
          background-color: var(--dark-primary-color);
          color: white;
        }

        [main-title] {
          font-family: 'Pacifico';
          text-transform: lowercase;
          font-size: 30px;
          /* In the narrow layout, the toolbar is offset by the width of the
          drawer button, and the text looks not centered. Add a padding to
          match that button */
          padding-right: 44px;
        }

        .toolbar-list {
          display: none;
        }

        .toolbar-list > a {
          display: inline-block;
          color: var(--app-header-text-color);
          text-decoration: none;
          line-height: 30px;
          padding: 4px 24px;
        }

        .toolbar-list > a[selected] {
          color: var(--accent-color);
          border-bottom: 4px solid var(--accent-color);
        }

        .menu-btn {
          background: none;
          border: none;
          fill: var(--app-header-text-color);
          cursor: pointer;
          height: 44px;
          width: 44px;
        }

        .drawer-list {
          box-sizing: border-box;
          width: 100%;
          height: 100%;
          padding: 24px;
          background: var(--app-drawer-background-color);
          position: relative;
        }

        .drawer-list > a {
          display: block;
          text-decoration: none;
          color: var(--app-drawer-text-color);
          line-height: 40px;
          padding: 0 24px;
        }

        .drawer-list > a[selected] {
          color: var(--app-drawer-selected-color);
        }

        /* Workaround for IE11 displaying <main> as inline */
        main {
          display: block;
        }

        .main-content {
          padding-top: 64px;
          max-height: 100vh;
          overflow: auto;
          position: relative;
          z-index: 130;
          height: calc(100vh - 64px);
        }

        .page {
          display: none;
        }

        .page[active] {
          display: block;
        }

        footer {
          padding: 24px;
          background: var(--app-drawer-background-color);
          color: var(--app-drawer-text-color);
          text-align: center;
        }

        /* Wide layout: when the viewport width is bigger than 460px, layout
        changes to a wide layout */
        @media (min-width: 460px) {
          .toolbar-list {
            display: block;
          }

          .menu-btn {
            display: none;
          }
          /* The drawer button isn't shown in the wide layout, so we don't
          need to offset the title */
          [main-title] {
            padding-right: 0px;
          }
        }

        custom-absolute-container{
            width: 50px;
            display: inline-block;
            border-radius: 5px;
            z-index: 150;
            margin-left: 92.5%;
            position: fixed;


            --paper-input-container-color:       white;
            --paper-input-container-focus-color: white;
            --paper-input-container-input-color: white;

        }
      `,L.d,L.b]}render(){return n.c`
      <!-- Header -->
      <app-header condenses reveals effects="waterfall">
        <app-toolbar class="toolbar-top">
          <button class="menu-btn" title="Menu" @click="${this._menuButtonClicked}">${z.f}</button>
          <div main-title>${this.appTitle}</div>
        </app-toolbar>

      </app-header>

      <!-- Main content -->
      <main role="main" class="main-content" id="main-content">
        <primary-view class="page" ?active="${"primary"===this._page}"></primary-view>
        <my-view404 class="page" ?active="${"view404"===this._page}"></my-view404>
      </main>

      <snack-bar ?active="${this._snackbarOpened}">
        ${this._snackbarMessage}
      </snack-bar>
    `}constructor(){super(),this._drawerOpened=!1,Object(r.f)(!0)}firstUpdated(){var t,e;t=t=>this._locationChanged(t),document.body.addEventListener("click",e=>{if(e.defaultPrevented||0!==e.button||e.metaKey||e.ctrlKey||e.shiftKey)return;const i=e.composedPath().filter(t=>"A"===t.tagName)[0];if(!i||i.target||i.hasAttribute("download")||"external"===i.getAttribute("rel"))return;const n=i.href;if(!n||-1!==n.indexOf("mailto:"))return;const r=window.location,o=r.origin||r.protocol+"//"+r.host;0===n.indexOf(o)&&(e.preventDefault(),n!==r.href&&(window.history.pushState({},"",n),t(r,e)))}),window.addEventListener("popstate",e=>t(window.location,e)),t(window.location,null),e=t=>this._offlineChanged(t),window.addEventListener("online",()=>e(!1)),window.addEventListener("offline",()=>e(!0)),e(!1===navigator.onLine),((t,e)=>{let i=window.matchMedia(t);i.addListener(t=>e(t.matches)),e(i.matches)})("(min-width: 460px)",t=>this._layoutChanged(t)),window.addEventListener("snackbar-message",t=>{this._snackbarMessage=t.detail,this._showSnackBar()})}updated(t){if(t.has("_page")){const t=this.appTitle+" - "+this._page;(({title:t,description:e,url:i,image:n,imageAlt:r})=>{t&&(document.title=t,o("property","og:title",t)),e&&(o("name","description",e),o("property","og:description",e)),n&&o("property","og:image",n),r&&o("property","og:image:alt",r),o("property","og:url",i=i||window.location.href)})({title:t,description:t})}}_layoutChanged(t){this._updateDrawerState(!1)}_offlineChanged(t){const e=this._offline;this._offline=t,void 0!==e&&(clearTimeout(this.__snackbarTimer),this._snackbarOpened=!0,this.__snackbarTimer=setTimeout(()=>{this._snackbarOpened=!1},3e3))}_showSnackBar(){clearTimeout(this.__snackbarTimer),this._snackbarOpened=!0,this.__snackbarTimer=setTimeout(()=>{this._snackbarOpened=!1},3e3)}_locationChanged(t){const e=window.decodeURIComponent(t.pathname),i="/"===e?"primary":e.slice(1);this._loadPage(i),this._updateDrawerState(!1)}_updateDrawerState(t){t!==this._drawerOpened&&(this._drawerOpened=t)}_loadPage(t){switch(t){case"primary":t="primary",Promise.all([i.e(2),i.e(1)]).then(i.bind(null,108));break;default:t="view404",i.e(3).then(i.bind(null,107))}this._page=t}_menuButtonClicked(){this._updateDrawerState(!0)}_drawerOpenedChanged(t){this._updateDrawerState(t.target.opened)}}window.customElements.define("compi-app",R)}]);
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vd2VicGFjay9ib290c3RyYXAiLCJ3ZWJwYWNrOi8vLy4vbm9kZV9tb2R1bGVzL0Bwb2x5bWVyL3BvbHltZXIvbGliL3V0aWxzL3dyYXAuanMiLCJ3ZWJwYWNrOi8vLy4vbm9kZV9tb2R1bGVzL2xpdC1odG1sL2xpYi9tb2RpZnktdGVtcGxhdGUuanMiLCJ3ZWJwYWNrOi8vLy4vbm9kZV9tb2R1bGVzL2xpdC1odG1sL2xpYi9zaGFkeS1yZW5kZXIuanMiLCJ3ZWJwYWNrOi8vLy4vbm9kZV9tb2R1bGVzL2xpdC1lbGVtZW50L2xpYi91cGRhdGluZy1lbGVtZW50LmpzIiwid2VicGFjazovLy8uL25vZGVfbW9kdWxlcy9saXQtZWxlbWVudC9saWIvZGVjb3JhdG9ycy5qcyIsIndlYnBhY2s6Ly8vLi9ub2RlX21vZHVsZXMvbGl0LWVsZW1lbnQvbGliL2Nzcy10YWcuanMiLCJ3ZWJwYWNrOi8vLy4vbm9kZV9tb2R1bGVzL2xpdC1lbGVtZW50L2xpdC1lbGVtZW50LmpzIiwid2VicGFjazovLy8uL25vZGVfbW9kdWxlcy9AcG9seW1lci9wb2x5bWVyL2xpYi91dGlscy9wYXRoLmpzIiwid2VicGFjazovLy8uL25vZGVfbW9kdWxlcy9AcG9seW1lci9wb2x5bWVyL2xpYi91dGlscy9odG1sLXRhZy5qcyIsIndlYnBhY2s6Ly8vLi9ub2RlX21vZHVsZXMvQHBvbHltZXIvcG9seW1lci9saWIvdXRpbHMvZmxhdHRlbmVkLW5vZGVzLW9ic2VydmVyLmpzIiwid2VicGFjazovLy8uL25vZGVfbW9kdWxlcy9AcG9seW1lci9wb2x5bWVyL2xpYi9sZWdhY3kvcG9seW1lci5kb20uanMiLCJ3ZWJwYWNrOi8vLy4vbm9kZV9tb2R1bGVzL0Bwb2x5bWVyL3BvbHltZXIvbGliL3V0aWxzL3NldHRpbmdzLmpzIiwid2VicGFjazovLy8uL25vZGVfbW9kdWxlcy9AcG9seW1lci9wb2x5bWVyL2xpYi9taXhpbnMvbXV0YWJsZS1kYXRhLmpzIiwid2VicGFjazovLy8uL25vZGVfbW9kdWxlcy9AcG9seW1lci9wb2x5bWVyL2xpYi91dGlscy90ZW1wbGF0aXplLmpzIiwid2VicGFjazovLy8uL25vZGVfbW9kdWxlcy9AcG9seW1lci9wb2x5bWVyL2xpYi9lbGVtZW50cy9kb20tYmluZC5qcyIsIndlYnBhY2s6Ly8vLi9ub2RlX21vZHVsZXMvQHBvbHltZXIvcG9seW1lci9saWIvZWxlbWVudHMvZG9tLXJlcGVhdC5qcyIsIndlYnBhY2s6Ly8vLi9ub2RlX21vZHVsZXMvQHBvbHltZXIvcG9seW1lci9saWIvZWxlbWVudHMvZG9tLWlmLmpzIiwid2VicGFjazovLy8uL25vZGVfbW9kdWxlcy9AcG9seW1lci9wb2x5bWVyL2xpYi9lbGVtZW50cy9hcnJheS1zZWxlY3Rvci5qcyIsIndlYnBhY2s6Ly8vLi9ub2RlX21vZHVsZXMvQHdlYmNvbXBvbmVudHMvc2hhZHljc3MvZW50cnlwb2ludHMvY3VzdG9tLXN0eWxlLWludGVyZmFjZS5qcyIsIndlYnBhY2s6Ly8vLi9ub2RlX21vZHVsZXMvQHBvbHltZXIvcG9seW1lci9saWIvZWxlbWVudHMvY3VzdG9tLXN0eWxlLmpzIiwid2VicGFjazovLy8uL25vZGVfbW9kdWxlcy9AcG9seW1lci9wb2x5bWVyL2xpYi9sZWdhY3kvbXV0YWJsZS1kYXRhLWJlaGF2aW9yLmpzIiwid2VicGFjazovLy8uL25vZGVfbW9kdWxlcy9AcG9seW1lci9wb2x5bWVyL3BvbHltZXItbGVnYWN5LmpzIiwid2VicGFjazovLy8uL25vZGVfbW9kdWxlcy9AcG9seW1lci9wb2x5bWVyL2xpYi91dGlscy9ib290LmpzIiwid2VicGFjazovLy8uL3NyYy9jb21wb25lbnRzL2Jhc2UtZWxlbWVudC5qcyIsIndlYnBhY2s6Ly8vLi9ub2RlX21vZHVsZXMvbGl0LWh0bWwvbGliL3RlbXBsYXRlLmpzIiwid2VicGFjazovLy8uL25vZGVfbW9kdWxlcy9AcG9seW1lci9wb2x5bWVyL2xpYi91dGlscy9taXhpbi5qcyIsIndlYnBhY2s6Ly8vLi9ub2RlX21vZHVsZXMvQHBvbHltZXIvcG9seW1lci9saWIvbGVnYWN5L2NsYXNzLmpzIiwid2VicGFjazovLy8uL25vZGVfbW9kdWxlcy9AcG9seW1lci9wb2x5bWVyL2xpYi9sZWdhY3kvcG9seW1lci1mbi5qcyIsIndlYnBhY2s6Ly8vLi9ub2RlX21vZHVsZXMvQHBvbHltZXIvcG9seW1lci9saWIvdXRpbHMvYXN5bmMuanMiLCJ3ZWJwYWNrOi8vLy4vbm9kZV9tb2R1bGVzL0B3ZWJjb21wb25lbnRzL3NoYWR5Y3NzL3NyYy9zdHlsZS1zZXR0aW5ncy5qcyIsIndlYnBhY2s6Ly8vLi9ub2RlX21vZHVsZXMvbGl0LWh0bWwvbGliL3BhcnRzLmpzIiwid2VicGFjazovLy8uL25vZGVfbW9kdWxlcy9saXQtaHRtbC9saWIvcGFydC5qcyIsIndlYnBhY2s6Ly8vLi9ub2RlX21vZHVsZXMvQHBvbHltZXIvcG9seW1lci9saWIvdXRpbHMvZGVib3VuY2UuanMiLCJ3ZWJwYWNrOi8vLy4vbm9kZV9tb2R1bGVzL2xpdC1odG1sL2xpYi9kb20uanMiLCJ3ZWJwYWNrOi8vLy4vbm9kZV9tb2R1bGVzL0Bwb2x5bWVyL3BvbHltZXIvbGliL3V0aWxzL3Jlc29sdmUtdXJsLmpzIiwid2VicGFjazovLy8uL25vZGVfbW9kdWxlcy9saXQtaHRtbC9saWIvZGVmYXVsdC10ZW1wbGF0ZS1wcm9jZXNzb3IuanMiLCJ3ZWJwYWNrOi8vLy4vbm9kZV9tb2R1bGVzL2xpdC1odG1sL2xpdC1odG1sLmpzIiwid2VicGFjazovLy8uL25vZGVfbW9kdWxlcy9AcG9seW1lci9wb2x5bWVyL2xpYi91dGlscy9mbHVzaC5qcyIsIndlYnBhY2s6Ly8vLi9ub2RlX21vZHVsZXMvQHdlYmNvbXBvbmVudHMvc2hhZHljc3Mvc3JjL2NvbW1vbi1yZWdleC5qcyIsIndlYnBhY2s6Ly8vLi9ub2RlX21vZHVsZXMvbGl0LWh0bWwvbGliL3RlbXBsYXRlLXJlc3VsdC5qcyIsIndlYnBhY2s6Ly8vLi9ub2RlX21vZHVsZXMvQHBvbHltZXIvcG9seW1lci9saWIvdXRpbHMvY2FzZS1tYXAuanMiLCJ3ZWJwYWNrOi8vLy4vbm9kZV9tb2R1bGVzL2xpdC1odG1sL2xpYi90ZW1wbGF0ZS1mYWN0b3J5LmpzIiwid2VicGFjazovLy8uL25vZGVfbW9kdWxlcy9saXQtaHRtbC9saWIvZGlyZWN0aXZlLmpzIiwid2VicGFjazovLy8uL25vZGVfbW9kdWxlcy9saXQtaHRtbC9saWIvcmVuZGVyLmpzIiwid2VicGFjazovLy8uL25vZGVfbW9kdWxlcy9Ad2ViY29tcG9uZW50cy9zaGFkeWNzcy9zcmMvY29tbW9uLXV0aWxzLmpzIiwid2VicGFjazovLy8uL25vZGVfbW9kdWxlcy9AcG9seW1lci9wb2x5bWVyL3BvbHltZXItZWxlbWVudC5qcyIsIndlYnBhY2s6Ly8vLi9ub2RlX21vZHVsZXMvbGl0LWh0bWwvbGliL3RlbXBsYXRlLWluc3RhbmNlLmpzIiwid2VicGFjazovLy8uL25vZGVfbW9kdWxlcy9AcG9seW1lci9wb2x5bWVyL2xpYi91dGlscy90ZWxlbWV0cnkuanMiLCJ3ZWJwYWNrOi8vLy4vbm9kZV9tb2R1bGVzL0Bwb2x5bWVyL3BvbHltZXIvbGliL21peGlucy9wcm9wZXJ0aWVzLW1peGluLmpzIiwid2VicGFjazovLy8uL25vZGVfbW9kdWxlcy9AcG9seW1lci9wb2x5bWVyL2xpYi9taXhpbnMvZWxlbWVudC1taXhpbi5qcyIsIndlYnBhY2s6Ly8vLi9ub2RlX21vZHVsZXMvQHBvbHltZXIvcG9seW1lci9saWIvbWl4aW5zL3RlbXBsYXRlLXN0YW1wLmpzIiwid2VicGFjazovLy8uL25vZGVfbW9kdWxlcy9AcG9seW1lci9wb2x5bWVyL2xpYi9taXhpbnMvcHJvcGVydHktZWZmZWN0cy5qcyIsIndlYnBhY2s6Ly8vLi9ub2RlX21vZHVsZXMvQHBvbHltZXIvcG9seW1lci9saWIvZWxlbWVudHMvZG9tLW1vZHVsZS5qcyIsIndlYnBhY2s6Ly8vLi9ub2RlX21vZHVsZXMvQHdlYmNvbXBvbmVudHMvc2hhZHljc3Mvc3JjL2Nzcy1wYXJzZS5qcyIsIndlYnBhY2s6Ly8vLi9ub2RlX21vZHVsZXMvQHdlYmNvbXBvbmVudHMvc2hhZHljc3Mvc3JjL3Vuc2NvcGVkLXN0eWxlLWhhbmRsZXIuanMiLCJ3ZWJwYWNrOi8vLy4vbm9kZV9tb2R1bGVzL0B3ZWJjb21wb25lbnRzL3NoYWR5Y3NzL3NyYy9zdHlsZS11dGlsLmpzIiwid2VicGFjazovLy8uL25vZGVfbW9kdWxlcy9Ad2ViY29tcG9uZW50cy9zaGFkeWNzcy9zcmMvYXBwbHktc2hpbS5qcyIsIndlYnBhY2s6Ly8vLi9ub2RlX21vZHVsZXMvQHdlYmNvbXBvbmVudHMvc2hhZHljc3Mvc3JjL3RlbXBsYXRlLW1hcC5qcyIsIndlYnBhY2s6Ly8vLi9ub2RlX21vZHVsZXMvQHdlYmNvbXBvbmVudHMvc2hhZHljc3Mvc3JjL2FwcGx5LXNoaW0tdXRpbHMuanMiLCJ3ZWJwYWNrOi8vLy4vbm9kZV9tb2R1bGVzL0B3ZWJjb21wb25lbnRzL3NoYWR5Y3NzL2VudHJ5cG9pbnRzL2FwcGx5LXNoaW0uanMiLCJ3ZWJwYWNrOi8vLy4vbm9kZV9tb2R1bGVzL0Bwb2x5bWVyL3BvbHltZXIvbGliL21peGlucy9kaXItbWl4aW4uanMiLCJ3ZWJwYWNrOi8vLy4vbm9kZV9tb2R1bGVzL0Bwb2x5bWVyL3BvbHltZXIvbGliL3V0aWxzL3VucmVzb2x2ZWQuanMiLCJ3ZWJwYWNrOi8vLy4vbm9kZV9tb2R1bGVzL0Bwb2x5bWVyL3BvbHltZXIvbGliL2xlZ2FjeS9sZWdhY3ktZWxlbWVudC1taXhpbi5qcyIsIndlYnBhY2s6Ly8vLi9ub2RlX21vZHVsZXMvQHBvbHltZXIvaXJvbi1mbGV4LWxheW91dC9pcm9uLWZsZXgtbGF5b3V0LmpzIiwid2VicGFjazovLy8uL25vZGVfbW9kdWxlcy9AcG9seW1lci9wb2x5bWVyL2xpYi91dGlscy9zdHlsZS1nYXRoZXIuanMiLCJ3ZWJwYWNrOi8vLy4vbm9kZV9tb2R1bGVzL0Bwb2x5bWVyL3BvbHltZXIvbGliL3V0aWxzL2dlc3R1cmVzLmpzIiwid2VicGFjazovLy8uL25vZGVfbW9kdWxlcy9AcG9seW1lci9wb2x5bWVyL2xpYi9taXhpbnMvcHJvcGVydHktYWNjZXNzb3JzLmpzIiwid2VicGFjazovLy8uL25vZGVfbW9kdWxlcy9AcG9seW1lci9wb2x5bWVyL2xpYi9taXhpbnMvcHJvcGVydGllcy1jaGFuZ2VkLmpzIiwid2VicGFjazovLy8uL25vZGVfbW9kdWxlcy9AcG9seW1lci9wb2x5bWVyL2xpYi9taXhpbnMvZ2VzdHVyZS1ldmVudC1saXN0ZW5lcnMuanMiLCJ3ZWJwYWNrOi8vLy4vbm9kZV9tb2R1bGVzL0Bwb2x5bWVyL3BvbHltZXIvbGliL3V0aWxzL2FycmF5LXNwbGljZS5qcyIsIndlYnBhY2s6Ly8vLi9zcmMvY29tcG9uZW50cy9zdHlsZS1oZWxwZXJzL3NoYXJlZC1zdHlsZXMuanMiLCJ3ZWJwYWNrOi8vLy4vbm9kZV9tb2R1bGVzL0Bwb2x5bWVyL2lyb24tYmVoYXZpb3JzL2lyb24tY29udHJvbC1zdGF0ZS5qcyIsIndlYnBhY2s6Ly8vLi9ub2RlX21vZHVsZXMvQHBvbHltZXIvcGFwZXItc3R5bGVzL2RlZmF1bHQtdGhlbWUuanMiLCJ3ZWJwYWNrOi8vLy4vbm9kZV9tb2R1bGVzL0Bwb2x5bWVyL3BvbHltZXIvbGliL3V0aWxzL3JlbmRlci1zdGF0dXMuanMiLCJ3ZWJwYWNrOi8vLy4vbm9kZV9tb2R1bGVzL0B3ZWJjb21wb25lbnRzL3NoYWR5Y3NzL3NyYy9kb2N1bWVudC13YWl0LmpzIiwid2VicGFjazovLy8uL25vZGVfbW9kdWxlcy9Ad2ViY29tcG9uZW50cy9zaGFkeWNzcy9zcmMvY3VzdG9tLXN0eWxlLWludGVyZmFjZS5qcyIsIndlYnBhY2s6Ly8vLi9ub2RlX21vZHVsZXMvQHBvbHltZXIvaXJvbi1hMTF5LWtleXMtYmVoYXZpb3IvaXJvbi1hMTF5LWtleXMtYmVoYXZpb3IuanMiLCJ3ZWJwYWNrOi8vLy4vc3JjL2NvbXBvbmVudHMvc3R5bGUtaGVscGVycy9teS1pY29ucy5qcyIsIndlYnBhY2s6Ly8vLi9ub2RlX21vZHVsZXMvQHBvbHltZXIvaXJvbi1yZXNpemFibGUtYmVoYXZpb3IvaXJvbi1yZXNpemFibGUtYmVoYXZpb3IuanMiLCJ3ZWJwYWNrOi8vLy4vbm9kZV9tb2R1bGVzL0Bwb2x5bWVyL3BhcGVyLXN0eWxlcy9jb2xvci5qcyIsIndlYnBhY2s6Ly8vLi9ub2RlX21vZHVsZXMvQHBvbHltZXIvaXJvbi1tZXRhL2lyb24tbWV0YS5qcyIsIndlYnBhY2s6Ly8vLi9ub2RlX21vZHVsZXMvQHBvbHltZXIvcGFwZXItc3R5bGVzL3NoYWRvdy5qcyIsIndlYnBhY2s6Ly8vLi9ub2RlX21vZHVsZXMvcHdhLWhlbHBlcnMvbWV0YWRhdGEuanMiLCJ3ZWJwYWNrOi8vLy4vbm9kZV9tb2R1bGVzL0Bwb2x5bWVyL2FwcC1sYXlvdXQvYXBwLWRyYXdlci9hcHAtZHJhd2VyLmpzIiwid2VicGFjazovLy8uL25vZGVfbW9kdWxlcy9AcG9seW1lci9hcHAtbGF5b3V0L2FwcC1sYXlvdXQtYmVoYXZpb3IvYXBwLWxheW91dC1iZWhhdmlvci5qcyIsIndlYnBhY2s6Ly8vLi9ub2RlX21vZHVsZXMvQHBvbHltZXIvaXJvbi1zY3JvbGwtdGFyZ2V0LWJlaGF2aW9yL2lyb24tc2Nyb2xsLXRhcmdldC1iZWhhdmlvci5qcyIsIndlYnBhY2s6Ly8vLi9ub2RlX21vZHVsZXMvQHBvbHltZXIvYXBwLWxheW91dC9oZWxwZXJzL2hlbHBlcnMuanMiLCJ3ZWJwYWNrOi8vLy4vbm9kZV9tb2R1bGVzL0Bwb2x5bWVyL2FwcC1sYXlvdXQvYXBwLXNjcm9sbC1lZmZlY3RzL2FwcC1zY3JvbGwtZWZmZWN0cy1iZWhhdmlvci5qcyIsIndlYnBhY2s6Ly8vLi9ub2RlX21vZHVsZXMvQHBvbHltZXIvYXBwLWxheW91dC9hcHAtaGVhZGVyL2FwcC1oZWFkZXIuanMiLCJ3ZWJwYWNrOi8vLy4vbm9kZV9tb2R1bGVzL0Bwb2x5bWVyL2FwcC1sYXlvdXQvYXBwLXNjcm9sbC1lZmZlY3RzL2VmZmVjdHMvd2F0ZXJmYWxsLmpzIiwid2VicGFjazovLy8uL25vZGVfbW9kdWxlcy9AcG9seW1lci9hcHAtbGF5b3V0L2FwcC10b29sYmFyL2FwcC10b29sYmFyLmpzIiwid2VicGFjazovLy8uL25vZGVfbW9kdWxlcy9AcG9seW1lci9mb250LXJvYm90by9yb2JvdG8uanMiLCJ3ZWJwYWNrOi8vLy4vbm9kZV9tb2R1bGVzL0Bwb2x5bWVyL3BhcGVyLXN0eWxlcy90eXBvZ3JhcGh5LmpzIiwid2VicGFjazovLy8uL25vZGVfbW9kdWxlcy9AcG9seW1lci9pcm9uLWExMXktYW5ub3VuY2VyL2lyb24tYTExeS1hbm5vdW5jZXIuanMiLCJ3ZWJwYWNrOi8vLy4vbm9kZV9tb2R1bGVzL0Bwb2x5bWVyL2lyb24tdmFsaWRhdGFibGUtYmVoYXZpb3IvaXJvbi12YWxpZGF0YWJsZS1iZWhhdmlvci5qcyIsIndlYnBhY2s6Ly8vLi9ub2RlX21vZHVsZXMvQHBvbHltZXIvaXJvbi1pbnB1dC9pcm9uLWlucHV0LmpzIiwid2VicGFjazovLy8uL25vZGVfbW9kdWxlcy9AcG9seW1lci9wYXBlci1pbnB1dC9wYXBlci1pbnB1dC1hZGRvbi1iZWhhdmlvci5qcyIsIndlYnBhY2s6Ly8vLi9ub2RlX21vZHVsZXMvQHBvbHltZXIvcGFwZXItaW5wdXQvcGFwZXItaW5wdXQtY2hhci1jb3VudGVyLmpzIiwid2VicGFjazovLy8uL25vZGVfbW9kdWxlcy9AcG9seW1lci9wYXBlci1pbnB1dC9wYXBlci1pbnB1dC1jb250YWluZXIuanMiLCJ3ZWJwYWNrOi8vLy4vbm9kZV9tb2R1bGVzL0Bwb2x5bWVyL3BhcGVyLWlucHV0L3BhcGVyLWlucHV0LWVycm9yLmpzIiwid2VicGFjazovLy8uL25vZGVfbW9kdWxlcy9AcG9seW1lci9pcm9uLWZvcm0tZWxlbWVudC1iZWhhdmlvci9pcm9uLWZvcm0tZWxlbWVudC1iZWhhdmlvci5qcyIsIndlYnBhY2s6Ly8vLi9ub2RlX21vZHVsZXMvQHBvbHltZXIvcGFwZXItaW5wdXQvcGFwZXItaW5wdXQtYmVoYXZpb3IuanMiLCJ3ZWJwYWNrOi8vLy4vbm9kZV9tb2R1bGVzL0Bwb2x5bWVyL3BhcGVyLWlucHV0L3BhcGVyLWlucHV0LmpzIiwid2VicGFjazovLy8uL3NyYy9jb21wb25lbnRzL3NuYWNrLWJhci5qcyIsIndlYnBhY2s6Ly8vLi9zcmMvY29tcG9uZW50cy9jb21waS1hcHAuanMiLCJ3ZWJwYWNrOi8vLy4vbm9kZV9tb2R1bGVzL3B3YS1oZWxwZXJzL3JvdXRlci5qcyIsIndlYnBhY2s6Ly8vLi9ub2RlX21vZHVsZXMvcHdhLWhlbHBlcnMvbmV0d29yay5qcyIsIndlYnBhY2s6Ly8vLi9ub2RlX21vZHVsZXMvcHdhLWhlbHBlcnMvbWVkaWEtcXVlcnkuanMiXSwibmFtZXMiOlsid2VicGFja0pzb25wQ2FsbGJhY2siLCJkYXRhIiwibW9kdWxlSWQiLCJjaHVua0lkIiwiY2h1bmtJZHMiLCJtb3JlTW9kdWxlcyIsImkiLCJyZXNvbHZlcyIsImxlbmd0aCIsIk9iamVjdCIsInByb3RvdHlwZSIsImhhc093blByb3BlcnR5IiwiY2FsbCIsImluc3RhbGxlZENodW5rcyIsInB1c2giLCJtb2R1bGVzIiwicGFyZW50SnNvbnBGdW5jdGlvbiIsInNoaWZ0IiwiaW5zdGFsbGVkTW9kdWxlcyIsIjAiLCJfX3dlYnBhY2tfcmVxdWlyZV9fIiwiZXhwb3J0cyIsIm1vZHVsZSIsImwiLCJlIiwicHJvbWlzZXMiLCJpbnN0YWxsZWRDaHVua0RhdGEiLCJwcm9taXNlIiwiUHJvbWlzZSIsInJlc29sdmUiLCJyZWplY3QiLCJvblNjcmlwdENvbXBsZXRlIiwic2NyaXB0IiwiZG9jdW1lbnQiLCJjcmVhdGVFbGVtZW50IiwiY2hhcnNldCIsInRpbWVvdXQiLCJuYyIsInNldEF0dHJpYnV0ZSIsInNyYyIsInAiLCJqc29ucFNjcmlwdFNyYyIsImVycm9yIiwiRXJyb3IiLCJldmVudCIsIm9uZXJyb3IiLCJvbmxvYWQiLCJjbGVhclRpbWVvdXQiLCJjaHVuayIsImVycm9yVHlwZSIsInR5cGUiLCJyZWFsU3JjIiwidGFyZ2V0IiwibWVzc2FnZSIsIm5hbWUiLCJyZXF1ZXN0IiwidW5kZWZpbmVkIiwic2V0VGltZW91dCIsImhlYWQiLCJhcHBlbmRDaGlsZCIsImFsbCIsIm0iLCJjIiwiZCIsImdldHRlciIsIm8iLCJkZWZpbmVQcm9wZXJ0eSIsImVudW1lcmFibGUiLCJnZXQiLCJyIiwiU3ltYm9sIiwidG9TdHJpbmdUYWciLCJ2YWx1ZSIsInQiLCJtb2RlIiwiX19lc01vZHVsZSIsIm5zIiwiY3JlYXRlIiwia2V5IiwiYmluZCIsIm4iLCJvYmplY3QiLCJwcm9wZXJ0eSIsIm9lIiwiZXJyIiwiY29uc29sZSIsImpzb25wQXJyYXkiLCJ3aW5kb3ciLCJvbGRKc29ucEZ1bmN0aW9uIiwic2xpY2UiLCJzIiwid3JhcCIsInJlbW92ZU5vZGVzRnJvbVRlbXBsYXRlIiwidGVtcGxhdGUiLCJub2Rlc1RvUmVtb3ZlIiwiZWxlbWVudCIsImNvbnRlbnQiLCJwYXJ0cyIsIndhbGtlciIsImNyZWF0ZVRyZWVXYWxrZXIiLCJwYXJ0SW5kZXgiLCJuZXh0QWN0aXZlSW5kZXhJblRlbXBsYXRlUGFydHMiLCJwYXJ0Iiwibm9kZUluZGV4IiwicmVtb3ZlQ291bnQiLCJub2Rlc1RvUmVtb3ZlSW5UZW1wbGF0ZSIsImN1cnJlbnRSZW1vdmluZ05vZGUiLCJuZXh0Tm9kZSIsIm5vZGUiLCJjdXJyZW50Tm9kZSIsInByZXZpb3VzU2libGluZyIsImhhcyIsImluZGV4IiwiZm9yRWFjaCIsInBhcmVudE5vZGUiLCJyZW1vdmVDaGlsZCIsImNvdW50Tm9kZXMiLCJjb3VudCIsIm5vZGVUeXBlIiwic3RhcnRJbmRleCIsImdldFRlbXBsYXRlQ2FjaGVLZXkiLCJzY29wZU5hbWUiLCJjb21wYXRpYmxlU2hhZHlDU1NWZXJzaW9uIiwiU2hhZHlDU1MiLCJwcmVwYXJlVGVtcGxhdGVEb20iLCJ3YXJuIiwic2hhZHlUZW1wbGF0ZUZhY3RvcnkiLCJyZXN1bHQiLCJjYWNoZUtleSIsInRlbXBsYXRlQ2FjaGUiLCJzdHJpbmdzQXJyYXkiLCJXZWFrTWFwIiwia2V5U3RyaW5nIiwiTWFwIiwic2V0Iiwic3RyaW5ncyIsImpvaW4iLCJnZXRUZW1wbGF0ZUVsZW1lbnQiLCJURU1QTEFURV9UWVBFUyIsInNoYWR5UmVuZGVyU2V0IiwiU2V0IiwicHJlcGFyZVRlbXBsYXRlU3R5bGVzIiwicmVuZGVyZWRET00iLCJhZGQiLCJzdHlsZXMiLCJxdWVyeVNlbGVjdG9yQWxsIiwiY29uZGVuc2VkU3R5bGUiLCJzdHlsZSIsInRleHRDb250ZW50IiwidGVtcGxhdGVzIiwiQXJyYXkiLCJmcm9tIiwicmVtb3ZlU3R5bGVzRnJvbUxpdFRlbXBsYXRlcyIsInJlZk5vZGUiLCJpbnNlcnRDb3VudCIsIndhbGtlckluZGV4IiwiaW5zZXJ0QmVmb3JlIiwiaW5zZXJ0Tm9kZUludG9UZW1wbGF0ZSIsImZpcnN0Q2hpbGQiLCJuYXRpdmVTaGFkb3ciLCJxdWVyeVNlbGVjdG9yIiwiY2xvbmVOb2RlIiwicmVtb3ZlcyIsIkpTQ29tcGlsZXJfcmVuYW1lUHJvcGVydHkiLCJwcm9wIiwiX29iaiIsImRlZmF1bHRDb252ZXJ0ZXIiLCJCb29sZWFuIiwiSlNPTiIsInN0cmluZ2lmeSIsIk51bWJlciIsInBhcnNlIiwibm90RXF1YWwiLCJvbGQiLCJkZWZhdWx0UHJvcGVydHlEZWNsYXJhdGlvbiIsImF0dHJpYnV0ZSIsIlN0cmluZyIsImNvbnZlcnRlciIsInJlZmxlY3QiLCJoYXNDaGFuZ2VkIiwibWljcm90YXNrUHJvbWlzZSIsIlVwZGF0aW5nRWxlbWVudCIsIkhUTUxFbGVtZW50Iiwic3VwZXIiLCJ0aGlzIiwiX3VwZGF0ZVN0YXRlIiwiX2luc3RhbmNlUHJvcGVydGllcyIsIl91cGRhdGVQcm9taXNlIiwiX2hhc0Nvbm5lY3RlZFJlc29sdmVyIiwiX2NoYW5nZWRQcm9wZXJ0aWVzIiwiX3JlZmxlY3RpbmdQcm9wZXJ0aWVzIiwiaW5pdGlhbGl6ZSIsImZpbmFsaXplIiwiYXR0cmlidXRlcyIsIl9jbGFzc1Byb3BlcnRpZXMiLCJ2IiwiYXR0ciIsIl9hdHRyaWJ1dGVOYW1lRm9yUHJvcGVydHkiLCJfYXR0cmlidXRlVG9Qcm9wZXJ0eU1hcCIsInN1cGVyUHJvcGVydGllcyIsImdldFByb3RvdHlwZU9mIiwiayIsIm9wdGlvbnMiLCJfZW5zdXJlQ2xhc3NQcm9wZXJ0aWVzIiwibm9BY2Nlc3NvciIsIm9sZFZhbHVlIiwiX3JlcXVlc3RVcGRhdGUiLCJjb25maWd1cmFibGUiLCJmaW5hbGl6ZWQiLCJzdXBlckN0b3IiLCJwcm9wcyIsInByb3BlcnRpZXMiLCJwcm9wS2V5cyIsImdldE93blByb3BlcnR5TmFtZXMiLCJnZXRPd25Qcm9wZXJ0eVN5bWJvbHMiLCJjcmVhdGVQcm9wZXJ0eSIsInRvTG93ZXJDYXNlIiwiZnJvbUF0dHJpYnV0ZSIsInRvQXR0cmlidXRlIiwiX3NhdmVJbnN0YW5jZVByb3BlcnRpZXMiLCJjb25zdHJ1Y3RvciIsIl92IiwiX2F0dHJpYnV0ZVRvUHJvcGVydHkiLCJjdG9yIiwiYXR0clZhbHVlIiwiX3Byb3BlcnR5VmFsdWVUb0F0dHJpYnV0ZSIsInJlbW92ZUF0dHJpYnV0ZSIsInByb3BOYW1lIiwiX3Byb3BlcnR5VmFsdWVGcm9tQXR0cmlidXRlIiwic2hvdWxkUmVxdWVzdFVwZGF0ZSIsIl92YWx1ZUhhc0NoYW5nZWQiLCJfaGFzUmVxdWVzdGVkVXBkYXRlIiwiX2VucXVldWVVcGRhdGUiLCJ1cGRhdGVDb21wbGV0ZSIsInByZXZpb3VzVXBkYXRlUHJvbWlzZSIsInJlcyIsInJlaiIsIl9oYXNDb25uZWN0ZWQiLCJwZXJmb3JtVXBkYXRlIiwiX2FwcGx5SW5zdGFuY2VQcm9wZXJ0aWVzIiwic2hvdWxkVXBkYXRlIiwiY2hhbmdlZFByb3BlcnRpZXMiLCJ1cGRhdGUiLCJfbWFya1VwZGF0ZWQiLCJmaXJzdFVwZGF0ZWQiLCJ1cGRhdGVkIiwic2l6ZSIsIl9wcm9wZXJ0eVRvQXR0cmlidXRlIiwic3VwcG9ydHNBZG9wdGluZ1N0eWxlU2hlZXRzIiwiRG9jdW1lbnQiLCJDU1NTdHlsZVNoZWV0IiwiY29uc3RydWN0aW9uVG9rZW4iLCJDU1NSZXN1bHQiLCJjc3NUZXh0Iiwic2FmZVRva2VuIiwiX3N0eWxlU2hlZXQiLCJyZXBsYWNlU3luYyIsImNzcyIsInZhbHVlcyIsInJlZHVjZSIsImFjYyIsImlkeCIsInRleHRGcm9tQ1NTUmVzdWx0IiwiZmxhdHRlblN0eWxlcyIsImZsYXQiLCJJbmZpbml0eSIsImFycmF5RmxhdCIsImlzQXJyYXkiLCJfc3R5bGVzIiwiX2dldFVuaXF1ZVN0eWxlcyIsInVzZXJTdHlsZXMiLCJyZWR1Y2VSaWdodCIsInVuc2hpZnQiLCJyZW5kZXJSb290IiwiY3JlYXRlUmVuZGVyUm9vdCIsIlNoYWRvd1Jvb3QiLCJhZG9wdFN0eWxlcyIsImF0dGFjaFNoYWRvdyIsImFkb3B0ZWRTdHlsZVNoZWV0cyIsIm1hcCIsInN0eWxlU2hlZXQiLCJfbmVlZHNTaGltQWRvcHRlZFN0eWxlU2hlZXRzIiwiU2NvcGluZ1NoaW0iLCJwcmVwYXJlQWRvcHRlZENzc1RleHQiLCJsb2NhbE5hbWUiLCJjb25uZWN0ZWRDYWxsYmFjayIsImhhc1VwZGF0ZWQiLCJzdHlsZUVsZW1lbnQiLCJ0ZW1wbGF0ZVJlc3VsdCIsInJlbmRlciIsImV2ZW50Q29udGV4dCIsImNvbnRhaW5lciIsImhhc1JlbmRlcmVkIiwibmVlZHNTY29waW5nIiwiZmlyc3RTY29wZVJlbmRlciIsInJlbmRlckNvbnRhaW5lciIsImNyZWF0ZURvY3VtZW50RnJhZ21lbnQiLCJhc3NpZ24iLCJ0ZW1wbGF0ZUZhY3RvcnkiLCJkZWxldGUiLCJob3N0IiwiaXNQYXRoIiwicGF0aCIsImluZGV4T2YiLCJyb290IiwiZG90SW5kZXgiLCJpc0FuY2VzdG9yIiwiYmFzZSIsImlzRGVzY2VuZGFudCIsInRyYW5zbGF0ZSIsIm5ld0Jhc2UiLCJtYXRjaGVzIiwibm9ybWFsaXplIiwiYXJncyIsInRvU3RyaW5nIiwic3BsaXQiLCJqIiwiaW5mbyIsImxhc3QiLCJMaXRlcmFsU3RyaW5nIiwic3RyaW5nIiwibGl0ZXJhbFZhbHVlIiwiaHRtbCIsImlubmVySFRNTCIsIkhUTUxUZW1wbGF0ZUVsZW1lbnQiLCJodG1sVmFsdWUiLCJpc1Nsb3QiLCJGbGF0dGVuZWROb2Rlc09ic2VydmVyIiwid3JhcHBlZCIsImFzc2lnbmVkTm9kZXMiLCJmbGF0dGVuIiwiY2hpbGROb2RlcyIsImEiLCJiIiwiY29uY2F0IiwiY2FsbGJhY2siLCJfc2hhZHlDaGlsZHJlbk9ic2VydmVyIiwiX25hdGl2ZUNoaWxkcmVuT2JzZXJ2ZXIiLCJfY29ubmVjdGVkIiwiX3RhcmdldCIsIl9lZmZlY3RpdmVOb2RlcyIsIl9vYnNlcnZlciIsIl9zY2hlZHVsZWQiLCJfYm91bmRTY2hlZHVsZSIsIl9zY2hlZHVsZSIsImNvbm5lY3QiLCJfbGlzdGVuU2xvdHMiLCJjaGlsZHJlbiIsIlNoYWR5RE9NIiwib2JzZXJ2ZUNoaWxkcmVuIiwibXV0YXRpb25zIiwiX3Byb2Nlc3NNdXRhdGlvbnMiLCJNdXRhdGlvbk9ic2VydmVyIiwib2JzZXJ2ZSIsImNoaWxkTGlzdCIsIl91bmxpc3RlblNsb3RzIiwidW5vYnNlcnZlQ2hpbGRyZW4iLCJkaXNjb25uZWN0IiwicnVuIiwiZmx1c2giLCJfcHJvY2Vzc1Nsb3RNdXRhdGlvbnMiLCJtdXRhdGlvbiIsImFkZGVkTm9kZXMiLCJyZW1vdmVkTm9kZXMiLCJ0YWtlUmVjb3JkcyIsIm5ld05vZGVzIiwiZ2V0RmxhdHRlbmVkTm9kZXMiLCJzcGxpY2VzIiwicmVtb3ZlZCIsImFkZGVkQ291bnQiLCJkaWRGbHVzaCIsIm5vZGVMaXN0IiwiYWRkRXZlbnRMaXN0ZW5lciIsInJlbW92ZUV2ZW50TGlzdGVuZXIiLCJFbGVtZW50Iiwibm9ybWFsaXplZE1hdGNoZXNTZWxlY3RvciIsIm1hdGNoZXNTZWxlY3RvciIsIm1vek1hdGNoZXNTZWxlY3RvciIsIm1zTWF0Y2hlc1NlbGVjdG9yIiwib01hdGNoZXNTZWxlY3RvciIsIndlYmtpdE1hdGNoZXNTZWxlY3RvciIsInNlbGVjdG9yIiwib2JzZXJ2ZXJIYW5kbGUiLCJjb250YWlucyIsImRvYyIsIm93bmVyRG9jdW1lbnQiLCJnZXRSb290Tm9kZSIsImlwJCIsImFzc2lnbmVkU2xvdCIsImRlZXAiLCJpbXBvcnROb2RlIiwiYyQiLCJnZXRFZmZlY3RpdmVDaGlsZE5vZGVzIiwibGlzdCIsIk5vZGUiLCJFTEVNRU5UX05PREUiLCJfYWN0aXZlRWxlbWVudCIsImFjdGl2ZUVsZW1lbnQiLCJmb3J3YXJkUmVhZE9ubHlQcm9wZXJ0aWVzIiwicHJvdG8iLCJFdmVudEFwaSIsImNvbXBvc2VkUGF0aCIsInJlcGxhY2VDaGlsZCIsImxhc3RDaGlsZCIsIm5leHRTaWJsaW5nIiwiZmlyc3RFbGVtZW50Q2hpbGQiLCJsYXN0RWxlbWVudENoaWxkIiwibmV4dEVsZW1lbnRTaWJsaW5nIiwicHJldmlvdXNFbGVtZW50U2libGluZyIsImNsYXNzTGlzdCIsIkRvbUFwaUltcGwiLCJXcmFwcGVyIiwiZGVmaW5lUHJvcGVydGllcyIsImxvY2FsVGFyZ2V0IiwiY3VycmVudFRhcmdldCIsIm1ldGhvZHMiLCJtZXRob2QiLCJhcHBseSIsImFyZ3VtZW50cyIsImZvcndhcmRNZXRob2RzIiwiZm9yd2FyZFByb3BlcnRpZXMiLCJkb20iLCJvYmoiLCJoZWxwZXIiLCJFdmVudCIsInVzZVNoYWRvdyIsIm5hdGl2ZUNzcyIsImN1c3RvbUVsZW1lbnRzIiwicm9vdFBhdGgiLCJiYXNlVVJJIiwibG9jYXRpb24iLCJocmVmIiwic2FuaXRpemVET01WYWx1ZSIsIlBvbHltZXIiLCJwYXNzaXZlVG91Y2hHZXN0dXJlcyIsInNldFBhc3NpdmVUb3VjaEdlc3R1cmVzIiwidXNlUGFzc2l2ZSIsInN0cmljdFRlbXBsYXRlUG9saWN5IiwiYWxsb3dUZW1wbGF0ZUZyb21Eb21Nb2R1bGUiLCJsZWdhY3lPcHRpbWl6YXRpb25zIiwic3luY0luaXRpYWxSZW5kZXIiLCJtdXRhYmxlUHJvcGVydHlDaGFuZ2UiLCJpbnN0IiwibXV0YWJsZURhdGEiLCJpc09iamVjdCIsIl9fZGF0YVRlbXAiLCJzaG91bGRDaGFuZ2UiLCJNdXRhYmxlRGF0YSIsInN1cGVyQ2xhc3MiLCJPcHRpb25hbE11dGFibGVEYXRhIiwiX211dGFibGVQcm9wZXJ0eUNoYW5nZSIsIm5ld0luc3RhbmNlIiwiSFRNTFRlbXBsYXRlRWxlbWVudEV4dGVuc2lvbiIsIndyaXRhYmxlIiwiRGF0YVRlbXBsYXRlIiwiTXV0YWJsZURhdGFUZW1wbGF0ZSIsInRlbXBsYXRlSW5zdGFuY2VCYXNlIiwiX2NvbmZpZ3VyZVByb3BlcnRpZXMiLCJfc3RhbXBUZW1wbGF0ZSIsIl9fZGF0YUhvc3QiLCJfX3RlbXBsYXRpemVJbnN0YW5jZSIsIl9fdGVtcGxhdGl6ZU93bmVyIiwiX19oaWRlVGVtcGxhdGVDaGlsZHJlbl9fIiwiX3Nob3dIaWRlQ2hpbGRyZW4iLCJfX3RlbXBsYXRpemVPcHRpb25zIiwiaW5zdGFuY2VQcm9wcyIsIl9lbmFibGVQcm9wZXJ0aWVzIiwiZm9yd2FyZEhvc3RQcm9wIiwiaHByb3AiLCJfX2hvc3RQcm9wcyIsIl9zZXRQZW5kaW5nUHJvcGVydHkiLCJpcHJvcCIsIl9zZXRQZW5kaW5nUHJvcGVydHlPclBhdGgiLCJfZW5xdWV1ZUNsaWVudCIsImV2ZW50TmFtZSIsImhhbmRsZXIiLCJfbWV0aG9kSG9zdCIsInBhcmVudE1vZGVsIiwiX2FkZEV2ZW50TGlzdGVuZXJUb05vZGUiLCJtb2RlbCIsInRlbXBsYXRlSG9zdCIsImhpZGUiLCJURVhUX05PREUiLCJfX3BvbHltZXJUZXh0Q29udGVudF9fIiwiX19wb2x5bWVyUmVwbGFjZWRfXyIsImNyZWF0ZUNvbW1lbnQiLCJyZXBsYWNlIiwiX19wb2x5bWVyRGlzcGxheV9fIiwiZGlzcGxheSIsIl9zZXRVbm1hbmFnZWRQcm9wZXJ0eVRvTm9kZSIsIl9fcGFyZW50TW9kZWwiLCJNdXRhYmxlVGVtcGxhdGVJbnN0YW5jZUJhc2UiLCJmaW5kTWV0aG9kSG9zdCIsImNyZWF0ZVRlbXBsYXRpemVyQ2xhc3MiLCJ0ZW1wbGF0ZUluZm8iLCJ0ZW1wbGF0aXplckJhc2UiLCJ0ZW1wbGF0aXplIiwibWl4aW4iLCJrbGFzcyIsIl9iaW5kVGVtcGxhdGUiLCJob3N0UHJvcHMiLCJ1c2VyTm90aWZ5SW5zdGFuY2VQcm9wIiwibm90aWZ5SW5zdGFuY2VQcm9wIiwiX2FkZFByb3BlcnR5RWZmZWN0IiwiUFJPUEVSVFlfRUZGRUNUX1RZUEVTIiwiTk9USUZZIiwiZm4iLCJjcmVhdGVOb3RpZnlJbnN0YW5jZVByb3BFZmZlY3QiLCJhZGROb3RpZnlFZmZlY3RzIiwiYWRkUHJvcGFnYXRlRWZmZWN0cyIsInVzZXJGb3J3YXJkSG9zdFByb3AiLCJ0ZW1wbGF0aXplVGVtcGxhdGVDbGFzcyIsInRlbXBsYXRpemVkQmFzZSIsIlBST1BBR0FURSIsImNyZWF0ZUZvcndhcmRIb3N0UHJvcEVmZmVjdCIsIl9jcmVhdGVOb3RpZnlpbmdQcm9wZXJ0eSIsInNldFByb3RvdHlwZU9mIiwidXBncmFkZVRlbXBsYXRlIiwiX19kYXRhUHJvdG8iLCJfX2RhdGEiLCJfX2RhdGFQZW5kaW5nIiwiX19kYXRhT2xkIiwiaG9zdFByb3AiLCJzdWJzdHJpbmciLCJpbnN0UHJvcCIsIm93bmVyIiwiX3BhcnNlVGVtcGxhdGUiLCJiYXNlQ2xhc3MiLCJ0ZW1wbGF0aXplSW5zdGFuY2VDbGFzcyIsIm1vZGVsRm9yRWxlbWVudCIsImRvbUJpbmRCYXNlIiwiZGVmaW5lIiwiJCIsIl9fY2hpbGRyZW4iLCJfX3JlbW92ZUNoaWxkcmVuIiwib2JzZXJ2ZXIiLCJfX2luc2VydENoaWxkcmVuIiwiZGlzcGF0Y2hFdmVudCIsIkN1c3RvbUV2ZW50IiwiYnViYmxlcyIsImNvbXBvc2VkIiwiZG9tUmVwZWF0QmFzZSIsIml0ZW1zIiwiYXMiLCJpbmRleEFzIiwiaXRlbXNJbmRleEFzIiwic29ydCIsIkZ1bmN0aW9uIiwiZmlsdGVyIiwiZGVsYXkiLCJyZW5kZXJlZEl0ZW1Db3VudCIsIm5vdGlmeSIsInJlYWRPbmx5IiwiaW5pdGlhbENvdW50IiwidGFyZ2V0RnJhbWVyYXRlIiwiX3RhcmdldEZyYW1lVGltZSIsImNvbXB1dGVkIiwiX19pbnN0YW5jZXMiLCJfX2xpbWl0IiwiX19wb29sIiwiX19yZW5kZXJEZWJvdW5jZXIiLCJfX2l0ZW1zSWR4VG9JbnN0SWR4IiwiX19jaHVua0NvdW50IiwiX19sYXN0Q2h1bmtUaW1lIiwiX19zb3J0Rm4iLCJfX2ZpbHRlckZuIiwiX19vYnNlcnZlUGF0aHMiLCJfX2N0b3IiLCJfX2lzRGV0YWNoZWQiLCJkaXNjb25uZWN0ZWRDYWxsYmFjayIsIl9fZGV0YWNoSW5zdGFuY2UiLCJ3cmFwcGVkUGFyZW50IiwiX19hdHRhY2hJbnN0YW5jZSIsIl9fcmVuZGVyIiwiaSQiLCJub3RpZnlQYXRoIiwiZnVuY3Rpb25Pck1ldGhvZE5hbWUiLCJtZXRob2ROYW1lIiwiX19nZXRNZXRob2RIb3N0IiwiX19mdW5jdGlvbkZyb21Qcm9wZXJ0eVZhbHVlIiwiX19kZWJvdW5jZVJlbmRlciIsInJhdGUiLCJNYXRoIiwiY2VpbCIsInBlcmZvcm1hbmNlIiwibm93IiwiX19yZXF1ZXN0UmVuZGVyQ2h1bmsiLCJyZXF1ZXN0QW5pbWF0aW9uRnJhbWUiLCJfX3JlbmRlckNodW5rIiwiY3VyckNodW5rVGltZSIsInJhdGlvIiwicm91bmQiLCJjaGFuZ2UiLCJfX2hhbmRsZUl0ZW1QYXRoIiwiX19pbml0aWFsaXplQ2h1bmtpbmciLCJwYXRocyIsImRlYm91bmNlIiwiYWZ0ZXIiLCJfX2Vuc3VyZVRlbXBsYXRpemVkIiwiX19hcHBseUZ1bGxSZWZyZXNoIiwiX3NldFJlbmRlcmVkSXRlbUNvdW50IiwiX190cnlSZW5kZXJDaHVuayIsImlzbnRJZHhUb0l0ZW1zSWR4IiwiYXJyYXkiLCJpdGVtc0lkeFRvSW5zdElkeCIsImluc3RJZHgiLCJsaW1pdCIsIm1pbiIsIml0ZW1JZHgiLCJpdGVtIiwiX2ZsdXNoUHJvcGVydGllcyIsIl9faW5zZXJ0SW5zdGFuY2UiLCJfX2RldGFjaEFuZFJlbW92ZUluc3RhbmNlIiwid3JhcHBlZFJvb3QiLCJlbCIsInBhcmVudCIsInNwbGljZSIsInBvcCIsIl9fc3RhbXBJbnN0YW5jZSIsImJlZm9yZVJvdyIsImJlZm9yZU5vZGUiLCJoaWRkZW4iLCJpdGVtc1BhdGgiLCJkb3QiLCJpdGVtc0lkeCIsInBhcnNlSW50IiwiaXRlbVN1YlBhdGgiLCJfX2hhbmRsZU9ic2VydmVkUGF0aHMiLCJpdGVtUGF0aCIsImluc3RhbmNlIiwiaXMiLCJpZiIsInJlc3RhbXAiLCJfX2ludmFsaWRQcm9wcyIsIl9faW5zdGFuY2UiLCJfbGFzdElmIiwiRE9DVU1FTlRfRlJBR01FTlRfTk9ERSIsIl9fdGVhcmRvd25JbnN0YW5jZSIsIl9fZW5zdXJlSW5zdGFuY2UiLCJfX3N5bmNIb3N0UHJvcGVydGllcyIsImJhc2VBcnJheVNlbGVjdG9yIiwiZWxlbWVudEJhc2UiLCJtdWx0aSIsInNlbGVjdGVkIiwic2VsZWN0ZWRJdGVtIiwidG9nZ2xlIiwiX19sYXN0SXRlbXMiLCJfX2xhc3RNdWx0aSIsIl9fc2VsZWN0ZWRNYXAiLCJpdGVtc0luZm8iLCJuZXdJdGVtcyIsImxhc3RJdGVtcyIsImNsZWFyU2VsZWN0aW9uIiwiX19hcHBseVNwbGljZXMiLCJpbmRleFNwbGljZXMiLCJfX2Rlc2VsZWN0Q2hhbmdlZElkeCIsIl9fdXBkYXRlTGlua3MiLCJzaWR4IiwiX19kYXRhTGlua2VkUGF0aHMiLCJsaW5rUGF0aHMiLCJpc1NlbGVjdGVkIiwiX19zZWxlY3RlZEluZGV4Rm9ySXRlbUluZGV4IiwiZGVzZWxlY3QiLCJzZWxlY3RJbmRleCIsImRlc2VsZWN0SW5kZXgiLCJjbGVhciIsIkFycmF5U2VsZWN0b3IiLCJjdXN0b21TdHlsZUludGVyZmFjZSIsImVsZW1lbnROYW1lIiwiZWxlbWVudEV4dGVuZHMiLCJwcm9jZXNzU3R5bGVzIiwiYm9keSIsImdldENvbXB1dGVkU3R5bGVWYWx1ZSIsImNzc0J1aWxkIiwiZGlzYWJsZVJ1bnRpbWUiLCJDdXN0b21TdHlsZUludGVyZmFjZSIsIl9zdHlsZSIsImFkZEN1c3RvbVN0eWxlIiwiaW5jbHVkZSIsImdldEF0dHJpYnV0ZSIsIkJhc2UiLCJCYXNlTGl0Iiwic2hhZG93Um9vdCIsImdldEVsZW1lbnRCeUlkIiwiaWQiLCJkZXRhaWwiLCJyZXF1ZXN0VXBkYXRlIiwidmFsIiwiZnVuY3Rpb25Ub0NoZWNrIiwia2V5cyIsImV2ZW50VmFsIiwic2NoZW1hIiwicExpc3QiLCJsZW4iLCJlbGVtIiwibG9nIiwic2Nyb2xsVG9ZIiwic2Nyb2xsVGFyZ2V0WSIsInRpbWUiLCJlYXNpbmciLCJPcHRpY0FwcCIsIlNjcm9sbFRhcmdldCIsImN1cnJlbnRUaW1lIiwiYW5pbWF0aW9uVGltZSIsImVhc2luZ0VxdWF0aW9ucyIsImVhc2VPdXRTaW5lIiwicG9zIiwic2luIiwiUEkiLCJlYXNlSW5PdXRTaW5lIiwiY29zIiwiZWFzZUluT3V0UXVpbnQiLCJwb3ciLCJ0aWNrIiwic2Nyb2xsVG9wIiwicGFnZVlPZmZzZXQiLCJuZXdQb3NpdGlvbiIsImNsYXNzZXNMaXN0Iiwib3B0aW9uIiwiY2xhc3NlcyIsImNsYXNzTmFtZSIsInJlbW92ZSIsIm1hcmtlciIsInJhbmRvbSIsIm5vZGVNYXJrZXIiLCJtYXJrZXJSZWdleCIsIlJlZ0V4cCIsImJvdW5kQXR0cmlidXRlU3VmZml4IiwiVGVtcGxhdGUiLCJfcHJlcGFyZVRlbXBsYXRlIiwibGFzdFBhcnRJbmRleCIsImhhc0F0dHJpYnV0ZXMiLCJzdHJpbmdGb3JQYXJ0IiwibGFzdEF0dHJpYnV0ZU5hbWVSZWdleCIsImV4ZWMiLCJhdHRyaWJ1dGVMb29rdXBOYW1lIiwidGFnTmFtZSIsImxhc3RJbmRleCIsImNyZWF0ZU1hcmtlciIsImNyZWF0ZVRleHROb2RlIiwiaXNUZW1wbGF0ZVBhcnRBY3RpdmUiLCJkZWR1cGVJZCIsIk1peGluRnVuY3Rpb24iLCJfX21peGluQXBwbGljYXRpb25zIiwiX19taXhpblNldCIsImRlZHVwaW5nTWl4aW4iLCJtaXhpbkFwcGxpY2F0aW9ucyIsIm1peGluRGVkdXBlSWQiLCJiYXNlU2V0IiwiZXh0ZW5kZWQiLCJtaXhpblNldCIsImxpZmVjeWNsZVByb3BzIiwiYXR0YWNoZWQiLCJkZXRhY2hlZCIsInJlYWR5IiwiY3JlYXRlZCIsImJlZm9yZVJlZ2lzdGVyIiwicmVnaXN0ZXJlZCIsImF0dHJpYnV0ZUNoYW5nZWQiLCJsaXN0ZW5lcnMiLCJob3N0QXR0cmlidXRlcyIsImV4Y2x1ZGVPbkluZm8iLCJiZWhhdmlvcnMiLCJfbm9BY2Nlc3NvcnMiLCJleGNsdWRlT25CZWhhdmlvcnMiLCJvYnNlcnZlcnMiLCJhcHBseUluZm8iLCJsaWZlY3ljbGUiLCJleGNsdWRlUHJvcHMiLCJzb3VyY2UiLCJub0FjY2Vzc29ycyIsInByb3BlcnR5TmFtZXMiLCJwZCIsImdldE93blByb3BlcnR5RGVzY3JpcHRvciIsImNvcHlQcm9wZXJ0aWVzIiwibWVyZ2VQcm9wZXJ0aWVzIiwidGFyZ2V0SW5mbyIsInNvdXJjZUluZm8iLCJHZW5lcmF0ZUNsYXNzRnJvbUluZm8iLCJiZWhhdmlvckxpc3QiLCJQb2x5bWVyR2VuZXJhdGVkIiwiY3JlYXRlUHJvcGVydGllcyIsImNyZWF0ZU9ic2VydmVycyIsIl9maW5hbGl6ZUNsYXNzIiwiZ2VuZXJhdGVkUHJvdG8iLCJfX2hhc1JlZ2lzdGVyRmluaXNoZWQiLCJfcmVnaXN0ZXJlZCIsImNvcHlQcm9wZXJ0aWVzVG9Qcm90byIsIl9hcHBseUxpc3RlbmVycyIsIl9hZGRNZXRob2RFdmVudExpc3RlbmVyVG9Ob2RlIiwiX2Vuc3VyZUF0dHJpYnV0ZSIsIl9lbnN1cmVBdHRyaWJ1dGVzIiwic3VwZXJCZWhhdmlvcnMiLCJmbGF0dGVuQmVoYXZpb3JzIiwiZXhjbHVkZSIsImFwcGx5QmVoYXZpb3JzIiwiZ2VuZXJhdGVkRnJvbSIsIkNsYXNzIiwibWljcm90YXNrQ3VyckhhbmRsZSIsIm1pY3JvdGFza0xhc3RIYW5kbGUiLCJtaWNyb3Rhc2tDYWxsYmFja3MiLCJtaWNyb3Rhc2tOb2RlQ29udGVudCIsIm1pY3JvdGFza05vZGUiLCJjYiIsImNoYXJhY3RlckRhdGEiLCJ0aW1lT3V0IiwiaGFuZGxlIiwiYW5pbWF0aW9uRnJhbWUiLCJjYW5jZWxBbmltYXRpb25GcmFtZSIsIm1pY3JvVGFzayIsIm5hdGl2ZUNzc1ZhcmlhYmxlc18iLCJjYWxjQ3NzVmFyaWFibGVzIiwic2V0dGluZ3MiLCJuYXZpZ2F0b3IiLCJ1c2VyQWdlbnQiLCJtYXRjaCIsIkNTUyIsInN1cHBvcnRzIiwibmF0aXZlQ3NzVmFyaWFibGVzIiwiaXNQcmltaXRpdmUiLCJBdHRyaWJ1dGVDb21taXR0ZXIiLCJkaXJ0eSIsIl9jcmVhdGVQYXJ0IiwiQXR0cmlidXRlUGFydCIsInRleHQiLCJpdGVyYXRvciIsIl9nZXRWYWx1ZSIsImNvbWl0dGVyIiwiY29tbWl0dGVyIiwiZGlyZWN0aXZlIiwiY29tbWl0IiwiTm9kZVBhcnQiLCJfcGVuZGluZ1ZhbHVlIiwic3RhcnROb2RlIiwiZW5kTm9kZSIsInJlZiIsIl9pbnNlcnQiLCJfY29tbWl0VGV4dCIsIl9jb21taXRUZW1wbGF0ZVJlc3VsdCIsIl9jb21taXROb2RlIiwiX2NvbW1pdEl0ZXJhYmxlIiwicHJvY2Vzc29yIiwiZnJhZ21lbnQiLCJfY2xvbmUiLCJpdGVtUGFydHMiLCJpdGVtUGFydCIsImFwcGVuZEludG9QYXJ0IiwiaW5zZXJ0QWZ0ZXJQYXJ0Iiwic2V0VmFsdWUiLCJCb29sZWFuQXR0cmlidXRlUGFydCIsIlByb3BlcnR5Q29tbWl0dGVyIiwic2luZ2xlIiwiUHJvcGVydHlQYXJ0IiwiZXZlbnRPcHRpb25zU3VwcG9ydGVkIiwiX2UiLCJFdmVudFBhcnQiLCJfYm91bmRIYW5kbGVFdmVudCIsImhhbmRsZUV2ZW50IiwibmV3TGlzdGVuZXIiLCJvbGRMaXN0ZW5lciIsInNob3VsZFJlbW92ZUxpc3RlbmVyIiwiY2FwdHVyZSIsIm9uY2UiLCJwYXNzaXZlIiwic2hvdWxkQWRkTGlzdGVuZXIiLCJfb3B0aW9ucyIsImdldE9wdGlvbnMiLCJub0NoYW5nZSIsIm5vdGhpbmciLCJEZWJvdW5jZXIiLCJfYXN5bmNNb2R1bGUiLCJfY2FsbGJhY2siLCJfdGltZXIiLCJhc3luY01vZHVsZSIsImRlYm91bmNlclF1ZXVlIiwiaXNBY3RpdmUiLCJfY2FuY2VsQXN5bmMiLCJjYW5jZWwiLCJkZWJvdW5jZXIiLCJzZXRDb25maWciLCJlbnF1ZXVlRGVib3VuY2VyIiwiZmx1c2hEZWJvdW5jZXJzIiwiaXNDRVBvbHlmaWxsIiwicG9seWZpbGxXcmFwRmx1c2hDYWxsYmFjayIsInJlcGFyZW50Tm9kZXMiLCJzdGFydCIsImVuZCIsImJlZm9yZSIsInJlbW92ZU5vZGVzIiwid29ya2luZ1VSTCIsInJlc29sdmVEb2MiLCJDU1NfVVJMX1JYIiwiQUJTX1VSTCIsInJlc29sdmVVcmwiLCJ1cmwiLCJ0ZXN0IiwidSIsIlVSTCIsInBhdGhuYW1lIiwiaW1wbGVtZW50YXRpb24iLCJjcmVhdGVIVE1MRG9jdW1lbnQiLCJhbmNob3IiLCJyZXNvbHZlQ3NzIiwicHJlIiwicG9zdCIsInBhdGhGcm9tVXJsIiwibGFzdEluZGV4T2YiLCJkZWZhdWx0VGVtcGxhdGVQcm9jZXNzb3IiLCJwcmVmaXgiLCJzaGFkeURPTSIsImRlYm91bmNlcnMiLCJWQVJfQVNTSUdOIiwiTUlYSU5fTUFUQ0giLCJNRURJQV9NQVRDSCIsIlRlbXBsYXRlUmVzdWx0IiwiZW5kSW5kZXgiLCJzdWJzdHIiLCJnZXRIVE1MIiwiU1ZHVGVtcGxhdGVSZXN1bHQiLCJzdmdFbGVtZW50IiwiY2FzZU1hcCIsIkRBU0hfVE9fQ0FNRUwiLCJDQU1FTF9UT19EQVNIIiwiZGFzaFRvQ2FtZWxDYXNlIiwiZGFzaCIsInRvVXBwZXJDYXNlIiwiY2FtZWxUb0Rhc2hDYXNlIiwiY2FtZWwiLCJ0ZW1wbGF0ZUNhY2hlcyIsImRpcmVjdGl2ZXMiLCJmIiwiaXNEaXJlY3RpdmUiLCJhcHBlbmRJbnRvIiwidXBkYXRlTmF0aXZlUHJvcGVydGllcyIsInJlbW92ZVByb3BlcnR5Iiwic2V0UHJvcGVydHkiLCJnZXRDb21wdXRlZFN0eWxlIiwiZ2V0UHJvcGVydHlWYWx1ZSIsInRyaW0iLCJkZXRlY3RNaXhpbiIsIlBvbHltZXJFbGVtZW50IiwiVGVtcGxhdGVJbnN0YW5jZSIsIl9wYXJ0cyIsIl9wcmVwYXJlSW5zdGFuY2UiLCJoYW5kbGVUZXh0RXhwcmVzc2lvbiIsImluc2VydEFmdGVyTm9kZSIsImhhbmRsZUF0dHJpYnV0ZUV4cHJlc3Npb25zIiwibm9kZU5hbWUiLCJhZG9wdE5vZGUiLCJ1cGdyYWRlIiwicmVnaXN0cmF0aW9ucyIsInN1cGVyUHJvcGVydGllc0NsYXNzIiwiUHJvcGVydGllc01peGluIiwib3duUHJvcGVydGllcyIsIm91dHB1dCIsIm5vcm1hbGl6ZVByb3BlcnRpZXMiLCJfX293blByb3BlcnRpZXMiLCJfcHJvcGVydGllcyIsIl9fb2JzZXJ2ZWRBdHRyaWJ1dGVzIiwiYXR0cmlidXRlTmFtZUZvclByb3BlcnR5IiwiX19maW5hbGl6ZWQiLCJfX3Byb3BlcnRpZXMiLCJfaW5pdGlhbGl6ZVByb3BlcnRpZXMiLCJidWlsdENTUyIsIkVsZW1lbnRNaXhpbiIsInBvbHltZXJFbGVtZW50QmFzZSIsIl9fb3duT2JzZXJ2ZXJzIiwiX3RlbXBsYXRlIiwiYWxsUHJvcHMiLCJfaGFzUmVhZE9ubHlFZmZlY3QiLCJfY3JlYXRlQ29tcHV0ZWRQcm9wZXJ0eSIsIl9jcmVhdGVSZWFkT25seVByb3BlcnR5IiwicmVmbGVjdFRvQXR0cmlidXRlIiwiX2hhc1JlZmxlY3RFZmZlY3QiLCJfY3JlYXRlUmVmbGVjdGVkUHJvcGVydHkiLCJfaGFzTm90aWZ5RWZmZWN0IiwiX2NyZWF0ZVByb3BlcnR5T2JzZXJ2ZXIiLCJfYWRkUHJvcGVydHlUb0F0dHJpYnV0ZU1hcCIsImR5bmFtaWNGbnMiLCJfY3JlYXRlTWV0aG9kT2JzZXJ2ZXIiLCJpbXBvcnQiLCJnZXRUZW1wbGF0ZUZyb21Eb21Nb2R1bGUiLCJtZXRhIiwiaW1wb3J0TWV0YSIsIl9pbXBvcnRQYXRoIiwiYXNzZXRwYXRoIiwiaW1wb3J0UGF0aCIsIl9maW5hbGl6ZVRlbXBsYXRlIiwicCQiLCJfX3Byb3BlcnR5RGVmYXVsdHMiLCJwcm9wZXJ0eURlZmF1bHRzIiwiX2hhc0FjY2Vzc29yIiwiX19wb2x5bWVyRmluYWxpemVkIiwidGVtcGxhdGVTdHlsZXMiLCJzdHlsZXNXaXRoSW1wb3J0cyIsImxpbmtlZFN0eWxlcyIsImZpcnN0VGVtcGxhdGVDaGlsZCIsIl9wcm9jZXNzU3R5bGVUZXh0IiwidGVtcGxhdGVTdHlsZUluZGV4IiwidGVtcGxhdGVTdHlsZSIsInByZXBhcmVUZW1wbGF0ZSIsInByb2Nlc3NFbGVtZW50U3R5bGVzIiwiX2F0dGFjaERvbSIsIl9yZWFkeUNsaWVudHMiLCJmbHVzaEluaXRpYWwiLCJzdHlsZVN1YnRyZWUiLCJub2RlSW5mbyIsIl9wYXJzZVRlbXBsYXRlQ29udGVudCIsImVmZmVjdCIsIl9hZGRUZW1wbGF0ZVByb3BlcnR5RWZmZWN0IiwiTm9kZUZpbHRlciIsIlNIT1dfQUxMIiwidGVtcGxhdGVFeHRlbnNpb25zIiwid3JhcFRlbXBsYXRlRXh0ZW5zaW9uIiwiZmluZFRlbXBsYXRlTm9kZSIsInBhcmVudEluZm8iLCJwYXJlbnRJbmRleCIsImFwcGx5SWRUb01hcCIsImFwcGx5RXZlbnRMaXN0ZW5lciIsImV2ZW50cyIsImUkIiwiYXBwbHlUZW1wbGF0ZUNvbnRlbnQiLCJfdGVtcGxhdGVJbmZvIiwiVGVtcGxhdGVTdGFtcCIsIm91dGVyVGVtcGxhdGVJbmZvIiwibm9kZUluZm9MaXN0Iiwic3RyaXBXaGl0ZVNwYWNlIiwiaGFzQXR0cmlidXRlIiwiX3BhcnNlVGVtcGxhdGVOb2RlIiwibm90ZWQiLCJoYXNJbnNlcnRpb25Qb2ludCIsIl9wYXJzZVRlbXBsYXRlTmVzdGVkVGVtcGxhdGUiLCJfcGFyc2VUZW1wbGF0ZUNoaWxkTm9kZXMiLCJfcGFyc2VUZW1wbGF0ZU5vZGVBdHRyaWJ1dGVzIiwibmV4dCIsImNoaWxkSW5mbyIsImluZm9JbmRleCIsImF0dHJzIiwiX3BhcnNlVGVtcGxhdGVOb2RlQXR0cmlidXRlIiwiZGVjb3JhdGUiLCJfX25vSW5zZXJ0aW9uUG9pbnQiLCJub2RlcyIsImNvbnRleHQiLCJjcmVhdGVOb2RlRXZlbnRIYW5kbGVyIiwiVFlQRVMiLCJDT01QVVRFIiwiUkVGTEVDVCIsIk9CU0VSVkUiLCJSRUFEX09OTFkiLCJjYXBpdGFsQXR0cmlidXRlUmVnZXgiLCJlbnN1cmVPd25FZmZlY3RNYXAiLCJlZmZlY3RzIiwicHJvdG9GeCIsImluc3RGeCIsInJ1bkVmZmVjdHMiLCJvbGRQcm9wcyIsImhhc1BhdGhzIiwiZXh0cmFBcmdzIiwicmFuIiwicnVuRWZmZWN0c0ZvclByb3BlcnR5IiwiZnhzIiwiZngiLCJsYXN0UnVuIiwicGF0aE1hdGNoZXNUcmlnZ2VyIiwidHJpZ2dlciIsInRyaWdnZXJQYXRoIiwic3RydWN0dXJlZCIsIndpbGRjYXJkIiwicnVuT2JzZXJ2ZXJFZmZlY3QiLCJjaGFuZ2VkUHJvcCIsImR5bmFtaWNGbiIsInJvb3RQcm9wZXJ0eSIsImRpc3BhdGNoTm90aWZ5RXZlbnQiLCJxdWV1ZVByb3BlcnR5IiwicnVuTm90aWZ5RWZmZWN0IiwicnVuUmVmbGVjdEVmZmVjdCIsImF0dHJOYW1lIiwicnVuQ29tcHV0ZWRFZmZlY3QiLCJydW5NZXRob2RFZmZlY3QiLCJjb21wdXRlZFByb3AiLCJtZXRob2RJbmZvIiwiX19kYXRhSGFzQWNjZXNzb3IiLCJhZGRCaW5kaW5nIiwia2luZCIsImxpdGVyYWwiLCJiaW5kaW5ncyIsImJpbmRpbmciLCJpc0NvbXBvdW5kIiwibmVnYXRlIiwibGlzdGVuZXJFdmVudCIsImxpc3RlbmVyTmVnYXRlIiwiY29tcG91bmRJbmRleCIsImFkZEVmZmVjdEZvckJpbmRpbmdQYXJ0IiwiZGVwZW5kZW5jaWVzIiwiZXZhbHVhdG9yIiwicGFyc2VBcmciLCJydW5CaW5kaW5nRWZmZWN0IiwiX19pc1Byb3BlcnR5RWZmZWN0c0NsaWVudCIsInN0b3JhZ2UiLCJfX2RhdGFDb21wb3VuZFN0b3JhZ2UiLCJjb21wdXRlQmluZGluZ1ZhbHVlIiwiX3ZhbHVlVG9Ob2RlQXR0cmlidXRlIiwiYXBwbHlCaW5kaW5nVmFsdWUiLCJfZXZhbHVhdGVCaW5kaW5nIiwic2V0dXBDb21wb3VuZFN0b3JhZ2UiLCJsaXRlcmFscyIsImFkZE5vdGlmeUxpc3RlbmVyIiwiZnJvbVByb3AiLCJ0b1BhdGgiLCJmcm9tUGF0aCIsIl9pbnZhbGlkYXRlUHJvcGVydGllcyIsImhhbmRsZU5vdGlmaWNhdGlvbiIsImNyZWF0ZU1ldGhvZEVmZmVjdCIsInNpZyIsImVmZmVjdEZuIiwic3RhdGljIiwiYXJnIiwiX21hcnNoYWxBcmdzIiwiZW1wdHlBcnJheSIsImJpbmRpbmdSZWdleCIsIk9QRU5fQlJBQ0tFVCIsImxpdGVyYWxGcm9tUGFydHMiLCJwYXJzZU1ldGhvZCIsImV4cHJlc3Npb24iLCJhcmdMaXN0IiwicmF3QXJnIiwicGFyc2VBcmdzIiwiZmMiLCJnZXRBcmdWYWx1ZSIsIm5vdGlmeVNwbGljZXMiLCJub3RpZnlTcGxpY2UiLCJwcm9wZXJ0eUVmZmVjdHNCYXNlIiwiX19kYXRhQ291bnRlciIsIl9fZGF0YUNsaWVudHNSZWFkeSIsIl9fZGF0YVBlbmRpbmdDbGllbnRzIiwiX19kYXRhVG9Ob3RpZnkiLCJfX2RhdGFIYXNQYXRocyIsIl9fZGF0YUNsaWVudHNJbml0aWFsaXplZCIsIl9fY29tcHV0ZUVmZmVjdHMiLCJfX3JlZmxlY3RFZmZlY3RzIiwiX19ub3RpZnlFZmZlY3RzIiwiX19wcm9wYWdhdGVFZmZlY3RzIiwiX19vYnNlcnZlRWZmZWN0cyIsIl9fcmVhZE9ubHkiLCJfX3RlbXBsYXRlSW5mbyIsImhvc3RTdGFjayIsInJlZ2lzdGVySG9zdCIsIl9jcmVhdGVQcm9wZXJ0eUFjY2Vzc29yIiwiX2hhc1Byb3BlcnR5RWZmZWN0Iiwic2hvdWxkTm90aWZ5IiwiaXNQYXRoTm90aWZpY2F0aW9uIiwiX3Nob3VsZFByb3BlcnR5Q2hhbmdlIiwibGlua3MiLCJsaW5rIiwiY29tcHV0ZUxpbmtlZFBhdGhzIiwicHJvcElzUGF0aCIsInByZXZQcm9wcyIsIl9fZGF0YVJlYWR5IiwiY2xpZW50IiwiX19lbmFibGVPckZsdXNoQ2xpZW50cyIsImNsaWVudHMiLCJfX2RhdGFFbmFibGVkIiwic2V0UmVhZE9ubHkiLCJfZmx1c2hDbGllbnRzIiwiY3VycmVudFByb3BzIiwiY2hhbmdlZFByb3BzIiwiY29tcHV0ZUVmZmVjdHMiLCJpbnB1dFByb3BzIiwicnVuQ29tcHV0ZWRFZmZlY3RzIiwibm90aWZ5UHJvcHMiLCJfcHJvcGFnYXRlUHJvcGVydHlDaGFuZ2VzIiwibm90aWZpZWQiLCJydW5Ob3RpZnlFZmZlY3RzIiwicHJvcGVydHlFZmZlY3RzIiwibmV4dFRlbXBsYXRlSW5mbyIsInRvIiwicmV0IiwiaGFkTGVuZ3RoIiwiZGVsZXRlQ291bnQiLCJmbG9vciIsInByb3BQYXRoIiwicHJvdGVjdGVkU2V0dGVyIiwiX3NldFByb3BlcnR5IiwicGF0aFZhbHVlIiwiaW5zdGFuY2VCaW5kaW5nIiwid2FzUHJlQm91bmQiLCJfX3RlbXBsYXRlSW5mb0xhc3QiLCJwcmV2aW91c1RlbXBsYXRlSW5mbyIsImJlZ2luSG9zdGluZyIsImVuZEhvc3RpbmciLCJzZXR1cEJpbmRpbmdzIiwiX3BhcnNlQmluZGluZ3MiLCJvcmlnTmFtZSIsImN1c3RvbUV2ZW50Iiwibm90aWZ5RXZlbnQiLCJjb2xvbiIsInNpZ25hdHVyZSIsInN0YWNrIiwic3RhY2tMZW4iLCJsY01vZHVsZXMiLCJzZXRNb2R1bGUiLCJmaW5kTW9kdWxlIiwiRG9tTW9kdWxlIiwibmFtZXNwYWNlIiwicmVnaXN0ZXIiLCJfX2Fzc2V0cGF0aCIsIkhUTUxJbXBvcnRzIiwiaW1wb3J0Rm9yRWxlbWVudCIsIlN0eWxlTm9kZSIsInBhcnNlQ3NzIiwic3MiLCJjb2RlIiwicmVwZWF0IiwiX2V4cGFuZFVuaWNvZGVFc2NhcGVzIiwiUlgiLCJtdWx0aXBsZVNwYWNlcyIsIkFUX1NUQVJUIiwiTUVESUFfU1RBUlQiLCJ0eXBlcyIsIk1FRElBX1JVTEUiLCJrZXlmcmFtZXNSdWxlIiwiS0VZRlJBTUVTX1JVTEUiLCJWQVJfU1RBUlQiLCJNSVhJTl9SVUxFIiwiU1RZTEVfUlVMRSIsInIkIiwiT1BFTl9CUkFDRSIsInByZXZpb3VzIiwiQ0xPU0VfQlJBQ0UiLCJsZXgiLCJjb21tZW50cyIsInBvcnQiLCJwcmVzZXJ2ZVByb3BlcnRpZXMiLCJydWxlcyIsIl9oYXNNaXhpblJ1bGVzIiwibWl4aW5BcHBseSIsInZhckFwcGx5IiwicmVtb3ZlQ3VzdG9tUHJvcEFwcGx5IiwiY3VzdG9tUHJvcCIsIm1peGluUHJvcCIsInJlbW92ZUN1c3RvbVByb3BBc3NpZ25tZW50IiwicmVtb3ZlQ3VzdG9tUHJvcHMiLCJzdHlsZVRleHRTZXQiLCJwcm9jZXNzVW5zY29wZWRTdHlsZSIsIm5ld1N0eWxlIiwiaXNVbnNjb3BlZFN0eWxlIiwidG9Dc3NUZXh0IiwiZm9yRWFjaFJ1bGUiLCJydWxlc0ZvclN0eWxlIiwic3R5bGVSdWxlQ2FsbGJhY2siLCJrZXlmcmFtZXNSdWxlQ2FsbGJhY2siLCJvbmx5QWN0aXZlUnVsZXMiLCJza2lwUnVsZXMiLCJtYXRjaE1lZGlhIiwiZmluZE1hdGNoaW5nUGFyZW4iLCJsZXZlbCIsImdldENzc0J1aWxkIiwiX19jc3NCdWlsZCIsImJ1aWxkQ29tbWVudCIsIkNvbW1lbnQiLCJjb21tZW50UGFydHMiLCJnZXRCdWlsZENvbW1lbnQiLCJyZW1vdmVCdWlsZENvbW1lbnQiLCJlbGVtZW50SGFzQnVpbHRDc3MiLCJBUFBMWV9OQU1FX0NMRUFOIiwiSU5JVElBTF9JTkhFUklUIiwiSU1QT1JUQU5UIiwiTWl4aW5NYXAiLCJfbWFwIiwiZGVwZW5kYW50cyIsImludmFsaWRDYWxsYmFjayIsIl9jdXJyZW50RWxlbWVudCIsIl9tZWFzdXJlRWxlbWVudCIsInN0eWxlVGV4dCIsInN0eWxlVGV4dFBhcnRzIiwiZ2F0aGVyU3R5bGVUZXh0IiwiX2dhdGhlcmVkU3R5bGUiLCJnYXRoZXJTdHlsZXMiLCJ0cmFuc2Zvcm1TdHlsZSIsImFzdCIsInRyYW5zZm9ybVJ1bGVzIiwicnVsZSIsInRyYW5zZm9ybVJ1bGUiLCJ0cmFuc2Zvcm1Dc3NUZXh0IiwibWF0Y2hUZXh0IiwicHJvcGVydHlOYW1lIiwidmFsdWVQcm9wZXJ0eSIsInZhbHVlTWl4aW4iLCJfcHJvZHVjZUNzc1Byb3BlcnRpZXMiLCJfY29uc3VtZUNzc1Byb3BlcnRpZXMiLCJzdGFydFJ1bGUiLCJ0b3BSdWxlIiwiZmFsbGJhY2tzIiwic2VlblN0YXJ0UnVsZSIsIl9jc3NUZXh0VG9NYXAiLCJtaXhpbk5hbWUiLCJhcHBseVBvcyIsImFmdGVyQXBwbHlQb3MiLCJ0ZXh0QmVmb3JlQXBwbHkiLCJ0ZXh0QWZ0ZXJBcHBseSIsImRlZmF1bHRzIiwiX2ZhbGxiYWNrc0Zyb21QcmV2aW91c1J1bGVzIiwicmVwbGFjZW1lbnQiLCJfYXRBcHBseVRvQ3NzUHJvcGVydGllcyIsInZhcnMiLCJtaXhpbkVudHJ5IiwiX2dldEluaXRpYWxWYWx1ZUZvclByb3BlcnR5IiwicmVwbGFjZUluaXRpYWxPckluaGVyaXQiLCJvdXQiLCJzcCIsIl9yZXBsYWNlSW5pdGlhbE9ySW5oZXJpdCIsInByb2Nlc3NWYXJpYWJsZUFuZEZhbGxiYWNrIiwic3RyIiwiaW5uZXIiLCJzdWZmaXgiLCJjb21tYSIsIm1peGluQXNQcm9wZXJ0aWVzIiwibWl4aW5WYWx1ZXMiLCJjb21iaW5lZFByb3BzIiwibmVlZFRvSW52YWxpZGF0ZSIsIl9pbnZhbGlkYXRlTWl4aW5FbnRyeSIsInRyYW5zZm9ybUN1c3RvbVN0eWxlIiwidHJhbnNmb3JtVGVtcGxhdGUiLCJDVVJSRU5UX1ZFUlNJT04iLCJORVhUX1ZFUlNJT04iLCJpbnZhbGlkYXRlIiwiaW52YWxpZGF0ZVRlbXBsYXRlIiwidGVtcGxhdGVJc1ZhbGlkIiwidGVtcGxhdGVJc1ZhbGlkYXRpbmciLCJzdGFydFZhbGlkYXRpbmdUZW1wbGF0ZSIsIl92YWxpZGF0aW5nIiwidGhlbiIsImFwcGx5U2hpbSIsImZsdXNoQ3VzdG9tU3R5bGVzIiwiZW5zdXJlIiwiY3MiLCJzaGFkb3dDaGlsZHJlbiIsInR5cGVFeHRlbnNpb24iLCJleHRlbmRzIiwiZ2V0SXNFeHRlbmRzIiwiYXBwbHlTaGltSW50ZXJmYWNlIiwic3R5bGVEb2N1bWVudCIsIkFwcGx5U2hpbSIsIkhPU1RfRElSIiwiRUxfRElSIiwiRElSX0NIRUNLIiwiU0hJTV9TSEFET1ciLCJESVJfSU5TVEFOQ0VTIiwiRE9DVU1FTlRfRElSIiwiZ2V0UlRMIiwiZG9jdW1lbnRFbGVtZW50Iiwic2V0UlRMIiwiX19hdXRvRGlyT3B0T3V0IiwidXBkYXRlRGlyZWN0aW9uIiwiRGlyTWl4aW4iLCJhdHRyaWJ1dGVGaWx0ZXIiLCJEaXIiLCJfcmVwbGFjZURpckluQ3NzVGV4dCIsIl9fYWN0aXZhdGVEaXIiLCJyZXBsYWNlZFRleHQiLCJyZWFkeVN0YXRlIiwic3R5bGVJbnRlcmZhY2UiLCJMZWdhY3lFbGVtZW50TWl4aW4iLCJsZWdhY3lFbGVtZW50QmFzZSIsIkRJUkVDVElPTl9NQVAiLCJMZWdhY3lFbGVtZW50IiwiaXNBdHRhY2hlZCIsIl9fYm91bmRMaXN0ZW5lcnMiLCJfZGVib3VuY2VycyIsImF0dHJpYnV0ZUNoYW5nZWRDYWxsYmFjayIsIl9zZXJpYWxpemVWYWx1ZSIsIl9kZXNlcmlhbGl6ZVZhbHVlIiwiYXBpIiwibiQiLCJfX3Byb3RvX18iLCJfY29udGVudEZvclRlbXBsYXRlIiwiY2FuY2VsYWJsZSIsImhibCIsImJsIiwiX3JlbW92ZUV2ZW50TGlzdGVuZXJGcm9tTm9kZSIsImRpcmVjdGlvbiIsInNsY3RyIiwiRG9jdW1lbnRGcmFnbWVudCIsImRvbUFwaSIsInF1ZXJ5RGlzdHJpYnV0ZWRFbGVtZW50cyIsImNuIiwidGMiLCJDT01NRU5UX05PREUiLCJnZXREaXN0cmlidXRlZE5vZGVzIiwiZ2V0Q29udGVudENoaWxkTm9kZXMiLCJzaG91bGRPYnNlcnZlIiwiam9iTmFtZSIsIndhaXQiLCJ3YWl0VGltZSIsInRhZyIsImVsdCIsInNldFByb3BlcnRpZXMiLCJib29sIiwidHJhbnNmb3JtVGV4dCIsIndlYmtpdFRyYW5zZm9ybSIsInRyYW5zZm9ybSIsIngiLCJ5IiwieiIsImFycmF5T3JQYXRoIiwiX2xvZ2dlciIsImltcG9ydE1vZHVsZSIsInN0eWxlRm9ySW1wb3J0IiwiaW1wb3J0RG9jIiwiaW1wb3J0Q3NzIiwic3R5bGVzRnJvbU1vZHVsZXMiLCJtb2R1bGVJZHMiLCJzdHlsZXNGcm9tTW9kdWxlIiwiX3N0eWxlc0Zyb21Nb2R1bGVJbXBvcnRzIiwic3R5bGVzRnJvbVRlbXBsYXRlIiwic2VsZiIsInN0eWxlc0Zyb21Nb2R1bGVJbXBvcnRzIiwidW5zY29wZWQiLCJfdW5zY29wZWRTdHlsZSIsImNzc0Zyb21Nb2R1bGVzIiwiY3NzRnJvbU1vZHVsZSIsIl9jc3NUZXh0IiwiX2Nzc0Zyb21Nb2R1bGVJbXBvcnRzIiwiY3NzRnJvbVRlbXBsYXRlIiwiSEFTX05BVElWRV9UQSIsInRvdWNoQWN0aW9uIiwiSEFORExFRF9PQkoiLCJUT1VDSF9BQ1RJT04iLCJNT1VTRV9FVkVOVFMiLCJNT1VTRV9XSElDSF9UT19CVVRUT05TIiwiTU9VU0VfSEFTX0JVVFRPTlMiLCJNb3VzZUV2ZW50IiwiYnV0dG9ucyIsImlzTW91c2VFdmVudCIsIlNVUFBPUlRTX1BBU1NJVkUiLCJQQVNTSVZFX1RPVUNIIiwib3B0cyIsIklTX1RPVUNIX09OTFkiLCJjbGlja2VkTGFiZWxzIiwibGFiZWxsYWJsZSIsImNhbkJlRGlzYWJsZWQiLCJtYXRjaGluZ0xhYmVscyIsImxhYmVscyIsIm1hdGNoaW5nIiwibW91c2VDYW5jZWxsZXIiLCJtb3VzZUV2ZW50Iiwic2MiLCJzb3VyY2VDYXBhYmlsaXRpZXMiLCJmaXJlc1RvdWNoRXZlbnRzIiwic2tpcCIsImNsaWNrRnJvbUxhYmVsIiwiZ2V0Q29tcG9zZWRQYXRoIiwib3duZXJMYWJlbHMiLCJQT0lOVEVSU1RBVEUiLCJtb3VzZSIsInByZXZlbnREZWZhdWx0Iiwic3RvcFByb3BhZ2F0aW9uIiwic2V0dXBUZWFyZG93bk1vdXNlQ2FuY2VsbGVyIiwic2V0dXAiLCJlbiIsImhhc0xlZnRNb3VzZUJ1dHRvbiIsImV2Iiwid2hpY2giLCJidXR0b24iLCJtb3VzZUlnbm9yZUpvYiIsInRvdWNoIiwic2Nyb2xsRGVjaWRlZCIsInRyYWNrRG9jdW1lbnQiLCJzdGF0ZU9iaiIsIm1vdmVmbiIsInVwZm4iLCJ1bnRyYWNrRG9jdW1lbnQiLCJub1BhdGNoIiwiZ2VzdHVyZXMiLCJyZWNvZ25pemVycyIsIl9maW5kT3JpZ2luYWxUYXJnZXQiLCJfaGFuZGxlTmF0aXZlIiwiaGFuZGxlZCIsImdvYmoiLCJncyIsImNoYW5nZWRUb3VjaGVzIiwidG91Y2hlcyIsImlkZW50aWZpZXIiLCJjbGllbnRYIiwiY2xpZW50WSIsInRhIiwiZmlyc3RUb3VjaEFjdGlvbiIsInNob3VsZFByZXZlbnQiLCJkeCIsImFicyIsImR5IiwicHJldmVudCIsIl9oYW5kbGVUb3VjaEFjdGlvbiIsImZsb3ciLCJyZXNldCIsImFkZExpc3RlbmVyIiwiZXZUeXBlIiwicmVjb2duaXplciIsImRlcHMiLCJkZXAiLCJnZCIsIl9jb3VudCIsInNldFRvdWNoQWN0aW9uIiwiX2FkZCIsInJlbW92ZUxpc3RlbmVyIiwiX3JlbW92ZSIsInJlY29nIiwiZW1pdHMiLCJfZmlyZSIsImRlZmF1bHRQcmV2ZW50ZWQiLCJwcmV2ZW50ZXIiLCJzb3VyY2VFdmVudCIsImV2TmFtZSIsIl9maW5kUmVjb2duaXplckJ5RXZlbnQiLCJkb3dudXBGaXJlIiwidHJhY2tIYXNNb3ZlZEVub3VnaCIsInN0YXJ0ZWQiLCJ0cmFja0ZpcmUiLCJkZHgiLCJzZWNvbmRsYXN0IiwibW92ZXMiLCJsYXN0bW92ZSIsImRkeSIsInN0YXRlIiwiaG92ZXIiLCJlbGVtZW50RnJvbVBvaW50Iiwib2xkTmV4dCIsImRlZXBUYXJnZXRGaW5kIiwidHJhY2tGb3J3YXJkIiwiaXNOYU4iLCJiY3IiLCJnZXRCb3VuZGluZ0NsaWVudFJlY3QiLCJwYWdlWCIsInBhZ2VZIiwibGVmdCIsInJpZ2h0IiwidG9wIiwiYm90dG9tIiwiaXNTeW50aGV0aWNDbGljayIsIm1vdXNlZG93biIsInRvdWNoc3RhcnQiLCJ0b3VjaGVuZCIsImFkZE1vdmUiLCJtb3ZlIiwiY3QiLCJ0b3VjaG1vdmUiLCJOYU4iLCJjbGljayIsIm5hdGl2ZVByb3BlcnRpZXMiLCJQcm9wZXJ0eUFjY2Vzc29ycyIsImEkIiwib2JzZXJ2ZWRBdHRyaWJ1dGVzIiwiX2luaXRpYWxpemVQcm90b1Byb3BlcnRpZXMiLCJEYXRlIiwib3V0VmFsdWUiLCJzYXZlQWNjZXNzb3JWYWx1ZSIsIl9kZWZpbmVQcm9wZXJ0eUFjY2Vzc29yIiwibWljcm90YXNrIiwiUHJvcGVydGllc0NoYW5nZWQiLCJfX2RhdGFBdHRyaWJ1dGVzIiwiX2dldFByb3BlcnR5IiwiX19kYXRhSW52YWxpZCIsIl9fZGF0YUluc3RhbmNlUHJvcHMiLCJfX3NlcmlhbGl6aW5nIiwiZXh0IiwiY2hhbmdlZCIsIl9pbml0aWFsaXplSW5zdGFuY2VQcm9wZXJ0aWVzIiwiX3Nob3VsZFByb3BlcnRpZXNDaGFuZ2UiLCJfcHJvcGVydGllc0NoYW5nZWQiLCJ0eXBlRm9yUHJvcGVydHkiLCJHZXN0dXJlRXZlbnRMaXN0ZW5lcnMiLCJuZXdTcGxpY2UiLCJjYWxjU3BsaWNlcyIsImN1cnJlbnQiLCJjdXJyZW50U3RhcnQiLCJjdXJyZW50RW5kIiwib2xkU3RhcnQiLCJvbGRFbmQiLCJwcmVmaXhDb3VudCIsInN1ZmZpeENvdW50IiwibWluTGVuZ3RoIiwic2VhcmNoTGVuZ3RoIiwiZXF1YWxzIiwic2hhcmVkUHJlZml4IiwiaW5kZXgxIiwiaW5kZXgyIiwic2hhcmVkU3VmZml4Iiwib3BzIiwiZGlzdGFuY2VzIiwiZWRpdHMiLCJub3J0aFdlc3QiLCJ3ZXN0Iiwibm9ydGgiLCJyZXZlcnNlIiwic3BsaWNlT3BlcmF0aW9uc0Zyb21FZGl0RGlzdGFuY2VzIiwicm93Q291bnQiLCJjb2x1bW5Db3VudCIsImNhbGNFZGl0RGlzdGFuY2VzIiwib2xkSW5kZXgiLCJjYWxjdWxhdGVTcGxpY2VzIiwiY3VycmVudFZhbHVlIiwicHJldmlvdXNWYWx1ZSIsIkZvcm1TaGFyZWRTdHlsZSIsIlNoYXJlZFN0eWxlcyIsIk9wdGlvblN0eWxlIiwiQ29sbGFwc2libGVTdHlsZSIsIk1haW5TaGFyZWRTdHlsZSIsIkRpdmlkZXJTdHlsZSIsIklyb25Db250cm9sU3RhdGUiLCJmb2N1c2VkIiwiZGlzYWJsZWQiLCJfb2xkVGFiSW5kZXgiLCJfYm91bmRGb2N1c0JsdXJIYW5kbGVyIiwiX2ZvY3VzQmx1ckhhbmRsZXIiLCJfc2V0Rm9jdXNlZCIsIl9kaXNhYmxlZENoYW5nZWQiLCJwb2ludGVyRXZlbnRzIiwidGFiSW5kZXgiLCJibHVyIiwiX2NoYW5nZWRDb250cm9sU3RhdGUiLCJfY29udHJvbFN0YXRlQ2hhbmdlZCIsInNjaGVkdWxlZCIsImJlZm9yZVJlbmRlclF1ZXVlIiwiYWZ0ZXJSZW5kZXJRdWV1ZSIsInNjaGVkdWxlIiwiZmx1c2hRdWV1ZSIsInF1ZXVlIiwiY2FsbE1ldGhvZCIsInJ1blF1ZXVlIiwiYWZ0ZXJOZXh0UmVuZGVyIiwicmVzb2x2ZUZuIiwicmVhZHlQcm9taXNlIiwid2hlblJlYWR5IiwiZG9jdW1lbnRXYWl0IiwiQ0FDSEVEX1NUWUxFIiwidHJhbnNmb3JtRm4iLCJ2YWxpZGF0ZUZuIiwiZW5xdWV1ZURvY3VtZW50VmFsaWRhdGlvbiIsImN1c3RvbVN0eWxlIiwiZ2V0U3R5bGVGb3JDdXN0b21TdHlsZSIsInN0eWxlVG9UcmFuc2Zvcm0iLCJuZWVkc0VucXVldWUiLCJLRVlfSURFTlRJRklFUiIsIktFWV9DT0RFIiwiOCIsIjkiLCIxMyIsIjI3IiwiMzMiLCIzNCIsIjM1IiwiMzYiLCIzMiIsIjM3IiwiMzgiLCIzOSIsIjQwIiwiNDYiLCIxMDYiLCJNT0RJRklFUl9LRVlTIiwiS0VZX0NIQVIiLCJJREVOVF9DSEFSIiwiQVJST1dfS0VZIiwiU1BBQ0VfS0VZIiwiRVNDX0tFWSIsInRyYW5zZm9ybUtleSIsIm5vU3BlY2lhbENoYXJzIiwidmFsaWRLZXkiLCJsS2V5Iiwibm9ybWFsaXplZEtleUZvckV2ZW50Iiwia2V5RXZlbnQiLCJrZXlJZGVudCIsImtleUlkZW50aWZpZXIiLCJmcm9tQ2hhckNvZGUiLCJrZXlDb2RlIiwidHJhbnNmb3JtS2V5Q29kZSIsImtleUNvbWJvTWF0Y2hlc0V2ZW50Iiwia2V5Q29tYm8iLCJoYXNNb2RpZmllcnMiLCJzaGlmdEtleSIsImN0cmxLZXkiLCJhbHRLZXkiLCJtZXRhS2V5IiwicGFyc2VFdmVudFN0cmluZyIsImV2ZW50U3RyaW5nIiwia2V5Q29tYm9TdHJpbmciLCJjb21ibyIsInBhcnNlZEtleUNvbWJvIiwia2V5Q29tYm9QYXJ0IiwiZXZlbnRQYXJ0cyIsImtleU5hbWUiLCJwYXJzZUtleUNvbWJvU3RyaW5nIiwiSXJvbkExMXlLZXlzQmVoYXZpb3IiLCJrZXlFdmVudFRhcmdldCIsInN0b3BLZXlib2FyZEV2ZW50UHJvcGFnYXRpb24iLCJfYm91bmRLZXlIYW5kbGVycyIsIl9pbXBlcmF0aXZlS2V5QmluZGluZ3MiLCJrZXlCaW5kaW5ncyIsIl9wcmVwS2V5QmluZGluZ3MiLCJfbGlzdGVuS2V5RXZlbnRMaXN0ZW5lcnMiLCJfdW5saXN0ZW5LZXlFdmVudExpc3RlbmVycyIsImFkZE93bktleUJpbmRpbmciLCJoYW5kbGVyTmFtZSIsIl9yZXNldEtleUV2ZW50TGlzdGVuZXJzIiwicmVtb3ZlT3duS2V5QmluZGluZ3MiLCJrZXlib2FyZEV2ZW50TWF0Y2hlc0tleXMiLCJrZXlDb21ib3MiLCJfY29sbGVjdEtleUJpbmRpbmdzIiwiYmVoYXZpb3IiLCJfa2V5QmluZGluZ3MiLCJfYWRkS2V5QmluZGluZyIsImtiMSIsImtiMiIsImIxIiwiYm91bmRLZXlIYW5kbGVyIiwiX29uS2V5QmluZGluZ0V2ZW50Iiwia2V5SGFuZGxlclR1cGxlIiwiX3RyaWdnZXJLZXlIYW5kbGVyIiwia2V5Ym9hcmRFdmVudCIsIm1lbnVJY29uIiwibWludXNJY29uIiwicGx1c0ljb24iLCJzYXZlSWNvbiIsInJlZnJlc2hJY29uIiwiY2xvc2VJY29uIiwicGFzdGVib2FyZEljb24iLCJmaWxlVXBsb2FkIiwicGxheUljb24iLCJ0cmFuc2xhdGVJY29uIiwic3RvcEljb24iLCJrZWVwUGxheWluZyIsImFzc2VtYmx5IiwiZG5zSWNvbiIsIk9SUEhBTlMiLCJJcm9uUmVzaXphYmxlQmVoYXZpb3IiLCJfcGFyZW50UmVzaXphYmxlIiwiX25vdGlmeWluZ0Rlc2NlbmRhbnQiLCJfaW50ZXJlc3RlZFJlc2l6YWJsZXMiLCJfYm91bmROb3RpZnlSZXNpemUiLCJub3RpZnlSZXNpemUiLCJfYm91bmRPbkRlc2NlbmRhbnRJcm9uUmVzaXplIiwiX29uRGVzY2VuZGFudElyb25SZXNpemUiLCJfcmVxdWVzdFJlc2l6ZU5vdGlmaWNhdGlvbnMiLCJzdG9wUmVzaXplTm90aWZpY2F0aW9uc0ZvciIsInJlc2l6YWJsZSIsInJlc2l6ZXJTaG91bGROb3RpZnkiLCJfbm90aWZ5RGVzY2VuZGFudCIsIl9maXJlUmVzaXplIiwiYXNzaWduUGFyZW50UmVzaXphYmxlIiwicGFyZW50UmVzaXphYmxlIiwiX3N1YnNjcmliZUlyb25SZXNpemUiLCJfdW5zdWJzY3JpYmVJcm9uUmVzaXplIiwiZmlyZSIsIl9vbklyb25SZXF1ZXN0UmVzaXplTm90aWZpY2F0aW9ucyIsIl9wYXJlbnRSZXNpemFibGVDaGFuZ2VkIiwiZGVzY2VuZGFudCIsInJlYWR5c3RhdGVjaGFuZ2VkIiwiX2ZpbmRQYXJlbnQiLCJvcnBoYW4iLCJJcm9uTWV0YSIsIm1ldGFEYXRhcyIsIl9fbWV0YSIsIl9fY29tcHV0ZU1ldGEiLCJfc2VsZkNoYW5nZWQiLCJieUtleSIsInNldE1ldGFUYWciLCJvcGVuZWQiLCJwZXJzaXN0ZW50IiwidHJhbnNpdGlvbkR1cmF0aW9uIiwiYWxpZ24iLCJwb3NpdGlvbiIsInN3aXBlT3BlbiIsIm5vRm9jdXNUcmFwIiwiZGlzYWJsZVN3aXBlIiwiX3RyYW5zbGF0ZU9mZnNldCIsIl90cmFja0RldGFpbHMiLCJfZHJhd2VyU3RhdGUiLCJfYm91bmRFc2NLZXlkb3duSGFuZGxlciIsIl9maXJzdFRhYlN0b3AiLCJfbGFzdFRhYlN0b3AiLCJfZXNjS2V5ZG93bkhhbmRsZXIiLCJfdGFiS2V5ZG93bkhhbmRsZXIiLCJsaXN0ZW4iLCJzZXRTY3JvbGxEaXJlY3Rpb24iLCJvcGVuIiwiY2xvc2UiLCJnZXRXaWR0aCIsIl9zYXZlZFdpZHRoIiwiY29udGVudENvbnRhaW5lciIsIm9mZnNldFdpZHRoIiwiX2lzUlRMIiwiX3Jlc2V0UG9zaXRpb24iLCJfc2V0UG9zaXRpb24iLCJfdHJhY2siLCJfdHJhY2tTdGFydCIsIl90cmFja01vdmUiLCJfdHJhY2tFbmQiLCJfRFJBV0VSX1NUQVRFIiwiVFJBQ0tJTkciLCJyZWN0Iiwid2lkdGgiLCJpbm5lcldpZHRoIiwiX3N0eWxlVHJhbnNpdGlvbkR1cmF0aW9uIiwidmlzaWJpbGl0eSIsIl90cmFuc2xhdGVEcmF3ZXIiLCJ0aW1lU3RhbXAiLCJkcmF3ZXJXaWR0aCIsImlzSW5FbmRTdGF0ZSIsInRyYWNrRGV0YWlscyIsIl9mbGluZ0RyYXdlciIsIkZMSU5HSU5HIiwiaGFsZldpZHRoIiwiX3Jlc2V0RHJhd2VyU3RhdGUiLCJfcmVzZXREcmF3ZXJUcmFuc2xhdGUiLCJfY2FsY3VsYXRlVmVsb2NpdHkiLCJ0cmFja0RldGFpbCIsInRpbWVMb3dlckJvdW5kIiwibWF4IiwibWlkIiwidmVsb2NpdHkiLCJfTUlOX0ZMSU5HX1RIUkVTSE9MRCIsImlzUG9zaXRpb25MZWZ0IiwiaXNWZWxvY2l0eVBvc2l0aXZlIiwiX01JTl9UUkFOU0lUSU9OX1ZFTE9DSVRZIiwiX0ZMSU5HX0lOSVRJQUxfU0xPUEUiLCJfc3R5bGVUcmFuc2l0aW9uVGltaW5nRnVuY3Rpb24iLCJfRkxJTkdfVElNSU5HX0ZVTkNUSU9OIiwiZHVyYXRpb24iLCJzY3JpbSIsInRpbWluZ0Z1bmN0aW9uIiwidHJhbnNpdGlvblRpbWluZ0Z1bmN0aW9uIiwib3BhY2l0eSIsInRyYW5zbGF0ZTNkIiwib2xkU3RhdGUiLCJPUEVORURfUEVSU0lTVEVOVCIsIk9QRU5FRCIsIkNMT1NFRCIsIl9zZXRLZXlib2FyZEZvY3VzVHJhcCIsIm92ZXJmbG93IiwiSU5JVCIsInJlc2V0TGF5b3V0IiwiZm9jdXNhYmxlRWxlbWVudHNTZWxlY3RvciIsImZvY3VzYWJsZUVsZW1lbnRzIiwidGFiaW5kZXgiLCJmb2N1cyIsIl9vcGVuZWRQZXJzaXN0ZW50Q2hhbmdlZCIsInRvZ2dsZUNsYXNzIiwiQXBwTGF5b3V0QmVoYXZpb3IiLCJfYXBwUmVzZXRMYXlvdXRIYW5kbGVyIiwiX3VwZGF0ZUxheW91dFN0YXRlcyIsIl9sYXlvdXREZWJvdW5jZXIiLCJfbm90aWZ5RGVzY2VuZGFudFJlc2l6ZSIsIl9ub3RpZnlMYXlvdXRDaGFuZ2VkIiwiSXJvblNjcm9sbFRhcmdldEJlaGF2aW9yIiwic2Nyb2xsVGFyZ2V0IiwiX2RlZmF1bHRTY3JvbGxUYXJnZXQiLCJfc2hvdWxkSGF2ZUxpc3RlbmVyIiwiX3Njcm9sbFRhcmdldENoYW5nZWQiLCJfb2xkU2Nyb2xsVGFyZ2V0IiwiX3RvZ2dsZVNjcm9sbExpc3RlbmVyIiwiX2RvYyIsImRvbUhvc3QiLCJfaXNWYWxpZFNjcm9sbFRhcmdldCIsIl9zY3JvbGxIYW5kbGVyIiwicGFnZVhPZmZzZXQiLCJzY3JvbGxMZWZ0Iiwic2Nyb2xsVG8iLCJzY3JvbGwiLCJsZWZ0T3JPcHRpb25zIiwiaW5uZXJIZWlnaHQiLCJvZmZzZXRIZWlnaHQiLCJ5ZXMiLCJldmVudFRhcmdldCIsIl9ib3VuZFNjcm9sbEhhbmRsZXIiLCJ0b2dnbGVTY3JvbGxMaXN0ZW5lciIsIl9zY3JvbGxFZmZlY3RzIiwiQXBwU2Nyb2xsRWZmZWN0c0JlaGF2aW9yIiwiZWZmZWN0c0NvbmZpZyIsInRocmVzaG9sZCIsInRocmVzaG9sZFRyaWdnZXJlZCIsIl91cGRhdGVTY3JvbGxTdGF0ZSIsImlzT25TY3JlZW4iLCJpc0NvbnRlbnRCZWxvdyIsIl9lZmZlY3RzUnVuRm4iLCJfZWZmZWN0cyIsIl9zY3JvbGxUb3AiLCJfc2Nyb2xsU3RhdGVDaGFuZ2VkIiwiX3RlYXJEb3duRWZmZWN0cyIsImNyZWF0ZUVmZmVjdCIsImVmZmVjdE5hbWUiLCJlZmZlY3RDb25maWciLCJlZmZlY3REZWYiLCJSZWZlcmVuY2VFcnJvciIsIl9nZXRVbmRlZmluZWRNc2ciLCJfYm91bmRFZmZlY3QiLCJzZXRVcCIsIl9lZmZlY3RzQ2hhbmdlZCIsIl9zZXRVcEVmZmVjdCIsIl9sYXlvdXRJZkRpcnR5Iiwic3RhcnRzQXQiLCJwYXJzZUZsb2F0IiwiZW5kc0F0IiwiZGVsdGFTIiwibm9vcCIsInJ1bkZuIiwicHJvZ3Jlc3MiLCJ0ZWFyRG93biIsIl9ydW5FZmZlY3RzIiwiX2NsYW1wZWRTY3JvbGxUb3AiLCJfc2V0VGhyZXNob2xkVHJpZ2dlcmVkIiwiX2dldERPTVJlZiIsImNvbmRlbnNlcyIsImZpeGVkIiwicmV2ZWFscyIsInNoYWRvdyIsIl9oZWlnaHQiLCJfZEhlaWdodCIsIl9zdGlja3lFbFRvcCIsIl9zdGlja3lFbFJlZiIsIl90b3AiLCJfcHJvZ3Jlc3MiLCJfd2FzU2Nyb2xsaW5nRG93biIsIl9pbml0U2Nyb2xsVG9wIiwiX2luaXRUaW1lc3RhbXAiLCJfbGFzdFRpbWVzdGFtcCIsIl9sYXN0U2Nyb2xsVG9wIiwic2xvdCIsIl9jb25maWdDaGFuZ2VkIiwiZmlyc3RTZXR1cCIsImN1cnJlbnREaXNhYmxlZCIsIl9tYXlNb3ZlIiwiX3N0aWNreUVsIiwib2Zmc2V0VG9wIiwiZm9yY2VVcGRhdGUiLCJsYXN0VG9wIiwibWF4SGVhZGVyVG9wIiwiX21heEhlYWRlclRvcCIsImRTY3JvbGxUb3AiLCJhYnNEU2Nyb2xsVG9wIiwiaXNTY3JvbGxpbmdEb3duIiwiX2NsYW1wIiwic2Nyb2xsVmVsb2NpdHkiLCJfdHJhbnNmb3JtSGVhZGVyIiwid2lsbENvbmRlbnNlIiwiX2Vuc3VyZUJnQ29udGFpbmVycyIsIl9iZ0NvbnRhaW5lciIsIl9iZ1JlYXIiLCJfYmdGcm9udCIsImdldFNjcm9sbFN0YXRlIiwicmVnaXN0ZXJFZmZlY3QiLCJwb2x5bWVyU2tpcExvYWRpbmdGb250Um9ib3RvIiwicmVsIiwiY3Jvc3NPcmlnaW4iLCJJcm9uQTExeUFubm91bmNlciIsIl90ZXh0IiwiX29uSXJvbkFubm91bmNlIiwiYW5ub3VuY2UiLCJhc3luYyIsInJlcXVlc3RBdmFpbGFiaWxpdHkiLCJJcm9uVmFsaWRhdGFibGVCZWhhdmlvck1ldGEiLCJJcm9uVmFsaWRhdGFibGVCZWhhdmlvciIsInZhbGlkYXRvciIsImludmFsaWQiLCJfaW52YWxpZENoYW5nZWQiLCJoYXNWYWxpZGF0b3IiLCJfdmFsaWRhdG9yIiwidmFsaWRhdGUiLCJfZ2V0VmFsaWRpdHkiLCJiaW5kVmFsdWUiLCJhbGxvd2VkUGF0dGVybiIsImF1dG9WYWxpZGF0ZSIsIl9pbnB1dEVsZW1lbnQiLCJfcHJldmlvdXNWYWxpZElucHV0IiwiX3BhdHRlcm5BbHJlYWR5Q2hlY2tlZCIsIm9ic2VydmVOb2RlcyIsIl9pbml0U2xvdHRlZElucHV0IiwidW5vYnNlcnZlTm9kZXMiLCJnZXRFZmZlY3RpdmVDaGlsZHJlbiIsImlucHV0RWxlbWVudCIsInBhdHRlcm4iLCJfYmluZFZhbHVlQ2hhbmdlZCIsIl9vbklucHV0IiwiX2NoZWNrUGF0dGVyblZhbGlkaXR5IiwiX2Fubm91bmNlSW52YWxpZENoYXJhY3RlciIsIl9pc1ByaW50YWJsZSIsImFueU5vblByaW50YWJsZSIsIm1vek5vblByaW50YWJsZSIsImNoYXJDb2RlIiwiX29uS2V5cHJlc3MiLCJyZWdleHAiLCJfcGF0dGVyblJlZ0V4cCIsInRoaXNDaGFyIiwidmFsaWQiLCJjaGVja1ZhbGlkaXR5IiwicmVxdWlyZWQiLCJfY29tcHV0ZVZhbHVlIiwiUGFwZXJJbnB1dEFkZG9uQmVoYXZpb3IiLCJfY2hhckNvdW50ZXJTdHIiLCJjb3VudGVyIiwibm9MYWJlbEZsb2F0IiwiYWx3YXlzRmxvYXRMYWJlbCIsImF0dHJGb3JWYWx1ZSIsIl9hZGRvbnMiLCJfaW5wdXRIYXNDb250ZW50IiwiX2lucHV0U2VsZWN0b3IiLCJfYm91bmRPbkZvY3VzIiwiX29uRm9jdXMiLCJfYm91bmRPbkJsdXIiLCJfb25CbHVyIiwiX2JvdW5kT25JbnB1dCIsIl9ib3VuZFZhbHVlQ2hhbmdlZCIsIl9vblZhbHVlQ2hhbmdlZCIsIl9wcm9wZXJ0eUZvclZhbHVlIiwiX19pc0ZpcnN0VmFsdWVVcGRhdGUiLCJfdmFsdWVDaGFuZ2VkRXZlbnQiLCJfaW5wdXRFbGVtZW50VmFsdWUiLCJfaGFuZGxlVmFsdWVBbmRBdXRvVmFsaWRhdGUiLCJfaGFuZGxlVmFsdWUiLCJfb25BZGRvbkF0dGFjaGVkIiwiaW5wdXQiLCJ1cGRhdGVBZGRvbnMiLCJfb25Jcm9uSW5wdXRWYWxpZGF0ZSIsImFkZG9uIiwiX2NvbXB1dGVJbnB1dENvbnRlbnRDbGFzcyIsImNscyIsImxhYmVsIiwibGFiZWxBbmRJbnB1dENvbnRhaW5lciIsIl9jb21wdXRlVW5kZXJsaW5lQ2xhc3MiLCJfY29tcHV0ZUFkZE9uQ29udGVudENsYXNzIiwiX3NldEludmFsaWQiLCJJcm9uRm9ybUVsZW1lbnRCZWhhdmlvciIsIlBhcGVySW5wdXRIZWxwZXIiLCJQYXBlcklucHV0QmVoYXZpb3JJbXBsIiwiZXJyb3JNZXNzYWdlIiwiY2hhckNvdW50ZXIiLCJhdXRvY29tcGxldGUiLCJhdXRvZm9jdXMiLCJpbnB1dG1vZGUiLCJtaW5sZW5ndGgiLCJtYXhsZW5ndGgiLCJzdGVwIiwicGxhY2Vob2xkZXIiLCJyZWFkb25seSIsImF1dG9jYXBpdGFsaXplIiwiYXV0b2NvcnJlY3QiLCJhdXRvc2F2ZSIsInJlc3VsdHMiLCJhY2NlcHQiLCJtdWx0aXBsZSIsIl9hcmlhRGVzY3JpYmVkQnkiLCJfYXJpYUxhYmVsbGVkQnkiLCJfaW5wdXRJZCIsIl9nZW5lcmF0ZUlucHV0SWQiLCIkJCIsIl90eXBlc1RoYXRIYXZlVGV4dCIsIl91cGRhdGVBcmlhTGFiZWxsZWRCeSIsIl9hcHBlbmRTdHJpbmdXaXRoU3BhY2UiLCJtb3JlIiwicm9vdFRhcmdldCIsIk5leHRBZGRvbklEIiwiX3NoaWZ0VGFiUHJlc3NlZCIsIl9mb2N1c2FibGVFbGVtZW50IiwiX29uU2hpZnRUYWJEb3duIiwib2xkVGFiSW5kZXgiLCJfaGFuZGxlQXV0b1ZhbGlkYXRlIiwidXBkYXRlVmFsdWVBbmRQcmVzZXJ2ZUNhcmV0IiwibmV3VmFsdWUiLCJzZWxlY3Rpb25TdGFydCIsInNlbGVjdGlvbkVuZCIsIl9jb21wdXRlQWx3YXlzRmxvYXRMYWJlbCIsImxhYmVsbGVkQnkiLCJOZXh0TGFiZWxJRCIsIk5leHRJbnB1dElEIiwiX29uQ2hhbmdlIiwiX2F1dG9mb2N1c0NoYW5nZWQiLCJQYXBlcklucHV0QmVoYXZpb3IiLCJfb25Jcm9uSW5wdXRSZWFkeSIsIm5hdGl2ZUlucHV0IiwiYWN0aXZlIiwiYXBwVGl0bGUiLCJfcGFnZSIsIl9kcmF3ZXJPcGVuZWQiLCJfc25hY2tiYXJPcGVuZWQiLCJfb2ZmbGluZSIsIl9zbmFja2Jhck1lc3NhZ2UiLCJfbWVudUJ1dHRvbkNsaWNrZWQiLCJsb2NhdGlvblVwZGF0ZWRDYWxsYmFjayIsIm9mZmxpbmVVcGRhdGVkQ2FsbGJhY2siLCJfbG9jYXRpb25DaGFuZ2VkIiwib3JpZ2luIiwicHJvdG9jb2wiLCJoaXN0b3J5IiwicHVzaFN0YXRlIiwib2ZmbGluZSIsIl9vZmZsaW5lQ2hhbmdlZCIsIm9uTGluZSIsIm1lZGlhUXVlcnkiLCJsYXlvdXRDaGFuZ2VkQ2FsbGJhY2siLCJtcWwiLCJpbnN0YWxsTWVkaWFRdWVyeVdhdGNoZXIiLCJfbGF5b3V0Q2hhbmdlZCIsIl9zaG93U25hY2tCYXIiLCJwYWdlVGl0bGUiLCJ0aXRsZSIsImRlc2NyaXB0aW9uIiwiaW1hZ2UiLCJpbWFnZUFsdCIsInVwZGF0ZU1ldGFkYXRhIiwiaXNXaWRlTGF5b3V0IiwiX3VwZGF0ZURyYXdlclN0YXRlIiwicHJldmlvdXNPZmZsaW5lIiwiX19zbmFja2JhclRpbWVyIiwiZGVjb2RlVVJJQ29tcG9uZW50IiwicGFnZSIsIl9sb2FkUGFnZSJdLCJtYXBwaW5ncyI6ImFBQ0UsU0FBU0EsRUFBcUJDLEdBUTdCLElBUEEsSUFNSUMsRUFBVUMsRUFOVkMsRUFBV0gsRUFBSyxHQUNoQkksRUFBY0osRUFBSyxHQUtBSyxFQUFJLEVBQUdDLEVBQVcsR0FDcENELEVBQUlGLEVBQVNJLE9BQVFGLElBQ3pCSCxFQUFVQyxFQUFTRSxHQUNoQkcsT0FBT0MsVUFBVUMsZUFBZUMsS0FBS0MsRUFBaUJWLElBQVlVLEVBQWdCVixJQUNwRkksRUFBU08sS0FBS0QsRUFBZ0JWLEdBQVMsSUFFeENVLEVBQWdCVixHQUFXLEVBRTVCLElBQUlELEtBQVlHLEVBQ1pJLE9BQU9DLFVBQVVDLGVBQWVDLEtBQUtQLEVBQWFILEtBQ3BEYSxFQUFRYixHQUFZRyxFQUFZSCxJQUtsQyxJQUZHYyxHQUFxQkEsRUFBb0JmLEdBRXRDTSxFQUFTQyxRQUNkRCxFQUFTVSxPQUFUVixHQU9GLElBQUlXLEVBQW1CLEdBS25CTCxFQUFrQixDQUNyQk0sRUFBRyxHQVdKLFNBQVNDLEVBQW9CbEIsR0FHNUIsR0FBR2dCLEVBQWlCaEIsR0FDbkIsT0FBT2dCLEVBQWlCaEIsR0FBVW1CLFFBR25DLElBQUlDLEVBQVNKLEVBQWlCaEIsR0FBWSxDQUN6Q0ksRUFBR0osRUFDSHFCLEdBQUcsRUFDSEYsUUFBUyxJQVVWLE9BTkFOLEVBQVFiLEdBQVVVLEtBQUtVLEVBQU9ELFFBQVNDLEVBQVFBLEVBQU9ELFFBQVNELEdBRy9ERSxFQUFPQyxHQUFJLEVBR0pELEVBQU9ELFFBS2ZELEVBQW9CSSxFQUFJLFNBQXVCckIsR0FDOUMsSUFBSXNCLEVBQVcsR0FLWEMsRUFBcUJiLEVBQWdCVixHQUN6QyxHQUEwQixJQUF2QnVCLEVBR0YsR0FBR0EsRUFDRkQsRUFBU1gsS0FBS1ksRUFBbUIsUUFDM0IsQ0FFTixJQUFJQyxFQUFVLElBQUlDLFNBQVEsU0FBU0MsRUFBU0MsR0FDM0NKLEVBQXFCYixFQUFnQlYsR0FBVyxDQUFDMEIsRUFBU0MsTUFFM0RMLEVBQVNYLEtBQUtZLEVBQW1CLEdBQUtDLEdBR3RDLElBQ0lJLEVBREFDLEVBQVNDLFNBQVNDLGNBQWMsVUFHcENGLEVBQU9HLFFBQVUsUUFDakJILEVBQU9JLFFBQVUsSUFDYmhCLEVBQW9CaUIsSUFDdkJMLEVBQU9NLGFBQWEsUUFBU2xCLEVBQW9CaUIsSUFFbERMLEVBQU9PLElBMURWLFNBQXdCcEMsR0FDdkIsT0FBT2lCLEVBQW9Cb0IsRUFBSSxHQUFLLENBQUMsRUFBSSx1QkFBdUIsRUFBSSx1QkFBdUIsRUFBSSx3QkFBd0JyQyxHQUFXLE1BeURuSHNDLENBQWV0QyxHQUc1QixJQUFJdUMsRUFBUSxJQUFJQyxNQUNoQlosRUFBbUIsU0FBVWEsR0FFNUJaLEVBQU9hLFFBQVViLEVBQU9jLE9BQVMsS0FDakNDLGFBQWFYLEdBQ2IsSUFBSVksRUFBUW5DLEVBQWdCVixHQUM1QixHQUFhLElBQVY2QyxFQUFhLENBQ2YsR0FBR0EsRUFBTyxDQUNULElBQUlDLEVBQVlMLElBQXlCLFNBQWZBLEVBQU1NLEtBQWtCLFVBQVlOLEVBQU1NLE1BQ2hFQyxFQUFVUCxHQUFTQSxFQUFNUSxRQUFVUixFQUFNUSxPQUFPYixJQUNwREcsRUFBTVcsUUFBVSxpQkFBbUJsRCxFQUFVLGNBQWdCOEMsRUFBWSxLQUFPRSxFQUFVLElBQzFGVCxFQUFNWSxLQUFPLGlCQUNiWixFQUFNUSxLQUFPRCxFQUNiUCxFQUFNYSxRQUFVSixFQUNoQkgsRUFBTSxHQUFHTixHQUVWN0IsRUFBZ0JWLFFBQVdxRCxJQUc3QixJQUFJcEIsRUFBVXFCLFlBQVcsV0FDeEIxQixFQUFpQixDQUFFbUIsS0FBTSxVQUFXRSxPQUFRcEIsTUFDMUMsTUFDSEEsRUFBT2EsUUFBVWIsRUFBT2MsT0FBU2YsRUFDakNFLFNBQVN5QixLQUFLQyxZQUFZM0IsR0FHNUIsT0FBT0osUUFBUWdDLElBQUluQyxJQUlwQkwsRUFBb0J5QyxFQUFJOUMsRUFHeEJLLEVBQW9CMEMsRUFBSTVDLEVBR3hCRSxFQUFvQjJDLEVBQUksU0FBUzFDLEVBQVNpQyxFQUFNVSxHQUMzQzVDLEVBQW9CNkMsRUFBRTVDLEVBQVNpQyxJQUNsQzdDLE9BQU95RCxlQUFlN0MsRUFBU2lDLEVBQU0sQ0FBRWEsWUFBWSxFQUFNQyxJQUFLSixLQUtoRTVDLEVBQW9CaUQsRUFBSSxTQUFTaEQsR0FDWCxvQkFBWGlELFFBQTBCQSxPQUFPQyxhQUMxQzlELE9BQU95RCxlQUFlN0MsRUFBU2lELE9BQU9DLFlBQWEsQ0FBRUMsTUFBTyxXQUU3RC9ELE9BQU95RCxlQUFlN0MsRUFBUyxhQUFjLENBQUVtRCxPQUFPLEtBUXZEcEQsRUFBb0JxRCxFQUFJLFNBQVNELEVBQU9FLEdBRXZDLEdBRFUsRUFBUEEsSUFBVUYsRUFBUXBELEVBQW9Cb0QsSUFDL0IsRUFBUEUsRUFBVSxPQUFPRixFQUNwQixHQUFXLEVBQVBFLEdBQThCLGlCQUFWRixHQUFzQkEsR0FBU0EsRUFBTUcsV0FBWSxPQUFPSCxFQUNoRixJQUFJSSxFQUFLbkUsT0FBT29FLE9BQU8sTUFHdkIsR0FGQXpELEVBQW9CaUQsRUFBRU8sR0FDdEJuRSxPQUFPeUQsZUFBZVUsRUFBSSxVQUFXLENBQUVULFlBQVksRUFBTUssTUFBT0EsSUFDdEQsRUFBUEUsR0FBNEIsaUJBQVRGLEVBQW1CLElBQUksSUFBSU0sS0FBT04sRUFBT3BELEVBQW9CMkMsRUFBRWEsRUFBSUUsRUFBSyxTQUFTQSxHQUFPLE9BQU9OLEVBQU1NLElBQVFDLEtBQUssS0FBTUQsSUFDOUksT0FBT0YsR0FJUnhELEVBQW9CNEQsRUFBSSxTQUFTMUQsR0FDaEMsSUFBSTBDLEVBQVMxQyxHQUFVQSxFQUFPcUQsV0FDN0IsV0FBd0IsT0FBT3JELEVBQWdCLFNBQy9DLFdBQThCLE9BQU9BLEdBRXRDLE9BREFGLEVBQW9CMkMsRUFBRUMsRUFBUSxJQUFLQSxHQUM1QkEsR0FJUjVDLEVBQW9CNkMsRUFBSSxTQUFTZ0IsRUFBUUMsR0FBWSxPQUFPekUsT0FBT0MsVUFBVUMsZUFBZUMsS0FBS3FFLEVBQVFDLElBR3pHOUQsRUFBb0JvQixFQUFJLEdBR3hCcEIsRUFBb0IrRCxHQUFLLFNBQVNDLEdBQTJCLE1BQXBCQyxRQUFRM0MsTUFBTTBDLEdBQVlBLEdBRW5FLElBQUlFLEVBQWFDLE9BQXFCLGFBQUlBLE9BQXFCLGNBQUssR0FDaEVDLEVBQW1CRixFQUFXeEUsS0FBS2lFLEtBQUtPLEdBQzVDQSxFQUFXeEUsS0FBT2QsRUFDbEJzRixFQUFhQSxFQUFXRyxRQUN4QixJQUFJLElBQUluRixFQUFJLEVBQUdBLEVBQUlnRixFQUFXOUUsT0FBUUYsSUFBS04sRUFBcUJzRixFQUFXaEYsSUFDM0UsSUFBSVUsRUFBc0J3RSxFQUluQnBFLEVBQW9CQSxFQUFvQnNFLEVBQUksSSwrQkNyTXJEOzs7Ozs7Ozs7O0FBb0JPLE1BQU1DLEVBQVFKLE9BQWlCLFVBQUtBLE9BQWlCLFNBQVcsU0FBS0EsT0FBaUIsU0FBUSxLQUNuR0EsT0FBaUIsU0FBUSxLQUFLUCxHQUFNQSxHLGdLQ2EvQixTQUFTWSxFQUF3QkMsRUFBVUMsR0FDOUMsTUFBUUMsU0FBUyxRQUFFQyxHQUFTLE1BQUVDLEdBQVVKLEVBQ2xDSyxFQUFTakUsU0FBU2tFLGlCQUFpQkgsRUFuQnBCLElBbUIrQyxNQUFNLEdBQzFFLElBQUlJLEVBQVlDLEVBQStCSixHQUMzQ0ssRUFBT0wsRUFBTUcsR0FDYkcsR0FBYSxFQUNiQyxFQUFjLEVBQ2xCLE1BQU1DLEVBQTBCLEdBQ2hDLElBQUlDLEVBQXNCLEtBQzFCLEtBQU9SLEVBQU9TLFlBQVksQ0FDdEJKLElBQ0EsTUFBTUssRUFBT1YsRUFBT1csWUFpQnBCLElBZklELEVBQUtFLGtCQUFvQkosSUFDekJBLEVBQXNCLE1BR3RCWixFQUFjaUIsSUFBSUgsS0FDbEJILEVBQXdCM0YsS0FBSzhGLEdBRUQsT0FBeEJGLElBQ0FBLEVBQXNCRSxJQUlGLE9BQXhCRixHQUNBRixTQUVZaEQsSUFBVDhDLEdBQXNCQSxFQUFLVSxRQUFVVCxHQUd4Q0QsRUFBS1UsTUFBZ0MsT0FBeEJOLEdBQWdDLEVBQUlKLEVBQUtVLE1BQVFSLEVBRTlESixFQUFZQyxFQUErQkosRUFBT0csR0FDbERFLEVBQU9MLEVBQU1HLEdBR3JCSyxFQUF3QlEsUUFBU2pDLEdBQU1BLEVBQUVrQyxXQUFXQyxZQUFZbkMsSUFFcEUsTUFBTW9DLEVBQWNSLElBQ2hCLElBQUlTLEVBQTJCLEtBQWxCVCxFQUFLVSxTQUFxRCxFQUFJLEVBQzNFLE1BQU1wQixFQUFTakUsU0FBU2tFLGlCQUFpQlMsRUExRHBCLElBMEQ0QyxNQUFNLEdBQ3ZFLEtBQU9WLEVBQU9TLFlBQ1ZVLElBRUosT0FBT0EsR0FFTGhCLEVBQWlDLENBQUNKLEVBQU9zQixHQUFhLEtBQ3hELElBQUssSUFBSWpILEVBQUlpSCxFQUFhLEVBQUdqSCxFQUFJMkYsRUFBTXpGLE9BQVFGLElBQUssQ0FDaEQsTUFBTWdHLEVBQU9MLEVBQU0zRixHQUNuQixHQUFJLFlBQXFCZ0csR0FDckIsT0FBT2hHLEVBR2YsT0FBUSxHOzs7Ozs7Ozs7Ozs7OztBQ3ZEWixNQUFNa0gsRUFBc0IsQ0FBQ3RFLEVBQU11RSxJQUFjLEdBQUd2RSxNQUFTdUUsSUFDN0QsSUFBSUMsR0FBNEIsT0FDRCxJQUFwQm5DLE9BQU9vQyxTQUNkRCxHQUE0QixPQUV1QixJQUF2Q25DLE9BQU9vQyxTQUFTQyxxQkFDNUJ2QyxRQUFRd0MsS0FBSywySUFHYkgsR0FBNEIsR0FNaEMsTUFBTUksRUFBd0JMLEdBQWVNLElBQ3pDLE1BQU1DLEVBQVdSLEVBQW9CTyxFQUFPN0UsS0FBTXVFLEdBQ2xELElBQUlRLEVBQWdCLElBQWU3RCxJQUFJNEQsUUFDakJ4RSxJQUFsQnlFLElBQ0FBLEVBQWdCLENBQ1pDLGFBQWMsSUFBSUMsUUFDbEJDLFVBQVcsSUFBSUMsS0FFbkIsSUFBZUMsSUFBSU4sRUFBVUMsSUFFakMsSUFBSXBDLEVBQVdvQyxFQUFjQyxhQUFhOUQsSUFBSTJELEVBQU9RLFNBQ3JELFFBQWlCL0UsSUFBYnFDLEVBQ0EsT0FBT0EsRUFFWCxNQUFNZixFQUFNaUQsRUFBT1EsUUFBUUMsS0FBSyxLQUVoQyxHQURBM0MsRUFBV29DLEVBQWNHLFVBQVVoRSxJQUFJVSxRQUN0QnRCLElBQWJxQyxFQUF3QixDQUN4QixNQUFNRSxFQUFVZ0MsRUFBT1UscUJBQ25CZixHQUNBbkMsT0FBT29DLFNBQVNDLG1CQUFtQjdCLEVBQVMwQixHQUVoRDVCLEVBQVcsSUFBSSxJQUFTa0MsRUFBUWhDLEdBQ2hDa0MsRUFBY0csVUFBVUUsSUFBSXhELEVBQUtlLEdBR3JDLE9BREFvQyxFQUFjQyxhQUFhSSxJQUFJUCxFQUFPUSxRQUFTMUMsR0FDeENBLEdBRUw2QyxFQUFpQixDQUFDLE9BQVEsT0FvQjFCQyxFQUFpQixJQUFJQyxJQWVyQkMsRUFBd0IsQ0FBQ0MsRUFBYWpELEVBQVU0QixLQUNsRGtCLEVBQWVJLElBQUl0QixHQUVuQixNQUFNdUIsRUFBU0YsRUFBWUcsaUJBQWlCLFNBRTVDLEdBQXNCLElBQWxCRCxFQUFPeEksT0FLUCxZQURBK0UsT0FBT29DLFNBQVNrQixzQkFBc0JoRCxFQUFTRSxRQUFTMEIsR0FHNUQsTUFBTXlCLEVBQWlCakgsU0FBU0MsY0FBYyxTQU05QyxJQUFLLElBQUk1QixFQUFJLEVBQUdBLEVBQUkwSSxFQUFPeEksT0FBUUYsSUFBSyxDQUNwQyxNQUFNNkksRUFBUUgsRUFBTzFJLEdBQ3JCNkksRUFBTWpDLFdBQVdDLFlBQVlnQyxHQUM3QkQsRUFBZUUsYUFBZUQsRUFBTUMsWUFXeEMsR0EvRGlDLENBQUMzQixJQUNsQ2lCLEVBQWV6QixRQUFTL0QsSUFDcEIsTUFBTW1HLEVBQVksSUFBZWpGLElBQUlvRCxFQUFvQnRFLEVBQU11RSxTQUM3Q2pFLElBQWQ2RixHQUNBQSxFQUFVakIsVUFBVW5CLFFBQVNwQixJQUN6QixNQUFRRSxTQUFTLFFBQUVDLElBQWNILEVBRTNCbUQsRUFBUyxJQUFJSixJQUNuQlUsTUFBTUMsS0FBS3ZELEVBQVFpRCxpQkFBaUIsVUFBVWhDLFFBQVN2QixJQUNuRHNELEVBQU9ELElBQUlyRCxLQUVmRSxFQUF3QkMsRUFBVW1ELFFBNEM5Q1EsQ0FBNkIvQixHRHZDMUIsU0FBZ0M1QixFQUFVZSxFQUFNNkMsRUFBVSxNQUM3RCxNQUFRMUQsU0FBUyxRQUFFQyxHQUFTLE1BQUVDLEdBQVVKLEVBR3hDLEdBQUk0RCxRQUVBLFlBREF6RCxFQUFRckMsWUFBWWlELEdBR3hCLE1BQU1WLEVBQVNqRSxTQUFTa0UsaUJBQWlCSCxFQXRGcEIsSUFzRitDLE1BQU0sR0FDMUUsSUFBSUksRUFBWUMsRUFBK0JKLEdBQzNDeUQsRUFBYyxFQUNkQyxHQUFlLEVBQ25CLEtBQU96RCxFQUFPUyxZQUFZLENBT3RCLElBTkFnRCxJQUNtQnpELEVBQU9XLGNBQ1A0QyxJQUNmQyxFQUFjdEMsRUFBV1IsR0FDekI2QyxFQUFRdkMsV0FBVzBDLGFBQWFoRCxFQUFNNkMsS0FFcEIsSUFBZnJELEdBQW9CSCxFQUFNRyxHQUFXWSxRQUFVMkMsR0FBYSxDQUUvRCxHQUFJRCxFQUFjLEVBQUcsQ0FDakIsTUFBc0IsSUFBZnRELEdBQ0hILEVBQU1HLEdBQVdZLE9BQVMwQyxFQUMxQnRELEVBQVlDLEVBQStCSixFQUFPRyxHQUV0RCxPQUVKQSxFQUFZQyxFQUErQkosRUFBT0csS0NjMUR5RCxDQUF1QmhFLEVBQVVxRCxFQUFnQnJELEVBQVNFLFFBQVFDLFFBQVE4RCxZQUkxRXZFLE9BQU9vQyxTQUFTa0Isc0JBQXNCaEQsRUFBU0UsUUFBUzBCLEdBQ3BEbEMsT0FBT29DLFNBQVNvQyxhQUFjLENBRzlCLE1BQU1aLEVBQVF0RCxFQUFTRSxRQUFRQyxRQUFRZ0UsY0FBYyxTQUNyRGxCLEVBQVljLGFBQWFULEVBQU1jLFdBQVUsR0FBT25CLEVBQVlnQixnQkFFM0QsQ0FPRGpFLEVBQVNFLFFBQVFDLFFBQVE0RCxhQUFhVixFQUFnQnJELEVBQVNFLFFBQVFDLFFBQVE4RCxZQUMvRSxNQUFNSSxFQUFVLElBQUl0QixJQUNwQnNCLEVBQVFuQixJQUFJRyxHQUNadEQsRUFBd0JDLEVBQVVxRTs7Ozs7Ozs7Ozs7Ozs7QUMzSTFDM0UsT0FBTzRFLDBCQUNILENBQUNDLEVBQU1DLElBQVNELEVBQ2IsTUFBTUUsRUFBbUIsQ0FDNUIsWUFBWTlGLEVBQU90QixHQUNmLE9BQVFBLEdBQ0osS0FBS3FILFFBQ0QsT0FBTy9GLEVBQVEsR0FBSyxLQUN4QixLQUFLL0QsT0FDTCxLQUFLNkksTUFHRCxPQUFnQixNQUFUOUUsRUFBZ0JBLEVBQVFnRyxLQUFLQyxVQUFVakcsR0FFdEQsT0FBT0EsR0FFWCxjQUFjQSxFQUFPdEIsR0FDakIsT0FBUUEsR0FDSixLQUFLcUgsUUFDRCxPQUFpQixPQUFWL0YsRUFDWCxLQUFLa0csT0FDRCxPQUFpQixPQUFWbEcsRUFBaUIsS0FBT2tHLE9BQU9sRyxHQUMxQyxLQUFLL0QsT0FDTCxLQUFLNkksTUFDRCxPQUFPa0IsS0FBS0csTUFBTW5HLEdBRTFCLE9BQU9BLElBT0ZvRyxFQUFXLENBQUNwRyxFQUFPcUcsSUFFckJBLElBQVFyRyxJQUFVcUcsR0FBUUEsR0FBT3JHLEdBQVVBLEdBRWhEc0csRUFBNkIsQ0FDL0JDLFdBQVcsRUFDWDdILEtBQU04SCxPQUNOQyxVQUFXWCxFQUNYWSxTQUFTLEVBQ1RDLFdBQVlQLEdBRVZRLEVBQW1CeEosUUFBUUMsU0FBUSxHQVdsQyxNQUFNd0osVUFBd0JDLFlBQ2pDLGNBQ0lDLFFBQ0FDLEtBQUtDLGFBQWUsRUFDcEJELEtBQUtFLHlCQUFzQmxJLEVBQzNCZ0ksS0FBS0csZUFBaUJQLEVBQ3RCSSxLQUFLSSwyQkFBd0JwSSxFQUs3QmdJLEtBQUtLLG1CQUFxQixJQUFJeEQsSUFJOUJtRCxLQUFLTSwyQkFBd0J0SSxFQUM3QmdJLEtBQUtPLGFBTVQsZ0NBRUlQLEtBQUtRLFdBQ0wsTUFBTUMsRUFBYSxHQVVuQixPQVBBVCxLQUFLVSxpQkFBaUJqRixRQUFRLENBQUNrRixFQUFHM0osS0FDOUIsTUFBTTRKLEVBQU9aLEtBQUthLDBCQUEwQjdKLEVBQUcySixRQUNsQzNJLElBQVQ0SSxJQUNBWixLQUFLYyx3QkFBd0JoRSxJQUFJOEQsRUFBTTVKLEdBQ3ZDeUosRUFBV25MLEtBQUtzTCxNQUdqQkgsRUFRWCxnQ0FFSSxJQUFLVCxLQUFLN0ssZUFBZXdKLDBCQUEwQixtQkFBb0JxQixPQUFRLENBQzNFQSxLQUFLVSxpQkFBbUIsSUFBSTdELElBRTVCLE1BQU1rRSxFQUFrQjlMLE9BQU8rTCxlQUFlaEIsTUFBTVUsc0JBQzVCMUksSUFBcEIrSSxHQUNBQSxFQUFnQnRGLFFBQVEsQ0FBQ2tGLEVBQUdNLElBQU1qQixLQUFLVSxpQkFBaUI1RCxJQUFJbUUsRUFBR04sS0FXM0Usc0JBQXNCN0ksRUFBTW9KLEVBQVU1QixHQVdsQyxHQVBBVSxLQUFLbUIseUJBQ0xuQixLQUFLVSxpQkFBaUI1RCxJQUFJaEYsRUFBTW9KLEdBTTVCQSxFQUFRRSxZQUFjcEIsS0FBSzlLLFVBQVVDLGVBQWUyQyxHQUNwRCxPQUVKLE1BQU13QixFQUFzQixpQkFBVHhCLEVBQW9CZ0IsU0FBVyxLQUFLaEIsRUFDdkQ3QyxPQUFPeUQsZUFBZXNILEtBQUs5SyxVQUFXNEMsRUFBTSxDQUV4QyxNQUNJLE9BQU9rSSxLQUFLMUcsSUFFaEIsSUFBSU4sR0FFQSxNQUFNcUksRUFBV3JCLEtBQUtsSSxHQUV0QmtJLEtBQUsxRyxHQUFPTixFQUNaZ0gsS0FBS3NCLGVBQWV4SixFQUFNdUosSUFFOUJFLGNBQWMsRUFDZDVJLFlBQVksSUFRcEIsa0JBQ0ksR0FBSXFILEtBQUs3SyxlQUFld0osMEJBQTBCLFlBQWFxQixRQUMzREEsS0FBS3dCLFVBQ0wsT0FHSixNQUFNQyxFQUFZeE0sT0FBTytMLGVBQWVoQixNQVl4QyxHQVhrQyxtQkFBdkJ5QixFQUFVakIsVUFDakJpQixFQUFVakIsV0FFZFIsS0FBS3dCLFdBQVksRUFDakJ4QixLQUFLbUIseUJBRUxuQixLQUFLYyx3QkFBMEIsSUFBSWpFLElBSy9CbUQsS0FBSzdLLGVBQWV3SiwwQkFBMEIsYUFBY3FCLE9BQVEsQ0FDcEUsTUFBTTBCLEVBQVExQixLQUFLMkIsV0FFYkMsRUFBVyxJQUNWM00sT0FBTzRNLG9CQUFvQkgsTUFDYyxtQkFBakN6TSxPQUFPNk0sc0JBQ2Q3TSxPQUFPNk0sc0JBQXNCSixHQUM3QixJQUdSLElBQUssTUFBTTFLLEtBQUs0SyxFQUlaNUIsS0FBSytCLGVBQWUvSyxFQUFHMEssRUFBTTFLLEtBUXpDLGlDQUFpQ2MsRUFBTW9KLEdBQ25DLE1BQU0zQixFQUFZMkIsRUFBUTNCLFVBQzFCLE9BQXFCLElBQWRBLE9BQ0h2SCxFQUNzQixpQkFBZHVILEVBQ0pBLEVBQ2lCLGlCQUFUekgsRUFBb0JBLEVBQUtrSyxtQkFBZ0JoSyxFQVE3RCx3QkFBd0JnQixFQUFPcUcsRUFBS00sRUFBYVAsR0FDN0MsT0FBT08sRUFBVzNHLEVBQU9xRyxHQVE3QixtQ0FBbUNyRyxFQUFPa0ksR0FDdEMsTUFBTXhKLEVBQU93SixFQUFReEosS0FDZitILEVBQVl5QixFQUFRekIsV0FBYVgsRUFDakNtRCxFQUFzQyxtQkFBZHhDLEVBQTJCQSxFQUFZQSxFQUFVd0MsY0FDL0UsT0FBT0EsRUFBZ0JBLEVBQWNqSixFQUFPdEIsR0FBUXNCLEVBVXhELGlDQUFpQ0EsRUFBT2tJLEdBQ3BDLFFBQXdCbEosSUFBcEJrSixFQUFReEIsUUFDUixPQUVKLE1BQU1oSSxFQUFPd0osRUFBUXhKLEtBQ2YrSCxFQUFZeUIsRUFBUXpCLFVBRzFCLE9BRm9CQSxHQUFhQSxFQUFVeUMsYUFDdkNwRCxFQUFpQm9ELGFBQ0ZsSixFQUFPdEIsR0FNOUIsYUFDSXNJLEtBQUttQywwQkFFTG5DLEtBQUtzQixpQkFjVCwwQkFHSXRCLEtBQUtvQyxZQUNBMUIsaUJBQWlCakYsUUFBUSxDQUFDNEcsRUFBSXJMLEtBQy9CLEdBQUlnSixLQUFLN0ssZUFBZTZCLEdBQUksQ0FDeEIsTUFBTWdDLEVBQVFnSCxLQUFLaEosVUFDWmdKLEtBQUtoSixHQUNQZ0osS0FBS0Usc0JBQ05GLEtBQUtFLG9CQUFzQixJQUFJckQsS0FFbkNtRCxLQUFLRSxvQkFBb0JwRCxJQUFJOUYsRUFBR2dDLE1BTzVDLDJCQUlJZ0gsS0FBS0Usb0JBQW9CekUsUUFBUSxDQUFDa0YsRUFBRzNKLElBQU1nSixLQUFLaEosR0FBSzJKLEdBQ3JEWCxLQUFLRSx5QkFBc0JsSSxFQUUvQixvQkFDSWdJLEtBQUtDLGFBN09lLEdBNk9BRCxLQUFLQyxhQUtyQkQsS0FBS0ksd0JBQ0xKLEtBQUtJLHdCQUNMSixLQUFLSSwyQkFBd0JwSSxHQVFyQyx3QkFLQSx5QkFBeUJGLEVBQU11SCxFQUFLckcsR0FDNUJxRyxJQUFRckcsR0FDUmdILEtBQUtzQyxxQkFBcUJ4SyxFQUFNa0IsR0FHeEMscUJBQXFCbEIsRUFBTWtCLEVBQU9rSSxFQUFVNUIsR0FDeEMsTUFBTWlELEVBQU92QyxLQUFLb0MsWUFDWnhCLEVBQU8yQixFQUFLMUIsMEJBQTBCL0ksRUFBTW9KLEdBQ2xELFFBQWFsSixJQUFUNEksRUFBb0IsQ0FDcEIsTUFBTTRCLEVBQVlELEVBQUtFLDBCQUEwQnpKLEVBQU9rSSxHQUV4RCxRQUFrQmxKLElBQWR3SyxFQUNBLE9BVUp4QyxLQUFLQyxhQXpSd0IsRUF5UlRELEtBQUtDLGFBQ1IsTUFBYnVDLEVBQ0F4QyxLQUFLMEMsZ0JBQWdCOUIsR0FHckJaLEtBQUtsSixhQUFhOEosRUFBTTRCLEdBRzVCeEMsS0FBS0MsY0FBbUMsRUFBcEJELEtBQUtDLGNBR2pDLHFCQUFxQm5JLEVBQU1rQixHQUd2QixHQXZTaUMsRUF1UzdCZ0gsS0FBS0MsYUFDTCxPQUVKLE1BQU1zQyxFQUFPdkMsS0FBS29DLFlBQ1pPLEVBQVdKLEVBQUt6Qix3QkFBd0JsSSxJQUFJZCxHQUNsRCxRQUFpQkUsSUFBYjJLLEVBQXdCLENBQ3hCLE1BQU16QixFQUFVcUIsRUFBSzdCLGlCQUFpQjlILElBQUkrSixJQUFhckQsRUFFdkRVLEtBQUtDLGFBOVN1QixHQThTUkQsS0FBS0MsYUFDekJELEtBQUsyQyxHQUVESixFQUFLSyw0QkFBNEI1SixFQUFPa0ksR0FFNUNsQixLQUFLQyxjQUFtQyxHQUFwQkQsS0FBS0MsY0FRakMsZUFBZW5JLEVBQU11SixHQUNqQixJQUFJd0IsR0FBc0IsRUFFMUIsUUFBYTdLLElBQVRGLEVBQW9CLENBQ3BCLE1BQU15SyxFQUFPdkMsS0FBS29DLFlBQ1psQixFQUFVcUIsRUFBSzdCLGlCQUFpQjlILElBQUlkLElBQVN3SCxFQUMvQ2lELEVBQUtPLGlCQUFpQjlDLEtBQUtsSSxHQUFPdUosRUFBVUgsRUFBUXZCLGFBQy9DSyxLQUFLSyxtQkFBbUI5RSxJQUFJekQsSUFDN0JrSSxLQUFLSyxtQkFBbUJ2RCxJQUFJaEYsRUFBTXVKLElBTWQsSUFBcEJILEVBQVF4QixTQXpVWSxHQTBVbEJNLEtBQUtDLG9CQUM0QmpJLElBQS9CZ0ksS0FBS00sd0JBQ0xOLEtBQUtNLHNCQUF3QixJQUFJekQsS0FFckNtRCxLQUFLTSxzQkFBc0J4RCxJQUFJaEYsRUFBTW9KLEtBS3pDMkIsR0FBc0IsR0FHekI3QyxLQUFLK0MscUJBQXVCRixHQUM3QjdDLEtBQUtnRCxpQkFnQmIsY0FBY2xMLEVBQU11SixHQUVoQixPQURBckIsS0FBS3NCLGVBQWV4SixFQUFNdUosR0FDbkJyQixLQUFLaUQsZUFLaEIsdUJBR0ksSUFBSTVNLEVBQ0FDLEVBRkowSixLQUFLQyxhQWxYa0IsRUFrWEhELEtBQUtDLGFBR3pCLE1BQU1pRCxFQUF3QmxELEtBQUtHLGVBQ25DSCxLQUFLRyxlQUFpQixJQUFJL0osUUFBUSxDQUFDK00sRUFBS0MsS0FDcEMvTSxFQUFVOE0sRUFDVjdNLEVBQVM4TSxJQUViLFVBR1VGLEVBRVYsTUFBT2xOLElBS0ZnSyxLQUFLcUQscUJBQ0EsSUFBSWpOLFFBQVMrTSxHQUFRbkQsS0FBS0ksc0JBQXdCK0MsR0FFNUQsSUFDSSxNQUFNNUcsRUFBU3lELEtBQUtzRCxnQkFJTixNQUFWL0csU0FDTUEsRUFHZCxNQUFPdkcsR0FDSE0sRUFBT04sR0FFWEssR0FBUzJKLEtBQUsrQyxxQkFFbEIsb0JBQ0ksT0FuWm9CLEdBbVpaL0MsS0FBS0MsYUFFakIsMEJBQ0ksT0F6WnVCLEVBeVpmRCxLQUFLQyxhQUVqQixpQkFDSSxPQTdaa0IsRUE2WlZELEtBQUtDLGFBa0JqQixnQkFFUUQsS0FBS0UscUJBQ0xGLEtBQUt1RCwyQkFFVCxJQUFJQyxHQUFlLEVBQ25CLE1BQU1DLEVBQW9CekQsS0FBS0ssbUJBQy9CLElBQ0ltRCxFQUFleEQsS0FBS3dELGFBQWFDLEdBQzdCRCxHQUNBeEQsS0FBSzBELE9BQU9ELEdBR3BCLE1BQU96TixHQUlILE1BREF3TixHQUFlLEVBQ1R4TixFQUVWLFFBRUlnSyxLQUFLMkQsZUFFTEgsSUF0Y2MsRUF1Y1J4RCxLQUFLQyxlQUNQRCxLQUFLQyxhQXhjSyxFQXdjVUQsS0FBS0MsYUFDekJELEtBQUs0RCxhQUFhSCxJQUV0QnpELEtBQUs2RCxRQUFRSixJQUdyQixlQUNJekQsS0FBS0ssbUJBQXFCLElBQUl4RCxJQUM5Qm1ELEtBQUtDLGNBQW1DLEVBQXBCRCxLQUFLQyxhQWU3QixxQkFDSSxPQUFPRCxLQUFLRyxlQVNoQixhQUFhRSxHQUNULE9BQU8sRUFVWCxPQUFPQSxRQUNnQ3JJLElBQS9CZ0ksS0FBS00sdUJBQ0xOLEtBQUtNLHNCQUFzQndELEtBQU8sSUFHbEM5RCxLQUFLTSxzQkFBc0I3RSxRQUFRLENBQUNrRixFQUFHTSxJQUFNakIsS0FBSytELHFCQUFxQjlDLEVBQUdqQixLQUFLaUIsR0FBSU4sSUFDbkZYLEtBQUtNLDJCQUF3QnRJLEdBWXJDLFFBQVFxSSxJQVdSLGFBQWFBLEtBTWpCUixFQUFnQjJCLFdBQVksRUN2YzVCLE1Dcklhd0MsRUFBK0IsdUJBQXdCQyxTQUFTL08sV0FDeEUsWUFBYWdQLGNBQWNoUCxVQUMxQmlQLEVBQW9CckwsU0FDbkIsTUFBTXNMLEVBQ1QsWUFBWUMsRUFBU0MsR0FDakIsR0FBSUEsSUFBY0gsRUFDZCxNQUFNLElBQUloTixNQUFNLHFFQUVwQjZJLEtBQUtxRSxRQUFVQSxFQUluQixpQkFZSSxZQVh5QnJNLElBQXJCZ0ksS0FBS3VFLGNBR0RQLEdBQ0FoRSxLQUFLdUUsWUFBYyxJQUFJTCxjQUN2QmxFLEtBQUt1RSxZQUFZQyxZQUFZeEUsS0FBS3FFLFVBR2xDckUsS0FBS3VFLFlBQWMsTUFHcEJ2RSxLQUFLdUUsWUFFaEIsV0FDSSxPQUFPdkUsS0FBS3FFLFNBVWIsTUFrQk1JLEVBQU0sQ0FBQzFILEtBQVkySCxLQUM1QixNQUFNTCxFQUFVSyxFQUFPQyxPQUFPLENBQUNDLEVBQUtqRSxFQUFHa0UsSUFBUUQsRUFoQnpCLENBQUM1TCxJQUN2QixHQUFJQSxhQUFpQm9MLEVBQ2pCLE9BQU9wTCxFQUFNcUwsUUFHYixNQUFNLElBQUlsTixNQUFNLG1FQUFtRTZCLHVHQVdsQzhMLENBQWtCbkUsR0FBSzVELEVBQVE4SCxFQUFNLEdBQUk5SCxFQUFRLElBQ3RHLE9BQU8sSUFBSXFILEVBQVVDLEVBQVNGOzs7Ozs7Ozs7Ozs7OztDQzNDakNwSyxPQUEyQixxQkFBTUEsT0FBMkIsbUJBQUksS0FDNUR6RSxLQUFLLFNBbUJWLE1BQU15UCxFQUFpQnZILEdBQVdBLEVBQU93SCxLQUFPeEgsRUFBT3dILEtBQUtDLEtBYjVELFNBQVNDLEVBQVUxSCxFQUFRakIsRUFBUyxJQUNoQyxJQUFLLElBQUl6SCxFQUFJLEVBQUdFLEVBQVN3SSxFQUFPeEksT0FBUUYsRUFBSUUsRUFBUUYsSUFBSyxDQUNyRCxNQUFNa0UsRUFBUXdFLEVBQU8xSSxHQUNqQmdKLE1BQU1xSCxRQUFRbk0sR0FDZGtNLEVBQVVsTSxFQUFPdUQsR0FHakJBLEVBQU9qSCxLQUFLMEQsR0FHcEIsT0FBT3VELEVBRzZEMkksQ0FBVTFILEdBQzNFLE1BQU0sVUFBbUJxQyxFQUU1QixrQkFDSUUsTUFBTVMsV0FHTlIsS0FBS29GLFFBQ0RwRixLQUFLN0ssZUFBZXdKLDBCQUEwQixTQUFVcUIsT0FDcERBLEtBQUtxRixtQkFDTHJGLEtBQUtvRixTQUFXLEdBRzVCLDBCQU9JLE1BQU1FLEVBQWF0RixLQUFLeEMsT0FDbEJBLEVBQVMsR0FDZixHQUFJTSxNQUFNcUgsUUFBUUcsR0FBYSxDQUNSUCxFQUFjTyxHQU1MQyxZQUFZLENBQUN6SSxFQUFLNUMsS0FDMUM0QyxFQUFJUyxJQUFJckQsR0FFRDRDLEdBQ1IsSUFBSU0sS0FFRTNCLFFBQVNrRixHQUFNbkQsRUFBT2dJLFFBQVE3RSxTQUVsQzJFLEdBQ0w5SCxFQUFPbEksS0FBS2dRLEdBRWhCLE9BQU85SCxFQU9YLGFBQ0l1QyxNQUFNUSxhQUNOUCxLQUFLeUYsV0FDRHpGLEtBQUswRixtQkFJTDNMLE9BQU80TCxZQUFjM0YsS0FBS3lGLHNCQUFzQjFMLE9BQU80TCxZQUN2RDNGLEtBQUs0RixjQVViLG1CQUNJLE9BQU81RixLQUFLNkYsYUFBYSxDQUFFM00sS0FBTSxTQVdyQyxjQUNJLE1BQU1zRSxFQUFTd0MsS0FBS29DLFlBQVlnRCxRQUNWLElBQWxCNUgsRUFBT3hJLGNBUWFnRCxJQUFwQitCLE9BQU9vQyxVQUEyQnBDLE9BQU9vQyxTQUFTb0MsYUFHN0N5RixFQUNMaEUsS0FBS3lGLFdBQVdLLG1CQUNadEksRUFBT3VJLElBQUs3TCxHQUFNQSxFQUFFOEwsWUFLeEJoRyxLQUFLaUcsOEJBQStCLEVBVHBDbE0sT0FBT29DLFNBQVMrSixZQUFZQyxzQkFBc0IzSSxFQUFPdUksSUFBSzdMLEdBQU1BLEVBQUVtSyxTQUFVckUsS0FBS29HLFlBWTdGLG9CQUNJckcsTUFBTXNHLG9CQUdGckcsS0FBS3NHLGlCQUFrQ3RPLElBQXBCK0IsT0FBT29DLFVBQzFCcEMsT0FBT29DLFNBQVNvSyxhQUFhdkcsTUFTckMsT0FBT3lELEdBQ0gxRCxNQUFNMkQsT0FBT0QsR0FDYixNQUFNK0MsRUFBaUJ4RyxLQUFLeUcsU0FDeEJELGFBQTBCLEtBQzFCeEcsS0FBS29DLFlBQ0FxRSxPQUFPRCxFQUFnQnhHLEtBQUt5RixXQUFZLENBQUV4SixVQUFXK0QsS0FBS29HLFVBQVdNLGFBQWMxRyxPQUt4RkEsS0FBS2lHLCtCQUNMakcsS0FBS2lHLDhCQUErQixFQUNwQ2pHLEtBQUtvQyxZQUFZZ0QsUUFBUTNKLFFBQVN2QixJQUM5QixNQUFNeUQsRUFBUWxILFNBQVNDLGNBQWMsU0FDckNpSCxFQUFNQyxZQUFjMUQsRUFBRW1LLFFBQ3RCckUsS0FBS3lGLFdBQVd0TixZQUFZd0YsTUFTeEMsV0FPSixFQUFXNkQsV0FBWSxFQVN2QixFQUFXaUYsT0ptQlcsQ0FBQ2xLLEVBQVFvSyxFQUFXekYsS0FDdEMsTUFBTWpGLEVBQVlpRixFQUFRakYsVUFDcEIySyxFQUFjLElBQU1yTCxJQUFJb0wsR0FDeEJFLEVBQWVGLGFBQXFCaEIsWUFDdEN6SixHQUE2QkssYUFBa0IsSUFFN0N1SyxFQUFtQkQsSUFBaUIxSixFQUFlNUIsSUFBSVUsR0FHdkQ4SyxFQUFrQkQsRUFBbUJyUSxTQUFTdVEseUJBQTJCTCxFQVcvRSxHQVZBLFlBQVVwSyxFQUFRd0ssRUFBaUI5UixPQUFPZ1MsT0FBTyxDQUFFQyxnQkFBaUI1SyxFQUFxQkwsSUFBY2lGLElBVW5HNEYsRUFBa0IsQ0FDbEIsTUFBTWhNLEVBQU8sSUFBTWxDLElBQUltTyxHQUN2QixJQUFNSSxPQUFPSixHQUNUak0sRUFBSzlCLGlCQUFpQixLQUN0QnFFLEVBQXNCMEosRUFBaUJqTSxFQUFLOUIsTUFBTXFCLFNBQVU0QixHQUVoRSxZQUFZMEssRUFBV0EsRUFBVXJJLFlBQ2pDcUksRUFBVXhPLFlBQVk0TyxHQUN0QixJQUFNakssSUFBSTZKLEVBQVc3TCxJQVFwQjhMLEdBQWVDLEdBQ2hCOU0sT0FBT29DLFNBQVNvSyxhQUFhSSxFQUFVUyxRLDZCSzlQL0M7Ozs7Ozs7OztFQThCTyxTQUFTQyxFQUFPQyxHQUNyQixPQUFPQSxFQUFLQyxRQUFRLE1BQVEsRUFnQnZCLFNBQVNDLEVBQUtGLEdBQ25CLElBQUlHLEVBQVdILEVBQUtDLFFBQVEsS0FDNUIsT0FBa0IsSUFBZEUsRUFDS0gsRUFFRkEsRUFBS3JOLE1BQU0sRUFBR3dOLEdBbUJoQixTQUFTQyxFQUFXQyxFQUFNTCxHQUUvQixPQUFvQyxJQUE3QkssRUFBS0osUUFBUUQsRUFBTyxLQWtCdEIsU0FBU00sRUFBYUQsRUFBTUwsR0FFakMsT0FBb0MsSUFBN0JBLEVBQUtDLFFBQVFJLEVBQU8sS0FvQnRCLFNBQVNFLEVBQVVGLEVBQU1HLEVBQVNSLEdBQ3ZDLE9BQU9RLEVBQVVSLEVBQUtyTixNQUFNME4sRUFBSzNTLFFBUTVCLFNBQVMrUyxFQUFRSixFQUFNTCxHQUM1QixPQUFRSyxJQUFTTCxHQUNWSSxFQUFXQyxFQUFNTCxJQUNqQk0sRUFBYUQsRUFBTUwsR0FpQnJCLFNBQVNVLEVBQVVWLEdBQ3hCLEdBQUl4SixNQUFNcUgsUUFBUW1DLEdBQU8sQ0FDdkIsSUFBSTdNLEVBQVEsR0FDWixJQUFLLElBQUkzRixFQUFFLEVBQUdBLEVBQUV3UyxFQUFLdFMsT0FBUUYsSUFBSyxDQUNoQyxJQUFJbVQsRUFBT1gsRUFBS3hTLEdBQUdvVCxXQUFXQyxNQUFNLEtBQ3BDLElBQUssSUFBSUMsRUFBRSxFQUFHQSxFQUFFSCxFQUFLalQsT0FBUW9ULElBQzNCM04sRUFBTW5GLEtBQUsyUyxFQUFLRyxJQUdwQixPQUFPM04sRUFBTXVDLEtBQUssS0FFbEIsT0FBT3NLLEVBbUJKLFNBQVNhLEVBQU1iLEdBQ3BCLE9BQUl4SixNQUFNcUgsUUFBUW1DLEdBQ1RVLEVBQVVWLEdBQU1hLE1BQU0sS0FFeEJiLEVBQUtZLFdBQVdDLE1BQU0sS0FjeEIsU0FBU3ZQLEVBQUk0TyxFQUFNRixFQUFNZSxHQUM5QixJQUFJekosRUFBTzRJLEVBQ1AvTSxFQUFRME4sRUFBTWIsR0FFbEIsSUFBSyxJQUFJeFMsRUFBRSxFQUFHQSxFQUFFMkYsRUFBTXpGLE9BQVFGLElBQUssQ0FDakMsSUFBSzhKLEVBQ0gsT0FHRkEsRUFBT0EsRUFESW5FLEVBQU0zRixJQU1uQixPQUhJdVQsSUFDRkEsRUFBS2YsS0FBTzdNLEVBQU11QyxLQUFLLE1BRWxCNEIsRUFZRixTQUFTOUIsRUFBSTBLLEVBQU1GLEVBQU10TyxHQUM5QixJQUFJNEYsRUFBTzRJLEVBQ1AvTSxFQUFRME4sRUFBTWIsR0FDZGdCLEVBQU83TixFQUFNQSxFQUFNekYsT0FBTyxHQUM5QixHQUFJeUYsRUFBTXpGLE9BQVMsRUFBRyxDQUVwQixJQUFLLElBQUlGLEVBQUUsRUFBR0EsRUFBRTJGLEVBQU16RixPQUFPLEVBQUdGLElBQUssQ0FHbkMsR0FEQThKLEVBQU9BLEVBREluRSxFQUFNM0YsS0FFWjhKLEVBQ0gsT0FJSkEsRUFBSzBKLEdBQVF0UCxPQUdiNEYsRUFBSzBJLEdBQVF0TyxFQUVmLE9BQU95QixFQUFNdUMsS0FBSyxPLDZCQzNPcEI7Ozs7Ozs7OztFQWdCQSxNQUFNdUwsRUFDSixZQUFZQyxHQUVWeEksS0FBS2hILE1BQVF3UCxFQUFPTixXQU10QixXQUNFLE9BQU9sSSxLQUFLaEgsT0FRaEIsU0FBU3lQLEVBQWF6UCxHQUNwQixHQUFJQSxhQUFpQnVQLEVBQ25CLE9BQW9DLEVBQVF2UCxNQUU1QyxNQUFNLElBQUk3QixNQUNOLCtEQUErRDZCLEdBc0RoRSxNQUFNMFAsRUFBTyxTQUFjM0wsS0FBWTJILEdBQzVDLE1BQU1ySyxFQUErQzVELFNBQVNDLGNBQWMsWUFHNUUsT0FGQTJELEVBQVNzTyxVQUFZakUsRUFBT0MsT0FBTyxDQUFDQyxFQUFLakUsRUFBR2tFLElBQ3hDRCxFQWhETixTQUFtQjVMLEdBQ2pCLEdBQUlBLGFBQWlCNFAsb0JBQ25CLE9BQTJDLEVBQVFELFVBQzlDLEdBQUkzUCxhQUFpQnVQLEVBQzFCLE9BQU9FLEVBQWF6UCxHQUVwQixNQUFNLElBQUk3QixNQUNOLHlEQUF5RDZCLEdBeUNyRDZQLENBQVVsSSxHQUFLNUQsRUFBUThILEVBQU0sR0FBSTlILEVBQVEsSUFDNUMxQyxJOzs7Ozs7Ozs7O0FDNUVULFNBQVN5TyxFQUFPMU4sR0FDZCxNQUEyQixTQUFuQkEsRUFBS2dMLFVBNkNSLElBQUkyQyxFQUF5QixNQWlCbEMseUJBQXlCM04sR0FDdkIsTUFBTTROLEVBQVUsT0FBQTdPLEVBQUEsR0FBS2lCLEdBQ3JCLE9BQUkwTixFQUFPMU4sSUFDVEEsRUFBc0MsRUFDL0I0TixFQUFRQyxjQUFjLENBQUNDLFNBQVMsS0FFaENwTCxNQUFNQyxLQUFLaUwsRUFBUUcsWUFBWXBELElBQUszSyxHQUNyQzBOLEVBQU8xTixJQUNUQSxFQUFzQyxFQUMvQixPQUFBakIsRUFBQSxHQUFLaUIsR0FBTTZOLGNBQWMsQ0FBQ0MsU0FBUyxLQUVuQyxDQUFDOU4sSUFFVHVKLE9BQU8sQ0FBQ3lFLEVBQUdDLElBQU1ELEVBQUVFLE9BQU9ELEdBQUksSUFVckMsWUFBWXpSLEVBQVEyUixHQUtsQnZKLEtBQUt3Six1QkFBeUIsS0FLOUJ4SixLQUFLeUosd0JBQTBCLEtBQy9CekosS0FBSzBKLFlBQWEsRUFLbEIxSixLQUFLMkosUUFBVS9SLEVBQ2ZvSSxLQUFLdUosU0FBV0EsRUFDaEJ2SixLQUFLNEosZ0JBQWtCLEdBQ3ZCNUosS0FBSzZKLFVBQVksS0FDakI3SixLQUFLOEosWUFBYSxFQUtsQjlKLEtBQUsrSixlQUFpQixLQUNwQi9KLEtBQUtnSyxhQUVQaEssS0FBS2lLLFVBQ0xqSyxLQUFLZ0ssWUFVUCxVQUNNbEIsRUFBTzlJLEtBQUsySixTQUNkM0osS0FBS2tLLGFBQWEsQ0FBQ2xLLEtBQUsySixVQUNmLE9BQUF4UCxFQUFBLEdBQUs2RixLQUFLMkosU0FBU1EsV0FDNUJuSyxLQUFLa0ssYUFDZ0MsT0FBQS9QLEVBQUEsR0FBSzZGLEtBQUsySixTQUFpQixVQUM1RDVQLE9BQU9xUSxTQUNUcEssS0FBS3dKLHVCQUNIWSxTQUFTQyxnQkFBZ0JySyxLQUFLMkosUUFBVVcsSUFDdEN0SyxLQUFLdUssa0JBQWtCRCxNQUczQnRLLEtBQUt5Six3QkFDSCxJQUFJZSxpQkFBa0JGLElBQ3BCdEssS0FBS3VLLGtCQUFrQkQsS0FFM0J0SyxLQUFLeUosd0JBQXdCZ0IsUUFBUXpLLEtBQUsySixRQUFTLENBQUNlLFdBQVcsTUFHbkUxSyxLQUFLMEosWUFBYSxFQVlwQixhQUNNWixFQUFPOUksS0FBSzJKLFNBQ2QzSixLQUFLMkssZUFBZSxDQUFDM0ssS0FBSzJKLFVBQ2pCLE9BQUF4UCxFQUFBLEdBQUs2RixLQUFLMkosU0FBU1EsV0FDNUJuSyxLQUFLMkssZUFDZ0MsT0FBQXhRLEVBQUEsR0FBSzZGLEtBQUsySixTQUFpQixVQUM1RDVQLE9BQU9xUSxVQUFZcEssS0FBS3dKLHdCQUMxQlksU0FBU1Esa0JBQWtCNUssS0FBS3dKLHdCQUNoQ3hKLEtBQUt3Six1QkFBeUIsTUFDckJ4SixLQUFLeUosMEJBQ2R6SixLQUFLeUosd0JBQXdCb0IsYUFDN0I3SyxLQUFLeUosd0JBQTBCLE9BR25DekosS0FBSzBKLFlBQWEsRUFPcEIsWUFDTzFKLEtBQUs4SixhQUNSOUosS0FBSzhKLFlBQWEsRUFDbEIsSUFBVWdCLElBQUksSUFBTTlLLEtBQUsrSyxVQVM3QixrQkFBa0JULEdBQ2hCdEssS0FBS2dMLHNCQUFzQlYsR0FDM0J0SyxLQUFLK0ssUUFRUCxzQkFBc0JULEdBQ3BCLEdBQUlBLEVBQ0YsSUFBSyxJQUFJeFYsRUFBRSxFQUFHQSxFQUFJd1YsRUFBVXRWLE9BQVFGLElBQUssQ0FDdkMsSUFBSW1XLEVBQVdYLEVBQVV4VixHQUNyQm1XLEVBQVNDLFlBQ1hsTCxLQUFLa0ssYUFBYWUsRUFBU0MsWUFFekJELEVBQVNFLGNBQ1huTCxLQUFLMkssZUFBZU0sRUFBU0UsZUFjckMsUUFDRSxJQUFLbkwsS0FBSzBKLFdBQ1IsT0FBTyxFQUVMM1AsT0FBT3FRLFVBQ1RBLFNBQVNXLFFBRVAvSyxLQUFLeUosd0JBQ1B6SixLQUFLZ0wsc0JBQXNCaEwsS0FBS3lKLHdCQUF3QjJCLGVBQy9DcEwsS0FBS3dKLHdCQUNkeEosS0FBS2dMLHNCQUFzQmhMLEtBQUt3Six1QkFBdUI0QixlQUV6RHBMLEtBQUs4SixZQUFhLEVBQ2xCLElBQUl6QixFQUFPLENBQ1R6USxPQUFRb0ksS0FBSzJKLFFBQ2J1QixXQUFZLEdBQ1pDLGFBQWMsSUFFWkUsRUFBV3JMLEtBQUtvQyxZQUFZa0osa0JBQWtCdEwsS0FBSzJKLFNBQ25ENEIsRUFBVSxZQUFpQkYsRUFDN0JyTCxLQUFLNEosaUJBRVAsSUFBSyxJQUFTMVAsRUFBTHBGLEVBQUUsRUFBT0EsRUFBRXlXLEVBQVF2VyxTQUFZa0YsRUFBRXFSLEVBQVF6VyxJQUFLQSxJQUNyRCxJQUFLLElBQVMwRSxFQUFMNE8sRUFBRSxFQUFPQSxFQUFJbE8sRUFBRXNSLFFBQVF4VyxTQUFZd0UsRUFBRVUsRUFBRXNSLFFBQVFwRCxJQUFLQSxJQUMzREMsRUFBSzhDLGFBQWE3VixLQUFLa0UsR0FJM0IsSUFBSyxJQUFTVSxFQUFMcEYsRUFBRSxFQUFPQSxFQUFFeVcsRUFBUXZXLFNBQVlrRixFQUFFcVIsRUFBUXpXLElBQUtBLElBQ3JELElBQUssSUFBSXNULEVBQUVsTyxFQUFFc0IsTUFBTzRNLEVBQUlsTyxFQUFFc0IsTUFBUXRCLEVBQUV1UixXQUFZckQsSUFDOUNDLEVBQUs2QyxXQUFXNVYsS0FBSytWLEVBQVNqRCxJQUlsQ3BJLEtBQUs0SixnQkFBa0J5QixFQUN2QixJQUFJSyxHQUFXLEVBS2YsT0FKSXJELEVBQUs2QyxXQUFXbFcsUUFBVXFULEVBQUs4QyxhQUFhblcsVUFDOUMwVyxHQUFXLEVBQ1gxTCxLQUFLdUosU0FBU25VLEtBQUs0SyxLQUFLMkosUUFBU3RCLElBRTVCcUQsRUFRVCxhQUFhQyxHQUNYLElBQUssSUFBSTdXLEVBQUUsRUFBR0EsRUFBSTZXLEVBQVMzVyxPQUFRRixJQUFLLENBQ3RDLElBQUkwRSxFQUFJbVMsRUFBUzdXLEdBQ2JnVSxFQUFPdFAsSUFDVEEsRUFBRW9TLGlCQUFpQixhQUFjNUwsS0FBSytKLGlCQVU1QyxlQUFlNEIsR0FDYixJQUFLLElBQUk3VyxFQUFFLEVBQUdBLEVBQUk2VyxFQUFTM1csT0FBUUYsSUFBSyxDQUN0QyxJQUFJMEUsRUFBSW1TLEVBQVM3VyxHQUNiZ1UsRUFBT3RQLElBQ1RBLEVBQUVxUyxvQkFBb0IsYUFBYzdMLEtBQUsrSixtQjs7Ozs7Ozs7OztBQ2xTakQsTUFBTS9TLEVBQUk4VSxRQUFRNVcsVUFJWjZXLEVBQTRCL1UsRUFBRStRLFNBQVcvUSxFQUFFZ1YsaUJBQy9DaFYsRUFBRWlWLG9CQUFzQmpWLEVBQUVrVixtQkFDMUJsVixFQUFFbVYsa0JBQW9CblYsRUFBRW9WLHNCQVViSixFQUFrQixTQUFTNVEsRUFBTWlSLEdBQzVDLE9BQU9OLEVBQTBCM1csS0FBS2dHLEVBQU1pUixJQVM5QyxNQUFNLEVBS0osWUFBWWpSLEdBQ1Y0RSxLQUFLNUUsS0FBT0EsRUFZZCxhQUFhbU8sR0FDWCxPQUFPLElBQUlSLEVBQ3FCL0ksS0FBUyxLQUFHdUosR0FXOUMsZUFBZStDLEdBQ2JBLEVBQWV6QixhQU9qQixrQkFZQSxhQUFhelAsR0FDWCxHQUFJLE9BQUFqQixFQUFBLEdBQUs2RixLQUFLNUUsTUFBTW1SLFNBQVNuUixHQUMzQixPQUFPLEVBRVQsSUFBSTVCLEVBQUk0QixFQUNKb1IsRUFBTXBSLEVBQUtxUixjQUVmLEtBQU9qVCxHQUFLQSxJQUFNZ1QsR0FBT2hULElBQU13RyxLQUFLNUUsTUFFbEM1QixFQUFJLE9BQUFXLEVBQUEsR0FBS1gsR0FBR2tDLFlBQWMsT0FBQXZCLEVBQUEsR0FBS1gsR0FBRzROLEtBRXBDLE9BQU81TixJQUFNd0csS0FBSzVFLEtBWXBCLGVBQ0UsT0FBTyxPQUFBakIsRUFBQSxHQUFLNkYsS0FBSzVFLE1BQU1zUixjQVV6QixzQkFDRSxNQUFnQyxTQUF4QjFNLEtBQUs1RSxLQUFLZ0wsVUFDaEIsT0FBQWpNLEVBQUEsR0FBSzZGLEtBQUs1RSxNQUFNNk4sY0FBYyxDQUFDQyxTQUFTLElBQ3hDLEdBU0osZ0NBQ0UsSUFBSXlELEVBQU0sR0FDTm5ULEVBQUksT0FBQVcsRUFBQSxHQUFLNkYsS0FBSzVFLE1BQU13UixhQUN4QixLQUFPcFQsR0FDTG1ULEVBQUlyWCxLQUFLa0UsR0FDVEEsRUFBSSxPQUFBVyxFQUFBLEdBQUtYLEdBQUdvVCxhQUVkLE9BQU9ELEVBV1QsV0FBV3ZSLEVBQU15UixHQUNmLElBQUlMLEVBQU14TSxLQUFLNUUsZ0JBQWdCNkksU0FBV2pFLEtBQUs1RSxLQUM3QzRFLEtBQUs1RSxLQUFLcVIsY0FDWixPQUFPLE9BQUF0UyxFQUFBLEdBQUtxUyxHQUFLTSxXQUFXMVIsRUFBTXlSLEdBUXBDLHlCQUNFLE9BQU85RCxFQUF1QnVDLGtCQUNHdEwsS0FBUyxNQVc1Qyx5QkFBeUJxTSxHQUN2QixJQUFJVSxFQUFLL00sS0FBS2dOLHlCQUNWQyxFQUFPLEdBQ1gsSUFBSyxJQUFzQjNVLEVBQWxCeEQsRUFBRSxFQUFHaUIsRUFBRWdYLEVBQUcvWCxPQUFZRixFQUFFaUIsSUFBT3VDLEVBQUV5VSxFQUFHalksSUFBS0EsSUFDM0N3RCxFQUFFd0QsV0FBYW9SLEtBQUtDLGNBQ3JCbkIsRUFBZ0IxVCxFQUFHK1QsSUFDckJZLEVBQUszWCxLQUFLZ0QsR0FHZCxPQUFPMlUsRUFVVCxvQkFDRSxJQUFJN1IsRUFBTzRFLEtBQUs1RSxLQUNoQixZQUErQnBELElBQXhCb0QsRUFBS2dTLGVBQStCaFMsRUFBS2dTLGVBQWlCaFMsRUFBS2lTLGVBZTFFLFNBQVNDLEVBQTBCQyxFQUFPNUwsR0FDeEMsSUFBSyxJQUFJN00sRUFBRSxFQUFHQSxFQUFJNk0sRUFBVzNNLE9BQVFGLElBQUssQ0FDeEMsSUFBSWdELEVBQU82SixFQUFXN00sR0FDdEJHLE9BQU95RCxlQUFlNlUsRUFBT3pWLEVBQU0sQ0FDakNjLElBQUssV0FFSCxPQUQwQyxLQUM1QndDLEtBQUt0RCxJQUVyQnlKLGNBQWMsS0FpQ2IsTUFBTWlNLEVBQ1gsWUFBWXBXLEdBQ1Y0SSxLQUFLNUksTUFBUUEsRUFRZixpQkFDRSxPQUFPNEksS0FBS3NILEtBQUssR0FRbkIsa0JBQ0UsT0FBT3RILEtBQUs1SSxNQUFNUSxPQU9wQixXQUNFLE9BQU9vSSxLQUFLNUksTUFBTXFXLGdCQVN0QixFQUFhdlksVUFBVXVKLFVBTXZCLEVBQWF2SixVQUFVaUQsWUFPdkIsRUFBYWpELFVBQVVrSixhQU12QixFQUFhbEosVUFBVXlHLFlBT3ZCLEVBQWF6RyxVQUFVd1ksYUFPdkIsRUFBYXhZLFVBQVU0QixhQU12QixFQUFhNUIsVUFBVXdOLGdCQU12QixFQUFheE4sVUFBVXNKLGNBTXZCLEVBQWF0SixVQUFVdUksaUJBR3ZCLEVBQWF2SSxVQUFVd0csV0FFdkIsRUFBYXhHLFVBQVVvSixXQUV2QixFQUFhcEosVUFBVXlZLFVBRXZCLEVBQWF6WSxVQUFVMFksWUFFdkIsRUFBYTFZLFVBQVVvRyxnQkFFdkIsRUFBYXBHLFVBQVUyWSxrQkFFdkIsRUFBYTNZLFVBQVU0WSxpQkFFdkIsRUFBYTVZLFVBQVU2WSxtQkFFdkIsRUFBYTdZLFVBQVU4WSx1QkFFdkIsRUFBYTlZLFVBQVVpVSxXQUV2QixFQUFhalUsVUFBVWlWLFNBRXZCLEVBQWFqVixVQUFVK1ksVUFHdkIsRUFBYS9ZLFVBQVUwSSxZQUV2QixFQUFhMUksVUFBVXlULFVBRXZCLElBQUl1RixFQUFhLEVBRWpCLEdBQUluVSxPQUFpQixVQUFLQSxPQUFpQixTQUFTLE9BQUtBLE9BQWlCLFNBQVcsU0FBS0EsT0FBaUIsU0FBVyxRQUFHLENBTXZILE1BQU1vVSxVQUFnQnBVLE9BQWlCLFNBQVcsU0FHbEQ5RSxPQUFPNE0sb0JBQW9CLEVBQWEzTSxXQUFXdUcsUUFBU21ELElBQzlDLGlCQUFSQSxJQUNGdVAsRUFBUWpaLFVBQVUwSixHQUFRLEVBQWExSixVQUFVMEosTUFNckQwTyxFQUEwQmEsRUFBUWpaLFVBQVcsQ0FDM0MsY0FHRmdaLEVBQWFDLEVBRWJsWixPQUFPbVosaUJBQWlCWixFQUFTdFksVUFBVyxDQUUxQ21aLFlBQWEsQ0FDWCxNQUNFLE9BQU9yTyxLQUFLNUksTUFBTWtYLGVBRXBCL00sY0FBYyxHQUdoQitGLEtBQU0sQ0FDSixNQUNFLE9BQU92TixPQUFpQixTQUFnQixhQUFFaUcsS0FBSzVJLFFBRWpEbUssY0FBYyxVQWxOcEIsU0FBd0JnTSxFQUFPZ0IsR0FDN0IsSUFBSyxJQUFJelosRUFBRSxFQUFHQSxFQUFJeVosRUFBUXZaLE9BQVFGLElBQUssQ0FDckMsSUFBSTBaLEVBQVNELEVBQVF6WixHQUVyQnlZLEVBQU1pQixHQUFzQyxXQUMxQyxPQUFPeE8sS0FBSzVFLEtBQUtvVCxHQUFRQyxNQUFNek8sS0FBSzVFLEtBQU1zVCxhQXFOOUNDLENBQWUsRUFBYXpaLFVBQVcsQ0FDckMsWUFBYSxjQUFlLGVBQWdCLGNBQzVDLGVBQWdCLGVBQWdCLGtCQUNoQyxnQkFBaUIscUJBTW5Cb1ksRUFBMEIsRUFBYXBZLFVBQVcsQ0FDaEQsYUFBYyxhQUFjLFlBQzVCLGNBQWUsa0JBQW1CLG9CQUNsQyxtQkFBb0IscUJBQXNCLHlCQUMxQyxhQUFjLFdBQVksY0EvTTlCLFNBQTJCcVksRUFBTzVMLEdBQ2hDLElBQUssSUFBSTdNLEVBQUUsRUFBR0EsRUFBSTZNLEVBQVczTSxPQUFRRixJQUFLLENBQ3hDLElBQUlnRCxFQUFPNkosRUFBVzdNLEdBQ3RCRyxPQUFPeUQsZUFBZTZVLEVBQU96VixFQUFNLENBS2pDYyxJQUFLLFdBQ0gsT0FBT29ILEtBQUs1RSxLQUFLdEQsSUFNbkJnRixJQUFLLFNBQVM5RCxHQUNaZ0gsS0FBSzVFLEtBQUt0RCxHQUFRa0IsR0FFcEJ1SSxjQUFjLEtBZ01sQnFOLENBQWtCLEVBQWExWixVQUFXLENBQ3hDLGNBQWUsY0FJWixNQWdCTTJaLEVBQU0sU0FBU0MsR0FFMUIsSUFEQUEsRUFBTUEsR0FBT3JZLG9CQUNNeVgsRUFDakIsT0FBNkIsRUFFL0IsR0FBSVksYUFBZXRCLEVBQ2pCLE9BQStCLEVBRWpDLElBQUl1QixFQUFTRCxFQUFjLFNBUzNCLE9BUktDLElBRURBLEVBREVELGFBQWVFLE1BQ1IsSUFBSXhCLEVBQVNzQixHQUViLElBQUlaLEVBQThCLEdBRTdDWSxFQUFjLFNBQUlDLEdBRWJBLEksNkJDaGVUOzs7Ozs7Ozs7O0FBWU8sTUFBTUUsR0FBY2xWLE9BQWUsU0FDSmdGLFNBQVNoRixPQUFPb0MsVUFBWXBDLE9BQU9vQyxTQUFTK1MsV0FDekNuVixPQUFPb1YsZUFBd0MsMEJBV2pGLElBQUlDLEVBQVcsWUFBWTNZLFNBQVM0WSxTQUFXdFYsT0FBT3VWLFNBQVNDLE1BNEIvRCxJQUFJQyxFQUFtQnpWLE9BQU8wVixTQUFXMVYsT0FBTzBWLFFBQVFELHVCQUFvQnhYLEVBbUI1RSxJQUFJMFgsR0FBdUIsRUFRM0IsTUFBTUMsRUFBMEIsU0FBU0MsR0FDOUNGLEVBQXVCRSxHQVNsQixJQUFJQyxHQUF1QixFQW1CM0IsSUFBSUMsR0FBNkIsRUFvQmpDLElBQUlDLEdBQXNCLEVBa0IxQixJQUFJQyxHQUFvQixHOzs7Ozs7Ozs7O0FDdkkvQixTQUFTQyxFQUFzQkMsRUFBTXhXLEVBQVVWLEVBQU9xRyxFQUFLOFEsR0FDekQsSUFBSUMsRUFDQUQsSUFDRkMsRUFBNkIsaUJBQVZwWCxHQUFnQyxPQUFWQSxFQUVyQ29YLElBQ0YvUSxFQUFNNlEsRUFBS0csV0FBVzNXLEtBSTFCLElBQUk0VyxFQUFnQmpSLElBQVFyRyxJQUFVcUcsR0FBUUEsR0FBT3JHLEdBQVVBLEdBTS9ELE9BSElvWCxHQUFZRSxJQUNkSixFQUFLRyxXQUFXM1csR0FBWVYsR0FFdkJzWCxFQTBDRixNQUFNQyxFQUFjLFlBQWNDLEdBT3ZDLGNBQTBCQSxFQWtCeEIsc0JBQXNCOVcsRUFBVVYsRUFBT3FHLEdBQ3JDLE9BQU80USxFQUFzQmpRLEtBQU10RyxFQUFVVixFQUFPcUcsR0FBSyxNQWlEbERvUixFQUFzQixZQUFjRCxHQU8vQyxjQUFrQ0EsRUFFaEMsd0JBQ0UsTUFBTyxDQU1MTCxZQUFhcFIsU0FzQmpCLHNCQUFzQnJGLEVBQVVWLEVBQU9xRyxHQUNyQyxPQUFPNFEsRUFBc0JqUSxLQUFNdEcsRUFBVVYsRUFBT3FHLEVBQUtXLEtBQUttUSxnQkFTcEVJLEVBQVlHLHVCQUF5QlQsRTs7Ozs7Ozs7OztBQ3ZJckMsSUFBSVUsRUFBYyxLQU9sQixTQUFTQyxJQUFpQyxPQUFPRCxFQUNqREMsRUFBNkIxYixVQUFZRCxPQUFPb0UsT0FBT3VQLG9CQUFvQjFULFVBQVcsQ0FDcEZrTixZQUFhLENBQ1hwSixNQUFPNFgsRUFDUEMsVUFBVSxLQVVkLE1BQU1DLEVBQWUsWUFBZ0JGLEdBUS9CRyxFQUFzQlIsRUFBWU8sR0FnQnhDLE1BQU1FLEVBQXVCLFlBQWdCLFNBUTdDLE1BQU0sVUFBNkJBLEVBQ2pDLFlBQVl0UCxHQUNWM0IsUUFDQUMsS0FBS2lSLHFCQUFxQnZQLEdBRTFCMUIsS0FBS3dILEtBQU94SCxLQUFLa1IsZUFBZWxSLEtBQUttUixZQUVyQyxJQUFJaEgsRUFBV25LLEtBQUttSyxTQUFXLEdBRS9CLElBQUssSUFBSTNRLEVBQUl3RyxLQUFLd0gsS0FBS2xKLFdBQVk5RSxFQUFHQSxFQUFFQSxFQUFFb1UsWUFDeEN6RCxFQUFTN1UsS0FBS2tFLEdBQ2RBLEVBQUU0WCxxQkFBdUJwUixLQUV2QkEsS0FBS3FSLG1CQUNQclIsS0FBS3FSLGtCQUFrQkMsMEJBQ3ZCdFIsS0FBS3VSLG1CQUFrQixHQUl6QixJQUFJclEsRUFBVWxCLEtBQUt3UixxQkFDZDlQLEdBQVNSLEVBQVF1USxnQkFBbUJ2USxFQUFRdVEsZ0JBQy9DelIsS0FBSzBSLG9CQVVULHFCQUFxQmhRLEdBRW5CLEdBRGMxQixLQUFLd1Isb0JBQ1BHLGdCQUNWLElBQUssSUFBSUMsS0FBUzVSLEtBQUs2UixZQUNyQjdSLEtBQUs4UixvQkFBb0JGLEVBQU81UixLQUFLbVIsV0FBVyxTQUFXUyxJQUsvRCxJQUFLLElBQUlHLEtBQVNyUSxFQUNoQjFCLEtBQUs4UixvQkFBb0JDLEVBQU9yUSxFQUFNcVEsSUFjMUMsZ0JBQWdCblQsRUFBTTVGLEdBQ2hCZ0gsS0FBS2dTLDBCQUEwQnBULEVBQU01RixHQUFPLEdBQU8sSUFDckRnSCxLQUFLbVIsV0FBV2MsZUFBZWpTLE1BYW5DLHdCQUF3QjVFLEVBQU04VyxFQUFXQyxHQUN2QyxHQUFJblMsS0FBS29TLGFBQWVwUyxLQUFLd1Isb0JBQW9CYSxZQUcvQ3JTLEtBQUtvUyxZQUFZRSx3QkFBd0JsWCxFQUFNOFcsRUFBWWxjLElBQ3pEQSxFQUFFdWMsTUFBUXZTLEtBQ1ZtUyxFQUFRbmMsU0FFTCxDQUdMLElBQUl3YyxFQUFleFMsS0FBS21SLFdBQVdBLFdBQy9CcUIsR0FDRkEsRUFBYUYsd0JBQXdCbFgsRUFBTThXLEVBQVdDLElBYTVELGtCQUFrQk0sR0FDaEIsSUFBSW5hLEVBQUkwSCxLQUFLbUssU0FDYixJQUFLLElBQUlyVixFQUFFLEVBQUdBLEVBQUV3RCxFQUFFdEQsT0FBUUYsSUFBSyxDQUM3QixJQUFJMEUsRUFBSWxCLEVBQUV4RCxHQUVWLEdBQUlpSyxRQUFRMFQsSUFBUzFULFFBQVF2RixFQUFFOFgsMEJBQzdCLEdBQUk5WCxFQUFFc0MsV0FBYW9SLEtBQUt3RixVQUNsQkQsR0FDRmpaLEVBQUVtWix1QkFBeUJuWixFQUFFb0UsWUFDN0JwRSxFQUFFb0UsWUFBYyxJQUVoQnBFLEVBQUVvRSxZQUFjcEUsRUFBRW1aLDRCQUdmLEdBQW9CLFNBQWhCblosRUFBRTRNLFVBQ1gsR0FBSXFNLEVBQ0ZqWixFQUFFb1osb0JBQXNCbmMsU0FBU29jLGNBQWMsZUFDL0MsT0FBQTFZLEVBQUEsR0FBSyxPQUFBQSxFQUFBLEdBQUtYLEdBQUdrQyxZQUFZZ1MsYUFBYWxVLEVBQUVvWixvQkFBcUJwWixPQUN4RCxDQUNMLE1BQU1zWixFQUFVdFosRUFBRW9aLG9CQUNkRSxHQUNGLE9BQUEzWSxFQUFBLEdBQUssT0FBQUEsRUFBQSxHQUFLMlksR0FBU3BYLFlBQVlnUyxhQUFhbFUsRUFBR3NaLFFBSzVDdFosRUFBRW1FLFFBQ0w4VSxHQUNGalosRUFBRXVaLG1CQUFxQnZaLEVBQUVtRSxNQUFNcVYsUUFDL0J4WixFQUFFbUUsTUFBTXFWLFFBQVUsUUFFbEJ4WixFQUFFbUUsTUFBTXFWLFFBQVV4WixFQUFFdVosb0JBSTFCdlosRUFBRThYLHlCQUEyQm1CLEVBQ3pCalosRUFBRStYLG1CQUNKL1gsRUFBRStYLGtCQUFrQmtCLElBZ0IxQiw0QkFBNEJyWCxFQUFNd0QsRUFBTTVGLEdBQ2xDb0MsRUFBS2tXLDBCQUNMbFcsRUFBS1UsVUFBWW9SLEtBQUt3RixXQUFxQixlQUFSOVQsRUFDckN4RCxFQUFLdVgsdUJBQXlCM1osRUFFOUIrRyxNQUFNa1QsNEJBQTRCN1gsRUFBTXdELEVBQU01RixHQVVsRCxrQkFDRSxJQUFJdVosRUFBUXZTLEtBQUtrVCxjQUNqQixJQUFLWCxFQUFPLENBQ1YsSUFBSXJSLEVBQ0pxUixFQUFRdlMsS0FDUixHQUdFdVMsRUFBUUEsRUFBTXBCLFdBQVdBLGtCQUNqQmpRLEVBQVVxUixFQUFNZix1QkFBeUJ0USxFQUFRbVIsYUFDM0RyUyxLQUFLa1QsY0FBZ0JYLEVBRXZCLE9BQU9BLEVBVVIsY0FBY25iLEdBQ1osT0FBTyxHQUtaLEVBQXFCbEMsVUFBVWljLFdBRS9CLEVBQXFCamMsVUFBVXNjLG9CQUUvQixFQUFxQnRjLFVBQVVrZCxZQUUvQixFQUFxQmxkLFVBQVVtYyxrQkFFL0IsRUFBcUJuYyxVQUFVMmMsWUFRL0IsTUFBTXNCLEVBQThCNUMsRUFBWSxHQUVoRCxTQUFTNkMsRUFBZS9ZLEdBTXRCLElBQUltWSxFQUFlblksRUFBUzhXLFdBQzVCLE9BQU9xQixHQUFnQkEsRUFBYUosYUFBZUksRUFPckQsU0FBU2EsRUFBdUJoWixFQUFVaVosRUFBY3BTLEdBS3RELElBQUlxUyxFQUFrQnJTLEVBQVFpUCxZQUM1QmdELEVBQThCLEVBRzVCSyxFQUFXQyxRQUNiRixFQUFrQkMsRUFBV0MsTUFBTUYsSUFRckMsSUFBSUcsRUFBUSxjQUFjSCxJQUsxQixPQUhBRyxFQUFNeGUsVUFBVXNjLG9CQUFzQnRRLEVBQ3RDd1MsRUFBTXhlLFVBQVV5ZSxjQUFjdFosR0F3RGhDLFNBQTBCcVosRUFBT3JaLEVBQVVpWixFQUFjcFMsR0FDdkQsSUFBSTBTLEVBQVlOLEVBQWFNLFdBQWEsR0FDMUMsSUFBSyxJQUFJN0IsS0FBUzdRLEVBQVF1USxjQUFlLFFBQ2hDbUMsRUFBVTdCLEdBQ2pCLElBQUk4QixFQUF5QjNTLEVBQVE0UyxtQkFDakNELEdBQ0ZILEVBQU14ZSxVQUFVNmUsbUJBQW1CaEMsRUFDakMyQixFQUFNeGUsVUFBVThlLHNCQUFzQkMsT0FDdEMsQ0FBQ0MsR0FBSUMsRUFBK0JwQyxFQUFPOEIsS0FHakQsR0FBSTNTLEVBQVF5USxpQkFBbUJ0WCxFQUFTOFcsV0FDdEMsSUFBSyxJQUFJUyxLQUFTZ0MsRUFDaEJGLEVBQU14ZSxVQUFVNmUsbUJBQW1CbkMsRUFDakM4QixFQUFNeGUsVUFBVThlLHNCQUFzQkMsT0FDdEMsQ0FBQ0MsR0FhQSxTQUF3QmhFLEVBQU10UixFQUFNOEMsR0FDekN3TyxFQUFLaUIsV0FBV2EsMEJBQTBCLFNBQVdwVCxFQUFNOEMsRUFBTTlDLElBQU8sR0FBTSxNQXBGaEZ3VixDQUFpQlYsRUFBT3JaLEVBQVVpWixFQUFjcFMsR0FDekN3UyxFQU1ULFNBQVNXLEVBQW9CaGEsRUFBVWlaLEVBQWNwUyxHQUNuRCxJQUFJb1QsRUFBc0JwVCxFQUFReVEsZ0JBQ2xDLEdBQUkyQyxFQUFxQixDQUV2QixJQUFJWixFQUFRSixFQUFhaUIsd0JBQ3pCLElBQUtiLEVBQU8sQ0FLVixJQUFJYyxFQUFrQnRULEVBQVFpUCxZQUFjWSxFQUFzQkQsRUFFbEU0QyxFQUFRSixFQUFhaUIsd0JBQ25CLGNBQWtDQyxJQUdwQyxJQUFJWixFQUFZTixFQUFhTSxVQUM3QixJQUFLLElBQUloVixLQUFRZ1YsRUFDZkYsRUFBTXhlLFVBQVU2ZSxtQkFBbUIsU0FBV25WLEVBQzVDOFUsRUFBTXhlLFVBQVU4ZSxzQkFBc0JTLFVBQ3RDLENBQUNQLEdBQUlRLEVBQTRCOVYsRUFBTTBWLEtBQ3pDWixFQUFNeGUsVUFBVXlmLHlCQUF5QixTQUFXL1YsSUF2UzVELFNBQXlCdkUsRUFBVStILEdBQ2pDdU8sRUFBY3RXLEVBQ2RwRixPQUFPMmYsZUFBZXZhLEVBQVUrSCxFQUFZbE4sV0FDNUMsSUFBSWtOLEVBQ0p1TyxFQUFjLEtBc1Naa0UsQ0FBZ0J4YSxFQUFVcVosR0FHdEJyWixFQUFTeWEsYUFHWDdmLE9BQU9nUyxPQUFPNU0sRUFBUzBhLE9BQVExYSxFQUFTeWEsYUFHMUN6YSxFQUFTZ1csV0FBYSxHQUN0QmhXLEVBQVMyYSxjQUFnQixLQUN6QjNhLEVBQVM0YSxVQUFZLEtBQ3JCNWEsRUFBU3FYLHFCQUtiLFNBQVNnRCxFQUE0QlEsRUFBVVosR0FDN0MsT0FBTyxTQUF5QmphLEVBQVV1RSxFQUFNOEMsR0FDOUM0UyxFQUFvQmxmLEtBQUtpRixFQUFTZ1gsa0JBQ2hDelMsRUFBS3VXLFVBQVUsU0FBU25nQixRQUFTME0sRUFBTTlDLEtBd0I3QyxTQUFTdVYsRUFBK0JpQixFQUFVdkIsR0FDaEQsT0FBTyxTQUE0QjNELEVBQU10UixFQUFNOEMsR0FDN0NtUyxFQUF1QnplLEtBQUs4YSxFQUFLbUIsa0JBQy9CbkIsRUFBTXRSLEVBQU04QyxFQUFNOUMsS0F5RmpCLFNBQVM0VSxFQUFXblosRUFBVWdiLEVBQU9uVSxHQUkxQyxHQUFJLE1BQXlCa1MsRUFBZS9ZLEdBQzFDLE1BQU0sSUFBSWxELE1BQU0sb0RBR2xCLEdBREErSixFQUE0Q0EsR0FBVyxHQUNuRDdHLEVBQVNnWCxrQkFDWCxNQUFNLElBQUlsYSxNQUFNLDZDQUVsQmtELEVBQVNnWCxrQkFBb0JnRSxFQUU3QixJQUFJL0IsR0FEUytCLEVBQVFBLEVBQU1qVCxZQUFjLEdBQ2pCa1QsZUFBZWpiLEdBT25Da2IsRUFBWWpDLEVBQWFrQyx3QkFDeEJELElBQ0hBLEVBQVlsQyxFQUF1QmhaLEVBQVVpWixFQUFjcFMsR0FDM0RvUyxFQUFha0Msd0JBQTBCRCxHQUd6Q2xCLEVBQW9CaGEsRUFBVWlaLEVBQWNwUyxHQUc1QyxJQUFJd1MsRUFBUSxjQUErQjZCLElBVTNDLE9BUkE3QixFQUFNeGUsVUFBVWtkLFlBQWNnQixFQUFlL1ksR0FFN0NxWixFQUFNeGUsVUFBVWljLFdBQTBDLEVBRTFEdUMsRUFBTXhlLFVBQVVtYyxrQkFBMkMsRUFFM0RxQyxFQUFNeGUsVUFBVTJjLFlBQWN5QixFQUFhTSxVQUMzQ0YsRUFBeUQsRUFDbERBLEVBdUJGLFNBQVMrQixFQUFnQnBiLEVBQVVlLEdBQ3hDLElBQUltWCxFQUNKLEtBQU9uWCxHQUlMLEdBQUttWCxFQUFRblgsRUFBS2dXLHFCQUF1QixDQUd2QyxHQUFJbUIsRUFBTXBCLFlBQWM5VyxFQUd0QixPQUFPa1ksRUFGUG5YLEVBQU9tWCxFQUFNcEIsZ0JBT2YvVixFQUFPLE9BQUFqQixFQUFBLEdBQUtpQixHQUFNTSxXQUd0QixPQUFPOzs7Ozs7Ozs7Ozs7Ozs7Ozs7RUNya0JULE1BQU1nYSxFQUNKLFlBQ0VqRixFQUNFLFlBQWdCM1EsZUFrSHRCcVAsZUFBZXdHLE9BQU8sV0E3RmYsY0FBc0JELEVBRTNCLGdDQUFrQyxNQUFPLENBQUMsZ0JBRTFDLGNBRUUsR0FEQTNWLFFBQ0ksSUFDRixNQUFNLElBQUk1SSxNQUFNLDhDQUVsQjZJLEtBQUt3SCxLQUFPLEtBQ1p4SCxLQUFLNFYsRUFBSSxLQUNUNVYsS0FBSzZWLFdBQWEsS0FPcEIsMkJBRUU3VixLQUFLbVEsYUFBYyxFQU9yQixvQkFDRW5RLEtBQUtyQyxNQUFNcVYsUUFBVSxPQUNyQmhULEtBQUt5RyxTQU9QLHVCQUNFekcsS0FBSzhWLG1CQUdQLG1CQUNFLE9BQUEzYixFQUFBLEdBQUssT0FBQUEsRUFBQSxHQUFLNkYsTUFBTXRFLFlBQVkwQyxhQUFhNEIsS0FBS3dILEtBQU14SCxNQUd0RCxtQkFDRSxHQUFJQSxLQUFLNlYsV0FDUCxJQUFLLElBQUkvZ0IsRUFBRSxFQUFHQSxFQUFFa0wsS0FBSzZWLFdBQVc3Z0IsT0FBUUYsSUFDdENrTCxLQUFLd0gsS0FBS3JQLFlBQVk2SCxLQUFLNlYsV0FBVy9nQixJQVU1QyxTQUNFLElBQUl1RixFQUNKLElBQUsyRixLQUFLNlYsV0FBWSxDQUVwQixHQURBeGIsRUFBOENBLEdBQVkyRixLQUFLeEIsY0FBYyxhQUN4RW5FLEVBQVUsQ0FFYixJQUFJMGIsRUFBVyxJQUFJdkwsaUJBQWlCLEtBRWxDLEdBREFuUSxFQUE4QzJGLEtBQUt4QixjQUFjLGFBQzdEbkUsRUFJRixNQUFNLElBQUlsRCxNQUFNLHdDQUhoQjRlLEVBQVNsTCxhQUNUN0ssS0FBS3lHLFdBTVQsWUFEQXNQLEVBQVN0TCxRQUFRekssS0FBTSxDQUFDMEssV0FBVyxJQUdyQzFLLEtBQUt3SCxLQUFPeEgsS0FBS2tSLGVBQ29CLEdBQ3JDbFIsS0FBSzRWLEVBQUk1VixLQUFLd0gsS0FBS29PLEVBQ25CNVYsS0FBSzZWLFdBQWEsR0FDbEIsSUFBSyxJQUFJcmMsRUFBRXdHLEtBQUt3SCxLQUFLbEosV0FBWTlFLEVBQUdBLEVBQUVBLEVBQUVvVSxZQUN0QzVOLEtBQUs2VixXQUFXN1YsS0FBSzZWLFdBQVc3Z0IsUUFBVXdFLEVBRTVDd0csS0FBSzBSLG9CQUVQMVIsS0FBS2dXLG1CQUNMaFcsS0FBS2lXLGNBQWMsSUFBSUMsWUFBWSxhQUFjLENBQy9DQyxTQUFTLEVBQ1RDLFVBQVUsUTs7Ozs7Ozs7OztBQy9HaEIsTUFBTUMsRUFBZ0I1RixFQUFvQixLQXdHbkMsTUFBTSxVQUFrQjRGLEVBSTdCLGdCQUFrQixNQUFPLGFBRXpCLHNCQUF3QixPQUFPLEtBRS9CLHdCQVNFLE1BQU8sQ0FNTEMsTUFBTyxDQUNMNWUsS0FBTW9HLE9BT1J5WSxHQUFJLENBQ0Y3ZSxLQUFNOEgsT0FDTnhHLE1BQU8sUUFTVHdkLFFBQVMsQ0FDUDllLEtBQU04SCxPQUNOeEcsTUFBTyxTQVNUeWQsYUFBYyxDQUNaL2UsS0FBTThILE9BQ054RyxNQUFPLGNBVVQwZCxLQUFNLENBQ0poZixLQUFNaWYsU0FDTlosU0FBVSxpQkFVWmEsT0FBUSxDQUNObGYsS0FBTWlmLFNBQ05aLFNBQVUsbUJBVVp0TCxRQUFTLENBQ1AvUyxLQUFNOEgsT0FDTnVXLFNBQVUsb0JBVVpjLE1BQU8zWCxPQVFQNFgsa0JBQW1CLENBQ2pCcGYsS0FBTXdILE9BQ042WCxRQUFRLEVBQ1JDLFVBQVUsR0FVWkMsYUFBYyxDQUNadmYsS0FBTXdILE9BQ042VyxTQUFVLHdCQWVabUIsZ0JBQWlCLENBQ2Z4ZixLQUFNd0gsT0FDTmxHLE1BQU8sSUFHVG1lLGlCQUFrQixDQUNoQnpmLEtBQU13SCxPQUNOa1ksU0FBVSx3Q0FPaEIsdUJBQ0UsTUFBTyxDQUFFLDJCQUdYLGNBQ0VyWCxRQUNBQyxLQUFLcVgsWUFBYyxHQUNuQnJYLEtBQUtzWCxRQUFVclMsSUFDZmpGLEtBQUt1WCxPQUFTLEdBQ2R2WCxLQUFLd1gsa0JBQW9CLEtBQ3pCeFgsS0FBS3lYLG9CQUFzQixHQUMzQnpYLEtBQUswWCxhQUFlLEtBQ3BCMVgsS0FBSzJYLGdCQUFrQixLQUN2QjNYLEtBQUs0WCxTQUFXLEtBQ2hCNVgsS0FBSzZYLFdBQWEsS0FDbEI3WCxLQUFLOFgsZUFBaUIsS0FFdEI5WCxLQUFLK1gsT0FBUyxLQUNkL1gsS0FBS2dZLGNBQWUsRUFDcEJoWSxLQUFLM0YsU0FBVyxLQU9sQix1QkFDRTBGLE1BQU1rWSx1QkFDTmpZLEtBQUtnWSxjQUFlLEVBQ3BCLElBQUssSUFBSWxqQixFQUFFLEVBQUdBLEVBQUVrTCxLQUFLcVgsWUFBWXJpQixPQUFRRixJQUN2Q2tMLEtBQUtrWSxpQkFBaUJwakIsR0FRMUIsb0JBSUUsR0FIQWlMLE1BQU1zRyxvQkFDTnJHLEtBQUtyQyxNQUFNcVYsUUFBVSxPQUVqQmhULEtBQUtnWSxhQUFjLENBQ3JCaFksS0FBS2dZLGNBQWUsRUFDcEIsSUFBSUcsRUFBZ0IsT0FBQWhlLEVBQUEsR0FBSyxPQUFBQSxFQUFBLEdBQUs2RixNQUFNdEUsWUFDcEMsSUFBSyxJQUFJNUcsRUFBRSxFQUFHQSxFQUFFa0wsS0FBS3FYLFlBQVlyaUIsT0FBUUYsSUFDdkNrTCxLQUFLb1ksaUJBQWlCdGpCLEVBQUdxakIsSUFLL0Isc0JBSUUsSUFBS25ZLEtBQUsrWCxPQUFRLENBQ2hCLElBQUkxZCxFQUFXMkYsS0FBSzNGLFNBQThDMkYsS0FBS3hCLGNBQWMsWUFDckYsSUFBS25FLEVBQVUsQ0FFYixJQUFJMGIsRUFBVyxJQUFJdkwsaUJBQWlCLEtBQ2xDLElBQUl4SyxLQUFLeEIsY0FBYyxZQUlyQixNQUFNLElBQUlySCxNQUFNLDBDQUhoQjRlLEVBQVNsTCxhQUNUN0ssS0FBS3FZLGFBTVQsT0FEQXRDLEVBQVN0TCxRQUFRekssS0FBTSxDQUFDMEssV0FBVyxLQUM1QixFQUdULElBQUkrRyxFQUFnQixHQUNwQkEsRUFBY3pSLEtBQUt1VyxLQUFNLEVBQ3pCOUUsRUFBY3pSLEtBQUt3VyxVQUFXLEVBQzlCL0UsRUFBY3pSLEtBQUt5VyxlQUFnQixFQUNuQ3pXLEtBQUsrWCxPQUFTdkUsRUFBV25aLEVBQVUyRixLQUFNLENBQ3ZDbVEsWUFBYW5RLEtBQUttUSxZQUNsQmtDLGFBQWEsRUFDYlosY0FBZUEsRUFNZkUsZ0JBQWlCLFNBQVMvUyxFQUFNNUYsR0FDOUIsSUFBSXNmLEVBQUt0WSxLQUFLcVgsWUFDZCxJQUFLLElBQVNuSCxFQUFMcGIsRUFBRSxFQUFVQSxFQUFFd2pCLEVBQUd0akIsU0FBWWtiLEVBQUtvSSxFQUFHeGpCLElBQUtBLElBQ2pEb2IsRUFBS3lCLGdCQUFnQi9TLEVBQU01RixJQVMvQjhhLG1CQUFvQixTQUFTNUQsRUFBTXRSLEVBQU01RixHQUN2QyxHQUFJLFlBQVFnSCxLQUFLdVcsR0FBSTNYLEdBQU8sQ0FDMUIsSUFBSWlHLEVBQU1xTCxFQUFLbFEsS0FBS3lXLGNBQ2hCN1gsR0FBUW9CLEtBQUt1VyxLQUNmdlcsS0FBS3NXLE1BQU16UixHQUFPN0wsR0FFcEIsSUFBSXNPLEVBQU8sWUFBVXRILEtBQUt1VyxHQUFJLEdBQUc1WCwwQkFBMEIsUUFBU3FCLFNBQVM2RSxJQUFPakcsR0FDcEZvQixLQUFLdVksV0FBV2pSLEVBQU10TyxPQUs5QixPQUFPLEVBR1Qsa0JBTUUsT0FBT2dILEtBQUttUixXQUFXaUIsYUFBZXBTLEtBQUttUixXQUc3Qyw0QkFBNEJxSCxHQUMxQixHQUFvQyxpQkFBekJBLEVBQW1DLENBQzVDLElBQUlDLEVBQWFELEVBQ2IxSixFQUFNOU8sS0FBSzBZLGtCQUNmLE9BQU8sV0FBYSxPQUFPNUosRUFBSTJKLEdBQVloSyxNQUFNSyxFQUFLSixZQUd4RCxPQUFPOEosRUFHVCxjQUFjOUIsR0FDWjFXLEtBQUs0WCxTQUFXNVgsS0FBSzJZLDRCQUE0QmpDLEdBQzdDMVcsS0FBS3NXLE9BQVN0VyxLQUFLNFksaUJBQWlCNVksS0FBS3FZLFVBRy9DLGdCQUFnQnpCLEdBQ2Q1VyxLQUFLNlgsV0FBYTdYLEtBQUsyWSw0QkFBNEIvQixHQUMvQzVXLEtBQUtzVyxPQUFTdFcsS0FBSzRZLGlCQUFpQjVZLEtBQUtxWSxVQUcvQyxtQkFBbUJRLEdBQ2pCLE9BQU9DLEtBQUtDLEtBQUssSUFBS0YsR0FHeEIsdUJBQ003WSxLQUFLaVgsZUFDUGpYLEtBQUtzWCxRQUFVdFgsS0FBS2lYLGFBQ3BCalgsS0FBSzBYLGFBQWUxWCxLQUFLaVgsYUFDekJqWCxLQUFLMlgsZ0JBQWtCcUIsWUFBWUMsT0FJdkMsbUJBR01qWixLQUFLc1csT0FBU3RXLEtBQUtzWCxRQUFVdFgsS0FBS3NXLE1BQU10aEIsUUFDMUNnTCxLQUFLNFksaUJBQWlCNVksS0FBS2taLHNCQUkvQix1QkFDRUMsc0JBQXNCLElBQUluWixLQUFLb1osaUJBR2pDLGdCQUlFLElBQUlDLEVBQWdCTCxZQUFZQyxNQUM1QkssRUFBUXRaLEtBQUttWCxrQkFBb0JrQyxFQUFnQnJaLEtBQUsyWCxpQkFDMUQzWCxLQUFLMFgsYUFBZW9CLEtBQUtTLE1BQU12WixLQUFLMFgsYUFBZTRCLElBQVUsRUFDN0R0WixLQUFLc1gsU0FBV3RYLEtBQUswWCxhQUNyQjFYLEtBQUsyWCxnQkFBa0IwQixFQUN2QnJaLEtBQUs0WSxpQkFBaUI1WSxLQUFLcVksVUFHN0IsbUJBQ0VyWSxLQUFLOFgsZUFBaUI5WCxLQUFLeUssU0FDekJ6SyxLQUFLeUssUUFBUXFJLFFBQVEsS0FBTSxLQUFLM0ssTUFBTSxLQUcxQyxlQUFlcVIsR0FDVHhaLEtBQUtzVyxRQUFVeFksTUFBTXFILFFBQVFuRixLQUFLc1csUUFDcEN6YyxRQUFRd0MsS0FBSywrQ0FBZ0QyRCxLQUFLc1csT0FJL0R0VyxLQUFLeVosaUJBQWlCRCxFQUFPbFMsS0FBTWtTLEVBQU94Z0IsU0FHN0NnSCxLQUFLMFosdUJBQ0wxWixLQUFLNFksaUJBQWlCNVksS0FBS3FZLFdBSS9CLHNCQUFzQi9RLEdBRXBCLEdBQUl0SCxLQUFLNFgsVUFBWTVYLEtBQUs2WCxXQUN4QixHQUFLdlEsR0FHRSxHQUFJdEgsS0FBSzhYLGVBQWdCLENBRTlCLElBQUk2QixFQUFRM1osS0FBSzhYLGVBQ2pCLElBQUssSUFBSWhqQixFQUFFLEVBQUdBLEVBQUU2a0IsRUFBTTNrQixPQUFRRixJQUNHLElBQTNCd1MsRUFBS0MsUUFBUW9TLEVBQU03a0IsS0FDckJrTCxLQUFLNFksaUJBQWlCNVksS0FBS3FZLFNBQVVyWSxLQUFLNlcsYUFOOUM3VyxLQUFLNFksaUJBQWlCNVksS0FBS3FZLFNBQVVyWSxLQUFLNlcsT0FpQmhELGlCQUFpQjNDLEVBQUkyQyxFQUFRLEdBQzNCN1csS0FBS3dYLGtCQUFvQixJQUFVb0MsU0FDN0I1WixLQUFLd1gsa0JBQ0xYLEVBQVEsRUFBSSxJQUFRZ0QsTUFBTWhELEdBQVMsSUFDbkMzQyxFQUFHM2EsS0FBS3lHLE9BQ2QsWUFBaUJBLEtBQUt3WCxtQkFXeEIsU0FFRXhYLEtBQUs0WSxpQkFBaUI1WSxLQUFLcVksVUFDM0IsT0FBQXROLEVBQUEsS0FHRixXQUNPL0ssS0FBSzhaLHdCQUlWOVosS0FBSytaLHFCQU1ML1osS0FBS3VYLE9BQU92aUIsT0FBUyxFQUVyQmdMLEtBQUtnYSxzQkFBc0JoYSxLQUFLcVgsWUFBWXJpQixRQUU1Q2dMLEtBQUtpVyxjQUFjLElBQUlDLFlBQVksYUFBYyxDQUMvQ0MsU0FBUyxFQUNUQyxVQUFVLEtBR1pwVyxLQUFLaWEsb0JBR1AscUJBQ0UsSUFBSTNELEVBQVF0VyxLQUFLc1csT0FBUyxHQUN0QjRELEVBQW9CLElBQUlwYyxNQUFNd1ksRUFBTXRoQixRQUN4QyxJQUFLLElBQUlGLEVBQUUsRUFBR0EsRUFBRXdoQixFQUFNdGhCLE9BQVFGLElBQzVCb2xCLEVBQWtCcGxCLEdBQUtBLEVBR3JCa0wsS0FBSzZYLGFBQ1BxQyxFQUFvQkEsRUFBa0J0RCxPQUFPLENBQUM5aEIsRUFBRytQLEVBQUtzVixJQUNwRG5hLEtBQUs2WCxXQUFXdkIsRUFBTXhoQixHQUFJK1AsRUFBS3NWLEtBRy9CbmEsS0FBSzRYLFVBQ1BzQyxFQUFrQnhELEtBQUssQ0FBQ3ROLEVBQUdDLElBQU1ySixLQUFLNFgsU0FBU3RCLEVBQU1sTixHQUFJa04sRUFBTWpOLEtBR2pFLE1BQU0rUSxFQUFvQnBhLEtBQUt5WCxvQkFBc0IsR0FDckQsSUFBSTRDLEVBQVUsRUFFZCxNQUFNQyxFQUFReEIsS0FBS3lCLElBQUlMLEVBQWtCbGxCLE9BQVFnTCxLQUFLc1gsU0FDdEQsS0FBTytDLEVBQVFDLEVBQU9ELElBQVcsQ0FDL0IsSUFBSW5LLEVBQU9sUSxLQUFLcVgsWUFBWWdELEdBQ3hCRyxFQUFVTixFQUFrQkcsR0FDNUJJLEVBQU9uRSxFQUFNa0UsR0FDakJKLEVBQWtCSSxHQUFXSCxFQUN6Qm5LLEdBQ0ZBLEVBQUs0QixvQkFBb0I5UixLQUFLdVcsR0FBSWtFLEdBQ2xDdkssRUFBSzRCLG9CQUFvQjlSLEtBQUt3VyxRQUFTNkQsR0FDdkNuSyxFQUFLNEIsb0JBQW9COVIsS0FBS3lXLGFBQWMrRCxHQUM1Q3RLLEVBQUt3SyxvQkFFTDFhLEtBQUsyYSxpQkFBaUJGLEVBQU1KLEVBQVNHLEdBSXpDLElBQUssSUFBSTFsQixFQUFFa0wsS0FBS3FYLFlBQVlyaUIsT0FBTyxFQUFHRixHQUFHdWxCLEVBQVN2bEIsSUFDaERrTCxLQUFLNGEsMEJBQTBCOWxCLEdBSW5DLGlCQUFpQitQLEdBQ2YsSUFBSXFMLEVBQU9sUSxLQUFLcVgsWUFBWXhTLEdBQzVCLE1BQU1nVyxFQUFjLE9BQUExZ0IsRUFBQSxHQUFLK1YsRUFBSzFJLE1BQzlCLElBQUssSUFBSTFTLEVBQUUsRUFBR0EsRUFBRW9iLEVBQUsvRixTQUFTblYsT0FBUUYsSUFBSyxDQUN6QyxJQUFJZ21CLEVBQUs1SyxFQUFLL0YsU0FBU3JWLEdBQ3ZCK2xCLEVBQVkxaUIsWUFBWTJpQixHQUUxQixPQUFPNUssRUFHVCxpQkFBaUJyTCxFQUFLa1csR0FDcEIsSUFBSTdLLEVBQU9sUSxLQUFLcVgsWUFBWXhTLEdBRTVCa1csRUFBTzNjLGFBQWE4UixFQUFLMUksS0FBTXhILE1BR2pDLDBCQUEwQjZFLEdBQ3hCLElBQUlxTCxFQUFPbFEsS0FBS2tZLGlCQUFpQnJULEdBQzdCcUwsR0FDRmxRLEtBQUt1WCxPQUFPamlCLEtBQUs0YSxHQUVuQmxRLEtBQUtxWCxZQUFZMkQsT0FBT25XLEVBQUssR0FHL0IsZ0JBQWdCNFYsRUFBTUosRUFBU0csR0FDN0IsSUFBSWpJLEVBQVEsR0FJWixPQUhBQSxFQUFNdlMsS0FBS3VXLElBQU1rRSxFQUNqQmxJLEVBQU12UyxLQUFLd1csU0FBVzZELEVBQ3RCOUgsRUFBTXZTLEtBQUt5VyxjQUFnQitELEVBQ3BCLElBQUl4YSxLQUFLK1gsT0FBT3hGLEdBR3pCLGlCQUFpQmtJLEVBQU1KLEVBQVNHLEdBQzlCLElBQUl0SyxFQUFPbFEsS0FBS3VYLE9BQU8wRCxNQUNuQi9LLEdBR0ZBLEVBQUs0QixvQkFBb0I5UixLQUFLdVcsR0FBSWtFLEdBQ2xDdkssRUFBSzRCLG9CQUFvQjlSLEtBQUt3VyxRQUFTNkQsR0FDdkNuSyxFQUFLNEIsb0JBQW9COVIsS0FBS3lXLGFBQWMrRCxHQUM1Q3RLLEVBQUt3SyxvQkFFTHhLLEVBQU9sUSxLQUFLa2IsZ0JBQWdCVCxFQUFNSixFQUFTRyxHQUU3QyxJQUFJVyxFQUFZbmIsS0FBS3FYLFlBQVlnRCxFQUFVLEdBQ3ZDZSxFQUFhRCxFQUFZQSxFQUFVaFIsU0FBUyxHQUFLbkssS0FHckQsT0FGQSxPQUFBN0YsRUFBQSxHQUFLLE9BQUFBLEVBQUEsR0FBSzZGLE1BQU10RSxZQUFZMEMsYUFBYThSLEVBQUsxSSxLQUFNNFQsR0FDcERwYixLQUFLcVgsWUFBWWdELEdBQVduSyxFQUNyQkEsRUFhVCxrQkFBa0JtTCxHQUNoQixJQUFLLElBQUl2bUIsRUFBRSxFQUFHQSxFQUFFa0wsS0FBS3FYLFlBQVlyaUIsT0FBUUYsSUFDdkNrTCxLQUFLcVgsWUFBWXZpQixHQUFHeWMsa0JBQWtCOEosR0FNMUMsaUJBQWlCL1QsRUFBTXRPLEdBQ3JCLElBQUlzaUIsRUFBWWhVLEVBQUtyTixNQUFNLEdBQ3ZCc2hCLEVBQU1ELEVBQVUvVCxRQUFRLEtBQ3hCaVUsRUFBV0QsRUFBTSxFQUFJRCxFQUFZQSxFQUFVbkcsVUFBVSxFQUFHb0csR0FFNUQsR0FBSUMsR0FBWUMsU0FBU0QsRUFBVSxJQUFLLENBQ3RDLElBQUlFLEVBQWNILEVBQU0sRUFBSSxHQUFLRCxFQUFVbkcsVUFBVW9HLEVBQUksR0FFekR2YixLQUFLMmIsc0JBQXNCRCxHQUszQixJQUFJckIsRUFBVXJhLEtBQUt5WCxvQkFBb0IrRCxHQUNuQ3RMLEVBQU9sUSxLQUFLcVgsWUFBWWdELEdBQzVCLEdBQUluSyxFQUFNLENBQ1IsSUFBSTBMLEVBQVc1YixLQUFLdVcsSUFBTW1GLEVBQWMsSUFBTUEsRUFBYyxJQUc1RHhMLEVBQUs4QiwwQkFBMEI0SixFQUFVNWlCLEdBQU8sR0FBTyxHQUN2RGtYLEVBQUt3SyxtQkFFUCxPQUFPLEdBZVgsZUFBZUksR0FDYixJQUFJZSxFQUFXN2IsS0FBS3lWLGdCQUFnQnFGLEdBQ3BDLE9BQU9lLEdBQVlBLEVBQVM3YixLQUFLdVcsSUFZbkMsZ0JBQWdCdUUsR0FDZCxJQUFJZSxFQUFXN2IsS0FBS3lWLGdCQUFnQnFGLEdBQ3BDLE9BQU9lLEdBQVlBLEVBQVM3YixLQUFLd1csU0FvQm5DLGdCQUFnQnNFLEdBQ2QsT0FBT3JGLEVBQWdCelYsS0FBSzNGLFNBQVV5Z0IsSUFLMUMzTCxlQUFld0csT0FBTyxFQUFVbUcsR0FBSTs7Ozs7Ozs7OztBQ3JyQjdCLE1BQU0sVUFBYyxJQUl6QixnQkFBa0IsTUFBTyxTQUV6QixzQkFBd0IsT0FBTyxLQUUvQix3QkFFRSxNQUFPLENBYUxDLEdBQUksQ0FDRnJrQixLQUFNcUgsUUFDTmdYLFNBQVUsb0JBVVppRyxRQUFTLENBQ1B0a0IsS0FBTXFILFFBQ05nWCxTQUFVLHFCQU9oQixjQUNFaFcsUUFDQUMsS0FBS3dYLGtCQUFvQixLQUN6QnhYLEtBQUtpYyxlQUFpQixLQUN0QmpjLEtBQUtrYyxXQUFhLEtBQ2xCbGMsS0FBS21jLFNBQVUsRUFDZm5jLEtBQUsrWCxPQUFTLEtBQ2QvWCxLQUFLc1IsMEJBQTJCLEVBR2xDLG1CQWlCRXRSLEtBQUt3WCxrQkFBb0IsSUFBVW9DLFNBQzdCNVosS0FBS3dYLGtCQUNMLElBQ0EsSUFBTXhYLEtBQUtxWSxZQUNqQixZQUFpQnJZLEtBQUt3WCxtQkFPeEIsdUJBQ0V6WCxNQUFNa1ksdUJBQ04sTUFBTThDLEVBQVMsT0FBQTVnQixFQUFBLEdBQUs2RixNQUFNdEUsV0FDckJxZixJQUFXQSxFQUFPamYsVUFBWW9SLEtBQUtrUCx3QkFDbkMsT0FBQWppQixFQUFBLEdBQUs0Z0IsR0FBUTNULE9BQ2hCcEgsS0FBS3FjLHFCQVFULG9CQUNFdGMsTUFBTXNHLG9CQUNOckcsS0FBS3JDLE1BQU1xVixRQUFVLE9BQ2pCaFQsS0FBSytiLElBQ1AvYixLQUFLNFksbUJBWVQsU0FDRSxPQUFBN04sRUFBQSxLQUdGLFdBQ0UsR0FBSS9LLEtBQUsrYixHQUFJLENBQ1gsSUFBSy9iLEtBQUtzYyxtQkFFUixPQUVGdGMsS0FBS3VSLHlCQUNJdlIsS0FBS2djLFNBQ2RoYyxLQUFLcWMsc0JBRUZyYyxLQUFLZ2MsU0FBV2hjLEtBQUtrYyxZQUN4QmxjLEtBQUt1UixvQkFFSHZSLEtBQUsrYixJQUFNL2IsS0FBS21jLFVBQ2xCbmMsS0FBS2lXLGNBQWMsSUFBSUMsWUFBWSxhQUFjLENBQy9DQyxTQUFTLEVBQ1RDLFVBQVUsS0FFWnBXLEtBQUttYyxRQUFVbmMsS0FBSytiLElBSXhCLG1CQUNFLElBQUlyZ0IsRUFBYSxPQUFBdkIsRUFBQSxHQUFLNkYsTUFBTXRFLFdBRTVCLEdBQUlBLEVBQVksQ0FDZCxJQUFLc0UsS0FBSytYLE9BQVEsQ0FDaEIsSUFBSTFkLEVBQThDLE9BQUFGLEVBQUEsR0FBSzZGLE1BQU14QixjQUFjLFlBQzNFLElBQUtuRSxFQUFVLENBRWIsSUFBSTBiLEVBQVcsSUFBSXZMLGlCQUFpQixLQUNsQyxJQUFJLE9BQUFyUSxFQUFBLEdBQUs2RixNQUFNeEIsY0FBYyxZQUkzQixNQUFNLElBQUlySCxNQUFNLHNDQUhoQjRlLEVBQVNsTCxhQUNUN0ssS0FBS3FZLGFBTVQsT0FEQXRDLEVBQVN0TCxRQUFRekssS0FBTSxDQUFDMEssV0FBVyxLQUM1QixFQUVUMUssS0FBSytYLE9BQVN2RSxFQUFXblosRUFBVTJGLEtBQU0sQ0FHdkNtUSxhQUFhLEVBTWJ3QixnQkFBaUIsU0FBUy9TLEVBQU01RixHQUMxQmdILEtBQUtrYyxhQUNIbGMsS0FBSytiLEdBQ1AvYixLQUFLa2MsV0FBV3ZLLGdCQUFnQi9TLEVBQU01RixJQU10Q2dILEtBQUtpYyxlQUFpQmpjLEtBQUtpYyxnQkFBa0JobkIsT0FBT29FLE9BQU8sTUFDM0QyRyxLQUFLaWMsZUFBZSxZQUFLcmQsS0FBUyxPQU01QyxHQUFLb0IsS0FBS2tjLFdBR0gsQ0FDTGxjLEtBQUt1Yyx1QkFDTCxJQUFJeFAsRUFBSy9NLEtBQUtrYyxXQUFXL1IsU0FDekIsR0FBSTRDLEdBQU1BLEVBQUcvWCxPQUFRLENBR25CLEdBRGdCLE9BQUFtRixFQUFBLEdBQUs2RixNQUFNMUUsa0JBQ1R5UixFQUFHQSxFQUFHL1gsT0FBTyxHQUM3QixJQUFLLElBQVN3RSxFQUFMMUUsRUFBRSxFQUFPQSxFQUFFaVksRUFBRy9YLFNBQVl3RSxFQUFFdVQsRUFBR2pZLElBQUtBLElBQzNDLE9BQUFxRixFQUFBLEdBQUt1QixHQUFZMEMsYUFBYTVFLEVBQUd3RyxZQVZ2Q0EsS0FBS2tjLFdBQWEsSUFBSWxjLEtBQUsrWCxPQUMzQixPQUFBNWQsRUFBQSxHQUFLdUIsR0FBWTBDLGFBQWE0QixLQUFLa2MsV0FBVzFVLEtBQU14SCxNQWV4RCxPQUFPLEVBR1QsdUJBQ0UsSUFBSTBCLEVBQVExQixLQUFLaWMsZUFDakIsR0FBSXZhLEVBQU8sQ0FDVCxJQUFLLElBQUk5QyxLQUFROEMsRUFDZjFCLEtBQUtrYyxXQUFXcEssb0JBQW9CbFQsRUFBTW9CLEtBQUttUixXQUFXdlMsSUFFNURvQixLQUFLaWMsZUFBaUIsS0FDdEJqYyxLQUFLa2MsV0FBV3hCLG9CQUlwQixxQkFDRSxHQUFJMWEsS0FBS2tjLFdBQVksQ0FDbkIsSUFBSW5QLEVBQUsvTSxLQUFLa2MsV0FBVy9SLFNBQ3pCLEdBQUk0QyxHQUFNQSxFQUFHL1gsT0FBUSxDQUVuQixJQUFJK2xCLEVBQVMsT0FBQTVnQixFQUFBLEdBQUs0UyxFQUFHLElBQUlyUixXQUd6QixHQUFJcWYsRUFBUSxDQUNWQSxFQUFTLE9BQUE1Z0IsRUFBQSxHQUFLNGdCLEdBQ2QsSUFBSyxJQUFTdmhCLEVBQUwxRSxFQUFFLEVBQU9BLEVBQUVpWSxFQUFHL1gsU0FBWXdFLEVBQUV1VCxFQUFHalksSUFBS0EsSUFDM0NpbUIsRUFBT3BmLFlBQVluQyxJQUl6QndHLEtBQUtrYyxXQUFhLEtBQ2xCbGMsS0FBS2ljLGVBQWlCLE1BWTFCLG9CQUNFLElBQUlaLEVBQVNyYixLQUFLc1IsMkJBQTZCdFIsS0FBSytiLEdBQ2hEL2IsS0FBS2tjLFlBQ1BsYyxLQUFLa2MsV0FBVzNLLGtCQUFrQjhKLElBTXhDbE0sZUFBZXdHLE9BQU8sRUFBTW1HLEdBQUksRzs7Ozs7Ozs7OztBQzdQaEMsSUEyVElVLEVBM1RxQixZQUFjaE0sSUFPckMsSUFBSWlNLEVBQWMsWUFBYWpNLEdBdVMvQixPQS9SQSxjQUFpQ2lNLEVBRS9CLHdCQUNFLE1BQU8sQ0FLTG5HLE1BQU8sQ0FDTDVlLEtBQU1vRyxPQVFSNGUsTUFBTyxDQUNMaGxCLEtBQU1xSCxRQUNOL0YsT0FBTyxHQVNUMmpCLFNBQVUsQ0FBQ2psQixLQUFNekMsT0FBUThoQixRQUFRLEdBT2pDNkYsYUFBYyxDQUFDbGxCLEtBQU16QyxPQUFROGhCLFFBQVEsR0FNckM4RixPQUFRLENBQUNubEIsS0FBTXFILFFBQVMvRixPQUFPLElBS25DLHVCQUNFLE1BQU8sQ0FBQyxxQ0FHVixjQUNFK0csUUFDQUMsS0FBSzhjLFlBQWMsS0FDbkI5YyxLQUFLK2MsWUFBYyxLQUNuQi9jLEtBQUtnZCxjQUFnQixLQUd2QixrQkFBa0JOLEVBQU9PLEdBQ3ZCLElBQUkzVixFQUFPMlYsRUFBVTNWLEtBQ3JCLEdBQUlBLEdBQVEzSSwwQkFBMEIsUUFBU3FCLE1BQU8sQ0FHcEQsSUFBSWtkLEVBQVdELEVBQVV0VixNQUFRLEdBQzdCd1YsRUFBWW5kLEtBQUs4YyxZQUtyQixHQUhJSixJQURZMWMsS0FBSytjLGFBRW5CL2MsS0FBS29kLGlCQUVIRCxFQUFXLENBQ2IsSUFBSTVSLEVBQVUsWUFBaUIyUixFQUFVQyxHQUN6Q25kLEtBQUtxZCxlQUFlOVIsR0FFdEJ2TCxLQUFLOGMsWUFBY0ksRUFDbkJsZCxLQUFLK2MsWUFBY0wsT0FDZCxHQUFJTyxFQUFVM1YsTUFBVzNJLDBCQUEwQixRQUFTcUIsTUFBdEMsV0FHM0JBLEtBQUtxZCxlQUFlSixFQUFVamtCLE1BQU1za0Isa0JBQy9CLENBR0wsSUFBSXhpQixFQUFPd00sRUFBS3JOLE9BQVMwRSwwQkFBMEIsUUFBU3FCLE1BQXRDLEtBQStDaEwsUUFDakU2UCxFQUFNNFcsU0FBUzNnQixFQUFNLElBQ3BCQSxFQUFLeU0sUUFBUSxLQUFPLEdBQU16TSxHQUFRK0osR0FDckM3RSxLQUFLdWQscUJBQXFCMVksSUFLaEMsZUFBZTBHLEdBQ2IsSUFBSW9SLEVBQVczYyxLQUFLZ2QsY0FFcEIsSUFBSyxJQUFJbG9CLEVBQUUsRUFBR0EsRUFBRXlXLEVBQVF2VyxPQUFRRixJQUFLLENBQ25DLElBQUlvRixFQUFJcVIsRUFBUXpXLEdBQ2hCNm5CLEVBQVNsaEIsUUFBUSxDQUFDb0osRUFBSzRWLEtBQ2pCNVYsRUFBTTNLLEVBQUVzQixRQUVEcUosR0FBTzNLLEVBQUVzQixNQUFRdEIsRUFBRXNSLFFBQVF4VyxPQUVwQzJuQixFQUFTN2YsSUFBSTJkLEVBQU01VixFQUFNM0ssRUFBRXVSLFdBQWF2UixFQUFFc1IsUUFBUXhXLFFBR2xEMm5CLEVBQVM3ZixJQUFJMmQsR0FBTyxNQUd4QixJQUFLLElBQUlyUyxFQUFFLEVBQUdBLEVBQUVsTyxFQUFFdVIsV0FBWXJELElBQUssQ0FDakMsSUFBSXZELEVBQU0zSyxFQUFFc0IsTUFBUTRNLEVBQ2hCdVUsRUFBU3BoQixJQUFJeUUsS0FBS3NXLE1BQU16UixLQUMxQjhYLEVBQVM3ZixJQUFJa0QsS0FBS3NXLE1BQU16UixHQUFNQSxJQUtwQzdFLEtBQUt3ZCxnQkFFTCxJQUFJQyxFQUFPLEVBQ1hkLEVBQVNsaEIsUUFBUSxDQUFDb0osRUFBSzRWLEtBQ2pCNVYsRUFBTSxHQUNKN0UsS0FBSzBjLE1BQ1AxYyxLQUFLZ2IsT0FBT3JjLDBCQUEwQixXQUFZcUIsTUFBT3lkLEVBQU0sR0FFL0R6ZCxLQUFLMmMsU0FBVzNjLEtBQUs0YyxhQUFlLEtBRXRDRCxFQUFTeFYsT0FBT3NULElBRWhCZ0QsTUFLTixnQkFFRSxHQURBemQsS0FBSzBkLGtCQUFvQixHQUNyQjFkLEtBQUswYyxNQUFPLENBQ2QsSUFBSWUsRUFBTyxFQUNYemQsS0FBS2dkLGNBQWN2aEIsUUFBUW9KLElBQ3JCQSxHQUFPLEdBQ1Q3RSxLQUFLMmQsVUFDRCxHQUFHaGYsMEJBQTBCLFFBQVNxQixTQUFTNkUsSUFDL0MsR0FBR2xHLDBCQUEwQixXQUFZcUIsU0FBU3lkLGNBSTFEemQsS0FBS2dkLGNBQWN2aEIsUUFBUW9KLElBQ3pCN0UsS0FBSzJkLFVBQ0RoZiwwQkFBMEIsV0FBWXFCLE1BQ3RDLEdBQUdyQiwwQkFBMEIsUUFBU3FCLFNBQVM2RSxLQUNuRDdFLEtBQUsyZCxVQUNEaGYsMEJBQTBCLGVBQWdCcUIsTUFDMUMsR0FBR3JCLDBCQUEwQixRQUFTcUIsU0FBUzZFLE9BVXpELGlCQUVFN0UsS0FBSzBkLGtCQUFvQixHQUt6QjFkLEtBQUtnZCxjQUFnQixJQUFJbmdCLElBRXpCbUQsS0FBSzJjLFNBQVczYyxLQUFLMGMsTUFBUSxHQUFLLEtBQ2xDMWMsS0FBSzRjLGFBQWUsS0FVdEIsV0FBV25DLEdBQ1QsT0FBT3phLEtBQUtnZCxjQUFjemhCLElBQUlrZixHQVVoQyxnQkFBZ0I1VixHQUNkLE9BQU83RSxLQUFLNGQsV0FBVzVkLEtBQUtzVyxNQUFNelIsSUFHcEMscUJBQXFCQSxHQUNuQixJQUFJNFksRUFBT3pkLEtBQUs2ZCw0QkFBNEJoWixHQUM1QyxHQUFJNFksR0FBUSxFQUFHLENBQ2IsSUFBSTNvQixFQUFJLEVBQ1JrTCxLQUFLZ2QsY0FBY3ZoQixRQUFRLENBQUNvSixFQUFLNFYsS0FDM0JnRCxHQUFRM29CLEtBQ1ZrTCxLQUFLOGQsU0FBU3JELE1BTXRCLDRCQUE0QjVWLEdBQzFCLElBQUk4WCxFQUFXM2MsS0FBSzBkLGtCQUFrQixHQUFHL2UsMEJBQTBCLFFBQVNxQixTQUFTNkUsS0FDckYsR0FBSThYLEVBQ0YsT0FBT2xCLFNBQVNrQixFQUFTMWlCLE9BQVMwRSwwQkFBMEIsV0FBWXFCLE1BQXpDLEtBQWtEaEwsUUFBUyxJQVc5RixTQUFTeWxCLEdBQ1AsSUFBSTVWLEVBQU03RSxLQUFLZ2QsY0FBY3BrQixJQUFJNmhCLEdBQ2pDLEdBQUk1VixHQUFPLEVBQUcsQ0FFWixJQUFJNFksRUFESnpkLEtBQUtnZCxjQUFjN1YsT0FBT3NULEdBRXRCemEsS0FBSzBjLFFBQ1BlLEVBQU96ZCxLQUFLNmQsNEJBQTRCaFosSUFFMUM3RSxLQUFLd2QsZ0JBQ0R4ZCxLQUFLMGMsTUFDUDFjLEtBQUtnYixPQUFPcmMsMEJBQTBCLFdBQVlxQixNQUFPeWQsRUFBTSxHQUUvRHpkLEtBQUsyYyxTQUFXM2MsS0FBSzRjLGFBQWUsTUFZMUMsY0FBYy9YLEdBQ1o3RSxLQUFLOGQsU0FBUzlkLEtBQUtzVyxNQUFNelIsSUFXM0IsT0FBTzRWLEdBQ0x6YSxLQUFLK2QsWUFBWS9kLEtBQUtzVyxNQUFNL08sUUFBUWtULElBV3RDLFlBQVk1VixHQUNWLElBQUk0VixFQUFPemEsS0FBS3NXLE1BQU16UixHQUNqQjdFLEtBQUs0ZCxXQUFXbkQsR0FXVnphLEtBQUs2YyxRQUNkN2MsS0FBS2dlLGNBQWNuWixJQVhkN0UsS0FBSzBjLE9BQ1IxYyxLQUFLZ2QsY0FBY2lCLFFBRXJCamUsS0FBS2dkLGNBQWNsZ0IsSUFBSTJkLEVBQU01VixHQUM3QjdFLEtBQUt3ZCxnQkFDRHhkLEtBQUswYyxNQUNQMWMsS0FBSzFLLEtBQUtxSiwwQkFBMEIsV0FBWXFCLE1BQU95YSxHQUV2RHphLEtBQUsyYyxTQUFXM2MsS0FBSzRjLGFBQWVuQyxNQXNCdEIsQ0FBbUIsS0E0RTNDLE1BQU15RCxVQUFzQjFCLEVBRzFCLGdCQUFrQixNQUFPLGlCQUN6QixzQkFBd0IsT0FBTyxNQUVqQ3JOLGVBQWV3RyxPQUFPdUksRUFBY3BDLEdBQUlvQyxHOzs7Ozs7Ozs7O0FDaGF4QyxNQUFNQyxFQUF1QixJQUFJLElBRTVCcGtCLE9BQU9vQyxXQUNWcEMsT0FBT29DLFNBQVcsQ0FNaEIsZ0JBQWdCOUIsRUFBVStqQixFQUFhQyxLQU12QyxtQkFBbUJoa0IsRUFBVStqQixLQU83QixzQkFBc0IvakIsRUFBVStqQixFQUFhQyxLQU03QyxhQUFhOWpCLEVBQVNvSCxHQUNwQndjLEVBQXFCRyxnQkFDckIsWUFBdUIvakIsRUFBU29ILElBTWxDLGFBQWFwSCxHQUNYNGpCLEVBQXFCRyxpQkFNdkIsY0FBYzNjLEdBQ1p3YyxFQUFxQkcsZ0JBQ3JCLFlBQXVCN25CLFNBQVM4bkIsS0FBTTVjLElBUXhDNmMsc0JBQXFCLENBQUNqa0IsRUFBU2IsSUFDdEIsWUFBc0JhLEVBQVNiLEdBR3hDLHNCQUNBd1YsVUFBVyxJQUNYM1EsYUFBYyxJQUNka2dCLFNBQVUsSUFDVkMsZUFBZ0IsTUFJcEIza0IsT0FBT29DLFNBQVN3aUIscUJBQXVCUixFOzs7Ozs7Ozs7RUNwRXZDLE1BRU1RLEVBQXVCNWtCLE9BQU9vQyxTQUFTd2lCLHFCQWdEdEMsTUFBTSxVQUFvQjdlLFlBQy9CLGNBQ0VDLFFBQ0FDLEtBQUs0ZSxPQUFTLEtBQ2RELEVBQXFCRSxlQUFlN2UsTUFVdEMsV0FDRSxHQUFJQSxLQUFLNGUsT0FDUCxPQUFPNWUsS0FBSzRlLE9BRWQsTUFBTWpoQixFQUF3Q3FDLEtBQUt4QixjQUFjLFNBQ2pFLElBQUtiLEVBQ0gsT0FBTyxLQUVUcUMsS0FBSzRlLE9BQVNqaEIsRUFDZCxNQUFNbWhCLEVBQVVuaEIsRUFBTW9oQixhQXpFYixXQTJGVCxPQWpCSUQsSUFDRm5oQixFQUFNK0UsZ0JBM0VDLFdBNEVQL0UsRUFBTUMsWUFBYyxZQUFla2hCLEdBQVduaEIsRUFBTUMsYUFZbERvQyxLQUFLeU0sZ0JBQWtCMVMsT0FBT3RELFVBQ2hDc0QsT0FBT3RELFNBQVN5QixLQUFLQyxZQUFZNkgsTUFFNUJBLEtBQUs0ZTs7Ozs7Ozs7OztBQzdGaEIsSUFBSSxFRGlHSjdrQixPQUFPb1YsZUFBZXdHLE9BQU8sZUFBZ0IsR0M5RjNDLEVBQXdCcEYsRUFBWUcsdUJBK0dyQjNSLFE7Ozs7Ozs7OztFQ25HVixNQUFNaWdCLEVBQU8sWUFBbUJsZixhQUFhNUssVzs7Ozs7Ozs7O0VDUHBENkUsT0FBTzRFLDBCQUE0QixTQUFTQyxFQUFNa1EsR0FDaEQsT0FBT2xRLEksNkJDcEJULHFIQUlPLE1BQU1xZ0IsRUFBVSxjQUFjLElBRWpDLGNBQ0lsZixRQUNBQyxLQUFLNFYsRUFBSSxHQUdiLEVBQUU5ZCxHQUNFLE9BQU9rSSxLQUFLa2YsV0FBV0MsZUFBZXJuQixHQUcxQyxHQUFHQSxHQUNDLE9BQU9rSSxLQUFLa2YsV0FBVzFnQixjQUFjMUcsR0FHekMsSUFBSUEsR0FDQSxPQUFPa0ksS0FBS2tmLFdBQVd6aEIsaUJBQWlCM0YsR0FHNUMsU0FDSSxJQUFJNlQsRUFBVzNMLEtBQUtrZixXQUFXemhCLGlCQUFpQixRQUNoRCxJQUFLLElBQUkzSSxFQUFJLEVBQUdBLEVBQUk2VyxFQUFTM1csT0FBUUYsSUFDakNrTCxLQUFLNFYsRUFBRWpLLEVBQVM3VyxHQUFHc3FCLElBQU16VCxFQUFTN1csR0FJMUMsSUFBSWdELEVBQU1rQixHQUNOZ0gsS0FBS2xJLEdBQVFrQixFQUNiZ0gsS0FBS2lXLGNBQWMsSUFBSUMsWUFBWXBlLEVBQU0sQ0FBQ3VuQixPQUFRcm1CLEtBR3RELEtBQUtsQixFQUFNa0IsRUFBT21kLEdBQVUsR0FDcEJBLEVBR0FuVyxLQUFLaVcsY0FBYyxJQUFJQyxZQUFZcGUsRUFBTSxDQUFDdW5CLE9BQVFybUIsRUFBT21kLFNBQVUsRUFBTUMsVUFBVSxLQUZuRnBXLEtBQUtpVyxjQUFjLElBQUlDLFlBQVlwZSxFQUFNLENBQUN1bkIsT0FBUXJtQixLQU0xRCxLQUFLbEIsRUFBTWtCLEdBQ1BnSCxLQUFLbEksR0FBTXhDLEtBQUswRCxHQUNoQmdILEtBQUtzZixnQkFHVCxTQUFTQyxHQUNMLE9BQVksT0FBUkEsSUFDcUIsbUJBQVJBLEdBQXVDLGlCQUFSQSxHQUdwRCxXQUFXQyxHQUNQLE9BQU9BLEdBQXlELHNCQUF0QyxHQUFHdFgsU0FBUzlTLEtBQUtvcUIsR0FHL0MsY0FBY0QsR0FDVixPQUFPdmYsS0FBS29RLFNBQVNtUCxJQUFvQyxJQUE1QnRxQixPQUFPd3FCLEtBQUtGLEdBQUt2cUIsT0FHbEQsS0FBSzBFLEVBQVVnbUIsR0FDWCxPQUFRMXBCLElBQ0osSUFDSSxJQUFJMnBCLEVBQVMzZixLQUNUNGYsRUFBUWxtQixFQUFTeU8sTUFBTSxLQUN2QjBYLEVBQU1ELEVBQU01cUIsT0FDaEIsSUFBSyxJQUFJRixFQUFJLEVBQUdBLEVBQUkrcUIsRUFBTSxFQUFHL3FCLElBQUssQ0FDOUIsSUFBSWdyQixFQUFPRixFQUFNOXFCLEdBQ1o2cUIsRUFBT0csS0FBT0gsRUFBT0csR0FBUSxJQUNsQ0gsRUFBU0EsRUFBT0csR0FFaEJILEVBQ0FBLEVBQU9DLEVBQU1DLEVBQU0sSUFBa0IsTUFBWkgsRUFBbUIxcEIsRUFBRXFwQixPQUFTcnBCLEVBQUVxcEIsT0FBT0ssR0FFaEU3bEIsUUFBUWttQixJQUFJLHFCQUFzQnJtQixHQUN4QyxNQUFPMUQsR0FDTDZELFFBQVEzQyxNQUFNLDZCQUE4QmxCLEtBS3hELFdBQ0lnSyxLQUFLZ2dCLFlBWVQsVUFBVUMsRUFBZ0IsRUFBR0MsRUFBTyxJQUFLQyxFQUFTLGNBQWV2b0IsRUFBU3dvQixTQUFTQyxjQUUvRSxJQUFJQyxFQUFjLEVBQ2xCLE1BQU1DLEVBQWdCTCxFQUFPLElBSXZCTSxFQUFrQixDQUNwQkMsWUFBY0MsR0FBUTVILEtBQUs2SCxJQUFJRCxHQUFPNUgsS0FBSzhILEdBQUssSUFDaERDLGNBQWdCSCxJQUFVLElBQU81SCxLQUFLZ0ksSUFBSWhJLEtBQUs4SCxHQUFLRixHQUFPLEdBQzNESyxlQUFpQkwsSUFDUkEsR0FBTyxJQUFPLEVBQ1IsR0FBTTVILEtBQUtrSSxJQUFJTixFQUFLLEdBRXhCLElBQU81SCxLQUFLa0ksSUFBS04sRUFBTSxFQUFJLEdBQUssS0FLL0MsU0FBU08sSUFDTFgsR0FBZSxFQUFJLEdBRW5CLE1BQU10cEIsRUFBSXNwQixFQUFjQyxFQUNsQnRuQixFQUFJdW5CLEVBQWdCTCxHQUFRbnBCLEdBRTVCa3FCLEVBQVksRUFBU0MsYUFBZXZwQixFQUFPc3BCLFdBQWEsRUFFeERFLEVBQWVGLEdBQWNqQixFQUFnQmlCLEdBQWFqb0IsRUFFNURqQyxFQUFJLElBQ0orQyxPQUFPb2Ysc0JBQXNCOEgsR0FDN0JycEIsRUFBT3NwQixVQUFZRSxHQUczQkgsR0FTSix1QkFBdUIxbUIsRUFBUzhtQixFQUFhQyxFQUFTLEdBQ2xELElBQUlqVixFQUFXOVIsR0FBVyxHQUN0QmduQixFQUFVRixHQUFlLEdBQzdCLElBQ3FCLGlCQUFYRSxHQUF1QnpqQixNQUFNcUgsUUFBUW9jLEtBRTdDQSxFQUFRdnNCLE9BQ1IsQ0FDQSxJQUFJaVosRUFBWTVCLEVBQVM0QixVQUNwQm5RLE1BQU1xSCxRQUFRb2MsS0FDakJBLEVBQVVBLEVBQVF6TyxRQUFRLGNBQWUsS0FBSzNLLE1BQU0sTUFHdEQsSUFBSyxJQUFJcVosS0FBYUQsRUFDcEIsT0FBT0QsR0FDSCxLQUFLLEVBQ0RyVCxFQUFVNE8sT0FBTzJFLEdBQ2pCLE1BQ0osS0FBSyxFQUNEdlQsRUFBVTFRLElBQUlpa0IsR0FDZCxNQUNKLEtBQUssRUFDRHZULEVBQVV3VCxPQUFPRCxHQUkzQixPQUFPLE0sNkJDcEtqQjs7Ozs7Ozs7Ozs7Ozs7QUFpQk8sTUFBTUUsRUFBUyxTQUFTbGlCLE9BQU9zWixLQUFLNkksVUFBVTFuQixNQUFNLE9BSzlDMm5CLEVBQWEsVUFBT0YsVUFDcEJHLEVBQWMsSUFBSUMsT0FBTyxHQUFHSixLQUFVRSxLQUl0Q0csRUFBdUIsUUFJN0IsTUFBTUMsRUFDVCxZQUFZemxCLEVBQVFoQyxHQUNoQnlGLEtBQUt2RixNQUFRLEdBQ2J1RixLQUFLekYsUUFBVUEsRUFDZixJQUFJaUIsR0FBUyxFQUNUWixFQUFZLEVBQ2hCLE1BQU1OLEVBQWdCLEdBQ2hCMm5CLEVBQW9CNW5CLElBQ3RCLE1BQU1HLEVBQVVILEVBQVNHLFFBR25CRSxFQUFTakUsU0FBU2tFLGlCQUFpQkgsRUFBUyxJQUFrRCxNQUFNLEdBSTFHLElBQUkwbkIsRUFBZ0IsRUFDcEIsS0FBT3huQixFQUFPUyxZQUFZLENBQ3RCSyxJQUNBLE1BQU1KLEVBQU9WLEVBQU9XLFlBQ3BCLEdBQXNCLElBQWxCRCxFQUFLVSxTQUF3QyxDQUM3QyxHQUFJVixFQUFLK21CLGdCQUFpQixDQUN0QixNQUFNMWhCLEVBQWFyRixFQUFLcUYsV0FNeEIsSUFBSTVFLEVBQVEsRUFDWixJQUFLLElBQUkvRyxFQUFJLEVBQUdBLEVBQUkyTCxFQUFXekwsT0FBUUYsSUFDL0IyTCxFQUFXM0wsR0FBR2tFLE1BQU11TyxRQUFRbWEsSUFBVyxHQUN2QzdsQixJQUdSLEtBQU9BLEtBQVUsR0FBRyxDQUdoQixNQUFNdW1CLEVBQWdCN2xCLEVBQU9RLFFBQVFuQyxHQUUvQjlDLEVBQU91cUIsRUFBdUJDLEtBQUtGLEdBQWUsR0FNbERHLEVBQXNCenFCLEVBQUtrSyxjQUFnQitmLEVBRTNDaGxCLEVBRGlCM0IsRUFBSzJqQixhQUFhd0QsR0FDVnBhLE1BQU0wWixHQUNyQzdoQixLQUFLdkYsTUFBTW5GLEtBQUssQ0FBRW9DLEtBQU0sWUFBYThELFFBQU8xRCxPQUFNaUYsWUFDbEQzQixFQUFLc0gsZ0JBQWdCNmYsR0FDckIzbkIsR0FBYW1DLEVBQVEvSCxPQUFTLEdBR2pCLGFBQWpCb0csRUFBS29uQixTQUNMUCxFQUFpQjdtQixRQUdwQixHQUFzQixJQUFsQkEsRUFBS1UsU0FBcUMsQ0FDL0MsTUFBTXJILEVBQU8yRyxFQUFLM0csS0FDbEIsR0FBSUEsRUFBSzhTLFFBQVFtYSxJQUFXLEVBQUcsQ0FDM0IsTUFBTTNHLEVBQVMzZixFQUFLTSxXQUNkcUIsRUFBVXRJLEVBQUswVCxNQUFNMFosR0FDckJZLEVBQVkxbEIsRUFBUS9ILE9BQVMsRUFHbkMsSUFBSyxJQUFJRixFQUFJLEVBQUdBLEVBQUkydEIsRUFBVzN0QixJQUMzQmltQixFQUFPM2MsYUFBNkIsS0FBZnJCLEVBQVFqSSxHQUFhNHRCLElBQ3RDanNCLFNBQVNrc0IsZUFBZTVsQixFQUFRakksSUFBS3NHLEdBQ3pDNEUsS0FBS3ZGLE1BQU1uRixLQUFLLENBQUVvQyxLQUFNLE9BQVE4RCxRQUFTQSxJQUlsQixLQUF2QnVCLEVBQVEwbEIsSUFDUjFILEVBQU8zYyxhQUFhc2tCLElBQWdCdG5CLEdBQ3BDZCxFQUFjaEYsS0FBSzhGLElBR25CQSxFQUFLM0csS0FBT3NJLEVBQVEwbEIsR0FHeEI3bkIsR0FBYTZuQixRQUdoQixHQUFzQixJQUFsQnJuQixFQUFLVSxTQUNWLEdBQUlWLEVBQUszRyxPQUFTaXRCLEVBQVEsQ0FDdEIsTUFBTTNHLEVBQVMzZixFQUFLTSxXQUtTLE9BQXpCTixFQUFLRSxpQkFBNEJFLElBQVUwbUIsSUFDM0MxbUIsSUFDQXVmLEVBQU8zYyxhQUFhc2tCLElBQWdCdG5CLElBRXhDOG1CLEVBQWdCMW1CLEVBQ2hCd0UsS0FBS3ZGLE1BQU1uRixLQUFLLENBQUVvQyxLQUFNLE9BQVE4RCxVQUdQLE9BQXJCSixFQUFLd1MsWUFDTHhTLEVBQUszRyxLQUFPLElBR1o2RixFQUFjaEYsS0FBSzhGLEdBQ25CSSxLQUVKWixRQUVDLENBQ0QsSUFBSTlGLEdBQUssRUFDVCxNQUNLLEtBREdBLEVBQUlzRyxFQUFLM0csS0FBSzhTLFFBQVFtYSxFQUFRNXNCLEVBQUksS0FNdENrTCxLQUFLdkYsTUFBTW5GLEtBQUssQ0FBRW9DLEtBQU0sT0FBUThELE9BQVEsT0FNNUR5bUIsRUFBaUIxbkIsR0FFakIsSUFBSyxNQUFNZixLQUFLYyxFQUNaZCxFQUFFa0MsV0FBV0MsWUFBWW5DLElBSTlCLE1BQU1vcEIsRUFBd0I5bkIsSUFBeUIsSUFBaEJBLEVBQUtVLE1BR3RDa25CLEVBQWUsSUFBTWpzQixTQUFTb2MsY0FBYyxJQTBCNUN3UCxFQUF5Qiw4Siw2QkMzTHRDOzs7Ozs7Ozs7RUFZQSxJQUFJUSxFQUFXLEVBT2YsU0FBU0MsS0FFVEEsRUFBYzV0QixVQUFVNnRCLG9CQUV4QkQsRUFBYzV0QixVQUFVOHRCLFdBYWpCLE1BQU1DLEVBQWdCLFNBQVN4UCxHQUNwQyxJQUFJeVAsRUFBaUQsRUFBUUgsb0JBQ3hERyxJQUNIQSxFQUFvQixJQUFJdm1CLFFBQ0ssRUFBUW9tQixvQkFBc0JHLEdBRzdELElBQUlDLEVBQWdCTixJQXFCcEIsT0FwQkEsU0FBdUJsYixHQUNyQixJQUFJeWIsRUFBdUMsRUFBT0osV0FDbEQsR0FBSUksR0FBV0EsRUFBUUQsR0FDckIsT0FBT3hiLEVBRVQsSUFBSTVCLEVBQU1tZCxFQUNORyxFQUFXdGQsRUFBSW5OLElBQUkrTyxHQUNsQjBiLElBQ0hBLEVBQW1DLEVBQVExYixHQUMzQzVCLEVBQUlqSixJQUFJNkssRUFBTTBiLElBS2hCLElBQUlDLEVBQVdydUIsT0FBT29FLE9BQW9DLEVBQVcycEIsWUFBY0ksR0FBVyxNQUc5RixPQUZBRSxFQUFTSCxJQUFpQixFQUNHLEVBQVdILFdBQWFNLEVBQzlDRCxLOzs7Ozs7Ozs7O0FDaERYLE1BQU1FLEVBQWlCLENBQ3JCQyxVQUFVLEVBQ1ZDLFVBQVUsRUFDVkMsT0FBTyxFQUNQQyxTQUFTLEVBQ1RDLGdCQUFnQixFQUNoQkMsWUFBWSxFQUNaQyxrQkFBa0IsRUFDbEJDLFdBQVcsRUFDWEMsZ0JBQWdCLEdBR1pDLEVBQWdCLENBQ3BCVCxVQUFVLEVBQ1ZDLFVBQVUsRUFDVkMsT0FBTyxFQUNQQyxTQUFTLEVBQ1RDLGdCQUFnQixFQUNoQkMsWUFBWSxFQUNaQyxrQkFBa0IsRUFDbEJJLFdBQVcsRUFDWEMsY0FBYyxHQUdWQyxFQUFxQm52QixPQUFPZ1MsT0FBTyxDQUN2QzhjLFdBQVcsRUFDWEMsZ0JBQWdCLEVBQ2hCcmlCLFlBQVksRUFDWjBpQixXQUFXLEdBQ1ZKLEdBK0VILFNBQVNLLEVBQVUvVyxFQUFPbEYsRUFBTWtjLEVBQVdDLElBN0UzQyxTQUF3QkMsRUFBUTdzQixFQUFRNHNCLEdBQ3RDLE1BQU1FLEVBQWNELEVBQU9OLGFBQ3JCUSxFQUFnQjF2QixPQUFPNE0sb0JBQW9CNGlCLEdBQ2pELElBQUssSUFBSTN2QixFQUFJLEVBQUdBLEVBQUk2dkIsRUFBYzN2QixPQUFRRixJQUFLLENBQzdDLElBQUlrQyxFQUFJMnRCLEVBQWM3dkIsR0FDdEIsS0FBSWtDLEtBQUt3dEIsR0FHVCxHQUFJRSxFQUNGOXNCLEVBQU9aLEdBQUt5dEIsRUFBT3p0QixPQUNkLENBQ0wsSUFBSTR0QixFQUFLM3ZCLE9BQU80dkIseUJBQXlCSixFQUFRenRCLEdBQzdDNHRCLElBR0ZBLEVBQUdyakIsY0FBZSxFQUNsQnRNLE9BQU95RCxlQUFlZCxFQUFRWixFQUFHNHRCLE1BOER2Q0UsQ0FBZXpjLEVBQU1rRixFQUFPaVgsR0FDNUIsSUFBSyxJQUFJeHRCLEtBQUt1c0IsRUFDUmxiLEVBQUtyUixLQUNQdXRCLEVBQVV2dEIsR0FBS3V0QixFQUFVdnRCLElBQU0sR0FDL0J1dEIsRUFBVXZ0QixHQUFHMUIsS0FBSytTLEVBQUtyUixLQXVDN0IsU0FBUyt0QixFQUFnQm50QixFQUFRNnNCLEdBQy9CLElBQUssTUFBTXp0QixLQUFLeXRCLEVBQVEsQ0FDdEIsTUFBTU8sRUFBYXB0QixFQUFPWixHQUNwQml1QixFQUFhUixFQUFPenRCLEdBRXhCWSxFQUFPWixLQURILFVBQVdpdUIsSUFBZUQsR0FBZSxVQUFXQSxFQUM1Qy92QixPQUFPZ1MsT0FBTyxDQUFDak8sTUFBT2dzQixFQUFXaHNCLE9BQVFpc0IsR0FFekNBLEdBbUNsQixTQUFTQyxFQUFzQjdjLEVBQU0yVyxFQUFNa0YsR0FHekMsSUFBSWlCLEVBQ0osTUFBTVosRUFBWSxHQUdsQixNQUFNYSxVQUF5QnBHLEVBRzdCLHdCQUVFLEdBQUtoZixLQUFLN0ssZUFBZXdKLDBCQUEwQixnQkFBaUJxQixPQUU3RCxDQUVMLEdBQUltbEIsRUFDRixJQUFLLElBQVM5YixFQUFMdlUsRUFBRSxFQUFNQSxFQUFJcXdCLEVBQWFud0IsT0FBUUYsSUFDeEN1VSxFQUFJOGIsRUFBYXJ3QixHQUNidVUsRUFBRTFILFlBQ0ozQixLQUFLcWxCLGlCQUFpQmhjLEVBQUUxSCxZQUV0QjBILEVBQUVnYixXQUNKcmtCLEtBQUtzbEIsZ0JBQWdCamMsRUFBRWdiLFVBQVdoYixFQUFFMUgsWUFJdEMwRyxFQUFLMUcsWUFDUDNCLEtBQUtxbEIsaUJBQWlCaGQsRUFBSzFHLFlBRXpCMEcsRUFBS2djLFdBQ1Bya0IsS0FBS3NsQixnQkFBZ0JqZCxFQUFLZ2MsVUFBV2hjLEVBQUsxRyxZQUc1QzNCLEtBQUtpaUIsd0JBckJMbGlCLE1BQU13bEIsaUJBeUJWLHdCQUNFLE1BQU01akIsRUFBYSxHQUNuQixHQUFJd2pCLEVBQ0YsSUFBSyxJQUFJcndCLEVBQUUsRUFBR0EsRUFBSXF3QixFQUFhbndCLE9BQVFGLElBQ3JDaXdCLEVBQWdCcGpCLEVBQVl3akIsRUFBYXJ3QixHQUFHNk0sWUFJaEQsT0FEQW9qQixFQUFnQnBqQixFQUFZMEcsRUFBSzFHLFlBQzFCQSxFQUdULHVCQUNFLElBQUkwaUIsRUFBWSxHQUNoQixHQUFJYyxFQUNGLElBQUssSUFBUzliLEVBQUx2VSxFQUFFLEVBQU1BLEVBQUlxd0IsRUFBYW53QixPQUFRRixJQUN4Q3VVLEVBQUk4YixFQUFhcndCLEdBQ2J1VSxFQUFFZ2IsWUFDSkEsRUFBWUEsRUFBVS9hLE9BQU9ELEVBQUVnYixZQU9yQyxPQUhJaGMsRUFBS2djLFlBQ1BBLEVBQVlBLEVBQVUvYSxPQUFPakIsRUFBS2djLFlBRTdCQSxFQU1ULFVBQ0V0a0IsTUFBTTRqQixVQUNOLE1BQU0xVyxFQUFPc1gsRUFBVVosUUFDdkIsR0FBSTFXLEVBQ0YsSUFBSyxJQUFJblksRUFBRSxFQUFHQSxFQUFJbVksRUFBS2pZLE9BQVFGLElBQzdCbVksRUFBS25ZLEdBQUdNLEtBQUs0SyxNQVFuQixjQVNFLE1BQU13bEIsRUFBaUJKLEVBQWlCbHdCLFVBQ3hDLElBQUtzd0IsRUFBZXJ3QixlQUFlLHlCQUEwQixDQUMzRHF3QixFQUFlQyx1QkFBd0IsRUFFdkMxbEIsTUFBTTJsQixjQUVGLEtBQ0ZDLEVBQXNCSCxHQUt4QixNQUFNalksRUFBUXRZLE9BQU8rTCxlQUFlaEIsTUFDcEMsSUFBSWlOLEVBQU9zWCxFQUFVWCxlQUNyQixHQUFJM1csRUFDRixJQUFLLElBQUluWSxFQUFFLEVBQUdBLEVBQUltWSxFQUFLalksT0FBUUYsSUFDN0JtWSxFQUFLblksR0FBR00sS0FBS21ZLEdBSWpCLEdBREFOLEVBQU9zWCxFQUFVVixXQUNiNVcsRUFDRixJQUFLLElBQUluWSxFQUFFLEVBQUdBLEVBQUltWSxFQUFLalksT0FBUUYsSUFDN0JtWSxFQUFLblksR0FBR00sS0FBS21ZLElBU3JCLGtCQUNFeE4sTUFBTTZsQixrQkFDTixNQUFNM1ksRUFBT3NYLEVBQVVSLFVBQ3ZCLEdBQUk5VyxFQUNGLElBQUssSUFBSW5ZLEVBQUUsRUFBR0EsRUFBSW1ZLEVBQUtqWSxPQUFRRixJQUFLLENBQ2xDLE1BQU1pdkIsRUFBWTlXLEVBQUtuWSxHQUN2QixHQUFJaXZCLEVBQ0YsSUFBSyxJQUFJaHVCLEtBQUtndUIsRUFDWi9qQixLQUFLNmxCLDhCQUE4QjdsQixLQUFNakssRUFBR2d1QixFQUFVaHVCLEtBYWhFLG9CQUNFLE1BQU1rWCxFQUFPc1gsRUFBVVAsZUFDdkIsR0FBSS9XLEVBQ0YsSUFBSyxJQUFJblksRUFBRW1ZLEVBQUtqWSxPQUFPLEVBQUdGLEdBQUssRUFBR0EsSUFBSyxDQUNyQyxNQUFNa3ZCLEVBQWlCL1csRUFBS25ZLEdBQzVCLElBQUssSUFBSXNVLEtBQUs0YSxFQUNWaGtCLEtBQUs4bEIsaUJBQWlCMWMsRUFBRzRhLEVBQWU1YSxJQUloRHJKLE1BQU1nbUIsb0JBTVIsUUFDRWhtQixNQUFNMmpCLFFBQ04sSUFBSXpXLEVBQU9zWCxFQUFVYixNQUNyQixHQUFJelcsRUFDRixJQUFLLElBQUluWSxFQUFFLEVBQUdBLEVBQUltWSxFQUFLalksT0FBUUYsSUFDN0JtWSxFQUFLblksR0FBR00sS0FBSzRLLE1BUW5CLFdBQ0VELE1BQU15akIsV0FDTixJQUFJdlcsRUFBT3NYLEVBQVVmLFNBQ3JCLEdBQUl2VyxFQUNGLElBQUssSUFBSW5ZLEVBQUUsRUFBR0EsRUFBSW1ZLEVBQUtqWSxPQUFRRixJQUM3Qm1ZLEVBQUtuWSxHQUFHTSxLQUFLNEssTUFRbkIsV0FDRUQsTUFBTTBqQixXQUNOLElBQUl4VyxFQUFPc1gsRUFBVWQsU0FDckIsR0FBSXhXLEVBQ0YsSUFBSyxJQUFJblksRUFBRSxFQUFHQSxFQUFJbVksRUFBS2pZLE9BQVFGLElBQzdCbVksRUFBS25ZLEdBQUdNLEtBQUs0SyxNQWNuQixpQkFBaUJsSSxFQUFNdUgsRUFBS3JHLEdBQzFCK0csTUFBTStqQixtQkFDTixJQUFJN1csRUFBT3NYLEVBQVVULGlCQUNyQixHQUFJN1csRUFDRixJQUFLLElBQUluWSxFQUFFLEVBQUdBLEVBQUltWSxFQUFLalksT0FBUUYsSUFDN0JtWSxFQUFLblksR0FBR00sS0FBSzRLLEtBQU1sSSxFQUFNdUgsRUFBS3JHLElBT3RDLEdBQUlrckIsRUFBVyxDQUlScG1CLE1BQU1xSCxRQUFRK2UsS0FDakJBLEVBQVksQ0FBQ0EsSUFFZixJQUFJOEIsRUFBaUJoSCxFQUFLOXBCLFVBQVVndkIsVUFFcENpQixFQXRTSixTQUFTYyxFQUFpQi9CLEVBQVdqWCxFQUFNaVosR0FDekNqWixFQUFPQSxHQUFRLEdBQ2YsSUFBSyxJQUFJblksRUFBRW92QixFQUFVbHZCLE9BQU8sRUFBR0YsR0FBSyxFQUFHQSxJQUFLLENBQzFDLElBQUl1VSxFQUFJNmEsRUFBVXB2QixHQUNkdVUsRUFDRXZMLE1BQU1xSCxRQUFRa0UsR0FDaEI0YyxFQUFpQjVjLEVBQUc0RCxHQUdoQkEsRUFBSzFGLFFBQVE4QixHQUFLLEtBQU82YyxHQUFXQSxFQUFRM2UsUUFBUThCLEdBQUssSUFDM0Q0RCxFQUFLekgsUUFBUTZELEdBSWpCeFAsUUFBUXdDLEtBQUsscURBR2pCLE9BQU80USxFQXFSVWdaLENBQWlCL0IsRUFBVyxLQUFNOEIsR0FDakRaLEVBQWlCbHdCLFVBQVVndkIsVUFBWThCLEVBQ3JDQSxFQUFlMWMsT0FBTzRhLEdBQWFpQixFQUd2QyxNQUFNUSxFQUF5QnBZLElBQ3pCNFgsR0FsVVIsU0FBd0I1WCxFQUFPMlcsRUFBV0ssR0FDeEMsSUFBSyxJQUFJenZCLEVBQUUsRUFBR0EsRUFBRW92QixFQUFVbHZCLE9BQVFGLElBQ2hDd3ZCLEVBQVUvVyxFQUFPMlcsRUFBVXB2QixHQUFJeXZCLEVBQVdILEdBaVV4QytCLENBQWU1WSxFQUFPNFgsRUFBY1osR0FFdENELEVBQVUvVyxFQUFPbEYsRUFBTWtjLEVBQVdOLElBVXBDLE9BTkssS0FDSDBCLEVBQXNCUCxFQUFpQmx3QixXQUd6Q2t3QixFQUFpQmdCLGNBQWdCL2QsRUFFMUIrYyxFOzs7Ozs7Ozs7RUNsYVQsTUFBTTNWLEVBQVUsU0FBU3BILEdBR3ZCLElBQUlxTCxFQU9KLE9BTEVBLEVBRGtCLG1CQUFUckwsRUFDREEsRUFFQW9ILEVBQVE0VyxNQUFNaGUsR0FFeEI4RyxlQUFld0csT0FBT2pDLEVBQU1vSSxHQUErQixHQUNwRHBJLEdBR1RqRSxFQUFRNFcsTUQ4ZGEsU0FBU2hlLEVBQU1vTCxHQUM3QnBMLEdBQ0h4TyxRQUFRd0MsS0FBSywwQ0FFZixJQUFJcVgsRUFBUUQsRUFBUUEsRUFBTSxZQUFtQjNULGNBQ3pDLFlBQW1CQSxhQUl2QixPQUhBNFQsRUFBUXdSLEVBQXNCN2MsRUFBTXFMLEVBQU9yTCxFQUFLNmIsV0FFaER4USxFQUFNb0ksR0FBS3BJLEVBQU14ZSxVQUFVNG1CLEdBQUt6VCxFQUFLeVQsR0FDOUJwSSxJLDZCRXBoQlQ7Ozs7Ozs7OztFQXlCQSxJQUFJNFMsRUFBc0IsRUFDdEJDLEVBQXNCLEVBQ3RCQyxFQUFxQixHQUNyQkMsRUFBdUIsRUFDdkJDLEVBQWdCandCLFNBQVNrc0IsZUFBZSxJQUM1QyxJQUFJNW9CLE9BQU95USxrQkFFWCxXQUNFLE1BQU1xVixFQUFNMkcsRUFBbUJ4eEIsT0FDL0IsSUFBSyxJQUFJRixFQUFJLEVBQUdBLEVBQUkrcUIsRUFBSy9xQixJQUFLLENBQzVCLElBQUk2eEIsRUFBS0gsRUFBbUIxeEIsR0FDNUIsR0FBSTZ4QixFQUNGLElBQ0VBLElBQ0EsTUFBTzN3QixHQUNQaUMsV0FBVyxLQUFRLE1BQU1qQyxLQUkvQnd3QixFQUFtQnhMLE9BQU8sRUFBRzZFLEdBQzdCMEcsR0FBdUIxRyxLQWZtQnBWLFFBQVFpYyxFQUFlLENBQUNFLGVBQWUsSUF3Qm5GLE1BQU1DLEVBQVUsQ0FTZGhOLE1BQU1oRCxJQUNHLENBQ0wvTCxJQUFJb0osR0FBYW5hLE9BQU85QixXQUFXaWMsRUFBSTJDLEdBQ3ZDLE9BQU9pUSxHQUNML3NCLE9BQU94QyxhQUFhdXZCLE1BWTFCaGMsSUFBRyxDQUFDb0osRUFBSTJDLElBQ0M5YyxPQUFPOUIsV0FBV2ljLEVBQUkyQyxHQVMvQixPQUFPaVEsR0FDTC9zQixPQUFPeEMsYUFBYXV2QixLQVdsQkMsRUFBaUIsQ0FRckJqYyxJQUFJb0osR0FDS25hLE9BQU9vZixzQkFBc0JqRixHQVN0QyxPQUFPNFMsR0FDTC9zQixPQUFPaXRCLHFCQUFxQkYsS0FxRDFCRyxFQUFZLENBU2hCbmMsSUFBSXZCLElBQ0ZtZCxFQUFjOW9CLFlBQWM2b0IsSUFDNUJELEVBQW1CbHhCLEtBQUtpVSxHQUNqQitjLEtBVVQsT0FBT1EsR0FDTCxNQUFNamlCLEVBQU1paUIsRUFBU1AsRUFDckIsR0FBSTFoQixHQUFPLEVBQUcsQ0FDWixJQUFLMmhCLEVBQW1CM2hCLEdBQ3RCLE1BQU0sSUFBSTFOLE1BQU0seUJBQTJCMnZCLEdBRTdDTixFQUFtQjNoQixHQUFPLFMsNkJDek1oQzs7Ozs7Ozs7OztBQVlPLE1BQU10RyxJQUFpQnhFLE9BQWlCLFVBQUtBLE9BQWlCLFNBQVMsT0FDOUUsSUFBSW10QixFQXFCT3pJLEVBaEJYLFNBQVMwSSxFQUFpQkMsR0FFdEJGLElBREVFLElBQVlBLEVBQTRCLHFCQVNwQjdvQixHQUFnQlEsU0FBU3NvQixVQUFVQyxVQUFVQyxNQUFNLDhCQUN2RXh0QixPQUFPeXRCLEtBQU9BLElBQUlDLFVBQVlELElBQUlDLFNBQVMsYUFBYyxzQkFNM0QxdEIsT0FBT29DLGVBQXlDbkUsSUFBN0IrQixPQUFPb0MsU0FBU3NpQixXQUNyQ0EsRUFBVzFrQixPQUFPb0MsU0FBU3NpQixVQUl0QixNQUFNQyxFQUFpQjNmLFFBQVFoRixPQUFPb0MsVUFBWXBDLE9BQU9vQyxTQUFTdWlCLGdCQUVyRTNrQixPQUFPb0MsZUFBMENuRSxJQUE5QitCLE9BQU9vQyxTQUFTK1MsVUFDckNnWSxFQUFzQm50QixPQUFPb0MsU0FBUytTLFVBQzdCblYsT0FBT29DLFVBQ2hCZ3JCLEVBQWlCcHRCLE9BQU9vQyxVQUV4QnBDLE9BQU9vQyxjQUFXbkUsR0FFbEJtdkIsRUFBaUJwdEIsT0FBc0IsZUFBS0EsT0FBc0IsY0FBUyxPQU10RSxNQUFNMnRCLEVBQTJDLEcsNkJDdkR4RDs7Ozs7Ozs7Ozs7Ozs7QUFzQk8sTUFBTUMsRUFBZTN1QixHQUNOLE9BQVZBLEtBQ2UsaUJBQVZBLEdBQXVDLG1CQUFWQSxHQU12QyxNQUFNNHVCLEVBQ1QsWUFBWXJ0QixFQUFTekMsRUFBTWlGLEdBQ3ZCaUQsS0FBSzZuQixPQUFRLEVBQ2I3bkIsS0FBS3pGLFFBQVVBLEVBQ2Z5RixLQUFLbEksS0FBT0EsRUFDWmtJLEtBQUtqRCxRQUFVQSxFQUNmaUQsS0FBS3ZGLE1BQVEsR0FDYixJQUFLLElBQUkzRixFQUFJLEVBQUdBLEVBQUlpSSxFQUFRL0gsT0FBUyxFQUFHRixJQUNwQ2tMLEtBQUt2RixNQUFNM0YsR0FBS2tMLEtBQUs4bkIsY0FNN0IsY0FDSSxPQUFPLElBQUlDLEVBQWMvbkIsTUFFN0IsWUFDSSxNQUFNakQsRUFBVWlELEtBQUtqRCxRQUNmaEgsRUFBSWdILEVBQVEvSCxPQUFTLEVBQzNCLElBQUlnekIsRUFBTyxHQUNYLElBQUssSUFBSWx6QixFQUFJLEVBQUdBLEVBQUlpQixFQUFHakIsSUFBSyxDQUN4Qmt6QixHQUFRanJCLEVBQVFqSSxHQUNoQixNQUFNZ0csRUFBT2tGLEtBQUt2RixNQUFNM0YsR0FDeEIsUUFBYWtELElBQVQ4QyxFQUFvQixDQUNwQixNQUFNNkYsRUFBSTdGLEVBQUs5QixNQUNmLEdBQVMsTUFBTDJILElBQ0M3QyxNQUFNcUgsUUFBUXhFLElBRUUsaUJBQU5BLEdBQWtCQSxFQUFFN0gsT0FBT212QixXQUN0QyxJQUFLLE1BQU1odkIsS0FBSzBILEVBQ1pxbkIsR0FBcUIsaUJBQU4vdUIsRUFBaUJBLEVBQUl1RyxPQUFPdkcsUUFJL0MrdUIsR0FBcUIsaUJBQU5ybkIsRUFBaUJBLEVBQUluQixPQUFPbUIsSUFLdkQsT0FEQXFuQixHQUFRanJCLEVBQVFoSCxHQUNUaXlCLEVBRVgsU0FDUWhvQixLQUFLNm5CLFFBQ0w3bkIsS0FBSzZuQixPQUFRLEVBQ2I3bkIsS0FBS3pGLFFBQVF6RCxhQUFha0osS0FBS2xJLEtBQU1rSSxLQUFLa29CLGVBSS9DLE1BQU1ILEVBQ1QsWUFBWUksR0FDUm5vQixLQUFLaEgsV0FBUWhCLEVBQ2JnSSxLQUFLb29CLFVBQVlELEVBRXJCLFNBQVNudkIsR0FDREEsSUFBVSxLQUFjMnVCLEVBQVkzdUIsSUFBVUEsSUFBVWdILEtBQUtoSCxRQUM3RGdILEtBQUtoSCxNQUFRQSxFQUlSLFlBQVlBLEtBQ2JnSCxLQUFLb29CLFVBQVVQLE9BQVEsSUFJbkMsU0FDSSxLQUFPLFlBQVk3bkIsS0FBS2hILFFBQVEsQ0FDNUIsTUFBTXF2QixFQUFZcm9CLEtBQUtoSCxNQUN2QmdILEtBQUtoSCxNQUFRLElBQ2JxdkIsRUFBVXJvQixNQUVWQSxLQUFLaEgsUUFBVSxLQUduQmdILEtBQUtvb0IsVUFBVUUsVUFHaEIsTUFBTUMsRUFDVCxZQUFZcm5CLEdBQ1JsQixLQUFLaEgsV0FBUWhCLEVBQ2JnSSxLQUFLd29CLG1CQUFnQnh3QixFQUNyQmdJLEtBQUtrQixRQUFVQSxFQU9uQixXQUFXeUYsR0FDUDNHLEtBQUt5b0IsVUFBWTloQixFQUFVeE8sWUFBWSxlQUN2QzZILEtBQUswb0IsUUFBVS9oQixFQUFVeE8sWUFBWSxlQVN6QyxnQkFBZ0J3d0IsR0FDWjNvQixLQUFLeW9CLFVBQVlFLEVBQ2pCM29CLEtBQUswb0IsUUFBVUMsRUFBSS9hLFlBT3ZCLGVBQWU5UyxHQUNYQSxFQUFLOHRCLFFBQVE1b0IsS0FBS3lvQixVQUFZLGVBQzlCM3RCLEVBQUs4dEIsUUFBUTVvQixLQUFLMG9CLFFBQVUsZUFPaEMsZ0JBQWdCQyxHQUNaQSxFQUFJQyxRQUFRNW9CLEtBQUt5b0IsVUFBWSxlQUM3QnpvQixLQUFLMG9CLFFBQVVDLEVBQUlELFFBQ25CQyxFQUFJRCxRQUFVMW9CLEtBQUt5b0IsVUFFdkIsU0FBU3p2QixHQUNMZ0gsS0FBS3dvQixjQUFnQnh2QixFQUV6QixTQUNJLEtBQU8sWUFBWWdILEtBQUt3b0IsZ0JBQWdCLENBQ3BDLE1BQU1ILEVBQVlyb0IsS0FBS3dvQixjQUN2QnhvQixLQUFLd29CLGNBQWdCLElBQ3JCSCxFQUFVcm9CLE1BRWQsTUFBTWhILEVBQVFnSCxLQUFLd29CLGNBQ2Z4dkIsSUFBVSxNQUdWMnVCLEVBQVkzdUIsR0FDUkEsSUFBVWdILEtBQUtoSCxPQUNmZ0gsS0FBSzZvQixZQUFZN3ZCLEdBR2hCQSxhQUFpQixJQUN0QmdILEtBQUs4b0Isc0JBQXNCOXZCLEdBRXRCQSxhQUFpQmtVLEtBQ3RCbE4sS0FBSytvQixZQUFZL3ZCLEdBRVo4RSxNQUFNcUgsUUFBUW5NLElBRW5CQSxFQUFNRixPQUFPbXZCLFVBQ2Jqb0IsS0FBS2dwQixnQkFBZ0Jod0IsR0FFaEJBLElBQVUsS0FDZmdILEtBQUtoSCxNQUFRLElBQ2JnSCxLQUFLaWUsU0FJTGplLEtBQUs2b0IsWUFBWTd2QixJQUd6QixRQUFRb0MsR0FDSjRFLEtBQUswb0IsUUFBUWh0QixXQUFXMEMsYUFBYWhELEVBQU00RSxLQUFLMG9CLFNBRXBELFlBQVkxdkIsR0FDSmdILEtBQUtoSCxRQUFVQSxJQUduQmdILEtBQUtpZSxRQUNMamUsS0FBSzRvQixRQUFRNXZCLEdBQ2JnSCxLQUFLaEgsTUFBUUEsR0FFakIsWUFBWUEsR0FDUixNQUFNb0MsRUFBTzRFLEtBQUt5b0IsVUFBVTdhLFlBQzVCNVUsRUFBaUIsTUFBVEEsRUFBZ0IsR0FBS0EsRUFDekJvQyxJQUFTNEUsS0FBSzBvQixRQUFRcHRCLGlCQUNKLElBQWxCRixFQUFLVSxTQUlMVixFQUFLM0csS0FBT3VFLEVBR1pnSCxLQUFLK29CLFlBQVl0eUIsU0FBU2tzQixlQUFnQyxpQkFBVjNwQixFQUFxQkEsRUFBUXdHLE9BQU94RyxLQUV4RmdILEtBQUtoSCxNQUFRQSxFQUVqQixzQkFBc0JBLEdBQ2xCLE1BQU1xQixFQUFXMkYsS0FBS2tCLFFBQVFnRyxnQkFBZ0JsTyxHQUM5QyxHQUFJZ0gsS0FBS2hILGlCQUFpQixLQUN0QmdILEtBQUtoSCxNQUFNcUIsV0FBYUEsRUFDeEIyRixLQUFLaEgsTUFBTTBLLE9BQU8xSyxFQUFNMEwsWUFFdkIsQ0FLRCxNQUFNbVgsRUFBVyxJQUFJLElBQWlCeGhCLEVBQVVyQixFQUFNaXdCLFVBQVdqcEIsS0FBS2tCLFNBQ2hFZ29CLEVBQVdyTixFQUFTc04sU0FDMUJ0TixFQUFTblksT0FBTzFLLEVBQU0wTCxRQUN0QjFFLEtBQUsrb0IsWUFBWUcsR0FDakJscEIsS0FBS2hILE1BQVE2aUIsR0FHckIsZ0JBQWdCN2lCLEdBVVA4RSxNQUFNcUgsUUFBUW5GLEtBQUtoSCxTQUNwQmdILEtBQUtoSCxNQUFRLEdBQ2JnSCxLQUFLaWUsU0FJVCxNQUFNbUwsRUFBWXBwQixLQUFLaEgsTUFDdkIsSUFDSXF3QixFQURBenVCLEVBQVksRUFFaEIsSUFBSyxNQUFNNmYsS0FBUXpoQixFQUVmcXdCLEVBQVdELEVBQVV4dUIsUUFFSjVDLElBQWJxeEIsSUFDQUEsRUFBVyxJQUFJZCxFQUFTdm9CLEtBQUtrQixTQUM3QmtvQixFQUFVOXpCLEtBQUsrekIsR0FDRyxJQUFkenVCLEVBQ0F5dUIsRUFBU0MsZUFBZXRwQixNQUd4QnFwQixFQUFTRSxnQkFBZ0JILEVBQVV4dUIsRUFBWSxLQUd2RHl1QixFQUFTRyxTQUFTL08sR0FDbEI0TyxFQUFTZixTQUNUMXRCLElBRUFBLEVBQVl3dUIsRUFBVXAwQixTQUV0Qm8wQixFQUFVcDBCLE9BQVM0RixFQUNuQm9GLEtBQUtpZSxNQUFNb0wsR0FBWUEsRUFBU1gsVUFHeEMsTUFBTUQsRUFBWXpvQixLQUFLeW9CLFdBQ25CLFlBQVl6b0IsS0FBS3lvQixVQUFVL3NCLFdBQVkrc0IsRUFBVTdhLFlBQWE1TixLQUFLMG9CLFVBVXBFLE1BQU1lLEVBQ1QsWUFBWWx2QixFQUFTekMsRUFBTWlGLEdBR3ZCLEdBRkFpRCxLQUFLaEgsV0FBUWhCLEVBQ2JnSSxLQUFLd29CLG1CQUFnQnh3QixFQUNFLElBQW5CK0UsRUFBUS9ILFFBQStCLEtBQWYrSCxFQUFRLElBQTRCLEtBQWZBLEVBQVEsR0FDckQsTUFBTSxJQUFJNUYsTUFBTSwyREFFcEI2SSxLQUFLekYsUUFBVUEsRUFDZnlGLEtBQUtsSSxLQUFPQSxFQUNaa0ksS0FBS2pELFFBQVVBLEVBRW5CLFNBQVMvRCxHQUNMZ0gsS0FBS3dvQixjQUFnQnh2QixFQUV6QixTQUNJLEtBQU8sWUFBWWdILEtBQUt3b0IsZ0JBQWdCLENBQ3BDLE1BQU1ILEVBQVlyb0IsS0FBS3dvQixjQUN2QnhvQixLQUFLd29CLGNBQWdCLElBQ3JCSCxFQUFVcm9CLE1BRWQsR0FBSUEsS0FBS3dvQixnQkFBa0IsSUFDdkIsT0FFSixNQUFNeHZCLElBQVVnSCxLQUFLd29CLGNBQ2pCeG9CLEtBQUtoSCxRQUFVQSxJQUNYQSxFQUNBZ0gsS0FBS3pGLFFBQVF6RCxhQUFha0osS0FBS2xJLEtBQU0sSUFHckNrSSxLQUFLekYsUUFBUW1JLGdCQUFnQjFDLEtBQUtsSSxPQUcxQ2tJLEtBQUtoSCxNQUFRQSxFQUNiZ0gsS0FBS3dvQixjQUFnQixLQVl0QixNQUFNa0IsVUFBMEI5QixFQUNuQyxZQUFZcnRCLEVBQVN6QyxFQUFNaUYsR0FDdkJnRCxNQUFNeEYsRUFBU3pDLEVBQU1pRixHQUNyQmlELEtBQUsycEIsT0FDbUIsSUFBbkI1c0IsRUFBUS9ILFFBQStCLEtBQWYrSCxFQUFRLElBQTRCLEtBQWZBLEVBQVEsR0FFOUQsY0FDSSxPQUFPLElBQUk2c0IsRUFBYTVwQixNQUU1QixZQUNJLE9BQUlBLEtBQUsycEIsT0FDRTNwQixLQUFLdkYsTUFBTSxHQUFHekIsTUFFbEIrRyxNQUFNbW9CLFlBRWpCLFNBQ1Fsb0IsS0FBSzZuQixRQUNMN25CLEtBQUs2bkIsT0FBUSxFQUViN25CLEtBQUt6RixRQUFReUYsS0FBS2xJLE1BQVFrSSxLQUFLa29CLGNBSXBDLE1BQU0wQixVQUFxQjdCLEdBTWxDLElBQUk4QixHQUF3QixFQUM1QixJQUNJLE1BQU0zb0IsRUFBVSxDQUNaLGNBRUksT0FEQTJvQixHQUF3QixHQUNqQixJQUlmOXZCLE9BQU82UixpQkFBaUIsT0FBUTFLLEVBQVNBLEdBRXpDbkgsT0FBTzhSLG9CQUFvQixPQUFRM0ssRUFBU0EsR0FFaEQsTUFBTzRvQixJQUVBLE1BQU1DLEVBQ1QsWUFBWXh2QixFQUFTMlgsRUFBV3hMLEdBQzVCMUcsS0FBS2hILFdBQVFoQixFQUNiZ0ksS0FBS3dvQixtQkFBZ0J4d0IsRUFDckJnSSxLQUFLekYsUUFBVUEsRUFDZnlGLEtBQUtrUyxVQUFZQSxFQUNqQmxTLEtBQUswRyxhQUFlQSxFQUNwQjFHLEtBQUtncUIsa0JBQXFCaDBCLEdBQU1nSyxLQUFLaXFCLFlBQVlqMEIsR0FFckQsU0FBU2dELEdBQ0xnSCxLQUFLd29CLGNBQWdCeHZCLEVBRXpCLFNBQ0ksS0FBTyxZQUFZZ0gsS0FBS3dvQixnQkFBZ0IsQ0FDcEMsTUFBTUgsRUFBWXJvQixLQUFLd29CLGNBQ3ZCeG9CLEtBQUt3b0IsY0FBZ0IsSUFDckJILEVBQVVyb0IsTUFFZCxHQUFJQSxLQUFLd29CLGdCQUFrQixJQUN2QixPQUVKLE1BQU0wQixFQUFjbHFCLEtBQUt3b0IsY0FDbkIyQixFQUFjbnFCLEtBQUtoSCxNQUNuQm94QixFQUFzQyxNQUFmRixHQUNWLE1BQWZDLElBQ0tELEVBQVlHLFVBQVlGLEVBQVlFLFNBQ2pDSCxFQUFZSSxPQUFTSCxFQUFZRyxNQUNqQ0osRUFBWUssVUFBWUosRUFBWUksU0FDMUNDLEVBQW1DLE1BQWZOLElBQXVDLE1BQWZDLEdBQXVCQyxHQUNyRUEsR0FDQXBxQixLQUFLekYsUUFBUXNSLG9CQUFvQjdMLEtBQUtrUyxVQUFXbFMsS0FBS2dxQixrQkFBbUJocUIsS0FBS3lxQixVQUU5RUQsSUFDQXhxQixLQUFLeXFCLFNBQVdDLEVBQVdSLEdBQzNCbHFCLEtBQUt6RixRQUFRcVIsaUJBQWlCNUwsS0FBS2tTLFVBQVdsUyxLQUFLZ3FCLGtCQUFtQmhxQixLQUFLeXFCLFdBRS9FenFCLEtBQUtoSCxNQUFRa3hCLEVBQ2JscUIsS0FBS3dvQixjQUFnQixJQUV6QixZQUFZcHhCLEdBQ2tCLG1CQUFmNEksS0FBS2hILE1BQ1pnSCxLQUFLaEgsTUFBTTVELEtBQUs0SyxLQUFLMEcsY0FBZ0IxRyxLQUFLekYsUUFBU25ELEdBR25ENEksS0FBS2hILE1BQU1peEIsWUFBWTd5QixJQU9uQyxNQUFNc3pCLEVBQWNqeUIsR0FBTUEsSUFDckJveEIsRUFDRyxDQUFFUSxRQUFTNXhCLEVBQUU0eEIsUUFBU0UsUUFBUzl4QixFQUFFOHhCLFFBQVNELEtBQU03eEIsRUFBRTZ4QixNQUNsRDd4QixFQUFFNHhCLFUsNkJDL2FWOzs7Ozs7Ozs7Ozs7OztBQWlCTyxNQUFNTSxFQUFXLEdBSVhDLEVBQVUsSSw2QkNyQnZCOzs7Ozs7Ozs7O0FBaUJPLE1BQU1DLEVBQ1gsY0FDRTdxQixLQUFLOHFCLGFBQWUsS0FDcEI5cUIsS0FBSytxQixVQUFZLEtBQ2pCL3FCLEtBQUtnckIsT0FBUyxLQVdoQixVQUFVQyxFQUFhMWhCLEdBQ3JCdkosS0FBSzhxQixhQUFlRyxFQUNwQmpyQixLQUFLK3FCLFVBQVl4aEIsRUFDakJ2SixLQUFLZ3JCLE9BQVNockIsS0FBSzhxQixhQUFhaGdCLElBQUksS0FDbEM5SyxLQUFLZ3JCLE9BQVMsS0FDZEUsRUFBZS9qQixPQUFPbkgsTUFDdEJBLEtBQUsrcUIsY0FRVCxTQUNNL3FCLEtBQUttckIsYUFDUG5yQixLQUFLb3JCLGVBS0xGLEVBQWUvakIsT0FBT25ILE9BUTFCLGVBQ01BLEtBQUttckIsYUFDUG5yQixLQUFLOHFCLGFBQWFPLE9BQTZCcnJCLEtBQVcsUUFDMURBLEtBQUtnckIsT0FBUyxNQVFsQixRQUNNaHJCLEtBQUttckIsYUFDUG5yQixLQUFLcXJCLFNBQ0xyckIsS0FBSytxQixhQVFULFdBQ0UsT0FBc0IsTUFBZi9xQixLQUFLZ3JCLE9Bb0NkLGdCQUFnQk0sRUFBV0wsRUFBYTFoQixHQVN0QyxPQVJJK2hCLGFBQXFCVCxFQUd2QlMsRUFBVUYsZUFFVkUsRUFBWSxJQUFJVCxFQUVsQlMsRUFBVUMsVUFBVU4sRUFBYTFoQixHQUMxQitoQixHQUlYLElBQUlKLEVBQWlCLElBQUk5dEIsSUFRbEIsTUFBTW91QixFQUFtQixTQUFTRixHQUN2Q0osRUFBZTN0QixJQUFJK3RCLElBUVJHLEVBQWtCLFdBQzdCLE1BQU0vZixFQUFXM00sUUFBUW1zQixFQUFlcG5CLE1BWXhDLE9BVEFvbkIsRUFBZXp2QixRQUFRNnZCLElBQ3JCLElBQ0VBLEVBQVV2Z0IsUUFDVixNQUFNL1UsR0FDTmlDLFdBQVcsS0FDVCxNQUFNakMsT0FJTDBWLEksNkJDbktUOzs7Ozs7Ozs7Ozs7OztBQWdCTyxNQUFNZ2dCLE9BQXlDMXpCLElBQTFCK0IsT0FBT29WLHFCQUUzQm5YLElBREorQixPQUFPb1YsZUFBZXdjLDBCQVFiQyxFQUFnQixDQUFDamxCLEVBQVdrbEIsRUFBT0MsRUFBTSxLQUFNQyxFQUFTLFFBQ2pFLElBQUkzd0IsRUFBT3l3QixFQUNYLEtBQU96d0IsSUFBUzB3QixHQUFLLENBQ2pCLE1BQU10eUIsRUFBSTRCLEVBQUt3UyxZQUNmakgsRUFBVXZJLGFBQWFoRCxFQUFNMndCLEdBQzdCM3dCLEVBQU81QixJQU9Gd3lCLEVBQWMsQ0FBQ3JsQixFQUFXOGhCLEVBQVdDLEVBQVUsUUFDeEQsSUFBSXR0QixFQUFPcXRCLEVBQ1gsS0FBT3J0QixJQUFTc3RCLEdBQVMsQ0FDckIsTUFBTWx2QixFQUFJNEIsRUFBS3dTLFlBQ2ZqSCxFQUFVaEwsWUFBWVAsR0FDdEJBLEVBQU81QixLLDZCQzFDZjs7Ozs7Ozs7O0VBV0EsSUFFSXl5QixFQUNBQyxFQUhBQyxFQUFhLHNCQUNiQyxFQUFVLDBCQWNQLFNBQVNDLEVBQVdDLEVBQUtqZCxHQUM5QixHQUFJaWQsR0FBT0YsRUFBUUcsS0FBS0QsR0FDdEIsT0FBT0EsRUFHVCxRQUFtQnQwQixJQUFmaTBCLEVBQTBCLENBQzVCQSxHQUFhLEVBQ2IsSUFDRSxNQUFNTyxFQUFJLElBQUlDLElBQUksSUFBSyxZQUN2QkQsRUFBRUUsU0FBVyxRQUNiVCxFQUF5QixtQkFBWE8sRUFBRWpkLEtBQ2hCLE1BQU92WixLQU9YLE9BSEtxWixJQUNIQSxFQUFVNVksU0FBUzRZLFNBQVd0VixPQUFPdVYsU0FBU0MsTUFFNUMwYyxFQUNLLElBQUtRLElBQUlILEVBQUtqZCxHQUFVRSxNQUc1QjJjLElBQ0hBLEVBQWF6MUIsU0FBU2syQixlQUFlQyxtQkFBbUIsUUFDeERWLEVBQVd2a0IsS0FBT3VrQixFQUFXeDFCLGNBQWMsUUFDM0N3MUIsRUFBV2gwQixLQUFLQyxZQUFZK3pCLEVBQVd2a0IsTUFDdkN1a0IsRUFBV1csT0FBU1gsRUFBV3gxQixjQUFjLEtBQzdDdzFCLEVBQVczTixLQUFLcG1CLFlBQVkrekIsRUFBV1csU0FFekNYLEVBQVd2a0IsS0FBSzRILEtBQU9GLEVBQ3ZCNmMsRUFBV1csT0FBT3RkLEtBQU8rYyxFQUNsQkosRUFBV1csT0FBT3RkLE1BQVErYyxHQVk1QixTQUFTUSxFQUFXem9CLEVBQVNnTCxHQUNsQyxPQUFPaEwsRUFBUXlPLFFBQVFxWixHQUFZLFNBQVM5ekIsRUFBRzAwQixFQUFLVCxFQUFLVSxHQUN2RCxPQUFPRCxFQUFNLElBQ1hWLEVBQVdDLEVBQUl4WixRQUFRLFFBQVMsSUFBS3pELEdBQ3JDLElBQU8yZCxLQVdOLFNBQVNDLEVBQVlYLEdBQzFCLE9BQU9BLEVBQUluWCxVQUFVLEVBQUdtWCxFQUFJWSxZQUFZLEtBQU8sSzs7Ozs7Ozs7Ozs7OztHQ25DMUMsTUFBTUMsRUFBMkIsSUFqQ2pDLE1BVUgsMkJBQTJCNXlCLEVBQVN6QyxFQUFNaUYsRUFBU21FLEdBQy9DLE1BQU1rc0IsRUFBU3QxQixFQUFLLEdBQ3BCLEdBQWUsTUFBWHMxQixFQUFnQixDQUVoQixPQURpQixJQUFJLElBQWtCN3lCLEVBQVN6QyxFQUFLbUMsTUFBTSxHQUFJOEMsR0FDL0N0QyxNQUVwQixNQUFlLE1BQVgyeUIsRUFDTyxDQUFDLElBQUksSUFBVTd5QixFQUFTekMsRUFBS21DLE1BQU0sR0FBSWlILEVBQVF3RixlQUUzQyxNQUFYMG1CLEVBQ08sQ0FBQyxJQUFJLElBQXFCN3lCLEVBQVN6QyxFQUFLbUMsTUFBTSxHQUFJOEMsSUFFNUMsSUFBSSxJQUFtQnhDLEVBQVN6QyxFQUFNaUYsR0FDdkN0QyxNQU1wQixxQkFBcUJ5RyxHQUNqQixPQUFPLElBQUksSUFBU0EsSzs7Ozs7Ozs7Ozs7Ozs7Q0NEM0JuSCxPQUF3QixrQkFBTUEsT0FBd0IsZ0JBQUksS0FBS3pFLEtBQUssU0FLOUQsTUFBTW9ULEVBQU8sQ0FBQzNMLEtBQVkySCxJQUFXLElBQUksSUFBZTNILEVBQVMySCxFQUFRLE9BQVF5b0IsSSw2QkNuRHhGOzs7Ozs7Ozs7O0FBdUJPLE1BQU1waUIsRUFBUSxXQUNuQixJQUFJc2lCLEVBQVVDLEVBQ2QsR0FDRUQsRUFBV3R6QixPQUFPcVEsVUFBWUEsU0FBU1csUUFDbkNoUixPQUFPb0MsVUFBWXBDLE9BQU9vQyxTQUFTK0osYUFDckNuTSxPQUFPb0MsU0FBUytKLFlBQVk2RSxRQUU5QnVpQixFQUFhLG9CQUNORCxHQUFZQyxLLDZCQy9CdkI7Ozs7Ozs7Ozs7QUFVTyxNQUFNQyxFQUFhLDBIQUNiQyxFQUFjLHVDQUdkQyxFQUFjLGdCLDZCQ2QzQjs7Ozs7Ozs7Ozs7Ozs7QUFzQk8sTUFBTUMsRUFDVCxZQUFZM3dCLEVBQVMySCxFQUFRaE4sRUFBTXV4QixHQUMvQmpwQixLQUFLakQsUUFBVUEsRUFDZmlELEtBQUswRSxPQUFTQSxFQUNkMUUsS0FBS3RJLEtBQU9BLEVBQ1pzSSxLQUFLaXBCLFVBQVlBLEVBS3JCLFVBQ0ksTUFBTTBFLEVBQVczdEIsS0FBS2pELFFBQVEvSCxPQUFTLEVBQ3ZDLElBQUkwVCxFQUFPLEdBQ1gsSUFBSyxJQUFJNVQsRUFBSSxFQUFHQSxFQUFJNjRCLEVBQVU3NEIsSUFBSyxDQUMvQixNQUFNb0YsRUFBSThGLEtBQUtqRCxRQUFRakksR0FVakJ5eUIsRUFBUSxJQUF1QmpGLEtBQUtwb0IsR0FLdEN3TyxHQUpBNmUsRUFJUXJ0QixFQUFFMHpCLE9BQU8sRUFBR3JHLEVBQU0vckIsT0FBUytyQixFQUFNLEdBQUtBLEVBQU0sR0FDaEQsSUFBdUJBLEVBQU0sR0FBSyxJQUs5QnJ0QixFQUFJLElBR3BCLE9BQU93TyxFQUFPMUksS0FBS2pELFFBQVE0d0IsR0FFL0IscUJBQ0ksTUFBTXR6QixFQUFXNUQsU0FBU0MsY0FBYyxZQUV4QyxPQURBMkQsRUFBU3NPLFVBQVkzSSxLQUFLNnRCLFVBQ25CeHpCLEdBVVIsTUFBTXl6QixVQUEwQkosRUFDbkMsVUFDSSxNQUFPLFFBQVEzdEIsTUFBTTh0QixrQkFFekIscUJBQ0ksTUFBTXh6QixFQUFXMEYsTUFBTTlDLHFCQUNqQnpDLEVBQVVILEVBQVNHLFFBQ25CdXpCLEVBQWF2ekIsRUFBUThELFdBRzNCLE9BRkE5RCxFQUFRbUIsWUFBWW95QixHQUNwQixZQUFjdnpCLEVBQVN1ekIsRUFBV3p2QixZQUMzQmpFLEssNkJDckZmOzs7Ozs7Ozs7RUFXQSxNQUFNMnpCLEVBQVUsR0FDVkMsRUFBZ0IsVUFDaEJDLEVBQWdCLFdBY2YsU0FBU0MsRUFBZ0JDLEdBQzlCLE9BQU9KLEVBQVFJLEtBQ2JKLEVBQVFJLEdBQVFBLEVBQUs3bUIsUUFBUSxLQUFPLEVBQUk2bUIsRUFBT0EsRUFBS3RiLFFBQVFtYixFQUN6RDUxQixHQUFNQSxFQUFFLEdBQUdnMkIsZ0JBWVgsU0FBU0MsRUFBZ0JDLEdBQzlCLE9BQU9QLEVBQVFPLEtBQ2JQLEVBQVFPLEdBQVNBLEVBQU16YixRQUFRb2IsRUFBZSxPQUFPbHNCLGlCLDZCQzVDekQ7Ozs7Ozs7Ozs7Ozs7R0FrQk8sU0FBU2tGLEVBQWdCM0ssR0FDNUIsSUFBSUUsRUFBZ0IreEIsRUFBZTUxQixJQUFJMkQsRUFBTzdFLFdBQ3hCTSxJQUFsQnlFLElBQ0FBLEVBQWdCLENBQ1pDLGFBQWMsSUFBSUMsUUFDbEJDLFVBQVcsSUFBSUMsS0FFbkIyeEIsRUFBZTF4QixJQUFJUCxFQUFPN0UsS0FBTStFLElBRXBDLElBQUlwQyxFQUFXb0MsRUFBY0MsYUFBYTlELElBQUkyRCxFQUFPUSxTQUNyRCxRQUFpQi9FLElBQWJxQyxFQUNBLE9BQU9BLEVBSVgsTUFBTWYsRUFBTWlELEVBQU9RLFFBQVFDLEtBQUssS0FXaEMsT0FUQTNDLEVBQVdvQyxFQUFjRyxVQUFVaEUsSUFBSVUsUUFDdEJ0QixJQUFicUMsSUFFQUEsRUFBVyxJQUFJLElBQVNrQyxFQUFRQSxFQUFPVSxzQkFFdkNSLEVBQWNHLFVBQVVFLElBQUl4RCxFQUFLZSxJQUdyQ29DLEVBQWNDLGFBQWFJLElBQUlQLEVBQU9RLFFBQVMxQyxHQUN4Q0EsRUFFSixNQUFNbTBCLEVBQWlCLElBQUkzeEIsSyw2QkM5Q2xDOzs7Ozs7Ozs7Ozs7OztBQWFBLE1BQU00eEIsRUFBYSxJQUFJOXhCLFFBc0JWMHJCLEVBQWFxRyxHQUFNLElBQUt6bUIsS0FDakMsTUFBTTFQLEVBQUltMkIsS0FBS3ptQixHQUVmLE9BREF3bUIsRUFBVzN4QixJQUFJdkUsR0FBRyxHQUNYQSxHQUVFbzJCLEVBQWVsMkIsR0FDSixtQkFBTkEsR0FBb0JnMkIsRUFBV2x6QixJQUFJOUMsSSw2QkN6Q3JEOzs7Ozs7Ozs7Ozs7OztBQW1CTyxNQUFNZ0MsRUFBUSxJQUFJa0MsUUFnQlo4SixFQUFTLENBQUNsSyxFQUFRb0ssRUFBV3pGLEtBQ3RDLElBQUlwRyxFQUFPTCxFQUFNN0IsSUFBSStOLFFBQ1IzTyxJQUFUOEMsSUFDQSxZQUFZNkwsRUFBV0EsRUFBVXJJLFlBQ2pDN0QsRUFBTXFDLElBQUk2SixFQUFXN0wsRUFBTyxJQUFJLElBQVM3RixPQUFPZ1MsT0FBTyxDQUFFQyxnQkFBQSxLQUFtQmhHLEtBQzVFcEcsRUFBSzh6QixXQUFXam9CLElBRXBCN0wsRUFBSzB1QixTQUFTanRCLEdBQ2R6QixFQUFLd3RCLFcsNkJDM0NUOzs7Ozs7Ozs7RUFrQk8sU0FBU3VHLEVBQXVCdDBCLEVBQVNvSCxHQUU5QyxJQUFLLElBQUkzSyxLQUFLMkssRUFFRixPQUFOM0ssRUFDRnVELEVBQVFvRCxNQUFNbXhCLGVBQWU5M0IsR0FFN0J1RCxFQUFRb0QsTUFBTW94QixZQUFZLzNCLEVBQUcySyxFQUFXM0ssSUFVdkMsU0FBU3duQixFQUFzQmprQixFQUFTYixHQUk3QyxNQUFNVixFQUFRZSxPQUFPaTFCLGlCQUFpQnowQixHQUFTMDBCLGlCQUFpQnYxQixHQUNoRSxPQUFLVixFQUdJQSxFQUFNazJCLE9BRk4sR0FXSixTQUFTQyxFQUFZOXFCLEdBQzFCLE1BQU05SSxFQUFNLElBQVlneEIsS0FBS2xvQixJQUFZLElBQVdrb0IsS0FBS2xvQixHQUl6RCxPQUZBLElBQVlvZSxVQUFZLEVBQ3hCLElBQVdBLFVBQVksRUFDaEJsbkIsSSw2QkN6RFQ7Ozs7Ozs7Ozs7QUE4Qk8sTUFBTTZ6QixFQUFpQixZQUFhdHZCLGMsNkJDOUIzQzs7Ozs7Ozs7Ozs7Ozs7QUFzQk8sTUFBTXV2QixFQUNULFlBQVloMUIsRUFBVTR1QixFQUFXL25CLEdBQzdCbEIsS0FBS3N2QixPQUFTLEdBQ2R0dkIsS0FBSzNGLFNBQVdBLEVBQ2hCMkYsS0FBS2lwQixVQUFZQSxFQUNqQmpwQixLQUFLa0IsUUFBVUEsRUFFbkIsT0FBT3dELEdBQ0gsSUFBSTVQLEVBQUksRUFDUixJQUFLLE1BQU1nRyxLQUFRa0YsS0FBS3N2QixZQUNQdDNCLElBQVQ4QyxHQUNBQSxFQUFLMHVCLFNBQVM5a0IsRUFBTzVQLElBRXpCQSxJQUVKLElBQUssTUFBTWdHLEtBQVFrRixLQUFLc3ZCLFlBQ1B0M0IsSUFBVDhDLEdBQ0FBLEVBQUt3dEIsU0FJakIsU0FNSSxNQUFNWSxFQUFXLElBQ2JscEIsS0FBSzNGLFNBQVNFLFFBQVFDLFFBQVFpRSxXQUFVLEdBQ3hDaEksU0FBU3FXLFdBQVc5TSxLQUFLM0YsU0FBU0UsUUFBUUMsU0FBUyxHQUNqREMsRUFBUXVGLEtBQUszRixTQUFTSSxNQUM1QixJQUFJRyxFQUFZLEVBQ1pHLEVBQVksRUFDaEIsTUFBTXcwQixFQUFvQnJHLElBR3RCLE1BQU14dUIsRUFBU2pFLFNBQVNrRSxpQkFBaUJ1dUIsRUFBVSxJQUFrRCxNQUFNLEdBQzNHLElBQUk5dEIsRUFBT1YsRUFBT1MsV0FFbEIsS0FBT1AsRUFBWUgsRUFBTXpGLFFBQW1CLE9BQVRvRyxHQUFlLENBQzlDLE1BQU1OLEVBQU9MLEVBQU1HLEdBT25CLEdBQUssWUFBcUJFLEdBSXJCLEdBQUlDLElBQWNELEVBQUtVLE1BQU8sQ0FDL0IsR0FBa0IsU0FBZFYsRUFBS3BELEtBQWlCLENBQ3RCLE1BQU1vRCxFQUFPa0YsS0FBS2lwQixVQUFVdUcscUJBQXFCeHZCLEtBQUtrQixTQUN0RHBHLEVBQUsyMEIsZ0JBQWdCcjBCLEVBQUtFLGlCQUMxQjBFLEtBQUtzdkIsT0FBT2g2QixLQUFLd0YsUUFHakJrRixLQUFLc3ZCLE9BQU9oNkIsUUFBUTBLLEtBQUtpcEIsVUFBVXlHLDJCQUEyQnQwQixFQUFNTixFQUFLaEQsS0FBTWdELEVBQUtpQyxRQUFTaUQsS0FBS2tCLFVBRXRHdEcsU0FHQUcsSUFDc0IsYUFBbEJLLEVBQUt1MEIsVUFDTEosRUFBaUJuMEIsRUFBS1osU0FFMUJZLEVBQU9WLEVBQU9TLGdCQW5CZDZFLEtBQUtzdkIsT0FBT2g2QixVQUFLMEMsR0FDakI0QyxNQTJCWixPQUxBMjBCLEVBQWlCckcsR0FDYixNQUNBenlCLFNBQVNtNUIsVUFBVTFHLEdBQ25CL1osZUFBZTBnQixRQUFRM0csSUFFcEJBLEssdUhDMUVSLE1BQU00RyxFQUFnQixHOzs7Ozs7Ozs7RUMwQnRCLE1BQU0sRUFBa0IsWUFBY3RmLElBTzVDLE1BQU03SSxFQUFPLFlBQWtCNkksR0FTL0IsU0FBU3VmLEVBQXFCM3RCLEdBQzVCLE1BQU1YLEVBQVl4TSxPQUFPK0wsZUFBZW9CLEdBTXhDLE9BQVFYLEVBQVV2TSxxQkFBcUI4NkIsRUFDTSxFQUFjLEtBVzdELFNBQVNDLEVBQWM3dEIsR0FDckIsSUFBS0EsRUFBWWpOLGVBQWV3SiwwQkFBMEIsa0JBQW1CeUQsSUFBZSxDQUMxRixJQUFJVixFQUFRLEtBRVosR0FBSVUsRUFBWWpOLGVBQWV3SiwwQkFBMEIsYUFBY3lELElBQWUsQ0FDcEYsTUFBTVQsRUFBYVMsRUFBWVQsV0FFM0JBLElBQ0hELEVBckVSLFNBQTZCQSxHQUMzQixNQUFNd3VCLEVBQVMsR0FDZixJQUFLLElBQUlsNUIsS0FBSzBLLEVBQU8sQ0FDbkIsTUFBTWpKLEVBQUlpSixFQUFNMUssR0FDaEJrNUIsRUFBT2w1QixHQUFtQixtQkFBTnlCLEVBQW9CLENBQUNmLEtBQU1lLEdBQUtBLEVBRXRELE9BQU95M0IsRUErRE9DLENBQW9CeHVCLElBSS9CUyxFQUFZZ3VCLGdCQUFrQjF1QixFQUVoQyxPQUFPVSxFQUFZZ3VCLGdCQVVyQixNQUFNSixVQUF3QnJvQixFQU81QixnQ0FDRSxJQUFLM0gsS0FBSzdLLGVBQWUsd0JBQXlCLENEOUU5QkQsRUMrRVQ4SyxLQUFLOUssVUQ5RW5CNDZCLEVBQWN4NkIsS0FBS0osR0MrRWQsTUFBTXdNLEVBQVExQixLQUFLcXdCLFlBQ25CcndCLEtBQUtzd0IscUJBQXVCNXVCLEVBQVF6TSxPQUFPd3FCLEtBQUsvZCxHQUFPcUUsSUFBSS9PLEdBQUtnSixLQUFLdXdCLHlCQUF5QnY1QixJQUFNLEdEakZwRyxJQUFrQjlCLEVDbUZwQixPQUFPOEssS0FBS3N3QixxQkFVZCxrQkFDRSxJQUFLdHdCLEtBQUs3SyxlQUFld0osMEJBQTBCLGNBQWVxQixPQUFRLENBQ3hFLE1BQU15QixFQUFZc3VCLEVBQStELE1BQzdFdHVCLEdBQ0ZBLEVBQVVqQixXQUVaUixLQUFLd3dCLGFBQWMsRUFDbkJ4d0IsS0FBS3VsQixrQkFXVCx3QkFDRSxNQUFNN2pCLEVBQVF1dUIsRUFBd0QsTUFDbEV2dUIsR0FDRjFCLEtBQUtxbEIsaUJBQWlCM2pCLEdBWTFCLHlCQUNFLElBQUsxQixLQUFLN0ssZUFDUndKLDBCQUEwQixlQUFnQnFCLE9BQVEsQ0FDbEQsTUFBTXlCLEVBQVlzdUIsRUFBK0QsTUFDakYvdkIsS0FBS3l3QixhQUFleDdCLE9BQU9nUyxPQUFPLEdBQ2hDeEYsR0FBYUEsRUFBVTR1QixZQUN2QkosRUFBdUQsT0FFM0QsT0FBT2p3QixLQUFLeXdCLGFBV2QsdUJBQXVCMzRCLEdBQ3JCLE1BQU11USxFQUFPckksS0FBS3F3QixZQUFZdjRCLEdBQzlCLE9BQU91USxHQUFRQSxFQUFLM1EsS0FTdEIsd0JBRUVzSSxLQUFLb0MsWUFBWTVCLFdBQ2pCVCxNQUFNMndCLHdCQVdSLG9CQUNNM3dCLE1BQU1zRyxtQkFDUnRHLE1BQU1zRyxvQkFFUnJHLEtBQUswUixvQkFTUCx1QkFDTTNSLE1BQU1rWSxzQkFDUmxZLE1BQU1rWSx3QkFNWixPQUFPK1gsSTs7Ozs7Ozs7Ozs7R0M1TUQsTUFFRFcsRUFBVzUyQixPQUFPb0MsVUFBWXBDLE9BQU9vQyxTQUFtQixTQXNFakR5MEIsRUFBZSxZQUFjanBCLElBUXhDLE1BQU1rcEIsRUFBcUIsRUFBZ0IsWUFBZ0JscEIsSUEwcUIzRCxPQTljQSxjQUE2QmtwQixFQU0zQixtQ0FDRSxNQW5UaUIsUUE2VG5CLHdCQUNFOXdCLE1BQU13bEIsaUJBQ04sTUFBTWxCLElBNU1ZamlCLEVBNE1hcEMsTUEzTWhCN0ssZUFDZndKLDBCQUEwQixpQkFBa0J5RCxNQUM1Q0EsRUFBWTB1QixlQUNSMXVCLEVBQVlqTixlQUNSd0osMEJBQTBCLFlBQWF5RCxJQUNGLEVBQWNpaUIsVUFDdkQsTUFFQ2ppQixFQUFZMHVCLGdCQVRyQixJQUFzQjF1QixFQTZNZGlpQixHQUNGcmtCLEtBQUtzbEIsZ0JBQWdCakIsRUFBV3JrQixLQUFLcXdCLGFBRXZDcndCLEtBQUtpaUIsbUJBR1AsMEJBRUUsSUFBSTVuQixFQUFvRCxLQUFPQSxTQUMzREEsSUFDc0IsaUJBQWJBLEdBQ1RSLFFBQVEzQyxNQUFNLG1EQUNkbUQsRUFBVyxNQUNELE1BQ1ZBLEVBQVdBLEVBQVNvRSxXQUFVLEtBSWxDdUIsS0FBSzlLLFVBQVU2N0IsVUFBWTEyQixFQVU3Qix3QkFBd0JxSCxHQUN0QixJQUFLLElBQUkxSyxLQUFLMEssRUFwS2dCNkwsRUFxS0h2TixLQUFLOUssVUFyS0s0QyxFQXFLTWQsRUFyS0FxUixFQXFLRzNHLEVBQU0xSyxHQXJLSGc2QixFQXFLT3R2QixFQW5LdEQyRyxFQUFLK08sV0FDUC9PLEVBQUsyTyxVQUFXLEdBT2QzTyxFQUFLK08sV0FDSDdKLEVBQU0wakIsbUJBQW1CbjVCLEdBQzNCK0IsUUFBUXdDLEtBQUssc0NBQXNDdkUsT0FFbkR5VixFQUFNMmpCLHdCQUF3QnA1QixFQUFNdVEsRUFBSytPLFNBQVU0WixJQUduRDNvQixFQUFLMk8sV0FBYXpKLEVBQU0wakIsbUJBQW1CbjVCLEdBQzdDeVYsRUFBTTRqQix3QkFBd0JyNUIsR0FBT3VRLEVBQUsrTyxXQUNmLElBQWxCL08sRUFBSzJPLFVBQXNCekosRUFBTTBqQixtQkFBbUJuNUIsSUFDN0QrQixRQUFRd0MsS0FBSyxrQ0FBa0N2RSxvQkFFN0N1USxFQUFLK29CLHFCQUF1QjdqQixFQUFNOGpCLGtCQUFrQnY1QixHQUN0RHlWLEVBQU0rakIseUJBQXlCeDVCLElBQ00sSUFBNUJ1USxFQUFLK29CLG9CQUFnQzdqQixFQUFNOGpCLGtCQUFrQnY1QixJQUN0RStCLFFBQVF3QyxLQUFLLG1DQUFtQ3ZFLHFCQUU5Q3VRLEVBQUswTyxTQUFXeEosRUFBTWdrQixpQkFBaUJ6NUIsR0FDekN5VixFQUFNb0gseUJBQXlCN2MsSUFDTixJQUFoQnVRLEVBQUswTyxRQUFvQnhKLEVBQU1na0IsaUJBQWlCejVCLElBQ3pEK0IsUUFBUXdDLEtBQUssZ0NBQWdDdkUsa0JBRzNDdVEsRUFBSzBOLFVBQ1B4SSxFQUFNaWtCLHdCQUF3QjE1QixFQUFNdVEsRUFBSzBOLFNBQVVpYixFQUFTM29CLEVBQUswTixXQUduRXhJLEVBQU1ra0IsMkJBQTJCMzVCLEdBckNuQyxJQUFrQ3lWLEVBQU96VixFQUFNdVEsRUFBTTJvQixFQW9MbkQsdUJBQXVCM00sRUFBV3FOLEdBQ2hDLE1BQU1ua0IsRUFBUXZOLEtBQUs5SyxVQUNuQixJQUFLLElBQUlKLEVBQUUsRUFBR0EsRUFBSXV2QixFQUFVcnZCLE9BQVFGLElBQ2xDeVksRUFBTW9rQixzQkFBc0J0TixFQUFVdnZCLEdBQUk0OEIsR0F3QzlDLHNCQTBCRSxPQVpLMXhCLEtBQUs3SyxlQUFld0osMEJBQTBCLFlBQWFxQixTQUM5REEsS0FBSyt3QixVQUdIL3dCLEtBQUs5SyxVQUFVQyxlQUFld0osMEJBQTBCLFlBQWFxQixLQUFLOUssWUFDMUU4SyxLQUFLOUssVUFBVTY3QixVQXRKdkIsU0FBa0NqVixHQUNoQyxJQUFJemhCLEVBQVcsS0FHZixHQUFJeWhCLEtBQVEsS0FBd0IsT0FDbEN6aEIsRUFDSSxJQUFVdTNCLE9BQU85VixFQUFJLFlBR3JCLE1BQXlCemhCLEdBQzNCLE1BQU0sSUFBSWxELE1BQU0sbUVBQW1FMmtCLEdBR3ZGLE9BQU96aEIsRUEySUF3M0IsQ0FBaUUsS0FBTy9WLEtBR3pFN21CLE9BQU8rTCxlQUF1RCxLQUFPOUwsV0FBV2tOLFlBQVkvSCxVQUV6RjJGLEtBQUsrd0IsVUFRZCxvQkFBb0IvM0IsR0FDbEJnSCxLQUFLK3dCLFVBQVkvM0IsRUFzQm5CLHdCQUNFLElBQUtnSCxLQUFLN0ssZUFBZXdKLDBCQUEwQixjQUFlcUIsT0FBUSxDQUN4RSxNQUFNOHhCLEVBQU85eEIsS0FBSyt4QixXQUNsQixHQUFJRCxFQUNGOXhCLEtBQUtneUIsWUFBYyxZQUFZRixFQUFLeEYsU0FDL0IsQ0FDTCxNQUFNeDJCLEVBQVMsSUFBVTg3QixPQUFnRCxLQUFPOVYsSUFDaEY5YixLQUFLZ3lCLFlBQWVsOEIsR0FBVUEsRUFBT204QixXQUNuQ2g5QixPQUFPK0wsZUFBdUQsS0FBTzlMLFdBQVdrTixZQUFZOHZCLFlBR2xHLE9BQU9seUIsS0FBS2d5QixZQUdkLGNBQ0VqeUIsUUFFQUMsS0FBSyt3QixVQUVML3dCLEtBQUtneUIsWUFFTGh5QixLQUFLb1AsU0FFTHBQLEtBQUtreUIsV0FFTGx5QixLQUFLd0gsS0FFTHhILEtBQUs0VixFQWVQLHdCQUNFNVYsS0FBS29DLFlBQVk1QixXQUdqQlIsS0FBS29DLFlBQVkrdkIsa0JBQTZDLEtBQU8vckIsV0FDckVyRyxNQUFNMndCLHdCQUVOMXdCLEtBQUtvUCxTQUFXLElBQ2hCcFAsS0FBS2t5QixXQUFhbHlCLEtBQUtvQyxZQUFZOHZCLFdBRW5DLElBQUlFLEVBeGFSLFNBQTBCaHdCLEdBQ3hCLElBQUtBLEVBQVlqTixlQUNmd0osMEJBQTBCLHFCQUFzQnlELElBQWUsQ0FDL0RBLEVBQVlpd0IsbUJBQXFCLEtBQ2pDLElBQUkzd0IsRUFBUVUsRUFBWWl1QixZQUN4QixJQUFLLElBQUlyNUIsS0FBSzBLLEVBQU8sQ0FDbkIsSUFBSTJHLEVBQU8zRyxFQUFNMUssR0FDYixVQUFXcVIsSUFDYmpHLEVBQVlpd0IsbUJBQXFCandCLEVBQVlpd0Isb0JBQXNCLEdBQ25FandCLEVBQVlpd0IsbUJBQW1CcjdCLEdBQUtxUixJQUkxQyxPQUFPakcsRUFBWWl3QixtQkEyWlJDLENBQWlCdHlCLEtBQUtvQyxhQUMvQixHQUFLZ3dCLEVBR0wsSUFBSyxJQUFJcDdCLEtBQUtvN0IsRUFBSSxDQUNoQixJQUFJL3BCLEVBQU8rcEIsRUFBR3A3QixHQUlkLElBQUtnSixLQUFLN0ssZUFBZTZCLEdBQUksQ0FDM0IsSUFBSWdDLEVBQTZCLG1CQUFkcVAsRUFBS3JQLE1BQ3RCcVAsRUFBS3JQLE1BQU01RCxLQUFLNEssTUFDaEJxSSxFQUFLclAsTUFHSGdILEtBQUt1eUIsYUFBYXY3QixHQUNwQmdKLEtBQUs4UixvQkFBb0I5YSxFQUFHZ0MsR0FBTyxHQUVuQ2dILEtBQUtoSixHQUFLZ0MsSUFjbEIseUJBQXlCcUwsRUFBU2dMLEdBQ2hDLE9BQU8sWUFBV2hMLEVBQVNnTCxHQVk3Qix5QkFBeUJ5TSxHQUV2QixNQUFNemhCLEVBQVcyRixLQUFLOUssVUFBVTY3QixVQUNoQyxHQUFJMTJCLElBQWFBLEVBQVNtNEIsbUJBQW9CLENBQzVDbjRCLEVBQVNtNEIsb0JBQXFCLEVBQzlCLE1BQU1OLEVBQWFseUIsS0FBS2t5QixZQTVVOUIsU0FBOEJ4ZSxFQUFPclosRUFBVXloQixFQUFJek0sR0FDakQsSUFBS3NoQixFQUFVLENBQ2IsTUFBTThCLEVBQWlCcDRCLEVBQVNHLFFBQVFpRCxpQkFBaUIsU0FDbkRpMUIsRUFBb0IsWUFBbUJyNEIsR0FFdkNzNEIsRUFBZSxZQUF3QjdXLEdBQ3ZDOFcsRUFBcUJ2NEIsRUFBU0csUUFBUXFULGtCQUM1QyxJQUFLLElBQUloSixFQUFNLEVBQUdBLEVBQU04dEIsRUFBYTM5QixPQUFRNlAsSUFBTyxDQUNsRCxJQUFJM0ssRUFBSXk0QixFQUFhOXRCLEdBQ3JCM0ssRUFBRTBELFlBQWM4VixFQUFNbWYsa0JBQWtCMzRCLEVBQUUwRCxZQUFheVIsR0FDdkRoVixFQUFTRyxRQUFRNEQsYUFBYWxFLEVBQUcwNEIsR0FHbkMsSUFBSUUsRUFBcUIsRUFFekIsSUFBSyxJQUFJaCtCLEVBQUksRUFBR0EsRUFBSTQ5QixFQUFrQjE5QixPQUFRRixJQUFLLENBQ2pELElBQUlvRixFQUFJdzRCLEVBQWtCNTlCLEdBQ3RCaStCLEVBQWdCTixFQUFlSyxHQUcvQkMsSUFBa0I3NEIsR0FDcEJBLEVBQUlBLEVBQUV1RSxXQUFVLEdBQ2hCczBCLEVBQWNyM0IsV0FBVzBDLGFBQWFsRSxFQUFHNjRCLElBRXpDRCxJQUVGNTRCLEVBQUUwRCxZQUFjOFYsRUFBTW1mLGtCQUFrQjM0QixFQUFFMEQsWUFBYXlSLElBR3ZEdFYsT0FBT29DLFVBQ1RwQyxPQUFPb0MsU0FBUzYyQixnQkFBZ0IzNEIsRUFBVXloQixHQWlUeENtWCxDQUFxQmp6QixLQUFNM0YsRUFBVXloQixFQUZyQm9XLEVBQWEsWUFBV0EsR0FBYyxJQUd0RGx5QixLQUFLOUssVUFBVXllLGNBQWN0WixJQWlCakMsb0JBQ01OLE9BQU9vQyxVQUFZNkQsS0FBSyt3QixXQUMxQmgzQixPQUFPb0MsU0FBU29LLGFBQXdDLE1BRTFEeEcsTUFBTXNHLG9CQVNSLFFBQ01yRyxLQUFLK3dCLFlBQ1Avd0IsS0FBS3dILEtBQU94SCxLQUFLa1IsZUFBZWxSLEtBQUsrd0IsV0FDckMvd0IsS0FBSzRWLEVBQUk1VixLQUFLd0gsS0FBS29PLEdBRXJCN1YsTUFBTTJqQixRQWFSLGdCQUNNMWpCLEtBQUsrd0IsWUFDUC93QixLQUFLd0gsS0FBT3hILEtBQUtrekIsV0FBMENsekIsS0FBUyxPQU10RUQsTUFBTW96QixnQkFnQlIsV0FBV3RrQixHQUNULE1BQU1yVixFQUFJLE9BQUFXLEVBQUEsR0FBSzZGLE1BQ2YsR0FBSXhHLEVBQUVxTSxhQUNKLE9BQUlnSixHQUNHclYsRUFBRTBsQixZQUNMMWxCLEVBQUVxTSxhQUFhLENBQUMzTSxLQUFNLFNBRXhCTSxFQUFFMGxCLFdBQVcvbUIsWUFBWTBXLEdBQ3JCLEtBQXFCOVUsT0FBT3FRLFVBQzlCQSxTQUFTZ3BCLGFBQWE1NUIsRUFBRTBsQixZQUVuQjFsQixFQUFFMGxCLFlBRUosS0FFUCxNQUFNLElBQUkvbkIsTUFBTSw2SUE2QnBCLGFBQWF3SyxHQUNQNUgsT0FBT29DLFVBQ1RwQyxPQUFPb0MsU0FBU2szQixhQUF3QyxLQUFRMXhCLEdBb0JwRSxXQUFXMnFCLEVBQUsza0IsR0FJZCxPQUhLQSxHQUFRM0gsS0FBS2t5QixhQUNoQnZxQixFQUFPLFlBQVczSCxLQUFLa3lCLGFBRWxCLFlBQVc1RixFQUFLM2tCLEdBZXpCLDZCQUE2QnROLEVBQVVpWixFQUFjZ2dCLEdBRW5ELE9BREFoZ0IsRUFBYW9lLFdBQWFwZSxFQUFhb2UsWUFBYzF4QixLQUFLcXdCLFlBQ25EdHdCLE1BQU13ekIsc0JBQXNCbDVCLEVBQVVpWixFQUFjZ2dCLEdBYzdELGtDQUFrQ2hnQixFQUFjMVUsRUFBTTQwQixHQWFwRCxPQUpJLE9BQXlCNTBCLEtBQVFvQixLQUFLcXdCLGNBQ3hDeDJCLFFBQVF3QyxLQUFLLGFBQWF1Qyx5RkFHckJtQixNQUFNMHpCLDJCQUEyQm5nQixFQUFjMVUsRUFBTTQwQixROzs7Ozs7Ozs7O0FDbHdCbEUsTUFBTTk0QixFQUFTakUsU0FBU2tFLGlCQUFpQmxFLFNBQVVpOUIsV0FBV0MsU0FDMUQsTUFBTSxHQVNKQyxFQUFxQixDQUN6QixVQUFVLEVBQ1YsY0FBYyxHQUVoQixTQUFTQyxFQUFzQno0QixHQUM3QixJQUFJMGdCLEVBQUsxZ0IsRUFBSzJqQixhQUFhLE1BQzNCLEdBQUlqRCxHQUFNOFgsRUFBbUI5WCxHQUFLLENBQ2hDLElBQUk3aUIsRUFBSW1DLEVBS1IsSUFKQW5DLEVBQUV5SixnQkFBZ0IsTUFDbEJ0SCxFQUFPbkMsRUFBRXdULGNBQWMvVixjQUFjb2xCLEdBQ3JDN2lCLEVBQUV5QyxXQUFXZ1MsYUFBYXRTLEVBQU1uQyxHQUNoQ21DLEVBQUtqRCxZQUFZYyxHQUNYQSxFQUFFd0gsV0FBV3pMLFFBQ2pCb0csRUFBS3RFLGFBQWFtQyxFQUFFd0gsV0FBVyxHQUFHM0ksS0FBTW1CLEVBQUV3SCxXQUFXLEdBQUd6SCxPQUN4REMsRUFBRXlKLGdCQUFnQnpKLEVBQUV3SCxXQUFXLEdBQUczSSxNQUd0QyxPQUFPc0QsRUFHVCxTQUFTMDRCLEVBQWlCdHNCLEVBQU04ckIsR0FFOUIsSUFBSXZZLEVBQVN1WSxFQUFTUyxZQUFjRCxFQUFpQnRzQixFQUFNOHJCLEVBQVNTLFlBRXBFLElBQUloWixFQVVGLE9BQU92VCxFQVBQOU0sRUFBT1csWUFBYzBmLEVBQ3JCLElBQUssSUFBSXZoQixFQUFFa0IsRUFBTzRELGFBQWN4SixFQUFFLEVBQUcwRSxFQUFHQSxFQUFFa0IsRUFBT2tULGNBQy9DLEdBQUkwbEIsRUFBU1UsY0FBZ0JsL0IsSUFDM0IsT0FBTzBFLEVBU2YsU0FBU3k2QixFQUFhL2pCLEVBQU1uSyxFQUFLM0ssRUFBTWs0QixHQUNqQ0EsRUFBU2xVLEtBQ1hyWixFQUFJdXRCLEVBQVNsVSxJQUFNaGtCLEdBS3ZCLFNBQVM4NEIsRUFBbUJoa0IsRUFBTTlVLEVBQU1rNEIsR0FDdEMsR0FBSUEsRUFBU2EsUUFBVWIsRUFBU2EsT0FBT24vQixPQUNyQyxJQUFLLElBQTZCZ0IsRUFBekJvUyxFQUFFLEVBQUdnc0IsRUFBR2QsRUFBU2EsT0FBWS9yQixFQUFFZ3NCLEVBQUdwL0IsU0FBWWdCLEVBQUVvK0IsRUFBR2hzQixJQUFLQSxJQUMvRDhILEVBQUsyViw4QkFBOEJ6cUIsRUFBTXBGLEVBQUU4QixLQUFNOUIsRUFBRWdELE1BQU9rWCxHQU1oRSxTQUFTbWtCLEVBQXFCbmtCLEVBQU05VSxFQUFNazRCLEdBQ3BDQSxFQUFTaGdCLGVBQ1hsWSxFQUFLazVCLGNBQWdCaEIsRUFBU2hnQixjQStCM0IsTUFBTWloQixFQUFnQixZQU14Qi9qQixHQU9ILGNBQTRCQSxFQTZFMUIsc0JBQXNCblcsRUFBVW02QixHQUU5QixJQUFLbjZCLEVBQVNpNkIsY0FBZSxDQUMzQixJQUFJaGhCLEVBQWVqWixFQUFTaTZCLGNBQWdCLEdBQzVDaGhCLEVBQWFtaEIsYUFBZSxHQUM1Qm5oQixFQUFhb2hCLGdCQUNWRixHQUFxQkEsRUFBa0JFLGlCQUN4Q3I2QixFQUFTczZCLGFBQWEsb0JBQ3hCMzBCLEtBQUt1ekIsc0JBQXNCbDVCLEVBQVVpWixFQUFjLENBQUN5SCxPQUFRLE9BRTlELE9BQU8xZ0IsRUFBU2k2QixjQUdsQiw2QkFBNkJqNkIsRUFBVWlaLEVBQWNnZ0IsR0FDbkQsT0FBT3R6QixLQUFLNDBCLG1CQUFtQnY2QixFQUFTRyxRQUFTOFksRUFBY2dnQixHQWdCakUsMEJBQTBCbDRCLEVBQU1rWSxFQUFjZ2dCLEdBQzVDLElBQUl1QixFQUNBdDZCLEVBQWdDLEVBY3BDLE1BYnlCLFlBQXJCQSxFQUFRNkwsV0FBNEI3TCxFQUFRbzZCLGFBQWEsb0JBRTVCLFNBQXRCcDZCLEVBQVE2TCxZQUVqQmtOLEVBQWF3aEIsbUJBQW9CLEdBSGpDRCxFQUFRNzBCLEtBQUsrMEIsNkJBQTZCeDZCLEVBQVMrWSxFQUFjZ2dCLElBQWF1QixFQUtoRm42QixFQUFPVyxZQUFjZCxFQUNqQkcsRUFBTzRELGVBQ1R1MkIsRUFBUTcwQixLQUFLZzFCLHlCQUF5Qno2QixFQUFTK1ksRUFBY2dnQixJQUFhdUIsR0FFeEV0NkIsRUFBUTRuQixlQUFpQjVuQixFQUFRNG5CLGtCQUNuQzBTLEVBQVE3MEIsS0FBS2kxQiw2QkFBNkIxNkIsRUFBUytZLEVBQWNnZ0IsSUFBYXVCLEdBRXpFQSxFQWdCVCxnQ0FBZ0NydEIsRUFBTThMLEVBQWNnZ0IsR0FDbEQsR0FBdUIsV0FBbkI5ckIsRUFBS3BCLFdBQTZDLFVBQW5Cb0IsRUFBS3BCLFVBQXhDLENBR0ExTCxFQUFPVyxZQUFjbU0sRUFDckIsSUFBSyxJQUE2QzB0QixFQUF6Qzk1QixFQUFLVixFQUFPNEQsYUFBYzAxQixFQUFZLEVBQVM1NEIsRUFBTUEsRUFBSzg1QixFQUFNLENBV3ZFLEdBVHNCLFlBQWxCOTVCLEVBQUtnTCxZQUNQaEwsRUFBT3k0QixFQUFzQno0QixJQU0vQlYsRUFBT1csWUFBY0QsRUFDckI4NUIsRUFBT3g2QixFQUFPa1QsY0FDVnhTLEVBQUtVLFdBQWFvUixLQUFLd0YsVUFBVyxDQUNwQyxJQUFnQmxaLEVBQUkwN0IsRUFDcEIsS0FBTzE3QixHQUFNQSxFQUFFc0MsV0FBYW9SLEtBQUt3RixXQUMvQnRYLEVBQUt3QyxhQUFlcEUsRUFBRW9FLFlBQ3RCczNCLEVBQU94NkIsRUFBT2tULGNBQ2RwRyxFQUFLN0wsWUFBWW5DLEdBQ2pCQSxFQUFJMDdCLEVBR04sR0FBSTVoQixFQUFhb2hCLGtCQUFvQnQ1QixFQUFLd0MsWUFBWXN4QixPQUFRLENBQzVEMW5CLEVBQUs3TCxZQUFZUCxHQUNqQixVQUdKLElBQUkrNUIsRUFBWSxDQUFFbkIsY0FBYUQsV0FBWVQsR0FDdkN0ekIsS0FBSzQwQixtQkFBbUJ4NUIsRUFBTWtZLEVBQWM2aEIsS0FDOUNBLEVBQVVDLFVBQVk5aEIsRUFBYW1oQixhQUFhbi9CLEtBQTZCLEdBQWUsR0FHOUZvRixFQUFPVyxZQUFjRCxFQUNqQlYsRUFBT2dCLGNBQ1RzNEIsTUFzQk4sb0NBQW9DNTRCLEVBQU1vNUIsRUFBbUJsQixHQUMzRCxJQUFJaGdCLEVBQWV0VCxLQUFLc1YsZUFBZWxhLEVBQU1vNUIsR0FLN0MsT0FKY2xoQixFQUFhOVksUUFDekJZLEVBQUtaLFFBQVFpUyxjQUFjekYsMEJBQ3JCN08sWUFBWWlELEVBQUtaLFNBQ3pCODRCLEVBQVNoZ0IsYUFBZUEsR0FDakIsRUFhVCxvQ0FBb0NsWSxFQUFNa1ksRUFBY2dnQixHQUd0RCxJQUFJdUIsR0FBUSxFQUNSUSxFQUFRdjNCLE1BQU1DLEtBQUszQyxFQUFLcUYsWUFDNUIsSUFBSyxJQUFzQjJJLEVBQWxCdFUsRUFBRXVnQyxFQUFNcmdDLE9BQU8sRUFBT29VLEVBQUVpc0IsRUFBTXZnQyxHQUFLQSxJQUMxQysvQixFQUFRNzBCLEtBQUtzMUIsNEJBQTRCbDZCLEVBQU1rWSxFQUFjZ2dCLEVBQVVscUIsRUFBRXRSLEtBQU1zUixFQUFFcFEsUUFBVTY3QixFQUU3RixPQUFPQSxFQWtCVCxtQ0FBbUN6NUIsRUFBTWtZLEVBQWNnZ0IsRUFBVXg3QixFQUFNa0IsR0FFckUsTUFBeUIsUUFBckJsQixFQUFLbUMsTUFBTSxFQUFHLElBQ2hCbUIsRUFBS3NILGdCQUFnQjVLLEdBQ3JCdzdCLEVBQVNhLE9BQVNiLEVBQVNhLFFBQVUsR0FDckNiLEVBQVNhLE9BQU83K0IsS0FBSyxDQUNuQndDLEtBQU1BLEVBQUttQyxNQUFNLEdBQ2pCakIsV0FFSyxHQUdTLE9BQVRsQixJQUNQdzdCLEVBQVNsVSxHQUFLcG1CLEdBQ1AsR0FlWCwyQkFBMkJxQixHQUN6QixJQUFJaVosRUFBMEQsRUFBV2doQixjQUN6RSxPQUFRaGhCLEdBQWdCQSxFQUFhOVksU0FBWUgsRUFBU0csUUEwQjVELGVBQWVILEdBRVRBLElBQWFBLEVBQVNHLFNBQ3RCVCxPQUFPNk8scUJBQXVCQSxvQkFBb0Iyc0IsVUFDcEQzc0Isb0JBQW9CMnNCLFNBQVNsN0IsR0FFL0IsSUFBSWlaLEVBQWV0VCxLQUFLb0MsWUFBWWtULGVBQWVqYixHQUMvQ2k1QixFQUFXaGdCLEVBQWFtaEIsYUFDeEJqNkIsRUFBVThZLEVBQWE5WSxTQUFXSCxFQUFTRyxRQUMzQ3FVLEVBQXVDcFksU0FBU3FXLFdBQVd0UyxHQUFTLEdBRXhFcVUsRUFBSTJtQixvQkFBc0JsaUIsRUFBYXdoQixrQkFDdkMsSUFBSVcsRUFBUTVtQixFQUFJbEQsU0FBVyxJQUFJN04sTUFBTXcxQixFQUFTdCtCLFFBQzlDNlosRUFBSStHLEVBQUksR0FDUixJQUFLLElBQTRCdk4sRUFBeEJ2VCxFQUFFLEVBQUdpQixFQUFFdTlCLEVBQVN0K0IsT0FBZUYsRUFBRWlCLElBQU9zUyxFQUFLaXJCLEVBQVN4K0IsSUFBS0EsSUFBSyxDQUN2RSxJQUFJc0csRUFBT3E2QixFQUFNM2dDLEdBQUtnL0IsRUFBaUJqbEIsRUFBS3hHLEdBQzVDNHJCLEVBQWFqMEIsRUFBTTZPLEVBQUkrRyxFQUFHeGEsRUFBTWlOLEdBQ2hDZ3NCLEVBQXFCcjBCLEVBQU01RSxFQUFNaU4sR0FDakM2ckIsRUFBbUJsMEIsS0FBTTVFLEVBQU1pTixHQUdqQyxPQURBd0csRUFBcUMsRUFDOUJBLEVBaUJULDhCQUE4QnpULEVBQU04VyxFQUFXdUcsRUFBWWlkLEdBRXpELElBQUl2akIsRUE1WFYsU0FBZ0N1akIsRUFBU3hqQixFQUFXdUcsR0FXbEQsT0FSQWlkLEVBQVVBLEVBQVF0akIsYUFBZXNqQixFQUNuQixTQUFTMS9CLEdBQ2pCMC9CLEVBQVFqZCxHQUNWaWQsRUFBUWpkLEdBQVl6aUIsRUFBR0EsRUFBRXFwQixRQUV6QnhsQixRQUFRd0MsS0FBSyxvQkFBc0JvYyxFQUFhLGtCQW9YbENrZCxDQURkRCxFQUFVQSxHQUFXdDZCLEVBQ3lCOFcsRUFBV3VHLEdBRXpELE9BREF6WSxLQUFLc1Msd0JBQXdCbFgsRUFBTThXLEVBQVdDLEdBQ3ZDQSxFQVlULHdCQUF3Qi9XLEVBQU04VyxFQUFXQyxHQUN2Qy9XLEVBQUt3USxpQkFBaUJzRyxFQUFXQyxHQVluQyw2QkFBNkIvVyxFQUFNOFcsRUFBV0MsR0FDNUMvVyxFQUFLeVEsb0JBQW9CcUcsRUFBV0MsTTs7Ozs7Ozs7Ozs7R0NuZDFDLElBQUksRUFBVyxFQU1mLE1BQU15akIsRUFBUSxDQUNaQyxRQUFTLG1CQUNUQyxRQUFTLG1CQUNUN2hCLE9BQVEsa0JBQ1JRLFVBQVcscUJBQ1hzaEIsUUFBUyxtQkFDVEMsVUFBVyxjQUlQQyxFQUF3QixRQTBDOUIsU0FBU0MsRUFBbUIzakIsRUFBTzdhLEdBQ2pDLElBQUl5K0IsRUFBVTVqQixFQUFNN2EsR0FDcEIsR0FBS3krQixHQUVFLElBQUs1akIsRUFBTXBkLGVBQWV1QyxHQUFPLENBQ3RDeStCLEVBQVU1akIsRUFBTTdhLEdBQVF6QyxPQUFPb0UsT0FBT2taLEVBQU03YSxJQUM1QyxJQUFLLElBQUlWLEtBQUttL0IsRUFBUyxDQUNyQixJQUFJQyxFQUFVRCxFQUFRbi9CLEdBQ2xCcS9CLEVBQVNGLEVBQVFuL0IsR0FBSzhHLE1BQU1zNEIsRUFBUXBoQyxRQUN4QyxJQUFLLElBQUlGLEVBQUUsRUFBR0EsRUFBRXNoQyxFQUFRcGhDLE9BQVFGLElBQzlCdWhDLEVBQU92aEMsR0FBS3NoQyxFQUFRdGhDLFVBUHhCcWhDLEVBQVU1akIsRUFBTTdhLEdBQVEsR0FXMUIsT0FBT3krQixFQWtCVCxTQUFTRyxFQUFXcG1CLEVBQU1pbUIsRUFBU3owQixFQUFPNjBCLEVBQVVDLEVBQVVDLEdBQzVELEdBQUlOLEVBQVMsQ0FDWCxJQUFJTyxHQUFNLEVBQ050WCxFQUFLLElBQ1QsSUFBSyxJQUFJeGdCLEtBQVE4QyxFQUNYaTFCLEVBQ0l6bUIsRUFBNkIsRUFBV2tQLEVBQUl4Z0IsRUFBTThDLEVBQU82MEIsRUFDekRDLEVBQVVDLEtBQ2hCQyxHQUFNLEdBR1YsT0FBT0EsRUFFVCxPQUFPLEVBaUJULFNBQVNDLEVBQXNCem1CLEVBQU1pbUIsRUFBU3RULEVBQVVqa0IsRUFBTThDLEVBQU82MEIsRUFBVUMsRUFBVUMsR0FDdkYsSUFBSUMsR0FBTSxFQUVORSxFQUFNVCxFQURTSyxFQUFXLFlBQUs1M0IsR0FBUUEsR0FFM0MsR0FBSWc0QixFQUNGLElBQUssSUFBdUJDLEVBQW5CL2hDLEVBQUUsRUFBR2lCLEVBQUU2Z0MsRUFBSTVoQyxPQUFhRixFQUFFaUIsSUFBTzhnQyxFQUFHRCxFQUFJOWhDLElBQUtBLElBQzlDK2hDLEVBQUd4dUIsTUFBUXd1QixFQUFHeHVCLEtBQUt5dUIsVUFBWWpVLEdBQy9CMlQsSUFBWU8sRUFBbUJuNEIsRUFBTWk0QixFQUFHRyxXQUN4Q0gsRUFBR3h1QixPQUNMd3VCLEVBQUd4dUIsS0FBS3l1QixRQUFValUsR0FFcEJnVSxFQUFHM2lCLEdBQUdoRSxFQUFNdFIsRUFBTThDLEVBQU82MEIsRUFBVU0sRUFBR3h1QixLQUFNbXVCLEVBQVVDLEdBQ3REQyxHQUFNLEdBSVosT0FBT0EsRUFxQlQsU0FBU0ssRUFBbUJ6dkIsRUFBTTB2QixHQUNoQyxHQUFJQSxFQUFTLENBQ1gsSUFBSUMsRUFBcUNELEVBQVksS0FDckQsT0FBUUMsR0FBZTN2QixNQUNoQjB2QixFQUFRRSxhQUFjLFlBQVdELEVBQWEzdkIsUUFDOUMwdkIsRUFBUUcsV0FBWSxZQUFhRixFQUFhM3ZCLElBRXJELE9BQU8sRUFrQlgsU0FBUzh2QixFQUFrQmxuQixFQUFNeFcsRUFBVWdJLEVBQU82MEIsRUFBVWx1QixHQUMxRCxJQUFJNkwsRUFBNEIsaUJBQWhCN0wsRUFBS21HLE9BQXNCMEIsRUFBSzdILEVBQUttRyxRQUFVbkcsRUFBS21HLE9BQ2hFNm9CLEVBQWNodkIsRUFBSzNPLFNBQ25Cd2EsRUFDRkEsRUFBRzllLEtBQUs4YSxFQUFNQSxFQUFLNkUsT0FBT3NpQixHQUFjZCxFQUFTYyxJQUN2Q2h2QixFQUFLaXZCLFdBQ2Z6OUIsUUFBUXdDLEtBQUssb0JBQXNCZ00sRUFBS21HLE9BQVMsaUJBeURyRCxTQUFTK0osRUFBV3JJLEVBQU01SSxFQUFNNUYsR0FDOUIsSUFBSTYxQixFQUFlLFlBQUtqd0IsR0FDeEIsR0FBSWl3QixJQUFpQmp3QixFQUFNLENBR3pCLE9BREFrd0IsRUFBb0J0bkIsRUFESixZQUFnQnFuQixHQUFnQixXQUNYNzFCLEVBQU00RixHQUFPQSxJQUMzQyxFQUVULE9BQU8sRUFrQlQsU0FBU2t3QixFQUFvQnRuQixFQUFNZ0MsRUFBV2xaLEVBQU9zTyxHQUNuRCxJQUFJK1gsRUFBUyxDQUNYcm1CLE1BQU9BLEVBQ1B5K0IsZUFBZSxHQUVibndCLElBQ0YrWCxFQUFPL1gsS0FBT0EsR0FFaEIsT0FBQW5OLEVBQUEsR0FBZ0MsR0FBUThiLGNBQWMsSUFBSUMsWUFBWWhFLEVBQVcsQ0FBRW1OLFlBa0JyRixTQUFTcVksRUFBZ0J4bkIsRUFBTXhXLEVBQVVnSSxFQUFPNjBCLEVBQVVsdUIsRUFBTW11QixHQUM5RCxJQUNJbHZCLEdBRGVrdkIsRUFBVyxZQUFLOThCLEdBQVlBLElBQ3BCQSxFQUFXQSxFQUFXLEtBQzdDVixFQUFRc08sRUFBTyxZQUFJNEksRUFBTTVJLEdBQVE0SSxFQUFLNkUsT0FBT3JiLEdBQzdDNE4sUUFBa0J0UCxJQUFWZ0IsSUFDVkEsRUFBUTBJLEVBQU1oSSxJQUVoQjg5QixFQUFvQnRuQixFQUFNN0gsRUFBSzZKLFVBQVdsWixFQUFPc08sR0FxRG5ELFNBQVNxd0IsRUFBaUJ6bkIsRUFBTXhXLEVBQVVnSSxFQUFPNjBCLEVBQVVsdUIsR0FDekQsSUFBSXJQLEVBQVFrWCxFQUFLNkUsT0FBT3JiLEdBQ3BCLE1BQ0ZWLEVBQVEsWUFBaUJBLEVBQU9xUCxFQUFLdXZCLFNBQVUsWUFBZ0MsSUFFakYxbkIsRUFBS25NLHFCQUFxQnJLLEVBQVUyTyxFQUFLdXZCLFNBQVU1K0IsR0E4Q3JELFNBQVM2K0IsRUFBa0IzbkIsRUFBTXhXLEVBQVVnSSxFQUFPNjBCLEVBQVVsdUIsR0FDMUQsSUFBSTlMLEVBQVN1N0IsRUFBZ0I1bkIsRUFBTXhXLEVBQVVnSSxFQUFPNjBCLEVBQVVsdUIsR0FDMUQwdkIsRUFBZTF2QixFQUFLMnZCLFdBQ3BCOW5CLEVBQUsrbkIsbUJBQXFCL25CLEVBQUsrbkIsa0JBQWtCRixHQUNuRDduQixFQUFLNEIsb0JBQW9CaW1CLEVBQWN4N0IsR0FBUSxHQUUvQzJULEVBQUs2bkIsR0FBZ0J4N0IsRUFrRHpCLFNBQVMyN0IsRUFBVzkxQixFQUFha1IsRUFBY2dnQixFQUFVNkUsRUFBTXZnQyxFQUFRNkMsRUFBTzI5QixHQUU1RTlFLEVBQVMrRSxTQUFXL0UsRUFBUytFLFVBQVksR0FDekMsSUFBbUJDLEVBQVUsQ0FBRUgsT0FBTXZnQyxTQUFRNkMsUUFBTzI5QixVQUFTRyxXQUE4QixJQUFqQjk5QixFQUFNekYsUUFHaEYsR0FGQXMrQixFQUFTK0UsU0FBUy9pQyxLQUFLZ2pDLEdBMEt6QixTQUEyQkEsR0FDekIsT0FBT3Y1QixRQUFRdTVCLEVBQVExZ0MsU0FDQSxhQUFoQjBnQyxFQUFRSCxNQUNRLFFBQWhCRyxFQUFRSCxPQUNQRyxFQUFRQyxZQUNpQixNQUExQkQsRUFBUTc5QixNQUFNLEdBQUd2QixLQTdLcEJzeEIsQ0FBa0I4TixHQUFVLENBQzlCLElBQUksTUFBQ2xoQyxFQUFLLE9BQUVvaEMsR0FBVUYsRUFBUTc5QixNQUFNLEdBQ3BDNjlCLEVBQVFHLGNBQWdCcmhDLEdBQVUsWUFBZ0JRLEdBQVUsV0FDNUQwZ0MsRUFBUUksZUFBaUJGLEVBRzNCLElBQUloOUIsRUFBUThYLEVBQWFtaEIsYUFBYXovQixPQUN0QyxJQUFLLElBQUlGLEVBQUUsRUFBR0EsRUFBRXdqQyxFQUFRNzlCLE1BQU16RixPQUFRRixJQUFLLENBQ3pDLElBQUlnRyxFQUFPdzlCLEVBQVE3OUIsTUFBTTNGLEdBQ3pCZ0csRUFBSzY5QixjQUFnQjdqQyxFQUNyQjhqQyxFQUF3QngyQixFQUFha1IsRUFBY2dsQixFQUFTeDlCLEVBQU1VLElBZ0J0RSxTQUFTbzlCLEVBQXdCeDJCLEVBQWFrUixFQUFjZ2xCLEVBQVN4OUIsRUFBTVUsR0FDekUsSUFBS1YsRUFBS3M5QixRQUNSLEdBQXFCLGNBQWpCRSxFQUFRSCxNQUE4QyxNQUF0QkcsRUFBUTFnQyxPQUFPLEdBQ2pEaUMsUUFBUXdDLEtBQUssd0JBQTBCaThCLEVBQVExZ0MsT0FDN0MsZ0VBQ0csQ0FDTCxJQUFJaWhDLEVBQWUvOUIsRUFBSys5QixhQUNwQnh3QixFQUFPLENBQUU3TSxRQUFPODhCLFVBQVN4OUIsT0FBTWcrQixVQUFXMTJCLEdBQzlDLElBQUssSUFBSWdHLEVBQUUsRUFBR0EsRUFBRXl3QixFQUFhN2pDLE9BQVFvVCxJQUFLLENBQ3hDLElBQUk0dUIsRUFBVTZCLEVBQWF6d0IsR0FDTCxpQkFBWDR1QixJQUNUQSxFQUFVK0IsRUFBUy9CLEdBQ25CQSxFQUFRRyxVQUFXLEdBRXJCLzBCLEVBQVlxeEIsMkJBQTJCbmdCLEVBQWMwakIsRUFBUU8sYUFBYyxDQUN6RXJqQixHQUFJOGtCLEVBQ0ozd0IsT0FBTTJ1QixjQTJCaEIsU0FBU2dDLEVBQWlCOW9CLEVBQU01SSxFQUFNNUYsRUFBTzYwQixFQUFVbHVCLEVBQU1tdUIsRUFBVTdxQixHQUNyRSxJQUFJdlEsRUFBT3VRLEVBQVN0RCxFQUFLN00sT0FDckI4OEIsRUFBVWp3QixFQUFLaXdCLFFBQ2Z4OUIsRUFBT3VOLEVBQUt2TixLQUdoQixHQUFJMDdCLEdBQVkxN0IsRUFBSzJwQixRQUFXbmQsRUFBS3RTLE9BQVM4RixFQUFLMnBCLE9BQU96dkIsUUFDckMsWUFBaEJzakMsRUFBUUgsT0FBd0JHLEVBQVFDLFlBQ3pDbjlCLEVBQUs2OUIsMkJBQ0w3OUIsRUFBSzY4QixtQkFBcUI3OEIsRUFBSzY4QixrQkFBa0JLLEVBQVExZ0MsUUFBUyxDQUNwRSxJQUFJb0IsRUFBUTBJLEVBQU00RixHQUNsQkEsRUFBTyxZQUFVeE0sRUFBSzJwQixPQUFRNlQsRUFBUTFnQyxPQUFRMFAsR0FDMUNsTSxFQUFLNFcsMEJBQTBCMUssRUFBTXRPLEdBQU8sR0FBTyxJQUNyRGtYLEVBQUsrQixlQUFlN1csT0FFakIsRUFtQlQsU0FBMkI4VSxFQUFNOVUsRUFBTWs5QixFQUFTeDlCLEVBQU05QixHQUNwREEsRUFrQ0YsU0FBNkJvQyxFQUFNcEMsRUFBT3MvQixFQUFTeDlCLEdBQ2pELEdBQUl3OUIsRUFBUUMsV0FBWSxDQUN0QixJQUFJVyxFQUFVOTlCLEVBQUsrOUIsc0JBQXNCYixFQUFRMWdDLFFBQ2pEc2hDLEVBQVFwK0IsRUFBSzY5QixlQUFpQjMvQixFQUM5QkEsRUFBUWtnQyxFQUFRbDhCLEtBQUssSUFFRixjQUFqQnM3QixFQUFRSCxPQUVhLGdCQUFuQkcsRUFBUTFnQyxTQUNZLFVBQW5CMGdDLEVBQVExZ0MsUUFDYSxVQUFuQndELEVBQUtnTCxXQUE0QyxhQUFuQmhMLEVBQUtnTCxhQUN4Q3BOLEVBQWlCaEIsTUFBVGdCLEVBQXFCLEdBQUtBLElBR3RDLE9BQU9BLEVBaERDb2dDLENBQW9CaCtCLEVBQU1wQyxFQUFPcy9CLEVBQVN4OUIsR0FDOUMsTUFDRjlCLEVBQVEsWUFBaUJBLEVBQU9zL0IsRUFBUTFnQyxPQUFRMGdDLEVBQVFILEtBQU0vOEIsSUFFaEUsR0FBb0IsYUFBaEJrOUIsRUFBUUgsS0FFVmpvQixFQUFLbXBCLHNCQUE0QyxFQUFRcmdDLEVBQU9zL0IsRUFBUTFnQyxZQUNuRSxDQUVMLElBQUlnSCxFQUFPMDVCLEVBQVExZ0MsT0FDZndELEVBQUs2OUIsMkJBQ0w3OUIsRUFBSzY4QixtQkFBcUI3OEIsRUFBSzY4QixrQkFBa0JyNUIsR0FDOUN4RCxFQUFLdzZCLEVBQU1JLFlBQWU1NkIsRUFBS3c2QixFQUFNSSxXQUFXcDNCLElBQy9DeEQsRUFBSzBXLG9CQUFvQmxULEVBQU01RixJQUNqQ2tYLEVBQUsrQixlQUFlN1csR0FJeEI4VSxFQUFLK0MsNEJBQTRCN1gsRUFBTXdELEVBQU01RixJQW5DL0NzZ0MsQ0FBa0JwcEIsRUFBTTlVLEVBQU1rOUIsRUFBU3g5QixFQUYzQnVOLEVBQUt5d0IsVUFBVVMsaUJBQWlCcnBCLEVBQU1wVixFQUFNd00sRUFBTTVGLEVBQU82MEIsRUFBVUMsS0F1SW5GLFNBQVNnRCxFQUFxQnArQixFQUFNazlCLEdBQ2xDLEdBQUlBLEVBQVFDLFdBQVksQ0FFdEIsSUFBSVcsRUFBVTk5QixFQUFLKzlCLHdCQUNoQi85QixFQUFLKzlCLHNCQUF3QixJQUM1QjErQixFQUFRNjlCLEVBQVE3OUIsTUFFaEJnL0IsRUFBVyxJQUFJMzdCLE1BQU1yRCxFQUFNekYsUUFDL0IsSUFBSyxJQUFJb1QsRUFBRSxFQUFHQSxFQUFFM04sRUFBTXpGLE9BQVFvVCxJQUM1QnF4QixFQUFTcnhCLEdBQUszTixFQUFNMk4sR0FBR2d3QixRQUV6QixJQUFJeGdDLEVBQVMwZ0MsRUFBUTFnQyxPQUNyQnNoQyxFQUFRdGhDLEdBQVU2aEMsRUFFZG5CLEVBQVFGLFNBQTJCLFlBQWhCRSxFQUFRSCxPQUM3Qi84QixFQUFLeEQsR0FBVTBnQyxFQUFRRixVQWU3QixTQUFTc0IsRUFBa0J0K0IsRUFBTThVLEVBQU1vb0IsR0FDckMsR0FBSUEsRUFBUUcsY0FBZSxDQUN6QixJQUFJMzlCLEVBQU93OUIsRUFBUTc5QixNQUFNLEdBQ3pCVyxFQUFLd1EsaUJBQWlCMHNCLEVBQVFHLGVBQWUsU0FBU3ppQyxJQTlZMUQsU0FBNEJvQixFQUFPOFksRUFBTXlwQixFQUFVQyxFQUFRcEIsR0FDekQsSUFBSXgvQixFQUNBcW1CLEVBQStCam9CLEVBQVksT0FDM0N5aUMsRUFBV3hhLEdBQVVBLEVBQU8vWCxLQUM1QnV5QixHQUNGRCxFQUFTLFlBQVVELEVBQVVDLEVBQVFDLEdBQ3JDN2dDLEVBQVFxbUIsR0FBVUEsRUFBT3JtQixPQUV6QkEsRUFBUTVCLEVBQU1rWCxjQUFjcXJCLEdBRTlCM2dDLEVBQVF3L0IsR0FBVXgvQixFQUFRQSxFQUNyQmtYLEVBQUswbEIsRUFBTUksWUFBZTlsQixFQUFLMGxCLEVBQU1JLFdBQVc0RCxLQUMvQzFwQixFQUFLOEIsMEJBQTBCNG5CLEVBQVE1Z0MsR0FBTyxFQUFNK0YsUUFBUTg2QixLQUN6RHhhLEdBQVdBLEVBQU9vWSxlQUN2QnZuQixFQUFLNHBCLHdCQWlZTEMsQ0FBbUIvakMsRUFBR2thLEVBQU1vb0IsRUFBUTFnQyxPQUFRa0QsRUFBSzJwQixPQUFRM3BCLEVBQUswOUIsWUF3QnBFLFNBQVN3QixFQUFtQnpuQixFQUFPMG5CLEVBQUt2aUMsRUFBTXdpQyxFQUFVbEMsRUFBWVYsR0FDbEVBLEVBQVkyQyxFQUFJRSxRQUFXN0MsSUFDSCxpQkFBZEEsR0FBMEJBLEVBQVUyQyxFQUFJeGhCLGFBQ2xELElBQUlwUSxFQUFPLENBQ1RvUSxXQUFZd2hCLEVBQUl4aEIsV0FDaEJ4USxLQUFNZ3lCLEVBQUloeUIsS0FDVit2QixhQUNBVixhQUVGLElBQUssSUFBUzhDLEVBQUx0bEMsRUFBRSxFQUFTQSxFQUFFbWxDLEVBQUloeUIsS0FBS2pULFNBQVlvbEMsRUFBSUgsRUFBSWh5QixLQUFLblQsSUFBS0EsSUFDdERzbEMsRUFBSWhDLFNBQ1A3bEIsRUFBTXdCLG1CQUFtQnFtQixFQUFJN0MsYUFBYzcvQixFQUFNLENBQy9Dd2MsR0FBSWdtQixFQUFVN3hCLEtBQU1BLEVBQU0ydUIsUUFBU29ELElBSXJDOUMsR0FDRi9rQixFQUFNd0IsbUJBQW1Ca21CLEVBQUl4aEIsV0FBWS9nQixFQUFNLENBQzdDd2MsR0FBSWdtQixFQUFVN3hCLEtBQU1BLElBcUIxQixTQUFTeXZCLEVBQWdCNW5CLEVBQU14VyxFQUFVZ0ksRUFBTzYwQixFQUFVbHVCLEdBR3hELElBQUlxdEIsRUFBVXhsQixFQUFLa0MsYUFBZWxDLEVBQzlCZ0UsRUFBS3doQixFQUFRcnRCLEVBQUtvUSxZQUN0QixHQUFJdkUsRUFBSSxDQUNOLElBQUlqTSxFQUFPaUksRUFBS21xQixhQUFhaHlCLEVBQUtKLEtBQU12TyxFQUFVZ0ksR0FDbEQsT0FBT3dTLEVBQUd6RixNQUFNaW5CLEVBQVN6dEIsR0FDZkksRUFBS2l2QixXQUNmejlCLFFBQVF3QyxLQUFLLFdBQWFnTSxFQUFLb1EsV0FBYSxpQkFJaEQsTUFBTTZoQixFQUFhLEdBa0JiQyxFQUFlLElBQUl6WSxPQUROMFksMFlBQ3lCLEtBUTVDLFNBQVNDLEVBQWlCaGdDLEdBQ3hCLElBQUlQLEVBQUksR0FDUixJQUFLLElBQUlwRixFQUFFLEVBQUdBLEVBQUUyRixFQUFNekYsT0FBUUYsSUFBSyxDQUVqQ29GLEdBRGNPLEVBQU0zRixHQUFHc2pDLFNBQ1AsR0FFbEIsT0FBT2wrQixFQWFULFNBQVN3Z0MsRUFBWUMsR0FFbkIsSUFBSXRpQyxFQUFJc2lDLEVBQVdwVCxNQUFNLDBCQUN6QixHQUFJbHZCLEVBQUcsQ0FDTCxJQUNJNGhDLEVBQU0sQ0FBRXhoQixXQURLcGdCLEVBQUUsR0FDSzhoQyxRQUFRLEVBQU1seUIsS0FBTXF5QixHQUM1QyxHQUFJamlDLEVBQUUsR0FBRzYyQixPQUFRLENBR2YsT0FrQk4sU0FBbUIwTCxFQUFTWCxHQVExQixPQVBBQSxFQUFJaHlCLEtBQU8yeUIsRUFBUTcwQixLQUFJLFNBQVM4MEIsR0FDOUIsSUFBSVQsRUFBTXJCLEVBQVM4QixHQUluQixPQUhLVCxFQUFJaEMsVUFDUDZCLEVBQUlFLFFBQVMsR0FFUkMsSUFDTnA2QixNQUNJaTZCLEVBMUJJYSxDQURJemlDLEVBQUUsR0FBR3lhLFFBQVEsT0FBUSxXQUFXM0ssTUFBTSxLQUMxQjh4QixHQUV2QixPQUFPQSxFQUdYLE9BQU8sS0F3Q1QsU0FBU2xCLEVBQVM4QixHQUVoQixJQUFJVCxFQUFNUyxFQUFPM0wsT0FFZHBjLFFBQVEsV0FBWSxLQUlwQkEsUUFBUSxTQUFVLE1BR2pCMUosRUFBSSxDQUNOdFIsS0FBTXNpQyxFQUNOcGhDLE1BQU8sR0FDUG8vQixTQUFTLEdBR1AyQyxFQUFLWCxFQUFJLEdBT2IsT0FOVyxNQUFQVyxJQUNGQSxFQUFLWCxFQUFJLElBRVBXLEdBQU0sS0FBT0EsR0FBTSxNQUNyQkEsRUFBSyxLQUVBQSxHQUNMLElBQUssSUFDTCxJQUFLLElBQ0gzeEIsRUFBRXBRLE1BQVFvaEMsRUFBSW5nQyxNQUFNLEdBQUksR0FDeEJtUCxFQUFFZ3ZCLFNBQVUsRUFDWixNQUNGLElBQUssSUFDSGh2QixFQUFFcFEsTUFBUWtHLE9BQU9rN0IsR0FDakJoeEIsRUFBRWd2QixTQUFVLEVBZWhCLE9BWEtodkIsRUFBRWd2QixVQUNMaHZCLEVBQUVtdUIsYUFBZSxZQUFLNkMsR0FFdEJoeEIsRUFBRTh0QixXQUFhLFlBQU9rRCxHQUNsQmh4QixFQUFFOHRCLGFBQ0o5dEIsRUFBRSt0QixTQUE2QixNQUFqQmlELEVBQUluZ0MsT0FBTyxHQUNyQm1QLEVBQUUrdEIsV0FDSi90QixFQUFFdFIsS0FBT3NpQyxFQUFJbmdDLE1BQU0sR0FBSSxNQUl0Qm1QLEVBR1QsU0FBUzR4QixFQUFZdm1DLEVBQU1pTixFQUFPNEYsR0FDaEMsSUFBSXRPLEVBQVEsWUFBSXZFLEVBQU02UyxHQVN0QixZQUhjdFAsSUFBVmdCLElBQ0ZBLEVBQVEwSSxFQUFNNEYsSUFFVHRPLEVBaUJULFNBQVNpaUMsRUFBYy9xQixFQUFNaUssRUFBTzdTLEVBQU1pRSxHQUN4QzJFLEVBQUtxSSxXQUFXalIsRUFBTyxXQUFZLENBQUVnVyxhQUFjL1IsSUFDbkQyRSxFQUFLcUksV0FBV2pSLEVBQU8sVUFBVzZTLEVBQU1ubEIsUUFrQjFDLFNBQVNrbUMsRUFBYWhyQixFQUFNaUssRUFBTzdTLEVBQU05TCxFQUFPaVEsRUFBWUQsR0FDMUR5dkIsRUFBYy9xQixFQUFNaUssRUFBTzdTLEVBQU0sQ0FBQyxDQUNoQzlMLE1BQU9BLEVBQ1BpUSxXQUFZQSxFQUNaRCxRQUFTQSxFQUNUL1IsT0FBUTBnQixFQUNSemlCLEtBQU0sWUFrREgsTUFBTSxFQUFrQixZQUFjOFksSUFTM0MsTUFBTTJxQixFQUFzQjVHLEVBQWMsWUFBa0IvakIsSUE2cUQ1RCxPQXBxREEsY0FBOEIycUIsRUFFNUIsY0FDRXA3QixRQUdBQyxLQUFLaTVCLDJCQUE0QixFQUtqQ2o1QixLQUFLbzdCLGNBQWdCLEVBRXJCcDdCLEtBQUtxN0IsbUJBRUxyN0IsS0FBS3M3QixxQkFFTHQ3QixLQUFLdTdCLGVBRUx2N0IsS0FBSzBkLGtCQUVMMWQsS0FBS3c3QixlQUVMeDdCLEtBQUttNUIsc0JBRUxuNUIsS0FBS21SLFdBRUxuUixLQUFLcVEsV0FFTHJRLEtBQUt5N0IseUJBRUx6N0IsS0FBSytVLE9BRUwvVSxLQUFLZ1YsY0FFTGhWLEtBQUtpVixVQUVMalYsS0FBSzA3QixpQkFFTDE3QixLQUFLMjdCLGlCQUVMMzdCLEtBQUs0N0IsZ0JBRUw1N0IsS0FBSzY3QixtQkFFTDc3QixLQUFLODdCLGlCQUVMOTdCLEtBQUsrN0IsV0FFTC83QixLQUFLZzhCLGVBR1AsNEJBQ0UsT0FBT3BHLEVBT1Qsd0JBQ0U3MUIsTUFBTTJ3Qix3QkFDTnVMLEVBQVVDLGFBQWFsOEIsTUFDdkJBLEtBQUtxN0Isb0JBQXFCLEVBQzFCcjdCLEtBQUtzN0IscUJBQXVCLEtBQzVCdDdCLEtBQUt1N0IsZUFBaUIsS0FDdEJ2N0IsS0FBSzBkLGtCQUFvQixLQUN6QjFkLEtBQUt3N0IsZ0JBQWlCLEVBRXRCeDdCLEtBQUttNUIsc0JBQXdCbjVCLEtBQUttNUIsdUJBQXlCLEtBQzNEbjVCLEtBQUttUixXQUFhblIsS0FBS21SLFlBQWMsS0FDckNuUixLQUFLcVEsV0FBYSxHQUNsQnJRLEtBQUt5N0IsMEJBQTJCLEVBWWxDLDJCQUEyQi81QixHQUN6QjFCLEtBQUsrVSxPQUFTOWYsT0FBT29FLE9BQU9xSSxHQUM1QjFCLEtBQUtnVixjQUFnQi9mLE9BQU9vRSxPQUFPcUksR0FDbkMxQixLQUFLaVYsVUFBWSxHQVduQiw4QkFBOEJ2VCxHQUM1QixJQUFJc1YsRUFBV2hYLEtBQUs0MUIsRUFBTUksV0FDMUIsSUFBSyxJQUFJcDNCLEtBQVE4QyxFQUNWc1YsR0FBYUEsRUFBU3BZLEtBQ3pCb0IsS0FBS2dWLGNBQWdCaFYsS0FBS2dWLGVBQWlCLEdBQzNDaFYsS0FBS2lWLFVBQVlqVixLQUFLaVYsV0FBYSxHQUNuQ2pWLEtBQUsrVSxPQUFPblcsR0FBUW9CLEtBQUtnVixjQUFjcFcsR0FBUThDLEVBQU05QyxJQW1CM0QsbUJBQW1CbEYsRUFBVWhDLEVBQU04N0IsR0FDakN4ekIsS0FBS204Qix3QkFBd0J6aUMsRUFBVWhDLEdBQVFrK0IsRUFBTUksV0FFckQsSUFBSUcsRUFBVUQsRUFBbUJsMkIsS0FBTXRJLEdBQU1nQyxHQUN4Q3k4QixJQUNIQSxFQUFVbjJCLEtBQUt0SSxHQUFNZ0MsR0FBWSxJQUVuQ3k4QixFQUFRN2dDLEtBQUtrK0IsR0FZZixzQkFBc0I5NUIsRUFBVWhDLEVBQU04N0IsR0FDcEMsSUFBSTJDLEVBQVVELEVBQW1CbDJCLEtBQU10SSxHQUFNZ0MsR0FDekNtTCxFQUFNc3hCLEVBQVE1dUIsUUFBUWlzQixHQUN0QjN1QixHQUFPLEdBQ1RzeEIsRUFBUW5iLE9BQU9uVyxFQUFLLEdBZXhCLG1CQUFtQm5MLEVBQVVoQyxHQUMzQixJQUFJeStCLEVBQVVuMkIsS0FBS3RJLEdBQ25CLE9BQU9xSCxRQUFRbzNCLEdBQVdBLEVBQVF6OEIsSUFhcEMsbUJBQW1CQSxHQUNqQixPQUFPc0csS0FBS284QixtQkFBbUIxaUMsRUFBVWs4QixFQUFNSSxXQWFqRCxpQkFBaUJ0OEIsR0FDZixPQUFPc0csS0FBS284QixtQkFBbUIxaUMsRUFBVWs4QixFQUFNM2hCLFFBYWpELGtCQUFrQnZhLEdBQ2hCLE9BQU9zRyxLQUFLbzhCLG1CQUFtQjFpQyxFQUFVazhCLEVBQU1FLFNBYWpELG1CQUFtQnA4QixHQUNqQixPQUFPc0csS0FBS284QixtQkFBbUIxaUMsRUFBVWs4QixFQUFNQyxTQWtDakQsMEJBQTBCdnVCLEVBQU10TyxFQUFPcWpDLEVBQWNDLEdBQ25ELEdBQUlBLEdBQ0EsWUFBS3grQixNQUFNcUgsUUFBUW1DLEdBQVFBLEVBQUssR0FBS0EsS0FBVUEsRUFBTSxDQVN2RCxJQUFLZzFCLEVBQW9CLENBQ3ZCLElBQUlqOUIsRUFBTSxZQUFJVyxLQUFNc0gsR0FHcEIsS0FGQUEsRUFBOEIsV0FBRCxDQUFLdEgsS0FBTXNILEVBQU10TyxNQUVoQytHLE1BQU13OEIsc0JBQXNCajFCLEVBQU10TyxFQUFPcUcsR0FDckQsT0FBTyxFQUlYLEdBREFXLEtBQUt3N0IsZ0JBQWlCLEVBQ2xCeDdCLEtBQUs4UixvQkFBc0MsRUFBUTlZLEVBQU9xakMsR0FFNUQsT0FyNUJWLFNBQTRCbnNCLEVBQU01SSxFQUFNdE8sR0FDdEMsSUFBSXdqQyxFQUFRdHNCLEVBQUt3TixrQkFDakIsR0FBSThlLEVBQU8sQ0FDVCxJQUFJQyxFQUNKLElBQUssSUFBSXJ6QixLQUFLb3pCLEVBQU8sQ0FDbkIsSUFBSW56QixFQUFJbXpCLEVBQU1wekIsR0FDVixZQUFhQSxFQUFHOUIsSUFDbEJtMUIsRUFBTyxZQUFVcnpCLEVBQUdDLEVBQUcvQixHQUN2QjRJLEVBQUs4QiwwQkFBMEJ5cUIsRUFBTXpqQyxHQUFPLEdBQU0sSUFDekMsWUFBYXFRLEVBQUcvQixLQUN6Qm0xQixFQUFPLFlBQVVwekIsRUFBR0QsRUFBRzlCLEdBQ3ZCNEksRUFBSzhCLDBCQUEwQnlxQixFQUFNempDLEdBQU8sR0FBTSxNQXk0QmhEMGpDLENBQW1CMThCLEtBQXlCLEVBQVFoSCxJQUM3QyxNQUVKLENBQ0wsR0FBSWdILEtBQUtpNEIsbUJBQXFCajRCLEtBQUtpNEIsa0JBQWtCM3dCLEdBQ25ELE9BQU90SCxLQUFLOFIsb0JBQXNDLEVBQVE5WSxFQUFPcWpDLEdBRWpFcjhCLEtBQUtzSCxHQUFRdE8sRUFHakIsT0FBTyxFQXlCVCw0QkFBNEJvQyxFQUFNd0QsRUFBTTVGLEdBS2xDQSxJQUFVb0MsRUFBS3dELElBQXlCLGlCQUFUNUYsSUFDakNvQyxFQUFLd0QsR0FBUTVGLEdBdUNqQixvQkFBb0JVLEVBQVVWLEVBQU9xakMsR0FDbkMsSUFBSU0sRUFBYTM4QixLQUFLdzdCLGdCQUFrQixZQUFPOWhDLEdBQzNDa2pDLEVBQVlELEVBQWEzOEIsS0FBS3FRLFdBQWFyUSxLQUFLK1UsT0FDcEQsUUFBSS9VLEtBQUt1OEIsc0JBQXNCN2lDLEVBQVVWLEVBQU80akMsRUFBVWxqQyxNQUNuRHNHLEtBQUtnVixnQkFDUmhWLEtBQUtnVixjQUFnQixHQUNyQmhWLEtBQUtpVixVQUFZLElBR2J2YixLQUFZc0csS0FBS2lWLFlBQ3JCalYsS0FBS2lWLFVBQVV2YixHQUFZc0csS0FBSytVLE9BQU9yYixJQUlyQ2lqQyxFQUNGMzhCLEtBQUtxUSxXQUFXM1csR0FBWVYsRUFFNUJnSCxLQUFLK1UsT0FBT3JiLEdBQVlWLEVBRzFCZ0gsS0FBS2dWLGNBQWN0YixHQUFZVixHQUUzQjJqQyxHQUFlMzhCLEtBQUs0MUIsRUFBTTNoQixTQUFXalUsS0FBSzQxQixFQUFNM2hCLFFBQVF2YSxNQUMxRHNHLEtBQUt1N0IsZUFBaUJ2N0IsS0FBS3U3QixnQkFBa0IsR0FDN0N2N0IsS0FBS3U3QixlQUFlN2hDLEdBQVkyaUMsSUFFM0IsR0FjWCxhQUFhM2lDLEVBQVVWLEdBQ2pCZ0gsS0FBSzhSLG9CQUFvQnBZLEVBQVVWLEdBQU8sSUFDNUNnSCxLQUFLODVCLHdCQWFULHdCQUNNOTVCLEtBQUs2OEIsYUFDUDc4QixLQUFLMGEsbUJBY1QsZUFBZW9pQixHQUNiOThCLEtBQUtzN0IscUJBQXVCdDdCLEtBQUtzN0Isc0JBQXdCLEdBQ3JEd0IsSUFBVzk4QixNQUNiQSxLQUFLczdCLHFCQUFxQmhtQyxLQUFLd25DLEdBV25DLG1CQUNFOThCLEtBQUtvN0IsZ0JBQ0xyN0IsTUFBTTJhLG1CQUNOMWEsS0FBS283QixnQkFXUCxnQkFDT3A3QixLQUFLcTdCLG1CQVFScjdCLEtBQUsrOEIsMEJBUEwvOEIsS0FBS3E3QixvQkFBcUIsRUFDMUJyN0IsS0FBS216QixnQkFJTG56QixLQUFLNjhCLGFBQWMsR0FrQnZCLHlCQUNFLElBQUlHLEVBQVVoOUIsS0FBS3M3QixxQkFDbkIsR0FBSTBCLEVBQVMsQ0FDWGg5QixLQUFLczdCLHFCQUF1QixLQUM1QixJQUFLLElBQUl4bUMsRUFBRSxFQUFHQSxFQUFJa29DLEVBQVFob0MsT0FBUUYsSUFBSyxDQUNyQyxJQUFJZ29DLEVBQVNFLEVBQVFsb0MsR0FDaEJnb0MsRUFBT0csY0FFREgsRUFBTzluQixlQUNoQjhuQixFQUFPcGlCLG1CQUZQb2lCLEVBQU9wckIsc0JBaUJmLGdCQUNFMVIsS0FBSys4Qix5QkFtQlAsY0FBY3I3QixFQUFPdzdCLEdBQ25CLElBQUssSUFBSTUxQixLQUFRNUYsR0FDWHc3QixHQUFnQmw5QixLQUFLNDFCLEVBQU1JLFlBQWVoMkIsS0FBSzQxQixFQUFNSSxXQUFXMXVCLElBS2xFdEgsS0FBS2dTLDBCQUEwQjFLLEVBQU01RixFQUFNNEYsSUFBTyxHQUd0RHRILEtBQUs4NUIsd0JBWVAsUUFLRTk1QixLQUFLMGEsbUJBR0ExYSxLQUFLcTdCLG9CQUNScjdCLEtBQUttOUIsZ0JBSUhuOUIsS0FBS2dWLGVBQ1BoVixLQUFLMGEsbUJBa0JULG1CQUFtQjBpQixFQUFjQyxFQUFjOUcsR0FNN0MsSUFBSUMsRUFBV3gyQixLQUFLdzdCLGVBQ3BCeDdCLEtBQUt3N0IsZ0JBQWlCLEVBdnZDNUIsU0FBNEJ0ckIsRUFBTW10QixFQUFjOUcsRUFBVUMsR0FDeEQsSUFBSThHLEVBQWlCcHRCLEVBQUswbEIsRUFBTUMsU0FDaEMsR0FBSXlILEVBQWdCLENBQ2xCLElBQUlDLEVBQWFGLEVBQ2pCLEtBQU8vRyxFQUFXcG1CLEVBQU1vdEIsRUFBZ0JDLEVBQVloSCxFQUFVQyxJQUM1RHZoQyxPQUFPZ1MsT0FBOEIsRUFBWWlKLEVBQUsrRSxXQUN0RGhnQixPQUFPZ1MsT0FBOEIsRUFBZ0JpSixFQUFLOEUsZUFDMUR1b0IsRUFBYXJ0QixFQUFLOEUsY0FDbEI5RSxFQUFLOEUsY0FBZ0IsTUFpdkNyQndvQixDQUFtQng5QixLQUFNcTlCLEVBQWM5RyxFQUFVQyxHQUdqRCxJQUFJaUgsRUFBY3o5QixLQUFLdTdCLGVBQ3ZCdjdCLEtBQUt1N0IsZUFBaUIsS0FFdEJ2N0IsS0FBSzA5QiwwQkFBMEJMLEVBQWM5RyxFQUFVQyxHQUV2RHgyQixLQUFLbTlCLGdCQUVMN0csRUFBV3QyQixLQUFNQSxLQUFLNDFCLEVBQU1FLFNBQVV1SCxFQUFjOUcsRUFBVUMsR0FFOURGLEVBQVd0MkIsS0FBTUEsS0FBSzQxQixFQUFNRyxTQUFVc0gsRUFBYzlHLEVBQVVDLEdBRTFEaUgsR0FsN0NWLFNBQTBCdnRCLEVBQU11dEIsRUFBYS83QixFQUFPNjBCLEVBQVVDLEdBRTVELElBQ0ltSCxFQWVBdjJCLEVBaEJBd3ZCLEVBQU0xbUIsRUFBSzBsQixFQUFNM2hCLFFBRWpCbUwsRUFBSyxJQUVULElBQUssSUFBSXhnQixLQUFRNitCLEVBQ1hBLEVBQVk3K0IsS0FDVmc0QixHQUFPRCxFQUFzQnptQixFQUFNMG1CLEVBQUt4WCxFQUFJeGdCLEVBQU04QyxFQUFPNjBCLEVBQVVDLElBRTVEQSxHQUFZamUsRUFBV3JJLEVBQU10UixFQUFNOEMsTUFENUNpOEIsR0FBVyxHQVViQSxJQUFhdjJCLEVBQU84SSxFQUFLaUIsYUFBZS9KLEVBQUsweUIsdUJBQy9DMXlCLEVBQUsweUIsd0JBKzVDRDhELENBQWlCNTlCLEtBQU15OUIsRUFBYUosRUFBYzlHLEVBQVVDLEdBR3BDLEdBQXRCeDJCLEtBQUtvN0IsZ0JBQ1BwN0IsS0FBS3FRLFdBQWEsSUFrQnRCLDBCQUEwQmd0QixFQUFjOUcsRUFBVUMsR0FDNUN4MkIsS0FBSzQxQixFQUFNbmhCLFlBQ2I2aEIsRUFBV3QyQixLQUFNQSxLQUFLNDFCLEVBQU1uaEIsV0FBWTRvQixFQUFjOUcsRUFBVUMsR0FFbEUsSUFBSWxqQixFQUFldFQsS0FBS2c4QixlQUN4QixLQUFPMW9CLEdBQ0xnakIsRUFBV3QyQixLQUFNc1QsRUFBYXVxQixnQkFBaUJSLEVBQWM5RyxFQUMzREMsRUFBVWxqQixFQUFhM0gsVUFDekIySCxFQUFlQSxFQUFhd3FCLGlCQWNoQyxVQUFVQyxFQUFJaGdDLEdBQ1pnZ0MsRUFBSyxZQUFVQSxHQUNmaGdDLEVBQU8sWUFBVUEsR0FDakJpQyxLQUFLMGQsa0JBQW9CMWQsS0FBSzBkLG1CQUFxQixHQUNuRDFkLEtBQUswZCxrQkFBa0JxZ0IsR0FBTWhnQyxFQWMvQixZQUFZdUosR0FDVkEsRUFBTyxZQUFVQSxHQUNidEgsS0FBSzBkLDBCQUNBMWQsS0FBSzBkLGtCQUFrQnBXLEdBc0NsQyxjQUFjQSxFQUFNaUUsR0FDbEIsSUFBSWxELEVBQU8sQ0FBQ2YsS0FBTSxJQUVsQjJ6QixFQUFjajdCLEtBRG1CLFdBQUQsQ0FBS0EsS0FBTXNILEVBQU1lLEdBQ3RCQSxFQUFLZixLQUFNaUUsR0F1QnhDLElBQUlqRSxFQUFNRSxHQUNSLE9BQU8sWUFBSUEsR0FBUXhILEtBQU1zSCxHQXlCM0IsSUFBSUEsRUFBTXRPLEVBQU93TyxHQUNYQSxFQUNGLFlBQUlBLEVBQU1GLEVBQU10TyxHQUVYZ0gsS0FBSzQxQixFQUFNSSxZQUFlaDJCLEtBQUs0MUIsRUFBTUksV0FBZ0MsSUFDcEVoMkIsS0FBS2dTLDBCQUEwQjFLLEVBQU10TyxHQUFPLElBQzlDZ0gsS0FBSzg1Qix3QkFxQmIsS0FBS3h5QixLQUFTZ1AsR0FDWixJQUFJak8sRUFBTyxDQUFDZixLQUFNLElBQ2Q2UyxFQUE0QixXQUFELENBQUtuYSxLQUFNc0gsRUFBTWUsR0FDNUN3WCxFQUFNMUYsRUFBTW5sQixPQUNaZ3BDLEVBQU03akIsRUFBTTdrQixRQUFRZ2hCLEdBSXhCLE9BSElBLEVBQU10aEIsUUFDUmttQyxFQUFhbDdCLEtBQU1tYSxFQUFPOVIsRUFBS2YsS0FBTXVZLEVBQUt2SixFQUFNdGhCLE9BQVEsSUFFbkRncEMsRUFpQlQsSUFBSTEyQixHQUNGLElBQUllLEVBQU8sQ0FBQ2YsS0FBTSxJQUNkNlMsRUFBNkIsV0FBRCxDQUFLbmEsS0FBTXNILEVBQU1lLEdBQzdDNDFCLEVBQVlsL0IsUUFBUW9iLEVBQU1ubEIsUUFDMUJncEMsRUFBTTdqQixFQUFNYyxNQUloQixPQUhJZ2pCLEdBQ0YvQyxFQUFhbDdCLEtBQU1tYSxFQUFPOVIsRUFBS2YsS0FBTTZTLEVBQU1ubEIsT0FBUSxFQUFHLENBQUNncEMsSUFFbERBLEVBcUJULE9BQU8xMkIsRUFBTXVrQixFQUFPcVMsS0FBZ0I1bkIsR0FDbEMsSUFnQkkwbkIsRUFoQkEzMUIsRUFBTyxDQUFDZixLQUFPLElBQ2Y2UyxFQUE2QixXQUFELENBQUtuYSxLQUFNc0gsRUFBTWUsR0FrQ2pELE9BaENJd2pCLEVBQVEsRUFDVkEsRUFBUTFSLEVBQU1ubEIsT0FBUzhqQixLQUFLcWxCLE9BQU90UyxHQUMxQkEsSUFDVEEsRUFBUS9TLEtBQUtxbEIsTUFBTXRTLElBYW5CbVMsRUFEdUIsSUFBckJ0dkIsVUFBVTFaLE9BQ05tbEIsRUFBTWEsT0FBTzZRLEdBUWIxUixFQUFNYSxPQUFPNlEsRUFBT3FTLEtBQWdCNW5CLElBS3hDQSxFQUFNdGhCLFFBQVVncEMsRUFBSWhwQyxTQUN0QmttQyxFQUFhbDdCLEtBQU1tYSxFQUFPOVIsRUFBS2YsS0FBTXVrQixFQUFPdlYsRUFBTXRoQixPQUFRZ3BDLEdBRXJEQSxFQWlCVCxNQUFNMTJCLEdBQ0osSUFBSWUsRUFBTyxDQUFDZixLQUFNLElBQ2Q2UyxFQUE2QixXQUFELENBQUtuYSxLQUFNc0gsRUFBTWUsR0FDN0M0MUIsRUFBWWwvQixRQUFRb2IsRUFBTW5sQixRQUMxQmdwQyxFQUFNN2pCLEVBQU0xa0IsUUFJaEIsT0FISXdvQyxHQUNGL0MsRUFBYWw3QixLQUFNbWEsRUFBTzlSLEVBQUtmLEtBQU0sRUFBRyxFQUFHLENBQUMwMkIsSUFFdkNBLEVBa0JULFFBQVExMkIsS0FBU2dQLEdBQ2YsSUFBSWpPLEVBQU8sQ0FBQ2YsS0FBTSxJQUNkNlMsRUFBNkIsV0FBRCxDQUFLbmEsS0FBTXNILEVBQU1lLEdBQzdDMjFCLEVBQU03akIsRUFBTTNVLFdBQVc4USxHQUkzQixPQUhJQSxFQUFNdGhCLFFBQ1JrbUMsRUFBYWw3QixLQUFNbWEsRUFBTzlSLEVBQUtmLEtBQU0sRUFBR2dQLEVBQU10aEIsT0FBUSxJQUVqRGdwQyxFQWlCVCxXQUFXMTJCLEVBQU10TyxHQUVmLElBQUlvbEMsRUFDSixHQUF3QixHQUFwQjF2QixVQUFVMVosT0FBYSxDQUV6QixJQUFJcVQsRUFBTyxDQUFDZixLQUFNLElBQ2xCdE8sRUFBUSxZQUFJZ0gsS0FBTXNILEVBQU1lLEdBQ3hCKzFCLEVBQVcvMUIsRUFBS2YsVUFHaEI4MkIsRUFGU3RnQyxNQUFNcUgsUUFBUW1DLEdBRVosWUFBVUEsR0FFVSxFQUU3QnRILEtBQUtnUywwQkFBMEJvc0IsRUFBVXBsQyxHQUFPLEdBQU0sSUFDeERnSCxLQUFLODVCLHdCQWdCVCx3QkFBd0JwZ0MsRUFBVTJrQyxHQW5nQ3RDLElBQWV2bUMsRUFvZ0NUa0ksS0FBSytULG1CQUFtQnJhLEVBQVVrOEIsRUFBTUksV0FDcENxSSxJQUNGcitCLEtBQUssUUF0Z0NFbEksRUFzZ0NhNEIsRUFyZ0NuQjVCLEVBQUssR0FBR3UyQixjQUFnQnYyQixFQUFLcWQsVUFBVSxLQXFnQ3VCLFNBQVNuYyxHQUN0RWdILEtBQUtzK0IsYUFBYTVrQyxFQUFVVixLQW1CbEMsd0JBQXdCVSxFQUFVOFUsRUFBUThvQixHQUN4QyxJQUFJanZCLEVBQU8sQ0FBRTNPLFdBQVU4VSxTQUFROG9CLFVBQVd2NEIsUUFBUXU0QixJQUNsRHQzQixLQUFLK1QsbUJBQW1CcmEsRUFBVWs4QixFQUFNRyxRQUFTLENBQy9DN2hCLEdBQUlrakIsRUFBbUIvdUIsT0FBTTJ1QixRQUFTLENBQUNsL0IsS0FBTTRCLEtBRTNDNDlCLEdBQ0Z0M0IsS0FBSytULG1CQUF3QyxFQUFVNmhCLEVBQU1HLFFBQVMsQ0FDcEU3aEIsR0FBSWtqQixFQUFtQi91QixPQUFNMnVCLFFBQVMsQ0FBQ2wvQixLQUFNMFcsS0FpQm5ELHNCQUFzQm1zQixFQUFZckQsR0FDaEMsSUFBSTJDLEVBQU1TLEVBQVlDLEdBQ3RCLElBQUtWLEVBQ0gsTUFBTSxJQUFJOWlDLE1BQU0sa0NBQW9Dd2pDLEVBQWEsS0FFbkVYLEVBQW1CaDZCLEtBQU1pNkIsRUFBS3JFLEVBQU1HLFFBQVMrQixFQUFpQixLQUFNUixHQWF0RSx5QkFBeUI1OUIsR0FDdkJzRyxLQUFLK1QsbUJBQW1CcmEsRUFBVWs4QixFQUFNM2hCLE9BQVEsQ0FDOUNDLEdBQUl3akIsRUFDSnJ2QixLQUFNLENBQ0o2SixVQUFXLFlBQWdCeFksR0FBWSxXQUN2Q0EsU0FBVUEsS0FnQmhCLHlCQUF5QkEsR0FDdkIsSUFBSWtILEVBQU9aLEtBQUtvQyxZQUFZbXVCLHlCQUF5QjcyQixHQUNyQyxNQUFaa0gsRUFBSyxHQUNQL0csUUFBUXdDLEtBQUssWUFBYzNDLEVBQVcscUNBQ3BDa0gsRUFBTywrR0FFVFosS0FBSytULG1CQUFtQnJhLEVBQVVrOEIsRUFBTUUsUUFBUyxDQUMvQzVoQixHQUFJeWpCLEVBQ0p0dkIsS0FBTSxDQUNKdXZCLFNBQVVoM0IsS0FtQmxCLHdCQUF3QmxILEVBQVVpaEMsRUFBWXJELEdBQzVDLElBQUkyQyxFQUFNUyxFQUFZQyxHQUN0QixJQUFLVixFQUNILE1BQU0sSUFBSTlpQyxNQUFNLGtDQUFvQ3dqQyxFQUFhLEtBRW5FWCxFQUFtQmg2QixLQUFNaTZCLEVBQUtyRSxFQUFNQyxRQUFTZ0MsRUFBbUJuK0IsRUFBVTQ5QixHQWdCNUUsYUFBYXJ2QixFQUFNWCxFQUFNNUYsR0FDdkIsTUFBTWpOLEVBQU91TCxLQUFLK1UsT0FDWnJRLEVBQVMsR0FDZixJQUFLLElBQUk1UCxFQUFFLEVBQUdpQixFQUFFa1MsRUFBS2pULE9BQVFGLEVBQUVpQixFQUFHakIsSUFBSyxDQUNyQyxJQUFJLEtBQUNnRCxFQUFJLFdBQUVvL0IsRUFBVSxTQUFFQyxFQUFRLE1BQUVuK0IsRUFBSyxRQUFFby9CLEdBQVdud0IsRUFBS25ULEdBQ3hELElBQUtzakMsRUFDSCxHQUFJakIsRUFBVSxDQUNaLE1BQU1wdkIsRUFBVSxZQUFhalEsRUFBTXdQLEdBQzdCaTNCLEVBQVl2RCxFQUFZdm1DLEVBQU1pTixFQUFPcUcsRUFBVVQsRUFBT3hQLEdBQzVEa0IsRUFBUSxDQUNOc08sS0FBTVMsRUFBVVQsRUFBT3hQLEVBQ3ZCa0IsTUFBT3VsQyxFQUNQNTJCLEtBQU1JLEVBQVUsWUFBSXRULEVBQU1xRCxHQUFReW1DLFFBR3BDdmxDLEVBQVFrK0IsRUFBYThELEVBQVl2bUMsRUFBTWlOLEVBQU81SixHQUFRckQsRUFBS3FELEdBRy9ENE0sRUFBTzVQLEdBQUtrRSxFQUVkLE9BQU8wTCxFQXlDVCx5QkFBeUJoTCxFQUFVaEMsRUFBTTg3QixHQUN2Q3h6QixLQUFLOUssVUFBVTZlLG1CQUFtQnJhLEVBQVVoQyxFQUFNODdCLEdBYXBELDhCQUE4Qjk1QixFQUFVOFUsRUFBUThvQixHQUM5Q3QzQixLQUFLOUssVUFBVXM4Qix3QkFBd0I5M0IsRUFBVThVLEVBQVE4b0IsR0FnQjNELDRCQUE0QnFELEVBQVlyRCxHQUN0Q3QzQixLQUFLOUssVUFBVXk4QixzQkFBc0JnSixFQUFZckQsR0FXbkQsK0JBQStCNTlCLEdBQzdCc0csS0FBSzlLLFVBQVV5Zix5QkFBeUJqYixHQW1CMUMsOEJBQThCQSxFQUFVMmtDLEdBQ3RDcitCLEtBQUs5SyxVQUFVaThCLHdCQUF3QnozQixFQUFVMmtDLEdBV25ELCtCQUErQjNrQyxHQUM3QnNHLEtBQUs5SyxVQUFVbzhCLHlCQUF5QjUzQixHQWlCMUMsOEJBQThCQSxFQUFVaWhDLEVBQVlyRCxHQUNsRHQzQixLQUFLOUssVUFBVWc4Qix3QkFBd0J4M0IsRUFBVWloQyxFQUFZckQsR0FlL0Qsb0JBQW9CajlCLEdBQ2xCLE9BQU8yRixLQUFLOUssVUFBVXllLGNBQWN0WixHQTZCdEMsY0FBY0EsRUFBVW1rQyxHQUN0QixJQUFJbHJCLEVBQWV0VCxLQUFLb0MsWUFBWWtULGVBQWVqYixHQUMvQ29rQyxFQUFjeitCLEtBQUtnOEIsZ0JBQWtCMW9CLEVBR3pDLElBQUttckIsRUFDSCxJQUFLLElBQUk3L0IsS0FBUTBVLEVBQWF1cUIsZ0JBQzVCNzlCLEtBQUttOEIsd0JBQXdCdjlCLEdBR2pDLEdBQUk0L0IsSUFHRmxyQixFQUE0Q3JlLE9BQU9vRSxPQUFPaWEsR0FDMURBLEVBQWFtckIsWUFBY0EsR0FDdEJBLEdBQWV6K0IsS0FBS2c4QixnQkFBZ0IsQ0FDdkMsSUFBSTF6QixFQUFPdEksS0FBSzArQixvQkFBc0IxK0IsS0FBS2c4QixlQUczQyxPQUZBaDhCLEtBQUswK0IsbUJBQXFCcDJCLEVBQUt3MUIsaUJBQW1CeHFCLEVBQ2xEQSxFQUFhcXJCLHFCQUF1QnIyQixFQUM3QmdMLEVBR1gsT0FBT3RULEtBQUtnOEIsZUFBaUIxb0IsRUFnQi9CLGtDQUFrQ0EsRUFBYzFVLEVBQU00MEIsSUFDcENsZ0IsRUFBYU0sVUFBWU4sRUFBYU0sV0FBYSxJQUN6RGhWLElBQVEsRUFDbEIsSUFBSXUzQixFQUFVN2lCLEVBQWF1cUIsZ0JBQWtCdnFCLEVBQWF1cUIsaUJBQW1CLElBQzNEMUgsRUFBUXYzQixHQUFRdTNCLEVBQVF2M0IsSUFBUyxJQUN2Q3RKLEtBQUtrK0IsR0F1Qm5CLGVBQWVuNUIsR0FHYjRoQyxFQUFVMkMsYUFBYTUrQixNQUN2QixJQUFJNk8sRUFBTTlPLE1BQU1tUixlQUFlN1csR0FDL0I0aEMsRUFBVTRDLFdBQVc3K0IsTUFDckIsSUFBSXNULEVBQTRDdFQsS0FBSzJULGNBQWN0WixHQUFVLEdBSTdFLEdBRkFpWixFQUFhM0gsU0FBV2tELEVBQUlsRCxVQUV2QjJILEVBQWFtckIsWUFBYSxDQUM3QixJQUFJaEosRUFBUW5pQixFQUFhbkssV0FBYSxHQUN0QyxJQUFLLElBQUkzUCxFQUFFcVYsRUFBSXZRLFdBQVk5RSxFQUFHQSxFQUFFQSxFQUFFb1UsWUFDaEM2bkIsRUFBTW5nQyxLQUFLa0UsR0FXZixPQVJBcVYsRUFBSXlFLGFBQWVBLEVBendEekIsU0FBdUJwRCxFQUFNb0QsR0FFM0IsSUFBSSxTQUFDM0gsRUFBUSxhQUFFOG9CLEdBQWdCbmhCLEVBQy9CLEdBQUltaEIsRUFBYXovQixPQUNmLElBQUssSUFBSUYsRUFBRSxFQUFHQSxFQUFJMi9CLEVBQWF6L0IsT0FBUUYsSUFBSyxDQUMxQyxJQUFJdVQsRUFBT29zQixFQUFhMy9CLEdBQ3BCc0csRUFBT3VRLEVBQVM3VyxHQUNoQnVqQyxFQUFXaHdCLEVBQUtnd0IsU0FDcEIsR0FBSUEsRUFDRixJQUFLLElBQUl2akMsRUFBRSxFQUFHQSxFQUFFdWpDLEVBQVNyakMsT0FBUUYsSUFBSyxDQUNwQyxJQUFJd2pDLEVBQVVELEVBQVN2akMsR0FDdkIwa0MsRUFBcUJwK0IsRUFBTWs5QixHQUMzQm9CLEVBQWtCdCtCLEVBQU04VSxFQUFNb29CLEdBR2xDbDlCLEVBQUsrVixXQUFhakIsR0E0dkRsQjR1QixDQUFjOStCLEtBQU1zVCxHQUVoQnRULEtBQUs2OEIsYUFDUHZHLEVBQVd0MkIsS0FBTXNULEVBQWF1cUIsZ0JBQWlCNzlCLEtBQUsrVSxPQUFRLE1BQzFELEVBQU96QixFQUFhM0gsVUFFakJrRCxFQWFULGdCQUFnQkEsR0FFZCxJQUFJeUUsRUFBZXpFLEVBQUl5RSxhQUNuQkEsRUFBYXFyQix1QkFDZnJyQixFQUFhcXJCLHFCQUFxQmIsaUJBQ2hDeHFCLEVBQWF3cUIsa0JBRWJ4cUIsRUFBYXdxQixtQkFDZnhxQixFQUFhd3FCLGlCQUFpQmEscUJBQzVCcnJCLEVBQWFxckIsc0JBRWIzK0IsS0FBSzArQixvQkFBc0JwckIsSUFDN0J0VCxLQUFLMCtCLG1CQUFxQnByQixFQUFhcXJCLHNCQUV6Q3JyQixFQUFhcXJCLHFCQUF1QnJyQixFQUFhd3FCLGlCQUFtQixLQUVwRSxJQUFJckksRUFBUW5pQixFQUFhbkssV0FDekIsSUFBSyxJQUFJclUsRUFBRSxFQUFHQSxFQUFFMmdDLEVBQU16Z0MsT0FBUUYsSUFBSyxDQUNqQyxJQUFJc0csRUFBT3E2QixFQUFNM2dDLEdBQ2pCc0csRUFBS00sV0FBV0MsWUFBWVAsSUFvQmhDLDBCQUEwQkEsRUFBTWtZLEVBQWNnZ0IsR0FDNUMsSUFBSXVCLEVBQVE5MEIsTUFBTTYwQixtQkFBbUJ4NUIsRUFBTWtZLEVBQWNnZ0IsR0FDekQsR0FBSWw0QixFQUFLVSxXQUFhb1IsS0FBS3dGLFVBQVcsQ0FDcEMsSUFBSWpZLEVBQVF1RixLQUFLKytCLGVBQWUzakMsRUFBS3dDLFlBQWEwVixHQUM5QzdZLElBSUZXLEVBQUt3QyxZQUFjNjhCLEVBQWlCaGdDLElBQVUsSUFDOUN5OUIsRUFBV2w0QixLQUFNc1QsRUFBY2dnQixFQUFVLE9BQVEsY0FBZTc0QixHQUNoRW82QixHQUFRLEdBR1osT0FBT0EsRUFxQlQsbUNBQW1DejVCLEVBQU1rWSxFQUFjZ2dCLEVBQVV4N0IsRUFBTWtCLEdBQ3JFLElBQUl5QixFQUFRdUYsS0FBSysrQixlQUFlL2xDLEVBQU9zYSxHQUN2QyxHQUFJN1ksRUFBTyxDQUVULElBQUl1a0MsRUFBV2xuQyxFQUNYcWdDLEVBQU8sV0FJUGxDLEVBQXNCMUosS0FBS3owQixHQUM3QnFnQyxFQUFPLFlBQ3lCLEtBQXZCcmdDLEVBQUtBLEVBQUs5QyxPQUFPLEtBQzFCOEMsRUFBT0EsRUFBS21DLE1BQU0sR0FBSSxHQUN0QmsrQixFQUFPLGFBR1QsSUFBSUMsRUFBVXFDLEVBQWlCaGdDLEdBMEIvQixPQXpCSTI5QixHQUFtQixhQUFSRCxJQUdELFNBQVJyZ0MsR0FBbUJzRCxFQUFLdTVCLGFBQWEsV0FDdkN5RCxHQUFXLElBQU1oOUIsRUFBSzJqQixhQUFham5CLElBRXJDc0QsRUFBS3RFLGFBQWFnQixFQUFNc2dDLElBTUgsVUFBbkJoOUIsRUFBS2dMLFdBQXNDLFVBQWI0NEIsR0FDaEM1akMsRUFBS3RFLGFBQWFrb0MsRUFBVSxJQUc5QjVqQyxFQUFLc0gsZ0JBQWdCczhCLEdBS1IsYUFBVDdHLElBQ0ZyZ0MsRUFBTyxZQUFnQkEsSUFFekJvZ0MsRUFBV2w0QixLQUFNc1QsRUFBY2dnQixFQUFVNkUsRUFBTXJnQyxFQUFNMkMsRUFBTzI5QixJQUNyRCxFQUVQLE9BQU9yNEIsTUFBTXUxQiw0QkFBNEJsNkIsRUFBTWtZLEVBQWNnZ0IsRUFBVXg3QixFQUFNa0IsR0FpQmpGLG9DQUFvQ29DLEVBQU1rWSxFQUFjZ2dCLEdBQ3RELElBQUl1QixFQUFROTBCLE1BQU1nMUIsNkJBQTZCMzVCLEVBQU1rWSxFQUFjZ2dCLEdBRS9EMWYsRUFBWTBmLEVBQVNoZ0IsYUFBYU0sVUFFdEMsSUFBSyxJQUFJNlEsS0FBVTdRLEVBQVcsQ0FFNUJza0IsRUFBV2w0QixLQUFNc1QsRUFBY2dnQixFQUFVLFdBQVksU0FBVzdPLEVBRHBELENBQUMsQ0FBRXZyQixLQUZOLElBRVl1ckIsU0FBUW9VLGFBQWMsQ0FBQ3BVLE1BRzlDLE9BQU9vUSxFQStDVCxzQkFBc0I3TSxFQUFNMVUsR0FDMUIsSUFFSWpiLEVBRkFvQyxFQUFRLEdBQ1Jnb0IsRUFBWSxFQVFoQixLQUF5QyxRQUFqQ3BxQixFQUFJa2lDLEVBQWFqWSxLQUFLMEYsS0FBaUIsQ0FFekMzdkIsRUFBRW1ELE1BQVFpbkIsR0FDWmhvQixFQUFNbkYsS0FBSyxDQUFDOGlDLFFBQVNwUSxFQUFLL3RCLE1BQU13b0IsRUFBV3BxQixFQUFFbUQsU0FHL0MsSUFBSXRDLEVBQU9iLEVBQUUsR0FBRyxHQUNabWdDLEVBQVN6NUIsUUFBUTFHLEVBQUUsSUFDbkJvc0IsRUFBU3BzQixFQUFFLEdBQUc2MkIsT0FDZCtQLEdBQWMsRUFBT0MsRUFBYyxHQUFJQyxHQUFTLEVBQ3hDLEtBQVJqbUMsSUFBZ0JpbUMsRUFBUTFhLEVBQU9sZCxRQUFRLE9BQVMsSUFDbEQyM0IsRUFBY3phLEVBQU90UCxVQUFVZ3FCLEVBQVEsR0FDdkMxYSxFQUFTQSxFQUFPdFAsVUFBVSxFQUFHZ3FCLEdBQzdCRixHQUFjLEdBRWhCLElBQUlHLEVBQVkxRSxFQUFZalcsR0FDeEJvVSxFQUFlLEdBQ25CLEdBQUl1RyxFQUFXLENBRWIsSUFBSSxLQUFDbjNCLEVBQUksV0FBRXdRLEdBQWMybUIsRUFDekIsSUFBSyxJQUFJdHFDLEVBQUUsRUFBR0EsRUFBRW1ULEVBQUtqVCxPQUFRRixJQUFLLENBQ2hDLElBQUlzbEMsRUFBTW55QixFQUFLblQsR0FDVnNsQyxFQUFJaEMsU0FDUFMsRUFBYXZqQyxLQUFLOGtDLEdBR3RCLElBQUkxSSxFQUFhcGUsRUFBYW9lLFlBQzFCQSxHQUFjQSxFQUFXalosSUFBZTJtQixFQUFVakYsVUFDcER0QixFQUFhdmpDLEtBQUttakIsR0FDbEIybUIsRUFBVTlILFdBQVksUUFJeEJ1QixFQUFhdmpDLEtBQUttdkIsR0FFcEJocUIsRUFBTW5GLEtBQUssQ0FDVG12QixTQUFRdnJCLE9BQU1zL0IsU0FBUXlHLGNBQWFHLFlBQVd2RyxlQUM5Q3poQyxNQUFPOG5DLElBRVR6YyxFQUFZOFgsRUFBYTlYLFVBRzNCLEdBQUlBLEdBQWFBLEVBQVl1RixFQUFLaHpCLE9BQVEsQ0FDeEMsSUFBSW9qQyxFQUFVcFEsRUFBSzdTLFVBQVVzTixHQUN6QjJWLEdBQ0YzOUIsRUFBTW5GLEtBQUssQ0FDVDhpQyxRQUFTQSxJQUlmLE9BQUkzOUIsRUFBTXpGLE9BQ0R5RixFQUVBLEtBa0JYLHdCQUF3QnlWLEVBQU1wVixFQUFNd00sRUFBTTVGLEVBQU82MEIsRUFBVUMsR0FDekQsSUFBSXg5QixFQWVKLE9BYkVBLEVBREU4QixFQUFLc2tDLFVBQ0N0SCxFQUFnQjVuQixFQUFNNUksRUFBTTVGLEVBQU82MEIsRUFBVXo3QixFQUFLc2tDLFdBQ2pEOTNCLEdBQVF4TSxFQUFLMnBCLE9BQ2QsWUFBSXZVLEVBQU1wVixFQUFLMnBCLFFBRW5CK1IsR0FBWSxZQUFPbHZCLEdBQ2IsWUFBSTRJLEVBQU01SSxHQUVWNEksRUFBSzZFLE9BQU96TixHQUdwQnhNLEVBQUswOUIsU0FDUHgvQixHQUFTQSxHQUVKQSxNQWtFYixNQUFNaWpDLEVBQVksSUFuQ2xCLE1BQ0UsY0FDRWo4QixLQUFLcS9CLE1BQVEsR0FPZixhQUFhbnZCLEdBQ1gsR0FBSWxRLEtBQUtxL0IsTUFBTXJxQyxPQUFRLENBQ1ZnTCxLQUFLcS9CLE1BQU1yL0IsS0FBS3EvQixNQUFNcnFDLE9BQU8sR0FDbkNpZCxlQUFlL0IsSUFReEIsYUFBYUEsR0FDWGxRLEtBQUtxL0IsTUFBTS9wQyxLQUFLNGEsR0FPbEIsV0FBV0EsR0FDVCxJQUFJb3ZCLEVBQVd0L0IsS0FBS3EvQixNQUFNcnFDLE9BQ3RCc3FDLEdBQVl0L0IsS0FBS3EvQixNQUFNQyxFQUFTLElBQU1wdkIsR0FDeENsUSxLQUFLcS9CLE1BQU1wa0IsUyw2QkNueUZqQjs7Ozs7Ozs7OztBQWNBLElBQUkxbEIsRUFBVSxHQUNWZ3FDLEVBQVksR0FRaEIsU0FBU0MsRUFBVXBnQixFQUFJdHBCLEdBSXJCUCxFQUFRNnBCLEdBQU1tZ0IsRUFBVW5nQixFQUFHcGQsZUFBaUJsTSxFQVE5QyxTQUFTMnBDLEVBQVdyZ0IsR0FDbEIsT0FBTzdwQixFQUFRNnBCLElBQU9tZ0IsRUFBVW5nQixFQUFHcGQsZUFrQzlCLE1BQU0wOUIsVUFBa0I1L0IsWUFFN0IsZ0NBQWtDLE1BQU8sQ0FBQyxNQWExQyxjQUFjc2YsRUFBSS9TLEdBQ2hCLEdBQUkrUyxFQUFJLENBQ04sSUFBSS9tQixFQUFJb25DLEVBQVdyZ0IsR0FDbkIsT0FBSS9tQixHQUFLZ1UsRUFDQWhVLEVBQUVtRyxjQUFjNk4sR0FFbEJoVSxFQUVULE9BQU8sS0FZVCx5QkFBeUJQLEVBQU11SCxFQUFLckcsRUFBTzJtQyxHQUNyQ3RnQyxJQUFRckcsR0FDVmdILEtBQUs0L0IsV0FnQlQsZ0JBRUUsSUFBSzUvQixLQUFLNi9CLFlBQWEsQ0FHckIsTUFBTXhxQixFQUFRdGIsT0FBTytsQyxhQUFlQSxZQUFZQyxpQkFDOUNELFlBQVlDLGlCQUFpQi8vQixPQUFTdkosU0FBV3VKLEtBQUt5TSxjQUNsRDZmLEVBQU0sWUFDVnRzQixLQUFLK2UsYUFBYSxjQUFnQixHQUFJMUosRUFBTWhHLFNBQzlDclAsS0FBSzYvQixZQUFjLFlBQVl2VCxHQUVqQyxPQUFPdHNCLEtBQUs2L0IsWUFVZCxTQUFTemdCLEdBRVAsR0FEQUEsRUFBS0EsR0FBTXBmLEtBQUtvZixHQUNSLENBR04sR0FBSSxVQUEyQ3BuQixJQUFuQnluQyxFQUFXcmdCLEdBRXJDLE1BREFvZ0IsRUFBVXBnQixFQUFJLE1BQ1IsSUFBSWpvQixNQUFNLG9DQUFvQ2lvQixtQkFFdERwZixLQUFLb2YsR0FBS0EsRUFDVm9nQixFQUFVcGdCLEVBQUlwZixPQW5IZWtRLEVBb0hIbFEsTUFuSHJCeEIsY0FBYyxVQUNyQjNFLFFBQVF3QyxLQUFLLDJDQUE0QzZULEVBQUtrUCxJQUZsRSxJQUFtQ2xQLEdBeUhuQ3d2QixFQUFVeHFDLFVBQW1CLFFBQUlLLEVBRWpDNFosZUFBZXdHLE9BQU8sYUFBYytwQixJOzs7Ozs7Ozs7RUNoSnBDLE1BQU1NLEVBQ0osY0FFRWhnQyxLQUFZLE1BQUksRUFFaEJBLEtBQVUsSUFBSSxFQUVkQSxLQUFlLFNBQUksS0FFbkJBLEtBQWEsT0FBSSxLQUVqQkEsS0FBWSxNQUFJLEtBRWhCQSxLQUFvQixjQUFJLEdBRXhCQSxLQUFjLFFBQUksR0FFbEJBLEtBQWEsUUFBSSxFQUVqQkEsS0FBVyxLQUFJLEVBRWZBLEtBQW9CLGNBQUksR0FFeEJBLEtBQWUsU0FBSSxHQUVuQkEsS0FBcUIsZUFBSSxJQVd0QixTQUFTYixFQUFNNm9CLEdBRXBCLE9BZ0RGLFNBQVNpWSxFQUFTN2tDLEVBQU00c0IsR0FDdEIsSUFBSS91QixFQUFJK3VCLEVBQUs3UyxVQUFVL1osRUFBWSxNQUFHQSxFQUFVLElBQUksR0FFcEQsR0FEQUEsRUFBb0IsY0FBSUEsRUFBYyxRQUFJbkMsRUFBRWkyQixPQUN4Qzl6QixFQUFhLE9BQUcsQ0FDbEIsSUFBSThrQyxFQUFLOWtDLEVBQWUsU0FBSUEsRUFBZSxTQUFPLElBQUlBLEVBQWEsT0FBUyxNQUM1RW5DLEVBQUkrdUIsRUFBSzdTLFVBQVUrcUIsRUFBSTlrQyxFQUFZLE1BQUksR0FDdkNuQyxFQXdDSixTQUErQmlCLEdBQzdCLE9BQU9BLEVBQUU0WSxRQUFRLHlCQUF5QixXQUN4QyxJQUFJcXRCLEVBQU96eEIsVUFBVSxHQUNuQjB4QixFQUFTLEVBQUlELEVBQUtuckMsT0FDcEIsS0FBT29yQyxLQUNMRCxFQUFPLElBQU1BLEVBRWYsTUFBTyxLQUFPQSxLQS9DVkUsQ0FBc0JwbkMsR0FDMUJBLEVBQUlBLEVBQUU2WixRQUFRd3RCLEVBQUdDLGVBQWdCLEtBR2pDdG5DLEVBQUlBLEVBQUVrYyxVQUFVbGMsRUFBRWkwQixZQUFZLEtBQU8sR0FDckMsSUFBSWh6QixFQUFJa0IsRUFBcUIsZUFBSUEsRUFBZSxTQUFJbkMsRUFBRWkyQixPQUN0RDl6QixFQUFhLE9BQTZCLElBQXhCbEIsRUFBRXFOLFFBQVFpNUIsR0FFeEJwbEMsRUFBYSxPQUNnQixJQUEzQmxCLEVBQUVxTixRQUFRazVCLEdBQ1pybEMsRUFBVyxLQUFJc2xDLEVBQU1DLFdBQ1p6bUMsRUFBRXF0QixNQUFNK1ksRUFBR00saUJBQ3BCeGxDLEVBQVcsS0FBSXNsQyxFQUFNRyxlQUNyQnpsQyxFQUFvQixjQUNsQkEsRUFBZSxTQUFFK00sTUFBTW00QixFQUFHQyxnQkFBZ0J0bEIsT0FHakIsSUFBekIvZ0IsRUFBRXFOLFFBQVF1NUIsR0FDWjFsQyxFQUFXLEtBQUlzbEMsRUFBTUssV0FFckIzbEMsRUFBVyxLQUFJc2xDLEVBQU1NLFdBSTNCLElBQUlDLEVBQUs3bEMsRUFBWSxNQUNyQixHQUFJNmxDLEVBQ0YsSUFBSyxJQUEwQnBvQyxFQUF0Qi9ELEVBQUksRUFBR2lCLEVBQUlrckMsRUFBR2pzQyxPQUNwQkYsRUFBSWlCLElBQU84QyxFQUFJb29DLEVBQUduc0MsSUFBS0EsSUFDeEJtckMsRUFBU3BuQyxFQUFHbXZCLEdBR2hCLE9BQU81c0IsRUFyRkE2a0MsQ0FpQlQsU0FBYWpZLEdBQ1gsSUFBSXhnQixFQUFPLElBQUl3NEIsRUFDZng0QixFQUFZLE1BQUksRUFDaEJBLEVBQVUsSUFBSXdnQixFQUFLaHpCLE9BQ25CLElBQUl3RSxFQUFJZ08sRUFDUixJQUFLLElBQUkxUyxFQUFJLEVBQUdpQixFQUFJaXlCLEVBQUtoekIsT0FBUUYsRUFBSWlCLEVBQUdqQixJQUN0QyxHQUFJa3pCLEVBQUtsekIsS0FBT29zQyxFQUFZLENBQ3JCMW5DLEVBQVMsUUFDWkEsRUFBUyxNQUFJLElBRWYsSUFBSXhDLEVBQUl3QyxFQUNKMm5DLEVBQVducUMsRUFBUyxNQUFFQSxFQUFTLE1BQUVoQyxPQUFTLElBQU0sS0FDcER3RSxFQUFJLElBQUl3bUMsRUFDUnhtQyxFQUFTLE1BQUkxRSxFQUFJLEVBQ2pCMEUsRUFBVSxPQUFJeEMsRUFDZHdDLEVBQVksU0FBSTJuQyxFQUNoQm5xQyxFQUFTLE1BQUUxQixLQUFLa0UsUUFDUHd1QixFQUFLbHpCLEtBQU9zc0MsSUFDckI1bkMsRUFBTyxJQUFJMUUsRUFBSSxFQUNmMEUsRUFBSUEsRUFBVSxRQUFLZ08sR0FHdkIsT0FBT0EsRUF2Q1M2NUIsQ0FEaEJyWixFQUFhQSxFQVVFbFYsUUFBUXd0QixFQUFHZ0IsU0FBVSxJQUFJeHVCLFFBQVF3dEIsRUFBR2lCLEtBQU0sS0FUOUJ2WixHQWdIdEIsU0FBUy9vQixFQUFVN0QsRUFBTW9tQyxFQUFvQnhaLEVBQU8sSUFFekQsSUFBSTNqQixFQUFVLEdBQ2QsR0FBSWpKLEVBQWMsU0FBS0EsRUFBWSxNQUFHLENBQ3BDLElBQUk2bEMsRUFBSzdsQyxFQUFZLE1BQ3JCLEdBQUk2bEMsSUErQlIsU0FBd0JRLEdBQ3RCLElBQUk1b0MsRUFBSTRvQyxFQUFNLEdBQ2QsT0FBTzFpQyxRQUFRbEcsSUFBTWtHLFFBQVFsRyxFQUFZLFdBQTJDLElBQXJDQSxFQUFZLFNBQUUwTyxRQUFRdTVCLEdBakN4RFksQ0FBZVQsR0FDeEIsSUFBSyxJQUEwQnBvQyxFQUF0Qi9ELEVBQUksRUFBR2lCLEVBQUlrckMsRUFBR2pzQyxPQUNwQkYsRUFBSWlCLElBQU84QyxFQUFJb29DLEVBQUduc0MsSUFBS0EsSUFDeEJ1UCxFQUFVcEYsRUFBVXBHLEVBQUcyb0MsRUFBb0JuOUIsUUFHN0NBLEVBQVVtOUIsRUFBcUJwbUMsRUFBYyxRQWtDbkQsU0FBMkJpSixHQUV6QixPQWlCRixTQUErQkEsR0FDN0IsT0FBT0EsRUFDSnlPLFFBQVF3dEIsRUFBR3FCLFdBQVksSUFDdkI3dUIsUUFBUXd0QixFQUFHc0IsU0FBVSxJQXBCakJDLENBRFB4OUIsRUFRSyxTQUFvQ0EsR0FDekMsT0FBT0EsRUFDSnlPLFFBQVF3dEIsRUFBR3dCLFdBQVksSUFDdkJodkIsUUFBUXd0QixFQUFHeUIsVUFBVyxJQVhmQyxDQUEyQjM5QixJQWxDL0I0OUIsQ0FBa0I3bUMsRUFBYyxTQUNsQ2lKLEVBQVVBLEVBQVE2cUIsT0FDZDdxQixJQUNGQSxFQUFVLEtBQU9BLEVBQVUsTUFjakMsT0FUSUEsSUFDRWpKLEVBQWUsV0FDakI0c0IsR0FBUTVzQixFQUFlLFNBQUksSUFBTThsQyxFQUFhLE1BRWhEbFosR0FBUTNqQixFQUNKakosRUFBZSxXQUNqQjRzQixHQUFRb1osRUFBYyxTQUduQnBaLEVBMENGLE1BQU0wWSxFQUFRLENBQ25CTSxXQUFZLEVBQ1pILGVBQWdCLEVBQ2hCRixXQUFZLEVBQ1pJLFdBQVksS0FHUkcsRUFBYSxJQUNiRSxFQUFjLElBR2RkLEVBQUssQ0FDVGdCLFNBQVUsb0NBQ1ZDLEtBQU0sbUJBQ05PLFdBQVksb0RBQ1pDLFVBQVcsNkRBQ1hKLFdBQVksMENBQ1pDLFNBQVUsNENBQ1ZoQixjQUFlLG9CQUNmTCxlQUFnQixRQUdaTyxFQUFZLEtBQ1pMLEVBQWMsU0FDZEQsRUFBVyxJOzs7Ozs7Ozs7RUMxUGpCLE1BQU0wQixFQUFlLElBQUk5a0MsSUFVbEIsU0FBUytrQyxFQUFxQnhrQyxHQUNuQyxNQUFNcXFCLEVBQU9ycUIsRUFBTUMsWUFDbkIsSUFBS3NrQyxFQUFhM21DLElBQUl5c0IsR0FBTyxDQUMzQmthLEVBQWEza0MsSUFBSXlxQixHQUNqQixNQUFNb2EsRUFBV3prQyxFQUFNYyxXQUFVLEdBQ2pDaEksU0FBU3lCLEtBQUtDLFlBQVlpcUMsSUFTdkIsU0FBU0MsRUFBZ0Ixa0MsR0FDOUIsT0FBT0EsRUFBTWczQixhQXZCaUI7Ozs7Ozs7OztFQ096QixTQUFTMk4sRUFBV2IsRUFBT2w0QixHQUNoQyxPQUFLazRCLEdBR2dCLGlCQUFWQSxJQUNUQSxFQUFRdGlDLEVBQU1zaUMsSUFFWmw0QixHQUNGZzVCLEVBQVlkLEVBQU9sNEIsR0FFZHRLLEVBQVV3aUMsRUFBTyxNQVJmLEdBZUosU0FBU2UsRUFBYzdrQyxHQUk1QixPQUhLQSxFQUFrQixZQUFLQSxFQUFNQyxjQUNoQ0QsRUFBa0IsV0FBSXdCLEVBQU14QixFQUFNQyxjQUU3QkQsRUFBa0IsWUFBSyxLQXFCekIsU0FBUzRrQyxFQUFZbm5DLEVBQU1xbkMsRUFBbUJDLEVBQXVCQyxHQUMxRSxJQUFLdm5DLEVBQ0gsT0FFRixJQUFJd25DLEdBQVksRUFDWmxyQyxFQUFPMEQsRUFBVyxLQUN0QixHQUFJdW5DLEdBQ0VqckMsSUFBU2dwQyxFQUFNQyxXQUFZLENBQzdCLElBQUlrQyxFQUFhem5DLEVBQWUsU0FBRW1zQixNQUFNLEtBQ3BDc2IsSUFFRzlvQyxPQUFPOG9DLFdBQVdBLEVBQVcsSUFBSTk2QixVQUNwQzY2QixHQUFZLElBS2hCbHJDLElBQVNncEMsRUFBTU0sV0FDakJ5QixFQUFrQnJuQyxHQUNUc25DLEdBQ1RockMsSUFBU2dwQyxFQUFNRyxlQUNmNkIsRUFBc0J0bkMsR0FDYjFELElBQVNncEMsRUFBTUssYUFDeEI2QixHQUFZLEdBRWQsSUFBSTNCLEVBQUs3bEMsRUFBWSxNQUNyQixHQUFJNmxDLElBQU8yQixFQUNULElBQUssSUFBc0IvcEMsRUFBbEIvRCxFQUFFLEVBQUdpQixFQUFFa3JDLEVBQUdqc0MsT0FBWUYsRUFBRWlCLElBQU84QyxFQUFFb29DLEVBQUduc0MsSUFBS0EsSUFDaER5dEMsRUFBWTFwQyxFQUFHNHBDLEVBQW1CQyxFQUF1QkMsR0EyRnhELFNBQVNHLEVBQWtCOWEsRUFBTTZELEdBQ3RDLElBQUlrWCxFQUFRLEVBQ1osSUFBSyxJQUFJanVDLEVBQUUrMkIsRUFBTzkxQixFQUFFaXlCLEVBQUtoekIsT0FBUUYsRUFBSWlCLEVBQUdqQixJQUN0QyxHQUFnQixNQUFaa3pCLEVBQUtsekIsR0FDUGl1QyxTQUNLLEdBQWdCLE1BQVovYSxFQUFLbHpCLElBQ0UsS0FBVml1QyxFQUNKLE9BQU9qdUMsRUFJYixPQUFRLEVBZ0RVaUYsT0FBaUIsVUFBS0EsT0FBaUIsU0FBUSxLQXlGNUQsU0FBU2lwQyxFQUFZem9DLEdBQzFCLFFBQWlCdkMsSUFBYixJQUNGLE9BQTZCLEVBQVEsRUFFdkMsUUFBMkJBLElBQXZCdUMsRUFBUTBvQyxXQUEwQixDQUVwQyxNQUFNemdDLEVBQVlqSSxFQUFRd2tCLGFBZFAsYUFlbkIsR0FBSXZjLEVBQ0ZqSSxFQUFRMG9DLFdBQWF6Z0MsTUFDaEIsQ0FDTCxNQUFNMGdDLEVBcUNMLFNBQXlCM29DLEdBQzlCLE1BQU0yb0MsRUFBcUMsYUFBdEIzb0MsRUFBUTZMLFVBQ1csRUFBVTVMLFFBQVE4RCxXQUN0RC9ELEVBQVErRCxXQUNaLEdBQUk0a0MsYUFBd0JDLFFBQVMsQ0FDbkMsTUFBTUMsRUFBZUYsRUFBYXRsQyxZQUFZc3hCLE9BQU8vbUIsTUFBTSxLQUMzRCxHQTdEbUIsY0E2RGZpN0IsRUFBYSxHQUNmLE9BQU9BLEVBQWEsR0FHeEIsTUFBTyxHQS9Da0JDLENBQWdCOW9DLEdBQ2hCLEtBQWpCMm9DLEdBa0VWLFNBQTRCM29DLEdBQzFCLE1BQU0yb0MsRUFBcUMsYUFBdEIzb0MsRUFBUTZMLFVBQ1csRUFBVTVMLFFBQVE4RCxXQUN0RC9ELEVBQVErRCxXQUNaNGtDLEVBQWF4bkMsV0FBV0MsWUFBWXVuQyxHQXBFOUJJLENBQW1CL29DLEdBRXJCQSxFQUFRMG9DLFdBQWFDLEdBR3pCLE9BQU8zb0MsRUFBUTBvQyxZQUFjLEdBa0J4QixTQUFTTSxFQUFtQmhwQyxHQUNqQyxNQUFnQyxLQUF6QnlvQyxFQUFZem9DLEc7Ozs7Ozs7OztFQ2xTckIsTUFBTWlwQyxFQUFtQixRQUNuQkMsRUFBa0IsOEJBQ2xCQyxFQUFZLGdCQXlCbEIsTUFBTUMsRUFDSixjQUVFM2pDLEtBQUs0akMsS0FBTyxHQU1kLElBQUk5ckMsRUFBTTRKLEdBQ1I1SixFQUFPQSxFQUFLbzNCLE9BQ1psdkIsS0FBSzRqQyxLQUFLOXJDLEdBQVEsQ0FDaEI2SixXQUFZRCxFQUNabWlDLFdBQVksSUFPaEIsSUFBSS9yQyxHQUVGLE9BREFBLEVBQU9BLEVBQUtvM0IsT0FDTGx2QixLQUFLNGpDLEtBQUs5ckMsSUFBUyxNQVE5QixJQUFJZ3NDLEVBQWtCLEtBR3RCLE1BQU0sRUFDSixjQUVFOWpDLEtBQUsrakMsZ0JBQWtCLEtBRXZCL2pDLEtBQUtna0MsZ0JBQWtCLEtBQ3ZCaGtDLEtBQUs0akMsS0FBTyxJQUFJRCxFQU9sQixZQUFZdC9CLEdBQ1YsT0FBTyxZQUFZQSxHQVFyQixhQUFhaEssR0FDWCxNQUFNNHBDLEVEZ0hILFNBQXlCMXBDLEdBRTlCLE1BQU0ycEMsRUFBaUIsR0FDakIxbUMsRUFBcURqRCxFQUFRa0QsaUJBQWlCLFNBQ3BGLElBQUssSUFBSTNJLEVBQUksRUFBR0EsRUFBSTBJLEVBQU94SSxPQUFRRixJQUFLLENBQ3RDLE1BQU02SSxFQUFRSCxFQUFPMUksR0FDakJ1dEMsRUFBZ0Ixa0MsR0FDYixNQUNId2tDLEVBQXFCeGtDLEdBQ3JCQSxFQUFNakMsV0FBV0MsWUFBWWdDLEtBRy9CdW1DLEVBQWU1dUMsS0FBS3FJLEVBQU1DLGFBQzFCRCxFQUFNakMsV0FBV0MsWUFBWWdDLElBR2pDLE9BQU91bUMsRUFBZWxuQyxLQUFLLElBQUlreUIsT0NoSVhpVixDQUFnQjlwQyxFQUFTRyxTQUMzQyxHQUFJeXBDLEVBQVcsQ0FDYixNQUFNdG1DLEVBQXlDbEgsU0FBU0MsY0FBYyxTQUd0RSxPQUZBaUgsRUFBTUMsWUFBY3FtQyxFQUNwQjVwQyxFQUFTRyxRQUFRNEQsYUFBYVQsRUFBT3RELEVBQVNHLFFBQVE4RCxZQUMvQ1gsRUFFVCxPQUFPLEtBT1Qsa0JBQWtCdEQsRUFBVStqQixRQUNNcG1CLElBQTVCcUMsRUFBUytwQyxpQkFDWC9wQyxFQUFTK3BDLGVBQWlCcGtDLEtBQUtxa0MsYUFBYWhxQyxJQUc5QyxNQUFNc0QsRUFBUXRELEVBQVMrcEMsZUFDdkIsT0FBT3ptQyxFQUFRcUMsS0FBS3NrQyxlQUFlM21DLEVBQU95Z0IsR0FBZSxLQU8zRCxlQUFlemdCLEVBQU95Z0IsRUFBYyxJQUNsQyxJQUFJbW1CLEVBQU0vQixFQUFjN2tDLEdBR3hCLE9BRkFxQyxLQUFLd2tDLGVBQWVELEVBQUtubUIsR0FDekJ6Z0IsRUFBTUMsWUFBYzBrQyxFQUFVaUMsR0FDdkJBLEVBTVQscUJBQXFCNW1DLEdBQ25CLElBQUk0bUMsRUFBTS9CLEVBQWM3a0MsR0FReEIsT0FQQTRrQyxFQUFZZ0MsRUFBTUUsSUFDUyxVQUFyQkEsRUFBZSxXQUNqQkEsRUFBZSxTQUFJLFFBRXJCemtDLEtBQUswa0MsY0FBY0QsS0FFckI5bUMsRUFBTUMsWUFBYzBrQyxFQUFVaUMsR0FDdkJBLEVBTVQsZUFBZTlDLEVBQU9yakIsR0FDcEJwZSxLQUFLK2pDLGdCQUFrQjNsQixFQUN2Qm1rQixFQUFZZCxFQUFRNW9DLElBQ2xCbUgsS0FBSzBrQyxjQUFjN3JDLEtBRXJCbUgsS0FBSytqQyxnQkFBa0IsS0FLekIsY0FBY1UsR0FDWkEsRUFBYyxRQUFJemtDLEtBQUsya0MsaUJBQWlCRixFQUFvQixjQUFHQSxHQUl0QyxVQUFyQkEsRUFBZSxXQUNqQkEsRUFBZSxTQUFJLGFBUXZCLGlCQUFpQnBnQyxFQUFTb2dDLEdBS3hCLE9BSEFwZ0MsRUFBVUEsRUFBUXlPLFFBQVEsSUFBWSxDQUFDOHhCLEVBQVdDLEVBQWNDLEVBQWVDLElBQzdFL2tDLEtBQUtnbEMsc0JBQXNCSixFQUFXQyxFQUFjQyxFQUFlQyxFQUFZTixJQUUxRXprQyxLQUFLaWxDLHNCQUFzQjVnQyxFQUFTb2dDLEdBTTdDLDRCQUE0Qi9xQyxHQU8xQixPQU5Lc0csS0FBS2drQyxrQkFDUmhrQyxLQUFLZ2tDLGdCQUFpRHZ0QyxTQUFTQyxjQUFjLFFBQzdFc0osS0FBS2drQyxnQkFBZ0JsdEMsYUFBYSxxQkFBc0IsSUFDeERrSixLQUFLZ2tDLGdCQUFnQnJtQyxNQUFNdkYsSUFBTSxVQUNqQzNCLFNBQVN5QixLQUFLQyxZQUFZNkgsS0FBS2drQyxrQkFFMUJqcUMsT0FBT2kxQixpQkFBaUJodkIsS0FBS2drQyxpQkFBaUIvVSxpQkFBaUJ2MUIsR0FReEUsNEJBQTRCd3JDLEdBRTFCLElBQUlDLEVBQVVELEVBQ2QsS0FBT0MsRUFBZ0IsUUFDckJBLEVBQVVBLEVBQWdCLE9BRTVCLE1BQU1DLEVBQVksR0FDbEIsSUFBSUMsR0FBZ0IsRUFlcEIsT0FkQTlDLEVBQVk0QyxFQUFVdHNDLElBRXBCd3NDLEVBQWdCQSxHQUFpQnhzQyxJQUFNcXNDLEVBQ25DRyxHQU9BeHNDLEVBQVksV0FBTXFzQyxFQUFvQixVQUN4Q2p3QyxPQUFPZ1MsT0FBT20rQixFQUFXcGxDLEtBQUtzbEMsY0FBY3pzQyxFQUFpQixrQkFHMUR1c0MsRUFRVCxzQkFBc0JwZCxFQUFNeWMsR0FFMUIsSUFBSXBzQyxFQUFJLEtBRVIsS0FBT0EsRUFBSSxJQUFZaXFCLEtBQUswRixJQUFRLENBQ2xDLElBQUk0YyxFQUFZdnNDLEVBQUUsR0FDZGt0QyxFQUFZbHRDLEVBQUUsR0FDZHdNLEVBQU14TSxFQUFFbUQsTUFHUmdxQyxFQUFXM2dDLEVBQU0rL0IsRUFBVXI5QixRQUFRLFVBQ25DaytCLEVBQWdCNWdDLEVBQU0rL0IsRUFBVTV2QyxPQUVoQzB3QyxFQUFrQjFkLEVBQUsvdEIsTUFBTSxFQUFHdXJDLEdBQ2hDRyxFQUFpQjNkLEVBQUsvdEIsTUFBTXdyQyxHQUM1QkcsRUFBV25CLEVBQU96a0MsS0FBSzZsQyw0QkFBNEJwQixHQUFRLEdBQy9EeHZDLE9BQU9nUyxPQUFPMitCLEVBQVU1bEMsS0FBS3NsQyxjQUFjSSxJQUMzQyxJQUFJSSxFQUFjOWxDLEtBQUsrbEMsd0JBQXdCUixFQUFXSyxHQUUxRDVkLEVBQU8sR0FBRzBkLElBQWtCSSxJQUFjSCxJQUUxQyxJQUFZbGpCLFVBQVk1ZCxFQUFNaWhDLEVBQVk5d0MsT0FFNUMsT0FBT2d6QixFQVlULHdCQUF3QnVkLEVBQVdILEdBQ2pDRyxFQUFZQSxFQUFVenlCLFFBQVEwd0IsRUFBa0IsSUFDaEQsSUFBSXdDLEVBQU8sR0FDUEMsRUFBYWptQyxLQUFLNGpDLEtBQUtockMsSUFBSTJzQyxHQU8vQixHQUpLVSxJQUNIam1DLEtBQUs0akMsS0FBSzltQyxJQUFJeW9DLEVBQVcsSUFDekJVLEVBQWFqbUMsS0FBSzRqQyxLQUFLaHJDLElBQUkyc0MsSUFFekJVLEVBQVksQ0FJZCxJQUFJanZDLEVBQUd5RCxFQUFPaTBCLEVBSFYxdUIsS0FBSytqQyxrQkFDUGtDLEVBQVdwQyxXQUFXN2pDLEtBQUsrakMsa0JBQW1CLEdBR2hELE1BQU1waUMsRUFBYXNrQyxFQUFXdGtDLFdBQzlCLElBQUszSyxLQUFLMkssRUFDUitzQixFQUFJMFcsR0FBYUEsRUFBVXB1QyxHQUMzQnlELEVBQVEsQ0FBQ3pELEVBQUcsU0FBVXV1QyxFQXRRUixNQXNRa0N2dUMsR0FDNUMwM0IsR0FDRmowQixFQUFNbkYsS0FBSyxJQUFLbzVCLEVBQUU1YixRQUFRNHdCLEVBQVcsS0FFdkNqcEMsRUFBTW5GLEtBQUssS0FDUG91QyxFQUFVblgsS0FBSzVxQixFQUFXM0ssS0FDNUJ5RCxFQUFNbkYsS0FBSyxlQUViMHdDLEVBQUsxd0MsS0FBS21GLEVBQU11QyxLQUFLLEtBR3pCLE9BQU9ncEMsRUFBS2hwQyxLQUFLLE1BUW5CLHlCQUF5QnRELEVBQVVWLEdBQ2pDLElBQUl1dUIsRUFBUWtjLEVBQWdCbmhCLEtBQUt0cEIsR0FlakMsT0FkSXV1QixJQUlBdnVCLEVBSEV1dUIsRUFBTSxHQUdBdm5CLEtBQUtrbUMsNEJBQTRCeHNDLEdBT2pDLHNCQUdMVixFQVVULGNBQWNndkIsRUFBTW1lLEdBQTBCLEdBQzVDLElBQ0l6c0MsRUFBVVYsRUFEVjBJLEVBQVFzbUIsRUFBSzdmLE1BQU0sS0FFbkJpK0IsRUFBTSxHQUNWLElBQUssSUFBV3B2QyxFQUFHcXZDLEVBQVZ2eEMsRUFBSSxFQUFVQSxFQUFJNE0sRUFBTTFNLE9BQVFGLElBQ3ZDa0MsRUFBSTBLLEVBQU01TSxHQUNOa0MsSUFDRnF2QyxFQUFLcnZDLEVBQUVtUixNQUFNLEtBRVRrK0IsRUFBR3J4QyxPQUFTLElBQ2QwRSxFQUFXMnNDLEVBQUcsR0FBR25YLE9BRWpCbDJCLEVBQVFxdEMsRUFBR3BzQyxNQUFNLEdBQUcrQyxLQUFLLEtBQ3JCbXBDLElBQ0ZudEMsRUFBUWdILEtBQUtzbUMseUJBQXlCNXNDLEVBQVVWLElBRWxEb3RDLEVBQUkxc0MsR0FBWVYsSUFJdEIsT0FBT290QyxFQU1ULHNCQUFzQkgsR0FDcEIsR0FBS25DLEVBR0wsSUFBSyxJQUFJMWxCLEtBQWU2bkIsRUFBV3BDLFdBQzdCemxCLElBQWdCcGUsS0FBSytqQyxpQkFDdkJELEVBQWdCMWxCLEdBYXRCLHNCQUFzQndtQixFQUFXQyxFQUFjQyxFQUFlQyxFQUFZTixHQVV4RSxHQVJJSyxHRDdPRCxTQUFTeUIsRUFBMkJDLEVBQUtqOUIsR0FFOUMsSUFBSXNpQixFQUFRMmEsRUFBSWovQixRQUFRLFFBQ3hCLElBQWUsSUFBWHNrQixFQUVGLE9BQU90aUIsRUFBU2k5QixFQUFLLEdBQUksR0FBSSxJQUcvQixJQUFJMWEsRUFBTWdYLEVBQWtCMEQsRUFBSzNhLEVBQVEsR0FDckM0YSxFQUFRRCxFQUFJcnhCLFVBQVUwVyxFQUFRLEVBQUdDLEdBQ2pDc0IsRUFBU29aLEVBQUlyeEIsVUFBVSxFQUFHMFcsR0FFMUI2YSxFQUFTSCxFQUEyQkMsRUFBSXJ4QixVQUFVMlcsRUFBTSxHQUFJdmlCLEdBQzVEbzlCLEVBQVFGLEVBQU1sL0IsUUFBUSxLQUUxQixPQUFlLElBQVhvL0IsRUFFS3A5QixFQUFTNmpCLEVBQVFxWixFQUFNdlgsT0FBUSxHQUFJd1gsR0FLckNuOUIsRUFBUzZqQixFQUZKcVosRUFBTXR4QixVQUFVLEVBQUd3eEIsR0FBT3pYLE9BQ3ZCdVgsRUFBTXR4QixVQUFVd3hCLEVBQVEsR0FBR3pYLE9BQ0R3WCxHQ3lOckNILENBQTJCekIsRUFBZSxDQUFDMVgsRUFBUXAwQixLQUM3Q0EsR0FBU2dILEtBQUs0akMsS0FBS2hyQyxJQUFJSSxLQUN6QityQyxFQUFhLFVBQVUvckMsU0FJeEIrckMsRUFDSCxPQUFPSCxFQUVULElBQUlnQyxFQUFvQjVtQyxLQUFLaWxDLHNCQUFzQixHQUFLRixFQUFZTixHQUNoRXJYLEVBQVN3WCxFQUFVM3FDLE1BQU0sRUFBRzJxQyxFQUFVcjlCLFFBQVEsT0FJOUNzL0IsRUFBYzdtQyxLQUFLc2xDLGNBQWNzQixHQUFtQixHQUNwREUsRUFBZ0JELEVBQ2hCWixFQUFham1DLEtBQUs0akMsS0FBS2hyQyxJQUFJaXNDLEdBQzNCdE8sRUFBVzBQLEdBQWNBLEVBQVd0a0MsV0FDcEM0MEIsRUFHRnVRLEVBQWdCN3hDLE9BQU9nUyxPQUFPaFMsT0FBT29FLE9BQU9rOUIsR0FBV3NRLEdBRXZEN21DLEtBQUs0akMsS0FBSzltQyxJQUFJK25DLEVBQWNpQyxHQUU5QixJQUNJOXZDLEVBQUcySixFQURIeWxDLEVBQU0sR0FHTlcsR0FBbUIsRUFDdkIsSUFBSy92QyxLQUFLOHZDLEVBQ1JubUMsRUFBSWttQyxFQUFZN3ZDLFFBRU5nQixJQUFOMkksSUFDRkEsRUFBSSxXQUVGNDFCLEtBQWN2L0IsS0FBS3UvQixLQUNyQndRLEdBQW1CLEdBRXJCWCxFQUFJOXdDLEtBQUssR0FBR3V2QyxPQUErQjd0QyxNQUFNMkosS0FxQm5ELE9BbkJJb21DLEdBQ0YvbUMsS0FBS2duQyxzQkFBc0JmLEdBRXpCQSxJQUNGQSxFQUFXdGtDLFdBQWFtbEMsR0FZdEJoQyxJQUNGMVgsRUFBUyxHQUFHd1gsS0FBYXhYLEtBRXBCLEdBQUdBLElBQVNnWixFQUFJcHBDLEtBQUssVUFNaEMsRUFBVTlILFVBQXVCLFlBQUksRUFBVUEsVUFBVWk2QixZQUN6RCxFQUFVajZCLFVBQTBCLGVBQUksRUFBVUEsVUFBVW92QyxlQUM1RCxFQUFVcHZDLFVBQWdDLHFCQUFJLEVBQVVBLFVBQVUreEMscUJBQ2xFLEVBQVUveEMsVUFBMEIsZUFBSSxFQUFVQSxVQUFVc3ZDLGVBQzVELEVBQVV0dkMsVUFBeUIsY0FBSSxFQUFVQSxVQUFVd3ZDLGNBQzNELEVBQVV4dkMsVUFBNkIsa0JBQUksRUFBVUEsVUFBVWd5QyxrQkFDL0QsRUFBVWh5QyxVQUFzQixXQTNhVixNQTZhdEJELE9BQU95RCxlQUFlLEVBQVV4RCxVQUFXLGtCQUFtQixDQUU1RDBELElBQUcsSUFDTWtyQyxFQUdULElBQUluZCxHQUNGbWQsRUFBa0JuZCxLQUlQOzs7Ozs7Ozs7RUM1ZkEsTUFESzs7Ozs7Ozs7O0VDT3BCLE1BQU13Z0IsRUFBa0IsMkJBR2xCQyxFQUFlLHdCQVFmanhDLEVBQVVDLFFBQVFDLFVBS2pCLFNBQVNneEMsRUFBV2pwQixHQUN6QixJQUFJL2pCLEVBQVcsRUFBWStqQixHQUN2Qi9qQixHQWNDLFNBQTRCQSxHQUVqQ0EsRUFBUzhzQyxHQUFtQjlzQyxFQUFTOHNDLElBQW9CLEVBRXpEOXNDLEVBQTJCLDRCQUFJQSxFQUEyQiw2QkFBSyxFQUUvREEsRUFBUytzQyxJQUFpQi9zQyxFQUFTK3NDLElBQWlCLEdBQUssRUFuQnZERSxDQUFtQmp0QyxHQXNDaEIsU0FBU2t0QyxFQUFnQmx0QyxHQUM5QixPQUFPQSxFQUFTOHNDLEtBQXFCOXNDLEVBQVMrc0MsR0FxQnpDLFNBQVNJLEVBQXFCbnRDLEdBQ25DLE9BQVFrdEMsRUFBZ0JsdEMsSUFBYUEsRUFBMkIsOEJBQU1BLEVBQVMrc0MsR0FxQjFFLFNBQVNLLEVBQXdCcHRDLEdBRXRDQSxFQUEyQiw0QkFBSUEsRUFBUytzQyxHQUVuQy9zQyxFQUFTcXRDLGNBQ1pydEMsRUFBU3F0QyxhQUFjLEVBQ3ZCdnhDLEVBQVF3eEMsTUFBSyxXQUVYdHRDLEVBQVM4c0MsR0FBbUI5c0MsRUFBUytzQyxHQUNyQy9zQyxFQUFTcXRDLGFBQWMsTTs7Ozs7Ozs7O0VDL0c3QixNQUFNRSxFQUFZLElBQUksRUFFdEIsTUFBTSxFQUNKLGNBRUU1bkMsS0FBS21lLHFCQUF1QixLQUM1QnlwQixFQUEyQixnQkFBSSxFQUVqQyxTQUNNNW5DLEtBQUttZSxzQkFHTHBrQixPQUFPb0MsU0FBU3dpQix1QkFDbEIzZSxLQUFLbWUscUJBRUdwa0IsT0FBT29DLFNBQTZCLHFCQUM1QzZELEtBQUttZSxxQkFBd0Msa0JBQUt4Z0IsSUFDaERpcUMsRUFBVVgscUJBQXFCdHBDLElBRWpDcUMsS0FBS21lLHFCQUF1QyxpQkFBSSxLQUM5Q2hGLHNCQUFzQixLQUNoQm5aLEtBQUttZSxxQkFBK0IsVUFDdENuZSxLQUFLNm5DLHdCQVVmLGdCQUFnQnh0QyxFQUFVK2pCLEdBRXhCLEdBREFwZSxLQUFLOG5DLFNBQ0R2RSxFQUFtQmxwQyxHQUNyQixPQUVGLEVBQVkrakIsR0FBZS9qQixFQUMzQixJQUFJa3FDLEVBQU1xRCxFQUFVVixrQkFBa0I3c0MsRUFBVStqQixHQUVoRC9qQixFQUFvQixVQUFJa3FDLEVBRTFCLG9CQUVFLEdBREF2a0MsS0FBSzhuQyxVQUNBOW5DLEtBQUttZSxxQkFDUixPQUVGLElBQUkzZ0IsRUFBU3dDLEtBQUttZSxxQkFBb0MsZ0JBQ3RELEdBQUtuZSxLQUFLbWUscUJBQStCLFNBQXpDLENBR0EsSUFBSyxJQUFJcnBCLEVBQUksRUFBR0EsRUFBSTBJLEVBQU94SSxPQUFRRixJQUFNLENBQ3ZDLElBQUlpekMsRUFBS3ZxQyxFQUFPMUksR0FDWjZJLEVBQVFxQyxLQUFLbWUscUJBQTZDLHVCQUFFNHBCLEdBQzVEcHFDLEdBQ0ZpcUMsRUFBVVgscUJBQXFCdHBDLEdBR25DcUMsS0FBS21lLHFCQUErQixVQUFJLEdBTTFDLGFBQWE1akIsRUFBU29ILEdBS3BCLEdBSkEzQixLQUFLOG5DLFNBQ0RubUMsR0FDRixZQUF1QnBILEVBQVNvSCxHQUU5QnBILEVBQVEya0IsV0FBWSxDQUN0QmxmLEtBQUt1RyxhQUFhaE0sR0FDbEIsSUFBSXl0QyxFQUM0Qnp0QyxFQUFrQixXQUFFNFAsVUFDaEQ1UCxFQUFRMmtCLFdBQVcvVixXQUN2QixJQUFLLElBQUlyVSxFQUFJLEVBQUdBLEVBQUlrekMsRUFBZWh6QyxPQUFRRixJQUN6Q2tMLEtBQUtxekIsYUFBd0MyVSxFQUFlbHpDLFFBRXpELENBQ0wsSUFBSXFWLEVBQVc1UCxFQUFRNFAsVUFBWTVQLEVBQVE0TyxXQUMzQyxJQUFLLElBQUlyVSxFQUFJLEVBQUdBLEVBQUlxVixFQUFTblYsT0FBUUYsSUFDbkNrTCxLQUFLcXpCLGFBQXdDbHBCLEVBQVNyVixLQU81RCxhQUFheUYsR0FDWHlGLEtBQUs4bkMsU0FDTCxJQUFJLEdBQUNoc0IsR0owSUYsU0FBc0J2aEIsR0FDM0IsSUFBSTZMLEVBQVk3TCxFQUFtQixVQUMvQnVoQixFQUFLLEdBQUltc0IsRUFBZ0IsR0FnQjdCLE9BWEk3aEMsRUFDRUEsRUFBVW1CLFFBQVEsTUFBUSxFQUM1QnVVLEVBQUsxVixHQUVMNmhDLEVBQWdCN2hDLEVBQ2hCMFYsRUFBTXZoQixFQUFRd2tCLGNBQWdCeGtCLEVBQVF3a0IsYUFBYSxPQUFVLEtBRy9EakQsRUFBcUIsRUFBVUEsR0FDL0Jtc0IsRUFBZ0MsRUFBVUMsU0FFckMsQ0FBQ3BzQixLQUFJbXNCLGlCSTVKQ0UsQ0FBYTV0QyxHQUNwQkYsRUFBVyxFQUFZeWhCLEdBQzNCLEtBQUl6aEIsSUFBWWtwQyxFQUFtQmxwQyxLQUcvQkEsSUFBYSxFQUErQkEsR0FBVyxDQUVwRCxFQUFvQ0EsS0FDdkMyRixLQUFLZ3pCLGdCQUFnQjM0QixFQUFVeWhCLEdBQy9CLEVBQXVDemhCLElBR3pDLElBQUltTixFQUFPak4sRUFBUTJrQixXQUNuQixHQUFJMVgsRUFBTSxDQUNSLElBQUk3SixFQUF3QzZKLEVBQUtoSixjQUFjLFNBQzNEYixJQUVGQSxFQUFrQixXQUFJdEQsRUFBb0IsVUFDMUNzRCxFQUFNQyxZQUFjMGtDLEVBQVVqb0MsRUFBb0IsY0FRMUQsY0FBY3NILEdBQ1ozQixLQUFLOG5DLFNBQ0w5bkMsS0FBS3F6QixhQUFhNThCLFNBQVM4bkIsS0FBTTVjLElBSXJDLElBQUs1SCxPQUFPb0MsV0FBYXBDLE9BQU9vQyxTQUFTK0osWUFBYSxDQUNwRCxNQUFNa2lDLEVBQXFCLElBQUksRUFDL0IsSUFBSXpwQixFQUF1QjVrQixPQUFPb0MsVUFBWXBDLE9BQU9vQyxTQUFTd2lCLHFCQUc5RDVrQixPQUFPb0MsU0FBVyxDQU1oQixnQkFBZ0I5QixFQUFVK2pCLEVBQWFDLEdBQ3JDK3BCLEVBQW1CUCxvQkFDbkJPLEVBQW1CcFYsZ0JBQWdCMzRCLEVBQVUrakIsSUFRL0Msc0JBQXNCL2pCLEVBQVUrakIsRUFBYUMsR0FDM0N0a0IsT0FBT29DLFNBQVM2MkIsZ0JBQWdCMzRCLEVBQVUrakIsRUFBYUMsSUFPekQsbUJBQW1CaGtCLEVBQVUrakIsS0FNN0IsYUFBYTdqQixFQUFTb0gsR0FDcEJ5bUMsRUFBbUJQLG9CQUNuQk8sRUFBbUIvVSxhQUFhOTRCLEVBQVNvSCxJQU0zQyxhQUFhcEgsR0FDWDZ0QyxFQUFtQlAsb0JBQ25CTyxFQUFtQjdoQyxhQUFhaE0sSUFNbEMsY0FBY29ILEdBQ1p5bUMsRUFBbUJQLG9CQUNuQk8sRUFBbUJDLGNBQWMxbUMsSUFRbkM2YyxzQkFBcUIsQ0FBQ2prQixFQUFTYixJQUN0QixZQUFzQmEsRUFBU2IsR0FHeEMsb0JBQ0UwdUMsRUFBbUJQLHFCQUdyQjM0QixVQUFXLElBQ1gzUSxhQUFjLElBQ2RrZ0IsU0FBVSxJQUNWQyxlQUFnQixLQUdkQyxJQUNGNWtCLE9BQU9vQyxTQUFTd2lCLHFCQUF1QkEsR0FJM0M1a0IsT0FBT29DLFNBQVNtc0MsVUFBWVYsRTs7Ozs7Ozs7Ozs7O0FDL001QixNQUFNVyxFQUFXLDhCQUdYQyxFQUFTLHdDQUdUQyxFQUFZLHNCQUVaQyxFQUFjM3BDLFFBQVFoRixPQUFpQixVQUFLQSxPQUFpQixTQUFTLE9BS3RFNHVDLEVBQWdCLEdBR3RCLElBQUk1eUIsRUFBVyxLQUVYNnlCLEVBQWUsR0FFbkIsU0FBU0MsSUFDUEQsRUFBZW55QyxTQUFTcXlDLGdCQUFnQi9wQixhQUFhLE9BTXZELFNBQVNncUIsR0FBT2x0QixHQUNkLElBQUtBLEVBQVNtdEIsZ0JBQWlCLENBQ1MsRUFDbkNseUMsYUFBYSxNQUFPOHhDLElBSTNCLFNBQVNLLEtBQ1BKLElBQ0FELEVBQWVueUMsU0FBU3F5QyxnQkFBZ0IvcEIsYUFBYSxPQUNyRCxJQUFLLElBQUlqcUIsRUFBSSxFQUFHQSxFQUFJNnpDLEVBQWMzekMsT0FBUUYsSUFDeENpMEMsR0FBT0osRUFBYzd6QyxJQWlDbEIsTUFBTW8wQyxHQUFXLFlBQWV2aEMsSUFFaEMrZ0MsR0FDRTN5QixJQUNIOHlCLElBQ0E5eUIsRUFBVyxJQUFJdkwsaUJBQWlCeStCLElBQ2hDbHpCLEVBQVN0TCxRQUFRaFUsU0FBU3F5QyxnQkFBaUIsQ0FBQ3JvQyxZQUFZLEVBQU0wb0MsZ0JBQWlCLENBQUMsVUFTcEYsTUFBTTFzQixFQUFjLFlBQWtCOVUsR0FPdEMsTUFBTXloQyxVQUFZM3NCLEVBUWhCLHlCQUF5QnBZLEVBQVNnTCxHQU1oQyxPQUxBaEwsRUFBVXRFLE1BQU04eUIsa0JBQWtCeHVCLEVBQVNnTCxJQUN0Q3E1QixHQUFlRCxFQUFVbGMsS0FBS2xvQixLQUNqQ0EsRUFBVXJFLEtBQUtxcEMscUJBQXFCaGxDLEdBQ3BDckUsS0FBS3NwQyxlQUFnQixHQUVoQmpsQyxFQVNULDRCQUE0QjJqQixHQUMxQixJQUFJdWhCLEVBQWV2aEIsRUFHbkIsT0FGQXVoQixFQUFlQSxFQUFhejJCLFFBQVF5MUIsRUFySGQscUJBc0h0QmdCLEVBQWVBLEVBQWF6MkIsUUFBUTAxQixFQW5IaEIsd0JBb0hiZSxFQUdULGNBQ0V4cEMsUUFFQUMsS0FBS2dwQyxpQkFBa0IsRUFTekIsUUFDRWpwQyxNQUFNMmpCLFFBQ04xakIsS0FBS2dwQyxnQkFBNkMsS0FBT3JVLGFBQWEsT0FTeEUsb0JBQ01sWSxFQUFZdm5CLFVBQVVtUixtQkFDeEJ0RyxNQUFNc0csb0JBRUpyRyxLQUFLb0MsWUFBWWtuQyxnQkEzR3JCdnpCLEdBQVlBLEVBQVMzSyxjQUFjcFcsUUFDckNpMEMsS0E0R0lOLEVBQWNyekMsS0FBSzBLLE1BQ25CK29DLEdBQU8vb0MsT0FVWCx1QkFJRSxHQUhJeWMsRUFBWXZuQixVQUFVK2lCLHNCQUN4QmxZLE1BQU1rWSx1QkFFSmpZLEtBQUtvQyxZQUFZa25DLGNBQWUsQ0FDbEMsTUFBTXprQyxFQUFNOGpDLEVBQWNwaEMsUUFBUXZILE1BQzlCNkUsR0FBTyxHQUNUOGpDLEVBQWMzdEIsT0FBT25XLEVBQUssS0FRbEMsT0FGQXVrQyxFQUFJRSxlQUFnQixFQUViRixJOzs7Ozs7Ozs7RUN2TFQsU0FBUy95QyxLQUNQSSxTQUFTOG5CLEtBQUs3YixnQkFBZ0IsY0FHSixnQkFBeEJqTSxTQUFTK3lDLFlBQXdELGFBQXhCL3lDLFNBQVMreUMsV0FDcERuekMsS0FFQTBELE9BQU82UixpQkFBaUIsbUJBQW9CdlYsSTs7Ozs7Ozs7OztBQ005QyxJQUFJb3pDLEdBQWlCMXZDLE9BQU9vQyxTQWdCckIsTUFBTXV0QyxHQUFxQixZQUFlL2hDLElBUy9DLE1BQU1naUMsRUFBb0JULEdBQVMsWUFBc0IsWUFBYXZoQyxLQU1oRWlpQyxFQUFnQixDQUNwQixFQUFLLFFBQ0wsRUFBSyxRQUNMLEtBQVEsT0FDUixJQUFPLFFBVVQsTUFBTUMsVUFBc0JGLEVBRTFCLGNBQ0U1cEMsUUFFQUMsS0FBSzhwQyxXQUVMOXBDLEtBQUsrcEMsaUJBRUwvcEMsS0FBS2dxQyxZQVdQLHdCQUNFLE9BQU9ocUMsS0FBSzlLLFVBQVU2OEIsV0FTeEIsV0FRQSxvQkFDRWh5QixNQUFNc0csb0JBQ05yRyxLQUFLOHBDLFlBQWEsRUFDbEI5cEMsS0FBS3dqQixXQVNQLFlBUUEsdUJBQ0V6akIsTUFBTWtZLHVCQUNOalksS0FBSzhwQyxZQUFhLEVBQ2xCOXBDLEtBQUt5akIsV0FTUCxZQVlBLHlCQUF5QjNyQixFQUFNdUgsRUFBS3JHLEVBQU8ybUMsR0FDckN0Z0MsSUFBUXJHLElBQ1YrRyxNQUFNa3FDLHlCQUF5Qm55QyxFQUFNdUgsRUFBS3JHLEVBQU8ybUMsR0FDakQzL0IsS0FBSzhqQixpQkFBaUJoc0IsRUFBTXVILEVBQUtyRyxJQWFyQyxpQkFBaUJsQixFQUFNdUgsRUFBS3JHLElBVzVCLHdCQUNFLElBQUl1VSxFQUFRdFksT0FBTytMLGVBQWVoQixNQUM3QnVOLEVBQU1wWSxlQUFlLDJCQUN4QjZLLEtBQUswbEIsY0FFTG5ZLEVBQU1rWSx1QkFBd0IsR0FFaEMxbEIsTUFBTTJ3Qix3QkFDTjF3QixLQUFLd0gsS0FBaUMsS0FDdEN4SCxLQUFLMmpCLFVBS0wzakIsS0FBSzRsQixrQkFZUCxlQVNBLFFBQ0U1bEIsS0FBSytsQixvQkFDTGhtQixNQUFNMmpCLFFBZVIscUJBY0EsbUJBZUEsVUFBVTFxQixHQUNSLE9BQU9nSCxLQUFLa3FDLGdCQUFnQmx4QyxHQWlCOUIsWUFBWUEsRUFBT3RCLEdBQ2pCLE9BQU9zSSxLQUFLbXFDLGtCQUFrQm54QyxFQUFPdEIsR0FldkMsMkJBQTJCZ0MsRUFBVTZGLEVBQVd2RyxHQUM5Q2dILEtBQUsrRCxxQkFBcUJySyxFQUFVNkYsRUFBV3ZHLEdBZWpELDBCQUEwQkEsRUFBT3VHLEVBQVduRSxHQUMxQzRFLEtBQUtxNUIsc0JBQThDaitCLEdBQVE0RSxLQUFPaEgsRUFBT3VHLEdBWTNFLE9BQU9ySyxFQUFXazFDLEdBQ2hCLElBQU1sMUMsSUFBYWsxQyxFQUNqQixPQUFPbDFDLEdBQWFrMUMsRUFFdEIsSUFBSUMsRUFBS3AxQyxPQUFPNE0sb0JBQW9CdW9DLEdBQ3BDLElBQUssSUFBUzV3QyxFQUFMMUUsRUFBRSxFQUFPQSxFQUFFdTFDLEVBQUdyMUMsU0FBWXdFLEVBQUU2d0MsRUFBR3YxQyxJQUFLQSxJQUFLLENBQ2hELElBQUk4dkIsRUFBSzN2QixPQUFPNHZCLHlCQUF5QnVsQixFQUFLNXdDLEdBQzFDb3JCLEdBQ0YzdkIsT0FBT3lELGVBQWV4RCxFQUFXc0UsRUFBR29yQixHQUd4QyxPQUFPMXZCLEVBZVQsTUFBTTBDLEVBQVE2c0IsR0FDWixJQUFLLElBQUkzdkIsS0FBSzJ2QixFQUNaN3NCLEVBQU85QyxHQUFLMnZCLEVBQU8zdkIsR0FFckIsT0FBTzhDLEVBZVQsWUFBWTZCLEVBQVF2RSxHQUlsQixPQUhJdUUsR0FBVXZFLEdBQWF1RSxJQUFXdkUsSUFDcEN1RSxFQUFPNndDLFVBQVlwMUMsR0FFZHVFLEVBZVQsaUJBQWlCWSxHQUNmLElBQUlHLEVBQVV3RixLQUFLb0MsWUFBWW1vQyxvQkFBb0Jsd0MsR0FHbkQsT0FERzVELFNBQVNxVyxXQUFXdFMsR0FBUyxHQXVCbEMsS0FBSzlDLEVBQU0ybkIsRUFBUW5lLEdBQ2pCQSxFQUFVQSxHQUFXLEdBQ3JCbWUsRUFBUyxNQUFDQSxFQUEyQyxHQUFLQSxFQUMxRCxJQUFJam9CLEVBQVEsSUFBSTRYLE1BQU10WCxFQUFNLENBQzFCeWUsYUFBNkJuZSxJQUFwQmtKLEVBQVFpVixTQUErQmpWLEVBQVFpVixRQUN4RHEwQixXQUFZenJDLFFBQVFtQyxFQUFRc3BDLFlBQzVCcDBCLGNBQStCcGUsSUFBckJrSixFQUFRa1YsVUFBK0JsVixFQUFRa1YsV0FFM0RoZixFQUFNaW9CLE9BQVNBLEVBQ2YsSUFBSWprQixFQUFPOEYsRUFBUTlGLE1BQVE0RSxLQUUzQixPQURBLGFBQUs1RSxHQUFNNmEsY0FBYzdlLEdBQ2xCQSxFQWFULE9BQU9nRSxFQUFNOFcsRUFBV3VHLEdBQ3RCcmQsRUFBb0NBLEdBQVE0RSxLQUM1QyxJQUFJeXFDLEVBQU16cUMsS0FBSytwQyxtQkFDWi9wQyxLQUFLK3BDLGlCQUFtQixJQUFJcHRDLFNBQzNCK3RDLEVBQUtELEVBQUk3eEMsSUFBSXdDLEdBQ1pzdkMsSUFDSEEsRUFBSyxHQUNMRCxFQUFJM3RDLElBQUkxQixFQUFNc3ZDLElBRWhCLElBQUlweEMsRUFBTTRZLEVBQVl1RyxFQUNqQml5QixFQUFHcHhDLEtBQ05veEMsRUFBR3B4QyxHQUFPMEcsS0FBSzZsQiw4QkFDVSxFQUFRM1QsRUFBV3VHLEVBQVl6WSxPQWU1RCxTQUFTNUUsRUFBTThXLEVBQVd1RyxHQUN4QnJkLEVBQW9DQSxHQUFRNEUsS0FDNUMsSUFBSTBxQyxFQUFLMXFDLEtBQUsrcEMsa0JBQ1YvcEMsS0FBSytwQyxpQkFBaUJueEMsSUFBNEIsR0FDbERVLEVBQU00WSxFQUFZdUcsRUFDbEJ0RyxFQUFVdTRCLEdBQU1BLEVBQUdweEMsR0FDbkI2WSxJQUNGblMsS0FBSzJxQyw2QkFDb0IsRUFBUXo0QixFQUFXQyxHQUM1Q3U0QixFQUFHcHhDLEdBQXdCLE1Bb0IvQixtQkFBbUJzeEMsRUFBV3h2QyxHQUM1QixhQUM2QkEsR0FBUTRFLEtBQ2pDNHBDLEVBQWNnQixJQUFjLFFBYWxDLEdBQUdDLEdBRUQsT0FBTzdxQyxLQUFLd0gsS0FBS2hKLGNBQWNxc0MsR0FTakMsY0FDRSxJQUFJcmpDLEVBQU8sYUFBS3hILE1BQU0wTSxjQUN0QixPQUFRbEYsYUFBZ0JzakMsaUJBQThDLEVBQU8xakMsS0FBT0ksRUFVdEYsb0JBQ0UsTUFDTXVqQyxFQUFzQyxZQUFELENBREwsTUFFbENoeEMsT0FBT3FRLFVBQVkyZ0MsRUFBTzdyQixZQUM1QjlVLFNBQVNXLFFBY2IseUJBR0UsT0FENkMsWUFBRCxDQUROLE1BRXhCaUMseUJBYWhCLHlCQUF5QlgsR0FHdkIsT0FENkMsWUFBRCxDQUROLE1BRXhCMitCLHlCQUF5QjMrQixHQVl6Qyx1QkFFRSxPQURXck0sS0FBS2dOLHlCQUNKNEosUUFBTyxTQUE4QnBkLEdBQy9DLE9BQVFBLEVBQUVzQyxXQUFhb1IsS0FBS0MsZ0JBWWhDLDBCQUNFLElBQUk4OUIsRUFBS2pyQyxLQUFLZ04seUJBQ1ZrK0IsRUFBSyxHQUNULElBQUssSUFBUzV5QyxFQUFMeEQsRUFBRSxFQUFPd0QsRUFBSTJ5QyxFQUFHbjJDLEdBQUtBLElBQ3hCd0QsRUFBRXdELFdBQWFvUixLQUFLaStCLGNBQ3RCRCxFQUFHNTFDLEtBQUtnRCxFQUFFc0YsYUFHZCxPQUFPc3RDLEVBQUdsdUMsS0FBSyxJQVdqQix1QkFBdUJxUCxHQUNyQixJQUFJK25CLEVBQUtwMEIsS0FBS2dyQyx5QkFBeUIzK0IsR0FDdkMsT0FBTytuQixHQUFNQSxFQUFHLEdBWWxCLDBCQUEwQi9uQixHQUN4QixPQUFPck0sS0FBS2dyQyx5QkFBeUIzK0IsR0FjdkMscUJBQXFCdytCLEdBRW5CLElBQUlyd0MsRUFBVXdGLEtBQUt3SCxLQUFLaEosY0FBY3FzQyxHQUFTLFFBQy9DLE9BQU9yd0MsRUFDMkIsWUFBRCxDQUFLQSxHQUFVNHdDLHNCQUM1QyxHQW1CTixtQkFBbUJQLEdBSWpCLE9BSG1EN3FDLEtBQUtxckMscUJBQXFCUixHQUFPajBCLFFBQU8sU0FBU3BkLEdBQ2xHLE9BQVFBLEVBQUVzQyxXQUFhb1IsS0FBS0MsZ0JBY2hDLGtCQUFrQi9SLEdBRWhCLE9BRHFDLE9BQ2pCQSxHQUFRLGFBRFMsTUFDTW1SLFNBQVNuUixJQUNsRCxhQUZtQyxNQUVwQnNSLGdCQUFrQixhQUFLdFIsR0FBTXNSLGNBVWhELGtCQUFrQnRSLEdBQ2hCLE9BQU80RSxLQUFLd0gsT0FBUyxhQUFLcE0sR0FBTXNSLGNBV2xDLGFBQWEvRixFQUFXMmtDLElBWXhCLHNCQUFzQjV4QyxHQUNwQixPQUFPK3ZDLEdBQWVqckIsc0JBQTZDLEtBQVE5a0IsR0E4QjdFLFNBQVM2eEMsRUFBU2hpQyxFQUFVaWlDLEdBRTFCLE9BREF4ckMsS0FBS2dxQyxZQUFjaHFDLEtBQUtncUMsYUFBZSxHQUNoQ2hxQyxLQUFLZ3FDLFlBQVl1QixHQUFXLEtBQVUzeEIsU0FDdkM1WixLQUFLZ3FDLFlBQVl1QixHQUNqQkMsRUFBTyxFQUFJLEtBQVEzeEIsTUFBTTJ4QixHQUFRLEtBQ2pDamlDLEVBQVNoUSxLQUFLeUcsT0FVdEIsa0JBQWtCdXJDLEdBQ2hCdnJDLEtBQUtncUMsWUFBY2hxQyxLQUFLZ3FDLGFBQWUsR0FDdkMsSUFBSTFlLEVBQVl0ckIsS0FBS2dxQyxZQUFZdUIsR0FDakMsU0FBVWpnQixJQUFhQSxFQUFVSCxZQVVuQyxlQUFlb2dCLEdBQ2J2ckMsS0FBS2dxQyxZQUFjaHFDLEtBQUtncUMsYUFBZSxHQUN2QyxJQUFJMWUsRUFBWXRyQixLQUFLZ3FDLFlBQVl1QixHQUM3QmpnQixHQUNGQSxFQUFVdmdCLFFBV2QsZ0JBQWdCd2dDLEdBQ2R2ckMsS0FBS2dxQyxZQUFjaHFDLEtBQUtncUMsYUFBZSxHQUN2QyxJQUFJMWUsRUFBWXRyQixLQUFLZ3FDLFlBQVl1QixHQUM3QmpnQixHQUNGQSxFQUFVRCxTQWtCZCxNQUFNOWhCLEVBQVVraUMsR0FDZCxPQUFPQSxFQUFXLEVBQUksS0FBUTNnQyxJQUFJdkIsRUFBU2hRLEtBQUt5RyxNQUFPeXJDLElBQ2xELEtBQVUzZ0MsSUFBSXZCLEVBQVNoUSxLQUFLeUcsT0FXbkMsWUFBWThtQixHQUNWQSxFQUFTLEVBQUksS0FBVXVFLFFBQVF2RSxHQUMzQixLQUFRdUUsT0FBT3ZFLEdBY3JCLE9BQU80a0IsRUFBS2hxQyxHQUNWLElBQUlpcUMsRUFBTWwxQyxTQUFTQyxjQUFjZzFDLEdBQ2pDLEdBQUlocUMsRUFDRixHQUFJaXFDLEVBQUlDLGNBQ05ELEVBQUlDLGNBQWNscUMsUUFFbEIsSUFBSyxJQUFJbEksS0FBS2tJLEVBQ1ppcUMsRUFBSW55QyxHQUFLa0ksRUFBTWxJLEdBSXJCLE9BQU9teUMsRUFZVCxlQUFldC9CLEVBQVVqUixHQUN2QixPQUFPLGFBQWtCQSxHQUFRNEUsS0FBT3FNLEdBWTFDLGdCQUFnQnZVLEVBQU0rekMsR0FDcEIsSUFBSXp3QyxFQUE2QixLQU9qQyxPQU55QixJQUFyQnNULFVBQVUxWixTQUNab0csRUFBOEJzVCxVQUFVLElBRWxCLEdBQXBCQSxVQUFVMVosU0FDWjYyQyxHQUFRendDLEVBQUt1NUIsYUFBYTc4QixJQUV4Qit6QyxHQUNGLGFBQUt6d0MsR0FBTXRFLGFBQWFnQixFQUFNLEtBQ3ZCLElBRVAsYUFBS3NELEdBQU1zSCxnQkFBZ0I1SyxJQUNwQixHQWVYLFlBQVlBLEVBQU0rekMsRUFBTXp3QyxHQUN0QkEsRUFBK0JBLEdBQVE0RSxLQUNmLEdBQXBCME8sVUFBVTFaLFNBQ1o2MkMsR0FBUXp3QyxFQUFLNlMsVUFBVTFCLFNBQVN6VSxJQUU5Qit6QyxFQUNGendDLEVBQUs2UyxVQUFVMVEsSUFBSXpGLEdBRW5Cc0QsRUFBSzZTLFVBQVV3VCxPQUFPM3BCLEdBYTFCLFVBQVVnMEMsRUFBZTF3QyxJQUN2QkEsRUFBK0JBLEdBQVE0RSxNQUNsQ3JDLE1BQU1vdUMsZ0JBQWtCRCxFQUM3QjF3QyxFQUFLdUMsTUFBTXF1QyxVQUFZRixFQWV6QixZQUFZRyxFQUFHQyxFQUFHQyxFQUFHL3dDLEdBQ25CQSxFQUErQkEsR0FBUTRFLEtBQ3ZDQSxLQUFLZ3NDLFVBQVUsZUFBaUJDLEVBQUksSUFBTUMsRUFBSSxJQUFNQyxFQUFJLElBQUsvd0MsR0FvQi9ELFlBQVlneEMsRUFBYTN4QixHQUN2QixJQUFJamYsRUFDSixHQUFJc0MsTUFBTXFILFFBQVFpbkMsSUFFaEIsR0FEQTV3QyxFQUFRNHdDLEVBQVk3a0MsUUFBUWtULEdBQ3hCamYsR0FBUyxFQUNYLE9BQU80d0MsRUFBWXB4QixPQUFPeGYsRUFBTyxPQUU5QixDQUdMLEdBREFBLEVBRFUsYUFBSXdFLEtBQU1vc0MsR0FDUjdrQyxRQUFRa1QsR0FDaEJqZixHQUFTLEVBQ1gsT0FBT3dFLEtBQUtnYixPQUFPb3hCLEVBQWE1d0MsRUFBTyxHQUczQyxPQUFPLEtBYVQsUUFBUXVuQyxFQUFPOTZCLEdBS2IsT0FISW5LLE1BQU1xSCxRQUFROEMsSUFBeUIsSUFBaEJBLEVBQUtqVCxRQUFnQjhJLE1BQU1xSCxRQUFROEMsRUFBSyxNQUNqRUEsRUFBT0EsRUFBSyxJQUVQODZCLEdBQ0wsSUFBSyxNQUNMLElBQUssT0FDTCxJQUFLLFFBQ0hscEMsUUFBUWtwQyxNQUFVOTZCLElBV3hCLFFBQVFBLEdBQ05qSSxLQUFLcXNDLFFBQVEsTUFBT3BrQyxHQVV0QixTQUFTQSxHQUNQakksS0FBS3FzQyxRQUFRLE9BQVFwa0MsR0FVdkIsVUFBVUEsR0FDUmpJLEtBQUtxc0MsUUFBUSxRQUFTcGtDLEdBWXhCLE1BQU13USxLQUFleFEsR0FDbkIsTUFBTyxDQUFDLFdBQVlqSSxLQUFLOGIsR0FBSXJELEtBQWV4USxJQU9oRCxPQUZBNGhDLEVBQWMzMEMsVUFBVTRtQixHQUFLLEdBRXRCK3RCLEssNkJDbmlDVDs7Ozs7Ozs7Ozs7QUEyRUEsTUFBTXh2QyxFQTNFTixLQTJFaUIsQ0FBSTs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7OztpQkFrV3JCQSxFQUFTdkQsYUFBYSxRQUFTLGtCQUMvQkwsU0FBU3lCLEtBQUtDLFlBQVlrQyxFQUFTRyxTQUVuQyxJQUFJbUQsRUFBUWxILFNBQVNDLGNBQWMsU0FDbkNpSCxFQUFNQyxZQUFjLHlDQUNwQm5ILFNBQVN5QixLQUFLQyxZQUFZd0YsSSw2QkNsYjFCLDBIQTRCQSxTQUFTMnVDLEVBQWE1M0MsR0FDcEIsT0FBaUMsSUFBVWs5QixPQUFPbDlCLEdBR3BELFNBQVM2M0MsRUFBZUMsR0FJdEIsSUFBSTdsQyxFQUFZNmxDLEVBQVVqdUIsS0FBT2l1QixFQUFVanVCLEtBQU9pdUIsRUFDbEQsTUFBTUMsRUFBWSxZQUFXOWxDLEVBQVUvSSxZQUNyQzR1QyxFQUFVbjlCLFNBQ04xUixFQUFRbEgsU0FBU0MsY0FBYyxTQUVyQyxPQURBaUgsRUFBTUMsWUFBYzZ1QyxFQUNiOXVDLEVBZUYsU0FBUyt1QyxFQUFrQkMsR0FDakMsTUFBTXAzQyxFQUFVbzNDLEVBQVV6ZCxPQUFPL21CLE1BQU0sT0FDakMzSyxFQUFTLEdBQ2YsSUFBSyxJQUFJMUksRUFBRSxFQUFHQSxFQUFJUyxFQUFRUCxPQUFRRixJQUNoQzBJLEVBQU9sSSxRQUFRczNDLEVBQWlCcjNDLEVBQVFULEtBRTFDLE9BQU8wSSxFQVlELFNBQVNvdkMsRUFBaUJsNEMsR0FDL0IsTUFBTTJELEVBQUlpMEMsRUFBYTUzQyxHQUV2QixJQUFLMkQsRUFFSCxPQURBd0IsUUFBUXdDLEtBQUssNENBQTZDM0gsR0FDbkQsR0FHVCxRQUFrQnNELElBQWRLLEVBQUUrTSxRQUF1QixDQUMzQixNQUFNNUgsRUFBUyxHQUVmQSxFQUFPbEksUUFBUXUzQyxFQUF5QngwQyxJQUV4QyxNQUFNZ0MsRUFDRmhDLEVBQUVtRyxjQUFjLFlBQ2hCbkUsR0FDRm1ELEVBQU9sSSxRQUFRdzNDLEVBQW1CenlDLEVBQ0ksRUFBSTQzQixZQUc1QzU1QixFQUFFK00sUUFBVTVILEVBR2QsT0FBT25GLEVBQUUrTSxRQVVKLFNBQVMwbkMsRUFBbUJ6eUMsRUFBVWdWLEdBQzNDLElBQUtoVixFQUFTK0ssUUFBUyxDQUNyQixNQUFNNUgsRUFBUyxHQUVUNDJCLEVBQUsvNUIsRUFBU0csUUFBUWlELGlCQUFpQixTQUM3QyxJQUFLLElBQUkzSSxFQUFFLEVBQUdBLEVBQUlzL0IsRUFBR3AvQixPQUFRRixJQUFLLENBQ2hDLElBQUlrQixFQUFJbytCLEVBQUd0L0IsR0FHUGdxQixFQUFVOW9CLEVBQUUrb0IsYUEvRkQsV0FnR1hELEdBQ0Z0aEIsRUFBT2xJLFFBQVFvM0MsRUFBa0I1dEIsR0FBU2xJLFFBQU8sU0FBUzZELEVBQU1qZixFQUFPdXhDLEdBQ3JFLE9BQU9BLEVBQUt4bEMsUUFBUWtULEtBQVVqZixNQUc5QjZULElBQ0ZyWixFQUFFNEgsWUFDRSxZQUFXNUgsRUFBRTRILFlBQW1DLElBRXRESixFQUFPbEksS0FBS1UsR0FFZHFFLEVBQVMrSyxRQUFVNUgsRUFFckIsT0FBT25ELEVBQVMrSyxRQVNYLFNBQVM0bkMsRUFBd0J0NEMsR0FDdkMsSUFBSTJELEVBQUlpMEMsRUFBYTUzQyxHQUNyQixPQUFPMkQsRUFBSXcwQyxFQUF5QngwQyxHQUFLLEdBTzFDLFNBQVN3MEMsRUFBeUIvMkMsR0FDaEMsTUFBTTBILEVBQVMsR0FDVDQwQixFQUFLdDhCLEVBQU8ySCxpQkFsSWUsK0JBbUlqQyxJQUFLLElBQUkzSSxFQUFFLEVBQUdBLEVBQUlzOUIsRUFBR3A5QixPQUFRRixJQUFLLENBQ2hDLElBQUlrQyxFQUFJbzdCLEVBQUd0OUIsR0FDWCxHQUFJa0MsRUFBRTQ2QixPQUFRLENBQ1osTUFBTTRhLEVBQVl4MUMsRUFBRTQ2QixPQUNkcWIsRUFBV2oyQyxFQUFFMjlCLGFBcklHLGtCQXNJdEIsR0FBSXNZLElBQWFULEVBQVVVLGVBQWdCLENBQ3pDLE1BQU12dkMsRUFBUTR1QyxFQUFlQyxHQUM3Qjd1QyxFQUFNN0csYUF4SWMsaUJBd0lvQixJQUN4QzAxQyxFQUFVVSxlQUFpQnZ2QyxPQUNqQjZ1QyxFQUFVNXRCLFNBQ3BCNHRCLEVBQVU1dEIsT0FBUzJ0QixFQUFlQyxJQUVwQ2h2QyxFQUFPbEksS0FBSzIzQyxFQUFXVCxFQUFVVSxlQUFpQlYsRUFBVTV0QixTQUdoRSxPQUFPcGhCLEVBYUYsU0FBUzJ2QyxFQUFlUixHQUM5QixJQUFJcDNDLEVBQVVvM0MsRUFBVXpkLE9BQU8vbUIsTUFBTSxPQUNqQzlELEVBQVUsR0FDZCxJQUFLLElBQUl2UCxFQUFFLEVBQUdBLEVBQUlTLEVBQVFQLE9BQVFGLElBQ2hDdVAsR0FBVytvQyxFQUFjNzNDLEVBQVFULElBRW5DLE9BQU91UCxFQWdCRCxTQUFTK29DLEVBQWMxNEMsR0FDNUIsSUFBSTJELEVBQUlpMEMsRUFBYTUzQyxHQUNyQixHQUFJMkQsUUFBb0JMLElBQWZLLEVBQUVnMUMsU0FBd0IsQ0FFakMsSUFBSWhwQyxFQUFVaXBDLEVBQXNCajFDLEdBRWhDWSxFQUF3Q1osRUFBRW1HLGNBQWMsWUFDeER2RixJQUNGb0wsR0FzQkMsU0FBeUJoSyxFQUFVZ1YsR0FDeEMsSUFBSWhMLEVBQVUsR0FDZCxNQUFNK3ZCLEVBQUswWSxFQUFtQnp5QyxFQUFVZ1YsR0FFeEMsSUFBSyxJQUFJdmEsRUFBRSxFQUFHQSxFQUFJcy9CLEVBQUdwL0IsT0FBUUYsSUFBSyxDQUNoQyxJQUFJa0IsRUFBSW8rQixFQUFHdC9CLEdBQ1BrQixFQUFFMEYsWUFDSjFGLEVBQUUwRixXQUFXQyxZQUFZM0YsR0FFM0JxTyxHQUFXck8sRUFBRTRILFlBRWYsT0FBT3lHLEVBakNRa3BDLENBQWdCdDBDLEVBQ1csRUFBSWc1QixZQUU1QzU1QixFQUFFZzFDLFNBQVdocEMsR0FBVyxLQUsxQixPQUhLaE0sR0FDSHdCLFFBQVF3QyxLQUFLLDRDQUE2QzNILEdBRXJEMkQsR0FBS0EsRUFBRWcxQyxVQUFZLEdBaUQ1QixTQUFTQyxFQUFzQngzQyxHQUM3QixJQUFJdU8sRUFBVSxHQUNWN0csRUFBU3F2QyxFQUF5Qi8yQyxHQUN0QyxJQUFLLElBQUloQixFQUFFLEVBQUdBLEVBQUkwSSxFQUFPeEksT0FBUUYsSUFDL0J1UCxHQUFXN0csRUFBTzFJLEdBQUc4SSxZQUV2QixPQUFPeUcsSSw2QkNoUlQ7Ozs7Ozs7Ozs7QUErQkEsSUFBSW1wQyxFQUEyRCxpQkFBcEMvMkMsU0FBU3lCLEtBQUt5RixNQUFNOHZDLFlBRTNDQyxFQUFjLDJCQUNkQyxFQUFlLCtCQVNmQyxFQUFlLENBQUMsWUFBYSxZQUFhLFVBQVcsU0FFckRDLEVBQXlCLENBQUMsRUFBRyxFQUFHLEVBQUcsR0FDbkNDLEVBQW9CLFdBQ3RCLElBQ0UsT0FBd0QsSUFBakQsSUFBSUMsV0FBVyxPQUFRLENBQUNDLFFBQVMsSUFBSUEsUUFDNUMsTUFBT2g0QyxHQUNQLE9BQU8sR0FKYSxHQVl4QixTQUFTaTRDLEVBQWFuMkMsR0FDcEIsT0FBTzgxQyxFQUFhcm1DLFFBQVF6UCxJQUFTLEVBS3ZDLElBQUlvMkMsR0FBbUIsRUFpQnZCLFNBQVNDLEVBQWNqOEIsR0FDckIsSUFBSSs3QixFQUFhLzdCLElBQTRCLGFBQWRBLEVBRy9CLE9BQUlzN0IsR0FBaUJVLEdBQW9CLElBQ2hDLENBQUMzakIsU0FBUyxRQUVqQixHQXZCSixXQUNFLElBQ0UsSUFBSTZqQixFQUFPbjVDLE9BQU95RCxlQUFlLEdBQUksVUFBVyxDQUFDLE1BQU93MUMsR0FBbUIsS0FDM0VuMEMsT0FBTzZSLGlCQUFpQixPQUFRLEtBQU13aUMsR0FDdENyMEMsT0FBTzhSLG9CQUFvQixPQUFRLEtBQU11aUMsR0FDekMsTUFBTXA0QyxLQUxWLEdBNEJBLElBQUlxNEMsRUFBZ0JobkIsVUFBVUMsVUFBVUMsTUFBTSw0QkFJOUMsTUFBTSttQixFQUFnQixHQUdoQkMsRUFBYSxDQUNqQixRQUFVLEVBQ1YsT0FBUyxFQUNULFFBQVUsRUFDVixPQUFTLEVBQ1QsUUFBVSxFQUNWLFVBQVksRUFDWixVQUFZLEVBQ1osUUFBVSxHQUtOQyxFQUFnQixDQUNwQixRQUFVLEVBQ1YsU0FBVyxFQUNYLFVBQVksRUFDWixPQUFTLEVBQ1QsUUFBVSxFQUNWLFVBQVksRUFDWixRQUFVLEVBQ1YsUUFBVSxFQUNWLFVBQVksR0FlZCxTQUFTQyxFQUFlM3pCLEdBQ3RCLElBQUk0ekIsRUFBUzV3QyxNQUFNNUksVUFBVStFLE1BQU03RSxLQUFvQyxFQUFLczVDLFFBQVUsSUFLdEYsSUFBS0EsRUFBTzE1QyxPQUFRLENBQ2xCMDVDLEVBQVMsR0FDVCxJQUFJbG5DLEVBQU9zVCxFQUFHcE8sY0FFZCxHQUFJb08sRUFBR3NFLEdBQUksQ0FDVCxJQUFJdXZCLEVBQVdubkMsRUFBSy9KLGlCQUFpQixlQUFlcWQsRUFBR3NFLE9BQ3ZELElBQUssSUFBSXRxQixFQUFJLEVBQUdBLEVBQUk2NUMsRUFBUzM1QyxPQUFRRixJQUNuQzQ1QyxFQUFPcDVDLEtBQXNDcTVDLEVBQVM3NUMsS0FJNUQsT0FBTzQ1QyxFQVFULElBQUlFLEVBQWlCLFNBQVNDLEdBSzVCLElBQUlDLEVBQUtELEVBQVdFLG1CQXRDdEIsSUFBdUJqMEIsRUF1Q3JCLEtBQUlnMEIsR0FBT0EsRUFBR0Usb0JBSWRILEVBQVduQixHQUFlLENBQUN1QixNQUFNLEdBRVQsVUFBcEJKLEVBQVduM0MsTUFBa0IsQ0FDL0IsSUFBSXczQyxHQUFpQixFQUNqQjVuQyxFQUFPNm5DLEVBQWdCTixHQUMzQixJQUFLLElBQUkvNUMsRUFBSSxFQUFHQSxFQUFJd1MsRUFBS3RTLE9BQVFGLElBQUssQ0FDcEMsR0FBSXdTLEVBQUt4UyxHQUFHZ0gsV0FBYW9SLEtBQUtDLGFBQzVCLEdBQTBCLFVBQXRCN0YsRUFBS3hTLEdBQUdzUixVQUNWa29DLEVBQWNoNUMsS0FBdUNnUyxFQUFLeFMsU0FDckQsR0FwRFFnbUIsRUFvRHVDeFQsRUFBS3hTLEdBbkQxRHk1QyxFQUFXenpCLEVBQUcxVSxXQW1Ea0QsQ0FDL0QsSUFBSWdwQyxFQUNBWCxFQUE0Q25uQyxFQUFLeFMsSUFFckQsSUFBSyxJQUFJc1QsRUFBSSxFQUFHQSxFQUFJZ25DLEVBQVlwNkMsT0FBUW9ULElBQ3RDOG1DLEVBQWlCQSxHQUFrQlosRUFBYy9tQyxRQUFRNm5DLEVBQVlobkMsS0FBTyxFQUlsRixHQUFJZCxFQUFLeFMsS0FBT3U2QyxFQUFhQyxNQUFNMTNDLE9BQ2pDLE9BS0osR0FBSXMzQyxFQUNGLE9BRUZMLEVBQVdVLGlCQUNYVixFQUFXVyxvQkFRZixTQUFTQyxFQUE0QkMsR0FDbkMsSUFBSXZiLEVBQVNrYSxFQUFnQixDQUFDLFNBQVdULEVBQ3pDLElBQUssSUFBVytCLEVBQVA3NkMsRUFBSSxFQUFPQSxFQUFJcS9CLEVBQU9uL0IsT0FBUUYsSUFDckM2NkMsRUFBS3hiLEVBQU9yL0IsR0FDUjQ2QyxHQUVGcEIsRUFBY3Q1QyxPQUFTLEVBQ3ZCeUIsU0FBU21WLGlCQUFpQitqQyxFQUFJZixHQUFnQixJQUU5Q240QyxTQUFTb1Ysb0JBQW9COGpDLEVBQUlmLEdBQWdCLEdBeUJ2RCxTQUFTZ0IsRUFBbUJDLEdBQzFCLElBQUluNEMsRUFBT200QyxFQUFHbjRDLEtBRWQsSUFBS3UyQyxFQUFhdjJDLEdBQ2hCLE9BQU8sRUFJVCxHQUFhLGNBQVRBLEVBQXNCLENBRXhCLElBQUlzMkMsT0FBeUJoMkMsSUFBZjYzQyxFQUFHN0IsUUFBd0IsRUFBSTZCLEVBQUc3QixRQUtoRCxPQUpLNkIsYUFBYzkxQyxPQUFPZzBDLGFBQWdCRCxJQUN4Q0UsRUFBVUgsRUFBdUJnQyxFQUFHQyxRQUFVLEdBR3pDL3dDLFFBQWtCLEVBQVZpdkMsR0FLZixPQUFrQixVQUZTaDJDLElBQWQ2M0MsRUFBR0UsT0FBdUIsRUFBSUYsRUFBR0UsUUE4QmxELElBQUlWLEVBQWUsQ0FDakJDLE1BQU8sQ0FDTDEzQyxPQUFRLEtBQ1JvNEMsZUFBZ0IsTUFFbEJDLE1BQU8sQ0FDTGhFLEVBQUcsRUFDSEMsRUFBRyxFQUNIOXNCLElBQUssRUFDTDh3QixlQUFlLElBaUJuQixTQUFTQyxFQUFjQyxFQUFVQyxFQUFRQyxHQUN2Q0YsRUFBU0MsT0FBU0EsRUFDbEJELEVBQVNFLEtBQU9BLEVBQ2hCNzVDLFNBQVNtVixpQkFBaUIsWUFBYXlrQyxHQUN2QzU1QyxTQUFTbVYsaUJBQWlCLFVBQVcwa0MsR0FHdkMsU0FBU0MsRUFBZ0JILEdBQ3ZCMzVDLFNBQVNvVixvQkFBb0IsWUFBYXVrQyxFQUFTQyxRQUNuRDU1QyxTQUFTb1Ysb0JBQW9CLFVBQVd1a0MsRUFBU0UsTUFDakRGLEVBQVNDLE9BQVMsS0FDbEJELEVBQVNFLEtBQU8sS0FLbEI3NUMsU0FBU21WLGlCQUFpQixZQTlHMUIsU0FBcUI1VixHQUNkcTVDLEVBQWFDLE1BQU1VLGdCQUN0QlAsR0FBNEIsR0FPOUJKLEVBQWFDLE1BQU0xM0MsT0FBU3UzQyxFQUFnQm41QyxHQUFHLEdBQy9DcTVDLEVBQWFDLE1BQU1VLGVBQWlCLElBQVVwMkIsU0FDeEN5MUIsRUFBYUMsTUFBTVUsZUFDbkIsSUFBUW4yQixNQWhNSSxPQXdMTixXQUNWNDFCLElBQ0FKLEVBQWFDLE1BQU0xM0MsT0FBUyxLQUM1QnkzQyxFQUFhQyxNQUFNVSxlQUFpQixZQXVHVzlCLEdBQW1CLENBQUMzakIsU0FBUyxJQU9oRixNQUFNNGtCLEVBQWtCcDFDLE9BQU9xUSxVQUFZclEsT0FBT3FRLFNBQVNvbUMsUUFDekR6MkMsT0FBT3FRLFNBQVNxRCxhQUNmclcsR0FBVUEsRUFBTXFXLGNBQWdCclcsRUFBTXFXLGdCQUFrQixHQUc5Q2dqQyxFQUFXLEdBR1hDLEVBQWMsR0F5QzNCLFNBQVNDLEVBQW9CZCxHQUMzQixNQUFNdm9DLEVBQU82bkMsRUFBc0MsR0FFbkQsT0FBTzduQyxFQUFLdFMsT0FBUyxFQUFJc1MsRUFBSyxHQUFLdW9DLEVBQUdqNEMsT0FReEMsU0FBU2c1QyxFQUFjZixHQUNyQixJQUFJZ0IsRUFDQW41QyxFQUFPbTRDLEVBQUduNEMsS0FFVm81QyxFQURPakIsRUFBR3ZoQyxjQUNhLGtCQUMzQixJQUFLd2lDLEVBQ0gsT0FFRixJQUFJQyxFQUFLRCxFQUFLcDVDLEdBQ2QsR0FBS3E1QyxFQUFMLENBR0EsSUFBS2xCLEVBQUduQyxLQUNObUMsRUFBR25DLEdBQWUsR0FDTyxVQUFyQmgyQyxFQUFLdUMsTUFBTSxFQUFHLElBQWdCLENBRWhDLElBQUloQixHQURKNDJDLEVBQThCLEdBQ25CbUIsZUFBZSxHQU8xQixHQU5hLGVBQVR0NUMsR0FFd0IsSUFBdEJtNEMsRUFBR29CLFFBQVFqOEMsU0FDYnE2QyxFQUFhWSxNQUFNN3dCLEdBQUtubUIsRUFBRWk0QyxZQUcxQjdCLEVBQWFZLE1BQU03d0IsS0FBT25tQixFQUFFaTRDLFdBQzlCLE9BRUcxRCxHQUNVLGVBQVQ5MUMsR0FBa0MsY0FBVEEsR0FtQ3JDLFNBQTRCbTRDLEdBQzFCLElBQUk1MkMsRUFBSTQyQyxFQUFHbUIsZUFBZSxHQUN0QnQ1QyxFQUFPbTRDLEVBQUduNEMsS0FDZCxHQUFhLGVBQVRBLEVBQ0YyM0MsRUFBYVksTUFBTWhFLEVBQUloekMsRUFBRWs0QyxRQUN6QjlCLEVBQWFZLE1BQU0vRCxFQUFJanpDLEVBQUVtNEMsUUFDekIvQixFQUFhWSxNQUFNQyxlQUFnQixPQUM5QixHQUFhLGNBQVR4NEMsRUFBc0IsQ0FDL0IsR0FBSTIzQyxFQUFhWSxNQUFNQyxjQUNyQixPQUVGYixFQUFhWSxNQUFNQyxlQUFnQixFQUNuQyxJQUFJbUIsRUExS1IsU0FBMEJ4QixHQUN4QixJQUFJd0IsRUFBSyxPQUNML3BDLEVBQU82bkMsRUFBZ0JVLEdBQzNCLElBQUssSUFBV3IyQyxFQUFQMUUsRUFBSSxFQUFNQSxFQUFJd1MsRUFBS3RTLE9BQVFGLElBRWxDLEdBREEwRSxFQUFJOE4sRUFBS3hTLEdBQ0wwRSxFQUFFbTBDLEdBQWUsQ0FDbkIwRCxFQUFLNzNDLEVBQUVtMEMsR0FDUCxNQUdKLE9BQU8wRCxFQWdLSUMsQ0FBaUJ6QixHQUN0QjBCLEdBQWdCLEVBQ2hCQyxFQUFLMTRCLEtBQUsyNEIsSUFBSXBDLEVBQWFZLE1BQU1oRSxFQUFJaHpDLEVBQUVrNEMsU0FDdkNPLEVBQUs1NEIsS0FBSzI0QixJQUFJcEMsRUFBYVksTUFBTS9ELEVBQUlqekMsRUFBRW00QyxTQUN0Q3ZCLEVBQUdyRixhQUVVLFNBQVA2RyxFQUNURSxHQUFnQixFQUNBLFVBQVBGLEVBQ1RFLEVBQWdCRyxFQUFLRixFQUNMLFVBQVBILElBQ1RFLEVBQWdCQyxFQUFLRSxJQUVuQkgsRUFDRjFCLEVBQUdOLGlCQUVIb0MsRUFBUSxVQTlESkMsQ0FBbUIvQixHQU8zQixHQUZBZ0IsRUFBVWhCLEVBQUduQyxJQUVUbUQsRUFBUTVCLEtBQVosQ0FJQSxJQUFLLElBQVdwMkMsRUFBUC9ELEVBQUksRUFBTUEsRUFBSTQ3QyxFQUFZMTdDLE9BQVFGLElBQ3pDK0QsRUFBSTYzQyxFQUFZNTdDLEdBQ1ppOEMsRUFBR2w0QyxFQUFFZixRQUFVKzRDLEVBQVFoNEMsRUFBRWYsT0FDdkJlLEVBQUVnNUMsTUFBUWg1QyxFQUFFZzVDLEtBQUtobUIsTUFBTXRrQixRQUFRc29DLEVBQUduNEMsT0FBUyxHQUFLbUIsRUFBRWk1QyxPQUNwRGo1QyxFQUFFaTVDLFFBS1IsSUFBSyxJQUFXajVDLEVBQVAvRCxFQUFJLEVBQU1BLEVBQUk0N0MsRUFBWTE3QyxPQUFRRixJQUN6QytELEVBQUk2M0MsRUFBWTU3QyxHQUNaaThDLEVBQUdsNEMsRUFBRWYsUUFBVSs0QyxFQUFRaDRDLEVBQUVmLFFBQzNCKzRDLEVBQVFoNEMsRUFBRWYsT0FBUSxFQUNsQmUsRUFBRW5CLEdBQU1tNEMsTUFtRFAsU0FBU2tDLEVBQVkzMkMsRUFBTTQyQyxFQUFRNy9CLEdBQ3hDLFFBQUlzK0IsRUFBU3VCLEtBaUNmLFNBQWM1MkMsRUFBTTQyQyxFQUFRNy9CLEdBQzFCLElBQUk4L0IsRUFBYXhCLEVBQVN1QixHQUN0QkUsRUFBT0QsRUFBV0MsS0FDbEJwNkMsRUFBT202QyxFQUFXbjZDLEtBQ2xCZzVDLEVBQU8xMUMsRUFBZ0Isa0JBQ3RCMDFDLElBQ0gxMUMsRUFBZ0Isa0JBQUkwMUMsRUFBTyxJQUU3QixJQUFLLElBQVdxQixFQUFLQyxFQUFadDlDLEVBQUksRUFBWUEsRUFBSW85QyxFQUFLbDlDLE9BQVFGLElBQ3hDcTlDLEVBQU1ELEVBQUtwOUMsR0FFUHU1QyxHQUFpQkosRUFBYWtFLElBQWdCLFVBQVJBLElBRzFDQyxFQUFLdEIsRUFBS3FCLEdBQ0xDLElBQ0h0QixFQUFLcUIsR0FBT0MsRUFBSyxDQUFDQyxPQUFRLElBRVYsSUFBZEQsRUFBR0MsUUFDTGozQyxFQUFLd1EsaUJBQWlCdW1DLEVBQUt2QixFQUFlekMsRUFBY2dFLElBRTFEQyxFQUFHdDZDLElBQVNzNkMsRUFBR3Q2QyxJQUFTLEdBQUssRUFDN0JzNkMsRUFBR0MsUUFBVUQsRUFBR0MsUUFBVSxHQUFLLEdBRWpDajNDLEVBQUt3USxpQkFBaUJvbUMsRUFBUTcvQixHQUMxQjgvQixFQUFXeEUsYUFDYjZFLEVBQWVsM0MsRUFBTTYyQyxFQUFXeEUsYUExRGhDOEUsQ0FBS24zQyxFQUFNNDJDLEVBQVE3L0IsSUFDWixHQWNKLFNBQVNxZ0MsRUFBZXAzQyxFQUFNNDJDLEVBQVE3L0IsR0FDM0MsUUFBSXMrQixFQUFTdUIsS0F1RGYsU0FBaUI1MkMsRUFBTTQyQyxFQUFRNy9CLEdBQzdCLElBQUk4L0IsRUFBYXhCLEVBQVN1QixHQUN0QkUsRUFBT0QsRUFBV0MsS0FDbEJwNkMsRUFBT202QyxFQUFXbjZDLEtBQ2xCZzVDLEVBQU8xMUMsRUFBZ0Isa0JBQzNCLEdBQUkwMUMsRUFDRixJQUFLLElBQVdxQixFQUFLQyxFQUFadDlDLEVBQUksRUFBWUEsRUFBSW85QyxFQUFLbDlDLE9BQVFGLElBQ3hDcTlDLEVBQU1ELEVBQUtwOUMsR0FDWHM5QyxFQUFLdEIsRUFBS3FCLEdBQ05DLEdBQU1BLEVBQUd0NkMsS0FDWHM2QyxFQUFHdDZDLElBQVNzNkMsRUFBR3Q2QyxJQUFTLEdBQUssRUFDN0JzNkMsRUFBR0MsUUFBVUQsRUFBR0MsUUFBVSxHQUFLLEVBQ2IsSUFBZEQsRUFBR0MsUUFDTGozQyxFQUFLeVEsb0JBQW9Cc21DLEVBQUt2QixFQUFlekMsRUFBY2dFLEtBS25FLzJDLEVBQUt5USxvQkFBb0JtbUMsRUFBUTcvQixHQXhFL0JzZ0MsQ0FBUXIzQyxFQUFNNDJDLEVBQVE3L0IsSUFDZixHQWlGSixTQUFTeXRCLEVBQVM4UyxHQUN2QmhDLEVBQVlwN0MsS0FBS285QyxHQUNqQixJQUFLLElBQUk1OUMsRUFBSSxFQUFHQSxFQUFJNDlDLEVBQU1DLE1BQU0zOUMsT0FBUUYsSUFDdEMyN0MsRUFBU2lDLEVBQU1DLE1BQU03OUMsSUFBTTQ5QyxFQWdDeEIsU0FBU0osRUFBZWwzQyxFQUFNcEMsR0FDL0J3MEMsR0FBaUJweUMsYUFBZ0IwRSxhQUtuQyxJQUFVZ0wsSUFBSSxLQUNaMVAsRUFBS3VDLE1BQU04dkMsWUFBY3owQyxJQUc3Qm9DLEVBQUt1eUMsR0FBZ0IzMEMsRUFZdkIsU0FBUzQ1QyxFQUFNaDdDLEVBQVFGLEVBQU0ybkIsR0FDM0IsSUFBSXd3QixFQUFLLElBQUk3Z0MsTUFBTXRYLEVBQU0sQ0FBRXllLFNBQVMsRUFBTXEwQixZQUFZLEVBQU1wMEIsVUFBVSxJQUl0RSxHQUhBeTVCLEVBQUd4d0IsT0FBU0EsRUFDWixZQUF5QixHQUFVcEosY0FBYzQ1QixHQUU3Q0EsRUFBR2dELGlCQUFrQixDQUN2QixJQUFJQyxFQUFZenpCLEVBQU95ekIsV0FBYXp6QixFQUFPMHpCLFlBQ3ZDRCxHQUFhQSxFQUFVdkQsZ0JBQ3pCdUQsRUFBVXZELGtCQVdULFNBQVNvQyxFQUFRcUIsR0FDdEIsSUFBSWYsRUFqRU4sU0FBZ0NlLEdBQzlCLElBQUssSUFBV242QyxFQUFQL0QsRUFBSSxFQUFNQSxFQUFJNDdDLEVBQVkxN0MsT0FBUUYsSUFBSyxDQUM5QytELEVBQUk2M0MsRUFBWTU3QyxHQUNoQixJQUFLLElBQVcwRSxFQUFQNE8sRUFBSSxFQUFNQSxFQUFJdlAsRUFBRTg1QyxNQUFNMzlDLE9BQVFvVCxJQUVyQyxHQURBNU8sRUFBSVgsRUFBRTg1QyxNQUFNdnFDLEdBQ1I1TyxJQUFNdzVDLEVBQ1IsT0FBT242QyxFQUliLE9BQU8sS0F1RFVvNkMsQ0FBdUJELEdBQ3BDZixFQUFXNXBDLE9BQ2I0cEMsRUFBVzVwQyxLQUFLc3BDLFNBQVUsR0E4RjlCLFNBQVN1QixFQUFXeDdDLEVBQU1FLEVBQVFSLEVBQU8wN0MsR0FDbENsN0MsR0FHTGc3QyxFQUFNaDdDLEVBQVFGLEVBQU0sQ0FDbEJ1MEMsRUFBRzcwQyxFQUFNKzVDLFFBQ1RqRixFQUFHOTBDLEVBQU1nNkMsUUFDVDJCLFlBQWEzN0MsRUFDYjA3QyxVQUFXQSxFQUNYbkIsUUFBUyxTQUFTMzdDLEdBQ2hCLE9BQU8yN0MsRUFBUTM3QyxNQWtKckIsU0FBU205QyxFQUFvQjlxQyxFQUFNNGpDLEVBQUdDLEdBQ3BDLEdBQUk3akMsRUFBS3NwQyxRQUNQLE9BQU8sRUFFVCxHQUFJdHBDLEVBQUsrcUMsUUFDUCxPQUFPLEVBRVQsSUFBSTVCLEVBQUsxNEIsS0FBSzI0QixJQUFJcHBDLEVBQUs0akMsRUFBSUEsR0FDdkJ5RixFQUFLNTRCLEtBQUsyNEIsSUFBSXBwQyxFQUFLNmpDLEVBQUlBLEdBQzNCLE9BQVFzRixHQXg0QlcsR0F3NEJhRSxHQXg0QmIsRUFpNUJyQixTQUFTMkIsRUFBVWhyQyxFQUFNelEsRUFBUXE0QyxHQUMvQixJQUFLcjRDLEVBQ0gsT0FFRixJQUlJMDdDLEVBSkFDLEVBQWFsckMsRUFBS21yQyxNQUFNbnJDLEVBQUttckMsTUFBTXgrQyxPQUFTLEdBQzVDeStDLEVBQVdwckMsRUFBS21yQyxNQUFNbnJDLEVBQUttckMsTUFBTXgrQyxPQUFTLEdBQzFDdzhDLEVBQUtpQyxFQUFTeEgsRUFBSTVqQyxFQUFLNGpDLEVBQ3ZCeUYsRUFBSytCLEVBQVN2SCxFQUFJN2pDLEVBQUs2akMsRUFDbEJ3SCxFQUFNLEVBQ1hILElBQ0ZELEVBQU1HLEVBQVN4SCxFQUFJc0gsRUFBV3RILEVBQzlCeUgsRUFBTUQsRUFBU3ZILEVBQUlxSCxFQUFXckgsR0FFaEMwRyxFQUFNaDdDLEVBQVEsUUFBUyxDQUNyQis3QyxNQUFPdHJDLEVBQUtzckMsTUFDWjFILEVBQUdnRSxFQUFNa0IsUUFDVGpGLEVBQUcrRCxFQUFNbUIsUUFDVEksR0FBSUEsRUFDSkUsR0FBSUEsRUFDSjRCLElBQUtBLEVBQ0xJLElBQUtBLEVBQ0xYLFlBQWE5QyxFQUNiMkQsTUFBTyxXQUNMLE9Bcm1CQyxTQUF3QjNILEVBQUdDLEdBQ2hDLElBQUk5d0MsRUFBTzNFLFNBQVNvOUMsaUJBQWlCNUgsRUFBR0MsR0FDcENoWCxFQUFPOTVCLEVBSVgsS0FBTzg1QixHQUFRQSxFQUFLaFcsYUFBZW5sQixPQUFPcVEsVUFBVSxDQUVsRCxJQUFJMHBDLEVBQVU1ZSxFQUdkLEdBRkFBLEVBQU9BLEVBQUtoVyxXQUFXMjBCLGlCQUFpQjVILEVBQUdDLEdBRXZDNEgsSUFBWTVlLEVBQ2QsTUFFRUEsSUFDRjk1QixFQUFPODVCLEdBR1gsT0FBTzk1QixFQW1sQkkyNEMsQ0FBZTlELEVBQU1rQixRQUFTbEIsRUFBTW1CLFlBMEVqRCxTQUFTNEMsRUFBYTNyQyxFQUFNclMsRUFBRzg4QyxHQUM3QixJQUFJdEIsRUFBSzE0QixLQUFLMjRCLElBQUl6N0MsRUFBRW03QyxRQUFVOW9DLEVBQUs0akMsR0FDL0J5RixFQUFLNTRCLEtBQUsyNEIsSUFBSXo3QyxFQUFFbzdDLFFBQVUvb0MsRUFBSzZqQyxHQUUvQmp6QyxFQUFJMDNDLEVBQXFCbUMsR0FBYTk4QyxJQUNyQ2lELEdBQU11MUMsRUFBeUMsRUFBSXBvQyxZQUFjbk4sRUFBRTA3QixhQUFhLGNBSWpGc2YsTUFBTXpDLElBQU95QyxNQUFNdkMsSUFBUUYsR0E1L0JkLElBNC9Cb0NFLEdBNS9CcEMsSUFzT25CLFNBQTBCN0IsR0FDeEIsR0FBZ0IsVUFBWkEsRUFBR240QyxLQUFrQixDQUV2QixHQUFrQixJQUFkbTRDLEVBQUd4d0IsT0FDTCxPQUFPLEVBS1QsSUFBSXBtQixFQUFJMDNDLEVBQW9CZCxHQUc1QixJQUFLNTJDLEVBQUU2QyxVQUFrQyxFQUFJQSxXQUFhb1IsS0FBS0MsYUFDN0QsT0FBTyxFQUVULElBQUkrbUMsRUFBNEIsRUFBSUMsd0JBRWhDbEksRUFBSTRELEVBQUd1RSxNQUFPbEksRUFBSTJELEVBQUd3RSxNQUV6QixRQUFVcEksR0FBS2lJLEVBQUlJLE1BQVFySSxHQUFLaUksRUFBSUssT0FBV3JJLEdBQUtnSSxFQUFJTSxLQUFPdEksR0FBS2dJLEVBQUlPLFFBRTFFLE9BQU8sRUFpd0JxRUMsQ0FBaUIxK0MsTUFFdEZxUyxFQUFLc3BDLFNBQ1JpQixFQUFNMzVDLEVBQUcsTUFBTyxDQUNkZ3pDLEVBQUdqMkMsRUFBRW03QyxRQUNMakYsRUFBR2wyQyxFQUFFbzdDLFFBQ0wyQixZQUFhLzhDLEVBQ2I4OEMsVUFBV0EsS0F4V25CbFQsRUFBUyxDQUNQOW5DLEtBQU0sU0FDTm82QyxLQUFNLENBQUMsWUFBYSxhQUFjLFlBQ2xDTCxLQUFNLENBQ0pobUIsTUFBTyxDQUFDLFlBQWEsY0FDckJDLElBQUssQ0FBQyxVQUFXLGFBRW5CNm1CLE1BQU8sQ0FBQyxPQUFRLE1BRWhCdHFDLEtBQU0sQ0FDSmdvQyxPQUFRLEtBQ1JDLEtBQU0sTUFPUndCLE1BQU8sV0FDTHZCLEVBQWdCdndDLEtBQUtxSSxPQVF2QnNzQyxVQUFXLFNBQVMzK0MsR0FDbEIsSUFBSzQ1QyxFQUFtQjU1QyxHQUN0QixPQUVGLElBQUlpRCxFQUFJMDNDLEVBQW9CMzZDLEdBQ3hCKzJDLEVBQU8vc0MsS0FhWG13QyxFQUFjbndDLEtBQUtxSSxNQVpOLFNBQWdCclMsR0FDdEI0NUMsRUFBbUI1NUMsS0FDdEJrOUMsRUFBVyxLQUFNajZDLEVBQUdqRCxHQUNwQnU2QyxFQUFnQnhELEVBQUsxa0MsVUFHZCxTQUFjclMsR0FDbkI0NUMsRUFBbUI1NUMsSUFDckJrOUMsRUFBVyxLQUFNajZDLEVBQUdqRCxHQUV0QnU2QyxFQUFnQnhELEVBQUsxa0MsU0FHdkI2cUMsRUFBVyxPQUFRajZDLEVBQUdqRCxJQU94QjQrQyxXQUFZLFNBQVM1K0MsR0FDbkJrOUMsRUFBVyxPQUFRdkMsRUFBb0IzNkMsR0FBSUEsRUFBRWc3QyxlQUFlLEdBQUloN0MsSUFPbEU2K0MsU0FBVSxTQUFTNytDLEdBQ2pCazlDLEVBQVcsS0FBTXZDLEVBQW9CMzZDLEdBQUlBLEVBQUVnN0MsZUFBZSxHQUFJaDdDLE1BMEJsRTRwQyxFQUFTLENBQ1A5bkMsS0FBTSxRQUNOMjFDLFlBQWEsT0FDYnlFLEtBQU0sQ0FBQyxZQUFhLGFBQWMsWUFBYSxZQUMvQ0wsS0FBTSxDQUNKaG1CLE1BQU8sQ0FBQyxZQUFhLGNBQ3JCQyxJQUFLLENBQUMsVUFBVyxhQUVuQjZtQixNQUFPLENBQUMsU0FFUnRxQyxLQUFNLENBQ0o0akMsRUFBRyxFQUNIQyxFQUFHLEVBQ0h5SCxNQUFPLFFBQ1BQLFNBQVMsRUFDVEksTUFBTyxHQUVQc0IsUUFBUyxTQUFTQyxHQUNaLzBDLEtBQUt3ekMsTUFBTXgrQyxPQWx3QkYsR0Ftd0JYZ0wsS0FBS3d6QyxNQUFNLzlDLFFBRWJ1SyxLQUFLd3pDLE1BQU1sK0MsS0FBS3kvQyxJQUVsQjFFLE9BQVEsS0FDUkMsS0FBTSxLQUNOcUIsU0FBUyxHQU9YRyxNQUFPLFdBQ0w5eEMsS0FBS3FJLEtBQUtzckMsTUFBUSxRQUNsQjN6QyxLQUFLcUksS0FBSytxQyxTQUFVLEVBQ3BCcHpDLEtBQUtxSSxLQUFLbXJDLE1BQVEsR0FDbEJ4ekMsS0FBS3FJLEtBQUs0akMsRUFBSSxFQUNkanNDLEtBQUtxSSxLQUFLNmpDLEVBQUksRUFDZGxzQyxLQUFLcUksS0FBS3NwQyxTQUFVLEVBQ3BCcEIsRUFBZ0J2d0MsS0FBS3FJLE9BUXZCc3NDLFVBQVcsU0FBUzMrQyxHQUNsQixJQUFLNDVDLEVBQW1CNTVDLEdBQ3RCLE9BRUYsSUFBSWlELEVBQUkwM0MsRUFBb0IzNkMsR0FDeEIrMkMsRUFBTy9zQyxLQUNQcXdDLEVBQVMsU0FBZ0JyNkMsR0FDM0IsSUFBSWkyQyxFQUFJajJDLEVBQUVtN0MsUUFBU2pGLEVBQUlsMkMsRUFBRW83QyxRQUNyQitCLEVBQW9CcEcsRUFBSzFrQyxLQUFNNGpDLEVBQUdDLEtBRXBDYSxFQUFLMWtDLEtBQUtzckMsTUFBUTVHLEVBQUsxa0MsS0FBSytxQyxRQUFzQixZQUFYcDlDLEVBQUUwQixLQUFxQixNQUFRLFFBQVcsUUFDekQsVUFBcEJxMUMsRUFBSzFrQyxLQUFLc3JDLE9BRVpoQyxFQUFRLE9BRVY1RSxFQUFLMWtDLEtBQUt5c0MsUUFBUSxDQUFDN0ksRUFBR0EsRUFBR0MsRUFBR0EsSUFDdkIwRCxFQUFtQjU1QyxLQUV0QisyQyxFQUFLMWtDLEtBQUtzckMsTUFBUSxNQUNsQnBELEVBQWdCeEQsRUFBSzFrQyxPQUVuQnBQLEdBQ0ZvNkMsRUFBVXRHLEVBQUsxa0MsS0FBTXBQLEVBQUdqRCxHQUUxQisyQyxFQUFLMWtDLEtBQUsrcUMsU0FBVSxJQVl4QmpELEVBQWNud0MsS0FBS3FJLEtBQU1nb0MsR0FUZCxTQUFjcjZDLEdBQ25CKzJDLEVBQUsxa0MsS0FBSytxQyxTQUNaL0MsRUFBT3I2QyxHQUlUdTZDLEVBQWdCeEQsRUFBSzFrQyxTQUl2QnJJLEtBQUtxSSxLQUFLNGpDLEVBQUlqMkMsRUFBRW03QyxRQUNoQm54QyxLQUFLcUksS0FBSzZqQyxFQUFJbDJDLEVBQUVvN0MsU0FPbEJ3RCxXQUFZLFNBQVM1K0MsR0FDbkIsSUFBSWcvQyxFQUFLaC9DLEVBQUVnN0MsZUFBZSxHQUMxQmh4QyxLQUFLcUksS0FBSzRqQyxFQUFJK0ksRUFBRzdELFFBQ2pCbnhDLEtBQUtxSSxLQUFLNmpDLEVBQUk4SSxFQUFHNUQsU0FPbkI2RCxVQUFXLFNBQVNqL0MsR0FDbEIsSUFBSWlELEVBQUkwM0MsRUFBb0IzNkMsR0FDeEJnL0MsRUFBS2gvQyxFQUFFZzdDLGVBQWUsR0FDdEIvRSxFQUFJK0ksRUFBRzdELFFBQVNqRixFQUFJOEksRUFBRzVELFFBQ3ZCK0IsRUFBb0JuekMsS0FBS3FJLEtBQU00akMsRUFBR0MsS0FDWixVQUFwQmxzQyxLQUFLcUksS0FBS3NyQyxPQUVaaEMsRUFBUSxPQUVWM3hDLEtBQUtxSSxLQUFLeXNDLFFBQVEsQ0FBQzdJLEVBQUdBLEVBQUdDLEVBQUdBLElBQzVCbUgsRUFBVXJ6QyxLQUFLcUksS0FBTXBQLEVBQUcrN0MsR0FDeEJoMUMsS0FBS3FJLEtBQUtzckMsTUFBUSxRQUNsQjN6QyxLQUFLcUksS0FBSytxQyxTQUFVLElBUXhCeUIsU0FBVSxTQUFTNytDLEdBQ2pCLElBQUlpRCxFQUFJMDNDLEVBQW9CMzZDLEdBQ3hCZy9DLEVBQUtoL0MsRUFBRWc3QyxlQUFlLEdBRXRCaHhDLEtBQUtxSSxLQUFLK3FDLFVBRVpwekMsS0FBS3FJLEtBQUtzckMsTUFBUSxNQUNsQjN6QyxLQUFLcUksS0FBS3lzQyxRQUFRLENBQUM3SSxFQUFHK0ksRUFBRzdELFFBQVNqRixFQUFHOEksRUFBRzVELFVBQ3hDaUMsRUFBVXJ6QyxLQUFLcUksS0FBTXBQLEVBQUcrN0MsT0F5RDlCcFYsRUFBUyxDQUNQOW5DLEtBQU0sTUFDTm82QyxLQUFNLENBQUMsWUFBYSxRQUFTLGFBQWMsWUFDM0NMLEtBQU0sQ0FDSmhtQixNQUFPLENBQUMsWUFBYSxjQUNyQkMsSUFBSyxDQUFDLFFBQVMsYUFFakI2bUIsTUFBTyxDQUFDLE9BQ1J0cUMsS0FBTSxDQUNKNGpDLEVBQUdpSixJQUNIaEosRUFBR2dKLElBQ0h2RCxTQUFTLEdBTVhHLE1BQU8sV0FDTDl4QyxLQUFLcUksS0FBSzRqQyxFQUFJaUosSUFDZGwxQyxLQUFLcUksS0FBSzZqQyxFQUFJZ0osSUFDZGwxQyxLQUFLcUksS0FBS3NwQyxTQUFVLEdBT3RCZ0QsVUFBVyxTQUFTMytDLEdBQ2Q0NUMsRUFBbUI1NUMsS0FDckJnSyxLQUFLcUksS0FBSzRqQyxFQUFJajJDLEVBQUVtN0MsUUFDaEJueEMsS0FBS3FJLEtBQUs2akMsRUFBSWwyQyxFQUFFbzdDLFVBUXBCK0QsTUFBTyxTQUFTbi9DLEdBQ1Y0NUMsRUFBbUI1NUMsSUFDckJnK0MsRUFBYWgwQyxLQUFLcUksS0FBTXJTLElBUTVCNCtDLFdBQVksU0FBUzUrQyxHQUNuQixNQUFNaTZDLEVBQVFqNkMsRUFBRWc3QyxlQUFlLEdBQy9CaHhDLEtBQUtxSSxLQUFLNGpDLEVBQUlnRSxFQUFNa0IsUUFDcEJueEMsS0FBS3FJLEtBQUs2akMsRUFBSStELEVBQU1tQixTQU90QnlELFNBQVUsU0FBUzcrQyxHQUNqQmcrQyxFQUFhaDBDLEtBQUtxSSxLQUFNclMsRUFBRWc3QyxlQUFlLEdBQUloN0MsTyw2QkM3Z0NqRDs7Ozs7Ozs7OztBQWtCQSxNQUFNby9DLEVBQW1CLEdBQ3pCLElBQUk3bkMsRUFBUXpOLFlBQVk1SyxVQUN4QixLQUFPcVksR0FBTyxDQUNaLElBQUk3TCxFQUFRek0sT0FBTzRNLG9CQUFvQjBMLEdBQ3ZDLElBQUssSUFBSXpZLEVBQUUsRUFBR0EsRUFBRTRNLEVBQU0xTSxPQUFRRixJQUM1QnNnRCxFQUFpQjF6QyxFQUFNNU0sS0FBTSxFQUUvQnlZLEVBQVF0WSxPQUFPK0wsZUFBZXVNLEdBcUV6QixNQUFNOG5DLEVBQW9CLFlBQWM3a0MsSUFRNUMsTUFBTTdJLEVBQU8sWUFBa0I2SSxHQTBOaEMsT0FqTkEsY0FBZ0M3SSxFQVc5Qix1Q0FDRSxJQUFJMnRDLEVBQUt0MUMsS0FBS3UxQyxtQkFDZCxJQUFLLElBQUl6Z0QsRUFBRSxFQUFHQSxFQUFJd2dELEVBQUd0Z0QsT0FBUUYsSUFDM0JrTCxLQUFLOUssVUFBVWluQyx3QkFBd0IsWUFBZ0JtWixFQUFHeGdELEtBWTlELGdDQUFnQzRFLEdBQzlCLE9BQU8sWUFBZ0JBLEdBWXpCLHdCQUNNc0csS0FBSzhVLGNBQ1A5VSxLQUFLdzFDLDJCQUEyQngxQyxLQUFLOFUsYUFDckM5VSxLQUFLOFUsWUFBYyxNQUVyQi9VLE1BQU0yd0Isd0JBaUJSLDJCQUEyQmh2QixHQUN6QixJQUFLLElBQUkxSyxLQUFLMEssRUFDWjFCLEtBQUtzK0IsYUFBYXRuQyxFQUFHMEssRUFBTTFLLElBZ0IvQixpQkFBaUJ1SSxFQUFXdkcsR0FDMUIsTUFBTThoQixFQUFnQyxLQUNqQ0EsRUFBRzZaLGFBQWFwMUIsSUFDbkJTLEtBQUtxNUIsc0JBQXNCdmUsRUFBSTloQixFQUFPdUcsR0FZMUMsZ0JBQWdCdkcsR0FFZCxjQUFlQSxHQUNiLElBQUssU0FDSCxHQUFJQSxhQUFpQnk4QyxLQUNuQixPQUFPejhDLEVBQU1rUCxXQUNSLEdBQUlsUCxFQUNULElBQ0UsT0FBT2dHLEtBQUtDLFVBQVVqRyxHQUN0QixNQUFNaXpDLEdBQ04sTUFBTyxHQUliLFFBQ0UsT0FBT2xzQyxNQUFNbXFDLGdCQUFnQmx4QyxJQW9CbkMsa0JBQWtCQSxFQUFPdEIsR0FJdkIsSUFBSWcrQyxFQUNKLE9BQVFoK0MsR0FDTixLQUFLekMsT0FDSCxJQUNFeWdELEVBQVcxMkMsS0FBS0csTUFBMkIsR0FDM0MsTUFBTThzQyxHQUVOeUosRUFBVzE4QyxFQUViLE1BQ0YsS0FBSzhFLE1BQ0gsSUFDRTQzQyxFQUFXMTJDLEtBQUtHLE1BQTJCLEdBQzNDLE1BQU04c0MsR0FDTnlKLEVBQVcsS0FDWDc3QyxRQUFRd0MsS0FBSyx1REFBdURyRCxHQUV0RSxNQUNGLEtBQUt5OEMsS0FDSEMsRUFBV3pCLE1BQU1qN0MsR0FBU3dHLE9BQU94RyxHQUFTa0csT0FBT2xHLEdBQ2pEMDhDLEVBQVcsSUFBSUQsS0FBS0MsR0FDcEIsTUFDRixRQUNFQSxFQUFXMzFDLE1BQU1vcUMsa0JBQWtCbnhDLEVBQU90QixHQUc5QyxPQUFPZytDLEVBb0JULHdCQUF3Qmg4QyxFQUFVc2QsSUF4UHRDLFNBQTJCekUsRUFBTzdZLEdBRWhDLElBQUswN0MsRUFBaUIxN0MsR0FBVyxDQUMvQixJQUFJVixFQUFRdVosRUFBTTdZLFFBQ0oxQixJQUFWZ0IsSUFDRXVaLEVBQU13QyxPQUdSeEMsRUFBTVQsb0JBQW9CcFksRUFBVVYsSUFHL0J1WixFQUFNdUMsWUFFQ3ZDLEVBQU1wZCxlQUFld0osMEJBQTBCLGNBQWU0VCxNQUN4RUEsRUFBTXVDLFlBQWM3ZixPQUFPb0UsT0FBT2taLEVBQU11QyxjQUZ4Q3ZDLEVBQU11QyxZQUFjLEdBSXRCdkMsRUFBTXVDLFlBQVlwYixHQUFZVixLQXlPaEMyOEMsQ0FBa0IzMUMsS0FBTXRHLEdBQ3hCcUcsTUFBTTYxQyx3QkFBd0JsOEMsRUFBVXNkLEdBVTFDLGFBQWF0ZCxHQUNYLE9BQU9zRyxLQUFLaTRCLG1CQUFxQmo0QixLQUFLaTRCLGtCQUFrQnYrQixHQVcxRCxtQkFBbUJrRixHQUNqQixPQUFPRyxRQUFRaUIsS0FBS2dWLGVBQWtCcFcsS0FBUW9CLEtBQUtnVixvQiw2QkMzVHpEOzs7Ozs7Ozs7O0FBZ0JBLE1BQU02Z0MsRUFBWSxJQW9CTEMsRUFBb0IsWUFNNUJ0bEMsR0FRSCxjQUFnQ0EsRUFROUIsd0JBQXdCOU8sR0FDdEIsTUFBTTZMLEVBQVF2TixLQUFLOUssVUFDbkIsSUFBSyxJQUFJMEosS0FBUThDLEVBRVQ5QyxLQUFRMk8sR0FDWkEsRUFBTTR1Qix3QkFBd0J2OUIsR0FjcEMsZ0NBQWdDbEYsR0FDOUIsT0FBT0EsRUFBU3NJLGNBVWxCLHVCQUF1QmxLLElBbUJ2Qix3QkFBd0I0QixFQUFVc2QsR0FDaENoWCxLQUFLeXhCLDJCQUEyQi8zQixHQUMzQnNHLEtBQUs3SyxlQUFlLHVCQUN2QjZLLEtBQUtpNEIsa0JBQW9CaGpDLE9BQU9nUyxPQUFPLEdBQUlqSCxLQUFLaTRCLG9CQUU3Q2o0QixLQUFLaTRCLGtCQUFrQnYrQixLQUMxQnNHLEtBQUtpNEIsa0JBQWtCditCLElBQVksRUFDbkNzRyxLQUFLNDFDLHdCQUF3Qmw4QyxFQUFVc2QsSUFZM0MsMkJBQTJCdGQsR0FJekIsR0FIS3NHLEtBQUs3SyxlQUFlLHNCQUN2QjZLLEtBQUsrMUMsaUJBQW1COWdELE9BQU9nUyxPQUFPLEdBQUlqSCxLQUFLKzFDLG9CQUU1Qy8xQyxLQUFLKzFDLGlCQUFpQnI4QyxHQUFXLENBQ3BDLE1BQU1rSCxFQUFPWixLQUFLb0MsWUFBWW11Qix5QkFBeUI3MkIsR0FDdkRzRyxLQUFLKzFDLGlCQUFpQm4xQyxHQUFRbEgsR0FXakMsd0JBQXdCQSxFQUFVc2QsR0FDakMvaEIsT0FBT3lELGVBQWVzSCxLQUFNdEcsRUFBVSxDQUdwQyxNQUNFLE9BQU9zRyxLQUFLZzJDLGFBQWF0OEMsSUFHM0JvRCxJQUFLa2EsRUFBVyxhQUFpQixTQUFVaGUsR0FDekNnSCxLQUFLcytCLGFBQWE1a0MsRUFBVVYsTUFNbEMsY0FDRStHLFFBRUFDLEtBQUtpOUIsZUFBZ0IsRUFDckJqOUIsS0FBSzY4QixhQUFjLEVBQ25CNzhCLEtBQUtpMkMsZUFBZ0IsRUFDckJqMkMsS0FBSytVLE9BQVMsR0FDZC9VLEtBQUtnVixjQUFnQixLQUNyQmhWLEtBQUtpVixVQUFZLEtBQ2pCalYsS0FBS2syQyxvQkFBc0IsS0FDM0JsMkMsS0FBS20yQyxlQUFnQixFQUNyQm4yQyxLQUFLMHdCLHdCQWtCUCxRQUNFMXdCLEtBQUs2OEIsYUFBYyxFQUNuQjc4QixLQUFLMGEsbUJBYVAsd0JBSUUsSUFBSyxJQUFJMWpCLEtBQUtnSixLQUFLaTRCLGtCQUNiajRCLEtBQUs3SyxlQUFlNkIsS0FDdEJnSixLQUFLazJDLG9CQUFzQmwyQyxLQUFLazJDLHFCQUF1QixHQUN2RGwyQyxLQUFLazJDLG9CQUFvQmwvQyxHQUFLZ0osS0FBS2hKLFVBQzVCZ0osS0FBS2hKLElBbUJsQiw4QkFBOEIwSyxHQUM1QnpNLE9BQU9nUyxPQUFPakgsS0FBTTBCLEdBYXRCLGFBQWFoSSxFQUFVVixHQUNqQmdILEtBQUs4UixvQkFBb0JwWSxFQUFVVixJQUNyQ2dILEtBQUs4NUIsd0JBV1QsYUFBYXBnQyxHQUNYLE9BQU9zRyxLQUFLK1UsT0FBT3JiLEdBaUJyQixvQkFBb0JBLEVBQVVWLEVBQU9vOUMsR0FDbkMsSUFBSS8yQyxFQUFNVyxLQUFLK1UsT0FBT3JiLEdBQ2xCMjhDLEVBQVVyMkMsS0FBS3U4QixzQkFBc0I3aUMsRUFBVVYsRUFBT3FHLEdBYTFELE9BWklnM0MsSUFDR3IyQyxLQUFLZ1YsZ0JBQ1JoVixLQUFLZ1YsY0FBZ0IsR0FDckJoVixLQUFLaVYsVUFBWSxJQUdmalYsS0FBS2lWLGFBQWV2YixLQUFZc0csS0FBS2lWLGFBQ3ZDalYsS0FBS2lWLFVBQVV2YixHQUFZMkYsR0FFN0JXLEtBQUsrVSxPQUFPcmIsR0FBWVYsRUFDeEJnSCxLQUFLZ1YsY0FBY3RiLEdBQVlWLEdBRTFCcTlDLEVBWVQseUJBQ09yMkMsS0FBS2kyQyxlQUFpQmoyQyxLQUFLNjhCLGNBQzlCNzhCLEtBQUtpMkMsZUFBZ0IsRUFDckJKLEVBQVUvcUMsSUFBSSxLQUNSOUssS0FBS2kyQyxnQkFDUGoyQyxLQUFLaTJDLGVBQWdCLEVBQ3JCajJDLEtBQUswYSx1QkFrQmIsb0JBQ08xYSxLQUFLaTlCLGdCQUNSajlCLEtBQUtpOUIsZUFBZ0IsRUFDakJqOUIsS0FBS2syQyxzQkFDUGwyQyxLQUFLczJDLDhCQUE4QnQyQyxLQUFLazJDLHFCQUN4Q2wyQyxLQUFLazJDLG9CQUFzQixNQUU3QmwyQyxLQUFLMGpCLFNBY1QsbUJBQ0UsTUFBTWhpQixFQUFRMUIsS0FBSytVLE9BQ2Jzb0IsRUFBZXI5QixLQUFLZ1YsY0FDcEIzVixFQUFNVyxLQUFLaVYsVUFDYmpWLEtBQUt1MkMsd0JBQXdCNzBDLEVBQU8yN0IsRUFBY2grQixLQUNwRFcsS0FBS2dWLGNBQWdCLEtBQ3JCaFYsS0FBS2lWLFVBQVksS0FDakJqVixLQUFLdzJDLG1CQUFtQjkwQyxFQUFPMjdCLEVBQWNoK0IsSUFpQmpELHdCQUF3Qis5QixFQUFjQyxFQUFjOUcsR0FDbEQsT0FBT3gzQixRQUFRcytCLEdBZ0JqQixtQkFBbUJELEVBQWNDLEVBQWM5RyxJQXNCL0Msc0JBQXNCNzhCLEVBQVVWLEVBQU9xRyxHQUNyQyxPQUVHQSxJQUFRckcsSUFFTnFHLEdBQVFBLEdBQU9yRyxHQUFVQSxHQWdCaEMseUJBQXlCbEIsRUFBTXVILEVBQUtyRyxFQUFPMm1DLEdBQ3JDdGdDLElBQVFyRyxHQUNWZ0gsS0FBS3NDLHFCQUFxQnhLLEVBQU1rQixHQUU5QitHLE1BQU1rcUMsMEJBQ1JscUMsTUFBTWtxQyx5QkFBeUJueUMsRUFBTXVILEVBQUtyRyxFQUFPMm1DLEdBaUJyRCxxQkFBcUJwZ0MsRUFBV3ZHLEVBQU90QixHQUNyQyxJQUFLc0ksS0FBS20yQyxjQUFlLENBQ3ZCLE1BQU1wd0MsRUFBTS9GLEtBQUsrMUMsaUJBQ1hyOEMsRUFBV3FNLEdBQU9BLEVBQUl4RyxJQUFjQSxFQUMxQ1MsS0FBS3RHLEdBQVlzRyxLQUFLbXFDLGtCQUFrQm54QyxFQUFPdEIsR0FDN0NzSSxLQUFLb0MsWUFBWXEwQyxnQkFBZ0IvOEMsS0FldkMscUJBQXFCQSxFQUFVNkYsRUFBV3ZHLEdBQ3hDZ0gsS0FBS20yQyxlQUFnQixFQUNyQm45QyxFQUFTMFYsVUFBVTFaLE9BQVMsRUFBS2dMLEtBQUt0RyxHQUFZVixFQUNsRGdILEtBQUtxNUIsc0JBQWlELEtBQVFyZ0MsRUFDNUR1RyxHQUFhUyxLQUFLb0MsWUFBWW11Qix5QkFBeUI3MkIsSUFDekRzRyxLQUFLbTJDLGVBQWdCLEVBaUJ2QixzQkFBc0IvNkMsRUFBTXBDLEVBQU91RyxHQUNqQyxNQUFNaW5DLEVBQU14bUMsS0FBS2txQyxnQkFBZ0JseEMsUUFDckJoQixJQUFSd3VDLEVBQ0ZwckMsRUFBS3NILGdCQUFnQm5ELElBRUgsVUFBZEEsR0FBdUMsU0FBZEEsR0FBc0MsU0FBZEEsSUFDbkRuRSxFQUErQixXQUFELENBQU1BLElBRXRDQSxFQUFLdEUsYUFBYXlJLEVBQVdpbkMsSUFnQmpDLGdCQUFnQnh0QyxHQUNkLGNBQWVBLEdBQ2IsSUFBSyxVQUNILE9BQU9BLEVBQVEsUUFBS2hCLEVBQ3RCLFFBQ0UsT0FBZ0IsTUFBVGdCLEVBQWdCQSxFQUFNa1AsZ0JBQWFsUSxHQWlCaEQsa0JBQWtCZ0IsRUFBT3RCLEdBQ3ZCLE9BQVFBLEdBQ04sS0FBS3FILFFBQ0gsT0FBa0IsT0FBVi9GLEVBQ1YsS0FBS2tHLE9BQ0gsT0FBT0EsT0FBT2xHLEdBQ2hCLFFBQ0UsT0FBT0EsTyw2QkNuaUJqQjs7Ozs7Ozs7OztBQTZCTyxNQUFNMDlDLEVBQXdCLFlBTWhDbG1DLEdBTUMsY0FBb0NBLEVBVWxDLHdCQUF3QnBWLEVBQU04VyxFQUFXQyxHQUNsQyxZQUFZL1csRUFBTThXLEVBQVdDLElBQ2hDcFMsTUFBTXVTLHdCQUF3QmxYLEVBQU04VyxFQUFXQyxHQWFuRCw2QkFBNkIvVyxFQUFNOFcsRUFBV0MsR0FDdkMsWUFBZS9XLEVBQU04VyxFQUFXQyxJQUNuQ3BTLE1BQU00cUMsNkJBQTZCdnZDLEVBQU04VyxFQUFXQyxPLDZCQ3BFaEU7Ozs7Ozs7OztFQVdBLFNBQVN3a0MsRUFBVW43QyxFQUFPZ1EsRUFBU0MsR0FDakMsTUFBTyxDQUNMalEsTUFBT0EsRUFDUGdRLFFBQVNBLEVBQ1RDLFdBQVlBLEdBa0poQixTQUFTbXJDLEVBQVlDLEVBQVNDLEVBQWNDLEVBQ3RCMTNDLEVBQUsyM0MsRUFBVUMsR0FDbkMsSUFFSWo4QixFQUZBazhCLEVBQWMsRUFDZEMsRUFBYyxFQUdkQyxFQUFZdCtCLEtBQUt5QixJQUFJdzhCLEVBQWFELEVBQWNHLEVBQVNELEdBWTdELEdBWG9CLEdBQWhCRixHQUFpQyxHQUFaRSxJQUN2QkUsRUEwRUosU0FBc0JMLEVBQVN4M0MsRUFBS2c0QyxHQUNsQyxJQUFLLElBQUl2aUQsRUFBSSxFQUFHQSxFQUFJdWlELEVBQWN2aUQsSUFDaEMsSUFBS3dpRCxFQUFPVCxFQUFRL2hELEdBQUl1SyxFQUFJdkssSUFDMUIsT0FBT0EsRUFDWCxPQUFPdWlELEVBOUVTRSxDQUFhVixFQUFTeDNDLEVBQUsrM0MsSUFFdkNMLEdBQWNGLEVBQVE3aEQsUUFBVWlpRCxHQUFVNTNDLEVBQUlySyxTQUNoRG1pRCxFQThFSixTQUFzQk4sRUFBU3gzQyxFQUFLZzRDLEdBQ2xDLElBQUlHLEVBQVNYLEVBQVE3aEQsT0FDakJ5aUQsRUFBU3A0QyxFQUFJckssT0FDYjZHLEVBQVEsRUFDWixLQUFPQSxFQUFRdzdDLEdBQWdCQyxFQUFPVCxJQUFVVyxHQUFTbjRDLElBQU1vNEMsS0FDN0Q1N0MsSUFFRixPQUFPQSxFQXJGUzY3QyxDQUFhYixFQUFTeDNDLEVBQUsrM0MsRUFBWUYsSUFHdkRGLEdBQVlFLEVBRVpELEdBQVVFLEdBRFZKLEdBQWNJLElBRmRMLEdBQWdCSSxJQUtpQixHQUFLRCxFQUFTRCxHQUFZLEVBQ3pELE1BQU8sR0FFVCxHQUFJRixHQUFnQkMsRUFBWSxDQUU5QixJQURBLzdCLEVBQVMyN0IsRUFBVUcsRUFBYyxHQUFJLEdBQzlCRSxFQUFXQyxHQUNoQmo4QixFQUFPeFAsUUFBUWxXLEtBQUsrSixFQUFJMjNDLE1BRTFCLE1BQU8sQ0FBRWg4QixHQUNKLEdBQUlnOEIsR0FBWUMsRUFDckIsTUFBTyxDQUFFTixFQUFVRyxFQUFjLEdBQUlDLEVBQWFELElBRXBELElBQUlhLEVBekhOLFNBQTJDQyxHQUN6QyxJQUFJOWlELEVBQUk4aUQsRUFBVTVpRCxPQUFTLEVBQ3ZCb1QsRUFBSXd2QyxFQUFVLEdBQUc1aUQsT0FBUyxFQUMxQjZoRCxFQUFVZSxFQUFVOWlELEdBQUdzVCxHQUN2Qnl2QyxFQUFRLEdBQ1osS0FBTy9pRCxFQUFJLEdBQUtzVCxFQUFJLEdBQUcsQ0FDckIsR0FBUyxHQUFMdFQsRUFBUSxDQUNWK2lELEVBQU12aUQsS0F4REssR0F5RFg4UyxJQUNBLFNBRUYsR0FBUyxHQUFMQSxFQUFRLENBQ1Z5dkMsRUFBTXZpRCxLQTVEUSxHQTZEZFIsSUFDQSxTQUVGLElBSUl5bEIsRUFKQXU5QixFQUFZRixFQUFVOWlELEVBQUksR0FBR3NULEVBQUksR0FDakMydkMsRUFBT0gsRUFBVTlpRCxFQUFJLEdBQUdzVCxHQUN4QjR2QyxFQUFRSixFQUFVOWlELEdBQUdzVCxFQUFJLEdBSTNCbVMsRUFERXc5QixFQUFPQyxFQUNIRCxFQUFPRCxFQUFZQyxFQUFPRCxFQUUxQkUsRUFBUUYsRUFBWUUsRUFBUUYsRUFFaEN2OUIsR0FBT3U5QixHQUNMQSxHQUFhakIsRUFDZmdCLEVBQU12aUQsS0EvRUssSUFpRlh1aUQsRUFBTXZpRCxLQWhGTSxHQWlGWnVoRCxFQUFVaUIsR0FFWmhqRCxJQUNBc1QsS0FDU21TLEdBQU93OUIsR0FDaEJGLEVBQU12aUQsS0FwRlEsR0FxRmRSLElBQ0EraEQsRUFBVWtCLElBRVZGLEVBQU12aUQsS0F6RkssR0EwRlg4UyxJQUNBeXVDLEVBQVVtQixHQUtkLE9BREFILEVBQU1JLFVBQ0NKLEVBMEVHSyxDQTVKWixTQUEyQnJCLEVBQVNDLEVBQWNDLEVBQ3RCMTNDLEVBQUsyM0MsRUFBVUMsR0FFekMsSUFBSWtCLEVBQVdsQixFQUFTRCxFQUFXLEVBQy9Cb0IsRUFBY3JCLEVBQWFELEVBQWUsRUFDMUNjLEVBQVksSUFBSTk1QyxNQUFNcTZDLEdBRzFCLElBQUssSUFBSXJqRCxFQUFJLEVBQUdBLEVBQUlxakQsRUFBVXJqRCxJQUM1QjhpRCxFQUFVOWlELEdBQUssSUFBSWdKLE1BQU1zNkMsR0FDekJSLEVBQVU5aUQsR0FBRyxHQUFLQSxFQUlwQixJQUFLLElBQUlzVCxFQUFJLEVBQUdBLEVBQUlnd0MsRUFBYWh3QyxJQUMvQnd2QyxFQUFVLEdBQUd4dkMsR0FBS0EsRUFFcEIsSUFBSyxJQUFJdFQsRUFBSSxFQUFHQSxFQUFJcWpELEVBQVVyakQsSUFDNUIsSUFBSyxJQUFJc1QsRUFBSSxFQUFHQSxFQUFJZ3dDLEVBQWFod0MsSUFDL0IsR0FBSWt2QyxFQUFPVCxFQUFRQyxFQUFlMXVDLEVBQUksR0FBSS9JLEVBQUkyM0MsRUFBV2xpRCxFQUFJLElBQzNEOGlELEVBQVU5aUQsR0FBR3NULEdBQUt3dkMsRUFBVTlpRCxFQUFJLEdBQUdzVCxFQUFJLE9BQ3BDLENBQ0gsSUFBSTR2QyxFQUFRSixFQUFVOWlELEVBQUksR0FBR3NULEdBQUssRUFDOUIydkMsRUFBT0gsRUFBVTlpRCxHQUFHc1QsRUFBSSxHQUFLLEVBQ2pDd3ZDLEVBQVU5aUQsR0FBR3NULEdBQUs0dkMsRUFBUUQsRUFBT0MsRUFBUUQsRUFLL0MsT0FBT0gsRUFnSUhTLENBQWtCeEIsRUFBU0MsRUFBY0MsRUFDbEIxM0MsRUFBSzIzQyxFQUFVQyxJQUUxQ2o4QixPQUFTaGpCLEVBQ1QsSUFBSXVULEVBQVUsR0FDVi9QLEVBQVFzN0MsRUFDUndCLEVBQVd0QixFQUNmLElBQUssSUFBSWxpRCxFQUFJLEVBQUdBLEVBQUk2aUQsRUFBSTNpRCxPQUFRRixJQUM5QixPQUFPNmlELEVBQUk3aUQsSUFDVCxLQXRMYSxFQXVMUGttQixJQUNGelAsRUFBUWpXLEtBQUswbEIsR0FDYkEsT0FBU2hqQixHQUdYd0QsSUFDQTg4QyxJQUNBLE1BQ0YsS0E5TGMsRUErTFB0OUIsSUFDSEEsRUFBUzI3QixFQUFVbjdDLEVBQU8sR0FBSSxJQUVoQ3dmLEVBQU92UCxhQUNQalEsSUFFQXdmLEVBQU94UCxRQUFRbFcsS0FBSytKLEVBQUlpNUMsSUFDeEJBLElBQ0EsTUFDRixLQXZNVyxFQXdNSnQ5QixJQUNIQSxFQUFTMjdCLEVBQVVuN0MsRUFBTyxHQUFJLElBRWhDd2YsRUFBT3ZQLGFBQ1BqUSxJQUNBLE1BQ0YsS0E3TWMsRUE4TVB3ZixJQUNIQSxFQUFTMjdCLEVBQVVuN0MsRUFBTyxHQUFJLElBRWhDd2YsRUFBT3hQLFFBQVFsVyxLQUFLK0osRUFBSWk1QyxJQUN4QkEsSUFRTixPQUhJdDlCLEdBQ0Z6UCxFQUFRalcsS0FBSzBsQixHQUVSelAsRUFtREYsU0FBU2d0QyxFQUFpQjFCLEVBQVMxVixHQUN4QyxPQUFPeVYsRUFBWUMsRUFBUyxFQUFHQSxFQUFRN2hELE9BQVFtc0MsRUFBVSxFQUNqQ0EsRUFBU25zQyxRQUduQyxTQUFTc2lELEVBQU9rQixFQUFjQyxHQUM1QixPQUFPRCxJQUFpQkMsSSw2QkN6UzFCLHVOQUVPLE1BQU1DLEVBQWtCLEdBQUc7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7O0lBaU1yQkMsRUFBZSxHQUFHOzs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7SUF3TGxCQyxHQXRGc0IsR0FBRzs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7O0tBc0ZYLEdBQUc7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7TUF5VWpCQyxHQTlHZ0IsR0FBRzs7Ozs7Ozs7Ozs7Ozs7Ozs7RUFtQkcsR0FBRzs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7O0tBdUVSLEdBQUc7Ozs7Ozs7Ozs7Ozs7Ozs7OztLQW9CRCxHQUFHOzs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7OztJQTJLdEJDLEdBaEZjLEdBQUc7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7OztHQWdGQyxHQUFHOzs7Ozs7Ozs7Ozs7Ozs7TUF1RHJCQyxHQXRDYSxHQUFHOzs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7S0FzQ0QsR0FBRzs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7O0dBdUJGLEdBQUc7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7RUEwQ0UsR0FBRzs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7O0VBd0ROLEdBQUc7Ozs7Ozs7Ozs7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T2tyRCxTQUlyQy9vRCxPQUFPb1YsZUFBZXdHLE9BQU8sWUFBYSIsImZpbGUiOiJjb21waS1hcHAtODJlOGQ0ZDQwYTM0Yjg5MGQyMGIuanMiLCJzb3VyY2VzQ29udGVudCI6WyIgXHQvLyBpbnN0YWxsIGEgSlNPTlAgY2FsbGJhY2sgZm9yIGNodW5rIGxvYWRpbmdcbiBcdGZ1bmN0aW9uIHdlYnBhY2tKc29ucENhbGxiYWNrKGRhdGEpIHtcbiBcdFx0dmFyIGNodW5rSWRzID0gZGF0YVswXTtcbiBcdFx0dmFyIG1vcmVNb2R1bGVzID0gZGF0YVsxXTtcblxuXG4gXHRcdC8vIGFkZCBcIm1vcmVNb2R1bGVzXCIgdG8gdGhlIG1vZHVsZXMgb2JqZWN0LFxuIFx0XHQvLyB0aGVuIGZsYWcgYWxsIFwiY2h1bmtJZHNcIiBhcyBsb2FkZWQgYW5kIGZpcmUgY2FsbGJhY2tcbiBcdFx0dmFyIG1vZHVsZUlkLCBjaHVua0lkLCBpID0gMCwgcmVzb2x2ZXMgPSBbXTtcbiBcdFx0Zm9yKDtpIDwgY2h1bmtJZHMubGVuZ3RoOyBpKyspIHtcbiBcdFx0XHRjaHVua0lkID0gY2h1bmtJZHNbaV07XG4gXHRcdFx0aWYoT2JqZWN0LnByb3RvdHlwZS5oYXNPd25Qcm9wZXJ0eS5jYWxsKGluc3RhbGxlZENodW5rcywgY2h1bmtJZCkgJiYgaW5zdGFsbGVkQ2h1bmtzW2NodW5rSWRdKSB7XG4gXHRcdFx0XHRyZXNvbHZlcy5wdXNoKGluc3RhbGxlZENodW5rc1tjaHVua0lkXVswXSk7XG4gXHRcdFx0fVxuIFx0XHRcdGluc3RhbGxlZENodW5rc1tjaHVua0lkXSA9IDA7XG4gXHRcdH1cbiBcdFx0Zm9yKG1vZHVsZUlkIGluIG1vcmVNb2R1bGVzKSB7XG4gXHRcdFx0aWYoT2JqZWN0LnByb3RvdHlwZS5oYXNPd25Qcm9wZXJ0eS5jYWxsKG1vcmVNb2R1bGVzLCBtb2R1bGVJZCkpIHtcbiBcdFx0XHRcdG1vZHVsZXNbbW9kdWxlSWRdID0gbW9yZU1vZHVsZXNbbW9kdWxlSWRdO1xuIFx0XHRcdH1cbiBcdFx0fVxuIFx0XHRpZihwYXJlbnRKc29ucEZ1bmN0aW9uKSBwYXJlbnRKc29ucEZ1bmN0aW9uKGRhdGEpO1xuXG4gXHRcdHdoaWxlKHJlc29sdmVzLmxlbmd0aCkge1xuIFx0XHRcdHJlc29sdmVzLnNoaWZ0KCkoKTtcbiBcdFx0fVxuXG4gXHR9O1xuXG5cbiBcdC8vIFRoZSBtb2R1bGUgY2FjaGVcbiBcdHZhciBpbnN0YWxsZWRNb2R1bGVzID0ge307XG5cbiBcdC8vIG9iamVjdCB0byBzdG9yZSBsb2FkZWQgYW5kIGxvYWRpbmcgY2h1bmtzXG4gXHQvLyB1bmRlZmluZWQgPSBjaHVuayBub3QgbG9hZGVkLCBudWxsID0gY2h1bmsgcHJlbG9hZGVkL3ByZWZldGNoZWRcbiBcdC8vIFByb21pc2UgPSBjaHVuayBsb2FkaW5nLCAwID0gY2h1bmsgbG9hZGVkXG4gXHR2YXIgaW5zdGFsbGVkQ2h1bmtzID0ge1xuIFx0XHQwOiAwXG4gXHR9O1xuXG5cblxuIFx0Ly8gc2NyaXB0IHBhdGggZnVuY3Rpb25cbiBcdGZ1bmN0aW9uIGpzb25wU2NyaXB0U3JjKGNodW5rSWQpIHtcbiBcdFx0cmV0dXJuIF9fd2VicGFja19yZXF1aXJlX18ucCArIFwiXCIgKyB7XCIxXCI6XCI1MTllOWM4N2ZiNDZiMmQ1YzIwZFwiLFwiMlwiOlwiYzU0MzI4Zjc1N2Y0MDA2YmRkMWJcIixcIjNcIjpcImFhZTQzNzYyMDllMTMxNmYwMWVkXCJ9W2NodW5rSWRdICsgXCIuanNcIlxuIFx0fVxuXG4gXHQvLyBUaGUgcmVxdWlyZSBmdW5jdGlvblxuIFx0ZnVuY3Rpb24gX193ZWJwYWNrX3JlcXVpcmVfXyhtb2R1bGVJZCkge1xuXG4gXHRcdC8vIENoZWNrIGlmIG1vZHVsZSBpcyBpbiBjYWNoZVxuIFx0XHRpZihpbnN0YWxsZWRNb2R1bGVzW21vZHVsZUlkXSkge1xuIFx0XHRcdHJldHVybiBpbnN0YWxsZWRNb2R1bGVzW21vZHVsZUlkXS5leHBvcnRzO1xuIFx0XHR9XG4gXHRcdC8vIENyZWF0ZSBhIG5ldyBtb2R1bGUgKGFuZCBwdXQgaXQgaW50byB0aGUgY2FjaGUpXG4gXHRcdHZhciBtb2R1bGUgPSBpbnN0YWxsZWRNb2R1bGVzW21vZHVsZUlkXSA9IHtcbiBcdFx0XHRpOiBtb2R1bGVJZCxcbiBcdFx0XHRsOiBmYWxzZSxcbiBcdFx0XHRleHBvcnRzOiB7fVxuIFx0XHR9O1xuXG4gXHRcdC8vIEV4ZWN1dGUgdGhlIG1vZHVsZSBmdW5jdGlvblxuIFx0XHRtb2R1bGVzW21vZHVsZUlkXS5jYWxsKG1vZHVsZS5leHBvcnRzLCBtb2R1bGUsIG1vZHVsZS5leHBvcnRzLCBfX3dlYnBhY2tfcmVxdWlyZV9fKTtcblxuIFx0XHQvLyBGbGFnIHRoZSBtb2R1bGUgYXMgbG9hZGVkXG4gXHRcdG1vZHVsZS5sID0gdHJ1ZTtcblxuIFx0XHQvLyBSZXR1cm4gdGhlIGV4cG9ydHMgb2YgdGhlIG1vZHVsZVxuIFx0XHRyZXR1cm4gbW9kdWxlLmV4cG9ydHM7XG4gXHR9XG5cbiBcdC8vIFRoaXMgZmlsZSBjb250YWlucyBvbmx5IHRoZSBlbnRyeSBjaHVuay5cbiBcdC8vIFRoZSBjaHVuayBsb2FkaW5nIGZ1bmN0aW9uIGZvciBhZGRpdGlvbmFsIGNodW5rc1xuIFx0X193ZWJwYWNrX3JlcXVpcmVfXy5lID0gZnVuY3Rpb24gcmVxdWlyZUVuc3VyZShjaHVua0lkKSB7XG4gXHRcdHZhciBwcm9taXNlcyA9IFtdO1xuXG5cbiBcdFx0Ly8gSlNPTlAgY2h1bmsgbG9hZGluZyBmb3IgamF2YXNjcmlwdFxuXG4gXHRcdHZhciBpbnN0YWxsZWRDaHVua0RhdGEgPSBpbnN0YWxsZWRDaHVua3NbY2h1bmtJZF07XG4gXHRcdGlmKGluc3RhbGxlZENodW5rRGF0YSAhPT0gMCkgeyAvLyAwIG1lYW5zIFwiYWxyZWFkeSBpbnN0YWxsZWRcIi5cblxuIFx0XHRcdC8vIGEgUHJvbWlzZSBtZWFucyBcImN1cnJlbnRseSBsb2FkaW5nXCIuXG4gXHRcdFx0aWYoaW5zdGFsbGVkQ2h1bmtEYXRhKSB7XG4gXHRcdFx0XHRwcm9taXNlcy5wdXNoKGluc3RhbGxlZENodW5rRGF0YVsyXSk7XG4gXHRcdFx0fSBlbHNlIHtcbiBcdFx0XHRcdC8vIHNldHVwIFByb21pc2UgaW4gY2h1bmsgY2FjaGVcbiBcdFx0XHRcdHZhciBwcm9taXNlID0gbmV3IFByb21pc2UoZnVuY3Rpb24ocmVzb2x2ZSwgcmVqZWN0KSB7XG4gXHRcdFx0XHRcdGluc3RhbGxlZENodW5rRGF0YSA9IGluc3RhbGxlZENodW5rc1tjaHVua0lkXSA9IFtyZXNvbHZlLCByZWplY3RdO1xuIFx0XHRcdFx0fSk7XG4gXHRcdFx0XHRwcm9taXNlcy5wdXNoKGluc3RhbGxlZENodW5rRGF0YVsyXSA9IHByb21pc2UpO1xuXG4gXHRcdFx0XHQvLyBzdGFydCBjaHVuayBsb2FkaW5nXG4gXHRcdFx0XHR2YXIgc2NyaXB0ID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnc2NyaXB0Jyk7XG4gXHRcdFx0XHR2YXIgb25TY3JpcHRDb21wbGV0ZTtcblxuIFx0XHRcdFx0c2NyaXB0LmNoYXJzZXQgPSAndXRmLTgnO1xuIFx0XHRcdFx0c2NyaXB0LnRpbWVvdXQgPSAxMjA7XG4gXHRcdFx0XHRpZiAoX193ZWJwYWNrX3JlcXVpcmVfXy5uYykge1xuIFx0XHRcdFx0XHRzY3JpcHQuc2V0QXR0cmlidXRlKFwibm9uY2VcIiwgX193ZWJwYWNrX3JlcXVpcmVfXy5uYyk7XG4gXHRcdFx0XHR9XG4gXHRcdFx0XHRzY3JpcHQuc3JjID0ganNvbnBTY3JpcHRTcmMoY2h1bmtJZCk7XG5cbiBcdFx0XHRcdC8vIGNyZWF0ZSBlcnJvciBiZWZvcmUgc3RhY2sgdW53b3VuZCB0byBnZXQgdXNlZnVsIHN0YWNrdHJhY2UgbGF0ZXJcbiBcdFx0XHRcdHZhciBlcnJvciA9IG5ldyBFcnJvcigpO1xuIFx0XHRcdFx0b25TY3JpcHRDb21wbGV0ZSA9IGZ1bmN0aW9uIChldmVudCkge1xuIFx0XHRcdFx0XHQvLyBhdm9pZCBtZW0gbGVha3MgaW4gSUUuXG4gXHRcdFx0XHRcdHNjcmlwdC5vbmVycm9yID0gc2NyaXB0Lm9ubG9hZCA9IG51bGw7XG4gXHRcdFx0XHRcdGNsZWFyVGltZW91dCh0aW1lb3V0KTtcbiBcdFx0XHRcdFx0dmFyIGNodW5rID0gaW5zdGFsbGVkQ2h1bmtzW2NodW5rSWRdO1xuIFx0XHRcdFx0XHRpZihjaHVuayAhPT0gMCkge1xuIFx0XHRcdFx0XHRcdGlmKGNodW5rKSB7XG4gXHRcdFx0XHRcdFx0XHR2YXIgZXJyb3JUeXBlID0gZXZlbnQgJiYgKGV2ZW50LnR5cGUgPT09ICdsb2FkJyA/ICdtaXNzaW5nJyA6IGV2ZW50LnR5cGUpO1xuIFx0XHRcdFx0XHRcdFx0dmFyIHJlYWxTcmMgPSBldmVudCAmJiBldmVudC50YXJnZXQgJiYgZXZlbnQudGFyZ2V0LnNyYztcbiBcdFx0XHRcdFx0XHRcdGVycm9yLm1lc3NhZ2UgPSAnTG9hZGluZyBjaHVuayAnICsgY2h1bmtJZCArICcgZmFpbGVkLlxcbignICsgZXJyb3JUeXBlICsgJzogJyArIHJlYWxTcmMgKyAnKSc7XG4gXHRcdFx0XHRcdFx0XHRlcnJvci5uYW1lID0gJ0NodW5rTG9hZEVycm9yJztcbiBcdFx0XHRcdFx0XHRcdGVycm9yLnR5cGUgPSBlcnJvclR5cGU7XG4gXHRcdFx0XHRcdFx0XHRlcnJvci5yZXF1ZXN0ID0gcmVhbFNyYztcbiBcdFx0XHRcdFx0XHRcdGNodW5rWzFdKGVycm9yKTtcbiBcdFx0XHRcdFx0XHR9XG4gXHRcdFx0XHRcdFx0aW5zdGFsbGVkQ2h1bmtzW2NodW5rSWRdID0gdW5kZWZpbmVkO1xuIFx0XHRcdFx0XHR9XG4gXHRcdFx0XHR9O1xuIFx0XHRcdFx0dmFyIHRpbWVvdXQgPSBzZXRUaW1lb3V0KGZ1bmN0aW9uKCl7XG4gXHRcdFx0XHRcdG9uU2NyaXB0Q29tcGxldGUoeyB0eXBlOiAndGltZW91dCcsIHRhcmdldDogc2NyaXB0IH0pO1xuIFx0XHRcdFx0fSwgMTIwMDAwKTtcbiBcdFx0XHRcdHNjcmlwdC5vbmVycm9yID0gc2NyaXB0Lm9ubG9hZCA9IG9uU2NyaXB0Q29tcGxldGU7XG4gXHRcdFx0XHRkb2N1bWVudC5oZWFkLmFwcGVuZENoaWxkKHNjcmlwdCk7XG4gXHRcdFx0fVxuIFx0XHR9XG4gXHRcdHJldHVybiBQcm9taXNlLmFsbChwcm9taXNlcyk7XG4gXHR9O1xuXG4gXHQvLyBleHBvc2UgdGhlIG1vZHVsZXMgb2JqZWN0IChfX3dlYnBhY2tfbW9kdWxlc19fKVxuIFx0X193ZWJwYWNrX3JlcXVpcmVfXy5tID0gbW9kdWxlcztcblxuIFx0Ly8gZXhwb3NlIHRoZSBtb2R1bGUgY2FjaGVcbiBcdF9fd2VicGFja19yZXF1aXJlX18uYyA9IGluc3RhbGxlZE1vZHVsZXM7XG5cbiBcdC8vIGRlZmluZSBnZXR0ZXIgZnVuY3Rpb24gZm9yIGhhcm1vbnkgZXhwb3J0c1xuIFx0X193ZWJwYWNrX3JlcXVpcmVfXy5kID0gZnVuY3Rpb24oZXhwb3J0cywgbmFtZSwgZ2V0dGVyKSB7XG4gXHRcdGlmKCFfX3dlYnBhY2tfcmVxdWlyZV9fLm8oZXhwb3J0cywgbmFtZSkpIHtcbiBcdFx0XHRPYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgbmFtZSwgeyBlbnVtZXJhYmxlOiB0cnVlLCBnZXQ6IGdldHRlciB9KTtcbiBcdFx0fVxuIFx0fTtcblxuIFx0Ly8gZGVmaW5lIF9fZXNNb2R1bGUgb24gZXhwb3J0c1xuIFx0X193ZWJwYWNrX3JlcXVpcmVfXy5yID0gZnVuY3Rpb24oZXhwb3J0cykge1xuIFx0XHRpZih0eXBlb2YgU3ltYm9sICE9PSAndW5kZWZpbmVkJyAmJiBTeW1ib2wudG9TdHJpbmdUYWcpIHtcbiBcdFx0XHRPYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgU3ltYm9sLnRvU3RyaW5nVGFnLCB7IHZhbHVlOiAnTW9kdWxlJyB9KTtcbiBcdFx0fVxuIFx0XHRPYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgJ19fZXNNb2R1bGUnLCB7IHZhbHVlOiB0cnVlIH0pO1xuIFx0fTtcblxuIFx0Ly8gY3JlYXRlIGEgZmFrZSBuYW1lc3BhY2Ugb2JqZWN0XG4gXHQvLyBtb2RlICYgMTogdmFsdWUgaXMgYSBtb2R1bGUgaWQsIHJlcXVpcmUgaXRcbiBcdC8vIG1vZGUgJiAyOiBtZXJnZSBhbGwgcHJvcGVydGllcyBvZiB2YWx1ZSBpbnRvIHRoZSBuc1xuIFx0Ly8gbW9kZSAmIDQ6IHJldHVybiB2YWx1ZSB3aGVuIGFscmVhZHkgbnMgb2JqZWN0XG4gXHQvLyBtb2RlICYgOHwxOiBiZWhhdmUgbGlrZSByZXF1aXJlXG4gXHRfX3dlYnBhY2tfcmVxdWlyZV9fLnQgPSBmdW5jdGlvbih2YWx1ZSwgbW9kZSkge1xuIFx0XHRpZihtb2RlICYgMSkgdmFsdWUgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKHZhbHVlKTtcbiBcdFx0aWYobW9kZSAmIDgpIHJldHVybiB2YWx1ZTtcbiBcdFx0aWYoKG1vZGUgJiA0KSAmJiB0eXBlb2YgdmFsdWUgPT09ICdvYmplY3QnICYmIHZhbHVlICYmIHZhbHVlLl9fZXNNb2R1bGUpIHJldHVybiB2YWx1ZTtcbiBcdFx0dmFyIG5zID0gT2JqZWN0LmNyZWF0ZShudWxsKTtcbiBcdFx0X193ZWJwYWNrX3JlcXVpcmVfXy5yKG5zKTtcbiBcdFx0T2JqZWN0LmRlZmluZVByb3BlcnR5KG5zLCAnZGVmYXVsdCcsIHsgZW51bWVyYWJsZTogdHJ1ZSwgdmFsdWU6IHZhbHVlIH0pO1xuIFx0XHRpZihtb2RlICYgMiAmJiB0eXBlb2YgdmFsdWUgIT0gJ3N0cmluZycpIGZvcih2YXIga2V5IGluIHZhbHVlKSBfX3dlYnBhY2tfcmVxdWlyZV9fLmQobnMsIGtleSwgZnVuY3Rpb24oa2V5KSB7IHJldHVybiB2YWx1ZVtrZXldOyB9LmJpbmQobnVsbCwga2V5KSk7XG4gXHRcdHJldHVybiBucztcbiBcdH07XG5cbiBcdC8vIGdldERlZmF1bHRFeHBvcnQgZnVuY3Rpb24gZm9yIGNvbXBhdGliaWxpdHkgd2l0aCBub24taGFybW9ueSBtb2R1bGVzXG4gXHRfX3dlYnBhY2tfcmVxdWlyZV9fLm4gPSBmdW5jdGlvbihtb2R1bGUpIHtcbiBcdFx0dmFyIGdldHRlciA9IG1vZHVsZSAmJiBtb2R1bGUuX19lc01vZHVsZSA/XG4gXHRcdFx0ZnVuY3Rpb24gZ2V0RGVmYXVsdCgpIHsgcmV0dXJuIG1vZHVsZVsnZGVmYXVsdCddOyB9IDpcbiBcdFx0XHRmdW5jdGlvbiBnZXRNb2R1bGVFeHBvcnRzKCkgeyByZXR1cm4gbW9kdWxlOyB9O1xuIFx0XHRfX3dlYnBhY2tfcmVxdWlyZV9fLmQoZ2V0dGVyLCAnYScsIGdldHRlcik7XG4gXHRcdHJldHVybiBnZXR0ZXI7XG4gXHR9O1xuXG4gXHQvLyBPYmplY3QucHJvdG90eXBlLmhhc093blByb3BlcnR5LmNhbGxcbiBcdF9fd2VicGFja19yZXF1aXJlX18ubyA9IGZ1bmN0aW9uKG9iamVjdCwgcHJvcGVydHkpIHsgcmV0dXJuIE9iamVjdC5wcm90b3R5cGUuaGFzT3duUHJvcGVydHkuY2FsbChvYmplY3QsIHByb3BlcnR5KTsgfTtcblxuIFx0Ly8gX193ZWJwYWNrX3B1YmxpY19wYXRoX19cbiBcdF9fd2VicGFja19yZXF1aXJlX18ucCA9IFwiXCI7XG5cbiBcdC8vIG9uIGVycm9yIGZ1bmN0aW9uIGZvciBhc3luYyBsb2FkaW5nXG4gXHRfX3dlYnBhY2tfcmVxdWlyZV9fLm9lID0gZnVuY3Rpb24oZXJyKSB7IGNvbnNvbGUuZXJyb3IoZXJyKTsgdGhyb3cgZXJyOyB9O1xuXG4gXHR2YXIganNvbnBBcnJheSA9IHdpbmRvd1tcIndlYnBhY2tKc29ucFwiXSA9IHdpbmRvd1tcIndlYnBhY2tKc29ucFwiXSB8fCBbXTtcbiBcdHZhciBvbGRKc29ucEZ1bmN0aW9uID0ganNvbnBBcnJheS5wdXNoLmJpbmQoanNvbnBBcnJheSk7XG4gXHRqc29ucEFycmF5LnB1c2ggPSB3ZWJwYWNrSnNvbnBDYWxsYmFjaztcbiBcdGpzb25wQXJyYXkgPSBqc29ucEFycmF5LnNsaWNlKCk7XG4gXHRmb3IodmFyIGkgPSAwOyBpIDwganNvbnBBcnJheS5sZW5ndGg7IGkrKykgd2VicGFja0pzb25wQ2FsbGJhY2soanNvbnBBcnJheVtpXSk7XG4gXHR2YXIgcGFyZW50SnNvbnBGdW5jdGlvbiA9IG9sZEpzb25wRnVuY3Rpb247XG5cblxuIFx0Ly8gTG9hZCBlbnRyeSBtb2R1bGUgYW5kIHJldHVybiBleHBvcnRzXG4gXHRyZXR1cm4gX193ZWJwYWNrX3JlcXVpcmVfXyhfX3dlYnBhY2tfcmVxdWlyZV9fLnMgPSA1Mik7XG4iLCIvKipcbkBsaWNlbnNlXG5Db3B5cmlnaHQgKGMpIDIwMTcgVGhlIFBvbHltZXIgUHJvamVjdCBBdXRob3JzLiBBbGwgcmlnaHRzIHJlc2VydmVkLlxuVGhpcyBjb2RlIG1heSBvbmx5IGJlIHVzZWQgdW5kZXIgdGhlIEJTRCBzdHlsZSBsaWNlbnNlIGZvdW5kIGF0IGh0dHA6Ly9wb2x5bWVyLmdpdGh1Yi5pby9MSUNFTlNFLnR4dFxuVGhlIGNvbXBsZXRlIHNldCBvZiBhdXRob3JzIG1heSBiZSBmb3VuZCBhdCBodHRwOi8vcG9seW1lci5naXRodWIuaW8vQVVUSE9SUy50eHRcblRoZSBjb21wbGV0ZSBzZXQgb2YgY29udHJpYnV0b3JzIG1heSBiZSBmb3VuZCBhdCBodHRwOi8vcG9seW1lci5naXRodWIuaW8vQ09OVFJJQlVUT1JTLnR4dFxuQ29kZSBkaXN0cmlidXRlZCBieSBHb29nbGUgYXMgcGFydCBvZiB0aGUgcG9seW1lciBwcm9qZWN0IGlzIGFsc29cbnN1YmplY3QgdG8gYW4gYWRkaXRpb25hbCBJUCByaWdodHMgZ3JhbnQgZm91bmQgYXQgaHR0cDovL3BvbHltZXIuZ2l0aHViLmlvL1BBVEVOVFMudHh0XG4qL1xuXG4vKiBlc2xpbnQtZGlzYWJsZSB2YWxpZC1qc2RvYyAqL1xuLyoqXG4gKiBOb2RlIHdyYXBwZXIgdG8gZW5zdXJlIFNoYWRvd0RPTSBzYWZlIG9wZXJhdGlvbiByZWdhcmRsZXNzIG9mIHBvbHlmaWxsXG4gKiBwcmVzZW5jZSBvciBtb2RlLiBOb3RlIHRoYXQgd2l0aCB0aGUgaW50cm9kdWN0aW9uIG9mIGBTaGFkeURPTS5ub1BhdGNoYCxcbiAqIGEgbm9kZSB3cmFwcGVyIG11c3QgYmUgdXNlZCB0byBhY2Nlc3MgU2hhZG93RE9NIEFQSS5cbiAqIFRoaXMgaXMgc2ltaWxhciB0byB1c2luZyBgUG9seW1lci5kb21gIGJ1dCByZWxpZXMgZXhjbHVzaXZlbHlcbiAqIG9uIHRoZSBwcmVzZW5jZSBvZiB0aGUgU2hhZHlET00gcG9seWZpbGwgcmF0aGVyIHRoYW4gcmVxdWlyaW5nIHRoZSBsb2FkaW5nXG4gKiBvZiBsZWdhY3kgKFBvbHltZXIuZG9tKSBBUEkuXG4gKiBAdHlwZSB7ZnVuY3Rpb24oTm9kZSk6Tm9kZX1cbiAqL1xuZXhwb3J0IGNvbnN0IHdyYXAgPSAod2luZG93WydTaGFkeURPTSddICYmIHdpbmRvd1snU2hhZHlET00nXVsnbm9QYXRjaCddICYmIHdpbmRvd1snU2hhZHlET00nXVsnd3JhcCddKSA/XG4gIHdpbmRvd1snU2hhZHlET00nXVsnd3JhcCddIDogKG4pID0+IG47XG5cbiIsIi8qKlxuICogQGxpY2Vuc2VcbiAqIENvcHlyaWdodCAoYykgMjAxNyBUaGUgUG9seW1lciBQcm9qZWN0IEF1dGhvcnMuIEFsbCByaWdodHMgcmVzZXJ2ZWQuXG4gKiBUaGlzIGNvZGUgbWF5IG9ubHkgYmUgdXNlZCB1bmRlciB0aGUgQlNEIHN0eWxlIGxpY2Vuc2UgZm91bmQgYXRcbiAqIGh0dHA6Ly9wb2x5bWVyLmdpdGh1Yi5pby9MSUNFTlNFLnR4dFxuICogVGhlIGNvbXBsZXRlIHNldCBvZiBhdXRob3JzIG1heSBiZSBmb3VuZCBhdFxuICogaHR0cDovL3BvbHltZXIuZ2l0aHViLmlvL0FVVEhPUlMudHh0XG4gKiBUaGUgY29tcGxldGUgc2V0IG9mIGNvbnRyaWJ1dG9ycyBtYXkgYmUgZm91bmQgYXRcbiAqIGh0dHA6Ly9wb2x5bWVyLmdpdGh1Yi5pby9DT05UUklCVVRPUlMudHh0XG4gKiBDb2RlIGRpc3RyaWJ1dGVkIGJ5IEdvb2dsZSBhcyBwYXJ0IG9mIHRoZSBwb2x5bWVyIHByb2plY3QgaXMgYWxzb1xuICogc3ViamVjdCB0byBhbiBhZGRpdGlvbmFsIElQIHJpZ2h0cyBncmFudCBmb3VuZCBhdFxuICogaHR0cDovL3BvbHltZXIuZ2l0aHViLmlvL1BBVEVOVFMudHh0XG4gKi9cbi8qKlxuICogQG1vZHVsZSBzaGFkeS1yZW5kZXJcbiAqL1xuaW1wb3J0IHsgaXNUZW1wbGF0ZVBhcnRBY3RpdmUgfSBmcm9tICcuL3RlbXBsYXRlLmpzJztcbmNvbnN0IHdhbGtlck5vZGVGaWx0ZXIgPSAxMzMgLyogTm9kZUZpbHRlci5TSE9XX3tFTEVNRU5UfENPTU1FTlR8VEVYVH0gKi87XG4vKipcbiAqIFJlbW92ZXMgdGhlIGxpc3Qgb2Ygbm9kZXMgZnJvbSBhIFRlbXBsYXRlIHNhZmVseS4gSW4gYWRkaXRpb24gdG8gcmVtb3ZpbmdcbiAqIG5vZGVzIGZyb20gdGhlIFRlbXBsYXRlLCB0aGUgVGVtcGxhdGUgcGFydCBpbmRpY2VzIGFyZSB1cGRhdGVkIHRvIG1hdGNoXG4gKiB0aGUgbXV0YXRlZCBUZW1wbGF0ZSBET00uXG4gKlxuICogQXMgdGhlIHRlbXBsYXRlIGlzIHdhbGtlZCB0aGUgcmVtb3ZhbCBzdGF0ZSBpcyB0cmFja2VkIGFuZFxuICogcGFydCBpbmRpY2VzIGFyZSBhZGp1c3RlZCBhcyBuZWVkZWQuXG4gKlxuICogZGl2XG4gKiAgIGRpdiMxIChyZW1vdmUpIDwtLSBzdGFydCByZW1vdmluZyAocmVtb3Zpbmcgbm9kZSBpcyBkaXYjMSlcbiAqICAgICBkaXZcbiAqICAgICAgIGRpdiMyIChyZW1vdmUpICA8LS0gY29udGludWUgcmVtb3ZpbmcgKHJlbW92aW5nIG5vZGUgaXMgc3RpbGwgZGl2IzEpXG4gKiAgICAgICAgIGRpdlxuICogZGl2IDwtLSBzdG9wIHJlbW92aW5nIHNpbmNlIHByZXZpb3VzIHNpYmxpbmcgaXMgdGhlIHJlbW92aW5nIG5vZGUgKGRpdiMxLFxuICogcmVtb3ZlZCA0IG5vZGVzKVxuICovXG5leHBvcnQgZnVuY3Rpb24gcmVtb3ZlTm9kZXNGcm9tVGVtcGxhdGUodGVtcGxhdGUsIG5vZGVzVG9SZW1vdmUpIHtcbiAgICBjb25zdCB7IGVsZW1lbnQ6IHsgY29udGVudCB9LCBwYXJ0cyB9ID0gdGVtcGxhdGU7XG4gICAgY29uc3Qgd2Fsa2VyID0gZG9jdW1lbnQuY3JlYXRlVHJlZVdhbGtlcihjb250ZW50LCB3YWxrZXJOb2RlRmlsdGVyLCBudWxsLCBmYWxzZSk7XG4gICAgbGV0IHBhcnRJbmRleCA9IG5leHRBY3RpdmVJbmRleEluVGVtcGxhdGVQYXJ0cyhwYXJ0cyk7XG4gICAgbGV0IHBhcnQgPSBwYXJ0c1twYXJ0SW5kZXhdO1xuICAgIGxldCBub2RlSW5kZXggPSAtMTtcbiAgICBsZXQgcmVtb3ZlQ291bnQgPSAwO1xuICAgIGNvbnN0IG5vZGVzVG9SZW1vdmVJblRlbXBsYXRlID0gW107XG4gICAgbGV0IGN1cnJlbnRSZW1vdmluZ05vZGUgPSBudWxsO1xuICAgIHdoaWxlICh3YWxrZXIubmV4dE5vZGUoKSkge1xuICAgICAgICBub2RlSW5kZXgrKztcbiAgICAgICAgY29uc3Qgbm9kZSA9IHdhbGtlci5jdXJyZW50Tm9kZTtcbiAgICAgICAgLy8gRW5kIHJlbW92YWwgaWYgc3RlcHBlZCBwYXN0IHRoZSByZW1vdmluZyBub2RlXG4gICAgICAgIGlmIChub2RlLnByZXZpb3VzU2libGluZyA9PT0gY3VycmVudFJlbW92aW5nTm9kZSkge1xuICAgICAgICAgICAgY3VycmVudFJlbW92aW5nTm9kZSA9IG51bGw7XG4gICAgICAgIH1cbiAgICAgICAgLy8gQSBub2RlIHRvIHJlbW92ZSB3YXMgZm91bmQgaW4gdGhlIHRlbXBsYXRlXG4gICAgICAgIGlmIChub2Rlc1RvUmVtb3ZlLmhhcyhub2RlKSkge1xuICAgICAgICAgICAgbm9kZXNUb1JlbW92ZUluVGVtcGxhdGUucHVzaChub2RlKTtcbiAgICAgICAgICAgIC8vIFRyYWNrIG5vZGUgd2UncmUgcmVtb3ZpbmdcbiAgICAgICAgICAgIGlmIChjdXJyZW50UmVtb3ZpbmdOb2RlID09PSBudWxsKSB7XG4gICAgICAgICAgICAgICAgY3VycmVudFJlbW92aW5nTm9kZSA9IG5vZGU7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgLy8gV2hlbiByZW1vdmluZywgaW5jcmVtZW50IGNvdW50IGJ5IHdoaWNoIHRvIGFkanVzdCBzdWJzZXF1ZW50IHBhcnQgaW5kaWNlc1xuICAgICAgICBpZiAoY3VycmVudFJlbW92aW5nTm9kZSAhPT0gbnVsbCkge1xuICAgICAgICAgICAgcmVtb3ZlQ291bnQrKztcbiAgICAgICAgfVxuICAgICAgICB3aGlsZSAocGFydCAhPT0gdW5kZWZpbmVkICYmIHBhcnQuaW5kZXggPT09IG5vZGVJbmRleCkge1xuICAgICAgICAgICAgLy8gSWYgcGFydCBpcyBpbiBhIHJlbW92ZWQgbm9kZSBkZWFjdGl2YXRlIGl0IGJ5IHNldHRpbmcgaW5kZXggdG8gLTEgb3JcbiAgICAgICAgICAgIC8vIGFkanVzdCB0aGUgaW5kZXggYXMgbmVlZGVkLlxuICAgICAgICAgICAgcGFydC5pbmRleCA9IGN1cnJlbnRSZW1vdmluZ05vZGUgIT09IG51bGwgPyAtMSA6IHBhcnQuaW5kZXggLSByZW1vdmVDb3VudDtcbiAgICAgICAgICAgIC8vIGdvIHRvIHRoZSBuZXh0IGFjdGl2ZSBwYXJ0LlxuICAgICAgICAgICAgcGFydEluZGV4ID0gbmV4dEFjdGl2ZUluZGV4SW5UZW1wbGF0ZVBhcnRzKHBhcnRzLCBwYXJ0SW5kZXgpO1xuICAgICAgICAgICAgcGFydCA9IHBhcnRzW3BhcnRJbmRleF07XG4gICAgICAgIH1cbiAgICB9XG4gICAgbm9kZXNUb1JlbW92ZUluVGVtcGxhdGUuZm9yRWFjaCgobikgPT4gbi5wYXJlbnROb2RlLnJlbW92ZUNoaWxkKG4pKTtcbn1cbmNvbnN0IGNvdW50Tm9kZXMgPSAobm9kZSkgPT4ge1xuICAgIGxldCBjb3VudCA9IChub2RlLm5vZGVUeXBlID09PSAxMSAvKiBOb2RlLkRPQ1VNRU5UX0ZSQUdNRU5UX05PREUgKi8pID8gMCA6IDE7XG4gICAgY29uc3Qgd2Fsa2VyID0gZG9jdW1lbnQuY3JlYXRlVHJlZVdhbGtlcihub2RlLCB3YWxrZXJOb2RlRmlsdGVyLCBudWxsLCBmYWxzZSk7XG4gICAgd2hpbGUgKHdhbGtlci5uZXh0Tm9kZSgpKSB7XG4gICAgICAgIGNvdW50Kys7XG4gICAgfVxuICAgIHJldHVybiBjb3VudDtcbn07XG5jb25zdCBuZXh0QWN0aXZlSW5kZXhJblRlbXBsYXRlUGFydHMgPSAocGFydHMsIHN0YXJ0SW5kZXggPSAtMSkgPT4ge1xuICAgIGZvciAobGV0IGkgPSBzdGFydEluZGV4ICsgMTsgaSA8IHBhcnRzLmxlbmd0aDsgaSsrKSB7XG4gICAgICAgIGNvbnN0IHBhcnQgPSBwYXJ0c1tpXTtcbiAgICAgICAgaWYgKGlzVGVtcGxhdGVQYXJ0QWN0aXZlKHBhcnQpKSB7XG4gICAgICAgICAgICByZXR1cm4gaTtcbiAgICAgICAgfVxuICAgIH1cbiAgICByZXR1cm4gLTE7XG59O1xuLyoqXG4gKiBJbnNlcnRzIHRoZSBnaXZlbiBub2RlIGludG8gdGhlIFRlbXBsYXRlLCBvcHRpb25hbGx5IGJlZm9yZSB0aGUgZ2l2ZW5cbiAqIHJlZk5vZGUuIEluIGFkZGl0aW9uIHRvIGluc2VydGluZyB0aGUgbm9kZSBpbnRvIHRoZSBUZW1wbGF0ZSwgdGhlIFRlbXBsYXRlXG4gKiBwYXJ0IGluZGljZXMgYXJlIHVwZGF0ZWQgdG8gbWF0Y2ggdGhlIG11dGF0ZWQgVGVtcGxhdGUgRE9NLlxuICovXG5leHBvcnQgZnVuY3Rpb24gaW5zZXJ0Tm9kZUludG9UZW1wbGF0ZSh0ZW1wbGF0ZSwgbm9kZSwgcmVmTm9kZSA9IG51bGwpIHtcbiAgICBjb25zdCB7IGVsZW1lbnQ6IHsgY29udGVudCB9LCBwYXJ0cyB9ID0gdGVtcGxhdGU7XG4gICAgLy8gSWYgdGhlcmUncyBubyByZWZOb2RlLCB0aGVuIHB1dCBub2RlIGF0IGVuZCBvZiB0ZW1wbGF0ZS5cbiAgICAvLyBObyBwYXJ0IGluZGljZXMgbmVlZCB0byBiZSBzaGlmdGVkIGluIHRoaXMgY2FzZS5cbiAgICBpZiAocmVmTm9kZSA9PT0gbnVsbCB8fCByZWZOb2RlID09PSB1bmRlZmluZWQpIHtcbiAgICAgICAgY29udGVudC5hcHBlbmRDaGlsZChub2RlKTtcbiAgICAgICAgcmV0dXJuO1xuICAgIH1cbiAgICBjb25zdCB3YWxrZXIgPSBkb2N1bWVudC5jcmVhdGVUcmVlV2Fsa2VyKGNvbnRlbnQsIHdhbGtlck5vZGVGaWx0ZXIsIG51bGwsIGZhbHNlKTtcbiAgICBsZXQgcGFydEluZGV4ID0gbmV4dEFjdGl2ZUluZGV4SW5UZW1wbGF0ZVBhcnRzKHBhcnRzKTtcbiAgICBsZXQgaW5zZXJ0Q291bnQgPSAwO1xuICAgIGxldCB3YWxrZXJJbmRleCA9IC0xO1xuICAgIHdoaWxlICh3YWxrZXIubmV4dE5vZGUoKSkge1xuICAgICAgICB3YWxrZXJJbmRleCsrO1xuICAgICAgICBjb25zdCB3YWxrZXJOb2RlID0gd2Fsa2VyLmN1cnJlbnROb2RlO1xuICAgICAgICBpZiAod2Fsa2VyTm9kZSA9PT0gcmVmTm9kZSkge1xuICAgICAgICAgICAgaW5zZXJ0Q291bnQgPSBjb3VudE5vZGVzKG5vZGUpO1xuICAgICAgICAgICAgcmVmTm9kZS5wYXJlbnROb2RlLmluc2VydEJlZm9yZShub2RlLCByZWZOb2RlKTtcbiAgICAgICAgfVxuICAgICAgICB3aGlsZSAocGFydEluZGV4ICE9PSAtMSAmJiBwYXJ0c1twYXJ0SW5kZXhdLmluZGV4ID09PSB3YWxrZXJJbmRleCkge1xuICAgICAgICAgICAgLy8gSWYgd2UndmUgaW5zZXJ0ZWQgdGhlIG5vZGUsIHNpbXBseSBhZGp1c3QgYWxsIHN1YnNlcXVlbnQgcGFydHNcbiAgICAgICAgICAgIGlmIChpbnNlcnRDb3VudCA+IDApIHtcbiAgICAgICAgICAgICAgICB3aGlsZSAocGFydEluZGV4ICE9PSAtMSkge1xuICAgICAgICAgICAgICAgICAgICBwYXJ0c1twYXJ0SW5kZXhdLmluZGV4ICs9IGluc2VydENvdW50O1xuICAgICAgICAgICAgICAgICAgICBwYXJ0SW5kZXggPSBuZXh0QWN0aXZlSW5kZXhJblRlbXBsYXRlUGFydHMocGFydHMsIHBhcnRJbmRleCk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIHBhcnRJbmRleCA9IG5leHRBY3RpdmVJbmRleEluVGVtcGxhdGVQYXJ0cyhwYXJ0cywgcGFydEluZGV4KTtcbiAgICAgICAgfVxuICAgIH1cbn1cbi8vIyBzb3VyY2VNYXBwaW5nVVJMPW1vZGlmeS10ZW1wbGF0ZS5qcy5tYXAiLCIvKipcbiAqIEBsaWNlbnNlXG4gKiBDb3B5cmlnaHQgKGMpIDIwMTcgVGhlIFBvbHltZXIgUHJvamVjdCBBdXRob3JzLiBBbGwgcmlnaHRzIHJlc2VydmVkLlxuICogVGhpcyBjb2RlIG1heSBvbmx5IGJlIHVzZWQgdW5kZXIgdGhlIEJTRCBzdHlsZSBsaWNlbnNlIGZvdW5kIGF0XG4gKiBodHRwOi8vcG9seW1lci5naXRodWIuaW8vTElDRU5TRS50eHRcbiAqIFRoZSBjb21wbGV0ZSBzZXQgb2YgYXV0aG9ycyBtYXkgYmUgZm91bmQgYXRcbiAqIGh0dHA6Ly9wb2x5bWVyLmdpdGh1Yi5pby9BVVRIT1JTLnR4dFxuICogVGhlIGNvbXBsZXRlIHNldCBvZiBjb250cmlidXRvcnMgbWF5IGJlIGZvdW5kIGF0XG4gKiBodHRwOi8vcG9seW1lci5naXRodWIuaW8vQ09OVFJJQlVUT1JTLnR4dFxuICogQ29kZSBkaXN0cmlidXRlZCBieSBHb29nbGUgYXMgcGFydCBvZiB0aGUgcG9seW1lciBwcm9qZWN0IGlzIGFsc29cbiAqIHN1YmplY3QgdG8gYW4gYWRkaXRpb25hbCBJUCByaWdodHMgZ3JhbnQgZm91bmQgYXRcbiAqIGh0dHA6Ly9wb2x5bWVyLmdpdGh1Yi5pby9QQVRFTlRTLnR4dFxuICovXG4vKipcbiAqIE1vZHVsZSB0byBhZGQgc2hhZHkgRE9NL3NoYWR5IENTUyBwb2x5ZmlsbCBzdXBwb3J0IHRvIGxpdC1odG1sIHRlbXBsYXRlXG4gKiByZW5kZXJpbmcuIFNlZSB0aGUgW1tyZW5kZXJdXSBtZXRob2QgZm9yIGRldGFpbHMuXG4gKlxuICogQG1vZHVsZSBzaGFkeS1yZW5kZXJcbiAqIEBwcmVmZXJyZWRcbiAqL1xuLyoqXG4gKiBEbyBub3QgcmVtb3ZlIHRoaXMgY29tbWVudDsgaXQga2VlcHMgdHlwZWRvYyBmcm9tIG1pc3BsYWNpbmcgdGhlIG1vZHVsZVxuICogZG9jcy5cbiAqL1xuaW1wb3J0IHsgcmVtb3ZlTm9kZXMgfSBmcm9tICcuL2RvbS5qcyc7XG5pbXBvcnQgeyBpbnNlcnROb2RlSW50b1RlbXBsYXRlLCByZW1vdmVOb2Rlc0Zyb21UZW1wbGF0ZSB9IGZyb20gJy4vbW9kaWZ5LXRlbXBsYXRlLmpzJztcbmltcG9ydCB7IHBhcnRzLCByZW5kZXIgYXMgbGl0UmVuZGVyIH0gZnJvbSAnLi9yZW5kZXIuanMnO1xuaW1wb3J0IHsgdGVtcGxhdGVDYWNoZXMgfSBmcm9tICcuL3RlbXBsYXRlLWZhY3RvcnkuanMnO1xuaW1wb3J0IHsgVGVtcGxhdGVJbnN0YW5jZSB9IGZyb20gJy4vdGVtcGxhdGUtaW5zdGFuY2UuanMnO1xuaW1wb3J0IHsgVGVtcGxhdGVSZXN1bHQgfSBmcm9tICcuL3RlbXBsYXRlLXJlc3VsdC5qcyc7XG5pbXBvcnQgeyBtYXJrZXIsIFRlbXBsYXRlIH0gZnJvbSAnLi90ZW1wbGF0ZS5qcyc7XG5leHBvcnQgeyBodG1sLCBzdmcsIFRlbXBsYXRlUmVzdWx0IH0gZnJvbSAnLi4vbGl0LWh0bWwuanMnO1xuLy8gR2V0IGEga2V5IHRvIGxvb2t1cCBpbiBgdGVtcGxhdGVDYWNoZXNgLlxuY29uc3QgZ2V0VGVtcGxhdGVDYWNoZUtleSA9ICh0eXBlLCBzY29wZU5hbWUpID0+IGAke3R5cGV9LS0ke3Njb3BlTmFtZX1gO1xubGV0IGNvbXBhdGlibGVTaGFkeUNTU1ZlcnNpb24gPSB0cnVlO1xuaWYgKHR5cGVvZiB3aW5kb3cuU2hhZHlDU1MgPT09ICd1bmRlZmluZWQnKSB7XG4gICAgY29tcGF0aWJsZVNoYWR5Q1NTVmVyc2lvbiA9IGZhbHNlO1xufVxuZWxzZSBpZiAodHlwZW9mIHdpbmRvdy5TaGFkeUNTUy5wcmVwYXJlVGVtcGxhdGVEb20gPT09ICd1bmRlZmluZWQnKSB7XG4gICAgY29uc29sZS53YXJuKGBJbmNvbXBhdGlibGUgU2hhZHlDU1MgdmVyc2lvbiBkZXRlY3RlZC5gICtcbiAgICAgICAgYFBsZWFzZSB1cGRhdGUgdG8gYXQgbGVhc3QgQHdlYmNvbXBvbmVudHMvd2ViY29tcG9uZW50c2pzQDIuMC4yIGFuZGAgK1xuICAgICAgICBgQHdlYmNvbXBvbmVudHMvc2hhZHljc3NAMS4zLjEuYCk7XG4gICAgY29tcGF0aWJsZVNoYWR5Q1NTVmVyc2lvbiA9IGZhbHNlO1xufVxuLyoqXG4gKiBUZW1wbGF0ZSBmYWN0b3J5IHdoaWNoIHNjb3BlcyB0ZW1wbGF0ZSBET00gdXNpbmcgU2hhZHlDU1MuXG4gKiBAcGFyYW0gc2NvcGVOYW1lIHtzdHJpbmd9XG4gKi9cbmNvbnN0IHNoYWR5VGVtcGxhdGVGYWN0b3J5ID0gKHNjb3BlTmFtZSkgPT4gKHJlc3VsdCkgPT4ge1xuICAgIGNvbnN0IGNhY2hlS2V5ID0gZ2V0VGVtcGxhdGVDYWNoZUtleShyZXN1bHQudHlwZSwgc2NvcGVOYW1lKTtcbiAgICBsZXQgdGVtcGxhdGVDYWNoZSA9IHRlbXBsYXRlQ2FjaGVzLmdldChjYWNoZUtleSk7XG4gICAgaWYgKHRlbXBsYXRlQ2FjaGUgPT09IHVuZGVmaW5lZCkge1xuICAgICAgICB0ZW1wbGF0ZUNhY2hlID0ge1xuICAgICAgICAgICAgc3RyaW5nc0FycmF5OiBuZXcgV2Vha01hcCgpLFxuICAgICAgICAgICAga2V5U3RyaW5nOiBuZXcgTWFwKClcbiAgICAgICAgfTtcbiAgICAgICAgdGVtcGxhdGVDYWNoZXMuc2V0KGNhY2hlS2V5LCB0ZW1wbGF0ZUNhY2hlKTtcbiAgICB9XG4gICAgbGV0IHRlbXBsYXRlID0gdGVtcGxhdGVDYWNoZS5zdHJpbmdzQXJyYXkuZ2V0KHJlc3VsdC5zdHJpbmdzKTtcbiAgICBpZiAodGVtcGxhdGUgIT09IHVuZGVmaW5lZCkge1xuICAgICAgICByZXR1cm4gdGVtcGxhdGU7XG4gICAgfVxuICAgIGNvbnN0IGtleSA9IHJlc3VsdC5zdHJpbmdzLmpvaW4obWFya2VyKTtcbiAgICB0ZW1wbGF0ZSA9IHRlbXBsYXRlQ2FjaGUua2V5U3RyaW5nLmdldChrZXkpO1xuICAgIGlmICh0ZW1wbGF0ZSA9PT0gdW5kZWZpbmVkKSB7XG4gICAgICAgIGNvbnN0IGVsZW1lbnQgPSByZXN1bHQuZ2V0VGVtcGxhdGVFbGVtZW50KCk7XG4gICAgICAgIGlmIChjb21wYXRpYmxlU2hhZHlDU1NWZXJzaW9uKSB7XG4gICAgICAgICAgICB3aW5kb3cuU2hhZHlDU1MucHJlcGFyZVRlbXBsYXRlRG9tKGVsZW1lbnQsIHNjb3BlTmFtZSk7XG4gICAgICAgIH1cbiAgICAgICAgdGVtcGxhdGUgPSBuZXcgVGVtcGxhdGUocmVzdWx0LCBlbGVtZW50KTtcbiAgICAgICAgdGVtcGxhdGVDYWNoZS5rZXlTdHJpbmcuc2V0KGtleSwgdGVtcGxhdGUpO1xuICAgIH1cbiAgICB0ZW1wbGF0ZUNhY2hlLnN0cmluZ3NBcnJheS5zZXQocmVzdWx0LnN0cmluZ3MsIHRlbXBsYXRlKTtcbiAgICByZXR1cm4gdGVtcGxhdGU7XG59O1xuY29uc3QgVEVNUExBVEVfVFlQRVMgPSBbJ2h0bWwnLCAnc3ZnJ107XG4vKipcbiAqIFJlbW92ZXMgYWxsIHN0eWxlIGVsZW1lbnRzIGZyb20gVGVtcGxhdGVzIGZvciB0aGUgZ2l2ZW4gc2NvcGVOYW1lLlxuICovXG5jb25zdCByZW1vdmVTdHlsZXNGcm9tTGl0VGVtcGxhdGVzID0gKHNjb3BlTmFtZSkgPT4ge1xuICAgIFRFTVBMQVRFX1RZUEVTLmZvckVhY2goKHR5cGUpID0+IHtcbiAgICAgICAgY29uc3QgdGVtcGxhdGVzID0gdGVtcGxhdGVDYWNoZXMuZ2V0KGdldFRlbXBsYXRlQ2FjaGVLZXkodHlwZSwgc2NvcGVOYW1lKSk7XG4gICAgICAgIGlmICh0ZW1wbGF0ZXMgIT09IHVuZGVmaW5lZCkge1xuICAgICAgICAgICAgdGVtcGxhdGVzLmtleVN0cmluZy5mb3JFYWNoKCh0ZW1wbGF0ZSkgPT4ge1xuICAgICAgICAgICAgICAgIGNvbnN0IHsgZWxlbWVudDogeyBjb250ZW50IH0gfSA9IHRlbXBsYXRlO1xuICAgICAgICAgICAgICAgIC8vIElFIDExIGRvZXNuJ3Qgc3VwcG9ydCB0aGUgaXRlcmFibGUgcGFyYW0gU2V0IGNvbnN0cnVjdG9yXG4gICAgICAgICAgICAgICAgY29uc3Qgc3R5bGVzID0gbmV3IFNldCgpO1xuICAgICAgICAgICAgICAgIEFycmF5LmZyb20oY29udGVudC5xdWVyeVNlbGVjdG9yQWxsKCdzdHlsZScpKS5mb3JFYWNoKChzKSA9PiB7XG4gICAgICAgICAgICAgICAgICAgIHN0eWxlcy5hZGQocyk7XG4gICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICAgICAgcmVtb3ZlTm9kZXNGcm9tVGVtcGxhdGUodGVtcGxhdGUsIHN0eWxlcyk7XG4gICAgICAgICAgICB9KTtcbiAgICAgICAgfVxuICAgIH0pO1xufTtcbmNvbnN0IHNoYWR5UmVuZGVyU2V0ID0gbmV3IFNldCgpO1xuLyoqXG4gKiBGb3IgdGhlIGdpdmVuIHNjb3BlIG5hbWUsIGVuc3VyZXMgdGhhdCBTaGFkeUNTUyBzdHlsZSBzY29waW5nIGlzIHBlcmZvcm1lZC5cbiAqIFRoaXMgaXMgZG9uZSBqdXN0IG9uY2UgcGVyIHNjb3BlIG5hbWUgc28gdGhlIGZyYWdtZW50IGFuZCB0ZW1wbGF0ZSBjYW5ub3RcbiAqIGJlIG1vZGlmaWVkLlxuICogKDEpIGV4dHJhY3RzIHN0eWxlcyBmcm9tIHRoZSByZW5kZXJlZCBmcmFnbWVudCBhbmQgaGFuZHMgdGhlbSB0byBTaGFkeUNTU1xuICogdG8gYmUgc2NvcGVkIGFuZCBhcHBlbmRlZCB0byB0aGUgZG9jdW1lbnRcbiAqICgyKSByZW1vdmVzIHN0eWxlIGVsZW1lbnRzIGZyb20gYWxsIGxpdC1odG1sIFRlbXBsYXRlcyBmb3IgdGhpcyBzY29wZSBuYW1lLlxuICpcbiAqIE5vdGUsIDxzdHlsZT4gZWxlbWVudHMgY2FuIG9ubHkgYmUgcGxhY2VkIGludG8gdGVtcGxhdGVzIGZvciB0aGVcbiAqIGluaXRpYWwgcmVuZGVyaW5nIG9mIHRoZSBzY29wZS4gSWYgPHN0eWxlPiBlbGVtZW50cyBhcmUgaW5jbHVkZWQgaW4gdGVtcGxhdGVzXG4gKiBkeW5hbWljYWxseSByZW5kZXJlZCB0byB0aGUgc2NvcGUgKGFmdGVyIHRoZSBmaXJzdCBzY29wZSByZW5kZXIpLCB0aGV5IHdpbGxcbiAqIG5vdCBiZSBzY29wZWQgYW5kIHRoZSA8c3R5bGU+IHdpbGwgYmUgbGVmdCBpbiB0aGUgdGVtcGxhdGUgYW5kIHJlbmRlcmVkXG4gKiBvdXRwdXQuXG4gKi9cbmNvbnN0IHByZXBhcmVUZW1wbGF0ZVN0eWxlcyA9IChyZW5kZXJlZERPTSwgdGVtcGxhdGUsIHNjb3BlTmFtZSkgPT4ge1xuICAgIHNoYWR5UmVuZGVyU2V0LmFkZChzY29wZU5hbWUpO1xuICAgIC8vIE1vdmUgc3R5bGVzIG91dCBvZiByZW5kZXJlZCBET00gYW5kIHN0b3JlLlxuICAgIGNvbnN0IHN0eWxlcyA9IHJlbmRlcmVkRE9NLnF1ZXJ5U2VsZWN0b3JBbGwoJ3N0eWxlJyk7XG4gICAgLy8gSWYgdGhlcmUgYXJlIG5vIHN0eWxlcywgc2tpcCB1bm5lY2Vzc2FyeSB3b3JrXG4gICAgaWYgKHN0eWxlcy5sZW5ndGggPT09IDApIHtcbiAgICAgICAgLy8gRW5zdXJlIHByZXBhcmVUZW1wbGF0ZVN0eWxlcyBpcyBjYWxsZWQgdG8gc3VwcG9ydCBhZGRpbmdcbiAgICAgICAgLy8gc3R5bGVzIHZpYSBgcHJlcGFyZUFkb3B0ZWRDc3NUZXh0YCBzaW5jZSB0aGF0IHJlcXVpcmVzIHRoYXRcbiAgICAgICAgLy8gYHByZXBhcmVUZW1wbGF0ZVN0eWxlc2AgaXMgY2FsbGVkLlxuICAgICAgICB3aW5kb3cuU2hhZHlDU1MucHJlcGFyZVRlbXBsYXRlU3R5bGVzKHRlbXBsYXRlLmVsZW1lbnQsIHNjb3BlTmFtZSk7XG4gICAgICAgIHJldHVybjtcbiAgICB9XG4gICAgY29uc3QgY29uZGVuc2VkU3R5bGUgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdzdHlsZScpO1xuICAgIC8vIENvbGxlY3Qgc3R5bGVzIGludG8gYSBzaW5nbGUgc3R5bGUuIFRoaXMgaGVscHMgdXMgbWFrZSBzdXJlIFNoYWR5Q1NTXG4gICAgLy8gbWFuaXB1bGF0aW9ucyB3aWxsIG5vdCBwcmV2ZW50IHVzIGZyb20gYmVpbmcgYWJsZSB0byBmaXggdXAgdGVtcGxhdGVcbiAgICAvLyBwYXJ0IGluZGljZXMuXG4gICAgLy8gTk9URTogY29sbGVjdGluZyBzdHlsZXMgaXMgaW5lZmZpY2llbnQgZm9yIGJyb3dzZXJzIGJ1dCBTaGFkeUNTU1xuICAgIC8vIGN1cnJlbnRseSBkb2VzIHRoaXMgYW55d2F5LiBXaGVuIGl0IGRvZXMgbm90LCB0aGlzIHNob3VsZCBiZSBjaGFuZ2VkLlxuICAgIGZvciAobGV0IGkgPSAwOyBpIDwgc3R5bGVzLmxlbmd0aDsgaSsrKSB7XG4gICAgICAgIGNvbnN0IHN0eWxlID0gc3R5bGVzW2ldO1xuICAgICAgICBzdHlsZS5wYXJlbnROb2RlLnJlbW92ZUNoaWxkKHN0eWxlKTtcbiAgICAgICAgY29uZGVuc2VkU3R5bGUudGV4dENvbnRlbnQgKz0gc3R5bGUudGV4dENvbnRlbnQ7XG4gICAgfVxuICAgIC8vIFJlbW92ZSBzdHlsZXMgZnJvbSBuZXN0ZWQgdGVtcGxhdGVzIGluIHRoaXMgc2NvcGUuXG4gICAgcmVtb3ZlU3R5bGVzRnJvbUxpdFRlbXBsYXRlcyhzY29wZU5hbWUpO1xuICAgIC8vIEFuZCB0aGVuIHB1dCB0aGUgY29uZGVuc2VkIHN0eWxlIGludG8gdGhlIFwicm9vdFwiIHRlbXBsYXRlIHBhc3NlZCBpbiBhc1xuICAgIC8vIGB0ZW1wbGF0ZWAuXG4gICAgaW5zZXJ0Tm9kZUludG9UZW1wbGF0ZSh0ZW1wbGF0ZSwgY29uZGVuc2VkU3R5bGUsIHRlbXBsYXRlLmVsZW1lbnQuY29udGVudC5maXJzdENoaWxkKTtcbiAgICAvLyBOb3RlLCBpdCdzIGltcG9ydGFudCB0aGF0IFNoYWR5Q1NTIGdldHMgdGhlIHRlbXBsYXRlIHRoYXQgYGxpdC1odG1sYFxuICAgIC8vIHdpbGwgYWN0dWFsbHkgcmVuZGVyIHNvIHRoYXQgaXQgY2FuIHVwZGF0ZSB0aGUgc3R5bGUgaW5zaWRlIHdoZW5cbiAgICAvLyBuZWVkZWQgKGUuZy4gQGFwcGx5IG5hdGl2ZSBTaGFkb3cgRE9NIGNhc2UpLlxuICAgIHdpbmRvdy5TaGFkeUNTUy5wcmVwYXJlVGVtcGxhdGVTdHlsZXModGVtcGxhdGUuZWxlbWVudCwgc2NvcGVOYW1lKTtcbiAgICBpZiAod2luZG93LlNoYWR5Q1NTLm5hdGl2ZVNoYWRvdykge1xuICAgICAgICAvLyBXaGVuIGluIG5hdGl2ZSBTaGFkb3cgRE9NLCByZS1hZGQgc3R5bGluZyB0byByZW5kZXJlZCBjb250ZW50IHVzaW5nXG4gICAgICAgIC8vIHRoZSBzdHlsZSBTaGFkeUNTUyBwcm9kdWNlZC5cbiAgICAgICAgY29uc3Qgc3R5bGUgPSB0ZW1wbGF0ZS5lbGVtZW50LmNvbnRlbnQucXVlcnlTZWxlY3Rvcignc3R5bGUnKTtcbiAgICAgICAgcmVuZGVyZWRET00uaW5zZXJ0QmVmb3JlKHN0eWxlLmNsb25lTm9kZSh0cnVlKSwgcmVuZGVyZWRET00uZmlyc3RDaGlsZCk7XG4gICAgfVxuICAgIGVsc2Uge1xuICAgICAgICAvLyBXaGVuIG5vdCBpbiBuYXRpdmUgU2hhZG93IERPTSwgYXQgdGhpcyBwb2ludCBTaGFkeUNTUyB3aWxsIGhhdmVcbiAgICAgICAgLy8gcmVtb3ZlZCB0aGUgc3R5bGUgZnJvbSB0aGUgbGl0IHRlbXBsYXRlIGFuZCBwYXJ0cyB3aWxsIGJlIGJyb2tlbiBhcyBhXG4gICAgICAgIC8vIHJlc3VsdC4gVG8gZml4IHRoaXMsIHdlIHB1dCBiYWNrIHRoZSBzdHlsZSBub2RlIFNoYWR5Q1NTIHJlbW92ZWRcbiAgICAgICAgLy8gYW5kIHRoZW4gdGVsbCBsaXQgdG8gcmVtb3ZlIHRoYXQgbm9kZSBmcm9tIHRoZSB0ZW1wbGF0ZS5cbiAgICAgICAgLy8gTk9URSwgU2hhZHlDU1MgY3JlYXRlcyBpdHMgb3duIHN0eWxlIHNvIHdlIGNhbiBzYWZlbHkgYWRkL3JlbW92ZVxuICAgICAgICAvLyBgY29uZGVuc2VkU3R5bGVgIGhlcmUuXG4gICAgICAgIHRlbXBsYXRlLmVsZW1lbnQuY29udGVudC5pbnNlcnRCZWZvcmUoY29uZGVuc2VkU3R5bGUsIHRlbXBsYXRlLmVsZW1lbnQuY29udGVudC5maXJzdENoaWxkKTtcbiAgICAgICAgY29uc3QgcmVtb3ZlcyA9IG5ldyBTZXQoKTtcbiAgICAgICAgcmVtb3Zlcy5hZGQoY29uZGVuc2VkU3R5bGUpO1xuICAgICAgICByZW1vdmVOb2Rlc0Zyb21UZW1wbGF0ZSh0ZW1wbGF0ZSwgcmVtb3Zlcyk7XG4gICAgfVxufTtcbi8qKlxuICogRXh0ZW5zaW9uIHRvIHRoZSBzdGFuZGFyZCBgcmVuZGVyYCBtZXRob2Qgd2hpY2ggc3VwcG9ydHMgcmVuZGVyaW5nXG4gKiB0byBTaGFkb3dSb290cyB3aGVuIHRoZSBTaGFkeURPTSAoaHR0cHM6Ly9naXRodWIuY29tL3dlYmNvbXBvbmVudHMvc2hhZHlkb20pXG4gKiBhbmQgU2hhZHlDU1MgKGh0dHBzOi8vZ2l0aHViLmNvbS93ZWJjb21wb25lbnRzL3NoYWR5Y3NzKSBwb2x5ZmlsbHMgYXJlIHVzZWRcbiAqIG9yIHdoZW4gdGhlIHdlYmNvbXBvbmVudHNqc1xuICogKGh0dHBzOi8vZ2l0aHViLmNvbS93ZWJjb21wb25lbnRzL3dlYmNvbXBvbmVudHNqcykgcG9seWZpbGwgaXMgdXNlZC5cbiAqXG4gKiBBZGRzIGEgYHNjb3BlTmFtZWAgb3B0aW9uIHdoaWNoIGlzIHVzZWQgdG8gc2NvcGUgZWxlbWVudCBET00gYW5kIHN0eWxlc2hlZXRzXG4gKiB3aGVuIG5hdGl2ZSBTaGFkb3dET00gaXMgdW5hdmFpbGFibGUuIFRoZSBgc2NvcGVOYW1lYCB3aWxsIGJlIGFkZGVkIHRvXG4gKiB0aGUgY2xhc3MgYXR0cmlidXRlIG9mIGFsbCByZW5kZXJlZCBET00uIEluIGFkZGl0aW9uLCBhbnkgc3R5bGUgZWxlbWVudHMgd2lsbFxuICogYmUgYXV0b21hdGljYWxseSByZS13cml0dGVuIHdpdGggdGhpcyBgc2NvcGVOYW1lYCBzZWxlY3RvciBhbmQgbW92ZWQgb3V0XG4gKiBvZiB0aGUgcmVuZGVyZWQgRE9NIGFuZCBpbnRvIHRoZSBkb2N1bWVudCBgPGhlYWQ+YC5cbiAqXG4gKiBJdCBpcyBjb21tb24gdG8gdXNlIHRoaXMgcmVuZGVyIG1ldGhvZCBpbiBjb25qdW5jdGlvbiB3aXRoIGEgY3VzdG9tIGVsZW1lbnRcbiAqIHdoaWNoIHJlbmRlcnMgYSBzaGFkb3dSb290LiBXaGVuIHRoaXMgaXMgZG9uZSwgdHlwaWNhbGx5IHRoZSBlbGVtZW50J3NcbiAqIGBsb2NhbE5hbWVgIHNob3VsZCBiZSB1c2VkIGFzIHRoZSBgc2NvcGVOYW1lYC5cbiAqXG4gKiBJbiBhZGRpdGlvbiB0byBET00gc2NvcGluZywgU2hhZHlDU1MgYWxzbyBzdXBwb3J0cyBhIGJhc2ljIHNoaW0gZm9yIGNzc1xuICogY3VzdG9tIHByb3BlcnRpZXMgKG5lZWRlZCBvbmx5IG9uIG9sZGVyIGJyb3dzZXJzIGxpa2UgSUUxMSkgYW5kIGEgc2hpbSBmb3JcbiAqIGEgZGVwcmVjYXRlZCBmZWF0dXJlIGNhbGxlZCBgQGFwcGx5YCB0aGF0IHN1cHBvcnRzIGFwcGx5aW5nIGEgc2V0IG9mIGNzc1xuICogY3VzdG9tIHByb3BlcnRpZXMgdG8gYSBnaXZlbiBsb2NhdGlvbi5cbiAqXG4gKiBVc2FnZSBjb25zaWRlcmF0aW9uczpcbiAqXG4gKiAqIFBhcnQgdmFsdWVzIGluIGA8c3R5bGU+YCBlbGVtZW50cyBhcmUgb25seSBhcHBsaWVkIHRoZSBmaXJzdCB0aW1lIGEgZ2l2ZW5cbiAqIGBzY29wZU5hbWVgIHJlbmRlcnMuIFN1YnNlcXVlbnQgY2hhbmdlcyB0byBwYXJ0cyBpbiBzdHlsZSBlbGVtZW50cyB3aWxsIGhhdmVcbiAqIG5vIGVmZmVjdC4gQmVjYXVzZSBvZiB0aGlzLCBwYXJ0cyBpbiBzdHlsZSBlbGVtZW50cyBzaG91bGQgb25seSBiZSB1c2VkIGZvclxuICogdmFsdWVzIHRoYXQgd2lsbCBuZXZlciBjaGFuZ2UsIGZvciBleGFtcGxlIHBhcnRzIHRoYXQgc2V0IHNjb3BlLXdpZGUgdGhlbWVcbiAqIHZhbHVlcyBvciBwYXJ0cyB3aGljaCByZW5kZXIgc2hhcmVkIHN0eWxlIGVsZW1lbnRzLlxuICpcbiAqICogTm90ZSwgZHVlIHRvIGEgbGltaXRhdGlvbiBvZiB0aGUgU2hhZHlET00gcG9seWZpbGwsIHJlbmRlcmluZyBpbiBhXG4gKiBjdXN0b20gZWxlbWVudCdzIGBjb25zdHJ1Y3RvcmAgaXMgbm90IHN1cHBvcnRlZC4gSW5zdGVhZCByZW5kZXJpbmcgc2hvdWxkXG4gKiBlaXRoZXIgZG9uZSBhc3luY2hyb25vdXNseSwgZm9yIGV4YW1wbGUgYXQgbWljcm90YXNrIHRpbWluZyAoZm9yIGV4YW1wbGVcbiAqIGBQcm9taXNlLnJlc29sdmUoKWApLCBvciBiZSBkZWZlcnJlZCB1bnRpbCB0aGUgZmlyc3QgdGltZSB0aGUgZWxlbWVudCdzXG4gKiBgY29ubmVjdGVkQ2FsbGJhY2tgIHJ1bnMuXG4gKlxuICogVXNhZ2UgY29uc2lkZXJhdGlvbnMgd2hlbiB1c2luZyBzaGltbWVkIGN1c3RvbSBwcm9wZXJ0aWVzIG9yIGBAYXBwbHlgOlxuICpcbiAqICogV2hlbmV2ZXIgYW55IGR5bmFtaWMgY2hhbmdlcyBhcmUgbWFkZSB3aGljaCBhZmZlY3RcbiAqIGNzcyBjdXN0b20gcHJvcGVydGllcywgYFNoYWR5Q1NTLnN0eWxlRWxlbWVudChlbGVtZW50KWAgbXVzdCBiZSBjYWxsZWRcbiAqIHRvIHVwZGF0ZSB0aGUgZWxlbWVudC4gVGhlcmUgYXJlIHR3byBjYXNlcyB3aGVuIHRoaXMgaXMgbmVlZGVkOlxuICogKDEpIHRoZSBlbGVtZW50IGlzIGNvbm5lY3RlZCB0byBhIG5ldyBwYXJlbnQsICgyKSBhIGNsYXNzIGlzIGFkZGVkIHRvIHRoZVxuICogZWxlbWVudCB0aGF0IGNhdXNlcyBpdCB0byBtYXRjaCBkaWZmZXJlbnQgY3VzdG9tIHByb3BlcnRpZXMuXG4gKiBUbyBhZGRyZXNzIHRoZSBmaXJzdCBjYXNlIHdoZW4gcmVuZGVyaW5nIGEgY3VzdG9tIGVsZW1lbnQsIGBzdHlsZUVsZW1lbnRgXG4gKiBzaG91bGQgYmUgY2FsbGVkIGluIHRoZSBlbGVtZW50J3MgYGNvbm5lY3RlZENhbGxiYWNrYC5cbiAqXG4gKiAqIFNoaW1tZWQgY3VzdG9tIHByb3BlcnRpZXMgbWF5IG9ubHkgYmUgZGVmaW5lZCBlaXRoZXIgZm9yIGFuIGVudGlyZVxuICogc2hhZG93Um9vdCAoZm9yIGV4YW1wbGUsIGluIGEgYDpob3N0YCBydWxlKSBvciB2aWEgYSBydWxlIHRoYXQgZGlyZWN0bHlcbiAqIG1hdGNoZXMgYW4gZWxlbWVudCB3aXRoIGEgc2hhZG93Um9vdC4gSW4gb3RoZXIgd29yZHMsIGluc3RlYWQgb2YgZmxvd2luZyBmcm9tXG4gKiBwYXJlbnQgdG8gY2hpbGQgYXMgZG8gbmF0aXZlIGNzcyBjdXN0b20gcHJvcGVydGllcywgc2hpbW1lZCBjdXN0b20gcHJvcGVydGllc1xuICogZmxvdyBvbmx5IGZyb20gc2hhZG93Um9vdHMgdG8gbmVzdGVkIHNoYWRvd1Jvb3RzLlxuICpcbiAqICogV2hlbiB1c2luZyBgQGFwcGx5YCBtaXhpbmcgY3NzIHNob3J0aGFuZCBwcm9wZXJ0eSBuYW1lcyB3aXRoXG4gKiBub24tc2hvcnRoYW5kIG5hbWVzIChmb3IgZXhhbXBsZSBgYm9yZGVyYCBhbmQgYGJvcmRlci13aWR0aGApIGlzIG5vdFxuICogc3VwcG9ydGVkLlxuICovXG5leHBvcnQgY29uc3QgcmVuZGVyID0gKHJlc3VsdCwgY29udGFpbmVyLCBvcHRpb25zKSA9PiB7XG4gICAgY29uc3Qgc2NvcGVOYW1lID0gb3B0aW9ucy5zY29wZU5hbWU7XG4gICAgY29uc3QgaGFzUmVuZGVyZWQgPSBwYXJ0cy5oYXMoY29udGFpbmVyKTtcbiAgICBjb25zdCBuZWVkc1Njb3BpbmcgPSBjb250YWluZXIgaW5zdGFuY2VvZiBTaGFkb3dSb290ICYmXG4gICAgICAgIGNvbXBhdGlibGVTaGFkeUNTU1ZlcnNpb24gJiYgcmVzdWx0IGluc3RhbmNlb2YgVGVtcGxhdGVSZXN1bHQ7XG4gICAgLy8gSGFuZGxlIGZpcnN0IHJlbmRlciB0byBhIHNjb3BlIHNwZWNpYWxseS4uLlxuICAgIGNvbnN0IGZpcnN0U2NvcGVSZW5kZXIgPSBuZWVkc1Njb3BpbmcgJiYgIXNoYWR5UmVuZGVyU2V0LmhhcyhzY29wZU5hbWUpO1xuICAgIC8vIE9uIGZpcnN0IHNjb3BlIHJlbmRlciwgcmVuZGVyIGludG8gYSBmcmFnbWVudDsgdGhpcyBjYW5ub3QgYmUgYSBzaW5nbGVcbiAgICAvLyBmcmFnbWVudCB0aGF0IGlzIHJldXNlZCBzaW5jZSBuZXN0ZWQgcmVuZGVycyBjYW4gb2NjdXIgc3luY2hyb25vdXNseS5cbiAgICBjb25zdCByZW5kZXJDb250YWluZXIgPSBmaXJzdFNjb3BlUmVuZGVyID8gZG9jdW1lbnQuY3JlYXRlRG9jdW1lbnRGcmFnbWVudCgpIDogY29udGFpbmVyO1xuICAgIGxpdFJlbmRlcihyZXN1bHQsIHJlbmRlckNvbnRhaW5lciwgT2JqZWN0LmFzc2lnbih7IHRlbXBsYXRlRmFjdG9yeTogc2hhZHlUZW1wbGF0ZUZhY3Rvcnkoc2NvcGVOYW1lKSB9LCBvcHRpb25zKSk7XG4gICAgLy8gV2hlbiBwZXJmb3JtaW5nIGZpcnN0IHNjb3BlIHJlbmRlcixcbiAgICAvLyAoMSkgV2UndmUgcmVuZGVyZWQgaW50byBhIGZyYWdtZW50IHNvIHRoYXQgdGhlcmUncyBhIGNoYW5jZSB0b1xuICAgIC8vIGBwcmVwYXJlVGVtcGxhdGVTdHlsZXNgIGJlZm9yZSBzdWItZWxlbWVudHMgaGl0IHRoZSBET01cbiAgICAvLyAod2hpY2ggbWlnaHQgY2F1c2UgdGhlbSB0byByZW5kZXIgYmFzZWQgb24gYSBjb21tb24gcGF0dGVybiBvZlxuICAgIC8vIHJlbmRlcmluZyBpbiBhIGN1c3RvbSBlbGVtZW50J3MgYGNvbm5lY3RlZENhbGxiYWNrYCk7XG4gICAgLy8gKDIpIFNjb3BlIHRoZSB0ZW1wbGF0ZSB3aXRoIFNoYWR5Q1NTIG9uZSB0aW1lIG9ubHkgZm9yIHRoaXMgc2NvcGUuXG4gICAgLy8gKDMpIFJlbmRlciB0aGUgZnJhZ21lbnQgaW50byB0aGUgY29udGFpbmVyIGFuZCBtYWtlIHN1cmUgdGhlXG4gICAgLy8gY29udGFpbmVyIGtub3dzIGl0cyBgcGFydGAgaXMgdGhlIG9uZSB3ZSBqdXN0IHJlbmRlcmVkLiBUaGlzIGVuc3VyZXNcbiAgICAvLyBET00gd2lsbCBiZSByZS11c2VkIG9uIHN1YnNlcXVlbnQgcmVuZGVycy5cbiAgICBpZiAoZmlyc3RTY29wZVJlbmRlcikge1xuICAgICAgICBjb25zdCBwYXJ0ID0gcGFydHMuZ2V0KHJlbmRlckNvbnRhaW5lcik7XG4gICAgICAgIHBhcnRzLmRlbGV0ZShyZW5kZXJDb250YWluZXIpO1xuICAgICAgICBpZiAocGFydC52YWx1ZSBpbnN0YW5jZW9mIFRlbXBsYXRlSW5zdGFuY2UpIHtcbiAgICAgICAgICAgIHByZXBhcmVUZW1wbGF0ZVN0eWxlcyhyZW5kZXJDb250YWluZXIsIHBhcnQudmFsdWUudGVtcGxhdGUsIHNjb3BlTmFtZSk7XG4gICAgICAgIH1cbiAgICAgICAgcmVtb3ZlTm9kZXMoY29udGFpbmVyLCBjb250YWluZXIuZmlyc3RDaGlsZCk7XG4gICAgICAgIGNvbnRhaW5lci5hcHBlbmRDaGlsZChyZW5kZXJDb250YWluZXIpO1xuICAgICAgICBwYXJ0cy5zZXQoY29udGFpbmVyLCBwYXJ0KTtcbiAgICB9XG4gICAgLy8gQWZ0ZXIgZWxlbWVudHMgaGF2ZSBoaXQgdGhlIERPTSwgdXBkYXRlIHN0eWxpbmcgaWYgdGhpcyBpcyB0aGVcbiAgICAvLyBpbml0aWFsIHJlbmRlciB0byB0aGlzIGNvbnRhaW5lci5cbiAgICAvLyBUaGlzIGlzIG5lZWRlZCB3aGVuZXZlciBkeW5hbWljIGNoYW5nZXMgYXJlIG1hZGUgc28gaXQgd291bGQgYmVcbiAgICAvLyBzYWZlc3QgdG8gZG8gZXZlcnkgcmVuZGVyOyBob3dldmVyLCB0aGlzIHdvdWxkIHJlZ3Jlc3MgcGVyZm9ybWFuY2VcbiAgICAvLyBzbyB3ZSBsZWF2ZSBpdCB1cCB0byB0aGUgdXNlciB0byBjYWxsIGBTaGFkeUNTU1Muc3R5bGVFbGVtZW50YFxuICAgIC8vIGZvciBkeW5hbWljIGNoYW5nZXMuXG4gICAgaWYgKCFoYXNSZW5kZXJlZCAmJiBuZWVkc1Njb3BpbmcpIHtcbiAgICAgICAgd2luZG93LlNoYWR5Q1NTLnN0eWxlRWxlbWVudChjb250YWluZXIuaG9zdCk7XG4gICAgfVxufTtcbi8vIyBzb3VyY2VNYXBwaW5nVVJMPXNoYWR5LXJlbmRlci5qcy5tYXAiLCIvKipcbiAqIEBsaWNlbnNlXG4gKiBDb3B5cmlnaHQgKGMpIDIwMTcgVGhlIFBvbHltZXIgUHJvamVjdCBBdXRob3JzLiBBbGwgcmlnaHRzIHJlc2VydmVkLlxuICogVGhpcyBjb2RlIG1heSBvbmx5IGJlIHVzZWQgdW5kZXIgdGhlIEJTRCBzdHlsZSBsaWNlbnNlIGZvdW5kIGF0XG4gKiBodHRwOi8vcG9seW1lci5naXRodWIuaW8vTElDRU5TRS50eHRcbiAqIFRoZSBjb21wbGV0ZSBzZXQgb2YgYXV0aG9ycyBtYXkgYmUgZm91bmQgYXRcbiAqIGh0dHA6Ly9wb2x5bWVyLmdpdGh1Yi5pby9BVVRIT1JTLnR4dFxuICogVGhlIGNvbXBsZXRlIHNldCBvZiBjb250cmlidXRvcnMgbWF5IGJlIGZvdW5kIGF0XG4gKiBodHRwOi8vcG9seW1lci5naXRodWIuaW8vQ09OVFJJQlVUT1JTLnR4dFxuICogQ29kZSBkaXN0cmlidXRlZCBieSBHb29nbGUgYXMgcGFydCBvZiB0aGUgcG9seW1lciBwcm9qZWN0IGlzIGFsc29cbiAqIHN1YmplY3QgdG8gYW4gYWRkaXRpb25hbCBJUCByaWdodHMgZ3JhbnQgZm91bmQgYXRcbiAqIGh0dHA6Ly9wb2x5bWVyLmdpdGh1Yi5pby9QQVRFTlRTLnR4dFxuICovXG4vKipcbiAqIFdoZW4gdXNpbmcgQ2xvc3VyZSBDb21waWxlciwgSlNDb21waWxlcl9yZW5hbWVQcm9wZXJ0eShwcm9wZXJ0eSwgb2JqZWN0KSBpc1xuICogcmVwbGFjZWQgYXQgY29tcGlsZSB0aW1lIGJ5IHRoZSBtdW5nZWQgbmFtZSBmb3Igb2JqZWN0W3Byb3BlcnR5XS4gV2UgY2Fubm90XG4gKiBhbGlhcyB0aGlzIGZ1bmN0aW9uLCBzbyB3ZSBoYXZlIHRvIHVzZSBhIHNtYWxsIHNoaW0gdGhhdCBoYXMgdGhlIHNhbWVcbiAqIGJlaGF2aW9yIHdoZW4gbm90IGNvbXBpbGluZy5cbiAqL1xud2luZG93LkpTQ29tcGlsZXJfcmVuYW1lUHJvcGVydHkgPVxuICAgIChwcm9wLCBfb2JqKSA9PiBwcm9wO1xuZXhwb3J0IGNvbnN0IGRlZmF1bHRDb252ZXJ0ZXIgPSB7XG4gICAgdG9BdHRyaWJ1dGUodmFsdWUsIHR5cGUpIHtcbiAgICAgICAgc3dpdGNoICh0eXBlKSB7XG4gICAgICAgICAgICBjYXNlIEJvb2xlYW46XG4gICAgICAgICAgICAgICAgcmV0dXJuIHZhbHVlID8gJycgOiBudWxsO1xuICAgICAgICAgICAgY2FzZSBPYmplY3Q6XG4gICAgICAgICAgICBjYXNlIEFycmF5OlxuICAgICAgICAgICAgICAgIC8vIGlmIHRoZSB2YWx1ZSBpcyBgbnVsbGAgb3IgYHVuZGVmaW5lZGAgcGFzcyB0aGlzIHRocm91Z2hcbiAgICAgICAgICAgICAgICAvLyB0byBhbGxvdyByZW1vdmluZy9ubyBjaGFuZ2UgYmVoYXZpb3IuXG4gICAgICAgICAgICAgICAgcmV0dXJuIHZhbHVlID09IG51bGwgPyB2YWx1ZSA6IEpTT04uc3RyaW5naWZ5KHZhbHVlKTtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gdmFsdWU7XG4gICAgfSxcbiAgICBmcm9tQXR0cmlidXRlKHZhbHVlLCB0eXBlKSB7XG4gICAgICAgIHN3aXRjaCAodHlwZSkge1xuICAgICAgICAgICAgY2FzZSBCb29sZWFuOlxuICAgICAgICAgICAgICAgIHJldHVybiB2YWx1ZSAhPT0gbnVsbDtcbiAgICAgICAgICAgIGNhc2UgTnVtYmVyOlxuICAgICAgICAgICAgICAgIHJldHVybiB2YWx1ZSA9PT0gbnVsbCA/IG51bGwgOiBOdW1iZXIodmFsdWUpO1xuICAgICAgICAgICAgY2FzZSBPYmplY3Q6XG4gICAgICAgICAgICBjYXNlIEFycmF5OlxuICAgICAgICAgICAgICAgIHJldHVybiBKU09OLnBhcnNlKHZhbHVlKTtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gdmFsdWU7XG4gICAgfVxufTtcbi8qKlxuICogQ2hhbmdlIGZ1bmN0aW9uIHRoYXQgcmV0dXJucyB0cnVlIGlmIGB2YWx1ZWAgaXMgZGlmZmVyZW50IGZyb20gYG9sZFZhbHVlYC5cbiAqIFRoaXMgbWV0aG9kIGlzIHVzZWQgYXMgdGhlIGRlZmF1bHQgZm9yIGEgcHJvcGVydHkncyBgaGFzQ2hhbmdlZGAgZnVuY3Rpb24uXG4gKi9cbmV4cG9ydCBjb25zdCBub3RFcXVhbCA9ICh2YWx1ZSwgb2xkKSA9PiB7XG4gICAgLy8gVGhpcyBlbnN1cmVzIChvbGQ9PU5hTiwgdmFsdWU9PU5hTikgYWx3YXlzIHJldHVybnMgZmFsc2VcbiAgICByZXR1cm4gb2xkICE9PSB2YWx1ZSAmJiAob2xkID09PSBvbGQgfHwgdmFsdWUgPT09IHZhbHVlKTtcbn07XG5jb25zdCBkZWZhdWx0UHJvcGVydHlEZWNsYXJhdGlvbiA9IHtcbiAgICBhdHRyaWJ1dGU6IHRydWUsXG4gICAgdHlwZTogU3RyaW5nLFxuICAgIGNvbnZlcnRlcjogZGVmYXVsdENvbnZlcnRlcixcbiAgICByZWZsZWN0OiBmYWxzZSxcbiAgICBoYXNDaGFuZ2VkOiBub3RFcXVhbFxufTtcbmNvbnN0IG1pY3JvdGFza1Byb21pc2UgPSBQcm9taXNlLnJlc29sdmUodHJ1ZSk7XG5jb25zdCBTVEFURV9IQVNfVVBEQVRFRCA9IDE7XG5jb25zdCBTVEFURV9VUERBVEVfUkVRVUVTVEVEID0gMSA8PCAyO1xuY29uc3QgU1RBVEVfSVNfUkVGTEVDVElOR19UT19BVFRSSUJVVEUgPSAxIDw8IDM7XG5jb25zdCBTVEFURV9JU19SRUZMRUNUSU5HX1RPX1BST1BFUlRZID0gMSA8PCA0O1xuY29uc3QgU1RBVEVfSEFTX0NPTk5FQ1RFRCA9IDEgPDwgNTtcbi8qKlxuICogQmFzZSBlbGVtZW50IGNsYXNzIHdoaWNoIG1hbmFnZXMgZWxlbWVudCBwcm9wZXJ0aWVzIGFuZCBhdHRyaWJ1dGVzLiBXaGVuXG4gKiBwcm9wZXJ0aWVzIGNoYW5nZSwgdGhlIGB1cGRhdGVgIG1ldGhvZCBpcyBhc3luY2hyb25vdXNseSBjYWxsZWQuIFRoaXMgbWV0aG9kXG4gKiBzaG91bGQgYmUgc3VwcGxpZWQgYnkgc3ViY2xhc3NlcnMgdG8gcmVuZGVyIHVwZGF0ZXMgYXMgZGVzaXJlZC5cbiAqL1xuZXhwb3J0IGNsYXNzIFVwZGF0aW5nRWxlbWVudCBleHRlbmRzIEhUTUxFbGVtZW50IHtcbiAgICBjb25zdHJ1Y3RvcigpIHtcbiAgICAgICAgc3VwZXIoKTtcbiAgICAgICAgdGhpcy5fdXBkYXRlU3RhdGUgPSAwO1xuICAgICAgICB0aGlzLl9pbnN0YW5jZVByb3BlcnRpZXMgPSB1bmRlZmluZWQ7XG4gICAgICAgIHRoaXMuX3VwZGF0ZVByb21pc2UgPSBtaWNyb3Rhc2tQcm9taXNlO1xuICAgICAgICB0aGlzLl9oYXNDb25uZWN0ZWRSZXNvbHZlciA9IHVuZGVmaW5lZDtcbiAgICAgICAgLyoqXG4gICAgICAgICAqIE1hcCB3aXRoIGtleXMgZm9yIGFueSBwcm9wZXJ0aWVzIHRoYXQgaGF2ZSBjaGFuZ2VkIHNpbmNlIHRoZSBsYXN0XG4gICAgICAgICAqIHVwZGF0ZSBjeWNsZSB3aXRoIHByZXZpb3VzIHZhbHVlcy5cbiAgICAgICAgICovXG4gICAgICAgIHRoaXMuX2NoYW5nZWRQcm9wZXJ0aWVzID0gbmV3IE1hcCgpO1xuICAgICAgICAvKipcbiAgICAgICAgICogTWFwIHdpdGgga2V5cyBvZiBwcm9wZXJ0aWVzIHRoYXQgc2hvdWxkIGJlIHJlZmxlY3RlZCB3aGVuIHVwZGF0ZWQuXG4gICAgICAgICAqL1xuICAgICAgICB0aGlzLl9yZWZsZWN0aW5nUHJvcGVydGllcyA9IHVuZGVmaW5lZDtcbiAgICAgICAgdGhpcy5pbml0aWFsaXplKCk7XG4gICAgfVxuICAgIC8qKlxuICAgICAqIFJldHVybnMgYSBsaXN0IG9mIGF0dHJpYnV0ZXMgY29ycmVzcG9uZGluZyB0byB0aGUgcmVnaXN0ZXJlZCBwcm9wZXJ0aWVzLlxuICAgICAqIEBub2NvbGxhcHNlXG4gICAgICovXG4gICAgc3RhdGljIGdldCBvYnNlcnZlZEF0dHJpYnV0ZXMoKSB7XG4gICAgICAgIC8vIG5vdGU6IHBpZ2d5IGJhY2tpbmcgb24gdGhpcyB0byBlbnN1cmUgd2UncmUgZmluYWxpemVkLlxuICAgICAgICB0aGlzLmZpbmFsaXplKCk7XG4gICAgICAgIGNvbnN0IGF0dHJpYnV0ZXMgPSBbXTtcbiAgICAgICAgLy8gVXNlIGZvckVhY2ggc28gdGhpcyB3b3JrcyBldmVuIGlmIGZvci9vZiBsb29wcyBhcmUgY29tcGlsZWQgdG8gZm9yIGxvb3BzXG4gICAgICAgIC8vIGV4cGVjdGluZyBhcnJheXNcbiAgICAgICAgdGhpcy5fY2xhc3NQcm9wZXJ0aWVzLmZvckVhY2goKHYsIHApID0+IHtcbiAgICAgICAgICAgIGNvbnN0IGF0dHIgPSB0aGlzLl9hdHRyaWJ1dGVOYW1lRm9yUHJvcGVydHkocCwgdik7XG4gICAgICAgICAgICBpZiAoYXR0ciAhPT0gdW5kZWZpbmVkKSB7XG4gICAgICAgICAgICAgICAgdGhpcy5fYXR0cmlidXRlVG9Qcm9wZXJ0eU1hcC5zZXQoYXR0ciwgcCk7XG4gICAgICAgICAgICAgICAgYXR0cmlidXRlcy5wdXNoKGF0dHIpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9KTtcbiAgICAgICAgcmV0dXJuIGF0dHJpYnV0ZXM7XG4gICAgfVxuICAgIC8qKlxuICAgICAqIEVuc3VyZXMgdGhlIHByaXZhdGUgYF9jbGFzc1Byb3BlcnRpZXNgIHByb3BlcnR5IG1ldGFkYXRhIGlzIGNyZWF0ZWQuXG4gICAgICogSW4gYWRkaXRpb24gdG8gYGZpbmFsaXplYCB0aGlzIGlzIGFsc28gY2FsbGVkIGluIGBjcmVhdGVQcm9wZXJ0eWAgdG9cbiAgICAgKiBlbnN1cmUgdGhlIGBAcHJvcGVydHlgIGRlY29yYXRvciBjYW4gYWRkIHByb3BlcnR5IG1ldGFkYXRhLlxuICAgICAqL1xuICAgIC8qKiBAbm9jb2xsYXBzZSAqL1xuICAgIHN0YXRpYyBfZW5zdXJlQ2xhc3NQcm9wZXJ0aWVzKCkge1xuICAgICAgICAvLyBlbnN1cmUgcHJpdmF0ZSBzdG9yYWdlIGZvciBwcm9wZXJ0eSBkZWNsYXJhdGlvbnMuXG4gICAgICAgIGlmICghdGhpcy5oYXNPd25Qcm9wZXJ0eShKU0NvbXBpbGVyX3JlbmFtZVByb3BlcnR5KCdfY2xhc3NQcm9wZXJ0aWVzJywgdGhpcykpKSB7XG4gICAgICAgICAgICB0aGlzLl9jbGFzc1Byb3BlcnRpZXMgPSBuZXcgTWFwKCk7XG4gICAgICAgICAgICAvLyBOT1RFOiBXb3JrYXJvdW5kIElFMTEgbm90IHN1cHBvcnRpbmcgTWFwIGNvbnN0cnVjdG9yIGFyZ3VtZW50LlxuICAgICAgICAgICAgY29uc3Qgc3VwZXJQcm9wZXJ0aWVzID0gT2JqZWN0LmdldFByb3RvdHlwZU9mKHRoaXMpLl9jbGFzc1Byb3BlcnRpZXM7XG4gICAgICAgICAgICBpZiAoc3VwZXJQcm9wZXJ0aWVzICE9PSB1bmRlZmluZWQpIHtcbiAgICAgICAgICAgICAgICBzdXBlclByb3BlcnRpZXMuZm9yRWFjaCgodiwgaykgPT4gdGhpcy5fY2xhc3NQcm9wZXJ0aWVzLnNldChrLCB2KSk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICB9XG4gICAgLyoqXG4gICAgICogQ3JlYXRlcyBhIHByb3BlcnR5IGFjY2Vzc29yIG9uIHRoZSBlbGVtZW50IHByb3RvdHlwZSBpZiBvbmUgZG9lcyBub3QgZXhpc3QuXG4gICAgICogVGhlIHByb3BlcnR5IHNldHRlciBjYWxscyB0aGUgcHJvcGVydHkncyBgaGFzQ2hhbmdlZGAgcHJvcGVydHkgb3B0aW9uXG4gICAgICogb3IgdXNlcyBhIHN0cmljdCBpZGVudGl0eSBjaGVjayB0byBkZXRlcm1pbmUgd2hldGhlciBvciBub3QgdG8gcmVxdWVzdFxuICAgICAqIGFuIHVwZGF0ZS5cbiAgICAgKiBAbm9jb2xsYXBzZVxuICAgICAqL1xuICAgIHN0YXRpYyBjcmVhdGVQcm9wZXJ0eShuYW1lLCBvcHRpb25zID0gZGVmYXVsdFByb3BlcnR5RGVjbGFyYXRpb24pIHtcbiAgICAgICAgLy8gTm90ZSwgc2luY2UgdGhpcyBjYW4gYmUgY2FsbGVkIGJ5IHRoZSBgQHByb3BlcnR5YCBkZWNvcmF0b3Igd2hpY2hcbiAgICAgICAgLy8gaXMgY2FsbGVkIGJlZm9yZSBgZmluYWxpemVgLCB3ZSBlbnN1cmUgc3RvcmFnZSBleGlzdHMgZm9yIHByb3BlcnR5XG4gICAgICAgIC8vIG1ldGFkYXRhLlxuICAgICAgICB0aGlzLl9lbnN1cmVDbGFzc1Byb3BlcnRpZXMoKTtcbiAgICAgICAgdGhpcy5fY2xhc3NQcm9wZXJ0aWVzLnNldChuYW1lLCBvcHRpb25zKTtcbiAgICAgICAgLy8gRG8gbm90IGdlbmVyYXRlIGFuIGFjY2Vzc29yIGlmIHRoZSBwcm90b3R5cGUgYWxyZWFkeSBoYXMgb25lLCBzaW5jZVxuICAgICAgICAvLyBpdCB3b3VsZCBiZSBsb3N0IG90aGVyd2lzZSBhbmQgdGhhdCB3b3VsZCBuZXZlciBiZSB0aGUgdXNlcidzIGludGVudGlvbjtcbiAgICAgICAgLy8gSW5zdGVhZCwgd2UgZXhwZWN0IHVzZXJzIHRvIGNhbGwgYHJlcXVlc3RVcGRhdGVgIHRoZW1zZWx2ZXMgZnJvbVxuICAgICAgICAvLyB1c2VyLWRlZmluZWQgYWNjZXNzb3JzLiBOb3RlIHRoYXQgaWYgdGhlIHN1cGVyIGhhcyBhbiBhY2Nlc3NvciB3ZSB3aWxsXG4gICAgICAgIC8vIHN0aWxsIG92ZXJ3cml0ZSBpdFxuICAgICAgICBpZiAob3B0aW9ucy5ub0FjY2Vzc29yIHx8IHRoaXMucHJvdG90eXBlLmhhc093blByb3BlcnR5KG5hbWUpKSB7XG4gICAgICAgICAgICByZXR1cm47XG4gICAgICAgIH1cbiAgICAgICAgY29uc3Qga2V5ID0gdHlwZW9mIG5hbWUgPT09ICdzeW1ib2wnID8gU3ltYm9sKCkgOiBgX18ke25hbWV9YDtcbiAgICAgICAgT2JqZWN0LmRlZmluZVByb3BlcnR5KHRoaXMucHJvdG90eXBlLCBuYW1lLCB7XG4gICAgICAgICAgICAvLyB0c2xpbnQ6ZGlzYWJsZS1uZXh0LWxpbmU6bm8tYW55IG5vIHN5bWJvbCBpbiBpbmRleFxuICAgICAgICAgICAgZ2V0KCkge1xuICAgICAgICAgICAgICAgIHJldHVybiB0aGlzW2tleV07XG4gICAgICAgICAgICB9LFxuICAgICAgICAgICAgc2V0KHZhbHVlKSB7XG4gICAgICAgICAgICAgICAgLy8gdHNsaW50OmRpc2FibGUtbmV4dC1saW5lOm5vLWFueSBubyBzeW1ib2wgaW4gaW5kZXhcbiAgICAgICAgICAgICAgICBjb25zdCBvbGRWYWx1ZSA9IHRoaXNbbmFtZV07XG4gICAgICAgICAgICAgICAgLy8gdHNsaW50OmRpc2FibGUtbmV4dC1saW5lOm5vLWFueSBubyBzeW1ib2wgaW4gaW5kZXhcbiAgICAgICAgICAgICAgICB0aGlzW2tleV0gPSB2YWx1ZTtcbiAgICAgICAgICAgICAgICB0aGlzLl9yZXF1ZXN0VXBkYXRlKG5hbWUsIG9sZFZhbHVlKTtcbiAgICAgICAgICAgIH0sXG4gICAgICAgICAgICBjb25maWd1cmFibGU6IHRydWUsXG4gICAgICAgICAgICBlbnVtZXJhYmxlOiB0cnVlXG4gICAgICAgIH0pO1xuICAgIH1cbiAgICAvKipcbiAgICAgKiBDcmVhdGVzIHByb3BlcnR5IGFjY2Vzc29ycyBmb3IgcmVnaXN0ZXJlZCBwcm9wZXJ0aWVzIGFuZCBlbnN1cmVzXG4gICAgICogYW55IHN1cGVyY2xhc3NlcyBhcmUgYWxzbyBmaW5hbGl6ZWQuXG4gICAgICogQG5vY29sbGFwc2VcbiAgICAgKi9cbiAgICBzdGF0aWMgZmluYWxpemUoKSB7XG4gICAgICAgIGlmICh0aGlzLmhhc093blByb3BlcnR5KEpTQ29tcGlsZXJfcmVuYW1lUHJvcGVydHkoJ2ZpbmFsaXplZCcsIHRoaXMpKSAmJlxuICAgICAgICAgICAgdGhpcy5maW5hbGl6ZWQpIHtcbiAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgfVxuICAgICAgICAvLyBmaW5hbGl6ZSBhbnkgc3VwZXJjbGFzc2VzXG4gICAgICAgIGNvbnN0IHN1cGVyQ3RvciA9IE9iamVjdC5nZXRQcm90b3R5cGVPZih0aGlzKTtcbiAgICAgICAgaWYgKHR5cGVvZiBzdXBlckN0b3IuZmluYWxpemUgPT09ICdmdW5jdGlvbicpIHtcbiAgICAgICAgICAgIHN1cGVyQ3Rvci5maW5hbGl6ZSgpO1xuICAgICAgICB9XG4gICAgICAgIHRoaXMuZmluYWxpemVkID0gdHJ1ZTtcbiAgICAgICAgdGhpcy5fZW5zdXJlQ2xhc3NQcm9wZXJ0aWVzKCk7XG4gICAgICAgIC8vIGluaXRpYWxpemUgTWFwIHBvcHVsYXRlZCBpbiBvYnNlcnZlZEF0dHJpYnV0ZXNcbiAgICAgICAgdGhpcy5fYXR0cmlidXRlVG9Qcm9wZXJ0eU1hcCA9IG5ldyBNYXAoKTtcbiAgICAgICAgLy8gbWFrZSBhbnkgcHJvcGVydGllc1xuICAgICAgICAvLyBOb3RlLCBvbmx5IHByb2Nlc3MgXCJvd25cIiBwcm9wZXJ0aWVzIHNpbmNlIHRoaXMgZWxlbWVudCB3aWxsIGluaGVyaXRcbiAgICAgICAgLy8gYW55IHByb3BlcnRpZXMgZGVmaW5lZCBvbiB0aGUgc3VwZXJDbGFzcywgYW5kIGZpbmFsaXphdGlvbiBlbnN1cmVzXG4gICAgICAgIC8vIHRoZSBlbnRpcmUgcHJvdG90eXBlIGNoYWluIGlzIGZpbmFsaXplZC5cbiAgICAgICAgaWYgKHRoaXMuaGFzT3duUHJvcGVydHkoSlNDb21waWxlcl9yZW5hbWVQcm9wZXJ0eSgncHJvcGVydGllcycsIHRoaXMpKSkge1xuICAgICAgICAgICAgY29uc3QgcHJvcHMgPSB0aGlzLnByb3BlcnRpZXM7XG4gICAgICAgICAgICAvLyBzdXBwb3J0IHN5bWJvbHMgaW4gcHJvcGVydGllcyAoSUUxMSBkb2VzIG5vdCBzdXBwb3J0IHRoaXMpXG4gICAgICAgICAgICBjb25zdCBwcm9wS2V5cyA9IFtcbiAgICAgICAgICAgICAgICAuLi5PYmplY3QuZ2V0T3duUHJvcGVydHlOYW1lcyhwcm9wcyksXG4gICAgICAgICAgICAgICAgLi4uKHR5cGVvZiBPYmplY3QuZ2V0T3duUHJvcGVydHlTeW1ib2xzID09PSAnZnVuY3Rpb24nKSA/XG4gICAgICAgICAgICAgICAgICAgIE9iamVjdC5nZXRPd25Qcm9wZXJ0eVN5bWJvbHMocHJvcHMpIDpcbiAgICAgICAgICAgICAgICAgICAgW11cbiAgICAgICAgICAgIF07XG4gICAgICAgICAgICAvLyBUaGlzIGZvci9vZiBpcyBvayBiZWNhdXNlIHByb3BLZXlzIGlzIGFuIGFycmF5XG4gICAgICAgICAgICBmb3IgKGNvbnN0IHAgb2YgcHJvcEtleXMpIHtcbiAgICAgICAgICAgICAgICAvLyBub3RlLCB1c2Ugb2YgYGFueWAgaXMgZHVlIHRvIFR5cGVTcmlwdCBsYWNrIG9mIHN1cHBvcnQgZm9yIHN5bWJvbCBpblxuICAgICAgICAgICAgICAgIC8vIGluZGV4IHR5cGVzXG4gICAgICAgICAgICAgICAgLy8gdHNsaW50OmRpc2FibGUtbmV4dC1saW5lOm5vLWFueSBubyBzeW1ib2wgaW4gaW5kZXhcbiAgICAgICAgICAgICAgICB0aGlzLmNyZWF0ZVByb3BlcnR5KHAsIHByb3BzW3BdKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgIH1cbiAgICAvKipcbiAgICAgKiBSZXR1cm5zIHRoZSBwcm9wZXJ0eSBuYW1lIGZvciB0aGUgZ2l2ZW4gYXR0cmlidXRlIGBuYW1lYC5cbiAgICAgKiBAbm9jb2xsYXBzZVxuICAgICAqL1xuICAgIHN0YXRpYyBfYXR0cmlidXRlTmFtZUZvclByb3BlcnR5KG5hbWUsIG9wdGlvbnMpIHtcbiAgICAgICAgY29uc3QgYXR0cmlidXRlID0gb3B0aW9ucy5hdHRyaWJ1dGU7XG4gICAgICAgIHJldHVybiBhdHRyaWJ1dGUgPT09IGZhbHNlID9cbiAgICAgICAgICAgIHVuZGVmaW5lZCA6XG4gICAgICAgICAgICAodHlwZW9mIGF0dHJpYnV0ZSA9PT0gJ3N0cmluZycgP1xuICAgICAgICAgICAgICAgIGF0dHJpYnV0ZSA6XG4gICAgICAgICAgICAgICAgKHR5cGVvZiBuYW1lID09PSAnc3RyaW5nJyA/IG5hbWUudG9Mb3dlckNhc2UoKSA6IHVuZGVmaW5lZCkpO1xuICAgIH1cbiAgICAvKipcbiAgICAgKiBSZXR1cm5zIHRydWUgaWYgYSBwcm9wZXJ0eSBzaG91bGQgcmVxdWVzdCBhbiB1cGRhdGUuXG4gICAgICogQ2FsbGVkIHdoZW4gYSBwcm9wZXJ0eSB2YWx1ZSBpcyBzZXQgYW5kIHVzZXMgdGhlIGBoYXNDaGFuZ2VkYFxuICAgICAqIG9wdGlvbiBmb3IgdGhlIHByb3BlcnR5IGlmIHByZXNlbnQgb3IgYSBzdHJpY3QgaWRlbnRpdHkgY2hlY2suXG4gICAgICogQG5vY29sbGFwc2VcbiAgICAgKi9cbiAgICBzdGF0aWMgX3ZhbHVlSGFzQ2hhbmdlZCh2YWx1ZSwgb2xkLCBoYXNDaGFuZ2VkID0gbm90RXF1YWwpIHtcbiAgICAgICAgcmV0dXJuIGhhc0NoYW5nZWQodmFsdWUsIG9sZCk7XG4gICAgfVxuICAgIC8qKlxuICAgICAqIFJldHVybnMgdGhlIHByb3BlcnR5IHZhbHVlIGZvciB0aGUgZ2l2ZW4gYXR0cmlidXRlIHZhbHVlLlxuICAgICAqIENhbGxlZCB2aWEgdGhlIGBhdHRyaWJ1dGVDaGFuZ2VkQ2FsbGJhY2tgIGFuZCB1c2VzIHRoZSBwcm9wZXJ0eSdzXG4gICAgICogYGNvbnZlcnRlcmAgb3IgYGNvbnZlcnRlci5mcm9tQXR0cmlidXRlYCBwcm9wZXJ0eSBvcHRpb24uXG4gICAgICogQG5vY29sbGFwc2VcbiAgICAgKi9cbiAgICBzdGF0aWMgX3Byb3BlcnR5VmFsdWVGcm9tQXR0cmlidXRlKHZhbHVlLCBvcHRpb25zKSB7XG4gICAgICAgIGNvbnN0IHR5cGUgPSBvcHRpb25zLnR5cGU7XG4gICAgICAgIGNvbnN0IGNvbnZlcnRlciA9IG9wdGlvbnMuY29udmVydGVyIHx8IGRlZmF1bHRDb252ZXJ0ZXI7XG4gICAgICAgIGNvbnN0IGZyb21BdHRyaWJ1dGUgPSAodHlwZW9mIGNvbnZlcnRlciA9PT0gJ2Z1bmN0aW9uJyA/IGNvbnZlcnRlciA6IGNvbnZlcnRlci5mcm9tQXR0cmlidXRlKTtcbiAgICAgICAgcmV0dXJuIGZyb21BdHRyaWJ1dGUgPyBmcm9tQXR0cmlidXRlKHZhbHVlLCB0eXBlKSA6IHZhbHVlO1xuICAgIH1cbiAgICAvKipcbiAgICAgKiBSZXR1cm5zIHRoZSBhdHRyaWJ1dGUgdmFsdWUgZm9yIHRoZSBnaXZlbiBwcm9wZXJ0eSB2YWx1ZS4gSWYgdGhpc1xuICAgICAqIHJldHVybnMgdW5kZWZpbmVkLCB0aGUgcHJvcGVydHkgd2lsbCAqbm90KiBiZSByZWZsZWN0ZWQgdG8gYW4gYXR0cmlidXRlLlxuICAgICAqIElmIHRoaXMgcmV0dXJucyBudWxsLCB0aGUgYXR0cmlidXRlIHdpbGwgYmUgcmVtb3ZlZCwgb3RoZXJ3aXNlIHRoZVxuICAgICAqIGF0dHJpYnV0ZSB3aWxsIGJlIHNldCB0byB0aGUgdmFsdWUuXG4gICAgICogVGhpcyB1c2VzIHRoZSBwcm9wZXJ0eSdzIGByZWZsZWN0YCBhbmQgYHR5cGUudG9BdHRyaWJ1dGVgIHByb3BlcnR5IG9wdGlvbnMuXG4gICAgICogQG5vY29sbGFwc2VcbiAgICAgKi9cbiAgICBzdGF0aWMgX3Byb3BlcnR5VmFsdWVUb0F0dHJpYnV0ZSh2YWx1ZSwgb3B0aW9ucykge1xuICAgICAgICBpZiAob3B0aW9ucy5yZWZsZWN0ID09PSB1bmRlZmluZWQpIHtcbiAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgfVxuICAgICAgICBjb25zdCB0eXBlID0gb3B0aW9ucy50eXBlO1xuICAgICAgICBjb25zdCBjb252ZXJ0ZXIgPSBvcHRpb25zLmNvbnZlcnRlcjtcbiAgICAgICAgY29uc3QgdG9BdHRyaWJ1dGUgPSBjb252ZXJ0ZXIgJiYgY29udmVydGVyLnRvQXR0cmlidXRlIHx8XG4gICAgICAgICAgICBkZWZhdWx0Q29udmVydGVyLnRvQXR0cmlidXRlO1xuICAgICAgICByZXR1cm4gdG9BdHRyaWJ1dGUodmFsdWUsIHR5cGUpO1xuICAgIH1cbiAgICAvKipcbiAgICAgKiBQZXJmb3JtcyBlbGVtZW50IGluaXRpYWxpemF0aW9uLiBCeSBkZWZhdWx0IGNhcHR1cmVzIGFueSBwcmUtc2V0IHZhbHVlcyBmb3JcbiAgICAgKiByZWdpc3RlcmVkIHByb3BlcnRpZXMuXG4gICAgICovXG4gICAgaW5pdGlhbGl6ZSgpIHtcbiAgICAgICAgdGhpcy5fc2F2ZUluc3RhbmNlUHJvcGVydGllcygpO1xuICAgICAgICAvLyBlbnN1cmVzIGZpcnN0IHVwZGF0ZSB3aWxsIGJlIGNhdWdodCBieSBhbiBlYXJseSBhY2Nlc3Mgb2YgYHVwZGF0ZUNvbXBsZXRlYFxuICAgICAgICB0aGlzLl9yZXF1ZXN0VXBkYXRlKCk7XG4gICAgfVxuICAgIC8qKlxuICAgICAqIEZpeGVzIGFueSBwcm9wZXJ0aWVzIHNldCBvbiB0aGUgaW5zdGFuY2UgYmVmb3JlIHVwZ3JhZGUgdGltZS5cbiAgICAgKiBPdGhlcndpc2UgdGhlc2Ugd291bGQgc2hhZG93IHRoZSBhY2Nlc3NvciBhbmQgYnJlYWsgdGhlc2UgcHJvcGVydGllcy5cbiAgICAgKiBUaGUgcHJvcGVydGllcyBhcmUgc3RvcmVkIGluIGEgTWFwIHdoaWNoIGlzIHBsYXllZCBiYWNrIGFmdGVyIHRoZVxuICAgICAqIGNvbnN0cnVjdG9yIHJ1bnMuIE5vdGUsIG9uIHZlcnkgb2xkIHZlcnNpb25zIG9mIFNhZmFyaSAoPD05KSBvciBDaHJvbWVcbiAgICAgKiAoPD00MSksIHByb3BlcnRpZXMgY3JlYXRlZCBmb3IgbmF0aXZlIHBsYXRmb3JtIHByb3BlcnRpZXMgbGlrZSAoYGlkYCBvclxuICAgICAqIGBuYW1lYCkgbWF5IG5vdCBoYXZlIGRlZmF1bHQgdmFsdWVzIHNldCBpbiB0aGUgZWxlbWVudCBjb25zdHJ1Y3Rvci4gT25cbiAgICAgKiB0aGVzZSBicm93c2VycyBuYXRpdmUgcHJvcGVydGllcyBhcHBlYXIgb24gaW5zdGFuY2VzIGFuZCB0aGVyZWZvcmUgdGhlaXJcbiAgICAgKiBkZWZhdWx0IHZhbHVlIHdpbGwgb3ZlcndyaXRlIGFueSBlbGVtZW50IGRlZmF1bHQgKGUuZy4gaWYgdGhlIGVsZW1lbnQgc2V0c1xuICAgICAqIHRoaXMuaWQgPSAnaWQnIGluIHRoZSBjb25zdHJ1Y3RvciwgdGhlICdpZCcgd2lsbCBiZWNvbWUgJycgc2luY2UgdGhpcyBpc1xuICAgICAqIHRoZSBuYXRpdmUgcGxhdGZvcm0gZGVmYXVsdCkuXG4gICAgICovXG4gICAgX3NhdmVJbnN0YW5jZVByb3BlcnRpZXMoKSB7XG4gICAgICAgIC8vIFVzZSBmb3JFYWNoIHNvIHRoaXMgd29ya3MgZXZlbiBpZiBmb3Ivb2YgbG9vcHMgYXJlIGNvbXBpbGVkIHRvIGZvciBsb29wc1xuICAgICAgICAvLyBleHBlY3RpbmcgYXJyYXlzXG4gICAgICAgIHRoaXMuY29uc3RydWN0b3JcbiAgICAgICAgICAgIC5fY2xhc3NQcm9wZXJ0aWVzLmZvckVhY2goKF92LCBwKSA9PiB7XG4gICAgICAgICAgICBpZiAodGhpcy5oYXNPd25Qcm9wZXJ0eShwKSkge1xuICAgICAgICAgICAgICAgIGNvbnN0IHZhbHVlID0gdGhpc1twXTtcbiAgICAgICAgICAgICAgICBkZWxldGUgdGhpc1twXTtcbiAgICAgICAgICAgICAgICBpZiAoIXRoaXMuX2luc3RhbmNlUHJvcGVydGllcykge1xuICAgICAgICAgICAgICAgICAgICB0aGlzLl9pbnN0YW5jZVByb3BlcnRpZXMgPSBuZXcgTWFwKCk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIHRoaXMuX2luc3RhbmNlUHJvcGVydGllcy5zZXQocCwgdmFsdWUpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9KTtcbiAgICB9XG4gICAgLyoqXG4gICAgICogQXBwbGllcyBwcmV2aW91c2x5IHNhdmVkIGluc3RhbmNlIHByb3BlcnRpZXMuXG4gICAgICovXG4gICAgX2FwcGx5SW5zdGFuY2VQcm9wZXJ0aWVzKCkge1xuICAgICAgICAvLyBVc2UgZm9yRWFjaCBzbyB0aGlzIHdvcmtzIGV2ZW4gaWYgZm9yL29mIGxvb3BzIGFyZSBjb21waWxlZCB0byBmb3IgbG9vcHNcbiAgICAgICAgLy8gZXhwZWN0aW5nIGFycmF5c1xuICAgICAgICAvLyB0c2xpbnQ6ZGlzYWJsZS1uZXh0LWxpbmU6bm8tYW55XG4gICAgICAgIHRoaXMuX2luc3RhbmNlUHJvcGVydGllcy5mb3JFYWNoKCh2LCBwKSA9PiB0aGlzW3BdID0gdik7XG4gICAgICAgIHRoaXMuX2luc3RhbmNlUHJvcGVydGllcyA9IHVuZGVmaW5lZDtcbiAgICB9XG4gICAgY29ubmVjdGVkQ2FsbGJhY2soKSB7XG4gICAgICAgIHRoaXMuX3VwZGF0ZVN0YXRlID0gdGhpcy5fdXBkYXRlU3RhdGUgfCBTVEFURV9IQVNfQ09OTkVDVEVEO1xuICAgICAgICAvLyBFbnN1cmUgZmlyc3QgY29ubmVjdGlvbiBjb21wbGV0ZXMgYW4gdXBkYXRlLiBVcGRhdGVzIGNhbm5vdCBjb21wbGV0ZSBiZWZvcmVcbiAgICAgICAgLy8gY29ubmVjdGlvbiBhbmQgaWYgb25lIGlzIHBlbmRpbmcgY29ubmVjdGlvbiB0aGUgYF9oYXNDb25uZWN0aW9uUmVzb2x2ZXJgXG4gICAgICAgIC8vIHdpbGwgZXhpc3QuIElmIHNvLCByZXNvbHZlIGl0IHRvIGNvbXBsZXRlIHRoZSB1cGRhdGUsIG90aGVyd2lzZVxuICAgICAgICAvLyByZXF1ZXN0VXBkYXRlLlxuICAgICAgICBpZiAodGhpcy5faGFzQ29ubmVjdGVkUmVzb2x2ZXIpIHtcbiAgICAgICAgICAgIHRoaXMuX2hhc0Nvbm5lY3RlZFJlc29sdmVyKCk7XG4gICAgICAgICAgICB0aGlzLl9oYXNDb25uZWN0ZWRSZXNvbHZlciA9IHVuZGVmaW5lZDtcbiAgICAgICAgfVxuICAgIH1cbiAgICAvKipcbiAgICAgKiBBbGxvd3MgZm9yIGBzdXBlci5kaXNjb25uZWN0ZWRDYWxsYmFjaygpYCBpbiBleHRlbnNpb25zIHdoaWxlXG4gICAgICogcmVzZXJ2aW5nIHRoZSBwb3NzaWJpbGl0eSBvZiBtYWtpbmcgbm9uLWJyZWFraW5nIGZlYXR1cmUgYWRkaXRpb25zXG4gICAgICogd2hlbiBkaXNjb25uZWN0aW5nIGF0IHNvbWUgcG9pbnQgaW4gdGhlIGZ1dHVyZS5cbiAgICAgKi9cbiAgICBkaXNjb25uZWN0ZWRDYWxsYmFjaygpIHtcbiAgICB9XG4gICAgLyoqXG4gICAgICogU3luY2hyb25pemVzIHByb3BlcnR5IHZhbHVlcyB3aGVuIGF0dHJpYnV0ZXMgY2hhbmdlLlxuICAgICAqL1xuICAgIGF0dHJpYnV0ZUNoYW5nZWRDYWxsYmFjayhuYW1lLCBvbGQsIHZhbHVlKSB7XG4gICAgICAgIGlmIChvbGQgIT09IHZhbHVlKSB7XG4gICAgICAgICAgICB0aGlzLl9hdHRyaWJ1dGVUb1Byb3BlcnR5KG5hbWUsIHZhbHVlKTtcbiAgICAgICAgfVxuICAgIH1cbiAgICBfcHJvcGVydHlUb0F0dHJpYnV0ZShuYW1lLCB2YWx1ZSwgb3B0aW9ucyA9IGRlZmF1bHRQcm9wZXJ0eURlY2xhcmF0aW9uKSB7XG4gICAgICAgIGNvbnN0IGN0b3IgPSB0aGlzLmNvbnN0cnVjdG9yO1xuICAgICAgICBjb25zdCBhdHRyID0gY3Rvci5fYXR0cmlidXRlTmFtZUZvclByb3BlcnR5KG5hbWUsIG9wdGlvbnMpO1xuICAgICAgICBpZiAoYXR0ciAhPT0gdW5kZWZpbmVkKSB7XG4gICAgICAgICAgICBjb25zdCBhdHRyVmFsdWUgPSBjdG9yLl9wcm9wZXJ0eVZhbHVlVG9BdHRyaWJ1dGUodmFsdWUsIG9wdGlvbnMpO1xuICAgICAgICAgICAgLy8gYW4gdW5kZWZpbmVkIHZhbHVlIGRvZXMgbm90IGNoYW5nZSB0aGUgYXR0cmlidXRlLlxuICAgICAgICAgICAgaWYgKGF0dHJWYWx1ZSA9PT0gdW5kZWZpbmVkKSB7XG4gICAgICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgLy8gVHJhY2sgaWYgdGhlIHByb3BlcnR5IGlzIGJlaW5nIHJlZmxlY3RlZCB0byBhdm9pZFxuICAgICAgICAgICAgLy8gc2V0dGluZyB0aGUgcHJvcGVydHkgYWdhaW4gdmlhIGBhdHRyaWJ1dGVDaGFuZ2VkQ2FsbGJhY2tgLiBOb3RlOlxuICAgICAgICAgICAgLy8gMS4gdGhpcyB0YWtlcyBhZHZhbnRhZ2Ugb2YgdGhlIGZhY3QgdGhhdCB0aGUgY2FsbGJhY2sgaXMgc3luY2hyb25vdXMuXG4gICAgICAgICAgICAvLyAyLiB3aWxsIGJlaGF2ZSBpbmNvcnJlY3RseSBpZiBtdWx0aXBsZSBhdHRyaWJ1dGVzIGFyZSBpbiB0aGUgcmVhY3Rpb25cbiAgICAgICAgICAgIC8vIHN0YWNrIGF0IHRpbWUgb2YgY2FsbGluZy4gSG93ZXZlciwgc2luY2Ugd2UgcHJvY2VzcyBhdHRyaWJ1dGVzXG4gICAgICAgICAgICAvLyBpbiBgdXBkYXRlYCB0aGlzIHNob3VsZCBub3QgYmUgcG9zc2libGUgKG9yIGFuIGV4dHJlbWUgY29ybmVyIGNhc2VcbiAgICAgICAgICAgIC8vIHRoYXQgd2UnZCBsaWtlIHRvIGRpc2NvdmVyKS5cbiAgICAgICAgICAgIC8vIG1hcmsgc3RhdGUgcmVmbGVjdGluZ1xuICAgICAgICAgICAgdGhpcy5fdXBkYXRlU3RhdGUgPSB0aGlzLl91cGRhdGVTdGF0ZSB8IFNUQVRFX0lTX1JFRkxFQ1RJTkdfVE9fQVRUUklCVVRFO1xuICAgICAgICAgICAgaWYgKGF0dHJWYWx1ZSA9PSBudWxsKSB7XG4gICAgICAgICAgICAgICAgdGhpcy5yZW1vdmVBdHRyaWJ1dGUoYXR0cik7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgICAgICB0aGlzLnNldEF0dHJpYnV0ZShhdHRyLCBhdHRyVmFsdWUpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgLy8gbWFyayBzdGF0ZSBub3QgcmVmbGVjdGluZ1xuICAgICAgICAgICAgdGhpcy5fdXBkYXRlU3RhdGUgPSB0aGlzLl91cGRhdGVTdGF0ZSAmIH5TVEFURV9JU19SRUZMRUNUSU5HX1RPX0FUVFJJQlVURTtcbiAgICAgICAgfVxuICAgIH1cbiAgICBfYXR0cmlidXRlVG9Qcm9wZXJ0eShuYW1lLCB2YWx1ZSkge1xuICAgICAgICAvLyBVc2UgdHJhY2tpbmcgaW5mbyB0byBhdm9pZCBkZXNlcmlhbGl6aW5nIGF0dHJpYnV0ZSB2YWx1ZSBpZiBpdCB3YXNcbiAgICAgICAgLy8ganVzdCBzZXQgZnJvbSBhIHByb3BlcnR5IHNldHRlci5cbiAgICAgICAgaWYgKHRoaXMuX3VwZGF0ZVN0YXRlICYgU1RBVEVfSVNfUkVGTEVDVElOR19UT19BVFRSSUJVVEUpIHtcbiAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgfVxuICAgICAgICBjb25zdCBjdG9yID0gdGhpcy5jb25zdHJ1Y3RvcjtcbiAgICAgICAgY29uc3QgcHJvcE5hbWUgPSBjdG9yLl9hdHRyaWJ1dGVUb1Byb3BlcnR5TWFwLmdldChuYW1lKTtcbiAgICAgICAgaWYgKHByb3BOYW1lICE9PSB1bmRlZmluZWQpIHtcbiAgICAgICAgICAgIGNvbnN0IG9wdGlvbnMgPSBjdG9yLl9jbGFzc1Byb3BlcnRpZXMuZ2V0KHByb3BOYW1lKSB8fCBkZWZhdWx0UHJvcGVydHlEZWNsYXJhdGlvbjtcbiAgICAgICAgICAgIC8vIG1hcmsgc3RhdGUgcmVmbGVjdGluZ1xuICAgICAgICAgICAgdGhpcy5fdXBkYXRlU3RhdGUgPSB0aGlzLl91cGRhdGVTdGF0ZSB8IFNUQVRFX0lTX1JFRkxFQ1RJTkdfVE9fUFJPUEVSVFk7XG4gICAgICAgICAgICB0aGlzW3Byb3BOYW1lXSA9XG4gICAgICAgICAgICAgICAgLy8gdHNsaW50OmRpc2FibGUtbmV4dC1saW5lOm5vLWFueVxuICAgICAgICAgICAgICAgIGN0b3IuX3Byb3BlcnR5VmFsdWVGcm9tQXR0cmlidXRlKHZhbHVlLCBvcHRpb25zKTtcbiAgICAgICAgICAgIC8vIG1hcmsgc3RhdGUgbm90IHJlZmxlY3RpbmdcbiAgICAgICAgICAgIHRoaXMuX3VwZGF0ZVN0YXRlID0gdGhpcy5fdXBkYXRlU3RhdGUgJiB+U1RBVEVfSVNfUkVGTEVDVElOR19UT19QUk9QRVJUWTtcbiAgICAgICAgfVxuICAgIH1cbiAgICAvKipcbiAgICAgKiBUaGlzIHByaXZhdGUgdmVyc2lvbiBvZiBgcmVxdWVzdFVwZGF0ZWAgZG9lcyBub3QgYWNjZXNzIG9yIHJldHVybiB0aGVcbiAgICAgKiBgdXBkYXRlQ29tcGxldGVgIHByb21pc2UuIFRoaXMgcHJvbWlzZSBjYW4gYmUgb3ZlcnJpZGRlbiBhbmQgaXMgdGhlcmVmb3JlXG4gICAgICogbm90IGZyZWUgdG8gYWNjZXNzLlxuICAgICAqL1xuICAgIF9yZXF1ZXN0VXBkYXRlKG5hbWUsIG9sZFZhbHVlKSB7XG4gICAgICAgIGxldCBzaG91bGRSZXF1ZXN0VXBkYXRlID0gdHJ1ZTtcbiAgICAgICAgLy8gSWYgd2UgaGF2ZSBhIHByb3BlcnR5IGtleSwgcGVyZm9ybSBwcm9wZXJ0eSB1cGRhdGUgc3RlcHMuXG4gICAgICAgIGlmIChuYW1lICE9PSB1bmRlZmluZWQpIHtcbiAgICAgICAgICAgIGNvbnN0IGN0b3IgPSB0aGlzLmNvbnN0cnVjdG9yO1xuICAgICAgICAgICAgY29uc3Qgb3B0aW9ucyA9IGN0b3IuX2NsYXNzUHJvcGVydGllcy5nZXQobmFtZSkgfHwgZGVmYXVsdFByb3BlcnR5RGVjbGFyYXRpb247XG4gICAgICAgICAgICBpZiAoY3Rvci5fdmFsdWVIYXNDaGFuZ2VkKHRoaXNbbmFtZV0sIG9sZFZhbHVlLCBvcHRpb25zLmhhc0NoYW5nZWQpKSB7XG4gICAgICAgICAgICAgICAgaWYgKCF0aGlzLl9jaGFuZ2VkUHJvcGVydGllcy5oYXMobmFtZSkpIHtcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5fY2hhbmdlZFByb3BlcnRpZXMuc2V0KG5hbWUsIG9sZFZhbHVlKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgLy8gQWRkIHRvIHJlZmxlY3RpbmcgcHJvcGVydGllcyBzZXQuXG4gICAgICAgICAgICAgICAgLy8gTm90ZSwgaXQncyBpbXBvcnRhbnQgdGhhdCBldmVyeSBjaGFuZ2UgaGFzIGEgY2hhbmNlIHRvIGFkZCB0aGVcbiAgICAgICAgICAgICAgICAvLyBwcm9wZXJ0eSB0byBgX3JlZmxlY3RpbmdQcm9wZXJ0aWVzYC4gVGhpcyBlbnN1cmVzIHNldHRpbmdcbiAgICAgICAgICAgICAgICAvLyBhdHRyaWJ1dGUgKyBwcm9wZXJ0eSByZWZsZWN0cyBjb3JyZWN0bHkuXG4gICAgICAgICAgICAgICAgaWYgKG9wdGlvbnMucmVmbGVjdCA9PT0gdHJ1ZSAmJlxuICAgICAgICAgICAgICAgICAgICAhKHRoaXMuX3VwZGF0ZVN0YXRlICYgU1RBVEVfSVNfUkVGTEVDVElOR19UT19QUk9QRVJUWSkpIHtcbiAgICAgICAgICAgICAgICAgICAgaWYgKHRoaXMuX3JlZmxlY3RpbmdQcm9wZXJ0aWVzID09PSB1bmRlZmluZWQpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMuX3JlZmxlY3RpbmdQcm9wZXJ0aWVzID0gbmV3IE1hcCgpO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIHRoaXMuX3JlZmxlY3RpbmdQcm9wZXJ0aWVzLnNldChuYW1lLCBvcHRpb25zKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgICAgICAvLyBBYm9ydCB0aGUgcmVxdWVzdCBpZiB0aGUgcHJvcGVydHkgc2hvdWxkIG5vdCBiZSBjb25zaWRlcmVkIGNoYW5nZWQuXG4gICAgICAgICAgICAgICAgc2hvdWxkUmVxdWVzdFVwZGF0ZSA9IGZhbHNlO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIGlmICghdGhpcy5faGFzUmVxdWVzdGVkVXBkYXRlICYmIHNob3VsZFJlcXVlc3RVcGRhdGUpIHtcbiAgICAgICAgICAgIHRoaXMuX2VucXVldWVVcGRhdGUoKTtcbiAgICAgICAgfVxuICAgIH1cbiAgICAvKipcbiAgICAgKiBSZXF1ZXN0cyBhbiB1cGRhdGUgd2hpY2ggaXMgcHJvY2Vzc2VkIGFzeW5jaHJvbm91c2x5LiBUaGlzIHNob3VsZFxuICAgICAqIGJlIGNhbGxlZCB3aGVuIGFuIGVsZW1lbnQgc2hvdWxkIHVwZGF0ZSBiYXNlZCBvbiBzb21lIHN0YXRlIG5vdCB0cmlnZ2VyZWRcbiAgICAgKiBieSBzZXR0aW5nIGEgcHJvcGVydHkuIEluIHRoaXMgY2FzZSwgcGFzcyBubyBhcmd1bWVudHMuIEl0IHNob3VsZCBhbHNvIGJlXG4gICAgICogY2FsbGVkIHdoZW4gbWFudWFsbHkgaW1wbGVtZW50aW5nIGEgcHJvcGVydHkgc2V0dGVyLiBJbiB0aGlzIGNhc2UsIHBhc3MgdGhlXG4gICAgICogcHJvcGVydHkgYG5hbWVgIGFuZCBgb2xkVmFsdWVgIHRvIGVuc3VyZSB0aGF0IGFueSBjb25maWd1cmVkIHByb3BlcnR5XG4gICAgICogb3B0aW9ucyBhcmUgaG9ub3JlZC4gUmV0dXJucyB0aGUgYHVwZGF0ZUNvbXBsZXRlYCBQcm9taXNlIHdoaWNoIGlzIHJlc29sdmVkXG4gICAgICogd2hlbiB0aGUgdXBkYXRlIGNvbXBsZXRlcy5cbiAgICAgKlxuICAgICAqIEBwYXJhbSBuYW1lIHtQcm9wZXJ0eUtleX0gKG9wdGlvbmFsKSBuYW1lIG9mIHJlcXVlc3RpbmcgcHJvcGVydHlcbiAgICAgKiBAcGFyYW0gb2xkVmFsdWUge2FueX0gKG9wdGlvbmFsKSBvbGQgdmFsdWUgb2YgcmVxdWVzdGluZyBwcm9wZXJ0eVxuICAgICAqIEByZXR1cm5zIHtQcm9taXNlfSBBIFByb21pc2UgdGhhdCBpcyByZXNvbHZlZCB3aGVuIHRoZSB1cGRhdGUgY29tcGxldGVzLlxuICAgICAqL1xuICAgIHJlcXVlc3RVcGRhdGUobmFtZSwgb2xkVmFsdWUpIHtcbiAgICAgICAgdGhpcy5fcmVxdWVzdFVwZGF0ZShuYW1lLCBvbGRWYWx1ZSk7XG4gICAgICAgIHJldHVybiB0aGlzLnVwZGF0ZUNvbXBsZXRlO1xuICAgIH1cbiAgICAvKipcbiAgICAgKiBTZXRzIHVwIHRoZSBlbGVtZW50IHRvIGFzeW5jaHJvbm91c2x5IHVwZGF0ZS5cbiAgICAgKi9cbiAgICBhc3luYyBfZW5xdWV1ZVVwZGF0ZSgpIHtcbiAgICAgICAgLy8gTWFyayBzdGF0ZSB1cGRhdGluZy4uLlxuICAgICAgICB0aGlzLl91cGRhdGVTdGF0ZSA9IHRoaXMuX3VwZGF0ZVN0YXRlIHwgU1RBVEVfVVBEQVRFX1JFUVVFU1RFRDtcbiAgICAgICAgbGV0IHJlc29sdmU7XG4gICAgICAgIGxldCByZWplY3Q7XG4gICAgICAgIGNvbnN0IHByZXZpb3VzVXBkYXRlUHJvbWlzZSA9IHRoaXMuX3VwZGF0ZVByb21pc2U7XG4gICAgICAgIHRoaXMuX3VwZGF0ZVByb21pc2UgPSBuZXcgUHJvbWlzZSgocmVzLCByZWopID0+IHtcbiAgICAgICAgICAgIHJlc29sdmUgPSByZXM7XG4gICAgICAgICAgICByZWplY3QgPSByZWo7XG4gICAgICAgIH0pO1xuICAgICAgICB0cnkge1xuICAgICAgICAgICAgLy8gRW5zdXJlIGFueSBwcmV2aW91cyB1cGRhdGUgaGFzIHJlc29sdmVkIGJlZm9yZSB1cGRhdGluZy5cbiAgICAgICAgICAgIC8vIFRoaXMgYGF3YWl0YCBhbHNvIGVuc3VyZXMgdGhhdCBwcm9wZXJ0eSBjaGFuZ2VzIGFyZSBiYXRjaGVkLlxuICAgICAgICAgICAgYXdhaXQgcHJldmlvdXNVcGRhdGVQcm9taXNlO1xuICAgICAgICB9XG4gICAgICAgIGNhdGNoIChlKSB7XG4gICAgICAgICAgICAvLyBJZ25vcmUgYW55IHByZXZpb3VzIGVycm9ycy4gV2Ugb25seSBjYXJlIHRoYXQgdGhlIHByZXZpb3VzIGN5Y2xlIGlzXG4gICAgICAgICAgICAvLyBkb25lLiBBbnkgZXJyb3Igc2hvdWxkIGhhdmUgYmVlbiBoYW5kbGVkIGluIHRoZSBwcmV2aW91cyB1cGRhdGUuXG4gICAgICAgIH1cbiAgICAgICAgLy8gTWFrZSBzdXJlIHRoZSBlbGVtZW50IGhhcyBjb25uZWN0ZWQgYmVmb3JlIHVwZGF0aW5nLlxuICAgICAgICBpZiAoIXRoaXMuX2hhc0Nvbm5lY3RlZCkge1xuICAgICAgICAgICAgYXdhaXQgbmV3IFByb21pc2UoKHJlcykgPT4gdGhpcy5faGFzQ29ubmVjdGVkUmVzb2x2ZXIgPSByZXMpO1xuICAgICAgICB9XG4gICAgICAgIHRyeSB7XG4gICAgICAgICAgICBjb25zdCByZXN1bHQgPSB0aGlzLnBlcmZvcm1VcGRhdGUoKTtcbiAgICAgICAgICAgIC8vIElmIGBwZXJmb3JtVXBkYXRlYCByZXR1cm5zIGEgUHJvbWlzZSwgd2UgYXdhaXQgaXQuIFRoaXMgaXMgZG9uZSB0b1xuICAgICAgICAgICAgLy8gZW5hYmxlIGNvb3JkaW5hdGluZyB1cGRhdGVzIHdpdGggYSBzY2hlZHVsZXIuIE5vdGUsIHRoZSByZXN1bHQgaXNcbiAgICAgICAgICAgIC8vIGNoZWNrZWQgdG8gYXZvaWQgZGVsYXlpbmcgYW4gYWRkaXRpb25hbCBtaWNyb3Rhc2sgdW5sZXNzIHdlIG5lZWQgdG8uXG4gICAgICAgICAgICBpZiAocmVzdWx0ICE9IG51bGwpIHtcbiAgICAgICAgICAgICAgICBhd2FpdCByZXN1bHQ7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgY2F0Y2ggKGUpIHtcbiAgICAgICAgICAgIHJlamVjdChlKTtcbiAgICAgICAgfVxuICAgICAgICByZXNvbHZlKCF0aGlzLl9oYXNSZXF1ZXN0ZWRVcGRhdGUpO1xuICAgIH1cbiAgICBnZXQgX2hhc0Nvbm5lY3RlZCgpIHtcbiAgICAgICAgcmV0dXJuICh0aGlzLl91cGRhdGVTdGF0ZSAmIFNUQVRFX0hBU19DT05ORUNURUQpO1xuICAgIH1cbiAgICBnZXQgX2hhc1JlcXVlc3RlZFVwZGF0ZSgpIHtcbiAgICAgICAgcmV0dXJuICh0aGlzLl91cGRhdGVTdGF0ZSAmIFNUQVRFX1VQREFURV9SRVFVRVNURUQpO1xuICAgIH1cbiAgICBnZXQgaGFzVXBkYXRlZCgpIHtcbiAgICAgICAgcmV0dXJuICh0aGlzLl91cGRhdGVTdGF0ZSAmIFNUQVRFX0hBU19VUERBVEVEKTtcbiAgICB9XG4gICAgLyoqXG4gICAgICogUGVyZm9ybXMgYW4gZWxlbWVudCB1cGRhdGUuIE5vdGUsIGlmIGFuIGV4Y2VwdGlvbiBpcyB0aHJvd24gZHVyaW5nIHRoZVxuICAgICAqIHVwZGF0ZSwgYGZpcnN0VXBkYXRlZGAgYW5kIGB1cGRhdGVkYCB3aWxsIG5vdCBiZSBjYWxsZWQuXG4gICAgICpcbiAgICAgKiBZb3UgY2FuIG92ZXJyaWRlIHRoaXMgbWV0aG9kIHRvIGNoYW5nZSB0aGUgdGltaW5nIG9mIHVwZGF0ZXMuIElmIHRoaXNcbiAgICAgKiBtZXRob2QgaXMgb3ZlcnJpZGRlbiwgYHN1cGVyLnBlcmZvcm1VcGRhdGUoKWAgbXVzdCBiZSBjYWxsZWQuXG4gICAgICpcbiAgICAgKiBGb3IgaW5zdGFuY2UsIHRvIHNjaGVkdWxlIHVwZGF0ZXMgdG8gb2NjdXIganVzdCBiZWZvcmUgdGhlIG5leHQgZnJhbWU6XG4gICAgICpcbiAgICAgKiBgYGBcbiAgICAgKiBwcm90ZWN0ZWQgYXN5bmMgcGVyZm9ybVVwZGF0ZSgpOiBQcm9taXNlPHVua25vd24+IHtcbiAgICAgKiAgIGF3YWl0IG5ldyBQcm9taXNlKChyZXNvbHZlKSA9PiByZXF1ZXN0QW5pbWF0aW9uRnJhbWUoKCkgPT4gcmVzb2x2ZSgpKSk7XG4gICAgICogICBzdXBlci5wZXJmb3JtVXBkYXRlKCk7XG4gICAgICogfVxuICAgICAqIGBgYFxuICAgICAqL1xuICAgIHBlcmZvcm1VcGRhdGUoKSB7XG4gICAgICAgIC8vIE1peGluIGluc3RhbmNlIHByb3BlcnRpZXMgb25jZSwgaWYgdGhleSBleGlzdC5cbiAgICAgICAgaWYgKHRoaXMuX2luc3RhbmNlUHJvcGVydGllcykge1xuICAgICAgICAgICAgdGhpcy5fYXBwbHlJbnN0YW5jZVByb3BlcnRpZXMoKTtcbiAgICAgICAgfVxuICAgICAgICBsZXQgc2hvdWxkVXBkYXRlID0gZmFsc2U7XG4gICAgICAgIGNvbnN0IGNoYW5nZWRQcm9wZXJ0aWVzID0gdGhpcy5fY2hhbmdlZFByb3BlcnRpZXM7XG4gICAgICAgIHRyeSB7XG4gICAgICAgICAgICBzaG91bGRVcGRhdGUgPSB0aGlzLnNob3VsZFVwZGF0ZShjaGFuZ2VkUHJvcGVydGllcyk7XG4gICAgICAgICAgICBpZiAoc2hvdWxkVXBkYXRlKSB7XG4gICAgICAgICAgICAgICAgdGhpcy51cGRhdGUoY2hhbmdlZFByb3BlcnRpZXMpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIGNhdGNoIChlKSB7XG4gICAgICAgICAgICAvLyBQcmV2ZW50IGBmaXJzdFVwZGF0ZWRgIGFuZCBgdXBkYXRlZGAgZnJvbSBydW5uaW5nIHdoZW4gdGhlcmUncyBhblxuICAgICAgICAgICAgLy8gdXBkYXRlIGV4Y2VwdGlvbi5cbiAgICAgICAgICAgIHNob3VsZFVwZGF0ZSA9IGZhbHNlO1xuICAgICAgICAgICAgdGhyb3cgZTtcbiAgICAgICAgfVxuICAgICAgICBmaW5hbGx5IHtcbiAgICAgICAgICAgIC8vIEVuc3VyZSBlbGVtZW50IGNhbiBhY2NlcHQgYWRkaXRpb25hbCB1cGRhdGVzIGFmdGVyIGFuIGV4Y2VwdGlvbi5cbiAgICAgICAgICAgIHRoaXMuX21hcmtVcGRhdGVkKCk7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKHNob3VsZFVwZGF0ZSkge1xuICAgICAgICAgICAgaWYgKCEodGhpcy5fdXBkYXRlU3RhdGUgJiBTVEFURV9IQVNfVVBEQVRFRCkpIHtcbiAgICAgICAgICAgICAgICB0aGlzLl91cGRhdGVTdGF0ZSA9IHRoaXMuX3VwZGF0ZVN0YXRlIHwgU1RBVEVfSEFTX1VQREFURUQ7XG4gICAgICAgICAgICAgICAgdGhpcy5maXJzdFVwZGF0ZWQoY2hhbmdlZFByb3BlcnRpZXMpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgdGhpcy51cGRhdGVkKGNoYW5nZWRQcm9wZXJ0aWVzKTtcbiAgICAgICAgfVxuICAgIH1cbiAgICBfbWFya1VwZGF0ZWQoKSB7XG4gICAgICAgIHRoaXMuX2NoYW5nZWRQcm9wZXJ0aWVzID0gbmV3IE1hcCgpO1xuICAgICAgICB0aGlzLl91cGRhdGVTdGF0ZSA9IHRoaXMuX3VwZGF0ZVN0YXRlICYgflNUQVRFX1VQREFURV9SRVFVRVNURUQ7XG4gICAgfVxuICAgIC8qKlxuICAgICAqIFJldHVybnMgYSBQcm9taXNlIHRoYXQgcmVzb2x2ZXMgd2hlbiB0aGUgZWxlbWVudCBoYXMgY29tcGxldGVkIHVwZGF0aW5nLlxuICAgICAqIFRoZSBQcm9taXNlIHZhbHVlIGlzIGEgYm9vbGVhbiB0aGF0IGlzIGB0cnVlYCBpZiB0aGUgZWxlbWVudCBjb21wbGV0ZWQgdGhlXG4gICAgICogdXBkYXRlIHdpdGhvdXQgdHJpZ2dlcmluZyBhbm90aGVyIHVwZGF0ZS4gVGhlIFByb21pc2UgcmVzdWx0IGlzIGBmYWxzZWAgaWZcbiAgICAgKiBhIHByb3BlcnR5IHdhcyBzZXQgaW5zaWRlIGB1cGRhdGVkKClgLiBJZiB0aGUgUHJvbWlzZSBpcyByZWplY3RlZCwgYW5cbiAgICAgKiBleGNlcHRpb24gd2FzIHRocm93biBkdXJpbmcgdGhlIHVwZGF0ZS4gVGhpcyBnZXR0ZXIgY2FuIGJlIGltcGxlbWVudGVkIHRvXG4gICAgICogYXdhaXQgYWRkaXRpb25hbCBzdGF0ZS4gRm9yIGV4YW1wbGUsIGl0IGlzIHNvbWV0aW1lcyB1c2VmdWwgdG8gYXdhaXQgYVxuICAgICAqIHJlbmRlcmVkIGVsZW1lbnQgYmVmb3JlIGZ1bGZpbGxpbmcgdGhpcyBQcm9taXNlLiBUbyBkbyB0aGlzLCBmaXJzdCBhd2FpdFxuICAgICAqIGBzdXBlci51cGRhdGVDb21wbGV0ZWAgdGhlbiBhbnkgc3Vic2VxdWVudCBzdGF0ZS5cbiAgICAgKlxuICAgICAqIEByZXR1cm5zIHtQcm9taXNlfSBUaGUgUHJvbWlzZSByZXR1cm5zIGEgYm9vbGVhbiB0aGF0IGluZGljYXRlcyBpZiB0aGVcbiAgICAgKiB1cGRhdGUgcmVzb2x2ZWQgd2l0aG91dCB0cmlnZ2VyaW5nIGFub3RoZXIgdXBkYXRlLlxuICAgICAqL1xuICAgIGdldCB1cGRhdGVDb21wbGV0ZSgpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuX3VwZGF0ZVByb21pc2U7XG4gICAgfVxuICAgIC8qKlxuICAgICAqIENvbnRyb2xzIHdoZXRoZXIgb3Igbm90IGB1cGRhdGVgIHNob3VsZCBiZSBjYWxsZWQgd2hlbiB0aGUgZWxlbWVudCByZXF1ZXN0c1xuICAgICAqIGFuIHVwZGF0ZS4gQnkgZGVmYXVsdCwgdGhpcyBtZXRob2QgYWx3YXlzIHJldHVybnMgYHRydWVgLCBidXQgdGhpcyBjYW4gYmVcbiAgICAgKiBjdXN0b21pemVkIHRvIGNvbnRyb2wgd2hlbiB0byB1cGRhdGUuXG4gICAgICpcbiAgICAgKiAqIEBwYXJhbSBfY2hhbmdlZFByb3BlcnRpZXMgTWFwIG9mIGNoYW5nZWQgcHJvcGVydGllcyB3aXRoIG9sZCB2YWx1ZXNcbiAgICAgKi9cbiAgICBzaG91bGRVcGRhdGUoX2NoYW5nZWRQcm9wZXJ0aWVzKSB7XG4gICAgICAgIHJldHVybiB0cnVlO1xuICAgIH1cbiAgICAvKipcbiAgICAgKiBVcGRhdGVzIHRoZSBlbGVtZW50LiBUaGlzIG1ldGhvZCByZWZsZWN0cyBwcm9wZXJ0eSB2YWx1ZXMgdG8gYXR0cmlidXRlcy5cbiAgICAgKiBJdCBjYW4gYmUgb3ZlcnJpZGRlbiB0byByZW5kZXIgYW5kIGtlZXAgdXBkYXRlZCBlbGVtZW50IERPTS5cbiAgICAgKiBTZXR0aW5nIHByb3BlcnRpZXMgaW5zaWRlIHRoaXMgbWV0aG9kIHdpbGwgKm5vdCogdHJpZ2dlclxuICAgICAqIGFub3RoZXIgdXBkYXRlLlxuICAgICAqXG4gICAgICogKiBAcGFyYW0gX2NoYW5nZWRQcm9wZXJ0aWVzIE1hcCBvZiBjaGFuZ2VkIHByb3BlcnRpZXMgd2l0aCBvbGQgdmFsdWVzXG4gICAgICovXG4gICAgdXBkYXRlKF9jaGFuZ2VkUHJvcGVydGllcykge1xuICAgICAgICBpZiAodGhpcy5fcmVmbGVjdGluZ1Byb3BlcnRpZXMgIT09IHVuZGVmaW5lZCAmJlxuICAgICAgICAgICAgdGhpcy5fcmVmbGVjdGluZ1Byb3BlcnRpZXMuc2l6ZSA+IDApIHtcbiAgICAgICAgICAgIC8vIFVzZSBmb3JFYWNoIHNvIHRoaXMgd29ya3MgZXZlbiBpZiBmb3Ivb2YgbG9vcHMgYXJlIGNvbXBpbGVkIHRvIGZvclxuICAgICAgICAgICAgLy8gbG9vcHMgZXhwZWN0aW5nIGFycmF5c1xuICAgICAgICAgICAgdGhpcy5fcmVmbGVjdGluZ1Byb3BlcnRpZXMuZm9yRWFjaCgodiwgaykgPT4gdGhpcy5fcHJvcGVydHlUb0F0dHJpYnV0ZShrLCB0aGlzW2tdLCB2KSk7XG4gICAgICAgICAgICB0aGlzLl9yZWZsZWN0aW5nUHJvcGVydGllcyA9IHVuZGVmaW5lZDtcbiAgICAgICAgfVxuICAgIH1cbiAgICAvKipcbiAgICAgKiBJbnZva2VkIHdoZW5ldmVyIHRoZSBlbGVtZW50IGlzIHVwZGF0ZWQuIEltcGxlbWVudCB0byBwZXJmb3JtXG4gICAgICogcG9zdC11cGRhdGluZyB0YXNrcyB2aWEgRE9NIEFQSXMsIGZvciBleGFtcGxlLCBmb2N1c2luZyBhbiBlbGVtZW50LlxuICAgICAqXG4gICAgICogU2V0dGluZyBwcm9wZXJ0aWVzIGluc2lkZSB0aGlzIG1ldGhvZCB3aWxsIHRyaWdnZXIgdGhlIGVsZW1lbnQgdG8gdXBkYXRlXG4gICAgICogYWdhaW4gYWZ0ZXIgdGhpcyB1cGRhdGUgY3ljbGUgY29tcGxldGVzLlxuICAgICAqXG4gICAgICogKiBAcGFyYW0gX2NoYW5nZWRQcm9wZXJ0aWVzIE1hcCBvZiBjaGFuZ2VkIHByb3BlcnRpZXMgd2l0aCBvbGQgdmFsdWVzXG4gICAgICovXG4gICAgdXBkYXRlZChfY2hhbmdlZFByb3BlcnRpZXMpIHtcbiAgICB9XG4gICAgLyoqXG4gICAgICogSW52b2tlZCB3aGVuIHRoZSBlbGVtZW50IGlzIGZpcnN0IHVwZGF0ZWQuIEltcGxlbWVudCB0byBwZXJmb3JtIG9uZSB0aW1lXG4gICAgICogd29yayBvbiB0aGUgZWxlbWVudCBhZnRlciB1cGRhdGUuXG4gICAgICpcbiAgICAgKiBTZXR0aW5nIHByb3BlcnRpZXMgaW5zaWRlIHRoaXMgbWV0aG9kIHdpbGwgdHJpZ2dlciB0aGUgZWxlbWVudCB0byB1cGRhdGVcbiAgICAgKiBhZ2FpbiBhZnRlciB0aGlzIHVwZGF0ZSBjeWNsZSBjb21wbGV0ZXMuXG4gICAgICpcbiAgICAgKiAqIEBwYXJhbSBfY2hhbmdlZFByb3BlcnRpZXMgTWFwIG9mIGNoYW5nZWQgcHJvcGVydGllcyB3aXRoIG9sZCB2YWx1ZXNcbiAgICAgKi9cbiAgICBmaXJzdFVwZGF0ZWQoX2NoYW5nZWRQcm9wZXJ0aWVzKSB7XG4gICAgfVxufVxuLyoqXG4gKiBNYXJrcyBjbGFzcyBhcyBoYXZpbmcgZmluaXNoZWQgY3JlYXRpbmcgcHJvcGVydGllcy5cbiAqL1xuVXBkYXRpbmdFbGVtZW50LmZpbmFsaXplZCA9IHRydWU7XG4vLyMgc291cmNlTWFwcGluZ1VSTD11cGRhdGluZy1lbGVtZW50LmpzLm1hcCIsIi8qKlxuICogQGxpY2Vuc2VcbiAqIENvcHlyaWdodCAoYykgMjAxNyBUaGUgUG9seW1lciBQcm9qZWN0IEF1dGhvcnMuIEFsbCByaWdodHMgcmVzZXJ2ZWQuXG4gKiBUaGlzIGNvZGUgbWF5IG9ubHkgYmUgdXNlZCB1bmRlciB0aGUgQlNEIHN0eWxlIGxpY2Vuc2UgZm91bmQgYXRcbiAqIGh0dHA6Ly9wb2x5bWVyLmdpdGh1Yi5pby9MSUNFTlNFLnR4dFxuICogVGhlIGNvbXBsZXRlIHNldCBvZiBhdXRob3JzIG1heSBiZSBmb3VuZCBhdFxuICogaHR0cDovL3BvbHltZXIuZ2l0aHViLmlvL0FVVEhPUlMudHh0XG4gKiBUaGUgY29tcGxldGUgc2V0IG9mIGNvbnRyaWJ1dG9ycyBtYXkgYmUgZm91bmQgYXRcbiAqIGh0dHA6Ly9wb2x5bWVyLmdpdGh1Yi5pby9DT05UUklCVVRPUlMudHh0XG4gKiBDb2RlIGRpc3RyaWJ1dGVkIGJ5IEdvb2dsZSBhcyBwYXJ0IG9mIHRoZSBwb2x5bWVyIHByb2plY3QgaXMgYWxzb1xuICogc3ViamVjdCB0byBhbiBhZGRpdGlvbmFsIElQIHJpZ2h0cyBncmFudCBmb3VuZCBhdFxuICogaHR0cDovL3BvbHltZXIuZ2l0aHViLmlvL1BBVEVOVFMudHh0XG4gKi9cbmNvbnN0IGxlZ2FjeUN1c3RvbUVsZW1lbnQgPSAodGFnTmFtZSwgY2xhenopID0+IHtcbiAgICB3aW5kb3cuY3VzdG9tRWxlbWVudHMuZGVmaW5lKHRhZ05hbWUsIGNsYXp6KTtcbiAgICAvLyBDYXN0IGFzIGFueSBiZWNhdXNlIFRTIGRvZXNuJ3QgcmVjb2duaXplIHRoZSByZXR1cm4gdHlwZSBhcyBiZWluZyBhXG4gICAgLy8gc3VidHlwZSBvZiB0aGUgZGVjb3JhdGVkIGNsYXNzIHdoZW4gY2xhenogaXMgdHlwZWQgYXNcbiAgICAvLyBgQ29uc3RydWN0b3I8SFRNTEVsZW1lbnQ+YCBmb3Igc29tZSByZWFzb24uXG4gICAgLy8gYENvbnN0cnVjdG9yPEhUTUxFbGVtZW50PmAgaXMgaGVscGZ1bCB0byBtYWtlIHN1cmUgdGhlIGRlY29yYXRvciBpc1xuICAgIC8vIGFwcGxpZWQgdG8gZWxlbWVudHMgaG93ZXZlci5cbiAgICAvLyB0c2xpbnQ6ZGlzYWJsZS1uZXh0LWxpbmU6bm8tYW55XG4gICAgcmV0dXJuIGNsYXp6O1xufTtcbmNvbnN0IHN0YW5kYXJkQ3VzdG9tRWxlbWVudCA9ICh0YWdOYW1lLCBkZXNjcmlwdG9yKSA9PiB7XG4gICAgY29uc3QgeyBraW5kLCBlbGVtZW50cyB9ID0gZGVzY3JpcHRvcjtcbiAgICByZXR1cm4ge1xuICAgICAgICBraW5kLFxuICAgICAgICBlbGVtZW50cyxcbiAgICAgICAgLy8gVGhpcyBjYWxsYmFjayBpcyBjYWxsZWQgb25jZSB0aGUgY2xhc3MgaXMgb3RoZXJ3aXNlIGZ1bGx5IGRlZmluZWRcbiAgICAgICAgZmluaXNoZXIoY2xhenopIHtcbiAgICAgICAgICAgIHdpbmRvdy5jdXN0b21FbGVtZW50cy5kZWZpbmUodGFnTmFtZSwgY2xhenopO1xuICAgICAgICB9XG4gICAgfTtcbn07XG4vKipcbiAqIENsYXNzIGRlY29yYXRvciBmYWN0b3J5IHRoYXQgZGVmaW5lcyB0aGUgZGVjb3JhdGVkIGNsYXNzIGFzIGEgY3VzdG9tIGVsZW1lbnQuXG4gKlxuICogQHBhcmFtIHRhZ05hbWUgdGhlIG5hbWUgb2YgdGhlIGN1c3RvbSBlbGVtZW50IHRvIGRlZmluZVxuICovXG5leHBvcnQgY29uc3QgY3VzdG9tRWxlbWVudCA9ICh0YWdOYW1lKSA9PiAoY2xhc3NPckRlc2NyaXB0b3IpID0+ICh0eXBlb2YgY2xhc3NPckRlc2NyaXB0b3IgPT09ICdmdW5jdGlvbicpID9cbiAgICBsZWdhY3lDdXN0b21FbGVtZW50KHRhZ05hbWUsIGNsYXNzT3JEZXNjcmlwdG9yKSA6XG4gICAgc3RhbmRhcmRDdXN0b21FbGVtZW50KHRhZ05hbWUsIGNsYXNzT3JEZXNjcmlwdG9yKTtcbmNvbnN0IHN0YW5kYXJkUHJvcGVydHkgPSAob3B0aW9ucywgZWxlbWVudCkgPT4ge1xuICAgIC8vIFdoZW4gZGVjb3JhdGluZyBhbiBhY2Nlc3NvciwgcGFzcyBpdCB0aHJvdWdoIGFuZCBhZGQgcHJvcGVydHkgbWV0YWRhdGEuXG4gICAgLy8gTm90ZSwgdGhlIGBoYXNPd25Qcm9wZXJ0eWAgY2hlY2sgaW4gYGNyZWF0ZVByb3BlcnR5YCBlbnN1cmVzIHdlIGRvbid0XG4gICAgLy8gc3RvbXAgb3ZlciB0aGUgdXNlcidzIGFjY2Vzc29yLlxuICAgIGlmIChlbGVtZW50LmtpbmQgPT09ICdtZXRob2QnICYmIGVsZW1lbnQuZGVzY3JpcHRvciAmJlxuICAgICAgICAhKCd2YWx1ZScgaW4gZWxlbWVudC5kZXNjcmlwdG9yKSkge1xuICAgICAgICByZXR1cm4gT2JqZWN0LmFzc2lnbih7fSwgZWxlbWVudCwgeyBmaW5pc2hlcihjbGF6eikge1xuICAgICAgICAgICAgICAgIGNsYXp6LmNyZWF0ZVByb3BlcnR5KGVsZW1lbnQua2V5LCBvcHRpb25zKTtcbiAgICAgICAgICAgIH0gfSk7XG4gICAgfVxuICAgIGVsc2Uge1xuICAgICAgICAvLyBjcmVhdGVQcm9wZXJ0eSgpIHRha2VzIGNhcmUgb2YgZGVmaW5pbmcgdGhlIHByb3BlcnR5LCBidXQgd2Ugc3RpbGxcbiAgICAgICAgLy8gbXVzdCByZXR1cm4gc29tZSBraW5kIG9mIGRlc2NyaXB0b3IsIHNvIHJldHVybiBhIGRlc2NyaXB0b3IgZm9yIGFuXG4gICAgICAgIC8vIHVudXNlZCBwcm90b3R5cGUgZmllbGQuIFRoZSBmaW5pc2hlciBjYWxscyBjcmVhdGVQcm9wZXJ0eSgpLlxuICAgICAgICByZXR1cm4ge1xuICAgICAgICAgICAga2luZDogJ2ZpZWxkJyxcbiAgICAgICAgICAgIGtleTogU3ltYm9sKCksXG4gICAgICAgICAgICBwbGFjZW1lbnQ6ICdvd24nLFxuICAgICAgICAgICAgZGVzY3JpcHRvcjoge30sXG4gICAgICAgICAgICAvLyBXaGVuIEBiYWJlbC9wbHVnaW4tcHJvcG9zYWwtZGVjb3JhdG9ycyBpbXBsZW1lbnRzIGluaXRpYWxpemVycyxcbiAgICAgICAgICAgIC8vIGRvIHRoaXMgaW5zdGVhZCBvZiB0aGUgaW5pdGlhbGl6ZXIgYmVsb3cuIFNlZTpcbiAgICAgICAgICAgIC8vIGh0dHBzOi8vZ2l0aHViLmNvbS9iYWJlbC9iYWJlbC9pc3N1ZXMvOTI2MCBleHRyYXM6IFtcbiAgICAgICAgICAgIC8vICAge1xuICAgICAgICAgICAgLy8gICAgIGtpbmQ6ICdpbml0aWFsaXplcicsXG4gICAgICAgICAgICAvLyAgICAgcGxhY2VtZW50OiAnb3duJyxcbiAgICAgICAgICAgIC8vICAgICBpbml0aWFsaXplcjogZGVzY3JpcHRvci5pbml0aWFsaXplcixcbiAgICAgICAgICAgIC8vICAgfVxuICAgICAgICAgICAgLy8gXSxcbiAgICAgICAgICAgIC8vIHRzbGludDpkaXNhYmxlLW5leHQtbGluZTpuby1hbnkgZGVjb3JhdG9yXG4gICAgICAgICAgICBpbml0aWFsaXplcigpIHtcbiAgICAgICAgICAgICAgICBpZiAodHlwZW9mIGVsZW1lbnQuaW5pdGlhbGl6ZXIgPT09ICdmdW5jdGlvbicpIHtcbiAgICAgICAgICAgICAgICAgICAgdGhpc1tlbGVtZW50LmtleV0gPSBlbGVtZW50LmluaXRpYWxpemVyLmNhbGwodGhpcyk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfSxcbiAgICAgICAgICAgIGZpbmlzaGVyKGNsYXp6KSB7XG4gICAgICAgICAgICAgICAgY2xhenouY3JlYXRlUHJvcGVydHkoZWxlbWVudC5rZXksIG9wdGlvbnMpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9O1xuICAgIH1cbn07XG5jb25zdCBsZWdhY3lQcm9wZXJ0eSA9IChvcHRpb25zLCBwcm90bywgbmFtZSkgPT4ge1xuICAgIHByb3RvLmNvbnN0cnVjdG9yXG4gICAgICAgIC5jcmVhdGVQcm9wZXJ0eShuYW1lLCBvcHRpb25zKTtcbn07XG4vKipcbiAqIEEgcHJvcGVydHkgZGVjb3JhdG9yIHdoaWNoIGNyZWF0ZXMgYSBMaXRFbGVtZW50IHByb3BlcnR5IHdoaWNoIHJlZmxlY3RzIGFcbiAqIGNvcnJlc3BvbmRpbmcgYXR0cmlidXRlIHZhbHVlLiBBIGBQcm9wZXJ0eURlY2xhcmF0aW9uYCBtYXkgb3B0aW9uYWxseSBiZVxuICogc3VwcGxpZWQgdG8gY29uZmlndXJlIHByb3BlcnR5IGZlYXR1cmVzLlxuICpcbiAqIEBFeHBvcnREZWNvcmF0ZWRJdGVtc1xuICovXG5leHBvcnQgZnVuY3Rpb24gcHJvcGVydHkob3B0aW9ucykge1xuICAgIC8vIHRzbGludDpkaXNhYmxlLW5leHQtbGluZTpuby1hbnkgZGVjb3JhdG9yXG4gICAgcmV0dXJuIChwcm90b09yRGVzY3JpcHRvciwgbmFtZSkgPT4gKG5hbWUgIT09IHVuZGVmaW5lZCkgP1xuICAgICAgICBsZWdhY3lQcm9wZXJ0eShvcHRpb25zLCBwcm90b09yRGVzY3JpcHRvciwgbmFtZSkgOlxuICAgICAgICBzdGFuZGFyZFByb3BlcnR5KG9wdGlvbnMsIHByb3RvT3JEZXNjcmlwdG9yKTtcbn1cbi8qKlxuICogQSBwcm9wZXJ0eSBkZWNvcmF0b3IgdGhhdCBjb252ZXJ0cyBhIGNsYXNzIHByb3BlcnR5IGludG8gYSBnZXR0ZXIgdGhhdFxuICogZXhlY3V0ZXMgYSBxdWVyeVNlbGVjdG9yIG9uIHRoZSBlbGVtZW50J3MgcmVuZGVyUm9vdC5cbiAqXG4gKiBARXhwb3J0RGVjb3JhdGVkSXRlbXNcbiAqL1xuZXhwb3J0IGZ1bmN0aW9uIHF1ZXJ5KHNlbGVjdG9yKSB7XG4gICAgcmV0dXJuIChwcm90b09yRGVzY3JpcHRvciwgXG4gICAgLy8gdHNsaW50OmRpc2FibGUtbmV4dC1saW5lOm5vLWFueSBkZWNvcmF0b3JcbiAgICBuYW1lKSA9PiB7XG4gICAgICAgIGNvbnN0IGRlc2NyaXB0b3IgPSB7XG4gICAgICAgICAgICBnZXQoKSB7XG4gICAgICAgICAgICAgICAgcmV0dXJuIHRoaXMucmVuZGVyUm9vdC5xdWVyeVNlbGVjdG9yKHNlbGVjdG9yKTtcbiAgICAgICAgICAgIH0sXG4gICAgICAgICAgICBlbnVtZXJhYmxlOiB0cnVlLFxuICAgICAgICAgICAgY29uZmlndXJhYmxlOiB0cnVlLFxuICAgICAgICB9O1xuICAgICAgICByZXR1cm4gKG5hbWUgIT09IHVuZGVmaW5lZCkgP1xuICAgICAgICAgICAgbGVnYWN5UXVlcnkoZGVzY3JpcHRvciwgcHJvdG9PckRlc2NyaXB0b3IsIG5hbWUpIDpcbiAgICAgICAgICAgIHN0YW5kYXJkUXVlcnkoZGVzY3JpcHRvciwgcHJvdG9PckRlc2NyaXB0b3IpO1xuICAgIH07XG59XG4vKipcbiAqIEEgcHJvcGVydHkgZGVjb3JhdG9yIHRoYXQgY29udmVydHMgYSBjbGFzcyBwcm9wZXJ0eSBpbnRvIGEgZ2V0dGVyXG4gKiB0aGF0IGV4ZWN1dGVzIGEgcXVlcnlTZWxlY3RvckFsbCBvbiB0aGUgZWxlbWVudCdzIHJlbmRlclJvb3QuXG4gKlxuICogQEV4cG9ydERlY29yYXRlZEl0ZW1zXG4gKi9cbmV4cG9ydCBmdW5jdGlvbiBxdWVyeUFsbChzZWxlY3Rvcikge1xuICAgIHJldHVybiAocHJvdG9PckRlc2NyaXB0b3IsIFxuICAgIC8vIHRzbGludDpkaXNhYmxlLW5leHQtbGluZTpuby1hbnkgZGVjb3JhdG9yXG4gICAgbmFtZSkgPT4ge1xuICAgICAgICBjb25zdCBkZXNjcmlwdG9yID0ge1xuICAgICAgICAgICAgZ2V0KCkge1xuICAgICAgICAgICAgICAgIHJldHVybiB0aGlzLnJlbmRlclJvb3QucXVlcnlTZWxlY3RvckFsbChzZWxlY3Rvcik7XG4gICAgICAgICAgICB9LFxuICAgICAgICAgICAgZW51bWVyYWJsZTogdHJ1ZSxcbiAgICAgICAgICAgIGNvbmZpZ3VyYWJsZTogdHJ1ZSxcbiAgICAgICAgfTtcbiAgICAgICAgcmV0dXJuIChuYW1lICE9PSB1bmRlZmluZWQpID9cbiAgICAgICAgICAgIGxlZ2FjeVF1ZXJ5KGRlc2NyaXB0b3IsIHByb3RvT3JEZXNjcmlwdG9yLCBuYW1lKSA6XG4gICAgICAgICAgICBzdGFuZGFyZFF1ZXJ5KGRlc2NyaXB0b3IsIHByb3RvT3JEZXNjcmlwdG9yKTtcbiAgICB9O1xufVxuY29uc3QgbGVnYWN5UXVlcnkgPSAoZGVzY3JpcHRvciwgcHJvdG8sIG5hbWUpID0+IHtcbiAgICBPYmplY3QuZGVmaW5lUHJvcGVydHkocHJvdG8sIG5hbWUsIGRlc2NyaXB0b3IpO1xufTtcbmNvbnN0IHN0YW5kYXJkUXVlcnkgPSAoZGVzY3JpcHRvciwgZWxlbWVudCkgPT4gKHtcbiAgICBraW5kOiAnbWV0aG9kJyxcbiAgICBwbGFjZW1lbnQ6ICdwcm90b3R5cGUnLFxuICAgIGtleTogZWxlbWVudC5rZXksXG4gICAgZGVzY3JpcHRvcixcbn0pO1xuY29uc3Qgc3RhbmRhcmRFdmVudE9wdGlvbnMgPSAob3B0aW9ucywgZWxlbWVudCkgPT4ge1xuICAgIHJldHVybiBPYmplY3QuYXNzaWduKHt9LCBlbGVtZW50LCB7IGZpbmlzaGVyKGNsYXp6KSB7XG4gICAgICAgICAgICBPYmplY3QuYXNzaWduKGNsYXp6LnByb3RvdHlwZVtlbGVtZW50LmtleV0sIG9wdGlvbnMpO1xuICAgICAgICB9IH0pO1xufTtcbmNvbnN0IGxlZ2FjeUV2ZW50T3B0aW9ucyA9IFxuLy8gdHNsaW50OmRpc2FibGUtbmV4dC1saW5lOm5vLWFueSBsZWdhY3kgZGVjb3JhdG9yXG4ob3B0aW9ucywgcHJvdG8sIG5hbWUpID0+IHtcbiAgICBPYmplY3QuYXNzaWduKHByb3RvW25hbWVdLCBvcHRpb25zKTtcbn07XG4vKipcbiAqIEFkZHMgZXZlbnQgbGlzdGVuZXIgb3B0aW9ucyB0byBhIG1ldGhvZCB1c2VkIGFzIGFuIGV2ZW50IGxpc3RlbmVyIGluIGFcbiAqIGxpdC1odG1sIHRlbXBsYXRlLlxuICpcbiAqIEBwYXJhbSBvcHRpb25zIEFuIG9iamVjdCB0aGF0IHNwZWNpZmlzIGV2ZW50IGxpc3RlbmVyIG9wdGlvbnMgYXMgYWNjZXB0ZWQgYnlcbiAqIGBFdmVudFRhcmdldCNhZGRFdmVudExpc3RlbmVyYCBhbmQgYEV2ZW50VGFyZ2V0I3JlbW92ZUV2ZW50TGlzdGVuZXJgLlxuICpcbiAqIEN1cnJlbnQgYnJvd3NlcnMgc3VwcG9ydCB0aGUgYGNhcHR1cmVgLCBgcGFzc2l2ZWAsIGFuZCBgb25jZWAgb3B0aW9ucy4gU2VlOlxuICogaHR0cHM6Ly9kZXZlbG9wZXIubW96aWxsYS5vcmcvZW4tVVMvZG9jcy9XZWIvQVBJL0V2ZW50VGFyZ2V0L2FkZEV2ZW50TGlzdGVuZXIjUGFyYW1ldGVyc1xuICpcbiAqIEBleGFtcGxlXG4gKlxuICogICAgIGNsYXNzIE15RWxlbWVudCB7XG4gKlxuICogICAgICAgY2xpY2tlZCA9IGZhbHNlO1xuICpcbiAqICAgICAgIHJlbmRlcigpIHtcbiAqICAgICAgICAgcmV0dXJuIGh0bWxgPGRpdiBAY2xpY2s9JHt0aGlzLl9vbkNsaWNrfWA+PGJ1dHRvbj48L2J1dHRvbj48L2Rpdj5gO1xuICogICAgICAgfVxuICpcbiAqICAgICAgIEBldmVudE9wdGlvbnMoe2NhcHR1cmU6IHRydWV9KVxuICogICAgICAgX29uQ2xpY2soZSkge1xuICogICAgICAgICB0aGlzLmNsaWNrZWQgPSB0cnVlO1xuICogICAgICAgfVxuICogICAgIH1cbiAqL1xuZXhwb3J0IGNvbnN0IGV2ZW50T3B0aW9ucyA9IChvcHRpb25zKSA9PiBcbi8vIFJldHVybiB2YWx1ZSB0eXBlZCBhcyBhbnkgdG8gcHJldmVudCBUeXBlU2NyaXB0IGZyb20gY29tcGxhaW5pbmcgdGhhdFxuLy8gc3RhbmRhcmQgZGVjb3JhdG9yIGZ1bmN0aW9uIHNpZ25hdHVyZSBkb2VzIG5vdCBtYXRjaCBUeXBlU2NyaXB0IGRlY29yYXRvclxuLy8gc2lnbmF0dXJlXG4vLyBUT0RPKGtzY2hhYWYpOiB1bmNsZWFyIHdoeSBpdCB3YXMgb25seSBmYWlsaW5nIG9uIHRoaXMgZGVjb3JhdG9yIGFuZCBub3Rcbi8vIHRoZSBvdGhlcnNcbigocHJvdG9PckRlc2NyaXB0b3IsIG5hbWUpID0+IChuYW1lICE9PSB1bmRlZmluZWQpID9cbiAgICBsZWdhY3lFdmVudE9wdGlvbnMob3B0aW9ucywgcHJvdG9PckRlc2NyaXB0b3IsIG5hbWUpIDpcbiAgICBzdGFuZGFyZEV2ZW50T3B0aW9ucyhvcHRpb25zLCBwcm90b09yRGVzY3JpcHRvcikpO1xuLy8jIHNvdXJjZU1hcHBpbmdVUkw9ZGVjb3JhdG9ycy5qcy5tYXAiLCIvKipcbkBsaWNlbnNlXG5Db3B5cmlnaHQgKGMpIDIwMTkgVGhlIFBvbHltZXIgUHJvamVjdCBBdXRob3JzLiBBbGwgcmlnaHRzIHJlc2VydmVkLlxuVGhpcyBjb2RlIG1heSBvbmx5IGJlIHVzZWQgdW5kZXIgdGhlIEJTRCBzdHlsZSBsaWNlbnNlIGZvdW5kIGF0XG5odHRwOi8vcG9seW1lci5naXRodWIuaW8vTElDRU5TRS50eHQgVGhlIGNvbXBsZXRlIHNldCBvZiBhdXRob3JzIG1heSBiZSBmb3VuZCBhdFxuaHR0cDovL3BvbHltZXIuZ2l0aHViLmlvL0FVVEhPUlMudHh0IFRoZSBjb21wbGV0ZSBzZXQgb2YgY29udHJpYnV0b3JzIG1heSBiZVxuZm91bmQgYXQgaHR0cDovL3BvbHltZXIuZ2l0aHViLmlvL0NPTlRSSUJVVE9SUy50eHQgQ29kZSBkaXN0cmlidXRlZCBieSBHb29nbGUgYXNcbnBhcnQgb2YgdGhlIHBvbHltZXIgcHJvamVjdCBpcyBhbHNvIHN1YmplY3QgdG8gYW4gYWRkaXRpb25hbCBJUCByaWdodHMgZ3JhbnRcbmZvdW5kIGF0IGh0dHA6Ly9wb2x5bWVyLmdpdGh1Yi5pby9QQVRFTlRTLnR4dFxuKi9cbmV4cG9ydCBjb25zdCBzdXBwb3J0c0Fkb3B0aW5nU3R5bGVTaGVldHMgPSAoJ2Fkb3B0ZWRTdHlsZVNoZWV0cycgaW4gRG9jdW1lbnQucHJvdG90eXBlKSAmJlxuICAgICgncmVwbGFjZScgaW4gQ1NTU3R5bGVTaGVldC5wcm90b3R5cGUpO1xuY29uc3QgY29uc3RydWN0aW9uVG9rZW4gPSBTeW1ib2woKTtcbmV4cG9ydCBjbGFzcyBDU1NSZXN1bHQge1xuICAgIGNvbnN0cnVjdG9yKGNzc1RleHQsIHNhZmVUb2tlbikge1xuICAgICAgICBpZiAoc2FmZVRva2VuICE9PSBjb25zdHJ1Y3Rpb25Ub2tlbikge1xuICAgICAgICAgICAgdGhyb3cgbmV3IEVycm9yKCdDU1NSZXN1bHQgaXMgbm90IGNvbnN0cnVjdGFibGUuIFVzZSBgdW5zYWZlQ1NTYCBvciBgY3NzYCBpbnN0ZWFkLicpO1xuICAgICAgICB9XG4gICAgICAgIHRoaXMuY3NzVGV4dCA9IGNzc1RleHQ7XG4gICAgfVxuICAgIC8vIE5vdGUsIHRoaXMgaXMgYSBnZXR0ZXIgc28gdGhhdCBpdCdzIGxhenkuIEluIHByYWN0aWNlLCB0aGlzIG1lYW5zXG4gICAgLy8gc3R5bGVzaGVldHMgYXJlIG5vdCBjcmVhdGVkIHVudGlsIHRoZSBmaXJzdCBlbGVtZW50IGluc3RhbmNlIGlzIG1hZGUuXG4gICAgZ2V0IHN0eWxlU2hlZXQoKSB7XG4gICAgICAgIGlmICh0aGlzLl9zdHlsZVNoZWV0ID09PSB1bmRlZmluZWQpIHtcbiAgICAgICAgICAgIC8vIE5vdGUsIGlmIGBhZG9wdGVkU3R5bGVTaGVldHNgIGlzIHN1cHBvcnRlZCB0aGVuIHdlIGFzc3VtZSBDU1NTdHlsZVNoZWV0XG4gICAgICAgICAgICAvLyBpcyBjb25zdHJ1Y3RhYmxlLlxuICAgICAgICAgICAgaWYgKHN1cHBvcnRzQWRvcHRpbmdTdHlsZVNoZWV0cykge1xuICAgICAgICAgICAgICAgIHRoaXMuX3N0eWxlU2hlZXQgPSBuZXcgQ1NTU3R5bGVTaGVldCgpO1xuICAgICAgICAgICAgICAgIHRoaXMuX3N0eWxlU2hlZXQucmVwbGFjZVN5bmModGhpcy5jc3NUZXh0KTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgICAgIHRoaXMuX3N0eWxlU2hlZXQgPSBudWxsO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIHJldHVybiB0aGlzLl9zdHlsZVNoZWV0O1xuICAgIH1cbiAgICB0b1N0cmluZygpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuY3NzVGV4dDtcbiAgICB9XG59XG4vKipcbiAqIFdyYXAgYSB2YWx1ZSBmb3IgaW50ZXJwb2xhdGlvbiBpbiBhIGNzcyB0YWdnZWQgdGVtcGxhdGUgbGl0ZXJhbC5cbiAqXG4gKiBUaGlzIGlzIHVuc2FmZSBiZWNhdXNlIHVudHJ1c3RlZCBDU1MgdGV4dCBjYW4gYmUgdXNlZCB0byBwaG9uZSBob21lXG4gKiBvciBleGZpbHRyYXRlIGRhdGEgdG8gYW4gYXR0YWNrZXIgY29udHJvbGxlZCBzaXRlLiBUYWtlIGNhcmUgdG8gb25seSB1c2VcbiAqIHRoaXMgd2l0aCB0cnVzdGVkIGlucHV0LlxuICovXG5leHBvcnQgY29uc3QgdW5zYWZlQ1NTID0gKHZhbHVlKSA9PiB7XG4gICAgcmV0dXJuIG5ldyBDU1NSZXN1bHQoU3RyaW5nKHZhbHVlKSwgY29uc3RydWN0aW9uVG9rZW4pO1xufTtcbmNvbnN0IHRleHRGcm9tQ1NTUmVzdWx0ID0gKHZhbHVlKSA9PiB7XG4gICAgaWYgKHZhbHVlIGluc3RhbmNlb2YgQ1NTUmVzdWx0KSB7XG4gICAgICAgIHJldHVybiB2YWx1ZS5jc3NUZXh0O1xuICAgIH1cbiAgICBlbHNlIHtcbiAgICAgICAgdGhyb3cgbmV3IEVycm9yKGBWYWx1ZSBwYXNzZWQgdG8gJ2NzcycgZnVuY3Rpb24gbXVzdCBiZSBhICdjc3MnIGZ1bmN0aW9uIHJlc3VsdDogJHt2YWx1ZX0uIFVzZSAndW5zYWZlQ1NTJyB0byBwYXNzIG5vbi1saXRlcmFsIHZhbHVlcywgYnV0XG4gICAgICAgICAgICB0YWtlIGNhcmUgdG8gZW5zdXJlIHBhZ2Ugc2VjdXJpdHkuYCk7XG4gICAgfVxufTtcbi8qKlxuICogVGVtcGxhdGUgdGFnIHdoaWNoIHdoaWNoIGNhbiBiZSB1c2VkIHdpdGggTGl0RWxlbWVudCdzIGBzdHlsZWAgcHJvcGVydHkgdG9cbiAqIHNldCBlbGVtZW50IHN0eWxlcy4gRm9yIHNlY3VyaXR5IHJlYXNvbnMsIG9ubHkgbGl0ZXJhbCBzdHJpbmcgdmFsdWVzIG1heSBiZVxuICogdXNlZC4gVG8gaW5jb3Jwb3JhdGUgbm9uLWxpdGVyYWwgdmFsdWVzIGB1bnNhZmVDU1NgIG1heSBiZSB1c2VkIGluc2lkZSBhXG4gKiB0ZW1wbGF0ZSBzdHJpbmcgcGFydC5cbiAqL1xuZXhwb3J0IGNvbnN0IGNzcyA9IChzdHJpbmdzLCAuLi52YWx1ZXMpID0+IHtcbiAgICBjb25zdCBjc3NUZXh0ID0gdmFsdWVzLnJlZHVjZSgoYWNjLCB2LCBpZHgpID0+IGFjYyArIHRleHRGcm9tQ1NTUmVzdWx0KHYpICsgc3RyaW5nc1tpZHggKyAxXSwgc3RyaW5nc1swXSk7XG4gICAgcmV0dXJuIG5ldyBDU1NSZXN1bHQoY3NzVGV4dCwgY29uc3RydWN0aW9uVG9rZW4pO1xufTtcbi8vIyBzb3VyY2VNYXBwaW5nVVJMPWNzcy10YWcuanMubWFwIiwiLyoqXG4gKiBAbGljZW5zZVxuICogQ29weXJpZ2h0IChjKSAyMDE3IFRoZSBQb2x5bWVyIFByb2plY3QgQXV0aG9ycy4gQWxsIHJpZ2h0cyByZXNlcnZlZC5cbiAqIFRoaXMgY29kZSBtYXkgb25seSBiZSB1c2VkIHVuZGVyIHRoZSBCU0Qgc3R5bGUgbGljZW5zZSBmb3VuZCBhdFxuICogaHR0cDovL3BvbHltZXIuZ2l0aHViLmlvL0xJQ0VOU0UudHh0XG4gKiBUaGUgY29tcGxldGUgc2V0IG9mIGF1dGhvcnMgbWF5IGJlIGZvdW5kIGF0XG4gKiBodHRwOi8vcG9seW1lci5naXRodWIuaW8vQVVUSE9SUy50eHRcbiAqIFRoZSBjb21wbGV0ZSBzZXQgb2YgY29udHJpYnV0b3JzIG1heSBiZSBmb3VuZCBhdFxuICogaHR0cDovL3BvbHltZXIuZ2l0aHViLmlvL0NPTlRSSUJVVE9SUy50eHRcbiAqIENvZGUgZGlzdHJpYnV0ZWQgYnkgR29vZ2xlIGFzIHBhcnQgb2YgdGhlIHBvbHltZXIgcHJvamVjdCBpcyBhbHNvXG4gKiBzdWJqZWN0IHRvIGFuIGFkZGl0aW9uYWwgSVAgcmlnaHRzIGdyYW50IGZvdW5kIGF0XG4gKiBodHRwOi8vcG9seW1lci5naXRodWIuaW8vUEFURU5UUy50eHRcbiAqL1xuaW1wb3J0IHsgVGVtcGxhdGVSZXN1bHQgfSBmcm9tICdsaXQtaHRtbCc7XG5pbXBvcnQgeyByZW5kZXIgfSBmcm9tICdsaXQtaHRtbC9saWIvc2hhZHktcmVuZGVyLmpzJztcbmltcG9ydCB7IFVwZGF0aW5nRWxlbWVudCB9IGZyb20gJy4vbGliL3VwZGF0aW5nLWVsZW1lbnQuanMnO1xuZXhwb3J0ICogZnJvbSAnLi9saWIvdXBkYXRpbmctZWxlbWVudC5qcyc7XG5leHBvcnQgKiBmcm9tICcuL2xpYi9kZWNvcmF0b3JzLmpzJztcbmV4cG9ydCB7IGh0bWwsIHN2ZywgVGVtcGxhdGVSZXN1bHQsIFNWR1RlbXBsYXRlUmVzdWx0IH0gZnJvbSAnbGl0LWh0bWwvbGl0LWh0bWwuanMnO1xuaW1wb3J0IHsgc3VwcG9ydHNBZG9wdGluZ1N0eWxlU2hlZXRzIH0gZnJvbSAnLi9saWIvY3NzLXRhZy5qcyc7XG5leHBvcnQgKiBmcm9tICcuL2xpYi9jc3MtdGFnLmpzJztcbi8vIElNUE9SVEFOVDogZG8gbm90IGNoYW5nZSB0aGUgcHJvcGVydHkgbmFtZSBvciB0aGUgYXNzaWdubWVudCBleHByZXNzaW9uLlxuLy8gVGhpcyBsaW5lIHdpbGwgYmUgdXNlZCBpbiByZWdleGVzIHRvIHNlYXJjaCBmb3IgTGl0RWxlbWVudCB1c2FnZS5cbi8vIFRPRE8oanVzdGluZmFnbmFuaSk6IGluamVjdCB2ZXJzaW9uIG51bWJlciBhdCBidWlsZCB0aW1lXG4od2luZG93WydsaXRFbGVtZW50VmVyc2lvbnMnXSB8fCAod2luZG93WydsaXRFbGVtZW50VmVyc2lvbnMnXSA9IFtdKSlcbiAgICAucHVzaCgnMi4wLjEnKTtcbi8qKlxuICogTWluaW1hbCBpbXBsZW1lbnRhdGlvbiBvZiBBcnJheS5wcm90b3R5cGUuZmxhdFxuICogQHBhcmFtIGFyciB0aGUgYXJyYXkgdG8gZmxhdHRlblxuICogQHBhcmFtIHJlc3VsdCB0aGUgYWNjdW1sYXRlZCByZXN1bHRcbiAqL1xuZnVuY3Rpb24gYXJyYXlGbGF0KHN0eWxlcywgcmVzdWx0ID0gW10pIHtcbiAgICBmb3IgKGxldCBpID0gMCwgbGVuZ3RoID0gc3R5bGVzLmxlbmd0aDsgaSA8IGxlbmd0aDsgaSsrKSB7XG4gICAgICAgIGNvbnN0IHZhbHVlID0gc3R5bGVzW2ldO1xuICAgICAgICBpZiAoQXJyYXkuaXNBcnJheSh2YWx1ZSkpIHtcbiAgICAgICAgICAgIGFycmF5RmxhdCh2YWx1ZSwgcmVzdWx0KTtcbiAgICAgICAgfVxuICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgIHJlc3VsdC5wdXNoKHZhbHVlKTtcbiAgICAgICAgfVxuICAgIH1cbiAgICByZXR1cm4gcmVzdWx0O1xufVxuLyoqIERlZXBseSBmbGF0dGVucyBzdHlsZXMgYXJyYXkuIFVzZXMgbmF0aXZlIGZsYXQgaWYgYXZhaWxhYmxlLiAqL1xuY29uc3QgZmxhdHRlblN0eWxlcyA9IChzdHlsZXMpID0+IHN0eWxlcy5mbGF0ID8gc3R5bGVzLmZsYXQoSW5maW5pdHkpIDogYXJyYXlGbGF0KHN0eWxlcyk7XG5leHBvcnQgY2xhc3MgTGl0RWxlbWVudCBleHRlbmRzIFVwZGF0aW5nRWxlbWVudCB7XG4gICAgLyoqIEBub2NvbGxhcHNlICovXG4gICAgc3RhdGljIGZpbmFsaXplKCkge1xuICAgICAgICBzdXBlci5maW5hbGl6ZSgpO1xuICAgICAgICAvLyBQcmVwYXJlIHN0eWxpbmcgdGhhdCBpcyBzdGFtcGVkIGF0IGZpcnN0IHJlbmRlciB0aW1lLiBTdHlsaW5nXG4gICAgICAgIC8vIGlzIGJ1aWx0IGZyb20gdXNlciBwcm92aWRlZCBgc3R5bGVzYCBvciBpcyBpbmhlcml0ZWQgZnJvbSB0aGUgc3VwZXJjbGFzcy5cbiAgICAgICAgdGhpcy5fc3R5bGVzID1cbiAgICAgICAgICAgIHRoaXMuaGFzT3duUHJvcGVydHkoSlNDb21waWxlcl9yZW5hbWVQcm9wZXJ0eSgnc3R5bGVzJywgdGhpcykpID9cbiAgICAgICAgICAgICAgICB0aGlzLl9nZXRVbmlxdWVTdHlsZXMoKSA6XG4gICAgICAgICAgICAgICAgdGhpcy5fc3R5bGVzIHx8IFtdO1xuICAgIH1cbiAgICAvKiogQG5vY29sbGFwc2UgKi9cbiAgICBzdGF0aWMgX2dldFVuaXF1ZVN0eWxlcygpIHtcbiAgICAgICAgLy8gVGFrZSBjYXJlIG5vdCB0byBjYWxsIGB0aGlzLnN0eWxlc2AgbXVsdGlwbGUgdGltZXMgc2luY2UgdGhpcyBnZW5lcmF0ZXNcbiAgICAgICAgLy8gbmV3IENTU1Jlc3VsdHMgZWFjaCB0aW1lLlxuICAgICAgICAvLyBUT0RPKHNvcnZlbGwpOiBTaW5jZSB3ZSBkbyBub3QgY2FjaGUgQ1NTUmVzdWx0cyBieSBpbnB1dCwgYW55XG4gICAgICAgIC8vIHNoYXJlZCBzdHlsZXMgd2lsbCBnZW5lcmF0ZSBuZXcgc3R5bGVzaGVldCBvYmplY3RzLCB3aGljaCBpcyB3YXN0ZWZ1bC5cbiAgICAgICAgLy8gVGhpcyBzaG91bGQgYmUgYWRkcmVzc2VkIHdoZW4gYSBicm93c2VyIHNoaXBzIGNvbnN0cnVjdGFibGVcbiAgICAgICAgLy8gc3R5bGVzaGVldHMuXG4gICAgICAgIGNvbnN0IHVzZXJTdHlsZXMgPSB0aGlzLnN0eWxlcztcbiAgICAgICAgY29uc3Qgc3R5bGVzID0gW107XG4gICAgICAgIGlmIChBcnJheS5pc0FycmF5KHVzZXJTdHlsZXMpKSB7XG4gICAgICAgICAgICBjb25zdCBmbGF0U3R5bGVzID0gZmxhdHRlblN0eWxlcyh1c2VyU3R5bGVzKTtcbiAgICAgICAgICAgIC8vIEFzIGEgcGVyZm9ybWFuY2Ugb3B0aW1pemF0aW9uIHRvIGF2b2lkIGR1cGxpY2F0ZWQgc3R5bGluZyB0aGF0IGNhblxuICAgICAgICAgICAgLy8gb2NjdXIgZXNwZWNpYWxseSB3aGVuIGNvbXBvc2luZyB2aWEgc3ViY2xhc3NpbmcsIGRlLWR1cGxpY2F0ZSBzdHlsZXNcbiAgICAgICAgICAgIC8vIHByZXNlcnZpbmcgdGhlIGxhc3QgaXRlbSBpbiB0aGUgbGlzdC4gVGhlIGxhc3QgaXRlbSBpcyBrZXB0IHRvXG4gICAgICAgICAgICAvLyB0cnkgdG8gcHJlc2VydmUgY2FzY2FkZSBvcmRlciB3aXRoIHRoZSBhc3N1bXB0aW9uIHRoYXQgaXQncyBtb3N0XG4gICAgICAgICAgICAvLyBpbXBvcnRhbnQgdGhhdCBsYXN0IGFkZGVkIHN0eWxlcyBvdmVycmlkZSBwcmV2aW91cyBzdHlsZXMuXG4gICAgICAgICAgICBjb25zdCBzdHlsZVNldCA9IGZsYXRTdHlsZXMucmVkdWNlUmlnaHQoKHNldCwgcykgPT4ge1xuICAgICAgICAgICAgICAgIHNldC5hZGQocyk7XG4gICAgICAgICAgICAgICAgLy8gb24gSUUgc2V0LmFkZCBkb2VzIG5vdCByZXR1cm4gdGhlIHNldC5cbiAgICAgICAgICAgICAgICByZXR1cm4gc2V0O1xuICAgICAgICAgICAgfSwgbmV3IFNldCgpKTtcbiAgICAgICAgICAgIC8vIEFycmF5LmZyb20gZG9lcyBub3Qgd29yayBvbiBTZXQgaW4gSUVcbiAgICAgICAgICAgIHN0eWxlU2V0LmZvckVhY2goKHYpID0+IHN0eWxlcy51bnNoaWZ0KHYpKTtcbiAgICAgICAgfVxuICAgICAgICBlbHNlIGlmICh1c2VyU3R5bGVzKSB7XG4gICAgICAgICAgICBzdHlsZXMucHVzaCh1c2VyU3R5bGVzKTtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gc3R5bGVzO1xuICAgIH1cbiAgICAvKipcbiAgICAgKiBQZXJmb3JtcyBlbGVtZW50IGluaXRpYWxpemF0aW9uLiBCeSBkZWZhdWx0IHRoaXMgY2FsbHMgYGNyZWF0ZVJlbmRlclJvb3RgXG4gICAgICogdG8gY3JlYXRlIHRoZSBlbGVtZW50IGByZW5kZXJSb290YCBub2RlIGFuZCBjYXB0dXJlcyBhbnkgcHJlLXNldCB2YWx1ZXMgZm9yXG4gICAgICogcmVnaXN0ZXJlZCBwcm9wZXJ0aWVzLlxuICAgICAqL1xuICAgIGluaXRpYWxpemUoKSB7XG4gICAgICAgIHN1cGVyLmluaXRpYWxpemUoKTtcbiAgICAgICAgdGhpcy5yZW5kZXJSb290ID1cbiAgICAgICAgICAgIHRoaXMuY3JlYXRlUmVuZGVyUm9vdCgpO1xuICAgICAgICAvLyBOb3RlLCBpZiByZW5kZXJSb290IGlzIG5vdCBhIHNoYWRvd1Jvb3QsIHN0eWxlcyB3b3VsZC9jb3VsZCBhcHBseSB0byB0aGVcbiAgICAgICAgLy8gZWxlbWVudCdzIGdldFJvb3ROb2RlKCkuIFdoaWxlIHRoaXMgY291bGQgYmUgZG9uZSwgd2UncmUgY2hvb3Npbmcgbm90IHRvXG4gICAgICAgIC8vIHN1cHBvcnQgdGhpcyBub3cgc2luY2UgaXQgd291bGQgcmVxdWlyZSBkaWZmZXJlbnQgbG9naWMgYXJvdW5kIGRlLWR1cGluZy5cbiAgICAgICAgaWYgKHdpbmRvdy5TaGFkb3dSb290ICYmIHRoaXMucmVuZGVyUm9vdCBpbnN0YW5jZW9mIHdpbmRvdy5TaGFkb3dSb290KSB7XG4gICAgICAgICAgICB0aGlzLmFkb3B0U3R5bGVzKCk7XG4gICAgICAgIH1cbiAgICB9XG4gICAgLyoqXG4gICAgICogUmV0dXJucyB0aGUgbm9kZSBpbnRvIHdoaWNoIHRoZSBlbGVtZW50IHNob3VsZCByZW5kZXIgYW5kIGJ5IGRlZmF1bHRcbiAgICAgKiBjcmVhdGVzIGFuZCByZXR1cm5zIGFuIG9wZW4gc2hhZG93Um9vdC4gSW1wbGVtZW50IHRvIGN1c3RvbWl6ZSB3aGVyZSB0aGVcbiAgICAgKiBlbGVtZW50J3MgRE9NIGlzIHJlbmRlcmVkLiBGb3IgZXhhbXBsZSwgdG8gcmVuZGVyIGludG8gdGhlIGVsZW1lbnQnc1xuICAgICAqIGNoaWxkTm9kZXMsIHJldHVybiBgdGhpc2AuXG4gICAgICogQHJldHVybnMge0VsZW1lbnR8RG9jdW1lbnRGcmFnbWVudH0gUmV0dXJucyBhIG5vZGUgaW50byB3aGljaCB0byByZW5kZXIuXG4gICAgICovXG4gICAgY3JlYXRlUmVuZGVyUm9vdCgpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuYXR0YWNoU2hhZG93KHsgbW9kZTogJ29wZW4nIH0pO1xuICAgIH1cbiAgICAvKipcbiAgICAgKiBBcHBsaWVzIHN0eWxpbmcgdG8gdGhlIGVsZW1lbnQgc2hhZG93Um9vdCB1c2luZyB0aGUgYHN0YXRpYyBnZXQgc3R5bGVzYFxuICAgICAqIHByb3BlcnR5LiBTdHlsaW5nIHdpbGwgYXBwbHkgdXNpbmcgYHNoYWRvd1Jvb3QuYWRvcHRlZFN0eWxlU2hlZXRzYCB3aGVyZVxuICAgICAqIGF2YWlsYWJsZSBhbmQgd2lsbCBmYWxsYmFjayBvdGhlcndpc2UuIFdoZW4gU2hhZG93IERPTSBpcyBwb2x5ZmlsbGVkLFxuICAgICAqIFNoYWR5Q1NTIHNjb3BlcyBzdHlsZXMgYW5kIGFkZHMgdGhlbSB0byB0aGUgZG9jdW1lbnQuIFdoZW4gU2hhZG93IERPTVxuICAgICAqIGlzIGF2YWlsYWJsZSBidXQgYGFkb3B0ZWRTdHlsZVNoZWV0c2AgaXMgbm90LCBzdHlsZXMgYXJlIGFwcGVuZGVkIHRvIHRoZVxuICAgICAqIGVuZCBvZiB0aGUgYHNoYWRvd1Jvb3RgIHRvIFttaW1pYyBzcGVjXG4gICAgICogYmVoYXZpb3JdKGh0dHBzOi8vd2ljZy5naXRodWIuaW8vY29uc3RydWN0LXN0eWxlc2hlZXRzLyN1c2luZy1jb25zdHJ1Y3RlZC1zdHlsZXNoZWV0cykuXG4gICAgICovXG4gICAgYWRvcHRTdHlsZXMoKSB7XG4gICAgICAgIGNvbnN0IHN0eWxlcyA9IHRoaXMuY29uc3RydWN0b3IuX3N0eWxlcztcbiAgICAgICAgaWYgKHN0eWxlcy5sZW5ndGggPT09IDApIHtcbiAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgfVxuICAgICAgICAvLyBUaGVyZSBhcmUgdGhyZWUgc2VwYXJhdGUgY2FzZXMgaGVyZSBiYXNlZCBvbiBTaGFkb3cgRE9NIHN1cHBvcnQuXG4gICAgICAgIC8vICgxKSBzaGFkb3dSb290IHBvbHlmaWxsZWQ6IHVzZSBTaGFkeUNTU1xuICAgICAgICAvLyAoMikgc2hhZG93Um9vdC5hZG9wdGVkU3R5bGVTaGVldHMgYXZhaWxhYmxlOiB1c2UgaXQuXG4gICAgICAgIC8vICgzKSBzaGFkb3dSb290LmFkb3B0ZWRTdHlsZVNoZWV0cyBwb2x5ZmlsbGVkOiBhcHBlbmQgc3R5bGVzIGFmdGVyXG4gICAgICAgIC8vIHJlbmRlcmluZ1xuICAgICAgICBpZiAod2luZG93LlNoYWR5Q1NTICE9PSB1bmRlZmluZWQgJiYgIXdpbmRvdy5TaGFkeUNTUy5uYXRpdmVTaGFkb3cpIHtcbiAgICAgICAgICAgIHdpbmRvdy5TaGFkeUNTUy5TY29waW5nU2hpbS5wcmVwYXJlQWRvcHRlZENzc1RleHQoc3R5bGVzLm1hcCgocykgPT4gcy5jc3NUZXh0KSwgdGhpcy5sb2NhbE5hbWUpO1xuICAgICAgICB9XG4gICAgICAgIGVsc2UgaWYgKHN1cHBvcnRzQWRvcHRpbmdTdHlsZVNoZWV0cykge1xuICAgICAgICAgICAgdGhpcy5yZW5kZXJSb290LmFkb3B0ZWRTdHlsZVNoZWV0cyA9XG4gICAgICAgICAgICAgICAgc3R5bGVzLm1hcCgocykgPT4gcy5zdHlsZVNoZWV0KTtcbiAgICAgICAgfVxuICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgIC8vIFRoaXMgbXVzdCBiZSBkb25lIGFmdGVyIHJlbmRlcmluZyBzbyB0aGUgYWN0dWFsIHN0eWxlIGluc2VydGlvbiBpcyBkb25lXG4gICAgICAgICAgICAvLyBpbiBgdXBkYXRlYC5cbiAgICAgICAgICAgIHRoaXMuX25lZWRzU2hpbUFkb3B0ZWRTdHlsZVNoZWV0cyA9IHRydWU7XG4gICAgICAgIH1cbiAgICB9XG4gICAgY29ubmVjdGVkQ2FsbGJhY2soKSB7XG4gICAgICAgIHN1cGVyLmNvbm5lY3RlZENhbGxiYWNrKCk7XG4gICAgICAgIC8vIE5vdGUsIGZpcnN0IHVwZGF0ZS9yZW5kZXIgaGFuZGxlcyBzdHlsZUVsZW1lbnQgc28gd2Ugb25seSBjYWxsIHRoaXMgaWZcbiAgICAgICAgLy8gY29ubmVjdGVkIGFmdGVyIGZpcnN0IHVwZGF0ZS5cbiAgICAgICAgaWYgKHRoaXMuaGFzVXBkYXRlZCAmJiB3aW5kb3cuU2hhZHlDU1MgIT09IHVuZGVmaW5lZCkge1xuICAgICAgICAgICAgd2luZG93LlNoYWR5Q1NTLnN0eWxlRWxlbWVudCh0aGlzKTtcbiAgICAgICAgfVxuICAgIH1cbiAgICAvKipcbiAgICAgKiBVcGRhdGVzIHRoZSBlbGVtZW50LiBUaGlzIG1ldGhvZCByZWZsZWN0cyBwcm9wZXJ0eSB2YWx1ZXMgdG8gYXR0cmlidXRlc1xuICAgICAqIGFuZCBjYWxscyBgcmVuZGVyYCB0byByZW5kZXIgRE9NIHZpYSBsaXQtaHRtbC4gU2V0dGluZyBwcm9wZXJ0aWVzIGluc2lkZVxuICAgICAqIHRoaXMgbWV0aG9kIHdpbGwgKm5vdCogdHJpZ2dlciBhbm90aGVyIHVwZGF0ZS5cbiAgICAgKiAqIEBwYXJhbSBfY2hhbmdlZFByb3BlcnRpZXMgTWFwIG9mIGNoYW5nZWQgcHJvcGVydGllcyB3aXRoIG9sZCB2YWx1ZXNcbiAgICAgKi9cbiAgICB1cGRhdGUoY2hhbmdlZFByb3BlcnRpZXMpIHtcbiAgICAgICAgc3VwZXIudXBkYXRlKGNoYW5nZWRQcm9wZXJ0aWVzKTtcbiAgICAgICAgY29uc3QgdGVtcGxhdGVSZXN1bHQgPSB0aGlzLnJlbmRlcigpO1xuICAgICAgICBpZiAodGVtcGxhdGVSZXN1bHQgaW5zdGFuY2VvZiBUZW1wbGF0ZVJlc3VsdCkge1xuICAgICAgICAgICAgdGhpcy5jb25zdHJ1Y3RvclxuICAgICAgICAgICAgICAgIC5yZW5kZXIodGVtcGxhdGVSZXN1bHQsIHRoaXMucmVuZGVyUm9vdCwgeyBzY29wZU5hbWU6IHRoaXMubG9jYWxOYW1lLCBldmVudENvbnRleHQ6IHRoaXMgfSk7XG4gICAgICAgIH1cbiAgICAgICAgLy8gV2hlbiBuYXRpdmUgU2hhZG93IERPTSBpcyB1c2VkIGJ1dCBhZG9wdGVkU3R5bGVzIGFyZSBub3Qgc3VwcG9ydGVkLFxuICAgICAgICAvLyBpbnNlcnQgc3R5bGluZyBhZnRlciByZW5kZXJpbmcgdG8gZW5zdXJlIGFkb3B0ZWRTdHlsZXMgaGF2ZSBoaWdoZXN0XG4gICAgICAgIC8vIHByaW9yaXR5LlxuICAgICAgICBpZiAodGhpcy5fbmVlZHNTaGltQWRvcHRlZFN0eWxlU2hlZXRzKSB7XG4gICAgICAgICAgICB0aGlzLl9uZWVkc1NoaW1BZG9wdGVkU3R5bGVTaGVldHMgPSBmYWxzZTtcbiAgICAgICAgICAgIHRoaXMuY29uc3RydWN0b3IuX3N0eWxlcy5mb3JFYWNoKChzKSA9PiB7XG4gICAgICAgICAgICAgICAgY29uc3Qgc3R5bGUgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdzdHlsZScpO1xuICAgICAgICAgICAgICAgIHN0eWxlLnRleHRDb250ZW50ID0gcy5jc3NUZXh0O1xuICAgICAgICAgICAgICAgIHRoaXMucmVuZGVyUm9vdC5hcHBlbmRDaGlsZChzdHlsZSk7XG4gICAgICAgICAgICB9KTtcbiAgICAgICAgfVxuICAgIH1cbiAgICAvKipcbiAgICAgKiBJbnZva2VkIG9uIGVhY2ggdXBkYXRlIHRvIHBlcmZvcm0gcmVuZGVyaW5nIHRhc2tzLiBUaGlzIG1ldGhvZCBtdXN0IHJldHVyblxuICAgICAqIGEgbGl0LWh0bWwgVGVtcGxhdGVSZXN1bHQuIFNldHRpbmcgcHJvcGVydGllcyBpbnNpZGUgdGhpcyBtZXRob2Qgd2lsbCAqbm90KlxuICAgICAqIHRyaWdnZXIgdGhlIGVsZW1lbnQgdG8gdXBkYXRlLlxuICAgICAqL1xuICAgIHJlbmRlcigpIHtcbiAgICB9XG59XG4vKipcbiAqIEVuc3VyZSB0aGlzIGNsYXNzIGlzIG1hcmtlZCBhcyBgZmluYWxpemVkYCBhcyBhbiBvcHRpbWl6YXRpb24gZW5zdXJpbmdcbiAqIGl0IHdpbGwgbm90IG5lZWRsZXNzbHkgdHJ5IHRvIGBmaW5hbGl6ZWAuXG4gKi9cbkxpdEVsZW1lbnQuZmluYWxpemVkID0gdHJ1ZTtcbi8qKlxuICogUmVuZGVyIG1ldGhvZCB1c2VkIHRvIHJlbmRlciB0aGUgbGl0LWh0bWwgVGVtcGxhdGVSZXN1bHQgdG8gdGhlIGVsZW1lbnQnc1xuICogRE9NLlxuICogQHBhcmFtIHtUZW1wbGF0ZVJlc3VsdH0gVGVtcGxhdGUgdG8gcmVuZGVyLlxuICogQHBhcmFtIHtFbGVtZW50fERvY3VtZW50RnJhZ21lbnR9IE5vZGUgaW50byB3aGljaCB0byByZW5kZXIuXG4gKiBAcGFyYW0ge1N0cmluZ30gRWxlbWVudCBuYW1lLlxuICogQG5vY29sbGFwc2VcbiAqL1xuTGl0RWxlbWVudC5yZW5kZXIgPSByZW5kZXI7XG4vLyMgc291cmNlTWFwcGluZ1VSTD1saXQtZWxlbWVudC5qcy5tYXAiLCIvKipcbkBsaWNlbnNlXG5Db3B5cmlnaHQgKGMpIDIwMTcgVGhlIFBvbHltZXIgUHJvamVjdCBBdXRob3JzLiBBbGwgcmlnaHRzIHJlc2VydmVkLlxuVGhpcyBjb2RlIG1heSBvbmx5IGJlIHVzZWQgdW5kZXIgdGhlIEJTRCBzdHlsZSBsaWNlbnNlIGZvdW5kIGF0IGh0dHA6Ly9wb2x5bWVyLmdpdGh1Yi5pby9MSUNFTlNFLnR4dFxuVGhlIGNvbXBsZXRlIHNldCBvZiBhdXRob3JzIG1heSBiZSBmb3VuZCBhdCBodHRwOi8vcG9seW1lci5naXRodWIuaW8vQVVUSE9SUy50eHRcblRoZSBjb21wbGV0ZSBzZXQgb2YgY29udHJpYnV0b3JzIG1heSBiZSBmb3VuZCBhdCBodHRwOi8vcG9seW1lci5naXRodWIuaW8vQ09OVFJJQlVUT1JTLnR4dFxuQ29kZSBkaXN0cmlidXRlZCBieSBHb29nbGUgYXMgcGFydCBvZiB0aGUgcG9seW1lciBwcm9qZWN0IGlzIGFsc29cbnN1YmplY3QgdG8gYW4gYWRkaXRpb25hbCBJUCByaWdodHMgZ3JhbnQgZm91bmQgYXQgaHR0cDovL3BvbHltZXIuZ2l0aHViLmlvL1BBVEVOVFMudHh0XG4qL1xuaW1wb3J0ICcuL2Jvb3QuanMnO1xuXG4vKipcbiAqIE1vZHVsZSB3aXRoIHV0aWxpdGllcyBmb3IgbWFuaXB1bGF0aW5nIHN0cnVjdHVyZWQgZGF0YSBwYXRoIHN0cmluZ3MuXG4gKlxuICogQHN1bW1hcnkgTW9kdWxlIHdpdGggdXRpbGl0aWVzIGZvciBtYW5pcHVsYXRpbmcgc3RydWN0dXJlZCBkYXRhIHBhdGggc3RyaW5ncy5cbiAqL1xuXG4vKipcbiAqIFJldHVybnMgdHJ1ZSBpZiB0aGUgZ2l2ZW4gc3RyaW5nIGlzIGEgc3RydWN0dXJlZCBkYXRhIHBhdGggKGhhcyBkb3RzKS5cbiAqXG4gKiBFeGFtcGxlOlxuICpcbiAqIGBgYFxuICogaXNQYXRoKCdmb28uYmFyLmJheicpIC8vIHRydWVcbiAqIGlzUGF0aCgnZm9vJykgICAgICAgICAvLyBmYWxzZVxuICogYGBgXG4gKlxuICogQHBhcmFtIHtzdHJpbmd9IHBhdGggUGF0aCBzdHJpbmdcbiAqIEByZXR1cm4ge2Jvb2xlYW59IFRydWUgaWYgdGhlIHN0cmluZyBjb250YWluZWQgb25lIG9yIG1vcmUgZG90c1xuICovXG5leHBvcnQgZnVuY3Rpb24gaXNQYXRoKHBhdGgpIHtcbiAgcmV0dXJuIHBhdGguaW5kZXhPZignLicpID49IDA7XG59XG5cbi8qKlxuICogUmV0dXJucyB0aGUgcm9vdCBwcm9wZXJ0eSBuYW1lIGZvciB0aGUgZ2l2ZW4gcGF0aC5cbiAqXG4gKiBFeGFtcGxlOlxuICpcbiAqIGBgYFxuICogcm9vdCgnZm9vLmJhci5iYXonKSAvLyAnZm9vJ1xuICogcm9vdCgnZm9vJykgICAgICAgICAvLyAnZm9vJ1xuICogYGBgXG4gKlxuICogQHBhcmFtIHtzdHJpbmd9IHBhdGggUGF0aCBzdHJpbmdcbiAqIEByZXR1cm4ge3N0cmluZ30gUm9vdCBwcm9wZXJ0eSBuYW1lXG4gKi9cbmV4cG9ydCBmdW5jdGlvbiByb290KHBhdGgpIHtcbiAgbGV0IGRvdEluZGV4ID0gcGF0aC5pbmRleE9mKCcuJyk7XG4gIGlmIChkb3RJbmRleCA9PT0gLTEpIHtcbiAgICByZXR1cm4gcGF0aDtcbiAgfVxuICByZXR1cm4gcGF0aC5zbGljZSgwLCBkb3RJbmRleCk7XG59XG5cbi8qKlxuICogR2l2ZW4gYGJhc2VgIGlzIGBmb28uYmFyYCwgYGZvb2AgaXMgYW4gYW5jZXN0b3IsIGBmb28uYmFyYCBpcyBub3RcbiAqIFJldHVybnMgdHJ1ZSBpZiB0aGUgZ2l2ZW4gcGF0aCBpcyBhbiBhbmNlc3RvciBvZiB0aGUgYmFzZSBwYXRoLlxuICpcbiAqIEV4YW1wbGU6XG4gKlxuICogYGBgXG4gKiBpc0FuY2VzdG9yKCdmb28uYmFyJywgJ2ZvbycpICAgICAgICAgLy8gdHJ1ZVxuICogaXNBbmNlc3RvcignZm9vLmJhcicsICdmb28uYmFyJykgICAgIC8vIGZhbHNlXG4gKiBpc0FuY2VzdG9yKCdmb28uYmFyJywgJ2Zvby5iYXIuYmF6JykgLy8gZmFsc2VcbiAqIGBgYFxuICpcbiAqIEBwYXJhbSB7c3RyaW5nfSBiYXNlIFBhdGggc3RyaW5nIHRvIHRlc3QgYWdhaW5zdC5cbiAqIEBwYXJhbSB7c3RyaW5nfSBwYXRoIFBhdGggc3RyaW5nIHRvIHRlc3QuXG4gKiBAcmV0dXJuIHtib29sZWFufSBUcnVlIGlmIGBwYXRoYCBpcyBhbiBhbmNlc3RvciBvZiBgYmFzZWAuXG4gKi9cbmV4cG9ydCBmdW5jdGlvbiBpc0FuY2VzdG9yKGJhc2UsIHBhdGgpIHtcbiAgLy8gICAgIGJhc2Uuc3RhcnRzV2l0aChwYXRoICsgJy4nKTtcbiAgcmV0dXJuIGJhc2UuaW5kZXhPZihwYXRoICsgJy4nKSA9PT0gMDtcbn1cblxuLyoqXG4gKiBHaXZlbiBgYmFzZWAgaXMgYGZvby5iYXJgLCBgZm9vLmJhci5iYXpgIGlzIGFuIGRlc2NlbmRhbnRcbiAqXG4gKiBFeGFtcGxlOlxuICpcbiAqIGBgYFxuICogaXNEZXNjZW5kYW50KCdmb28uYmFyJywgJ2Zvby5iYXIuYmF6JykgLy8gdHJ1ZVxuICogaXNEZXNjZW5kYW50KCdmb28uYmFyJywgJ2Zvby5iYXInKSAgICAgLy8gZmFsc2VcbiAqIGlzRGVzY2VuZGFudCgnZm9vLmJhcicsICdmb28nKSAgICAgICAgIC8vIGZhbHNlXG4gKiBgYGBcbiAqXG4gKiBAcGFyYW0ge3N0cmluZ30gYmFzZSBQYXRoIHN0cmluZyB0byB0ZXN0IGFnYWluc3QuXG4gKiBAcGFyYW0ge3N0cmluZ30gcGF0aCBQYXRoIHN0cmluZyB0byB0ZXN0LlxuICogQHJldHVybiB7Ym9vbGVhbn0gVHJ1ZSBpZiBgcGF0aGAgaXMgYSBkZXNjZW5kYW50IG9mIGBiYXNlYC5cbiAqL1xuZXhwb3J0IGZ1bmN0aW9uIGlzRGVzY2VuZGFudChiYXNlLCBwYXRoKSB7XG4gIC8vICAgICBwYXRoLnN0YXJ0c1dpdGgoYmFzZSArICcuJyk7XG4gIHJldHVybiBwYXRoLmluZGV4T2YoYmFzZSArICcuJykgPT09IDA7XG59XG5cbi8qKlxuICogUmVwbGFjZXMgYSBwcmV2aW91cyBiYXNlIHBhdGggd2l0aCBhIG5ldyBiYXNlIHBhdGgsIHByZXNlcnZpbmcgdGhlXG4gKiByZW1haW5kZXIgb2YgdGhlIHBhdGguXG4gKlxuICogVXNlciBtdXN0IGVuc3VyZSBgcGF0aGAgaGFzIGEgcHJlZml4IG9mIGBiYXNlYC5cbiAqXG4gKiBFeGFtcGxlOlxuICpcbiAqIGBgYFxuICogdHJhbnNsYXRlKCdmb28uYmFyJywgJ3pvdCcsICdmb28uYmFyLmJheicpIC8vICd6b3QuYmF6J1xuICogYGBgXG4gKlxuICogQHBhcmFtIHtzdHJpbmd9IGJhc2UgQ3VycmVudCBiYXNlIHN0cmluZyB0byByZW1vdmVcbiAqIEBwYXJhbSB7c3RyaW5nfSBuZXdCYXNlIE5ldyBiYXNlIHN0cmluZyB0byByZXBsYWNlIHdpdGhcbiAqIEBwYXJhbSB7c3RyaW5nfSBwYXRoIFBhdGggdG8gdHJhbnNsYXRlXG4gKiBAcmV0dXJuIHtzdHJpbmd9IFRyYW5zbGF0ZWQgc3RyaW5nXG4gKi9cbmV4cG9ydCBmdW5jdGlvbiB0cmFuc2xhdGUoYmFzZSwgbmV3QmFzZSwgcGF0aCkge1xuICByZXR1cm4gbmV3QmFzZSArIHBhdGguc2xpY2UoYmFzZS5sZW5ndGgpO1xufVxuXG4vKipcbiAqIEBwYXJhbSB7c3RyaW5nfSBiYXNlIFBhdGggc3RyaW5nIHRvIHRlc3QgYWdhaW5zdFxuICogQHBhcmFtIHtzdHJpbmd9IHBhdGggUGF0aCBzdHJpbmcgdG8gdGVzdFxuICogQHJldHVybiB7Ym9vbGVhbn0gVHJ1ZSBpZiBgcGF0aGAgaXMgZXF1YWwgdG8gYGJhc2VgXG4gKi9cbmV4cG9ydCBmdW5jdGlvbiBtYXRjaGVzKGJhc2UsIHBhdGgpIHtcbiAgcmV0dXJuIChiYXNlID09PSBwYXRoKSB8fFxuICAgICAgICAgaXNBbmNlc3RvcihiYXNlLCBwYXRoKSB8fFxuICAgICAgICAgaXNEZXNjZW5kYW50KGJhc2UsIHBhdGgpO1xufVxuXG4vKipcbiAqIENvbnZlcnRzIGFycmF5LWJhc2VkIHBhdGhzIHRvIGZsYXR0ZW5lZCBwYXRoLiAgU3RyaW5nLWJhc2VkIHBhdGhzXG4gKiBhcmUgcmV0dXJuZWQgYXMtaXMuXG4gKlxuICogRXhhbXBsZTpcbiAqXG4gKiBgYGBcbiAqIG5vcm1hbGl6ZShbJ2Zvby5iYXInLCAwLCAnYmF6J10pICAvLyAnZm9vLmJhci4wLmJheidcbiAqIG5vcm1hbGl6ZSgnZm9vLmJhci4wLmJheicpICAgICAgICAvLyAnZm9vLmJhci4wLmJheidcbiAqIGBgYFxuICpcbiAqIEBwYXJhbSB7c3RyaW5nIHwgIUFycmF5PHN0cmluZ3xudW1iZXI+fSBwYXRoIElucHV0IHBhdGhcbiAqIEByZXR1cm4ge3N0cmluZ30gRmxhdHRlbmVkIHBhdGhcbiAqL1xuZXhwb3J0IGZ1bmN0aW9uIG5vcm1hbGl6ZShwYXRoKSB7XG4gIGlmIChBcnJheS5pc0FycmF5KHBhdGgpKSB7XG4gICAgbGV0IHBhcnRzID0gW107XG4gICAgZm9yIChsZXQgaT0wOyBpPHBhdGgubGVuZ3RoOyBpKyspIHtcbiAgICAgIGxldCBhcmdzID0gcGF0aFtpXS50b1N0cmluZygpLnNwbGl0KCcuJyk7XG4gICAgICBmb3IgKGxldCBqPTA7IGo8YXJncy5sZW5ndGg7IGorKykge1xuICAgICAgICBwYXJ0cy5wdXNoKGFyZ3Nbal0pO1xuICAgICAgfVxuICAgIH1cbiAgICByZXR1cm4gcGFydHMuam9pbignLicpO1xuICB9IGVsc2Uge1xuICAgIHJldHVybiBwYXRoO1xuICB9XG59XG5cbi8qKlxuICogU3BsaXRzIGEgcGF0aCBpbnRvIGFuIGFycmF5IG9mIHByb3BlcnR5IG5hbWVzLiBBY2NlcHRzIGVpdGhlciBhcnJheXNcbiAqIG9mIHBhdGggcGFydHMgb3Igc3RyaW5ncy5cbiAqXG4gKiBFeGFtcGxlOlxuICpcbiAqIGBgYFxuICogc3BsaXQoWydmb28uYmFyJywgMCwgJ2JheiddKSAgLy8gWydmb28nLCAnYmFyJywgJzAnLCAnYmF6J11cbiAqIHNwbGl0KCdmb28uYmFyLjAuYmF6JykgICAgICAgIC8vIFsnZm9vJywgJ2JhcicsICcwJywgJ2JheiddXG4gKiBgYGBcbiAqXG4gKiBAcGFyYW0ge3N0cmluZyB8ICFBcnJheTxzdHJpbmd8bnVtYmVyPn0gcGF0aCBJbnB1dCBwYXRoXG4gKiBAcmV0dXJuIHshQXJyYXk8c3RyaW5nPn0gQXJyYXkgb2YgcGF0aCBwYXJ0c1xuICogQHN1cHByZXNzIHtjaGVja1R5cGVzfVxuICovXG5leHBvcnQgZnVuY3Rpb24gc3BsaXQocGF0aCkge1xuICBpZiAoQXJyYXkuaXNBcnJheShwYXRoKSkge1xuICAgIHJldHVybiBub3JtYWxpemUocGF0aCkuc3BsaXQoJy4nKTtcbiAgfVxuICByZXR1cm4gcGF0aC50b1N0cmluZygpLnNwbGl0KCcuJyk7XG59XG5cbi8qKlxuICogUmVhZHMgYSB2YWx1ZSBmcm9tIGEgcGF0aC4gIElmIGFueSBzdWItcHJvcGVydHkgaW4gdGhlIHBhdGggaXMgYHVuZGVmaW5lZGAsXG4gKiB0aGlzIG1ldGhvZCByZXR1cm5zIGB1bmRlZmluZWRgICh3aWxsIG5ldmVyIHRocm93LlxuICpcbiAqIEBwYXJhbSB7T2JqZWN0fSByb290IE9iamVjdCBmcm9tIHdoaWNoIHRvIGRlcmVmZXJlbmNlIHBhdGggZnJvbVxuICogQHBhcmFtIHtzdHJpbmcgfCAhQXJyYXk8c3RyaW5nfG51bWJlcj59IHBhdGggUGF0aCB0byByZWFkXG4gKiBAcGFyYW0ge09iamVjdD19IGluZm8gSWYgYW4gb2JqZWN0IGlzIHByb3ZpZGVkIHRvIGBpbmZvYCwgdGhlIG5vcm1hbGl6ZWRcbiAqICAoZmxhdHRlbmVkKSBwYXRoIHdpbGwgYmUgc2V0IHRvIGBpbmZvLnBhdGhgLlxuICogQHJldHVybiB7Kn0gVmFsdWUgYXQgcGF0aCwgb3IgYHVuZGVmaW5lZGAgaWYgdGhlIHBhdGggY291bGQgbm90IGJlXG4gKiAgZnVsbHkgZGVyZWZlcmVuY2VkLlxuICovXG5leHBvcnQgZnVuY3Rpb24gZ2V0KHJvb3QsIHBhdGgsIGluZm8pIHtcbiAgbGV0IHByb3AgPSByb290O1xuICBsZXQgcGFydHMgPSBzcGxpdChwYXRoKTtcbiAgLy8gTG9vcCBvdmVyIHBhdGggcGFydHNbMC4ubi0xXSBhbmQgZGVyZWZlcmVuY2VcbiAgZm9yIChsZXQgaT0wOyBpPHBhcnRzLmxlbmd0aDsgaSsrKSB7XG4gICAgaWYgKCFwcm9wKSB7XG4gICAgICByZXR1cm47XG4gICAgfVxuICAgIGxldCBwYXJ0ID0gcGFydHNbaV07XG4gICAgcHJvcCA9IHByb3BbcGFydF07XG4gIH1cbiAgaWYgKGluZm8pIHtcbiAgICBpbmZvLnBhdGggPSBwYXJ0cy5qb2luKCcuJyk7XG4gIH1cbiAgcmV0dXJuIHByb3A7XG59XG5cbi8qKlxuICogU2V0cyBhIHZhbHVlIHRvIGEgcGF0aC4gIElmIGFueSBzdWItcHJvcGVydHkgaW4gdGhlIHBhdGggaXMgYHVuZGVmaW5lZGAsXG4gKiB0aGlzIG1ldGhvZCB3aWxsIG5vLW9wLlxuICpcbiAqIEBwYXJhbSB7T2JqZWN0fSByb290IE9iamVjdCBmcm9tIHdoaWNoIHRvIGRlcmVmZXJlbmNlIHBhdGggZnJvbVxuICogQHBhcmFtIHtzdHJpbmcgfCAhQXJyYXk8c3RyaW5nfG51bWJlcj59IHBhdGggUGF0aCB0byBzZXRcbiAqIEBwYXJhbSB7Kn0gdmFsdWUgVmFsdWUgdG8gc2V0IHRvIHBhdGhcbiAqIEByZXR1cm4ge3N0cmluZyB8IHVuZGVmaW5lZH0gVGhlIG5vcm1hbGl6ZWQgdmVyc2lvbiBvZiB0aGUgaW5wdXQgcGF0aFxuICovXG5leHBvcnQgZnVuY3Rpb24gc2V0KHJvb3QsIHBhdGgsIHZhbHVlKSB7XG4gIGxldCBwcm9wID0gcm9vdDtcbiAgbGV0IHBhcnRzID0gc3BsaXQocGF0aCk7XG4gIGxldCBsYXN0ID0gcGFydHNbcGFydHMubGVuZ3RoLTFdO1xuICBpZiAocGFydHMubGVuZ3RoID4gMSkge1xuICAgIC8vIExvb3Agb3ZlciBwYXRoIHBhcnRzWzAuLm4tMl0gYW5kIGRlcmVmZXJlbmNlXG4gICAgZm9yIChsZXQgaT0wOyBpPHBhcnRzLmxlbmd0aC0xOyBpKyspIHtcbiAgICAgIGxldCBwYXJ0ID0gcGFydHNbaV07XG4gICAgICBwcm9wID0gcHJvcFtwYXJ0XTtcbiAgICAgIGlmICghcHJvcCkge1xuICAgICAgICByZXR1cm47XG4gICAgICB9XG4gICAgfVxuICAgIC8vIFNldCB2YWx1ZSB0byBvYmplY3QgYXQgZW5kIG9mIHBhdGhcbiAgICBwcm9wW2xhc3RdID0gdmFsdWU7XG4gIH0gZWxzZSB7XG4gICAgLy8gU2ltcGxlIHByb3BlcnR5IHNldFxuICAgIHByb3BbcGF0aF0gPSB2YWx1ZTtcbiAgfVxuICByZXR1cm4gcGFydHMuam9pbignLicpO1xufVxuXG4vKipcbiAqIFJldHVybnMgdHJ1ZSBpZiB0aGUgZ2l2ZW4gc3RyaW5nIGlzIGEgc3RydWN0dXJlZCBkYXRhIHBhdGggKGhhcyBkb3RzKS5cbiAqXG4gKiBUaGlzIGZ1bmN0aW9uIGlzIGRlcHJlY2F0ZWQuICBVc2UgYGlzUGF0aGAgaW5zdGVhZC5cbiAqXG4gKiBFeGFtcGxlOlxuICpcbiAqIGBgYFxuICogaXNEZWVwKCdmb28uYmFyLmJheicpIC8vIHRydWVcbiAqIGlzRGVlcCgnZm9vJykgICAgICAgICAvLyBmYWxzZVxuICogYGBgXG4gKlxuICogQGRlcHJlY2F0ZWRcbiAqIEBwYXJhbSB7c3RyaW5nfSBwYXRoIFBhdGggc3RyaW5nXG4gKiBAcmV0dXJuIHtib29sZWFufSBUcnVlIGlmIHRoZSBzdHJpbmcgY29udGFpbmVkIG9uZSBvciBtb3JlIGRvdHNcbiAqL1xuZXhwb3J0IGNvbnN0IGlzRGVlcCA9IGlzUGF0aDtcbiIsIi8qKlxuQGxpY2Vuc2VcbkNvcHlyaWdodCAoYykgMjAxNyBUaGUgUG9seW1lciBQcm9qZWN0IEF1dGhvcnMuIEFsbCByaWdodHMgcmVzZXJ2ZWQuXG5UaGlzIGNvZGUgbWF5IG9ubHkgYmUgdXNlZCB1bmRlciB0aGUgQlNEIHN0eWxlIGxpY2Vuc2UgZm91bmQgYXQgaHR0cDovL3BvbHltZXIuZ2l0aHViLmlvL0xJQ0VOU0UudHh0XG5UaGUgY29tcGxldGUgc2V0IG9mIGF1dGhvcnMgbWF5IGJlIGZvdW5kIGF0IGh0dHA6Ly9wb2x5bWVyLmdpdGh1Yi5pby9BVVRIT1JTLnR4dFxuVGhlIGNvbXBsZXRlIHNldCBvZiBjb250cmlidXRvcnMgbWF5IGJlIGZvdW5kIGF0IGh0dHA6Ly9wb2x5bWVyLmdpdGh1Yi5pby9DT05UUklCVVRPUlMudHh0XG5Db2RlIGRpc3RyaWJ1dGVkIGJ5IEdvb2dsZSBhcyBwYXJ0IG9mIHRoZSBwb2x5bWVyIHByb2plY3QgaXMgYWxzb1xuc3ViamVjdCB0byBhbiBhZGRpdGlvbmFsIElQIHJpZ2h0cyBncmFudCBmb3VuZCBhdCBodHRwOi8vcG9seW1lci5naXRodWIuaW8vUEFURU5UUy50eHRcbiovXG5pbXBvcnQgJy4vYm9vdC5qcyc7XG5cbi8qKlxuICogQ2xhc3MgcmVwcmVzZW50aW5nIGEgc3RhdGljIHN0cmluZyB2YWx1ZSB3aGljaCBjYW4gYmUgdXNlZCB0byBmaWx0ZXJcbiAqIHN0cmluZ3MgYnkgYXNzZXRpbmcgdGhhdCB0aGV5IGhhdmUgYmVlbiBjcmVhdGVkIHZpYSB0aGlzIGNsYXNzLiBUaGVcbiAqIGB2YWx1ZWAgcHJvcGVydHkgcmV0dXJucyB0aGUgc3RyaW5nIHBhc3NlZCB0byB0aGUgY29uc3RydWN0b3IuXG4gKi9cbmNsYXNzIExpdGVyYWxTdHJpbmcge1xuICBjb25zdHJ1Y3RvcihzdHJpbmcpIHtcbiAgICAvKiogQHR5cGUge3N0cmluZ30gKi9cbiAgICB0aGlzLnZhbHVlID0gc3RyaW5nLnRvU3RyaW5nKCk7XG4gIH1cbiAgLyoqXG4gICAqIEByZXR1cm4ge3N0cmluZ30gTGl0ZXJhbFN0cmluZyBzdHJpbmcgdmFsdWVcbiAgICogQG92ZXJyaWRlXG4gICAqL1xuICB0b1N0cmluZygpIHtcbiAgICByZXR1cm4gdGhpcy52YWx1ZTtcbiAgfVxufVxuXG4vKipcbiAqIEBwYXJhbSB7Kn0gdmFsdWUgT2JqZWN0IHRvIHN0cmluZ2lmeSBpbnRvIEhUTUxcbiAqIEByZXR1cm4ge3N0cmluZ30gSFRNTCBzdHJpbmdpZmllZCBmb3JtIG9mIGBvYmpgXG4gKi9cbmZ1bmN0aW9uIGxpdGVyYWxWYWx1ZSh2YWx1ZSkge1xuICBpZiAodmFsdWUgaW5zdGFuY2VvZiBMaXRlcmFsU3RyaW5nKSB7XG4gICAgcmV0dXJuIC8qKiBAdHlwZSB7IUxpdGVyYWxTdHJpbmd9ICovKHZhbHVlKS52YWx1ZTtcbiAgfSBlbHNlIHtcbiAgICB0aHJvdyBuZXcgRXJyb3IoXG4gICAgICAgIGBub24tbGl0ZXJhbCB2YWx1ZSBwYXNzZWQgdG8gUG9seW1lcidzIGh0bWxMaXRlcmFsIGZ1bmN0aW9uOiAke3ZhbHVlfWBcbiAgICApO1xuICB9XG59XG5cbi8qKlxuICogQHBhcmFtIHsqfSB2YWx1ZSBPYmplY3QgdG8gc3RyaW5naWZ5IGludG8gSFRNTFxuICogQHJldHVybiB7c3RyaW5nfSBIVE1MIHN0cmluZ2lmaWVkIGZvcm0gb2YgYG9iamBcbiAqL1xuZnVuY3Rpb24gaHRtbFZhbHVlKHZhbHVlKSB7XG4gIGlmICh2YWx1ZSBpbnN0YW5jZW9mIEhUTUxUZW1wbGF0ZUVsZW1lbnQpIHtcbiAgICByZXR1cm4gLyoqIEB0eXBlIHshSFRNTFRlbXBsYXRlRWxlbWVudCB9ICovKHZhbHVlKS5pbm5lckhUTUw7XG4gIH0gZWxzZSBpZiAodmFsdWUgaW5zdGFuY2VvZiBMaXRlcmFsU3RyaW5nKSB7XG4gICAgcmV0dXJuIGxpdGVyYWxWYWx1ZSh2YWx1ZSk7XG4gIH0gZWxzZSB7XG4gICAgdGhyb3cgbmV3IEVycm9yKFxuICAgICAgICBgbm9uLXRlbXBsYXRlIHZhbHVlIHBhc3NlZCB0byBQb2x5bWVyJ3MgaHRtbCBmdW5jdGlvbjogJHt2YWx1ZX1gKTtcbiAgfVxufVxuXG4vKipcbiAqIEEgdGVtcGxhdGUgbGl0ZXJhbCB0YWcgdGhhdCBjcmVhdGVzIGFuIEhUTUwgPHRlbXBsYXRlPiBlbGVtZW50IGZyb20gdGhlXG4gKiBjb250ZW50cyBvZiB0aGUgc3RyaW5nLlxuICpcbiAqIFRoaXMgYWxsb3dzIHlvdSB0byB3cml0ZSBhIFBvbHltZXIgVGVtcGxhdGUgaW4gSmF2YVNjcmlwdC5cbiAqXG4gKiBUZW1wbGF0ZXMgY2FuIGJlIGNvbXBvc2VkIGJ5IGludGVycG9sYXRpbmcgYEhUTUxUZW1wbGF0ZUVsZW1lbnRgcyBpblxuICogZXhwcmVzc2lvbnMgaW4gdGhlIEphdmFTY3JpcHQgdGVtcGxhdGUgbGl0ZXJhbC4gVGhlIG5lc3RlZCB0ZW1wbGF0ZSdzXG4gKiBgaW5uZXJIVE1MYCBpcyBpbmNsdWRlZCBpbiB0aGUgY29udGFpbmluZyB0ZW1wbGF0ZS4gIFRoZSBvbmx5IG90aGVyXG4gKiB2YWx1ZXMgYWxsb3dlZCBpbiBleHByZXNzaW9ucyBhcmUgdGhvc2UgcmV0dXJuZWQgZnJvbSBgaHRtbExpdGVyYWxgXG4gKiB3aGljaCBlbnN1cmVzIG9ubHkgbGl0ZXJhbCB2YWx1ZXMgZnJvbSBKUyBzb3VyY2UgZXZlciByZWFjaCB0aGUgSFRNTCwgdG9cbiAqIGd1YXJkIGFnYWluc3QgWFNTIHJpc2tzLlxuICpcbiAqIEFsbCBvdGhlciB2YWx1ZXMgYXJlIGRpc2FsbG93ZWQgaW4gZXhwcmVzc2lvbnMgdG8gaGVscCBwcmV2ZW50IFhTU1xuICogYXR0YWNrczsgaG93ZXZlciwgYGh0bWxMaXRlcmFsYCBjYW4gYmUgdXNlZCB0byBjb21wb3NlIHN0YXRpY1xuICogc3RyaW5nIHZhbHVlcyBpbnRvIHRlbXBsYXRlcy4gVGhpcyBpcyB1c2VmdWwgdG8gY29tcG9zZSBzdHJpbmdzIGludG9cbiAqIHBsYWNlcyB0aGF0IGRvIG5vdCBhY2NlcHQgaHRtbCwgbGlrZSB0aGUgY3NzIHRleHQgb2YgYSBgc3R5bGVgXG4gKiBlbGVtZW50LlxuICpcbiAqIEV4YW1wbGU6XG4gKlxuICogICAgIHN0YXRpYyBnZXQgdGVtcGxhdGUoKSB7XG4gKiAgICAgICByZXR1cm4gaHRtbGBcbiAqICAgICAgICAgPHN0eWxlPjpob3N0eyBjb250ZW50OlwiLi4uXCIgfTwvc3R5bGU+XG4gKiAgICAgICAgIDxkaXYgY2xhc3M9XCJzaGFkb3dlZFwiPiR7dGhpcy5wYXJ0aWFsVGVtcGxhdGV9PC9kaXY+XG4gKiAgICAgICAgICR7c3VwZXIudGVtcGxhdGV9XG4gKiAgICAgICBgO1xuICogICAgIH1cbiAqICAgICBzdGF0aWMgZ2V0IHBhcnRpYWxUZW1wbGF0ZSgpIHsgcmV0dXJuIGh0bWxgPHNwYW4+UGFydGlhbCE8L3NwYW4+YDsgfVxuICpcbiAqIEBwYXJhbSB7IUlUZW1wbGF0ZUFycmF5fSBzdHJpbmdzIENvbnN0YW50IHBhcnRzIG9mIHRhZ2dlZCB0ZW1wbGF0ZSBsaXRlcmFsXG4gKiBAcGFyYW0gey4uLip9IHZhbHVlcyBWYXJpYWJsZSBwYXJ0cyBvZiB0YWdnZWQgdGVtcGxhdGUgbGl0ZXJhbFxuICogQHJldHVybiB7IUhUTUxUZW1wbGF0ZUVsZW1lbnR9IENvbnN0cnVjdGVkIEhUTUxUZW1wbGF0ZUVsZW1lbnRcbiAqL1xuZXhwb3J0IGNvbnN0IGh0bWwgPSBmdW5jdGlvbiBodG1sKHN0cmluZ3MsIC4uLnZhbHVlcykge1xuICBjb25zdCB0ZW1wbGF0ZSA9IC8qKiBAdHlwZSB7IUhUTUxUZW1wbGF0ZUVsZW1lbnR9ICovKGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ3RlbXBsYXRlJykpO1xuICB0ZW1wbGF0ZS5pbm5lckhUTUwgPSB2YWx1ZXMucmVkdWNlKChhY2MsIHYsIGlkeCkgPT5cbiAgICAgIGFjYyArIGh0bWxWYWx1ZSh2KSArIHN0cmluZ3NbaWR4ICsgMV0sIHN0cmluZ3NbMF0pO1xuICByZXR1cm4gdGVtcGxhdGU7XG59O1xuXG4vKipcbiAqIEFuIGh0bWwgbGl0ZXJhbCB0YWcgdGhhdCBjYW4gYmUgdXNlZCB3aXRoIGBodG1sYCB0byBjb21wb3NlLlxuICogYSBsaXRlcmFsIHN0cmluZy5cbiAqXG4gKiBFeGFtcGxlOlxuICpcbiAqICAgICBzdGF0aWMgZ2V0IHRlbXBsYXRlKCkge1xuICogICAgICAgcmV0dXJuIGh0bWxgXG4gKiAgICAgICAgIDxzdHlsZT5cbiAqICAgICAgICAgICA6aG9zdCB7IGRpc3BsYXk6IGJsb2NrOyB9XG4gKiAgICAgICAgICAgJHt0aGlzLnN0eWxlVGVtcGxhdGUoKX1cbiAqICAgICAgICAgPC9zdHlsZT5cbiAqICAgICAgICAgPGRpdiBjbGFzcz1cInNoYWRvd2VkXCI+JHtzdGF0aWNWYWx1ZX08L2Rpdj5cbiAqICAgICAgICAgJHtzdXBlci50ZW1wbGF0ZX1cbiAqICAgICAgIGA7XG4gKiAgICAgfVxuICogICAgIHN0YXRpYyBnZXQgc3R5bGVUZW1wbGF0ZSgpIHtcbiAqICAgICAgICByZXR1cm4gaHRtbExpdGVyYWxgLnNoYWRvd2VkIHsgYmFja2dyb3VuZDogZ3JheTsgfWA7XG4gKiAgICAgfVxuICpcbiAqIEBwYXJhbSB7IUlUZW1wbGF0ZUFycmF5fSBzdHJpbmdzIENvbnN0YW50IHBhcnRzIG9mIHRhZ2dlZCB0ZW1wbGF0ZSBsaXRlcmFsXG4gKiBAcGFyYW0gey4uLip9IHZhbHVlcyBWYXJpYWJsZSBwYXJ0cyBvZiB0YWdnZWQgdGVtcGxhdGUgbGl0ZXJhbFxuICogQHJldHVybiB7IUxpdGVyYWxTdHJpbmd9IENvbnN0cnVjdGVkIGxpdGVyYWwgc3RyaW5nXG4gKi9cbmV4cG9ydCBjb25zdCBodG1sTGl0ZXJhbCA9IGZ1bmN0aW9uKHN0cmluZ3MsIC4uLnZhbHVlcykge1xuICByZXR1cm4gbmV3IExpdGVyYWxTdHJpbmcodmFsdWVzLnJlZHVjZSgoYWNjLCB2LCBpZHgpID0+XG4gICAgICBhY2MgKyBsaXRlcmFsVmFsdWUodikgKyBzdHJpbmdzW2lkeCArIDFdLCBzdHJpbmdzWzBdKSk7XG59O1xuIiwiLyoqXG5AbGljZW5zZVxuQ29weXJpZ2h0IChjKSAyMDE3IFRoZSBQb2x5bWVyIFByb2plY3QgQXV0aG9ycy4gQWxsIHJpZ2h0cyByZXNlcnZlZC5cblRoaXMgY29kZSBtYXkgb25seSBiZSB1c2VkIHVuZGVyIHRoZSBCU0Qgc3R5bGUgbGljZW5zZSBmb3VuZCBhdCBodHRwOi8vcG9seW1lci5naXRodWIuaW8vTElDRU5TRS50eHRcblRoZSBjb21wbGV0ZSBzZXQgb2YgYXV0aG9ycyBtYXkgYmUgZm91bmQgYXQgaHR0cDovL3BvbHltZXIuZ2l0aHViLmlvL0FVVEhPUlMudHh0XG5UaGUgY29tcGxldGUgc2V0IG9mIGNvbnRyaWJ1dG9ycyBtYXkgYmUgZm91bmQgYXQgaHR0cDovL3BvbHltZXIuZ2l0aHViLmlvL0NPTlRSSUJVVE9SUy50eHRcbkNvZGUgZGlzdHJpYnV0ZWQgYnkgR29vZ2xlIGFzIHBhcnQgb2YgdGhlIHBvbHltZXIgcHJvamVjdCBpcyBhbHNvXG5zdWJqZWN0IHRvIGFuIGFkZGl0aW9uYWwgSVAgcmlnaHRzIGdyYW50IGZvdW5kIGF0IGh0dHA6Ly9wb2x5bWVyLmdpdGh1Yi5pby9QQVRFTlRTLnR4dFxuKi9cbmltcG9ydCAnLi9ib290LmpzJztcblxuaW1wb3J0IHsgY2FsY3VsYXRlU3BsaWNlcyB9IGZyb20gJy4vYXJyYXktc3BsaWNlLmpzJztcbmltcG9ydCB7IG1pY3JvVGFzayB9IGZyb20gJy4vYXN5bmMuanMnO1xuaW1wb3J0IHsgd3JhcCB9IGZyb20gJy4vd3JhcC5qcyc7XG5cbi8qKlxuICogUmV0dXJucyB0cnVlIGlmIGBub2RlYCBpcyBhIHNsb3QgZWxlbWVudFxuICogQHBhcmFtIHshTm9kZX0gbm9kZSBOb2RlIHRvIHRlc3QuXG4gKiBAcmV0dXJuIHtib29sZWFufSBSZXR1cm5zIHRydWUgaWYgdGhlIGdpdmVuIGBub2RlYCBpcyBhIHNsb3RcbiAqIEBwcml2YXRlXG4gKi9cbmZ1bmN0aW9uIGlzU2xvdChub2RlKSB7XG4gIHJldHVybiAobm9kZS5sb2NhbE5hbWUgPT09ICdzbG90Jyk7XG59XG5cbi8qKlxuICogQ2xhc3MgdGhhdCBsaXN0ZW5zIGZvciBjaGFuZ2VzIChhZGRpdGlvbnMgb3IgcmVtb3ZhbHMpIHRvXG4gKiBcImZsYXR0ZW5lZCBub2Rlc1wiIG9uIGEgZ2l2ZW4gYG5vZGVgLiBUaGUgbGlzdCBvZiBmbGF0dGVuZWQgbm9kZXMgY29uc2lzdHNcbiAqIG9mIGEgbm9kZSdzIGNoaWxkcmVuIGFuZCwgZm9yIGFueSBjaGlsZHJlbiB0aGF0IGFyZSBgPHNsb3Q+YCBlbGVtZW50cyxcbiAqIHRoZSBleHBhbmRlZCBmbGF0dGVuZWQgbGlzdCBvZiBgYXNzaWduZWROb2Rlc2AuXG4gKiBGb3IgZXhhbXBsZSwgaWYgdGhlIG9ic2VydmVkIG5vZGUgaGFzIGNoaWxkcmVuIGA8YT48L2E+PHNsb3Q+PC9zbG90PjxiPjwvYj5gXG4gKiBhbmQgdGhlIGA8c2xvdD5gIGhhcyBvbmUgYDxkaXY+YCBhc3NpZ25lZCB0byBpdCwgdGhlbiB0aGUgZmxhdHRlbmVkXG4gKiBub2RlcyBsaXN0IGlzIGA8YT48L2E+PGRpdj48L2Rpdj48Yj48L2I+YC4gSWYgdGhlIGA8c2xvdD5gIGhhcyBvdGhlclxuICogYDxzbG90PmAgZWxlbWVudHMgYXNzaWduZWQgdG8gaXQsIHRoZXNlIGFyZSBmbGF0dGVuZWQgYXMgd2VsbC5cbiAqXG4gKiBUaGUgcHJvdmlkZWQgYGNhbGxiYWNrYCBpcyBjYWxsZWQgd2hlbmV2ZXIgYW55IGNoYW5nZSB0byB0aGlzIGxpc3RcbiAqIG9mIGZsYXR0ZW5lZCBub2RlcyBvY2N1cnMsIHdoZXJlIGFuIGFkZGl0aW9uIG9yIHJlbW92YWwgb2YgYSBub2RlIGlzXG4gKiBjb25zaWRlcmVkIGEgY2hhbmdlLiBUaGUgYGNhbGxiYWNrYCBpcyBjYWxsZWQgd2l0aCBvbmUgYXJndW1lbnQsIGFuIG9iamVjdFxuICogY29udGFpbmluZyBhbiBhcnJheSBvZiBhbnkgYGFkZGVkTm9kZXNgIGFuZCBgcmVtb3ZlZE5vZGVzYC5cbiAqXG4gKiBOb3RlOiB0aGUgY2FsbGJhY2sgaXMgY2FsbGVkIGFzeW5jaHJvbm91cyB0byBhbnkgY2hhbmdlc1xuICogYXQgYSBtaWNyb3Rhc2sgY2hlY2twb2ludC4gVGhpcyBpcyBiZWNhdXNlIG9ic2VydmF0aW9uIGlzIHBlcmZvcm1lZCB1c2luZ1xuICogYE11dGF0aW9uT2JzZXJ2ZXJgIGFuZCB0aGUgYDxzbG90PmAgZWxlbWVudCdzIGBzbG90Y2hhbmdlYCBldmVudCB3aGljaFxuICogYXJlIGFzeW5jaHJvbm91cy5cbiAqXG4gKiBBbiBleGFtcGxlOlxuICogYGBganNcbiAqIGNsYXNzIFRlc3RTZWxmT2JzZXJ2ZSBleHRlbmRzIFBvbHltZXJFbGVtZW50IHtcbiAqICAgc3RhdGljIGdldCBpcygpIHsgcmV0dXJuICd0ZXN0LXNlbGYtb2JzZXJ2ZSc7fVxuICogICBjb25uZWN0ZWRDYWxsYmFjaygpIHtcbiAqICAgICBzdXBlci5jb25uZWN0ZWRDYWxsYmFjaygpO1xuICogICAgIHRoaXMuX29ic2VydmVyID0gbmV3IEZsYXR0ZW5lZE5vZGVzT2JzZXJ2ZXIodGhpcywgKGluZm8pID0+IHtcbiAqICAgICAgIHRoaXMuaW5mbyA9IGluZm87XG4gKiAgICAgfSk7XG4gKiAgIH1cbiAqICAgZGlzY29ubmVjdGVkQ2FsbGJhY2soKSB7XG4gKiAgICAgc3VwZXIuZGlzY29ubmVjdGVkQ2FsbGJhY2soKTtcbiAqICAgICB0aGlzLl9vYnNlcnZlci5kaXNjb25uZWN0KCk7XG4gKiAgIH1cbiAqIH1cbiAqIGN1c3RvbUVsZW1lbnRzLmRlZmluZShUZXN0U2VsZk9ic2VydmUuaXMsIFRlc3RTZWxmT2JzZXJ2ZSk7XG4gKiBgYGBcbiAqXG4gKiBAc3VtbWFyeSBDbGFzcyB0aGF0IGxpc3RlbnMgZm9yIGNoYW5nZXMgKGFkZGl0aW9ucyBvciByZW1vdmFscykgdG9cbiAqIFwiZmxhdHRlbmVkIG5vZGVzXCIgb24gYSBnaXZlbiBgbm9kZWAuXG4gKiBAaW1wbGVtZW50cyB7UG9seW1lckRvbUFwaS5PYnNlcnZlSGFuZGxlfVxuICovXG5leHBvcnQgbGV0IEZsYXR0ZW5lZE5vZGVzT2JzZXJ2ZXIgPSBjbGFzcyB7XG5cbiAgLyoqXG4gICAqIFJldHVybnMgdGhlIGxpc3Qgb2YgZmxhdHRlbmVkIG5vZGVzIGZvciB0aGUgZ2l2ZW4gYG5vZGVgLlxuICAgKiBUaGlzIGxpc3QgY29uc2lzdHMgb2YgYSBub2RlJ3MgY2hpbGRyZW4gYW5kLCBmb3IgYW55IGNoaWxkcmVuXG4gICAqIHRoYXQgYXJlIGA8c2xvdD5gIGVsZW1lbnRzLCB0aGUgZXhwYW5kZWQgZmxhdHRlbmVkIGxpc3Qgb2YgYGFzc2lnbmVkTm9kZXNgLlxuICAgKiBGb3IgZXhhbXBsZSwgaWYgdGhlIG9ic2VydmVkIG5vZGUgaGFzIGNoaWxkcmVuIGA8YT48L2E+PHNsb3Q+PC9zbG90PjxiPjwvYj5gXG4gICAqIGFuZCB0aGUgYDxzbG90PmAgaGFzIG9uZSBgPGRpdj5gIGFzc2lnbmVkIHRvIGl0LCB0aGVuIHRoZSBmbGF0dGVuZWRcbiAgICogbm9kZXMgbGlzdCBpcyBgPGE+PC9hPjxkaXY+PC9kaXY+PGI+PC9iPmAuIElmIHRoZSBgPHNsb3Q+YCBoYXMgb3RoZXJcbiAgICogYDxzbG90PmAgZWxlbWVudHMgYXNzaWduZWQgdG8gaXQsIHRoZXNlIGFyZSBmbGF0dGVuZWQgYXMgd2VsbC5cbiAgICpcbiAgICogQHBhcmFtIHshSFRNTEVsZW1lbnR8IUhUTUxTbG90RWxlbWVudH0gbm9kZSBUaGUgbm9kZSBmb3Igd2hpY2ggdG9cbiAgICogICAgICByZXR1cm4gdGhlIGxpc3Qgb2YgZmxhdHRlbmVkIG5vZGVzLlxuICAgKiBAcmV0dXJuIHshQXJyYXk8IU5vZGU+fSBUaGUgbGlzdCBvZiBmbGF0dGVuZWQgbm9kZXMgZm9yIHRoZSBnaXZlbiBgbm9kZWAuXG4gICAqIEBub2NvbGxhcHNlIFNlZSBodHRwczovL2dpdGh1Yi5jb20vZ29vZ2xlL2Nsb3N1cmUtY29tcGlsZXIvaXNzdWVzLzI3NjNcbiAgICovXG4gIC8vIGVzbGludC1kaXNhYmxlLW5leHQtbGluZVxuICBzdGF0aWMgZ2V0RmxhdHRlbmVkTm9kZXMobm9kZSkge1xuICAgIGNvbnN0IHdyYXBwZWQgPSB3cmFwKG5vZGUpO1xuICAgIGlmIChpc1Nsb3Qobm9kZSkpIHtcbiAgICAgIG5vZGUgPSAvKiogQHR5cGUgeyFIVE1MU2xvdEVsZW1lbnR9ICovKG5vZGUpOyAvLyBlc2xpbnQtZGlzYWJsZS1saW5lIG5vLXNlbGYtYXNzaWduXG4gICAgICByZXR1cm4gd3JhcHBlZC5hc3NpZ25lZE5vZGVzKHtmbGF0dGVuOiB0cnVlfSk7XG4gICAgfSBlbHNlIHtcbiAgICAgIHJldHVybiBBcnJheS5mcm9tKHdyYXBwZWQuY2hpbGROb2RlcykubWFwKChub2RlKSA9PiB7XG4gICAgICAgIGlmIChpc1Nsb3Qobm9kZSkpIHtcbiAgICAgICAgICBub2RlID0gLyoqIEB0eXBlIHshSFRNTFNsb3RFbGVtZW50fSAqLyhub2RlKTsgLy8gZXNsaW50LWRpc2FibGUtbGluZSBuby1zZWxmLWFzc2lnblxuICAgICAgICAgIHJldHVybiB3cmFwKG5vZGUpLmFzc2lnbmVkTm9kZXMoe2ZsYXR0ZW46IHRydWV9KTtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICByZXR1cm4gW25vZGVdO1xuICAgICAgICB9XG4gICAgICB9KS5yZWR1Y2UoKGEsIGIpID0+IGEuY29uY2F0KGIpLCBbXSk7XG4gICAgfVxuICB9XG5cbiAgLyoqXG4gICAqIEBwYXJhbSB7IUhUTUxFbGVtZW50fSB0YXJnZXQgTm9kZSBvbiB3aGljaCB0byBsaXN0ZW4gZm9yIGNoYW5nZXMuXG4gICAqIEBwYXJhbSB7P2Z1bmN0aW9uKHRoaXM6IEVsZW1lbnQsIHsgdGFyZ2V0OiAhSFRNTEVsZW1lbnQsIGFkZGVkTm9kZXM6ICFBcnJheTwhRWxlbWVudD4sIHJlbW92ZWROb2RlczogIUFycmF5PCFFbGVtZW50PiB9KTp2b2lkfSBjYWxsYmFjayBGdW5jdGlvbiBjYWxsZWQgd2hlbiB0aGVyZSBhcmUgYWRkaXRpb25zXG4gICAqIG9yIHJlbW92YWxzIGZyb20gdGhlIHRhcmdldCdzIGxpc3Qgb2YgZmxhdHRlbmVkIG5vZGVzLlxuICAgKi9cbiAgLy8gZXNsaW50LWRpc2FibGUtbmV4dC1saW5lXG4gIGNvbnN0cnVjdG9yKHRhcmdldCwgY2FsbGJhY2spIHtcbiAgICAvKipcbiAgICAgKiBAdHlwZSB7TXV0YXRpb25PYnNlcnZlcn1cbiAgICAgKiBAcHJpdmF0ZVxuICAgICAqL1xuICAgIHRoaXMuX3NoYWR5Q2hpbGRyZW5PYnNlcnZlciA9IG51bGw7XG4gICAgLyoqXG4gICAgICogQHR5cGUge011dGF0aW9uT2JzZXJ2ZXJ9XG4gICAgICogQHByaXZhdGVcbiAgICAgKi9cbiAgICB0aGlzLl9uYXRpdmVDaGlsZHJlbk9ic2VydmVyID0gbnVsbDtcbiAgICB0aGlzLl9jb25uZWN0ZWQgPSBmYWxzZTtcbiAgICAvKipcbiAgICAgKiBAdHlwZSB7IUhUTUxFbGVtZW50fVxuICAgICAqIEBwcml2YXRlXG4gICAgICovXG4gICAgdGhpcy5fdGFyZ2V0ID0gdGFyZ2V0O1xuICAgIHRoaXMuY2FsbGJhY2sgPSBjYWxsYmFjaztcbiAgICB0aGlzLl9lZmZlY3RpdmVOb2RlcyA9IFtdO1xuICAgIHRoaXMuX29ic2VydmVyID0gbnVsbDtcbiAgICB0aGlzLl9zY2hlZHVsZWQgPSBmYWxzZTtcbiAgICAvKipcbiAgICAgKiBAdHlwZSB7ZnVuY3Rpb24oKX1cbiAgICAgKiBAcHJpdmF0ZVxuICAgICAqL1xuICAgIHRoaXMuX2JvdW5kU2NoZWR1bGUgPSAoKSA9PiB7XG4gICAgICB0aGlzLl9zY2hlZHVsZSgpO1xuICAgIH07XG4gICAgdGhpcy5jb25uZWN0KCk7XG4gICAgdGhpcy5fc2NoZWR1bGUoKTtcbiAgfVxuXG4gIC8qKlxuICAgKiBBY3RpdmF0ZXMgYW4gb2JzZXJ2ZXIuIFRoaXMgbWV0aG9kIGlzIGF1dG9tYXRpY2FsbHkgY2FsbGVkIHdoZW5cbiAgICogYSBgRmxhdHRlbmVkTm9kZXNPYnNlcnZlcmAgaXMgY3JlYXRlZC4gSXQgc2hvdWxkIG9ubHkgYmUgY2FsbGVkIHRvXG4gICAqIHJlLWFjdGl2YXRlIGFuIG9ic2VydmVyIHRoYXQgaGFzIGJlZW4gZGVhY3RpdmF0ZWQgdmlhIHRoZSBgZGlzY29ubmVjdGAgbWV0aG9kLlxuICAgKlxuICAgKiBAcmV0dXJuIHt2b2lkfVxuICAgKi9cbiAgY29ubmVjdCgpIHtcbiAgICBpZiAoaXNTbG90KHRoaXMuX3RhcmdldCkpIHtcbiAgICAgIHRoaXMuX2xpc3RlblNsb3RzKFt0aGlzLl90YXJnZXRdKTtcbiAgICB9IGVsc2UgaWYgKHdyYXAodGhpcy5fdGFyZ2V0KS5jaGlsZHJlbikge1xuICAgICAgdGhpcy5fbGlzdGVuU2xvdHMoXG4gICAgICAgICAgLyoqIEB0eXBlIHshTm9kZUxpc3Q8IU5vZGU+fSAqLyAod3JhcCh0aGlzLl90YXJnZXQpLmNoaWxkcmVuKSk7XG4gICAgICBpZiAod2luZG93LlNoYWR5RE9NKSB7XG4gICAgICAgIHRoaXMuX3NoYWR5Q2hpbGRyZW5PYnNlcnZlciA9XG4gICAgICAgICAgU2hhZHlET00ub2JzZXJ2ZUNoaWxkcmVuKHRoaXMuX3RhcmdldCwgKG11dGF0aW9ucykgPT4ge1xuICAgICAgICAgICAgdGhpcy5fcHJvY2Vzc011dGF0aW9ucyhtdXRhdGlvbnMpO1xuICAgICAgICAgIH0pO1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgdGhpcy5fbmF0aXZlQ2hpbGRyZW5PYnNlcnZlciA9XG4gICAgICAgICAgbmV3IE11dGF0aW9uT2JzZXJ2ZXIoKG11dGF0aW9ucykgPT4ge1xuICAgICAgICAgICAgdGhpcy5fcHJvY2Vzc011dGF0aW9ucyhtdXRhdGlvbnMpO1xuICAgICAgICAgIH0pO1xuICAgICAgICB0aGlzLl9uYXRpdmVDaGlsZHJlbk9ic2VydmVyLm9ic2VydmUodGhpcy5fdGFyZ2V0LCB7Y2hpbGRMaXN0OiB0cnVlfSk7XG4gICAgICB9XG4gICAgfVxuICAgIHRoaXMuX2Nvbm5lY3RlZCA9IHRydWU7XG4gIH1cblxuICAvKipcbiAgICogRGVhY3RpdmF0ZXMgdGhlIGZsYXR0ZW5lZCBub2RlcyBvYnNlcnZlci4gQWZ0ZXIgY2FsbGluZyB0aGlzIG1ldGhvZFxuICAgKiB0aGUgb2JzZXJ2ZXIgY2FsbGJhY2sgd2lsbCBub3QgYmUgY2FsbGVkIHdoZW4gY2hhbmdlcyB0byBmbGF0dGVuZWQgbm9kZXNcbiAgICogb2NjdXIuIFRoZSBgY29ubmVjdGAgbWV0aG9kIG1heSBiZSBzdWJzZXF1ZW50bHkgY2FsbGVkIHRvIHJlYWN0aXZhdGVcbiAgICogdGhlIG9ic2VydmVyLlxuICAgKlxuICAgKiBAcmV0dXJuIHt2b2lkfVxuICAgKiBAb3ZlcnJpZGVcbiAgICovXG4gIGRpc2Nvbm5lY3QoKSB7XG4gICAgaWYgKGlzU2xvdCh0aGlzLl90YXJnZXQpKSB7XG4gICAgICB0aGlzLl91bmxpc3RlblNsb3RzKFt0aGlzLl90YXJnZXRdKTtcbiAgICB9IGVsc2UgaWYgKHdyYXAodGhpcy5fdGFyZ2V0KS5jaGlsZHJlbikge1xuICAgICAgdGhpcy5fdW5saXN0ZW5TbG90cyhcbiAgICAgICAgICAvKiogQHR5cGUgeyFOb2RlTGlzdDwhTm9kZT59ICovICh3cmFwKHRoaXMuX3RhcmdldCkuY2hpbGRyZW4pKTtcbiAgICAgIGlmICh3aW5kb3cuU2hhZHlET00gJiYgdGhpcy5fc2hhZHlDaGlsZHJlbk9ic2VydmVyKSB7XG4gICAgICAgIFNoYWR5RE9NLnVub2JzZXJ2ZUNoaWxkcmVuKHRoaXMuX3NoYWR5Q2hpbGRyZW5PYnNlcnZlcik7XG4gICAgICAgIHRoaXMuX3NoYWR5Q2hpbGRyZW5PYnNlcnZlciA9IG51bGw7XG4gICAgICB9IGVsc2UgaWYgKHRoaXMuX25hdGl2ZUNoaWxkcmVuT2JzZXJ2ZXIpIHtcbiAgICAgICAgdGhpcy5fbmF0aXZlQ2hpbGRyZW5PYnNlcnZlci5kaXNjb25uZWN0KCk7XG4gICAgICAgIHRoaXMuX25hdGl2ZUNoaWxkcmVuT2JzZXJ2ZXIgPSBudWxsO1xuICAgICAgfVxuICAgIH1cbiAgICB0aGlzLl9jb25uZWN0ZWQgPSBmYWxzZTtcbiAgfVxuXG4gIC8qKlxuICAgKiBAcmV0dXJuIHt2b2lkfVxuICAgKiBAcHJpdmF0ZVxuICAgKi9cbiAgX3NjaGVkdWxlKCkge1xuICAgIGlmICghdGhpcy5fc2NoZWR1bGVkKSB7XG4gICAgICB0aGlzLl9zY2hlZHVsZWQgPSB0cnVlO1xuICAgICAgbWljcm9UYXNrLnJ1bigoKSA9PiB0aGlzLmZsdXNoKCkpO1xuICAgIH1cbiAgfVxuXG4gIC8qKlxuICAgKiBAcGFyYW0ge0FycmF5PE11dGF0aW9uUmVjb3JkPn0gbXV0YXRpb25zIE11dGF0aW9ucyBzaWduYWxlZCBieSB0aGUgbXV0YXRpb24gb2JzZXJ2ZXJcbiAgICogQHJldHVybiB7dm9pZH1cbiAgICogQHByaXZhdGVcbiAgICovXG4gIF9wcm9jZXNzTXV0YXRpb25zKG11dGF0aW9ucykge1xuICAgIHRoaXMuX3Byb2Nlc3NTbG90TXV0YXRpb25zKG11dGF0aW9ucyk7XG4gICAgdGhpcy5mbHVzaCgpO1xuICB9XG5cbiAgLyoqXG4gICAqIEBwYXJhbSB7QXJyYXk8TXV0YXRpb25SZWNvcmQ+fSBtdXRhdGlvbnMgTXV0YXRpb25zIHNpZ25hbGVkIGJ5IHRoZSBtdXRhdGlvbiBvYnNlcnZlclxuICAgKiBAcmV0dXJuIHt2b2lkfVxuICAgKiBAcHJpdmF0ZVxuICAgKi9cbiAgX3Byb2Nlc3NTbG90TXV0YXRpb25zKG11dGF0aW9ucykge1xuICAgIGlmIChtdXRhdGlvbnMpIHtcbiAgICAgIGZvciAobGV0IGk9MDsgaSA8IG11dGF0aW9ucy5sZW5ndGg7IGkrKykge1xuICAgICAgICBsZXQgbXV0YXRpb24gPSBtdXRhdGlvbnNbaV07XG4gICAgICAgIGlmIChtdXRhdGlvbi5hZGRlZE5vZGVzKSB7XG4gICAgICAgICAgdGhpcy5fbGlzdGVuU2xvdHMobXV0YXRpb24uYWRkZWROb2Rlcyk7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKG11dGF0aW9uLnJlbW92ZWROb2Rlcykge1xuICAgICAgICAgIHRoaXMuX3VubGlzdGVuU2xvdHMobXV0YXRpb24ucmVtb3ZlZE5vZGVzKTtcbiAgICAgICAgfVxuICAgICAgfVxuICAgIH1cbiAgfVxuXG4gIC8qKlxuICAgKiBGbHVzaGVzIHRoZSBvYnNlcnZlciBjYXVzaW5nIGFueSBwZW5kaW5nIGNoYW5nZXMgdG8gYmUgaW1tZWRpYXRlbHlcbiAgICogZGVsaXZlcmVkIHRoZSBvYnNlcnZlciBjYWxsYmFjay4gQnkgZGVmYXVsdCB0aGVzZSBjaGFuZ2VzIGFyZSBkZWxpdmVyZWRcbiAgICogYXN5bmNocm9ub3VzbHkgYXQgdGhlIG5leHQgbWljcm90YXNrIGNoZWNrcG9pbnQuXG4gICAqXG4gICAqIEByZXR1cm4ge2Jvb2xlYW59IFJldHVybnMgdHJ1ZSBpZiBhbnkgcGVuZGluZyBjaGFuZ2VzIGNhdXNlZCB0aGUgb2JzZXJ2ZXJcbiAgICogY2FsbGJhY2sgdG8gcnVuLlxuICAgKi9cbiAgZmx1c2goKSB7XG4gICAgaWYgKCF0aGlzLl9jb25uZWN0ZWQpIHtcbiAgICAgIHJldHVybiBmYWxzZTtcbiAgICB9XG4gICAgaWYgKHdpbmRvdy5TaGFkeURPTSkge1xuICAgICAgU2hhZHlET00uZmx1c2goKTtcbiAgICB9XG4gICAgaWYgKHRoaXMuX25hdGl2ZUNoaWxkcmVuT2JzZXJ2ZXIpIHtcbiAgICAgIHRoaXMuX3Byb2Nlc3NTbG90TXV0YXRpb25zKHRoaXMuX25hdGl2ZUNoaWxkcmVuT2JzZXJ2ZXIudGFrZVJlY29yZHMoKSk7XG4gICAgfSBlbHNlIGlmICh0aGlzLl9zaGFkeUNoaWxkcmVuT2JzZXJ2ZXIpIHtcbiAgICAgIHRoaXMuX3Byb2Nlc3NTbG90TXV0YXRpb25zKHRoaXMuX3NoYWR5Q2hpbGRyZW5PYnNlcnZlci50YWtlUmVjb3JkcygpKTtcbiAgICB9XG4gICAgdGhpcy5fc2NoZWR1bGVkID0gZmFsc2U7XG4gICAgbGV0IGluZm8gPSB7XG4gICAgICB0YXJnZXQ6IHRoaXMuX3RhcmdldCxcbiAgICAgIGFkZGVkTm9kZXM6IFtdLFxuICAgICAgcmVtb3ZlZE5vZGVzOiBbXVxuICAgIH07XG4gICAgbGV0IG5ld05vZGVzID0gdGhpcy5jb25zdHJ1Y3Rvci5nZXRGbGF0dGVuZWROb2Rlcyh0aGlzLl90YXJnZXQpO1xuICAgIGxldCBzcGxpY2VzID0gY2FsY3VsYXRlU3BsaWNlcyhuZXdOb2RlcyxcbiAgICAgIHRoaXMuX2VmZmVjdGl2ZU5vZGVzKTtcbiAgICAvLyBwcm9jZXNzIHJlbW92YWxzXG4gICAgZm9yIChsZXQgaT0wLCBzOyAoaTxzcGxpY2VzLmxlbmd0aCkgJiYgKHM9c3BsaWNlc1tpXSk7IGkrKykge1xuICAgICAgZm9yIChsZXQgaj0wLCBuOyAoaiA8IHMucmVtb3ZlZC5sZW5ndGgpICYmIChuPXMucmVtb3ZlZFtqXSk7IGorKykge1xuICAgICAgICBpbmZvLnJlbW92ZWROb2Rlcy5wdXNoKG4pO1xuICAgICAgfVxuICAgIH1cbiAgICAvLyBwcm9jZXNzIGFkZHNcbiAgICBmb3IgKGxldCBpPTAsIHM7IChpPHNwbGljZXMubGVuZ3RoKSAmJiAocz1zcGxpY2VzW2ldKTsgaSsrKSB7XG4gICAgICBmb3IgKGxldCBqPXMuaW5kZXg7IGogPCBzLmluZGV4ICsgcy5hZGRlZENvdW50OyBqKyspIHtcbiAgICAgICAgaW5mby5hZGRlZE5vZGVzLnB1c2gobmV3Tm9kZXNbal0pO1xuICAgICAgfVxuICAgIH1cbiAgICAvLyB1cGRhdGUgY2FjaGVcbiAgICB0aGlzLl9lZmZlY3RpdmVOb2RlcyA9IG5ld05vZGVzO1xuICAgIGxldCBkaWRGbHVzaCA9IGZhbHNlO1xuICAgIGlmIChpbmZvLmFkZGVkTm9kZXMubGVuZ3RoIHx8IGluZm8ucmVtb3ZlZE5vZGVzLmxlbmd0aCkge1xuICAgICAgZGlkRmx1c2ggPSB0cnVlO1xuICAgICAgdGhpcy5jYWxsYmFjay5jYWxsKHRoaXMuX3RhcmdldCwgaW5mbyk7XG4gICAgfVxuICAgIHJldHVybiBkaWRGbHVzaDtcbiAgfVxuXG4gIC8qKlxuICAgKiBAcGFyYW0geyFBcnJheTwhTm9kZT58IU5vZGVMaXN0PCFOb2RlPn0gbm9kZUxpc3QgTm9kZXMgdGhhdCBjb3VsZCBjaGFuZ2VcbiAgICogQHJldHVybiB7dm9pZH1cbiAgICogQHByaXZhdGVcbiAgICovXG4gIF9saXN0ZW5TbG90cyhub2RlTGlzdCkge1xuICAgIGZvciAobGV0IGk9MDsgaSA8IG5vZGVMaXN0Lmxlbmd0aDsgaSsrKSB7XG4gICAgICBsZXQgbiA9IG5vZGVMaXN0W2ldO1xuICAgICAgaWYgKGlzU2xvdChuKSkge1xuICAgICAgICBuLmFkZEV2ZW50TGlzdGVuZXIoJ3Nsb3RjaGFuZ2UnLCB0aGlzLl9ib3VuZFNjaGVkdWxlKTtcbiAgICAgIH1cbiAgICB9XG4gIH1cblxuICAvKipcbiAgICogQHBhcmFtIHshQXJyYXk8IU5vZGU+fCFOb2RlTGlzdDwhTm9kZT59IG5vZGVMaXN0IE5vZGVzIHRoYXQgY291bGQgY2hhbmdlXG4gICAqIEByZXR1cm4ge3ZvaWR9XG4gICAqIEBwcml2YXRlXG4gICAqL1xuICBfdW5saXN0ZW5TbG90cyhub2RlTGlzdCkge1xuICAgIGZvciAobGV0IGk9MDsgaSA8IG5vZGVMaXN0Lmxlbmd0aDsgaSsrKSB7XG4gICAgICBsZXQgbiA9IG5vZGVMaXN0W2ldO1xuICAgICAgaWYgKGlzU2xvdChuKSkge1xuICAgICAgICBuLnJlbW92ZUV2ZW50TGlzdGVuZXIoJ3Nsb3RjaGFuZ2UnLCB0aGlzLl9ib3VuZFNjaGVkdWxlKTtcbiAgICAgIH1cbiAgICB9XG4gIH1cblxufTsiLCIvKipcbkBsaWNlbnNlXG5Db3B5cmlnaHQgKGMpIDIwMTcgVGhlIFBvbHltZXIgUHJvamVjdCBBdXRob3JzLiBBbGwgcmlnaHRzIHJlc2VydmVkLlxuVGhpcyBjb2RlIG1heSBvbmx5IGJlIHVzZWQgdW5kZXIgdGhlIEJTRCBzdHlsZSBsaWNlbnNlIGZvdW5kIGF0IGh0dHA6Ly9wb2x5bWVyLmdpdGh1Yi5pby9MSUNFTlNFLnR4dFxuVGhlIGNvbXBsZXRlIHNldCBvZiBhdXRob3JzIG1heSBiZSBmb3VuZCBhdCBodHRwOi8vcG9seW1lci5naXRodWIuaW8vQVVUSE9SUy50eHRcblRoZSBjb21wbGV0ZSBzZXQgb2YgY29udHJpYnV0b3JzIG1heSBiZSBmb3VuZCBhdCBodHRwOi8vcG9seW1lci5naXRodWIuaW8vQ09OVFJJQlVUT1JTLnR4dFxuQ29kZSBkaXN0cmlidXRlZCBieSBHb29nbGUgYXMgcGFydCBvZiB0aGUgcG9seW1lciBwcm9qZWN0IGlzIGFsc29cbnN1YmplY3QgdG8gYW4gYWRkaXRpb25hbCBJUCByaWdodHMgZ3JhbnQgZm91bmQgYXQgaHR0cDovL3BvbHltZXIuZ2l0aHViLmlvL1BBVEVOVFMudHh0XG4qL1xuaW1wb3J0ICcuLi91dGlscy9ib290LmpzJztcbmltcG9ydCB7IHdyYXAgfSBmcm9tICcuLi91dGlscy93cmFwLmpzJztcbmltcG9ydCAnLi4vdXRpbHMvc2V0dGluZ3MuanMnO1xuaW1wb3J0IHsgRmxhdHRlbmVkTm9kZXNPYnNlcnZlciB9IGZyb20gJy4uL3V0aWxzL2ZsYXR0ZW5lZC1ub2Rlcy1vYnNlcnZlci5qcyc7XG5leHBvcnQgeyBmbHVzaCwgZW5xdWV1ZURlYm91bmNlciBhcyBhZGREZWJvdW5jZXIgfSBmcm9tICcuLi91dGlscy9mbHVzaC5qcyc7XG4vKiBlc2xpbnQtZGlzYWJsZSBuby11bnVzZWQtdmFycyAqL1xuaW1wb3J0IHsgRGVib3VuY2VyIH0gZnJvbSAnLi4vdXRpbHMvZGVib3VuY2UuanMnOyAgLy8gdXNlZCBpbiB0eXBlIGFubm90YXRpb25zXG4vKiBlc2xpbnQtZW5hYmxlIG5vLXVudXNlZC12YXJzICovXG5cbmNvbnN0IHAgPSBFbGVtZW50LnByb3RvdHlwZTtcbi8qKlxuICogQGNvbnN0IHtmdW5jdGlvbih0aGlzOk5vZGUsIHN0cmluZyk6IGJvb2xlYW59XG4gKi9cbmNvbnN0IG5vcm1hbGl6ZWRNYXRjaGVzU2VsZWN0b3IgPSBwLm1hdGNoZXMgfHwgcC5tYXRjaGVzU2VsZWN0b3IgfHxcbiAgcC5tb3pNYXRjaGVzU2VsZWN0b3IgfHwgcC5tc01hdGNoZXNTZWxlY3RvciB8fFxuICBwLm9NYXRjaGVzU2VsZWN0b3IgfHwgcC53ZWJraXRNYXRjaGVzU2VsZWN0b3I7XG5cbi8qKlxuICogQ3Jvc3MtcGxhdGZvcm0gYGVsZW1lbnQubWF0Y2hlc2Agc2hpbS5cbiAqXG4gKiBAZnVuY3Rpb24gbWF0Y2hlc1NlbGVjdG9yXG4gKiBAcGFyYW0geyFOb2RlfSBub2RlIE5vZGUgdG8gY2hlY2sgc2VsZWN0b3IgYWdhaW5zdFxuICogQHBhcmFtIHtzdHJpbmd9IHNlbGVjdG9yIFNlbGVjdG9yIHRvIG1hdGNoXG4gKiBAcmV0dXJuIHtib29sZWFufSBUcnVlIGlmIG5vZGUgbWF0Y2hlZCBzZWxlY3RvclxuICovXG5leHBvcnQgY29uc3QgbWF0Y2hlc1NlbGVjdG9yID0gZnVuY3Rpb24obm9kZSwgc2VsZWN0b3IpIHtcbiAgcmV0dXJuIG5vcm1hbGl6ZWRNYXRjaGVzU2VsZWN0b3IuY2FsbChub2RlLCBzZWxlY3Rvcik7XG59O1xuXG4vKipcbiAqIE5vZGUgQVBJIHdyYXBwZXIgY2xhc3MgcmV0dXJuZWQgZnJvbSBgUG9seW1lci5kb20uKHRhcmdldClgIHdoZW5cbiAqIGB0YXJnZXRgIGlzIGEgYE5vZGVgLlxuICogQGltcGxlbWVudHMge1BvbHltZXJEb21BcGl9XG4gKiBAdW5yZXN0cmljdGVkXG4gKi9cbmNsYXNzIERvbUFwaU5hdGl2ZSB7XG5cbiAgLyoqXG4gICAqIEBwYXJhbSB7Tm9kZX0gbm9kZSBOb2RlIGZvciB3aGljaCB0byBjcmVhdGUgYSBQb2x5bWVyLmRvbSBoZWxwZXIgb2JqZWN0LlxuICAgKi9cbiAgY29uc3RydWN0b3Iobm9kZSkge1xuICAgIHRoaXMubm9kZSA9IG5vZGU7XG4gIH1cblxuICAvKipcbiAgICogUmV0dXJucyBhbiBpbnN0YW5jZSBvZiBgRmxhdHRlbmVkTm9kZXNPYnNlcnZlcmAgdGhhdFxuICAgKiBsaXN0ZW5zIGZvciBub2RlIGNoYW5nZXMgb24gdGhpcyBlbGVtZW50LlxuICAgKlxuICAgKiBAcGFyYW0ge2Z1bmN0aW9uKHRoaXM6SFRNTEVsZW1lbnQsIHsgdGFyZ2V0OiAhSFRNTEVsZW1lbnQsIGFkZGVkTm9kZXM6ICFBcnJheTwhRWxlbWVudD4sIHJlbW92ZWROb2RlczogIUFycmF5PCFFbGVtZW50PiB9KTp2b2lkfSBjYWxsYmFjayBDYWxsZWQgd2hlbiBkaXJlY3Qgb3IgZGlzdHJpYnV0ZWQgY2hpbGRyZW5cbiAgICogICBvZiB0aGlzIGVsZW1lbnQgY2hhbmdlc1xuICAgKiBAcmV0dXJuIHshUG9seW1lckRvbUFwaS5PYnNlcnZlSGFuZGxlfSBPYnNlcnZlciBpbnN0YW5jZVxuICAgKiBAb3ZlcnJpZGVcbiAgICovXG4gIG9ic2VydmVOb2RlcyhjYWxsYmFjaykge1xuICAgIHJldHVybiBuZXcgRmxhdHRlbmVkTm9kZXNPYnNlcnZlcihcbiAgICAgICAgLyoqIEB0eXBlIHshSFRNTEVsZW1lbnR9ICovKHRoaXMubm9kZSksIGNhbGxiYWNrKTtcbiAgfVxuXG4gIC8qKlxuICAgKiBEaXNjb25uZWN0cyBhbiBvYnNlcnZlciBwcmV2aW91c2x5IGNyZWF0ZWQgdmlhIGBvYnNlcnZlTm9kZXNgXG4gICAqXG4gICAqIEBwYXJhbSB7IVBvbHltZXJEb21BcGkuT2JzZXJ2ZUhhbmRsZX0gb2JzZXJ2ZXJIYW5kbGUgT2JzZXJ2ZXIgaW5zdGFuY2VcbiAgICogICB0byBkaXNjb25uZWN0LlxuICAgKiBAcmV0dXJuIHt2b2lkfVxuICAgKiBAb3ZlcnJpZGVcbiAgICovXG4gIHVub2JzZXJ2ZU5vZGVzKG9ic2VydmVySGFuZGxlKSB7XG4gICAgb2JzZXJ2ZXJIYW5kbGUuZGlzY29ubmVjdCgpO1xuICB9XG5cbiAgLyoqXG4gICAqIFByb3ZpZGVkIGFzIGEgYmFja3dhcmRzLWNvbXBhdGlibGUgQVBJIG9ubHkuICBUaGlzIG1ldGhvZCBkb2VzIG5vdGhpbmcuXG4gICAqIEByZXR1cm4ge3ZvaWR9XG4gICAqL1xuICBub3RpZnlPYnNlcnZlcigpIHt9XG5cbiAgLyoqXG4gICAqIFJldHVybnMgdHJ1ZSBpZiB0aGUgcHJvdmlkZWQgbm9kZSBpcyBjb250YWluZWQgd2l0aCB0aGlzIGVsZW1lbnQnc1xuICAgKiBsaWdodC1ET00gY2hpbGRyZW4gb3Igc2hhZG93IHJvb3QsIGluY2x1ZGluZyBhbnkgbmVzdGVkIHNoYWRvdyByb290c1xuICAgKiBvZiBjaGlsZHJlbiB0aGVyZWluLlxuICAgKlxuICAgKiBAcGFyYW0ge05vZGV9IG5vZGUgTm9kZSB0byB0ZXN0XG4gICAqIEByZXR1cm4ge2Jvb2xlYW59IFJldHVybnMgdHJ1ZSBpZiB0aGUgZ2l2ZW4gYG5vZGVgIGlzIGNvbnRhaW5lZCB3aXRoaW5cbiAgICogICB0aGlzIGVsZW1lbnQncyBsaWdodCBvciBzaGFkb3cgRE9NLlxuICAgKiBAb3ZlcnJpZGVcbiAgICovXG4gIGRlZXBDb250YWlucyhub2RlKSB7XG4gICAgaWYgKHdyYXAodGhpcy5ub2RlKS5jb250YWlucyhub2RlKSkge1xuICAgICAgcmV0dXJuIHRydWU7XG4gICAgfVxuICAgIGxldCBuID0gbm9kZTtcbiAgICBsZXQgZG9jID0gbm9kZS5vd25lckRvY3VtZW50O1xuICAgIC8vIHdhbGsgZnJvbSBub2RlIHRvIGB0aGlzYCBvciBgZG9jdW1lbnRgXG4gICAgd2hpbGUgKG4gJiYgbiAhPT0gZG9jICYmIG4gIT09IHRoaXMubm9kZSkge1xuICAgICAgLy8gdXNlIGxvZ2ljYWwgcGFyZW50bm9kZSwgb3IgbmF0aXZlIFNoYWRvd1Jvb3QgaG9zdFxuICAgICAgbiA9IHdyYXAobikucGFyZW50Tm9kZSB8fCB3cmFwKG4pLmhvc3Q7XG4gICAgfVxuICAgIHJldHVybiBuID09PSB0aGlzLm5vZGU7XG4gIH1cblxuICAvKipcbiAgICogUmV0dXJucyB0aGUgcm9vdCBub2RlIG9mIHRoaXMgbm9kZS4gIEVxdWl2YWxlbnQgdG8gYGdldFJvb3ROb2RlKClgLlxuICAgKlxuICAgKiBAcmV0dXJuIHtOb2RlfSBUb3AgbW9zdCBlbGVtZW50IGluIHRoZSBkb20gdHJlZSBpbiB3aGljaCB0aGUgbm9kZVxuICAgKiBleGlzdHMuIElmIHRoZSBub2RlIGlzIGNvbm5lY3RlZCB0byBhIGRvY3VtZW50IHRoaXMgaXMgZWl0aGVyIGFcbiAgICogc2hhZG93Um9vdCBvciB0aGUgZG9jdW1lbnQ7IG90aGVyd2lzZSwgaXQgbWF5IGJlIHRoZSBub2RlXG4gICAqIGl0c2VsZiBvciBhIG5vZGUgb3IgZG9jdW1lbnQgZnJhZ21lbnQgY29udGFpbmluZyBpdC5cbiAgICogQG92ZXJyaWRlXG4gICAqL1xuICBnZXRPd25lclJvb3QoKSB7XG4gICAgcmV0dXJuIHdyYXAodGhpcy5ub2RlKS5nZXRSb290Tm9kZSgpO1xuICB9XG5cbiAgLyoqXG4gICAqIEZvciBzbG90IGVsZW1lbnRzLCByZXR1cm5zIHRoZSBub2RlcyBhc3NpZ25lZCB0byB0aGUgc2xvdDsgb3RoZXJ3aXNlXG4gICAqIGFuIGVtcHR5IGFycmF5LiBJdCBpcyBlcXVpdmFsZW50IHRvIGA8c2xvdD4uYWRkaWduZWROb2Rlcyh7ZmxhdHRlbjp0cnVlfSlgLlxuICAgKlxuICAgKiBAcmV0dXJuIHshQXJyYXk8IU5vZGU+fSBBcnJheSBvZiBhc3NpZ25lZCBub2Rlc1xuICAgKiBAb3ZlcnJpZGVcbiAgICovXG4gIGdldERpc3RyaWJ1dGVkTm9kZXMoKSB7XG4gICAgcmV0dXJuICh0aGlzLm5vZGUubG9jYWxOYW1lID09PSAnc2xvdCcpID9cbiAgICAgIHdyYXAodGhpcy5ub2RlKS5hc3NpZ25lZE5vZGVzKHtmbGF0dGVuOiB0cnVlfSkgOlxuICAgICAgW107XG4gIH1cblxuICAvKipcbiAgICogUmV0dXJucyBhbiBhcnJheSBvZiBhbGwgc2xvdHMgdGhpcyBlbGVtZW50IHdhcyBkaXN0cmlidXRlZCB0by5cbiAgICpcbiAgICogQHJldHVybiB7IUFycmF5PCFIVE1MU2xvdEVsZW1lbnQ+fSBEZXNjcmlwdGlvblxuICAgKiBAb3ZlcnJpZGVcbiAgICovXG4gIGdldERlc3RpbmF0aW9uSW5zZXJ0aW9uUG9pbnRzKCkge1xuICAgIGxldCBpcCQgPSBbXTtcbiAgICBsZXQgbiA9IHdyYXAodGhpcy5ub2RlKS5hc3NpZ25lZFNsb3Q7XG4gICAgd2hpbGUgKG4pIHtcbiAgICAgIGlwJC5wdXNoKG4pO1xuICAgICAgbiA9IHdyYXAobikuYXNzaWduZWRTbG90O1xuICAgIH1cbiAgICByZXR1cm4gaXAkO1xuICB9XG5cbiAgLyoqXG4gICAqIENhbGxzIGBpbXBvcnROb2RlYCBvbiB0aGUgYG93bmVyRG9jdW1lbnRgIGZvciB0aGlzIG5vZGUuXG4gICAqXG4gICAqIEBwYXJhbSB7IU5vZGV9IG5vZGUgTm9kZSB0byBpbXBvcnRcbiAgICogQHBhcmFtIHtib29sZWFufSBkZWVwIFRydWUgaWYgdGhlIG5vZGUgc2hvdWxkIGJlIGNsb25lZCBkZWVwbHkgZHVyaW5nXG4gICAqICAgaW1wb3J0XG4gICAqIEByZXR1cm4ge05vZGV9IENsb25lIG9mIGdpdmVuIG5vZGUgaW1wb3J0ZWQgdG8gdGhpcyBvd25lciBkb2N1bWVudFxuICAgKi9cbiAgaW1wb3J0Tm9kZShub2RlLCBkZWVwKSB7XG4gICAgbGV0IGRvYyA9IHRoaXMubm9kZSBpbnN0YW5jZW9mIERvY3VtZW50ID8gdGhpcy5ub2RlIDpcbiAgICAgIHRoaXMubm9kZS5vd25lckRvY3VtZW50O1xuICAgIHJldHVybiB3cmFwKGRvYykuaW1wb3J0Tm9kZShub2RlLCBkZWVwKTtcbiAgfVxuXG4gIC8qKlxuICAgKiBAcmV0dXJuIHshQXJyYXk8IU5vZGU+fSBSZXR1cm5zIGEgZmxhdHRlbmVkIGxpc3Qgb2YgYWxsIGNoaWxkIG5vZGVzIGFuZFxuICAgKiBub2RlcyBhc3NpZ25lZCB0byBjaGlsZCBzbG90cy5cbiAgICogQG92ZXJyaWRlXG4gICAqL1xuICBnZXRFZmZlY3RpdmVDaGlsZE5vZGVzKCkge1xuICAgIHJldHVybiBGbGF0dGVuZWROb2Rlc09ic2VydmVyLmdldEZsYXR0ZW5lZE5vZGVzKFxuICAgICAgICAvKiogQHR5cGUgeyFIVE1MRWxlbWVudH0gKi8gKHRoaXMubm9kZSkpO1xuICB9XG5cbiAgLyoqXG4gICAqIFJldHVybnMgYSBmaWx0ZXJlZCBsaXN0IG9mIGZsYXR0ZW5lZCBjaGlsZCBlbGVtZW50cyBmb3IgdGhpcyBlbGVtZW50IGJhc2VkXG4gICAqIG9uIHRoZSBnaXZlbiBzZWxlY3Rvci5cbiAgICpcbiAgICogQHBhcmFtIHtzdHJpbmd9IHNlbGVjdG9yIFNlbGVjdG9yIHRvIGZpbHRlciBub2RlcyBhZ2FpbnN0XG4gICAqIEByZXR1cm4geyFBcnJheTwhSFRNTEVsZW1lbnQ+fSBMaXN0IG9mIGZsYXR0ZW5lZCBjaGlsZCBlbGVtZW50c1xuICAgKiBAb3ZlcnJpZGVcbiAgICovXG4gIHF1ZXJ5RGlzdHJpYnV0ZWRFbGVtZW50cyhzZWxlY3Rvcikge1xuICAgIGxldCBjJCA9IHRoaXMuZ2V0RWZmZWN0aXZlQ2hpbGROb2RlcygpO1xuICAgIGxldCBsaXN0ID0gW107XG4gICAgZm9yIChsZXQgaT0wLCBsPWMkLmxlbmd0aCwgYzsgKGk8bCkgJiYgKGM9YyRbaV0pOyBpKyspIHtcbiAgICAgIGlmICgoYy5ub2RlVHlwZSA9PT0gTm9kZS5FTEVNRU5UX05PREUpICYmXG4gICAgICAgICAgbWF0Y2hlc1NlbGVjdG9yKGMsIHNlbGVjdG9yKSkge1xuICAgICAgICBsaXN0LnB1c2goYyk7XG4gICAgICB9XG4gICAgfVxuICAgIHJldHVybiBsaXN0O1xuICB9XG5cbiAgLyoqXG4gICAqIEZvciBzaGFkb3cgcm9vdHMsIHJldHVybnMgdGhlIGN1cnJlbnRseSBmb2N1c2VkIGVsZW1lbnQgd2l0aGluIHRoaXNcbiAgICogc2hhZG93IHJvb3QuXG4gICAqXG4gICAqIHJldHVybiB7Tm9kZXx1bmRlZmluZWR9IEN1cnJlbnRseSBmb2N1c2VkIGVsZW1lbnRcbiAgICogQG92ZXJyaWRlXG4gICAqL1xuICBnZXQgYWN0aXZlRWxlbWVudCgpIHtcbiAgICBsZXQgbm9kZSA9IHRoaXMubm9kZTtcbiAgICByZXR1cm4gbm9kZS5fYWN0aXZlRWxlbWVudCAhPT0gdW5kZWZpbmVkID8gbm9kZS5fYWN0aXZlRWxlbWVudCA6IG5vZGUuYWN0aXZlRWxlbWVudDtcbiAgfVxufVxuXG5mdW5jdGlvbiBmb3J3YXJkTWV0aG9kcyhwcm90bywgbWV0aG9kcykge1xuICBmb3IgKGxldCBpPTA7IGkgPCBtZXRob2RzLmxlbmd0aDsgaSsrKSB7XG4gICAgbGV0IG1ldGhvZCA9IG1ldGhvZHNbaV07XG4gICAgLyogZXNsaW50LWRpc2FibGUgdmFsaWQtanNkb2MgKi9cbiAgICBwcm90b1ttZXRob2RdID0gLyoqIEB0aGlzIHtEb21BcGlOYXRpdmV9ICovIGZ1bmN0aW9uKCkge1xuICAgICAgcmV0dXJuIHRoaXMubm9kZVttZXRob2RdLmFwcGx5KHRoaXMubm9kZSwgYXJndW1lbnRzKTtcbiAgICB9O1xuICAgIC8qIGVzbGludC1lbmFibGUgKi9cbiAgfVxufVxuXG5mdW5jdGlvbiBmb3J3YXJkUmVhZE9ubHlQcm9wZXJ0aWVzKHByb3RvLCBwcm9wZXJ0aWVzKSB7XG4gIGZvciAobGV0IGk9MDsgaSA8IHByb3BlcnRpZXMubGVuZ3RoOyBpKyspIHtcbiAgICBsZXQgbmFtZSA9IHByb3BlcnRpZXNbaV07XG4gICAgT2JqZWN0LmRlZmluZVByb3BlcnR5KHByb3RvLCBuYW1lLCB7XG4gICAgICBnZXQ6IGZ1bmN0aW9uKCkge1xuICAgICAgICBjb25zdCBkb21BcGkgPSAvKiogQHR5cGUge0RvbUFwaU5hdGl2ZX0gKi8odGhpcyk7XG4gICAgICAgIHJldHVybiBkb21BcGkubm9kZVtuYW1lXTtcbiAgICAgIH0sXG4gICAgICBjb25maWd1cmFibGU6IHRydWVcbiAgICB9KTtcbiAgfVxufVxuXG5mdW5jdGlvbiBmb3J3YXJkUHJvcGVydGllcyhwcm90bywgcHJvcGVydGllcykge1xuICBmb3IgKGxldCBpPTA7IGkgPCBwcm9wZXJ0aWVzLmxlbmd0aDsgaSsrKSB7XG4gICAgbGV0IG5hbWUgPSBwcm9wZXJ0aWVzW2ldO1xuICAgIE9iamVjdC5kZWZpbmVQcm9wZXJ0eShwcm90bywgbmFtZSwge1xuICAgICAgLyoqXG4gICAgICAgKiBAdGhpcyB7RG9tQXBpTmF0aXZlfVxuICAgICAgICogQHJldHVybiB7Kn0gLlxuICAgICAgICovXG4gICAgICBnZXQ6IGZ1bmN0aW9uKCkge1xuICAgICAgICByZXR1cm4gdGhpcy5ub2RlW25hbWVdO1xuICAgICAgfSxcbiAgICAgIC8qKlxuICAgICAgICogQHRoaXMge0RvbUFwaU5hdGl2ZX1cbiAgICAgICAqIEBwYXJhbSB7Kn0gdmFsdWUgLlxuICAgICAgICovXG4gICAgICBzZXQ6IGZ1bmN0aW9uKHZhbHVlKSB7XG4gICAgICAgIHRoaXMubm9kZVtuYW1lXSA9IHZhbHVlO1xuICAgICAgfSxcbiAgICAgIGNvbmZpZ3VyYWJsZTogdHJ1ZVxuICAgIH0pO1xuICB9XG59XG5cblxuLyoqXG4gKiBFdmVudCBBUEkgd3JhcHBlciBjbGFzcyByZXR1cm5lZCBmcm9tIGBkb20uKHRhcmdldClgIHdoZW5cbiAqIGB0YXJnZXRgIGlzIGFuIGBFdmVudGAuXG4gKi9cbmV4cG9ydCBjbGFzcyBFdmVudEFwaSB7XG4gIGNvbnN0cnVjdG9yKGV2ZW50KSB7XG4gICAgdGhpcy5ldmVudCA9IGV2ZW50O1xuICB9XG5cbiAgLyoqXG4gICAqIFJldHVybnMgdGhlIGZpcnN0IG5vZGUgb24gdGhlIGBjb21wb3NlZFBhdGhgIG9mIHRoaXMgZXZlbnQuXG4gICAqXG4gICAqIEByZXR1cm4geyFFdmVudFRhcmdldH0gVGhlIG5vZGUgdGhpcyBldmVudCB3YXMgZGlzcGF0Y2hlZCB0b1xuICAgKi9cbiAgZ2V0IHJvb3RUYXJnZXQoKSB7XG4gICAgcmV0dXJuIHRoaXMucGF0aFswXTtcbiAgfVxuXG4gIC8qKlxuICAgKiBSZXR1cm5zIHRoZSBsb2NhbCAocmUtdGFyZ2V0ZWQpIHRhcmdldCBmb3IgdGhpcyBldmVudC5cbiAgICpcbiAgICogQHJldHVybiB7IUV2ZW50VGFyZ2V0fSBUaGUgbG9jYWwgKHJlLXRhcmdldGVkKSB0YXJnZXQgZm9yIHRoaXMgZXZlbnQuXG4gICAqL1xuICBnZXQgbG9jYWxUYXJnZXQoKSB7XG4gICAgcmV0dXJuIHRoaXMuZXZlbnQudGFyZ2V0O1xuICB9XG5cbiAgLyoqXG4gICAqIFJldHVybnMgdGhlIGBjb21wb3NlZFBhdGhgIGZvciB0aGlzIGV2ZW50LlxuICAgKiBAcmV0dXJuIHshQXJyYXk8IUV2ZW50VGFyZ2V0Pn0gVGhlIG5vZGVzIHRoaXMgZXZlbnQgcHJvcGFnYXRlZCB0aHJvdWdoXG4gICAqL1xuICBnZXQgcGF0aCgpIHtcbiAgICByZXR1cm4gdGhpcy5ldmVudC5jb21wb3NlZFBhdGgoKTtcbiAgfVxufVxuXG4vKipcbiAqIEBmdW5jdGlvblxuICogQHBhcmFtIHtib29sZWFuPX0gZGVlcFxuICogQHJldHVybiB7IU5vZGV9XG4gKi9cbkRvbUFwaU5hdGl2ZS5wcm90b3R5cGUuY2xvbmVOb2RlO1xuLyoqXG4gKiBAZnVuY3Rpb25cbiAqIEBwYXJhbSB7IU5vZGV9IG5vZGVcbiAqIEByZXR1cm4geyFOb2RlfVxuICovXG5Eb21BcGlOYXRpdmUucHJvdG90eXBlLmFwcGVuZENoaWxkO1xuLyoqXG4gKiBAZnVuY3Rpb25cbiAqIEBwYXJhbSB7IU5vZGV9IG5ld0NoaWxkXG4gKiBAcGFyYW0ge05vZGV9IHJlZkNoaWxkXG4gKiBAcmV0dXJuIHshTm9kZX1cbiAqL1xuRG9tQXBpTmF0aXZlLnByb3RvdHlwZS5pbnNlcnRCZWZvcmU7XG4vKipcbiAqIEBmdW5jdGlvblxuICogQHBhcmFtIHshTm9kZX0gbm9kZVxuICogQHJldHVybiB7IU5vZGV9XG4gKi9cbkRvbUFwaU5hdGl2ZS5wcm90b3R5cGUucmVtb3ZlQ2hpbGQ7XG4vKipcbiAqIEBmdW5jdGlvblxuICogQHBhcmFtIHshTm9kZX0gb2xkQ2hpbGRcbiAqIEBwYXJhbSB7IU5vZGV9IG5ld0NoaWxkXG4gKiBAcmV0dXJuIHshTm9kZX1cbiAqL1xuRG9tQXBpTmF0aXZlLnByb3RvdHlwZS5yZXBsYWNlQ2hpbGQ7XG4vKipcbiAqIEBmdW5jdGlvblxuICogQHBhcmFtIHtzdHJpbmd9IG5hbWVcbiAqIEBwYXJhbSB7c3RyaW5nfSB2YWx1ZVxuICogQHJldHVybiB7dm9pZH1cbiAqL1xuRG9tQXBpTmF0aXZlLnByb3RvdHlwZS5zZXRBdHRyaWJ1dGU7XG4vKipcbiAqIEBmdW5jdGlvblxuICogQHBhcmFtIHtzdHJpbmd9IG5hbWVcbiAqIEByZXR1cm4ge3ZvaWR9XG4gKi9cbkRvbUFwaU5hdGl2ZS5wcm90b3R5cGUucmVtb3ZlQXR0cmlidXRlO1xuLyoqXG4gKiBAZnVuY3Rpb25cbiAqIEBwYXJhbSB7c3RyaW5nfSBzZWxlY3RvclxuICogQHJldHVybiB7P0VsZW1lbnR9XG4gKi9cbkRvbUFwaU5hdGl2ZS5wcm90b3R5cGUucXVlcnlTZWxlY3Rvcjtcbi8qKlxuICogQGZ1bmN0aW9uXG4gKiBAcGFyYW0ge3N0cmluZ30gc2VsZWN0b3JcbiAqIEByZXR1cm4geyFOb2RlTGlzdDwhRWxlbWVudD59XG4gKi9cbkRvbUFwaU5hdGl2ZS5wcm90b3R5cGUucXVlcnlTZWxlY3RvckFsbDtcblxuLyoqIEB0eXBlIHs/Tm9kZX0gKi9cbkRvbUFwaU5hdGl2ZS5wcm90b3R5cGUucGFyZW50Tm9kZTtcbi8qKiBAdHlwZSB7P05vZGV9ICovXG5Eb21BcGlOYXRpdmUucHJvdG90eXBlLmZpcnN0Q2hpbGQ7XG4vKiogQHR5cGUgez9Ob2RlfSAqL1xuRG9tQXBpTmF0aXZlLnByb3RvdHlwZS5sYXN0Q2hpbGQ7XG4vKiogQHR5cGUgez9Ob2RlfSAqL1xuRG9tQXBpTmF0aXZlLnByb3RvdHlwZS5uZXh0U2libGluZztcbi8qKiBAdHlwZSB7P05vZGV9ICovXG5Eb21BcGlOYXRpdmUucHJvdG90eXBlLnByZXZpb3VzU2libGluZztcbi8qKiBAdHlwZSB7P0hUTUxFbGVtZW50fSAqL1xuRG9tQXBpTmF0aXZlLnByb3RvdHlwZS5maXJzdEVsZW1lbnRDaGlsZDtcbi8qKiBAdHlwZSB7P0hUTUxFbGVtZW50fSAqL1xuRG9tQXBpTmF0aXZlLnByb3RvdHlwZS5sYXN0RWxlbWVudENoaWxkO1xuLyoqIEB0eXBlIHs/SFRNTEVsZW1lbnR9ICovXG5Eb21BcGlOYXRpdmUucHJvdG90eXBlLm5leHRFbGVtZW50U2libGluZztcbi8qKiBAdHlwZSB7P0hUTUxFbGVtZW50fSAqL1xuRG9tQXBpTmF0aXZlLnByb3RvdHlwZS5wcmV2aW91c0VsZW1lbnRTaWJsaW5nO1xuLyoqIEB0eXBlIHshQXJyYXk8IU5vZGU+fSAqL1xuRG9tQXBpTmF0aXZlLnByb3RvdHlwZS5jaGlsZE5vZGVzO1xuLyoqIEB0eXBlIHshQXJyYXk8IUhUTUxFbGVtZW50Pn0gKi9cbkRvbUFwaU5hdGl2ZS5wcm90b3R5cGUuY2hpbGRyZW47XG4vKiogQHR5cGUgez9ET01Ub2tlbkxpc3R9ICovXG5Eb21BcGlOYXRpdmUucHJvdG90eXBlLmNsYXNzTGlzdDtcblxuLyoqIEB0eXBlIHtzdHJpbmd9ICovXG5Eb21BcGlOYXRpdmUucHJvdG90eXBlLnRleHRDb250ZW50O1xuLyoqIEB0eXBlIHtzdHJpbmd9ICovXG5Eb21BcGlOYXRpdmUucHJvdG90eXBlLmlubmVySFRNTDtcblxubGV0IERvbUFwaUltcGwgPSBEb21BcGlOYXRpdmU7XG5cbmlmICh3aW5kb3dbJ1NoYWR5RE9NJ10gJiYgd2luZG93WydTaGFkeURPTSddWydpblVzZSddICYmIHdpbmRvd1snU2hhZHlET00nXVsnbm9QYXRjaCddICYmIHdpbmRvd1snU2hhZHlET00nXVsnV3JhcHBlciddKSB7XG5cbiAgLyoqXG4gICAqIEBwcml2YXRlXG4gICAqIEBleHRlbmRzIHtIVE1MRWxlbWVudH1cbiAgICovXG4gIGNsYXNzIFdyYXBwZXIgZXh0ZW5kcyB3aW5kb3dbJ1NoYWR5RE9NJ11bJ1dyYXBwZXInXSB7fVxuXG4gIC8vIGNvcHkgYmVzcG9rZSBBUEkgb250byB3cmFwcGVyXG4gIE9iamVjdC5nZXRPd25Qcm9wZXJ0eU5hbWVzKERvbUFwaU5hdGl2ZS5wcm90b3R5cGUpLmZvckVhY2goKHByb3ApID0+IHtcbiAgICBpZiAocHJvcCAhPSAnYWN0aXZlRWxlbWVudCcpIHtcbiAgICAgIFdyYXBwZXIucHJvdG90eXBlW3Byb3BdID0gRG9tQXBpTmF0aXZlLnByb3RvdHlwZVtwcm9wXTtcbiAgICB9XG4gIH0pO1xuXG4gIC8vIE5vdGUsIGBjbGFzc0xpc3RgIGlzIGhlcmUgb25seSBmb3IgbGVnYWN5IGNvbXBhdGliaWxpdHkgc2luY2UgaXQgZG9lcyBub3RcbiAgLy8gdHJpZ2dlciBkaXN0cmlidXRpb24gaW4gdjEgU2hhZG93IERPTS5cbiAgZm9yd2FyZFJlYWRPbmx5UHJvcGVydGllcyhXcmFwcGVyLnByb3RvdHlwZSwgW1xuICAgICdjbGFzc0xpc3QnXG4gIF0pO1xuXG4gIERvbUFwaUltcGwgPSBXcmFwcGVyO1xuXG4gIE9iamVjdC5kZWZpbmVQcm9wZXJ0aWVzKEV2ZW50QXBpLnByb3RvdHlwZSwge1xuXG4gICAgbG9jYWxUYXJnZXQ6IHtcbiAgICAgIGdldCgpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuZXZlbnQuY3VycmVudFRhcmdldDtcbiAgICAgIH0sXG4gICAgICBjb25maWd1cmFibGU6IHRydWVcbiAgICB9LFxuXG4gICAgcGF0aDoge1xuICAgICAgZ2V0KCkge1xuICAgICAgICByZXR1cm4gd2luZG93WydTaGFkeURPTSddWydjb21wb3NlZFBhdGgnXSh0aGlzLmV2ZW50KTtcbiAgICAgIH0sXG4gICAgICBjb25maWd1cmFibGU6IHRydWVcbiAgICB9XG4gIH0pO1xuXG59IGVsc2Uge1xuXG4gIC8vIE1ldGhvZHMgdGhhdCBjYW4gcHJvdm9rZSBkaXN0cmlidXRpb24gb3IgbXVzdCByZXR1cm4gdGhlIGxvZ2ljYWwsIG5vdFxuICAvLyBjb21wb3NlZCB0cmVlLlxuICBmb3J3YXJkTWV0aG9kcyhEb21BcGlOYXRpdmUucHJvdG90eXBlLCBbXG4gICAgJ2Nsb25lTm9kZScsICdhcHBlbmRDaGlsZCcsICdpbnNlcnRCZWZvcmUnLCAncmVtb3ZlQ2hpbGQnLFxuICAgICdyZXBsYWNlQ2hpbGQnLCAnc2V0QXR0cmlidXRlJywgJ3JlbW92ZUF0dHJpYnV0ZScsXG4gICAgJ3F1ZXJ5U2VsZWN0b3InLCAncXVlcnlTZWxlY3RvckFsbCdcbiAgXSk7XG5cbiAgLy8gUHJvcGVydGllcyB0aGF0IHNob3VsZCByZXR1cm4gdGhlIGxvZ2ljYWwsIG5vdCBjb21wb3NlZCB0cmVlLiBOb3RlLCBgY2xhc3NMaXN0YFxuICAvLyBpcyBoZXJlIG9ubHkgZm9yIGxlZ2FjeSBjb21wYXRpYmlsaXR5IHNpbmNlIGl0IGRvZXMgbm90IHRyaWdnZXIgZGlzdHJpYnV0aW9uXG4gIC8vIGluIHYxIFNoYWRvdyBET00uXG4gIGZvcndhcmRSZWFkT25seVByb3BlcnRpZXMoRG9tQXBpTmF0aXZlLnByb3RvdHlwZSwgW1xuICAgICdwYXJlbnROb2RlJywgJ2ZpcnN0Q2hpbGQnLCAnbGFzdENoaWxkJyxcbiAgICAnbmV4dFNpYmxpbmcnLCAncHJldmlvdXNTaWJsaW5nJywgJ2ZpcnN0RWxlbWVudENoaWxkJyxcbiAgICAnbGFzdEVsZW1lbnRDaGlsZCcsICduZXh0RWxlbWVudFNpYmxpbmcnLCAncHJldmlvdXNFbGVtZW50U2libGluZycsXG4gICAgJ2NoaWxkTm9kZXMnLCAnY2hpbGRyZW4nLCAnY2xhc3NMaXN0J1xuICBdKTtcblxuICBmb3J3YXJkUHJvcGVydGllcyhEb21BcGlOYXRpdmUucHJvdG90eXBlLCBbXG4gICAgJ3RleHRDb250ZW50JywgJ2lubmVySFRNTCdcbiAgXSk7XG59XG5cbmV4cG9ydCBjb25zdCBEb21BcGkgPSBEb21BcGlJbXBsO1xuXG4vKipcbiAqIExlZ2FjeSBET00gYW5kIEV2ZW50IG1hbmlwdWxhdGlvbiBBUEkgd3JhcHBlciBmYWN0b3J5IHVzZWQgdG8gYWJzdHJhY3RcbiAqIGRpZmZlcmVuY2VzIGJldHdlZW4gbmF0aXZlIFNoYWRvdyBET00gYW5kIFwiU2hhZHkgRE9NXCIgd2hlbiBwb2x5ZmlsbGluZyBvblxuICogb2xkZXIgYnJvd3NlcnMuXG4gKlxuICogTm90ZSB0aGF0IGluIFBvbHltZXIgMi54IHVzZSBvZiBgUG9seW1lci5kb21gIGlzIG5vIGxvbmdlciByZXF1aXJlZCBhbmRcbiAqIGluIHRoZSBtYWpvcml0eSBvZiBjYXNlcyBzaW1wbHkgZmFjYWRlcyBkaXJlY3RseSB0byB0aGUgc3RhbmRhcmQgbmF0aXZlXG4gKiBBUEkuXG4gKlxuICogQHN1bW1hcnkgTGVnYWN5IERPTSBhbmQgRXZlbnQgbWFuaXB1bGF0aW9uIEFQSSB3cmFwcGVyIGZhY3RvcnkgdXNlZCB0b1xuICogYWJzdHJhY3QgZGlmZmVyZW5jZXMgYmV0d2VlbiBuYXRpdmUgU2hhZG93IERPTSBhbmQgXCJTaGFkeSBET00uXCJcbiAqIEBwYXJhbSB7KE5vZGV8RXZlbnR8RG9tQXBpTmF0aXZlfEV2ZW50QXBpKT19IG9iaiBOb2RlIG9yIGV2ZW50IHRvIG9wZXJhdGUgb25cbiAqIEByZXR1cm4geyFEb21BcGlOYXRpdmV8IUV2ZW50QXBpfSBXcmFwcGVyIHByb3ZpZGluZyBlaXRoZXIgbm9kZSBBUEkgb3IgZXZlbnQgQVBJXG4gKi9cbmV4cG9ydCBjb25zdCBkb20gPSBmdW5jdGlvbihvYmopIHtcbiAgb2JqID0gb2JqIHx8IGRvY3VtZW50O1xuICBpZiAob2JqIGluc3RhbmNlb2YgRG9tQXBpSW1wbCkge1xuICAgIHJldHVybiAvKiogQHR5cGUgeyFEb21BcGl9ICovKG9iaik7XG4gIH1cbiAgaWYgKG9iaiBpbnN0YW5jZW9mIEV2ZW50QXBpKSB7XG4gICAgcmV0dXJuIC8qKiBAdHlwZSB7IUV2ZW50QXBpfSAqLyhvYmopO1xuICB9XG4gIGxldCBoZWxwZXIgPSBvYmpbJ19fZG9tQXBpJ107XG4gIGlmICghaGVscGVyKSB7XG4gICAgaWYgKG9iaiBpbnN0YW5jZW9mIEV2ZW50KSB7XG4gICAgICBoZWxwZXIgPSBuZXcgRXZlbnRBcGkob2JqKTtcbiAgICB9IGVsc2Uge1xuICAgICAgaGVscGVyID0gbmV3IERvbUFwaUltcGwoLyoqIEB0eXBlIHtOb2RlfSAqLyhvYmopKTtcbiAgICB9XG4gICAgb2JqWydfX2RvbUFwaSddID0gaGVscGVyO1xuICB9XG4gIHJldHVybiBoZWxwZXI7XG59O1xuIiwiLyoqXG5AbGljZW5zZVxuQ29weXJpZ2h0IChjKSAyMDE3IFRoZSBQb2x5bWVyIFByb2plY3QgQXV0aG9ycy4gQWxsIHJpZ2h0cyByZXNlcnZlZC5cblRoaXMgY29kZSBtYXkgb25seSBiZSB1c2VkIHVuZGVyIHRoZSBCU0Qgc3R5bGUgbGljZW5zZSBmb3VuZCBhdCBodHRwOi8vcG9seW1lci5naXRodWIuaW8vTElDRU5TRS50eHRcblRoZSBjb21wbGV0ZSBzZXQgb2YgYXV0aG9ycyBtYXkgYmUgZm91bmQgYXQgaHR0cDovL3BvbHltZXIuZ2l0aHViLmlvL0FVVEhPUlMudHh0XG5UaGUgY29tcGxldGUgc2V0IG9mIGNvbnRyaWJ1dG9ycyBtYXkgYmUgZm91bmQgYXQgaHR0cDovL3BvbHltZXIuZ2l0aHViLmlvL0NPTlRSSUJVVE9SUy50eHRcbkNvZGUgZGlzdHJpYnV0ZWQgYnkgR29vZ2xlIGFzIHBhcnQgb2YgdGhlIHBvbHltZXIgcHJvamVjdCBpcyBhbHNvXG5zdWJqZWN0IHRvIGFuIGFkZGl0aW9uYWwgSVAgcmlnaHRzIGdyYW50IGZvdW5kIGF0IGh0dHA6Ly9wb2x5bWVyLmdpdGh1Yi5pby9QQVRFTlRTLnR4dFxuKi9cbmltcG9ydCAnLi9ib290LmpzJztcblxuaW1wb3J0IHsgcGF0aEZyb21VcmwgfSBmcm9tICcuL3Jlc29sdmUtdXJsLmpzJztcbmV4cG9ydCBjb25zdCB1c2VTaGFkb3cgPSAhKHdpbmRvdy5TaGFkeURPTSk7XG5leHBvcnQgY29uc3QgdXNlTmF0aXZlQ1NTUHJvcGVydGllcyA9IEJvb2xlYW4oIXdpbmRvdy5TaGFkeUNTUyB8fCB3aW5kb3cuU2hhZHlDU1MubmF0aXZlQ3NzKTtcbmV4cG9ydCBjb25zdCB1c2VOYXRpdmVDdXN0b21FbGVtZW50cyA9ICEod2luZG93LmN1c3RvbUVsZW1lbnRzLnBvbHlmaWxsV3JhcEZsdXNoQ2FsbGJhY2spO1xuXG5cbi8qKlxuICogR2xvYmFsbHkgc2V0dGFibGUgcHJvcGVydHkgdGhhdCBpcyBhdXRvbWF0aWNhbGx5IGFzc2lnbmVkIHRvXG4gKiBgRWxlbWVudE1peGluYCBpbnN0YW5jZXMsIHVzZWZ1bCBmb3IgYmluZGluZyBpbiB0ZW1wbGF0ZXMgdG9cbiAqIG1ha2UgVVJMJ3MgcmVsYXRpdmUgdG8gYW4gYXBwbGljYXRpb24ncyByb290LiAgRGVmYXVsdHMgdG8gdGhlIG1haW5cbiAqIGRvY3VtZW50IFVSTCwgYnV0IGNhbiBiZSBvdmVycmlkZGVuIGJ5IHVzZXJzLiAgSXQgbWF5IGJlIHVzZWZ1bCB0byBzZXRcbiAqIGByb290UGF0aGAgdG8gcHJvdmlkZSBhIHN0YWJsZSBhcHBsaWNhdGlvbiBtb3VudCBwYXRoIHdoZW5cbiAqIHVzaW5nIGNsaWVudCBzaWRlIHJvdXRpbmcuXG4gKi9cbmV4cG9ydCBsZXQgcm9vdFBhdGggPSBwYXRoRnJvbVVybChkb2N1bWVudC5iYXNlVVJJIHx8IHdpbmRvdy5sb2NhdGlvbi5ocmVmKTtcblxuLyoqXG4gKiBTZXRzIHRoZSBnbG9iYWwgcm9vdFBhdGggcHJvcGVydHkgdXNlZCBieSBgRWxlbWVudE1peGluYCBhbmRcbiAqIGF2YWlsYWJsZSB2aWEgYHJvb3RQYXRoYC5cbiAqXG4gKiBAcGFyYW0ge3N0cmluZ30gcGF0aCBUaGUgbmV3IHJvb3QgcGF0aFxuICogQHJldHVybiB7dm9pZH1cbiAqL1xuZXhwb3J0IGNvbnN0IHNldFJvb3RQYXRoID0gZnVuY3Rpb24ocGF0aCkge1xuICByb290UGF0aCA9IHBhdGg7XG59O1xuXG4vKipcbiAqIEEgZ2xvYmFsIGNhbGxiYWNrIHVzZWQgdG8gc2FuaXRpemUgYW55IHZhbHVlIGJlZm9yZSBpbnNlcnRpbmcgaXQgaW50byB0aGUgRE9NLlxuICogVGhlIGNhbGxiYWNrIHNpZ25hdHVyZSBpczpcbiAqXG4gKiAgZnVuY3Rpb24gc2FuaXRpemVET01WYWx1ZSh2YWx1ZSwgbmFtZSwgdHlwZSwgbm9kZSkgeyAuLi4gfVxuICpcbiAqIFdoZXJlOlxuICpcbiAqIGB2YWx1ZWAgaXMgdGhlIHZhbHVlIHRvIHNhbml0aXplLlxuICogYG5hbWVgIGlzIHRoZSBuYW1lIG9mIGFuIGF0dHJpYnV0ZSBvciBwcm9wZXJ0eSAoZm9yIGV4YW1wbGUsIGhyZWYpLlxuICogYHR5cGVgIGluZGljYXRlcyB3aGVyZSB0aGUgdmFsdWUgaXMgYmVpbmcgaW5zZXJ0ZWQ6IG9uZSBvZiBwcm9wZXJ0eSwgYXR0cmlidXRlLCBvciB0ZXh0LlxuICogYG5vZGVgIGlzIHRoZSBub2RlIHdoZXJlIHRoZSB2YWx1ZSBpcyBiZWluZyBpbnNlcnRlZC5cbiAqXG4gKiBAdHlwZSB7KGZ1bmN0aW9uKCosc3RyaW5nLHN0cmluZyxOb2RlKToqKXx1bmRlZmluZWR9XG4gKi9cbmV4cG9ydCBsZXQgc2FuaXRpemVET01WYWx1ZSA9IHdpbmRvdy5Qb2x5bWVyICYmIHdpbmRvdy5Qb2x5bWVyLnNhbml0aXplRE9NVmFsdWUgfHwgdW5kZWZpbmVkO1xuXG4vKipcbiAqIFNldHMgdGhlIGdsb2JhbCBzYW5pdGl6ZURPTVZhbHVlIGF2YWlsYWJsZSB2aWEgdGhpcyBtb2R1bGUncyBleHBvcnRlZFxuICogYHNhbml0aXplRE9NVmFsdWVgIHZhcmlhYmxlLlxuICpcbiAqIEBwYXJhbSB7KGZ1bmN0aW9uKCosc3RyaW5nLHN0cmluZyxOb2RlKToqKXx1bmRlZmluZWR9IG5ld1Nhbml0aXplRE9NVmFsdWUgdGhlIGdsb2JhbCBzYW5pdGl6ZURPTVZhbHVlIGNhbGxiYWNrXG4gKiBAcmV0dXJuIHt2b2lkfVxuICovXG5leHBvcnQgY29uc3Qgc2V0U2FuaXRpemVET01WYWx1ZSA9IGZ1bmN0aW9uKG5ld1Nhbml0aXplRE9NVmFsdWUpIHtcbiAgc2FuaXRpemVET01WYWx1ZSA9IG5ld1Nhbml0aXplRE9NVmFsdWU7XG59O1xuXG4vKipcbiAqIEdsb2JhbGx5IHNldHRhYmxlIHByb3BlcnR5IHRvIG1ha2UgUG9seW1lciBHZXN0dXJlcyB1c2UgcGFzc2l2ZSBUb3VjaEV2ZW50IGxpc3RlbmVycyB3aGVuIHJlY29nbml6aW5nIGdlc3R1cmVzLlxuICogV2hlbiBzZXQgdG8gYHRydWVgLCBnZXN0dXJlcyBtYWRlIGZyb20gdG91Y2ggd2lsbCBub3QgYmUgYWJsZSB0byBwcmV2ZW50IHNjcm9sbGluZywgYWxsb3dpbmcgZm9yIHNtb290aGVyXG4gKiBzY3JvbGxpbmcgcGVyZm9ybWFuY2UuXG4gKiBEZWZhdWx0cyB0byBgZmFsc2VgIGZvciBiYWNrd2FyZHMgY29tcGF0aWJpbGl0eS5cbiAqL1xuZXhwb3J0IGxldCBwYXNzaXZlVG91Y2hHZXN0dXJlcyA9IGZhbHNlO1xuXG4vKipcbiAqIFNldHMgYHBhc3NpdmVUb3VjaEdlc3R1cmVzYCBnbG9iYWxseSBmb3IgYWxsIGVsZW1lbnRzIHVzaW5nIFBvbHltZXIgR2VzdHVyZXMuXG4gKlxuICogQHBhcmFtIHtib29sZWFufSB1c2VQYXNzaXZlIGVuYWJsZSBvciBkaXNhYmxlIHBhc3NpdmUgdG91Y2ggZ2VzdHVyZXMgZ2xvYmFsbHlcbiAqIEByZXR1cm4ge3ZvaWR9XG4gKi9cbmV4cG9ydCBjb25zdCBzZXRQYXNzaXZlVG91Y2hHZXN0dXJlcyA9IGZ1bmN0aW9uKHVzZVBhc3NpdmUpIHtcbiAgcGFzc2l2ZVRvdWNoR2VzdHVyZXMgPSB1c2VQYXNzaXZlO1xufTtcblxuLyoqXG4gKiBTZXR0aW5nIHRvIGVuc3VyZSBQb2x5bWVyIHRlbXBsYXRlIGV2YWx1YXRpb24gb25seSBvY2N1cnMgYmFzZWQgb24gdGVtcGF0ZXNcbiAqIGRlZmluZWQgaW4gdHJ1c3RlZCBzY3JpcHQuICBXaGVuIHRydWUsIGA8ZG9tLW1vZHVsZT5gIHJlLXJlZ2lzdHJhdGlvbiBpc1xuICogZGlzYWxsb3dlZCwgYDxkb20tYmluZD5gIGlzIGRpc2FibGVkLCBhbmQgYDxkb20taWY+YC9gPGRvbS1yZXBlYXQ+YFxuICogdGVtcGxhdGVzIHdpbGwgb25seSBldmFsdWF0ZSBpbiB0aGUgY29udGV4dCBvZiBhIHRydXN0ZWQgZWxlbWVudCB0ZW1wbGF0ZS5cbiAqL1xuZXhwb3J0IGxldCBzdHJpY3RUZW1wbGF0ZVBvbGljeSA9IGZhbHNlO1xuXG4vKipcbiAqIFNldHMgYHN0cmljdFRlbXBsYXRlUG9saWN5YCBnbG9iYWxseSBmb3IgYWxsIGVsZW1lbnRzXG4gKlxuICogQHBhcmFtIHtib29sZWFufSB1c2VTdHJpY3RQb2xpY3kgZW5hYmxlIG9yIGRpc2FibGUgc3RyaWN0IHRlbXBsYXRlIHBvbGljeVxuICogICBnbG9iYWxseVxuICogQHJldHVybiB7dm9pZH1cbiAqL1xuZXhwb3J0IGNvbnN0IHNldFN0cmljdFRlbXBsYXRlUG9saWN5ID0gZnVuY3Rpb24odXNlU3RyaWN0UG9saWN5KSB7XG4gIHN0cmljdFRlbXBsYXRlUG9saWN5ID0gdXNlU3RyaWN0UG9saWN5O1xufTtcblxuLyoqXG4gKiBTZXR0aW5nIHRvIGVuYWJsZSBkb20tbW9kdWxlIGxvb2t1cCBmcm9tIFBvbHltZXIuRWxlbWVudC4gIEJ5IGRlZmF1bHQsXG4gKiB0ZW1wbGF0ZXMgbXVzdCBiZSBkZWZpbmVkIGluIHNjcmlwdCB1c2luZyB0aGUgYHN0YXRpYyBnZXQgdGVtcGxhdGUoKWBcbiAqIGdldHRlciBhbmQgdGhlIGBodG1sYCB0YWcgZnVuY3Rpb24uICBUbyBlbmFibGUgbGVnYWN5IGxvYWRpbmcgb2YgdGVtcGxhdGVzXG4gKiB2aWEgZG9tLW1vZHVsZSwgc2V0IHRoaXMgZmxhZyB0byB0cnVlLlxuICovXG5leHBvcnQgbGV0IGFsbG93VGVtcGxhdGVGcm9tRG9tTW9kdWxlID0gZmFsc2U7XG5cbi8qKlxuICogU2V0cyBgbG9va3VwVGVtcGxhdGVGcm9tRG9tTW9kdWxlYCBnbG9iYWxseSBmb3IgYWxsIGVsZW1lbnRzXG4gKlxuICogQHBhcmFtIHtib29sZWFufSBhbGxvd0RvbU1vZHVsZSBlbmFibGUgb3IgZGlzYWJsZSB0ZW1wbGF0ZSBsb29rdXBcbiAqICAgZ2xvYmFsbHlcbiAqIEByZXR1cm4ge3ZvaWR9XG4gKi9cbmV4cG9ydCBjb25zdCBzZXRBbGxvd1RlbXBsYXRlRnJvbURvbU1vZHVsZSA9IGZ1bmN0aW9uKGFsbG93RG9tTW9kdWxlKSB7XG4gIGFsbG93VGVtcGxhdGVGcm9tRG9tTW9kdWxlID0gYWxsb3dEb21Nb2R1bGU7XG59O1xuXG4vKipcbiAqIFNldHRpbmcgdG8gc2tpcCBwcm9jZXNzaW5nIHN0eWxlIGluY2x1ZGVzIGFuZCByZS13cml0aW5nIHVybHMgaW4gY3NzIHN0eWxlcy5cbiAqIE5vcm1hbGx5IFwiaW5jbHVkZWRcIiBzdHlsZXMgYXJlIHB1bGxlZCBpbnRvIHRoZSBlbGVtZW50IGFuZCBhbGwgdXJscyBpbiBzdHlsZXNcbiAqIGFyZSByZS13cml0dGVuIHRvIGJlIHJlbGF0aXZlIHRvIHRoZSBjb250YWluaW5nIHNjcmlwdCB1cmwuXG4gKiBJZiBubyBpbmNsdWRlcyBvciByZWxhdGl2ZSB1cmxzIGFyZSB1c2VkIGluIHN0eWxlcywgdGhlc2Ugc3RlcHMgY2FuIGJlXG4gKiBza2lwcGVkIGFzIGFuIG9wdGltaXphdGlvbi5cbiAqL1xuZXhwb3J0IGxldCBsZWdhY3lPcHRpbWl6YXRpb25zID0gZmFsc2U7XG5cbi8qKlxuICogU2V0cyBgbGVnYWN5T3B0aW1pemF0aW9uc2AgZ2xvYmFsbHkgZm9yIGFsbCBlbGVtZW50cyB0byBlbmFibGUgb3B0aW1pemF0aW9uc1xuICogd2hlbiBvbmx5IGxlZ2FjeSBiYXNlZCBlbGVtZW50cyBhcmUgdXNlZC5cbiAqXG4gKiBAcGFyYW0ge2Jvb2xlYW59IHVzZUxlZ2FjeU9wdGltaXphdGlvbnMgZW5hYmxlIG9yIGRpc2FibGUgbGVnYWN5IG9wdGltaXphdGlvbnNcbiAqIGluY2x1ZGVzIGFuZCB1cmwgcmV3cml0aW5nXG4gKiBAcmV0dXJuIHt2b2lkfVxuICovXG5leHBvcnQgY29uc3Qgc2V0TGVnYWN5T3B0aW1pemF0aW9ucyA9IGZ1bmN0aW9uKHVzZUxlZ2FjeU9wdGltaXphdGlvbnMpIHtcbiAgbGVnYWN5T3B0aW1pemF0aW9ucyA9IHVzZUxlZ2FjeU9wdGltaXphdGlvbnM7XG59O1xuXG4vKipcbiAqIFNldHRpbmcgdG8gcGVyZm9ybSBpbml0aWFsIHJlbmRlcmluZyBzeW5jaHJvbm91c2x5IHdoZW4gcnVubmluZyB1bmRlciBTaGFkeURPTS5cbiAqIFRoaXMgbWF0Y2hlcyB0aGUgYmVoYXZpb3Igb2YgUG9seW1lciAxLlxuICovXG5leHBvcnQgbGV0IHN5bmNJbml0aWFsUmVuZGVyID0gZmFsc2U7XG5cbi8qKlxuICogU2V0cyBgc3luY0luaXRpYWxSZW5kZXJgIGdsb2JhbGx5IGZvciBhbGwgZWxlbWVudHMgdG8gZW5hYmxlIHN5bmNocm9ub3VzXG4gKiBpbml0aWFsIHJlbmRlcmluZy5cbiAqXG4gKiBAcGFyYW0ge2Jvb2xlYW59IHVzZVN5bmNJbml0aWFsUmVuZGVyIGVuYWJsZSBvciBkaXNhYmxlIHN5bmNocm9ub3VzIGluaXRpYWxcbiAqIHJlbmRlcmluZyBnbG9iYWxseS5cbiAqIEByZXR1cm4ge3ZvaWR9XG4gKi9cbmV4cG9ydCBjb25zdCBzZXRTeW5jSW5pdGlhbFJlbmRlciA9IGZ1bmN0aW9uKHVzZVN5bmNJbml0aWFsUmVuZGVyKSB7XG4gIHN5bmNJbml0aWFsUmVuZGVyID0gdXNlU3luY0luaXRpYWxSZW5kZXI7XG59O1xuIiwiLyoqXG5AbGljZW5zZVxuQ29weXJpZ2h0IChjKSAyMDE3IFRoZSBQb2x5bWVyIFByb2plY3QgQXV0aG9ycy4gQWxsIHJpZ2h0cyByZXNlcnZlZC5cblRoaXMgY29kZSBtYXkgb25seSBiZSB1c2VkIHVuZGVyIHRoZSBCU0Qgc3R5bGUgbGljZW5zZSBmb3VuZCBhdCBodHRwOi8vcG9seW1lci5naXRodWIuaW8vTElDRU5TRS50eHRcblRoZSBjb21wbGV0ZSBzZXQgb2YgYXV0aG9ycyBtYXkgYmUgZm91bmQgYXQgaHR0cDovL3BvbHltZXIuZ2l0aHViLmlvL0FVVEhPUlMudHh0XG5UaGUgY29tcGxldGUgc2V0IG9mIGNvbnRyaWJ1dG9ycyBtYXkgYmUgZm91bmQgYXQgaHR0cDovL3BvbHltZXIuZ2l0aHViLmlvL0NPTlRSSUJVVE9SUy50eHRcbkNvZGUgZGlzdHJpYnV0ZWQgYnkgR29vZ2xlIGFzIHBhcnQgb2YgdGhlIHBvbHltZXIgcHJvamVjdCBpcyBhbHNvXG5zdWJqZWN0IHRvIGFuIGFkZGl0aW9uYWwgSVAgcmlnaHRzIGdyYW50IGZvdW5kIGF0IGh0dHA6Ly9wb2x5bWVyLmdpdGh1Yi5pby9QQVRFTlRTLnR4dFxuKi9cbmltcG9ydCB7IGRlZHVwaW5nTWl4aW4gfSBmcm9tICcuLi91dGlscy9taXhpbi5qcyc7XG5cbi8vIENvbW1vbiBpbXBsZW1lbnRhdGlvbiBmb3IgbWl4aW4gJiBiZWhhdmlvclxuZnVuY3Rpb24gbXV0YWJsZVByb3BlcnR5Q2hhbmdlKGluc3QsIHByb3BlcnR5LCB2YWx1ZSwgb2xkLCBtdXRhYmxlRGF0YSkge1xuICBsZXQgaXNPYmplY3Q7XG4gIGlmIChtdXRhYmxlRGF0YSkge1xuICAgIGlzT2JqZWN0ID0gKHR5cGVvZiB2YWx1ZSA9PT0gJ29iamVjdCcgJiYgdmFsdWUgIT09IG51bGwpO1xuICAgIC8vIFB1bGwgYG9sZGAgZm9yIE9iamVjdHMgZnJvbSB0ZW1wIGNhY2hlLCBidXQgdHJlYXQgYG51bGxgIGFzIGEgcHJpbWl0aXZlXG4gICAgaWYgKGlzT2JqZWN0KSB7XG4gICAgICBvbGQgPSBpbnN0Ll9fZGF0YVRlbXBbcHJvcGVydHldO1xuICAgIH1cbiAgfVxuICAvLyBTdHJpY3QgZXF1YWxpdHkgY2hlY2ssIGJ1dCByZXR1cm4gZmFsc2UgZm9yIE5hTj09PU5hTlxuICBsZXQgc2hvdWxkQ2hhbmdlID0gKG9sZCAhPT0gdmFsdWUgJiYgKG9sZCA9PT0gb2xkIHx8IHZhbHVlID09PSB2YWx1ZSkpO1xuICAvLyBPYmplY3RzIGFyZSBzdG9yZWQgaW4gdGVtcG9yYXJ5IGNhY2hlIChjbGVhcmVkIGF0IGVuZCBvZlxuICAvLyB0dXJuKSwgd2hpY2ggaXMgdXNlZCBmb3IgZGlydHktY2hlY2tpbmdcbiAgaWYgKGlzT2JqZWN0ICYmIHNob3VsZENoYW5nZSkge1xuICAgIGluc3QuX19kYXRhVGVtcFtwcm9wZXJ0eV0gPSB2YWx1ZTtcbiAgfVxuICByZXR1cm4gc2hvdWxkQ2hhbmdlO1xufVxuXG4vKipcbiAqIEVsZW1lbnQgY2xhc3MgbWl4aW4gdG8gc2tpcCBzdHJpY3QgZGlydHktY2hlY2tpbmcgZm9yIG9iamVjdHMgYW5kIGFycmF5c1xuICogKGFsd2F5cyBjb25zaWRlciB0aGVtIHRvIGJlIFwiZGlydHlcIiksIGZvciB1c2Ugb24gZWxlbWVudHMgdXRpbGl6aW5nXG4gKiBgUHJvcGVydHlFZmZlY3RzYFxuICpcbiAqIEJ5IGRlZmF1bHQsIGBQcm9wZXJ0eUVmZmVjdHNgIHBlcmZvcm1zIHN0cmljdCBkaXJ0eSBjaGVja2luZyBvblxuICogb2JqZWN0cywgd2hpY2ggbWVhbnMgdGhhdCBhbnkgZGVlcCBtb2RpZmljYXRpb25zIHRvIGFuIG9iamVjdCBvciBhcnJheSB3aWxsXG4gKiBub3QgYmUgcHJvcGFnYXRlZCB1bmxlc3MgXCJpbW11dGFibGVcIiBkYXRhIHBhdHRlcm5zIGFyZSB1c2VkIChpLmUuIGFsbCBvYmplY3RcbiAqIHJlZmVyZW5jZXMgZnJvbSB0aGUgcm9vdCB0byB0aGUgbXV0YXRpb24gd2VyZSBjaGFuZ2VkKS5cbiAqXG4gKiBQb2x5bWVyIGFsc28gcHJvdmlkZXMgYSBwcm9wcmlldGFyeSBkYXRhIG11dGF0aW9uIGFuZCBwYXRoIG5vdGlmaWNhdGlvbiBBUElcbiAqIChlLmcuIGBub3RpZnlQYXRoYCwgYHNldGAsIGFuZCBhcnJheSBtdXRhdGlvbiBBUEkncykgdGhhdCBhbGxvdyBlZmZpY2llbnRcbiAqIG11dGF0aW9uIGFuZCBub3RpZmljYXRpb24gb2YgZGVlcCBjaGFuZ2VzIGluIGFuIG9iamVjdCBncmFwaCB0byBhbGwgZWxlbWVudHNcbiAqIGJvdW5kIHRvIHRoZSBzYW1lIG9iamVjdCBncmFwaC5cbiAqXG4gKiBJbiBjYXNlcyB3aGVyZSBuZWl0aGVyIGltbXV0YWJsZSBwYXR0ZXJucyBub3IgdGhlIGRhdGEgbXV0YXRpb24gQVBJIGNhbiBiZVxuICogdXNlZCwgYXBwbHlpbmcgdGhpcyBtaXhpbiB3aWxsIGNhdXNlIFBvbHltZXIgdG8gc2tpcCBkaXJ0eSBjaGVja2luZyBmb3JcbiAqIG9iamVjdHMgYW5kIGFycmF5cyAoYWx3YXlzIGNvbnNpZGVyIHRoZW0gdG8gYmUgXCJkaXJ0eVwiKS4gIFRoaXMgYWxsb3dzIGFcbiAqIHVzZXIgdG8gbWFrZSBhIGRlZXAgbW9kaWZpY2F0aW9uIHRvIGEgYm91bmQgb2JqZWN0IGdyYXBoLCBhbmQgdGhlbiBlaXRoZXJcbiAqIHNpbXBseSByZS1zZXQgdGhlIG9iamVjdCAoZS5nLiBgdGhpcy5pdGVtcyA9IHRoaXMuaXRlbXNgKSBvciBjYWxsIGBub3RpZnlQYXRoYFxuICogKGUuZy4gYHRoaXMubm90aWZ5UGF0aCgnaXRlbXMnKWApIHRvIHVwZGF0ZSB0aGUgdHJlZS4gIE5vdGUgdGhhdCBhbGxcbiAqIGVsZW1lbnRzIHRoYXQgd2lzaCB0byBiZSB1cGRhdGVkIGJhc2VkIG9uIGRlZXAgbXV0YXRpb25zIG11c3QgYXBwbHkgdGhpc1xuICogbWl4aW4gb3Igb3RoZXJ3aXNlIHNraXAgc3RyaWN0IGRpcnR5IGNoZWNraW5nIGZvciBvYmplY3RzL2FycmF5cy5cbiAqIFNwZWNpZmljYWxseSwgYW55IGVsZW1lbnRzIGluIHRoZSBiaW5kaW5nIHRyZWUgYmV0d2VlbiB0aGUgc291cmNlIG9mIGFcbiAqIG11dGF0aW9uIGFuZCB0aGUgY29uc3VtcHRpb24gb2YgaXQgbXVzdCBhcHBseSB0aGlzIG1peGluIG9yIGVuYWJsZSB0aGVcbiAqIGBPcHRpb25hbE11dGFibGVEYXRhYCBtaXhpbi5cbiAqXG4gKiBJbiBvcmRlciB0byBtYWtlIHRoZSBkaXJ0eSBjaGVjayBzdHJhdGVneSBjb25maWd1cmFibGUsIHNlZVxuICogYE9wdGlvbmFsTXV0YWJsZURhdGFgLlxuICpcbiAqIE5vdGUsIHRoZSBwZXJmb3JtYW5jZSBjaGFyYWN0ZXJpc3RpY3Mgb2YgcHJvcGFnYXRpbmcgbGFyZ2Ugb2JqZWN0IGdyYXBoc1xuICogd2lsbCBiZSB3b3JzZSBhcyBvcHBvc2VkIHRvIHVzaW5nIHN0cmljdCBkaXJ0eSBjaGVja2luZyB3aXRoIGltbXV0YWJsZVxuICogcGF0dGVybnMgb3IgUG9seW1lcidzIHBhdGggbm90aWZpY2F0aW9uIEFQSS5cbiAqXG4gKiBAbWl4aW5GdW5jdGlvblxuICogQHBvbHltZXJcbiAqIEBzdW1tYXJ5IEVsZW1lbnQgY2xhc3MgbWl4aW4gdG8gc2tpcCBzdHJpY3QgZGlydHktY2hlY2tpbmcgZm9yIG9iamVjdHNcbiAqICAgYW5kIGFycmF5c1xuICovXG5leHBvcnQgY29uc3QgTXV0YWJsZURhdGEgPSBkZWR1cGluZ01peGluKHN1cGVyQ2xhc3MgPT4ge1xuXG4gIC8qKlxuICAgKiBAcG9seW1lclxuICAgKiBAbWl4aW5DbGFzc1xuICAgKiBAaW1wbGVtZW50cyB7UG9seW1lcl9NdXRhYmxlRGF0YX1cbiAgICovXG4gIGNsYXNzIE11dGFibGVEYXRhIGV4dGVuZHMgc3VwZXJDbGFzcyB7XG4gICAgLyoqXG4gICAgICogT3ZlcnJpZGVzIGBQcm9wZXJ0eUVmZmVjdHNgIHRvIHByb3ZpZGUgb3B0aW9uIGZvciBza2lwcGluZ1xuICAgICAqIHN0cmljdCBlcXVhbGl0eSBjaGVja2luZyBmb3IgT2JqZWN0cyBhbmQgQXJyYXlzLlxuICAgICAqXG4gICAgICogVGhpcyBtZXRob2QgcHVsbHMgdGhlIHZhbHVlIHRvIGRpcnR5IGNoZWNrIGFnYWluc3QgZnJvbSB0aGUgYF9fZGF0YVRlbXBgXG4gICAgICogY2FjaGUgKHJhdGhlciB0aGFuIHRoZSBub3JtYWwgYF9fZGF0YWAgY2FjaGUpIGZvciBPYmplY3RzLiAgU2luY2UgdGhlIHRlbXBcbiAgICAgKiBjYWNoZSBpcyBjbGVhcmVkIGF0IHRoZSBlbmQgb2YgYSB0dXJuLCB0aGlzIGltcGxlbWVudGF0aW9uIGFsbG93c1xuICAgICAqIHNpZGUtZWZmZWN0cyBvZiBkZWVwIG9iamVjdCBjaGFuZ2VzIHRvIGJlIHByb2Nlc3NlZCBieSByZS1zZXR0aW5nIHRoZVxuICAgICAqIHNhbWUgb2JqZWN0ICh1c2luZyB0aGUgdGVtcCBjYWNoZSBhcyBhbiBpbi10dXJuIGJhY2tzdG9wIHRvIHByZXZlbnRcbiAgICAgKiBjeWNsZXMgZHVlIHRvIDItd2F5IG5vdGlmaWNhdGlvbikuXG4gICAgICpcbiAgICAgKiBAcGFyYW0ge3N0cmluZ30gcHJvcGVydHkgUHJvcGVydHkgbmFtZVxuICAgICAqIEBwYXJhbSB7Kn0gdmFsdWUgTmV3IHByb3BlcnR5IHZhbHVlXG4gICAgICogQHBhcmFtIHsqfSBvbGQgUHJldmlvdXMgcHJvcGVydHkgdmFsdWVcbiAgICAgKiBAcmV0dXJuIHtib29sZWFufSBXaGV0aGVyIHRoZSBwcm9wZXJ0eSBzaG91bGQgYmUgY29uc2lkZXJlZCBhIGNoYW5nZVxuICAgICAqIEBwcm90ZWN0ZWRcbiAgICAgKi9cbiAgICBfc2hvdWxkUHJvcGVydHlDaGFuZ2UocHJvcGVydHksIHZhbHVlLCBvbGQpIHtcbiAgICAgIHJldHVybiBtdXRhYmxlUHJvcGVydHlDaGFuZ2UodGhpcywgcHJvcGVydHksIHZhbHVlLCBvbGQsIHRydWUpO1xuICAgIH1cblxuICB9XG5cbiAgcmV0dXJuIE11dGFibGVEYXRhO1xuXG59KTtcblxuLyoqXG4gKiBFbGVtZW50IGNsYXNzIG1peGluIHRvIGFkZCB0aGUgb3B0aW9uYWwgYWJpbGl0eSB0byBza2lwIHN0cmljdFxuICogZGlydHktY2hlY2tpbmcgZm9yIG9iamVjdHMgYW5kIGFycmF5cyAoYWx3YXlzIGNvbnNpZGVyIHRoZW0gdG8gYmVcbiAqIFwiZGlydHlcIikgYnkgc2V0dGluZyBhIGBtdXRhYmxlLWRhdGFgIGF0dHJpYnV0ZSBvbiBhbiBlbGVtZW50IGluc3RhbmNlLlxuICpcbiAqIEJ5IGRlZmF1bHQsIGBQcm9wZXJ0eUVmZmVjdHNgIHBlcmZvcm1zIHN0cmljdCBkaXJ0eSBjaGVja2luZyBvblxuICogb2JqZWN0cywgd2hpY2ggbWVhbnMgdGhhdCBhbnkgZGVlcCBtb2RpZmljYXRpb25zIHRvIGFuIG9iamVjdCBvciBhcnJheSB3aWxsXG4gKiBub3QgYmUgcHJvcGFnYXRlZCB1bmxlc3MgXCJpbW11dGFibGVcIiBkYXRhIHBhdHRlcm5zIGFyZSB1c2VkIChpLmUuIGFsbCBvYmplY3RcbiAqIHJlZmVyZW5jZXMgZnJvbSB0aGUgcm9vdCB0byB0aGUgbXV0YXRpb24gd2VyZSBjaGFuZ2VkKS5cbiAqXG4gKiBQb2x5bWVyIGFsc28gcHJvdmlkZXMgYSBwcm9wcmlldGFyeSBkYXRhIG11dGF0aW9uIGFuZCBwYXRoIG5vdGlmaWNhdGlvbiBBUElcbiAqIChlLmcuIGBub3RpZnlQYXRoYCwgYHNldGAsIGFuZCBhcnJheSBtdXRhdGlvbiBBUEkncykgdGhhdCBhbGxvdyBlZmZpY2llbnRcbiAqIG11dGF0aW9uIGFuZCBub3RpZmljYXRpb24gb2YgZGVlcCBjaGFuZ2VzIGluIGFuIG9iamVjdCBncmFwaCB0byBhbGwgZWxlbWVudHNcbiAqIGJvdW5kIHRvIHRoZSBzYW1lIG9iamVjdCBncmFwaC5cbiAqXG4gKiBJbiBjYXNlcyB3aGVyZSBuZWl0aGVyIGltbXV0YWJsZSBwYXR0ZXJucyBub3IgdGhlIGRhdGEgbXV0YXRpb24gQVBJIGNhbiBiZVxuICogdXNlZCwgYXBwbHlpbmcgdGhpcyBtaXhpbiB3aWxsIGFsbG93IFBvbHltZXIgdG8gc2tpcCBkaXJ0eSBjaGVja2luZyBmb3JcbiAqIG9iamVjdHMgYW5kIGFycmF5cyAoYWx3YXlzIGNvbnNpZGVyIHRoZW0gdG8gYmUgXCJkaXJ0eVwiKS4gIFRoaXMgYWxsb3dzIGFcbiAqIHVzZXIgdG8gbWFrZSBhIGRlZXAgbW9kaWZpY2F0aW9uIHRvIGEgYm91bmQgb2JqZWN0IGdyYXBoLCBhbmQgdGhlbiBlaXRoZXJcbiAqIHNpbXBseSByZS1zZXQgdGhlIG9iamVjdCAoZS5nLiBgdGhpcy5pdGVtcyA9IHRoaXMuaXRlbXNgKSBvciBjYWxsIGBub3RpZnlQYXRoYFxuICogKGUuZy4gYHRoaXMubm90aWZ5UGF0aCgnaXRlbXMnKWApIHRvIHVwZGF0ZSB0aGUgdHJlZS4gIE5vdGUgdGhhdCBhbGxcbiAqIGVsZW1lbnRzIHRoYXQgd2lzaCB0byBiZSB1cGRhdGVkIGJhc2VkIG9uIGRlZXAgbXV0YXRpb25zIG11c3QgYXBwbHkgdGhpc1xuICogbWl4aW4gb3Igb3RoZXJ3aXNlIHNraXAgc3RyaWN0IGRpcnR5IGNoZWNraW5nIGZvciBvYmplY3RzL2FycmF5cy5cbiAqIFNwZWNpZmljYWxseSwgYW55IGVsZW1lbnRzIGluIHRoZSBiaW5kaW5nIHRyZWUgYmV0d2VlbiB0aGUgc291cmNlIG9mIGFcbiAqIG11dGF0aW9uIGFuZCB0aGUgY29uc3VtcHRpb24gb2YgaXQgbXVzdCBlbmFibGUgdGhpcyBtaXhpbiBvciBhcHBseSB0aGVcbiAqIGBNdXRhYmxlRGF0YWAgbWl4aW4uXG4gKlxuICogV2hpbGUgdGhpcyBtaXhpbiBhZGRzIHRoZSBhYmlsaXR5IHRvIGZvcmdvIE9iamVjdC9BcnJheSBkaXJ0eSBjaGVja2luZyxcbiAqIHRoZSBgbXV0YWJsZURhdGFgIGZsYWcgZGVmYXVsdHMgdG8gZmFsc2UgYW5kIG11c3QgYmUgc2V0IG9uIHRoZSBpbnN0YW5jZS5cbiAqXG4gKiBOb3RlLCB0aGUgcGVyZm9ybWFuY2UgY2hhcmFjdGVyaXN0aWNzIG9mIHByb3BhZ2F0aW5nIGxhcmdlIG9iamVjdCBncmFwaHNcbiAqIHdpbGwgYmUgd29yc2UgYnkgcmVseWluZyBvbiBgbXV0YWJsZURhdGE6IHRydWVgIGFzIG9wcG9zZWQgdG8gdXNpbmdcbiAqIHN0cmljdCBkaXJ0eSBjaGVja2luZyB3aXRoIGltbXV0YWJsZSBwYXR0ZXJucyBvciBQb2x5bWVyJ3MgcGF0aCBub3RpZmljYXRpb25cbiAqIEFQSS5cbiAqXG4gKiBAbWl4aW5GdW5jdGlvblxuICogQHBvbHltZXJcbiAqIEBzdW1tYXJ5IEVsZW1lbnQgY2xhc3MgbWl4aW4gdG8gb3B0aW9uYWxseSBza2lwIHN0cmljdCBkaXJ0eS1jaGVja2luZ1xuICogICBmb3Igb2JqZWN0cyBhbmQgYXJyYXlzXG4gKi9cbmV4cG9ydCBjb25zdCBPcHRpb25hbE11dGFibGVEYXRhID0gZGVkdXBpbmdNaXhpbihzdXBlckNsYXNzID0+IHtcblxuICAvKipcbiAgICogQG1peGluQ2xhc3NcbiAgICogQHBvbHltZXJcbiAgICogQGltcGxlbWVudHMge1BvbHltZXJfT3B0aW9uYWxNdXRhYmxlRGF0YX1cbiAgICovXG4gIGNsYXNzIE9wdGlvbmFsTXV0YWJsZURhdGEgZXh0ZW5kcyBzdXBlckNsYXNzIHtcblxuICAgIHN0YXRpYyBnZXQgcHJvcGVydGllcygpIHtcbiAgICAgIHJldHVybiB7XG4gICAgICAgIC8qKlxuICAgICAgICAgKiBJbnN0YW5jZS1sZXZlbCBmbGFnIGZvciBjb25maWd1cmluZyB0aGUgZGlydHktY2hlY2tpbmcgc3RyYXRlZ3lcbiAgICAgICAgICogZm9yIHRoaXMgZWxlbWVudC4gIFdoZW4gdHJ1ZSwgT2JqZWN0cyBhbmQgQXJyYXlzIHdpbGwgc2tpcCBkaXJ0eVxuICAgICAgICAgKiBjaGVja2luZywgb3RoZXJ3aXNlIHN0cmljdCBlcXVhbGl0eSBjaGVja2luZyB3aWxsIGJlIHVzZWQuXG4gICAgICAgICAqL1xuICAgICAgICBtdXRhYmxlRGF0YTogQm9vbGVhblxuICAgICAgfTtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBPdmVycmlkZXMgYFByb3BlcnR5RWZmZWN0c2AgdG8gcHJvdmlkZSBvcHRpb24gZm9yIHNraXBwaW5nXG4gICAgICogc3RyaWN0IGVxdWFsaXR5IGNoZWNraW5nIGZvciBPYmplY3RzIGFuZCBBcnJheXMuXG4gICAgICpcbiAgICAgKiBXaGVuIGB0aGlzLm11dGFibGVEYXRhYCBpcyB0cnVlIG9uIHRoaXMgaW5zdGFuY2UsIHRoaXMgbWV0aG9kXG4gICAgICogcHVsbHMgdGhlIHZhbHVlIHRvIGRpcnR5IGNoZWNrIGFnYWluc3QgZnJvbSB0aGUgYF9fZGF0YVRlbXBgIGNhY2hlXG4gICAgICogKHJhdGhlciB0aGFuIHRoZSBub3JtYWwgYF9fZGF0YWAgY2FjaGUpIGZvciBPYmplY3RzLiAgU2luY2UgdGhlIHRlbXBcbiAgICAgKiBjYWNoZSBpcyBjbGVhcmVkIGF0IHRoZSBlbmQgb2YgYSB0dXJuLCB0aGlzIGltcGxlbWVudGF0aW9uIGFsbG93c1xuICAgICAqIHNpZGUtZWZmZWN0cyBvZiBkZWVwIG9iamVjdCBjaGFuZ2VzIHRvIGJlIHByb2Nlc3NlZCBieSByZS1zZXR0aW5nIHRoZVxuICAgICAqIHNhbWUgb2JqZWN0ICh1c2luZyB0aGUgdGVtcCBjYWNoZSBhcyBhbiBpbi10dXJuIGJhY2tzdG9wIHRvIHByZXZlbnRcbiAgICAgKiBjeWNsZXMgZHVlIHRvIDItd2F5IG5vdGlmaWNhdGlvbikuXG4gICAgICpcbiAgICAgKiBAcGFyYW0ge3N0cmluZ30gcHJvcGVydHkgUHJvcGVydHkgbmFtZVxuICAgICAqIEBwYXJhbSB7Kn0gdmFsdWUgTmV3IHByb3BlcnR5IHZhbHVlXG4gICAgICogQHBhcmFtIHsqfSBvbGQgUHJldmlvdXMgcHJvcGVydHkgdmFsdWVcbiAgICAgKiBAcmV0dXJuIHtib29sZWFufSBXaGV0aGVyIHRoZSBwcm9wZXJ0eSBzaG91bGQgYmUgY29uc2lkZXJlZCBhIGNoYW5nZVxuICAgICAqIEBwcm90ZWN0ZWRcbiAgICAgKi9cbiAgICBfc2hvdWxkUHJvcGVydHlDaGFuZ2UocHJvcGVydHksIHZhbHVlLCBvbGQpIHtcbiAgICAgIHJldHVybiBtdXRhYmxlUHJvcGVydHlDaGFuZ2UodGhpcywgcHJvcGVydHksIHZhbHVlLCBvbGQsIHRoaXMubXV0YWJsZURhdGEpO1xuICAgIH1cbiAgfVxuXG4gIHJldHVybiBPcHRpb25hbE11dGFibGVEYXRhO1xuXG59KTtcblxuLy8gRXhwb3J0IGZvciB1c2UgYnkgbGVnYWN5IGJlaGF2aW9yXG5NdXRhYmxlRGF0YS5fbXV0YWJsZVByb3BlcnR5Q2hhbmdlID0gbXV0YWJsZVByb3BlcnR5Q2hhbmdlO1xuIiwiLyoqXG5AbGljZW5zZVxuQ29weXJpZ2h0IChjKSAyMDE3IFRoZSBQb2x5bWVyIFByb2plY3QgQXV0aG9ycy4gQWxsIHJpZ2h0cyByZXNlcnZlZC5cblRoaXMgY29kZSBtYXkgb25seSBiZSB1c2VkIHVuZGVyIHRoZSBCU0Qgc3R5bGUgbGljZW5zZSBmb3VuZCBhdCBodHRwOi8vcG9seW1lci5naXRodWIuaW8vTElDRU5TRS50eHRcblRoZSBjb21wbGV0ZSBzZXQgb2YgYXV0aG9ycyBtYXkgYmUgZm91bmQgYXQgaHR0cDovL3BvbHltZXIuZ2l0aHViLmlvL0FVVEhPUlMudHh0XG5UaGUgY29tcGxldGUgc2V0IG9mIGNvbnRyaWJ1dG9ycyBtYXkgYmUgZm91bmQgYXQgaHR0cDovL3BvbHltZXIuZ2l0aHViLmlvL0NPTlRSSUJVVE9SUy50eHRcbkNvZGUgZGlzdHJpYnV0ZWQgYnkgR29vZ2xlIGFzIHBhcnQgb2YgdGhlIHBvbHltZXIgcHJvamVjdCBpcyBhbHNvXG5zdWJqZWN0IHRvIGFuIGFkZGl0aW9uYWwgSVAgcmlnaHRzIGdyYW50IGZvdW5kIGF0IGh0dHA6Ly9wb2x5bWVyLmdpdGh1Yi5pby9QQVRFTlRTLnR4dFxuKi9cblxuLyoqXG4gKiBNb2R1bGUgZm9yIHByZXBhcmluZyBhbmQgc3RhbXBpbmcgaW5zdGFuY2VzIG9mIHRlbXBsYXRlcyB0aGF0IHV0aWxpemVcbiAqIFBvbHltZXIncyBkYXRhLWJpbmRpbmcgYW5kIGRlY2xhcmF0aXZlIGV2ZW50IGxpc3RlbmVyIGZlYXR1cmVzLlxuICpcbiAqIEV4YW1wbGU6XG4gKlxuICogICAgIC8vIEdldCBhIHRlbXBsYXRlIGZyb20gc29tZXdoZXJlLCBlLmcuIGxpZ2h0IERPTVxuICogICAgIGxldCB0ZW1wbGF0ZSA9IHRoaXMucXVlcnlTZWxlY3RvcigndGVtcGxhdGUnKTtcbiAqICAgICAvLyBQcmVwYXJlIHRoZSB0ZW1wbGF0ZVxuICogICAgIGxldCBUZW1wbGF0ZUNsYXNzID0gVGVtcGxhdGl6ZS50ZW1wbGF0aXplKHRlbXBsYXRlKTtcbiAqICAgICAvLyBJbnN0YW5jZSB0aGUgdGVtcGxhdGUgd2l0aCBhbiBpbml0aWFsIGRhdGEgbW9kZWxcbiAqICAgICBsZXQgaW5zdGFuY2UgPSBuZXcgVGVtcGxhdGVDbGFzcyh7bXlQcm9wOiAnaW5pdGlhbCd9KTtcbiAqICAgICAvLyBJbnNlcnQgdGhlIGluc3RhbmNlJ3MgRE9NIHNvbWV3aGVyZSwgZS5nLiBlbGVtZW50J3Mgc2hhZG93IERPTVxuICogICAgIHRoaXMuc2hhZG93Um9vdC5hcHBlbmRDaGlsZChpbnN0YW5jZS5yb290KTtcbiAqICAgICAvLyBDaGFuZ2luZyBhIHByb3BlcnR5IG9uIHRoZSBpbnN0YW5jZSB3aWxsIHByb3BhZ2F0ZSB0byBiaW5kaW5nc1xuICogICAgIC8vIGluIHRoZSB0ZW1wbGF0ZVxuICogICAgIGluc3RhbmNlLm15UHJvcCA9ICduZXcgdmFsdWUnO1xuICpcbiAqIFRoZSBgb3B0aW9uc2AgZGljdGlvbmFyeSBwYXNzZWQgdG8gYHRlbXBsYXRpemVgIGFsbG93cyBmb3IgY3VzdG9taXppbmdcbiAqIGZlYXR1cmVzIG9mIHRoZSBnZW5lcmF0ZWQgdGVtcGxhdGUgY2xhc3MsIGluY2x1ZGluZyBob3cgb3V0ZXItc2NvcGUgaG9zdFxuICogcHJvcGVydGllcyBzaG91bGQgYmUgZm9yd2FyZGVkIGludG8gdGVtcGxhdGUgaW5zdGFuY2VzLCBob3cgYW55IGluc3RhbmNlXG4gKiBwcm9wZXJ0aWVzIGFkZGVkIGludG8gdGhlIHRlbXBsYXRlJ3Mgc2NvcGUgc2hvdWxkIGJlIG5vdGlmaWVkIG91dCB0b1xuICogdGhlIGhvc3QsIGFuZCB3aGV0aGVyIHRoZSBpbnN0YW5jZSBzaG91bGQgYmUgZGVjb3JhdGVkIGFzIGEgXCJwYXJlbnQgbW9kZWxcIlxuICogb2YgYW55IGV2ZW50IGhhbmRsZXJzLlxuICpcbiAqICAgICAvLyBDdXN0b21pemUgcHJvcGVydHkgZm9yd2FyZGluZyBhbmQgZXZlbnQgbW9kZWwgZGVjb3JhdGlvblxuICogICAgIGxldCBUZW1wbGF0ZUNsYXNzID0gVGVtcGxhdGl6ZS50ZW1wbGF0aXplKHRlbXBsYXRlLCB0aGlzLCB7XG4gKiAgICAgICBwYXJlbnRNb2RlbDogdHJ1ZSxcbiAqICAgICAgIGZvcndhcmRIb3N0UHJvcChwcm9wZXJ0eSwgdmFsdWUpIHsuLi59LFxuICogICAgICAgaW5zdGFuY2VQcm9wczogey4uLn0sXG4gKiAgICAgICBub3RpZnlJbnN0YW5jZVByb3AoaW5zdGFuY2UsIHByb3BlcnR5LCB2YWx1ZSkgey4uLn0sXG4gKiAgICAgfSk7XG4gKlxuICogQHN1bW1hcnkgTW9kdWxlIGZvciBwcmVwYXJpbmcgYW5kIHN0YW1waW5nIGluc3RhbmNlcyBvZiB0ZW1wbGF0ZXNcbiAqICAgdXRpbGl6aW5nIFBvbHltZXIgdGVtcGxhdGluZyBmZWF0dXJlcy5cbiAqL1xuXG5pbXBvcnQgJy4vYm9vdC5qcyc7XG5cbmltcG9ydCB7IFByb3BlcnR5RWZmZWN0cyB9IGZyb20gJy4uL21peGlucy9wcm9wZXJ0eS1lZmZlY3RzLmpzJztcbmltcG9ydCB7IE11dGFibGVEYXRhIH0gZnJvbSAnLi4vbWl4aW5zL211dGFibGUtZGF0YS5qcyc7XG5pbXBvcnQgeyBzdHJpY3RUZW1wbGF0ZVBvbGljeSB9IGZyb20gJy4vc2V0dGluZ3MuanMnO1xuaW1wb3J0IHsgd3JhcCB9IGZyb20gJy4vd3JhcC5qcyc7XG5cbi8vIEJhc2UgY2xhc3MgZm9yIEhUTUxUZW1wbGF0ZUVsZW1lbnQgZXh0ZW5zaW9uIHRoYXQgaGFzIHByb3BlcnR5IGVmZmVjdHNcbi8vIG1hY2hpbmVyeSBmb3IgcHJvcGFnYXRpbmcgaG9zdCBwcm9wZXJ0aWVzIHRvIGNoaWxkcmVuLiBUaGlzIGlzIGFuIEVTNVxuLy8gY2xhc3Mgb25seSBiZWNhdXNlIEJhYmVsIChpbmNvcnJlY3RseSkgcmVxdWlyZXMgc3VwZXIoKSBpbiB0aGUgY2xhc3Ncbi8vIGNvbnN0cnVjdG9yIGV2ZW4gdGhvdWdoIG5vIGB0aGlzYCBpcyB1c2VkIGFuZCBpdCByZXR1cm5zIGFuIGluc3RhbmNlLlxubGV0IG5ld0luc3RhbmNlID0gbnVsbDtcblxuLyoqXG4gKiBAY29uc3RydWN0b3JcbiAqIEBleHRlbmRzIHtIVE1MVGVtcGxhdGVFbGVtZW50fVxuICogQHByaXZhdGVcbiAqL1xuZnVuY3Rpb24gSFRNTFRlbXBsYXRlRWxlbWVudEV4dGVuc2lvbigpIHsgcmV0dXJuIG5ld0luc3RhbmNlOyB9XG5IVE1MVGVtcGxhdGVFbGVtZW50RXh0ZW5zaW9uLnByb3RvdHlwZSA9IE9iamVjdC5jcmVhdGUoSFRNTFRlbXBsYXRlRWxlbWVudC5wcm90b3R5cGUsIHtcbiAgY29uc3RydWN0b3I6IHtcbiAgICB2YWx1ZTogSFRNTFRlbXBsYXRlRWxlbWVudEV4dGVuc2lvbixcbiAgICB3cml0YWJsZTogdHJ1ZVxuICB9XG59KTtcblxuLyoqXG4gKiBAY29uc3RydWN0b3JcbiAqIEBpbXBsZW1lbnRzIHtQb2x5bWVyX1Byb3BlcnR5RWZmZWN0c31cbiAqIEBleHRlbmRzIHtIVE1MVGVtcGxhdGVFbGVtZW50RXh0ZW5zaW9ufVxuICogQHByaXZhdGVcbiAqL1xuY29uc3QgRGF0YVRlbXBsYXRlID0gUHJvcGVydHlFZmZlY3RzKEhUTUxUZW1wbGF0ZUVsZW1lbnRFeHRlbnNpb24pO1xuXG4vKipcbiAqIEBjb25zdHJ1Y3RvclxuICogQGltcGxlbWVudHMge1BvbHltZXJfTXV0YWJsZURhdGF9XG4gKiBAZXh0ZW5kcyB7RGF0YVRlbXBsYXRlfVxuICogQHByaXZhdGVcbiAqL1xuY29uc3QgTXV0YWJsZURhdGFUZW1wbGF0ZSA9IE11dGFibGVEYXRhKERhdGFUZW1wbGF0ZSk7XG5cbi8vIEFwcGxpZXMgYSBEYXRhVGVtcGxhdGUgc3ViY2xhc3MgdG8gYSA8dGVtcGxhdGU+IGluc3RhbmNlXG5mdW5jdGlvbiB1cGdyYWRlVGVtcGxhdGUodGVtcGxhdGUsIGNvbnN0cnVjdG9yKSB7XG4gIG5ld0luc3RhbmNlID0gdGVtcGxhdGU7XG4gIE9iamVjdC5zZXRQcm90b3R5cGVPZih0ZW1wbGF0ZSwgY29uc3RydWN0b3IucHJvdG90eXBlKTtcbiAgbmV3IGNvbnN0cnVjdG9yKCk7XG4gIG5ld0luc3RhbmNlID0gbnVsbDtcbn1cblxuLyoqXG4gKiBCYXNlIGNsYXNzIGZvciBUZW1wbGF0ZUluc3RhbmNlLlxuICogQGNvbnN0cnVjdG9yXG4gKiBAaW1wbGVtZW50cyB7UG9seW1lcl9Qcm9wZXJ0eUVmZmVjdHN9XG4gKiBAcHJpdmF0ZVxuICovXG5jb25zdCB0ZW1wbGF0ZUluc3RhbmNlQmFzZSA9IFByb3BlcnR5RWZmZWN0cyhjbGFzcyB7fSk7XG5cbi8qKlxuICogQHBvbHltZXJcbiAqIEBjdXN0b21FbGVtZW50XG4gKiBAYXBwbGllc01peGluIFByb3BlcnR5RWZmZWN0c1xuICogQHVucmVzdHJpY3RlZFxuICovXG5jbGFzcyBUZW1wbGF0ZUluc3RhbmNlQmFzZSBleHRlbmRzIHRlbXBsYXRlSW5zdGFuY2VCYXNlIHtcbiAgY29uc3RydWN0b3IocHJvcHMpIHtcbiAgICBzdXBlcigpO1xuICAgIHRoaXMuX2NvbmZpZ3VyZVByb3BlcnRpZXMocHJvcHMpO1xuICAgIC8qKiBAdHlwZSB7IVN0YW1wZWRUZW1wbGF0ZX0gKi9cbiAgICB0aGlzLnJvb3QgPSB0aGlzLl9zdGFtcFRlbXBsYXRlKHRoaXMuX19kYXRhSG9zdCk7XG4gICAgLy8gU2F2ZSBsaXN0IG9mIHN0YW1wZWQgY2hpbGRyZW5cbiAgICBsZXQgY2hpbGRyZW4gPSB0aGlzLmNoaWxkcmVuID0gW107XG4gICAgLy8gUG9seW1lciAxLnggZGlkIG5vdCB1c2UgYFBvbHltZXIuZG9tYCBoZXJlIHNvIG5vdCBib3RoZXJpbmcuXG4gICAgZm9yIChsZXQgbiA9IHRoaXMucm9vdC5maXJzdENoaWxkOyBuOyBuPW4ubmV4dFNpYmxpbmcpIHtcbiAgICAgIGNoaWxkcmVuLnB1c2gobik7XG4gICAgICBuLl9fdGVtcGxhdGl6ZUluc3RhbmNlID0gdGhpcztcbiAgICB9XG4gICAgaWYgKHRoaXMuX190ZW1wbGF0aXplT3duZXIgJiZcbiAgICAgIHRoaXMuX190ZW1wbGF0aXplT3duZXIuX19oaWRlVGVtcGxhdGVDaGlsZHJlbl9fKSB7XG4gICAgICB0aGlzLl9zaG93SGlkZUNoaWxkcmVuKHRydWUpO1xuICAgIH1cbiAgICAvLyBGbHVzaCBwcm9wcyBvbmx5IHdoZW4gcHJvcHMgYXJlIHBhc3NlZCBpZiBpbnN0YW5jZSBwcm9wcyBleGlzdFxuICAgIC8vIG9yIHdoZW4gdGhlcmUgaXNuJ3QgaW5zdGFuY2UgcHJvcHMuXG4gICAgbGV0IG9wdGlvbnMgPSB0aGlzLl9fdGVtcGxhdGl6ZU9wdGlvbnM7XG4gICAgaWYgKChwcm9wcyAmJiBvcHRpb25zLmluc3RhbmNlUHJvcHMpIHx8ICFvcHRpb25zLmluc3RhbmNlUHJvcHMpIHtcbiAgICAgIHRoaXMuX2VuYWJsZVByb3BlcnRpZXMoKTtcbiAgICB9XG4gIH1cbiAgLyoqXG4gICAqIENvbmZpZ3VyZSB0aGUgZ2l2ZW4gYHByb3BzYCBieSBjYWxsaW5nIGBfc2V0UGVuZGluZ1Byb3BlcnR5YC4gQWxzb1xuICAgKiBzZXRzIGFueSBwcm9wZXJ0aWVzIHN0b3JlZCBpbiBgX19ob3N0UHJvcHNgLlxuICAgKiBAcHJpdmF0ZVxuICAgKiBAcGFyYW0ge09iamVjdH0gcHJvcHMgT2JqZWN0IG9mIHByb3BlcnR5IG5hbWUtdmFsdWUgcGFpcnMgdG8gc2V0LlxuICAgKiBAcmV0dXJuIHt2b2lkfVxuICAgKi9cbiAgX2NvbmZpZ3VyZVByb3BlcnRpZXMocHJvcHMpIHtcbiAgICBsZXQgb3B0aW9ucyA9IHRoaXMuX190ZW1wbGF0aXplT3B0aW9ucztcbiAgICBpZiAob3B0aW9ucy5mb3J3YXJkSG9zdFByb3ApIHtcbiAgICAgIGZvciAobGV0IGhwcm9wIGluIHRoaXMuX19ob3N0UHJvcHMpIHtcbiAgICAgICAgdGhpcy5fc2V0UGVuZGluZ1Byb3BlcnR5KGhwcm9wLCB0aGlzLl9fZGF0YUhvc3RbJ19ob3N0XycgKyBocHJvcF0pO1xuICAgICAgfVxuICAgIH1cbiAgICAvLyBBbnkgaW5zdGFuY2UgcHJvcHMgcGFzc2VkIGluIHRoZSBjb25zdHJ1Y3RvciB3aWxsIG92ZXJ3cml0ZSBob3N0IHByb3BzO1xuICAgIC8vIG5vcm1hbGx5IHRoaXMgd291bGQgYmUgYSB1c2VyIGVycm9yIGJ1dCB3ZSBkb24ndCBzcGVjaWZpY2FsbHkgZmlsdGVyIHRoZW1cbiAgICBmb3IgKGxldCBpcHJvcCBpbiBwcm9wcykge1xuICAgICAgdGhpcy5fc2V0UGVuZGluZ1Byb3BlcnR5KGlwcm9wLCBwcm9wc1tpcHJvcF0pO1xuICAgIH1cbiAgfVxuICAvKipcbiAgICogRm9yd2FyZHMgYSBob3N0IHByb3BlcnR5IHRvIHRoaXMgaW5zdGFuY2UuICBUaGlzIG1ldGhvZCBzaG91bGQgYmVcbiAgICogY2FsbGVkIG9uIGluc3RhbmNlcyBmcm9tIHRoZSBgb3B0aW9ucy5mb3J3YXJkSG9zdFByb3BgIGNhbGxiYWNrXG4gICAqIHRvIHByb3BhZ2F0ZSBjaGFuZ2VzIG9mIGhvc3QgcHJvcGVydGllcyB0byBlYWNoIGluc3RhbmNlLlxuICAgKlxuICAgKiBOb3RlIHRoaXMgbWV0aG9kIGVucXVldWVzIHRoZSBjaGFuZ2UsIHdoaWNoIGFyZSBmbHVzaGVkIGFzIGEgYmF0Y2guXG4gICAqXG4gICAqIEBwYXJhbSB7c3RyaW5nfSBwcm9wIFByb3BlcnR5IG9yIHBhdGggbmFtZVxuICAgKiBAcGFyYW0geyp9IHZhbHVlIFZhbHVlIG9mIHRoZSBwcm9wZXJ0eSB0byBmb3J3YXJkXG4gICAqIEByZXR1cm4ge3ZvaWR9XG4gICAqL1xuICBmb3J3YXJkSG9zdFByb3AocHJvcCwgdmFsdWUpIHtcbiAgICBpZiAodGhpcy5fc2V0UGVuZGluZ1Byb3BlcnR5T3JQYXRoKHByb3AsIHZhbHVlLCBmYWxzZSwgdHJ1ZSkpIHtcbiAgICAgIHRoaXMuX19kYXRhSG9zdC5fZW5xdWV1ZUNsaWVudCh0aGlzKTtcbiAgICB9XG4gIH1cblxuICAvKipcbiAgICogT3ZlcnJpZGUgcG9pbnQgZm9yIGFkZGluZyBjdXN0b20gb3Igc2ltdWxhdGVkIGV2ZW50IGhhbmRsaW5nLlxuICAgKlxuICAgKiBAb3ZlcnJpZGVcbiAgICogQHBhcmFtIHshTm9kZX0gbm9kZSBOb2RlIHRvIGFkZCBldmVudCBsaXN0ZW5lciB0b1xuICAgKiBAcGFyYW0ge3N0cmluZ30gZXZlbnROYW1lIE5hbWUgb2YgZXZlbnRcbiAgICogQHBhcmFtIHtmdW5jdGlvbighRXZlbnQpOnZvaWR9IGhhbmRsZXIgTGlzdGVuZXIgZnVuY3Rpb24gdG8gYWRkXG4gICAqIEByZXR1cm4ge3ZvaWR9XG4gICAqL1xuICBfYWRkRXZlbnRMaXN0ZW5lclRvTm9kZShub2RlLCBldmVudE5hbWUsIGhhbmRsZXIpIHtcbiAgICBpZiAodGhpcy5fbWV0aG9kSG9zdCAmJiB0aGlzLl9fdGVtcGxhdGl6ZU9wdGlvbnMucGFyZW50TW9kZWwpIHtcbiAgICAgIC8vIElmIHRoaXMgaW5zdGFuY2Ugc2hvdWxkIGJlIGNvbnNpZGVyZWQgYSBwYXJlbnQgbW9kZWwsIGRlY29yYXRlXG4gICAgICAvLyBldmVudHMgdGhpcyB0ZW1wbGF0ZSBpbnN0YW5jZSBhcyBgbW9kZWxgXG4gICAgICB0aGlzLl9tZXRob2RIb3N0Ll9hZGRFdmVudExpc3RlbmVyVG9Ob2RlKG5vZGUsIGV2ZW50TmFtZSwgKGUpID0+IHtcbiAgICAgICAgZS5tb2RlbCA9IHRoaXM7XG4gICAgICAgIGhhbmRsZXIoZSk7XG4gICAgICB9KTtcbiAgICB9IGVsc2Uge1xuICAgICAgLy8gT3RoZXJ3aXNlIGRlbGVnYXRlIHRvIHRoZSB0ZW1wbGF0ZSdzIGhvc3QgKHdoaWNoIGNvdWxkIGJlKVxuICAgICAgLy8gYW5vdGhlciB0ZW1wbGF0ZSBpbnN0YW5jZVxuICAgICAgbGV0IHRlbXBsYXRlSG9zdCA9IHRoaXMuX19kYXRhSG9zdC5fX2RhdGFIb3N0O1xuICAgICAgaWYgKHRlbXBsYXRlSG9zdCkge1xuICAgICAgICB0ZW1wbGF0ZUhvc3QuX2FkZEV2ZW50TGlzdGVuZXJUb05vZGUobm9kZSwgZXZlbnROYW1lLCBoYW5kbGVyKTtcbiAgICAgIH1cbiAgICB9XG4gIH1cbiAgLyoqXG4gICAqIFNob3dzIG9yIGhpZGVzIHRoZSB0ZW1wbGF0ZSBpbnN0YW5jZSB0b3AgbGV2ZWwgY2hpbGQgZWxlbWVudHMuIEZvclxuICAgKiB0ZXh0IG5vZGVzLCBgdGV4dENvbnRlbnRgIGlzIHJlbW92ZWQgd2hpbGUgXCJoaWRkZW5cIiBhbmQgcmVwbGFjZWQgd2hlblxuICAgKiBcInNob3duLlwiXG4gICAqIEBwYXJhbSB7Ym9vbGVhbn0gaGlkZSBTZXQgdG8gdHJ1ZSB0byBoaWRlIHRoZSBjaGlsZHJlbjtcbiAgICogc2V0IHRvIGZhbHNlIHRvIHNob3cgdGhlbS5cbiAgICogQHJldHVybiB7dm9pZH1cbiAgICogQHByb3RlY3RlZFxuICAgKi9cbiAgX3Nob3dIaWRlQ2hpbGRyZW4oaGlkZSkge1xuICAgIGxldCBjID0gdGhpcy5jaGlsZHJlbjtcbiAgICBmb3IgKGxldCBpPTA7IGk8Yy5sZW5ndGg7IGkrKykge1xuICAgICAgbGV0IG4gPSBjW2ldO1xuICAgICAgLy8gSWdub3JlIG5vbi1jaGFuZ2VzXG4gICAgICBpZiAoQm9vbGVhbihoaWRlKSAhPSBCb29sZWFuKG4uX19oaWRlVGVtcGxhdGVDaGlsZHJlbl9fKSkge1xuICAgICAgICBpZiAobi5ub2RlVHlwZSA9PT0gTm9kZS5URVhUX05PREUpIHtcbiAgICAgICAgICBpZiAoaGlkZSkge1xuICAgICAgICAgICAgbi5fX3BvbHltZXJUZXh0Q29udGVudF9fID0gbi50ZXh0Q29udGVudDtcbiAgICAgICAgICAgIG4udGV4dENvbnRlbnQgPSAnJztcbiAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgbi50ZXh0Q29udGVudCA9IG4uX19wb2x5bWVyVGV4dENvbnRlbnRfXztcbiAgICAgICAgICB9XG4gICAgICAgIC8vIHJlbW92ZSBhbmQgcmVwbGFjZSBzbG90XG4gICAgICAgIH0gZWxzZSBpZiAobi5sb2NhbE5hbWUgPT09ICdzbG90Jykge1xuICAgICAgICAgIGlmIChoaWRlKSB7XG4gICAgICAgICAgICBuLl9fcG9seW1lclJlcGxhY2VkX18gPSBkb2N1bWVudC5jcmVhdGVDb21tZW50KCdoaWRkZW4tc2xvdCcpO1xuICAgICAgICAgICAgd3JhcCh3cmFwKG4pLnBhcmVudE5vZGUpLnJlcGxhY2VDaGlsZChuLl9fcG9seW1lclJlcGxhY2VkX18sIG4pO1xuICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICBjb25zdCByZXBsYWNlID0gbi5fX3BvbHltZXJSZXBsYWNlZF9fO1xuICAgICAgICAgICAgaWYgKHJlcGxhY2UpIHtcbiAgICAgICAgICAgICAgd3JhcCh3cmFwKHJlcGxhY2UpLnBhcmVudE5vZGUpLnJlcGxhY2VDaGlsZChuLCByZXBsYWNlKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICB9XG4gICAgICAgIH1cblxuICAgICAgICBlbHNlIGlmIChuLnN0eWxlKSB7XG4gICAgICAgICAgaWYgKGhpZGUpIHtcbiAgICAgICAgICAgIG4uX19wb2x5bWVyRGlzcGxheV9fID0gbi5zdHlsZS5kaXNwbGF5O1xuICAgICAgICAgICAgbi5zdHlsZS5kaXNwbGF5ID0gJ25vbmUnO1xuICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICBuLnN0eWxlLmRpc3BsYXkgPSBuLl9fcG9seW1lckRpc3BsYXlfXztcbiAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICAgIG4uX19oaWRlVGVtcGxhdGVDaGlsZHJlbl9fID0gaGlkZTtcbiAgICAgIGlmIChuLl9zaG93SGlkZUNoaWxkcmVuKSB7XG4gICAgICAgIG4uX3Nob3dIaWRlQ2hpbGRyZW4oaGlkZSk7XG4gICAgICB9XG4gICAgfVxuICB9XG4gIC8qKlxuICAgKiBPdmVycmlkZXMgZGVmYXVsdCBwcm9wZXJ0eS1lZmZlY3RzIGltcGxlbWVudGF0aW9uIHRvIGludGVyY2VwdFxuICAgKiB0ZXh0Q29udGVudCBiaW5kaW5ncyB3aGlsZSBjaGlsZHJlbiBhcmUgXCJoaWRkZW5cIiBhbmQgY2FjaGUgaW5cbiAgICogcHJpdmF0ZSBzdG9yYWdlIGZvciBsYXRlciByZXRyaWV2YWwuXG4gICAqXG4gICAqIEBvdmVycmlkZVxuICAgKiBAcGFyYW0geyFOb2RlfSBub2RlIFRoZSBub2RlIHRvIHNldCBhIHByb3BlcnR5IG9uXG4gICAqIEBwYXJhbSB7c3RyaW5nfSBwcm9wIFRoZSBwcm9wZXJ0eSB0byBzZXRcbiAgICogQHBhcmFtIHsqfSB2YWx1ZSBUaGUgdmFsdWUgdG8gc2V0XG4gICAqIEByZXR1cm4ge3ZvaWR9XG4gICAqIEBwcm90ZWN0ZWRcbiAgICovXG4gIF9zZXRVbm1hbmFnZWRQcm9wZXJ0eVRvTm9kZShub2RlLCBwcm9wLCB2YWx1ZSkge1xuICAgIGlmIChub2RlLl9faGlkZVRlbXBsYXRlQ2hpbGRyZW5fXyAmJlxuICAgICAgICBub2RlLm5vZGVUeXBlID09IE5vZGUuVEVYVF9OT0RFICYmIHByb3AgPT0gJ3RleHRDb250ZW50Jykge1xuICAgICAgbm9kZS5fX3BvbHltZXJUZXh0Q29udGVudF9fID0gdmFsdWU7XG4gICAgfSBlbHNlIHtcbiAgICAgIHN1cGVyLl9zZXRVbm1hbmFnZWRQcm9wZXJ0eVRvTm9kZShub2RlLCBwcm9wLCB2YWx1ZSk7XG4gICAgfVxuICB9XG4gIC8qKlxuICAgKiBGaW5kIHRoZSBwYXJlbnQgbW9kZWwgb2YgdGhpcyB0ZW1wbGF0ZSBpbnN0YW5jZS4gIFRoZSBwYXJlbnQgbW9kZWxcbiAgICogaXMgZWl0aGVyIGFub3RoZXIgdGVtcGxhdGl6ZSBpbnN0YW5jZSB0aGF0IGhhZCBvcHRpb24gYHBhcmVudE1vZGVsOiB0cnVlYCxcbiAgICogb3IgZWxzZSB0aGUgaG9zdCBlbGVtZW50LlxuICAgKlxuICAgKiBAcmV0dXJuIHshUG9seW1lcl9Qcm9wZXJ0eUVmZmVjdHN9IFRoZSBwYXJlbnQgbW9kZWwgb2YgdGhpcyBpbnN0YW5jZVxuICAgKi9cbiAgZ2V0IHBhcmVudE1vZGVsKCkge1xuICAgIGxldCBtb2RlbCA9IHRoaXMuX19wYXJlbnRNb2RlbDtcbiAgICBpZiAoIW1vZGVsKSB7XG4gICAgICBsZXQgb3B0aW9ucztcbiAgICAgIG1vZGVsID0gdGhpcztcbiAgICAgIGRvIHtcbiAgICAgICAgLy8gQSB0ZW1wbGF0ZSBpbnN0YW5jZSdzIGBfX2RhdGFIb3N0YCBpcyBhIDx0ZW1wbGF0ZT5cbiAgICAgICAgLy8gYG1vZGVsLl9fZGF0YUhvc3QuX19kYXRhSG9zdGAgaXMgdGhlIHRlbXBsYXRlJ3MgaG9zdFxuICAgICAgICBtb2RlbCA9IG1vZGVsLl9fZGF0YUhvc3QuX19kYXRhSG9zdDtcbiAgICAgIH0gd2hpbGUgKChvcHRpb25zID0gbW9kZWwuX190ZW1wbGF0aXplT3B0aW9ucykgJiYgIW9wdGlvbnMucGFyZW50TW9kZWwpO1xuICAgICAgdGhpcy5fX3BhcmVudE1vZGVsID0gbW9kZWw7XG4gICAgfVxuICAgIHJldHVybiBtb2RlbDtcbiAgfVxuXG4gIC8qKlxuICAgKiBTdHViIG9mIEhUTUxFbGVtZW50J3MgYGRpc3BhdGNoRXZlbnRgLCBzbyB0aGF0IGVmZmVjdHMgdGhhdCBtYXlcbiAgICogZGlzcGF0Y2ggZXZlbnRzIHNhZmVseSBuby1vcC5cbiAgICpcbiAgICogQHBhcmFtIHtFdmVudH0gZXZlbnQgRXZlbnQgdG8gZGlzcGF0Y2hcbiAgICogQHJldHVybiB7Ym9vbGVhbn0gQWx3YXlzIHRydWUuXG4gICAqL1xuICAgZGlzcGF0Y2hFdmVudChldmVudCkgeyAvLyBlc2xpbnQtZGlzYWJsZS1saW5lIG5vLXVudXNlZC12YXJzXG4gICAgIHJldHVybiB0cnVlO1xuICB9XG59XG5cbi8qKiBAdHlwZSB7IURhdGFUZW1wbGF0ZX0gKi9cblRlbXBsYXRlSW5zdGFuY2VCYXNlLnByb3RvdHlwZS5fX2RhdGFIb3N0O1xuLyoqIEB0eXBlIHshVGVtcGxhdGl6ZU9wdGlvbnN9ICovXG5UZW1wbGF0ZUluc3RhbmNlQmFzZS5wcm90b3R5cGUuX190ZW1wbGF0aXplT3B0aW9ucztcbi8qKiBAdHlwZSB7IVBvbHltZXJfUHJvcGVydHlFZmZlY3RzfSAqL1xuVGVtcGxhdGVJbnN0YW5jZUJhc2UucHJvdG90eXBlLl9tZXRob2RIb3N0O1xuLyoqIEB0eXBlIHshT2JqZWN0fSAqL1xuVGVtcGxhdGVJbnN0YW5jZUJhc2UucHJvdG90eXBlLl9fdGVtcGxhdGl6ZU93bmVyO1xuLyoqIEB0eXBlIHshT2JqZWN0fSAqL1xuVGVtcGxhdGVJbnN0YW5jZUJhc2UucHJvdG90eXBlLl9faG9zdFByb3BzO1xuXG4vKipcbiAqIEBjb25zdHJ1Y3RvclxuICogQGV4dGVuZHMge1RlbXBsYXRlSW5zdGFuY2VCYXNlfVxuICogQGltcGxlbWVudHMge1BvbHltZXJfTXV0YWJsZURhdGF9XG4gKiBAcHJpdmF0ZVxuICovXG5jb25zdCBNdXRhYmxlVGVtcGxhdGVJbnN0YW5jZUJhc2UgPSBNdXRhYmxlRGF0YShUZW1wbGF0ZUluc3RhbmNlQmFzZSk7XG5cbmZ1bmN0aW9uIGZpbmRNZXRob2RIb3N0KHRlbXBsYXRlKSB7XG4gIC8vIFRlY2huaWNhbGx5IHRoaXMgc2hvdWxkIGJlIHRoZSBvd25lciBvZiB0aGUgb3V0ZXJtb3N0IHRlbXBsYXRlLlxuICAvLyBJbiBzaGFkb3cgZG9tLCB0aGlzIGlzIGFsd2F5cyBnZXRSb290Tm9kZSgpLmhvc3QsIGJ1dCB3ZSBjYW5cbiAgLy8gYXBwcm94aW1hdGUgdGhpcyB2aWEgY29vcGVyYXRpb24gd2l0aCBvdXIgZGF0YUhvc3QgYWx3YXlzIHNldHRpbmdcbiAgLy8gYF9tZXRob2RIb3N0YCBhcyBsb25nIGFzIHRoZXJlIHdlcmUgYmluZGluZ3MgKG9yIGlkJ3MpIG9uIHRoaXNcbiAgLy8gaW5zdGFuY2UgY2F1c2luZyBpdCB0byBnZXQgYSBkYXRhSG9zdC5cbiAgbGV0IHRlbXBsYXRlSG9zdCA9IHRlbXBsYXRlLl9fZGF0YUhvc3Q7XG4gIHJldHVybiB0ZW1wbGF0ZUhvc3QgJiYgdGVtcGxhdGVIb3N0Ll9tZXRob2RIb3N0IHx8IHRlbXBsYXRlSG9zdDtcbn1cblxuLyogZXNsaW50LWRpc2FibGUgdmFsaWQtanNkb2MgKi9cbi8qKlxuICogQHN1cHByZXNzIHttaXNzaW5nUHJvcGVydGllc30gY2xhc3MucHJvdG90eXBlIGlzIG5vdCBkZWZpbmVkIGZvciBzb21lIHJlYXNvblxuICovXG5mdW5jdGlvbiBjcmVhdGVUZW1wbGF0aXplckNsYXNzKHRlbXBsYXRlLCB0ZW1wbGF0ZUluZm8sIG9wdGlvbnMpIHtcbiAgLyoqXG4gICAqIEBjb25zdHJ1Y3RvclxuICAgKiBAZXh0ZW5kcyB7VGVtcGxhdGVJbnN0YW5jZUJhc2V9XG4gICAqL1xuICBsZXQgdGVtcGxhdGl6ZXJCYXNlID0gb3B0aW9ucy5tdXRhYmxlRGF0YSA/XG4gICAgTXV0YWJsZVRlbXBsYXRlSW5zdGFuY2VCYXNlIDogVGVtcGxhdGVJbnN0YW5jZUJhc2U7XG5cbiAgLy8gQWZmb3JkYW5jZSBmb3IgZ2xvYmFsIG1peGlucyBvbnRvIFRlbXBsYXRpemVJbnN0YW5jZVxuICBpZiAodGVtcGxhdGl6ZS5taXhpbikge1xuICAgIHRlbXBsYXRpemVyQmFzZSA9IHRlbXBsYXRpemUubWl4aW4odGVtcGxhdGl6ZXJCYXNlKTtcbiAgfVxuXG4gIC8qKlxuICAgKiBBbm9ueW1vdXMgY2xhc3MgY3JlYXRlZCBieSB0aGUgdGVtcGxhdGl6ZVxuICAgKiBAY29uc3RydWN0b3JcbiAgICogQHByaXZhdGVcbiAgICovXG4gIGxldCBrbGFzcyA9IGNsYXNzIGV4dGVuZHMgdGVtcGxhdGl6ZXJCYXNlIHsgfTtcbiAgLyoqIEBvdmVycmlkZSAqL1xuICBrbGFzcy5wcm90b3R5cGUuX190ZW1wbGF0aXplT3B0aW9ucyA9IG9wdGlvbnM7XG4gIGtsYXNzLnByb3RvdHlwZS5fYmluZFRlbXBsYXRlKHRlbXBsYXRlKTtcbiAgYWRkTm90aWZ5RWZmZWN0cyhrbGFzcywgdGVtcGxhdGUsIHRlbXBsYXRlSW5mbywgb3B0aW9ucyk7XG4gIHJldHVybiBrbGFzcztcbn1cblxuLyoqXG4gKiBAc3VwcHJlc3Mge21pc3NpbmdQcm9wZXJ0aWVzfSBjbGFzcy5wcm90b3R5cGUgaXMgbm90IGRlZmluZWQgZm9yIHNvbWUgcmVhc29uXG4gKi9cbmZ1bmN0aW9uIGFkZFByb3BhZ2F0ZUVmZmVjdHModGVtcGxhdGUsIHRlbXBsYXRlSW5mbywgb3B0aW9ucykge1xuICBsZXQgdXNlckZvcndhcmRIb3N0UHJvcCA9IG9wdGlvbnMuZm9yd2FyZEhvc3RQcm9wO1xuICBpZiAodXNlckZvcndhcmRIb3N0UHJvcCkge1xuICAgIC8vIFByb3ZpZGUgZGF0YSBBUEkgYW5kIHByb3BlcnR5IGVmZmVjdHMgb24gbWVtb2l6ZWQgdGVtcGxhdGUgY2xhc3NcbiAgICBsZXQga2xhc3MgPSB0ZW1wbGF0ZUluZm8udGVtcGxhdGl6ZVRlbXBsYXRlQ2xhc3M7XG4gICAgaWYgKCFrbGFzcykge1xuICAgICAgLyoqXG4gICAgICAgKiBAY29uc3RydWN0b3JcbiAgICAgICAqIEBleHRlbmRzIHtEYXRhVGVtcGxhdGV9XG4gICAgICAgKi9cbiAgICAgIGxldCB0ZW1wbGF0aXplZEJhc2UgPSBvcHRpb25zLm11dGFibGVEYXRhID8gTXV0YWJsZURhdGFUZW1wbGF0ZSA6IERhdGFUZW1wbGF0ZTtcbiAgICAgIC8qKiBAcHJpdmF0ZSAqL1xuICAgICAga2xhc3MgPSB0ZW1wbGF0ZUluZm8udGVtcGxhdGl6ZVRlbXBsYXRlQ2xhc3MgPVxuICAgICAgICBjbGFzcyBUZW1wbGF0aXplZFRlbXBsYXRlIGV4dGVuZHMgdGVtcGxhdGl6ZWRCYXNlIHt9O1xuICAgICAgLy8gQWRkIHRlbXBsYXRlIC0gPmluc3RhbmNlcyBlZmZlY3RzXG4gICAgICAvLyBhbmQgaG9zdCA8LSB0ZW1wbGF0ZSBlZmZlY3RzXG4gICAgICBsZXQgaG9zdFByb3BzID0gdGVtcGxhdGVJbmZvLmhvc3RQcm9wcztcbiAgICAgIGZvciAobGV0IHByb3AgaW4gaG9zdFByb3BzKSB7XG4gICAgICAgIGtsYXNzLnByb3RvdHlwZS5fYWRkUHJvcGVydHlFZmZlY3QoJ19ob3N0XycgKyBwcm9wLFxuICAgICAgICAgIGtsYXNzLnByb3RvdHlwZS5QUk9QRVJUWV9FRkZFQ1RfVFlQRVMuUFJPUEFHQVRFLFxuICAgICAgICAgIHtmbjogY3JlYXRlRm9yd2FyZEhvc3RQcm9wRWZmZWN0KHByb3AsIHVzZXJGb3J3YXJkSG9zdFByb3ApfSk7XG4gICAgICAgIGtsYXNzLnByb3RvdHlwZS5fY3JlYXRlTm90aWZ5aW5nUHJvcGVydHkoJ19ob3N0XycgKyBwcm9wKTtcbiAgICAgIH1cbiAgICB9XG4gICAgdXBncmFkZVRlbXBsYXRlKHRlbXBsYXRlLCBrbGFzcyk7XG4gICAgLy8gTWl4IGFueSBwcmUtYm91bmQgZGF0YSBpbnRvIF9fZGF0YTsgbm8gbmVlZCB0byBmbHVzaCB0aGlzIHRvXG4gICAgLy8gaW5zdGFuY2VzIHNpbmNlIHRoZXkgcHVsbCBmcm9tIHRoZSB0ZW1wbGF0ZSBhdCBpbnN0YW5jZS10aW1lXG4gICAgaWYgKHRlbXBsYXRlLl9fZGF0YVByb3RvKSB7XG4gICAgICAvLyBOb3RlLCBnZW5lcmFsbHkgYF9fZGF0YVByb3RvYCBjb3VsZCBiZSBjaGFpbmVkLCBidXQgaXQncyBndWFyYW50ZWVkXG4gICAgICAvLyB0byBub3QgYmUgc2luY2UgdGhpcyBpcyBhIHZhbmlsbGEgdGVtcGxhdGUgd2UganVzdCBhZGRlZCBlZmZlY3RzIHRvXG4gICAgICBPYmplY3QuYXNzaWduKHRlbXBsYXRlLl9fZGF0YSwgdGVtcGxhdGUuX19kYXRhUHJvdG8pO1xuICAgIH1cbiAgICAvLyBDbGVhciBhbnkgcGVuZGluZyBkYXRhIGZvciBwZXJmb3JtYW5jZVxuICAgIHRlbXBsYXRlLl9fZGF0YVRlbXAgPSB7fTtcbiAgICB0ZW1wbGF0ZS5fX2RhdGFQZW5kaW5nID0gbnVsbDtcbiAgICB0ZW1wbGF0ZS5fX2RhdGFPbGQgPSBudWxsO1xuICAgIHRlbXBsYXRlLl9lbmFibGVQcm9wZXJ0aWVzKCk7XG4gIH1cbn1cbi8qIGVzbGludC1lbmFibGUgdmFsaWQtanNkb2MgKi9cblxuZnVuY3Rpb24gY3JlYXRlRm9yd2FyZEhvc3RQcm9wRWZmZWN0KGhvc3RQcm9wLCB1c2VyRm9yd2FyZEhvc3RQcm9wKSB7XG4gIHJldHVybiBmdW5jdGlvbiBmb3J3YXJkSG9zdFByb3AodGVtcGxhdGUsIHByb3AsIHByb3BzKSB7XG4gICAgdXNlckZvcndhcmRIb3N0UHJvcC5jYWxsKHRlbXBsYXRlLl9fdGVtcGxhdGl6ZU93bmVyLFxuICAgICAgcHJvcC5zdWJzdHJpbmcoJ19ob3N0XycubGVuZ3RoKSwgcHJvcHNbcHJvcF0pO1xuICB9O1xufVxuXG5mdW5jdGlvbiBhZGROb3RpZnlFZmZlY3RzKGtsYXNzLCB0ZW1wbGF0ZSwgdGVtcGxhdGVJbmZvLCBvcHRpb25zKSB7XG4gIGxldCBob3N0UHJvcHMgPSB0ZW1wbGF0ZUluZm8uaG9zdFByb3BzIHx8IHt9O1xuICBmb3IgKGxldCBpcHJvcCBpbiBvcHRpb25zLmluc3RhbmNlUHJvcHMpIHtcbiAgICBkZWxldGUgaG9zdFByb3BzW2lwcm9wXTtcbiAgICBsZXQgdXNlck5vdGlmeUluc3RhbmNlUHJvcCA9IG9wdGlvbnMubm90aWZ5SW5zdGFuY2VQcm9wO1xuICAgIGlmICh1c2VyTm90aWZ5SW5zdGFuY2VQcm9wKSB7XG4gICAgICBrbGFzcy5wcm90b3R5cGUuX2FkZFByb3BlcnR5RWZmZWN0KGlwcm9wLFxuICAgICAgICBrbGFzcy5wcm90b3R5cGUuUFJPUEVSVFlfRUZGRUNUX1RZUEVTLk5PVElGWSxcbiAgICAgICAge2ZuOiBjcmVhdGVOb3RpZnlJbnN0YW5jZVByb3BFZmZlY3QoaXByb3AsIHVzZXJOb3RpZnlJbnN0YW5jZVByb3ApfSk7XG4gICAgfVxuICB9XG4gIGlmIChvcHRpb25zLmZvcndhcmRIb3N0UHJvcCAmJiB0ZW1wbGF0ZS5fX2RhdGFIb3N0KSB7XG4gICAgZm9yIChsZXQgaHByb3AgaW4gaG9zdFByb3BzKSB7XG4gICAgICBrbGFzcy5wcm90b3R5cGUuX2FkZFByb3BlcnR5RWZmZWN0KGhwcm9wLFxuICAgICAgICBrbGFzcy5wcm90b3R5cGUuUFJPUEVSVFlfRUZGRUNUX1RZUEVTLk5PVElGWSxcbiAgICAgICAge2ZuOiBjcmVhdGVOb3RpZnlIb3N0UHJvcEVmZmVjdCgpfSk7XG4gICAgfVxuICB9XG59XG5cbmZ1bmN0aW9uIGNyZWF0ZU5vdGlmeUluc3RhbmNlUHJvcEVmZmVjdChpbnN0UHJvcCwgdXNlck5vdGlmeUluc3RhbmNlUHJvcCkge1xuICByZXR1cm4gZnVuY3Rpb24gbm90aWZ5SW5zdGFuY2VQcm9wKGluc3QsIHByb3AsIHByb3BzKSB7XG4gICAgdXNlck5vdGlmeUluc3RhbmNlUHJvcC5jYWxsKGluc3QuX190ZW1wbGF0aXplT3duZXIsXG4gICAgICBpbnN0LCBwcm9wLCBwcm9wc1twcm9wXSk7XG4gIH07XG59XG5cbmZ1bmN0aW9uIGNyZWF0ZU5vdGlmeUhvc3RQcm9wRWZmZWN0KCkge1xuICByZXR1cm4gZnVuY3Rpb24gbm90aWZ5SG9zdFByb3AoaW5zdCwgcHJvcCwgcHJvcHMpIHtcbiAgICBpbnN0Ll9fZGF0YUhvc3QuX3NldFBlbmRpbmdQcm9wZXJ0eU9yUGF0aCgnX2hvc3RfJyArIHByb3AsIHByb3BzW3Byb3BdLCB0cnVlLCB0cnVlKTtcbiAgfTtcbn1cblxuXG4vKipcbiAqIFJldHVybnMgYW4gYW5vbnltb3VzIGBQcm9wZXJ0eUVmZmVjdHNgIGNsYXNzIGJvdW5kIHRvIHRoZVxuICogYDx0ZW1wbGF0ZT5gIHByb3ZpZGVkLiAgSW5zdGFuY2luZyB0aGUgY2xhc3Mgd2lsbCByZXN1bHQgaW4gdGhlXG4gKiB0ZW1wbGF0ZSBiZWluZyBzdGFtcGVkIGludG8gYSBkb2N1bWVudCBmcmFnbWVudCBzdG9yZWQgYXMgdGhlIGluc3RhbmNlJ3NcbiAqIGByb290YCBwcm9wZXJ0eSwgYWZ0ZXIgd2hpY2ggaXQgY2FuIGJlIGFwcGVuZGVkIHRvIHRoZSBET00uXG4gKlxuICogVGVtcGxhdGVzIG1heSB1dGlsaXplIGFsbCBQb2x5bWVyIGRhdGEtYmluZGluZyBmZWF0dXJlcyBhcyB3ZWxsIGFzXG4gKiBkZWNsYXJhdGl2ZSBldmVudCBsaXN0ZW5lcnMuICBFdmVudCBsaXN0ZW5lcnMgYW5kIGlubGluZSBjb21wdXRpbmdcbiAqIGZ1bmN0aW9ucyBpbiB0aGUgdGVtcGxhdGUgd2lsbCBiZSBjYWxsZWQgb24gdGhlIGhvc3Qgb2YgdGhlIHRlbXBsYXRlLlxuICpcbiAqIFRoZSBjb25zdHJ1Y3RvciByZXR1cm5lZCB0YWtlcyBhIHNpbmdsZSBhcmd1bWVudCBkaWN0aW9uYXJ5IG9mIGluaXRpYWxcbiAqIHByb3BlcnR5IHZhbHVlcyB0byBwcm9wYWdhdGUgaW50byB0ZW1wbGF0ZSBiaW5kaW5ncy4gIEFkZGl0aW9uYWxseVxuICogaG9zdCBwcm9wZXJ0aWVzIGNhbiBiZSBmb3J3YXJkZWQgaW4sIGFuZCBpbnN0YW5jZSBwcm9wZXJ0aWVzIGNhbiBiZVxuICogbm90aWZpZWQgb3V0IGJ5IHByb3ZpZGluZyBvcHRpb25hbCBjYWxsYmFja3MgaW4gdGhlIGBvcHRpb25zYCBkaWN0aW9uYXJ5LlxuICpcbiAqIFZhbGlkIGNvbmZpZ3VyYXRpb24gaW4gYG9wdGlvbnNgIGFyZSBhcyBmb2xsb3dzOlxuICpcbiAqIC0gYGZvcndhcmRIb3N0UHJvcChwcm9wZXJ0eSwgdmFsdWUpYDogQ2FsbGVkIHdoZW4gYSBwcm9wZXJ0eSByZWZlcmVuY2VkXG4gKiAgIGluIHRoZSB0ZW1wbGF0ZSBjaGFuZ2VkIG9uIHRoZSB0ZW1wbGF0ZSdzIGhvc3QuIEFzIHRoaXMgbGlicmFyeSBkb2VzXG4gKiAgIG5vdCByZXRhaW4gcmVmZXJlbmNlcyB0byB0ZW1wbGF0ZXMgaW5zdGFuY2VkIGJ5IHRoZSB1c2VyLCBpdCBpcyB0aGVcbiAqICAgdGVtcGxhdGl6ZSBvd25lcidzIHJlc3BvbnNpYmlsaXR5IHRvIGZvcndhcmQgaG9zdCBwcm9wZXJ0eSBjaGFuZ2VzIGludG9cbiAqICAgdXNlci1zdGFtcGVkIGluc3RhbmNlcy4gIFRoZSBgaW5zdGFuY2UuZm9yd2FyZEhvc3RQcm9wKHByb3BlcnR5LCB2YWx1ZSlgXG4gKiAgICBtZXRob2Qgb24gdGhlIGdlbmVyYXRlZCBjbGFzcyBzaG91bGQgYmUgY2FsbGVkIHRvIGZvcndhcmQgaG9zdFxuICogICBwcm9wZXJ0aWVzIGludG8gdGhlIHRlbXBsYXRlIHRvIHByZXZlbnQgdW5uZWNlc3NhcnkgcHJvcGVydHktY2hhbmdlZFxuICogICBub3RpZmljYXRpb25zLiBBbnkgcHJvcGVydGllcyByZWZlcmVuY2VkIGluIHRoZSB0ZW1wbGF0ZSB0aGF0IGFyZSBub3RcbiAqICAgZGVmaW5lZCBpbiBgaW5zdGFuY2VQcm9wc2Agd2lsbCBiZSBub3RpZmllZCB1cCB0byB0aGUgdGVtcGxhdGUncyBob3N0XG4gKiAgIGF1dG9tYXRpY2FsbHkuXG4gKiAtIGBpbnN0YW5jZVByb3BzYDogRGljdGlvbmFyeSBvZiBwcm9wZXJ0eSBuYW1lcyB0aGF0IHdpbGwgYmUgYWRkZWRcbiAqICAgdG8gdGhlIGluc3RhbmNlIGJ5IHRoZSB0ZW1wbGF0aXplIG93bmVyLiAgVGhlc2UgcHJvcGVydGllcyBzaGFkb3cgYW55XG4gKiAgIGhvc3QgcHJvcGVydGllcywgYW5kIGNoYW5nZXMgd2l0aGluIHRoZSB0ZW1wbGF0ZSB0byB0aGVzZSBwcm9wZXJ0aWVzXG4gKiAgIHdpbGwgcmVzdWx0IGluIGBub3RpZnlJbnN0YW5jZVByb3BgIGJlaW5nIGNhbGxlZC5cbiAqIC0gYG11dGFibGVEYXRhYDogV2hlbiBgdHJ1ZWAsIHRoZSBnZW5lcmF0ZWQgY2xhc3Mgd2lsbCBza2lwIHN0cmljdFxuICogICBkaXJ0eS1jaGVja2luZyBmb3Igb2JqZWN0cyBhbmQgYXJyYXlzIChhbHdheXMgY29uc2lkZXIgdGhlbSB0byBiZVxuICogICBcImRpcnR5XCIpLlxuICogLSBgbm90aWZ5SW5zdGFuY2VQcm9wKGluc3RhbmNlLCBwcm9wZXJ0eSwgdmFsdWUpYDogQ2FsbGVkIHdoZW5cbiAqICAgYW4gaW5zdGFuY2UgcHJvcGVydHkgY2hhbmdlcy4gIFVzZXJzIG1heSBjaG9vc2UgdG8gY2FsbCBgbm90aWZ5UGF0aGBcbiAqICAgb24gZS5nLiB0aGUgb3duZXIgdG8gbm90aWZ5IHRoZSBjaGFuZ2UuXG4gKiAtIGBwYXJlbnRNb2RlbGA6IFdoZW4gYHRydWVgLCBldmVudHMgaGFuZGxlZCBieSBkZWNsYXJhdGl2ZSBldmVudCBsaXN0ZW5lcnNcbiAqICAgKGBvbi1ldmVudD1cImhhbmRsZXJcImApIHdpbGwgYmUgZGVjb3JhdGVkIHdpdGggYSBgbW9kZWxgIHByb3BlcnR5IHBvaW50aW5nXG4gKiAgIHRvIHRoZSB0ZW1wbGF0ZSBpbnN0YW5jZSB0aGF0IHN0YW1wZWQgaXQuICBJdCB3aWxsIGFsc28gYmUgcmV0dXJuZWRcbiAqICAgZnJvbSBgaW5zdGFuY2UucGFyZW50TW9kZWxgIGluIGNhc2VzIHdoZXJlIHRlbXBsYXRlIGluc3RhbmNlIG5lc3RpbmdcbiAqICAgY2F1c2VzIGFuIGlubmVyIG1vZGVsIHRvIHNoYWRvdyBhbiBvdXRlciBtb2RlbC5cbiAqXG4gKiBBbGwgY2FsbGJhY2tzIGFyZSBjYWxsZWQgYm91bmQgdG8gdGhlIGBvd25lcmAuIEFueSBjb250ZXh0XG4gKiBuZWVkZWQgZm9yIHRoZSBjYWxsYmFja3MgKHN1Y2ggYXMgcmVmZXJlbmNlcyB0byBgaW5zdGFuY2VzYCBzdGFtcGVkKVxuICogc2hvdWxkIGJlIHN0b3JlZCBvbiB0aGUgYG93bmVyYCBzdWNoIHRoYXQgdGhleSBjYW4gYmUgcmV0cmlldmVkIHZpYVxuICogYHRoaXNgLlxuICpcbiAqIFdoZW4gYG9wdGlvbnMuZm9yd2FyZEhvc3RQcm9wYCBpcyBkZWNsYXJlZCBhcyBhbiBvcHRpb24sIGFueSBwcm9wZXJ0aWVzXG4gKiByZWZlcmVuY2VkIGluIHRoZSB0ZW1wbGF0ZSB3aWxsIGJlIGF1dG9tYXRpY2FsbHkgZm9yd2FyZGVkIGZyb20gdGhlIGhvc3Qgb2ZcbiAqIHRoZSBgPHRlbXBsYXRlPmAgdG8gaW5zdGFuY2VzLCB3aXRoIHRoZSBleGNlcHRpb24gb2YgYW55IHByb3BlcnRpZXMgbGlzdGVkIGluXG4gKiB0aGUgYG9wdGlvbnMuaW5zdGFuY2VQcm9wc2Agb2JqZWN0LiAgYGluc3RhbmNlUHJvcHNgIGFyZSBhc3N1bWVkIHRvIGJlXG4gKiBtYW5hZ2VkIGJ5IHRoZSBvd25lciBvZiB0aGUgaW5zdGFuY2VzLCBlaXRoZXIgcGFzc2VkIGludG8gdGhlIGNvbnN0cnVjdG9yXG4gKiBvciBzZXQgYWZ0ZXIgdGhlIGZhY3QuICBOb3RlLCBhbnkgcHJvcGVydGllcyBwYXNzZWQgaW50byB0aGUgY29uc3RydWN0b3Igd2lsbFxuICogYWx3YXlzIGJlIHNldCB0byB0aGUgaW5zdGFuY2UgKHJlZ2FyZGxlc3Mgb2Ygd2hldGhlciB0aGV5IHdvdWxkIG5vcm1hbGx5XG4gKiBiZSBmb3J3YXJkZWQgZnJvbSB0aGUgaG9zdCkuXG4gKlxuICogTm90ZSB0aGF0IGB0ZW1wbGF0aXplKClgIGNhbiBiZSBydW4gb25seSBvbmNlIGZvciBhIGdpdmVuIGA8dGVtcGxhdGU+YC5cbiAqIEZ1cnRoZXIgY2FsbHMgd2lsbCByZXN1bHQgaW4gYW4gZXJyb3IuIEFsc28sIHRoZXJlIGlzIGEgc3BlY2lhbFxuICogYmVoYXZpb3IgaWYgdGhlIHRlbXBsYXRlIHdhcyBkdXBsaWNhdGVkIHRocm91Z2ggYSBtZWNoYW5pc20gc3VjaCBhc1xuICogYDxkb20tcmVwZWF0PmAgb3IgYDx0ZXN0LWZpeHR1cmU+YC4gSW4gdGhpcyBjYXNlLCBhbGwgY2FsbHMgdG9cbiAqIGB0ZW1wbGF0aXplKClgIHJldHVybiB0aGUgc2FtZSBjbGFzcyBmb3IgYWxsIGR1cGxpY2F0ZXMgb2YgYSB0ZW1wbGF0ZS5cbiAqIFRoZSBjbGFzcyByZXR1cm5lZCBmcm9tIGB0ZW1wbGF0aXplKClgIGlzIGdlbmVyYXRlZCBvbmx5IG9uY2UgdXNpbmdcbiAqIHRoZSBgb3B0aW9uc2AgZnJvbSB0aGUgZmlyc3QgY2FsbC4gVGhpcyBtZWFucyB0aGF0IGFueSBgb3B0aW9uc2BcbiAqIHByb3ZpZGVkIHRvIHN1YnNlcXVlbnQgY2FsbHMgd2lsbCBiZSBpZ25vcmVkLiBUaGVyZWZvcmUsIGl0IGlzIHZlcnlcbiAqIGltcG9ydGFudCBub3QgdG8gY2xvc2Ugb3ZlciBhbnkgdmFyaWFibGVzIGluc2lkZSB0aGUgY2FsbGJhY2tzLiBBbHNvLFxuICogYXJyb3cgZnVuY3Rpb25zIG11c3QgYmUgYXZvaWRlZCBiZWNhdXNlIHRoZXkgYmluZCB0aGUgb3V0ZXIgYHRoaXNgLlxuICogSW5zaWRlIHRoZSBjYWxsYmFja3MsIGFueSBjb250ZXh0dWFsIGluZm9ybWF0aW9uIGNhbiBiZSBhY2Nlc3NlZFxuICogdGhyb3VnaCBgdGhpc2AsIHdoaWNoIHBvaW50cyB0byB0aGUgYG93bmVyYC5cbiAqXG4gKiBAcGFyYW0geyFIVE1MVGVtcGxhdGVFbGVtZW50fSB0ZW1wbGF0ZSBUZW1wbGF0ZSB0byB0ZW1wbGF0aXplXG4gKiBAcGFyYW0ge1BvbHltZXJfUHJvcGVydHlFZmZlY3RzPX0gb3duZXIgT3duZXIgb2YgdGhlIHRlbXBsYXRlIGluc3RhbmNlcztcbiAqICAgYW55IG9wdGlvbmFsIGNhbGxiYWNrcyB3aWxsIGJlIGJvdW5kIHRvIHRoaXMgb3duZXIuXG4gKiBAcGFyYW0ge09iamVjdD19IG9wdGlvbnMgT3B0aW9ucyBkaWN0aW9uYXJ5IChzZWUgc3VtbWFyeSBmb3IgZGV0YWlscylcbiAqIEByZXR1cm4ge2Z1bmN0aW9uKG5ldzpUZW1wbGF0ZUluc3RhbmNlQmFzZSl9IEdlbmVyYXRlZCBjbGFzcyBib3VuZCB0byB0aGUgdGVtcGxhdGVcbiAqICAgcHJvdmlkZWRcbiAqIEBzdXBwcmVzcyB7aW52YWxpZENhc3RzfVxuICovXG5leHBvcnQgZnVuY3Rpb24gdGVtcGxhdGl6ZSh0ZW1wbGF0ZSwgb3duZXIsIG9wdGlvbnMpIHtcbiAgLy8gVW5kZXIgc3RyaWN0VGVtcGxhdGVQb2xpY3ksIHRoZSB0ZW1wbGF0aXplZCBlbGVtZW50IG11c3QgYmUgb3duZWRcbiAgLy8gYnkgYSAodHJ1c3RlZCkgUG9seW1lciBlbGVtZW50LCBpbmRpY2F0ZWQgYnkgZXhpc3RlbmNlIG9mIF9tZXRob2RIb3N0O1xuICAvLyBlLmcuIGZvciBkb20taWYgJiBkb20tcmVwZWF0IGluIG1haW4gZG9jdW1lbnQsIF9tZXRob2RIb3N0IGlzIG51bGxcbiAgaWYgKHN0cmljdFRlbXBsYXRlUG9saWN5ICYmICFmaW5kTWV0aG9kSG9zdCh0ZW1wbGF0ZSkpIHtcbiAgICB0aHJvdyBuZXcgRXJyb3IoJ3N0cmljdFRlbXBsYXRlUG9saWN5OiB0ZW1wbGF0ZSBvd25lciBub3QgdHJ1c3RlZCcpO1xuICB9XG4gIG9wdGlvbnMgPSAvKiogQHR5cGUgeyFUZW1wbGF0aXplT3B0aW9uc30gKi8ob3B0aW9ucyB8fCB7fSk7XG4gIGlmICh0ZW1wbGF0ZS5fX3RlbXBsYXRpemVPd25lcikge1xuICAgIHRocm93IG5ldyBFcnJvcignQSA8dGVtcGxhdGU+IGNhbiBvbmx5IGJlIHRlbXBsYXRpemVkIG9uY2UnKTtcbiAgfVxuICB0ZW1wbGF0ZS5fX3RlbXBsYXRpemVPd25lciA9IG93bmVyO1xuICBjb25zdCBjdG9yID0gb3duZXIgPyBvd25lci5jb25zdHJ1Y3RvciA6IFRlbXBsYXRlSW5zdGFuY2VCYXNlO1xuICBsZXQgdGVtcGxhdGVJbmZvID0gY3Rvci5fcGFyc2VUZW1wbGF0ZSh0ZW1wbGF0ZSk7XG4gIC8vIEdldCBtZW1vaXplZCBiYXNlIGNsYXNzIGZvciB0aGUgcHJvdG90eXBpY2FsIHRlbXBsYXRlLCB3aGljaFxuICAvLyBpbmNsdWRlcyBwcm9wZXJ0eSBlZmZlY3RzIGZvciBiaW5kaW5nIHRlbXBsYXRlICYgZm9yd2FyZGluZ1xuICAvKipcbiAgICogQGNvbnN0cnVjdG9yXG4gICAqIEBleHRlbmRzIHtUZW1wbGF0ZUluc3RhbmNlQmFzZX1cbiAgICovXG4gIGxldCBiYXNlQ2xhc3MgPSB0ZW1wbGF0ZUluZm8udGVtcGxhdGl6ZUluc3RhbmNlQ2xhc3M7XG4gIGlmICghYmFzZUNsYXNzKSB7XG4gICAgYmFzZUNsYXNzID0gY3JlYXRlVGVtcGxhdGl6ZXJDbGFzcyh0ZW1wbGF0ZSwgdGVtcGxhdGVJbmZvLCBvcHRpb25zKTtcbiAgICB0ZW1wbGF0ZUluZm8udGVtcGxhdGl6ZUluc3RhbmNlQ2xhc3MgPSBiYXNlQ2xhc3M7XG4gIH1cbiAgLy8gSG9zdCBwcm9wZXJ0eSBmb3J3YXJkaW5nIG11c3QgYmUgaW5zdGFsbGVkIG9udG8gdGVtcGxhdGUgaW5zdGFuY2VcbiAgYWRkUHJvcGFnYXRlRWZmZWN0cyh0ZW1wbGF0ZSwgdGVtcGxhdGVJbmZvLCBvcHRpb25zKTtcbiAgLy8gU3ViY2xhc3MgYmFzZSBjbGFzcyBhbmQgYWRkIHJlZmVyZW5jZSBmb3IgdGhpcyBzcGVjaWZpYyB0ZW1wbGF0ZVxuICAvKiogQHByaXZhdGUgKi9cbiAgbGV0IGtsYXNzID0gY2xhc3MgVGVtcGxhdGVJbnN0YW5jZSBleHRlbmRzIGJhc2VDbGFzcyB7fTtcbiAgLyoqIEBvdmVycmlkZSAqL1xuICBrbGFzcy5wcm90b3R5cGUuX21ldGhvZEhvc3QgPSBmaW5kTWV0aG9kSG9zdCh0ZW1wbGF0ZSk7XG4gIC8qKiBAb3ZlcnJpZGUgKi9cbiAga2xhc3MucHJvdG90eXBlLl9fZGF0YUhvc3QgPSAvKiogQHR5cGUgeyFEYXRhVGVtcGxhdGV9ICovICh0ZW1wbGF0ZSk7XG4gIC8qKiBAb3ZlcnJpZGUgKi9cbiAga2xhc3MucHJvdG90eXBlLl9fdGVtcGxhdGl6ZU93bmVyID0gLyoqIEB0eXBlIHshT2JqZWN0fSAqLyAob3duZXIpO1xuICAvKiogQG92ZXJyaWRlICovXG4gIGtsYXNzLnByb3RvdHlwZS5fX2hvc3RQcm9wcyA9IHRlbXBsYXRlSW5mby5ob3N0UHJvcHM7XG4gIGtsYXNzID0gLyoqIEB0eXBlIHtmdW5jdGlvbihuZXc6VGVtcGxhdGVJbnN0YW5jZUJhc2UpfSAqLyhrbGFzcyk7IC8vZXNsaW50LWRpc2FibGUtbGluZSBuby1zZWxmLWFzc2lnblxuICByZXR1cm4ga2xhc3M7XG59XG5cbi8qKlxuICogUmV0dXJucyB0aGUgdGVtcGxhdGUgXCJtb2RlbFwiIGFzc29jaWF0ZWQgd2l0aCBhIGdpdmVuIGVsZW1lbnQsIHdoaWNoXG4gKiBzZXJ2ZXMgYXMgdGhlIGJpbmRpbmcgc2NvcGUgZm9yIHRoZSB0ZW1wbGF0ZSBpbnN0YW5jZSB0aGUgZWxlbWVudCBpc1xuICogY29udGFpbmVkIGluLiBBIHRlbXBsYXRlIG1vZGVsIGlzIGFuIGluc3RhbmNlIG9mXG4gKiBgVGVtcGxhdGVJbnN0YW5jZUJhc2VgLCBhbmQgc2hvdWxkIGJlIHVzZWQgdG8gbWFuaXB1bGF0ZSBkYXRhXG4gKiBhc3NvY2lhdGVkIHdpdGggdGhpcyB0ZW1wbGF0ZSBpbnN0YW5jZS5cbiAqXG4gKiBFeGFtcGxlOlxuICpcbiAqICAgbGV0IG1vZGVsID0gbW9kZWxGb3JFbGVtZW50KGVsKTtcbiAqICAgaWYgKG1vZGVsLmluZGV4IDwgMTApIHtcbiAqICAgICBtb2RlbC5zZXQoJ2l0ZW0uY2hlY2tlZCcsIHRydWUpO1xuICogICB9XG4gKlxuICogQHBhcmFtIHtIVE1MVGVtcGxhdGVFbGVtZW50fSB0ZW1wbGF0ZSBUaGUgbW9kZWwgd2lsbCBiZSByZXR1cm5lZCBmb3JcbiAqICAgZWxlbWVudHMgc3RhbXBlZCBmcm9tIHRoaXMgdGVtcGxhdGVcbiAqIEBwYXJhbSB7Tm9kZT19IG5vZGUgTm9kZSBmb3Igd2hpY2ggdG8gcmV0dXJuIGEgdGVtcGxhdGUgbW9kZWwuXG4gKiBAcmV0dXJuIHtUZW1wbGF0ZUluc3RhbmNlQmFzZX0gVGVtcGxhdGUgaW5zdGFuY2UgcmVwcmVzZW50aW5nIHRoZVxuICogICBiaW5kaW5nIHNjb3BlIGZvciB0aGUgZWxlbWVudFxuICovXG5leHBvcnQgZnVuY3Rpb24gbW9kZWxGb3JFbGVtZW50KHRlbXBsYXRlLCBub2RlKSB7XG4gIGxldCBtb2RlbDtcbiAgd2hpbGUgKG5vZGUpIHtcbiAgICAvLyBBbiBlbGVtZW50IHdpdGggYSBfX3RlbXBsYXRpemVJbnN0YW5jZSBtYXJrcyB0aGUgdG9wIGJvdW5kYXJ5XG4gICAgLy8gb2YgYSBzY29wZTsgd2FsayB1cCB1bnRpbCB3ZSBmaW5kIG9uZSwgYW5kIHRoZW4gZW5zdXJlIHRoYXRcbiAgICAvLyBpdHMgX19kYXRhSG9zdCBtYXRjaGVzIGB0aGlzYCwgbWVhbmluZyB0aGlzIGRvbS1yZXBlYXQgc3RhbXBlZCBpdFxuICAgIGlmICgobW9kZWwgPSBub2RlLl9fdGVtcGxhdGl6ZUluc3RhbmNlKSkge1xuICAgICAgLy8gRm91bmQgYW4gZWxlbWVudCBzdGFtcGVkIGJ5IGFub3RoZXIgdGVtcGxhdGU7IGtlZXAgd2Fsa2luZyB1cFxuICAgICAgLy8gZnJvbSBpdHMgX19kYXRhSG9zdFxuICAgICAgaWYgKG1vZGVsLl9fZGF0YUhvc3QgIT0gdGVtcGxhdGUpIHtcbiAgICAgICAgbm9kZSA9IG1vZGVsLl9fZGF0YUhvc3Q7XG4gICAgICB9IGVsc2Uge1xuICAgICAgICByZXR1cm4gbW9kZWw7XG4gICAgICB9XG4gICAgfSBlbHNlIHtcbiAgICAgIC8vIFN0aWxsIGluIGEgdGVtcGxhdGUgc2NvcGUsIGtlZXAgZ29pbmcgdXAgdW50aWxcbiAgICAgIC8vIGEgX190ZW1wbGF0aXplSW5zdGFuY2UgaXMgZm91bmRcbiAgICAgIG5vZGUgPSB3cmFwKG5vZGUpLnBhcmVudE5vZGU7XG4gICAgfVxuICB9XG4gIHJldHVybiBudWxsO1xufVxuXG5leHBvcnQgeyBUZW1wbGF0ZUluc3RhbmNlQmFzZSB9O1xuIiwiLyoqXG5AbGljZW5zZVxuQ29weXJpZ2h0IChjKSAyMDE3IFRoZSBQb2x5bWVyIFByb2plY3QgQXV0aG9ycy4gQWxsIHJpZ2h0cyByZXNlcnZlZC5cblRoaXMgY29kZSBtYXkgb25seSBiZSB1c2VkIHVuZGVyIHRoZSBCU0Qgc3R5bGUgbGljZW5zZSBmb3VuZCBhdCBodHRwOi8vcG9seW1lci5naXRodWIuaW8vTElDRU5TRS50eHRcblRoZSBjb21wbGV0ZSBzZXQgb2YgYXV0aG9ycyBtYXkgYmUgZm91bmQgYXQgaHR0cDovL3BvbHltZXIuZ2l0aHViLmlvL0FVVEhPUlMudHh0XG5UaGUgY29tcGxldGUgc2V0IG9mIGNvbnRyaWJ1dG9ycyBtYXkgYmUgZm91bmQgYXQgaHR0cDovL3BvbHltZXIuZ2l0aHViLmlvL0NPTlRSSUJVVE9SUy50eHRcbkNvZGUgZGlzdHJpYnV0ZWQgYnkgR29vZ2xlIGFzIHBhcnQgb2YgdGhlIHBvbHltZXIgcHJvamVjdCBpcyBhbHNvXG5zdWJqZWN0IHRvIGFuIGFkZGl0aW9uYWwgSVAgcmlnaHRzIGdyYW50IGZvdW5kIGF0IGh0dHA6Ly9wb2x5bWVyLmdpdGh1Yi5pby9QQVRFTlRTLnR4dFxuKi9cbmltcG9ydCAnLi4vdXRpbHMvYm9vdC5qcyc7XG5cbmltcG9ydCB7IFByb3BlcnR5RWZmZWN0cyB9IGZyb20gJy4uL21peGlucy9wcm9wZXJ0eS1lZmZlY3RzLmpzJztcbmltcG9ydCB7IE9wdGlvbmFsTXV0YWJsZURhdGEgfSBmcm9tICcuLi9taXhpbnMvbXV0YWJsZS1kYXRhLmpzJztcbmltcG9ydCB7IEdlc3R1cmVFdmVudExpc3RlbmVycyB9IGZyb20gJy4uL21peGlucy9nZXN0dXJlLWV2ZW50LWxpc3RlbmVycy5qcyc7XG5pbXBvcnQgeyBzdHJpY3RUZW1wbGF0ZVBvbGljeSB9IGZyb20gJy4uL3V0aWxzL3NldHRpbmdzLmpzJztcbmltcG9ydCB7IHdyYXAgfSBmcm9tICcuLi91dGlscy93cmFwLmpzJztcblxuLyoqXG4gKiBAY29uc3RydWN0b3JcbiAqIEBleHRlbmRzIHtIVE1MRWxlbWVudH1cbiAqIEBpbXBsZW1lbnRzIHtQb2x5bWVyX1Byb3BlcnR5RWZmZWN0c31cbiAqIEBpbXBsZW1lbnRzIHtQb2x5bWVyX09wdGlvbmFsTXV0YWJsZURhdGF9XG4gKiBAaW1wbGVtZW50cyB7UG9seW1lcl9HZXN0dXJlRXZlbnRMaXN0ZW5lcnN9XG4gKiBAcHJpdmF0ZVxuICovXG5jb25zdCBkb21CaW5kQmFzZSA9XG4gIEdlc3R1cmVFdmVudExpc3RlbmVycyhcbiAgICBPcHRpb25hbE11dGFibGVEYXRhKFxuICAgICAgUHJvcGVydHlFZmZlY3RzKEhUTUxFbGVtZW50KSkpO1xuXG4vKipcbiAqIEN1c3RvbSBlbGVtZW50IHRvIGFsbG93IHVzaW5nIFBvbHltZXIncyB0ZW1wbGF0ZSBmZWF0dXJlcyAoZGF0YSBiaW5kaW5nLFxuICogZGVjbGFyYXRpdmUgZXZlbnQgbGlzdGVuZXJzLCBldGMuKSBpbiB0aGUgbWFpbiBkb2N1bWVudCB3aXRob3V0IGRlZmluaW5nXG4gKiBhIG5ldyBjdXN0b20gZWxlbWVudC5cbiAqXG4gKiBgPHRlbXBsYXRlPmAgdGFncyB1dGlsaXppbmcgYmluZGluZ3MgbWF5IGJlIHdyYXBwZWQgd2l0aCB0aGUgYDxkb20tYmluZD5gXG4gKiBlbGVtZW50LCB3aGljaCB3aWxsIGltbWVkaWF0ZWx5IHN0YW1wIHRoZSB3cmFwcGVkIHRlbXBsYXRlIGludG8gdGhlIG1haW5cbiAqIGRvY3VtZW50IGFuZCBiaW5kIGVsZW1lbnRzIHRvIHRoZSBgZG9tLWJpbmRgIGVsZW1lbnQgaXRzZWxmIGFzIHRoZVxuICogYmluZGluZyBzY29wZS5cbiAqXG4gKiBAcG9seW1lclxuICogQGN1c3RvbUVsZW1lbnRcbiAqIEBhcHBsaWVzTWl4aW4gUHJvcGVydHlFZmZlY3RzXG4gKiBAYXBwbGllc01peGluIE9wdGlvbmFsTXV0YWJsZURhdGFcbiAqIEBhcHBsaWVzTWl4aW4gR2VzdHVyZUV2ZW50TGlzdGVuZXJzXG4gKiBAZXh0ZW5kcyB7ZG9tQmluZEJhc2V9XG4gKiBAc3VtbWFyeSBDdXN0b20gZWxlbWVudCB0byBhbGxvdyB1c2luZyBQb2x5bWVyJ3MgdGVtcGxhdGUgZmVhdHVyZXMgKGRhdGFcbiAqICAgYmluZGluZywgZGVjbGFyYXRpdmUgZXZlbnQgbGlzdGVuZXJzLCBldGMuKSBpbiB0aGUgbWFpbiBkb2N1bWVudC5cbiAqL1xuZXhwb3J0IGNsYXNzIERvbUJpbmQgZXh0ZW5kcyBkb21CaW5kQmFzZSB7XG5cbiAgc3RhdGljIGdldCBvYnNlcnZlZEF0dHJpYnV0ZXMoKSB7IHJldHVybiBbJ211dGFibGUtZGF0YSddOyB9XG5cbiAgY29uc3RydWN0b3IoKSB7XG4gICAgc3VwZXIoKTtcbiAgICBpZiAoc3RyaWN0VGVtcGxhdGVQb2xpY3kpIHtcbiAgICAgIHRocm93IG5ldyBFcnJvcihgc3RyaWN0VGVtcGxhdGVQb2xpY3k6IGRvbS1iaW5kIG5vdCBhbGxvd2VkYCk7XG4gICAgfVxuICAgIHRoaXMucm9vdCA9IG51bGw7XG4gICAgdGhpcy4kID0gbnVsbDtcbiAgICB0aGlzLl9fY2hpbGRyZW4gPSBudWxsO1xuICB9XG5cbiAgLyoqXG4gICAqIEBvdmVycmlkZVxuICAgKiBAcmV0dXJuIHt2b2lkfVxuICAgKi9cbiAgYXR0cmlidXRlQ2hhbmdlZENhbGxiYWNrKCkge1xuICAgIC8vIGFzc3VtZXMgb25seSBvbmUgb2JzZXJ2ZWQgYXR0cmlidXRlXG4gICAgdGhpcy5tdXRhYmxlRGF0YSA9IHRydWU7XG4gIH1cblxuICAvKipcbiAgICogQG92ZXJyaWRlXG4gICAqIEByZXR1cm4ge3ZvaWR9XG4gICAqL1xuICBjb25uZWN0ZWRDYWxsYmFjaygpIHtcbiAgICB0aGlzLnN0eWxlLmRpc3BsYXkgPSAnbm9uZSc7XG4gICAgdGhpcy5yZW5kZXIoKTtcbiAgfVxuXG4gIC8qKlxuICAgKiBAb3ZlcnJpZGVcbiAgICogQHJldHVybiB7dm9pZH1cbiAgICovXG4gIGRpc2Nvbm5lY3RlZENhbGxiYWNrKCkge1xuICAgIHRoaXMuX19yZW1vdmVDaGlsZHJlbigpO1xuICB9XG5cbiAgX19pbnNlcnRDaGlsZHJlbigpIHtcbiAgICB3cmFwKHdyYXAodGhpcykucGFyZW50Tm9kZSkuaW5zZXJ0QmVmb3JlKHRoaXMucm9vdCwgdGhpcyk7XG4gIH1cblxuICBfX3JlbW92ZUNoaWxkcmVuKCkge1xuICAgIGlmICh0aGlzLl9fY2hpbGRyZW4pIHtcbiAgICAgIGZvciAobGV0IGk9MDsgaTx0aGlzLl9fY2hpbGRyZW4ubGVuZ3RoOyBpKyspIHtcbiAgICAgICAgdGhpcy5yb290LmFwcGVuZENoaWxkKHRoaXMuX19jaGlsZHJlbltpXSk7XG4gICAgICB9XG4gICAgfVxuICB9XG5cbiAgLyoqXG4gICAqIEZvcmNlcyB0aGUgZWxlbWVudCB0byByZW5kZXIgaXRzIGNvbnRlbnQuIFRoaXMgaXMgdHlwaWNhbGx5IG9ubHlcbiAgICogbmVjZXNzYXJ5IHRvIGNhbGwgaWYgSFRNTEltcG9ydHMgd2l0aCB0aGUgYXN5bmMgYXR0cmlidXRlIGFyZSB1c2VkLlxuICAgKiBAcmV0dXJuIHt2b2lkfVxuICAgKi9cbiAgcmVuZGVyKCkge1xuICAgIGxldCB0ZW1wbGF0ZTtcbiAgICBpZiAoIXRoaXMuX19jaGlsZHJlbikge1xuICAgICAgdGVtcGxhdGUgPSAvKiogQHR5cGUge0hUTUxUZW1wbGF0ZUVsZW1lbnR9ICovKHRlbXBsYXRlIHx8IHRoaXMucXVlcnlTZWxlY3RvcigndGVtcGxhdGUnKSk7XG4gICAgICBpZiAoIXRlbXBsYXRlKSB7XG4gICAgICAgIC8vIFdhaXQgdW50aWwgY2hpbGRMaXN0IGNoYW5nZXMgYW5kIHRlbXBsYXRlIHNob3VsZCBiZSB0aGVyZSBieSB0aGVuXG4gICAgICAgIGxldCBvYnNlcnZlciA9IG5ldyBNdXRhdGlvbk9ic2VydmVyKCgpID0+IHtcbiAgICAgICAgICB0ZW1wbGF0ZSA9IC8qKiBAdHlwZSB7SFRNTFRlbXBsYXRlRWxlbWVudH0gKi8odGhpcy5xdWVyeVNlbGVjdG9yKCd0ZW1wbGF0ZScpKTtcbiAgICAgICAgICBpZiAodGVtcGxhdGUpIHtcbiAgICAgICAgICAgIG9ic2VydmVyLmRpc2Nvbm5lY3QoKTtcbiAgICAgICAgICAgIHRoaXMucmVuZGVyKCk7XG4gICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIHRocm93IG5ldyBFcnJvcignZG9tLWJpbmQgcmVxdWlyZXMgYSA8dGVtcGxhdGU+IGNoaWxkJyk7XG4gICAgICAgICAgfVxuICAgICAgICB9KTtcbiAgICAgICAgb2JzZXJ2ZXIub2JzZXJ2ZSh0aGlzLCB7Y2hpbGRMaXN0OiB0cnVlfSk7XG4gICAgICAgIHJldHVybjtcbiAgICAgIH1cbiAgICAgIHRoaXMucm9vdCA9IHRoaXMuX3N0YW1wVGVtcGxhdGUoXG4gICAgICAgIC8qKiBAdHlwZSB7IUhUTUxUZW1wbGF0ZUVsZW1lbnR9ICovKHRlbXBsYXRlKSk7XG4gICAgICB0aGlzLiQgPSB0aGlzLnJvb3QuJDtcbiAgICAgIHRoaXMuX19jaGlsZHJlbiA9IFtdO1xuICAgICAgZm9yIChsZXQgbj10aGlzLnJvb3QuZmlyc3RDaGlsZDsgbjsgbj1uLm5leHRTaWJsaW5nKSB7XG4gICAgICAgIHRoaXMuX19jaGlsZHJlblt0aGlzLl9fY2hpbGRyZW4ubGVuZ3RoXSA9IG47XG4gICAgICB9XG4gICAgICB0aGlzLl9lbmFibGVQcm9wZXJ0aWVzKCk7XG4gICAgfVxuICAgIHRoaXMuX19pbnNlcnRDaGlsZHJlbigpO1xuICAgIHRoaXMuZGlzcGF0Y2hFdmVudChuZXcgQ3VzdG9tRXZlbnQoJ2RvbS1jaGFuZ2UnLCB7XG4gICAgICBidWJibGVzOiB0cnVlLFxuICAgICAgY29tcG9zZWQ6IHRydWVcbiAgICB9KSk7XG4gIH1cblxufVxuXG5jdXN0b21FbGVtZW50cy5kZWZpbmUoJ2RvbS1iaW5kJywgRG9tQmluZCk7XG4iLCIvKipcbkBsaWNlbnNlXG5Db3B5cmlnaHQgKGMpIDIwMTcgVGhlIFBvbHltZXIgUHJvamVjdCBBdXRob3JzLiBBbGwgcmlnaHRzIHJlc2VydmVkLlxuVGhpcyBjb2RlIG1heSBvbmx5IGJlIHVzZWQgdW5kZXIgdGhlIEJTRCBzdHlsZSBsaWNlbnNlIGZvdW5kIGF0IGh0dHA6Ly9wb2x5bWVyLmdpdGh1Yi5pby9MSUNFTlNFLnR4dFxuVGhlIGNvbXBsZXRlIHNldCBvZiBhdXRob3JzIG1heSBiZSBmb3VuZCBhdCBodHRwOi8vcG9seW1lci5naXRodWIuaW8vQVVUSE9SUy50eHRcblRoZSBjb21wbGV0ZSBzZXQgb2YgY29udHJpYnV0b3JzIG1heSBiZSBmb3VuZCBhdCBodHRwOi8vcG9seW1lci5naXRodWIuaW8vQ09OVFJJQlVUT1JTLnR4dFxuQ29kZSBkaXN0cmlidXRlZCBieSBHb29nbGUgYXMgcGFydCBvZiB0aGUgcG9seW1lciBwcm9qZWN0IGlzIGFsc29cbnN1YmplY3QgdG8gYW4gYWRkaXRpb25hbCBJUCByaWdodHMgZ3JhbnQgZm91bmQgYXQgaHR0cDovL3BvbHltZXIuZ2l0aHViLmlvL1BBVEVOVFMudHh0XG4qL1xuaW1wb3J0IHsgUG9seW1lckVsZW1lbnQgfSBmcm9tICcuLi8uLi9wb2x5bWVyLWVsZW1lbnQuanMnO1xuXG5pbXBvcnQgeyBUZW1wbGF0ZUluc3RhbmNlQmFzZSwgdGVtcGxhdGl6ZSwgbW9kZWxGb3JFbGVtZW50IH0gZnJvbSAnLi4vdXRpbHMvdGVtcGxhdGl6ZS5qcyc7IC8vIGVzbGludC1kaXNhYmxlLWxpbmUgbm8tdW51c2VkLXZhcnNcbmltcG9ydCB7IERlYm91bmNlciB9IGZyb20gJy4uL3V0aWxzL2RlYm91bmNlLmpzJztcbmltcG9ydCB7IGVucXVldWVEZWJvdW5jZXIsIGZsdXNoIH0gZnJvbSAnLi4vdXRpbHMvZmx1c2guanMnO1xuaW1wb3J0IHsgT3B0aW9uYWxNdXRhYmxlRGF0YSB9IGZyb20gJy4uL21peGlucy9tdXRhYmxlLWRhdGEuanMnO1xuaW1wb3J0IHsgbWF0Y2hlcywgdHJhbnNsYXRlIH0gZnJvbSAnLi4vdXRpbHMvcGF0aC5qcyc7XG5pbXBvcnQgeyB0aW1lT3V0LCBtaWNyb1Rhc2sgfSBmcm9tICcuLi91dGlscy9hc3luYy5qcyc7XG5pbXBvcnQgeyB3cmFwIH0gZnJvbSAnLi4vdXRpbHMvd3JhcC5qcyc7XG5cbi8qKlxuICogQGNvbnN0cnVjdG9yXG4gKiBAaW1wbGVtZW50cyB7UG9seW1lcl9PcHRpb25hbE11dGFibGVEYXRhfVxuICogQGV4dGVuZHMge1BvbHltZXJFbGVtZW50fVxuICogQHByaXZhdGVcbiAqL1xuY29uc3QgZG9tUmVwZWF0QmFzZSA9IE9wdGlvbmFsTXV0YWJsZURhdGEoUG9seW1lckVsZW1lbnQpO1xuXG4vKipcbiAqIFRoZSBgPGRvbS1yZXBlYXQ+YCBlbGVtZW50IHdpbGwgYXV0b21hdGljYWxseSBzdGFtcCBhbmQgYmluZHMgb25lIGluc3RhbmNlXG4gKiBvZiB0ZW1wbGF0ZSBjb250ZW50IHRvIGVhY2ggb2JqZWN0IGluIGEgdXNlci1wcm92aWRlZCBhcnJheS5cbiAqIGBkb20tcmVwZWF0YCBhY2NlcHRzIGFuIGBpdGVtc2AgcHJvcGVydHksIGFuZCBvbmUgaW5zdGFuY2Ugb2YgdGhlIHRlbXBsYXRlXG4gKiBpcyBzdGFtcGVkIGZvciBlYWNoIGl0ZW0gaW50byB0aGUgRE9NIGF0IHRoZSBsb2NhdGlvbiBvZiB0aGUgYGRvbS1yZXBlYXRgXG4gKiBlbGVtZW50LiAgVGhlIGBpdGVtYCBwcm9wZXJ0eSB3aWxsIGJlIHNldCBvbiBlYWNoIGluc3RhbmNlJ3MgYmluZGluZ1xuICogc2NvcGUsIHRodXMgdGVtcGxhdGVzIHNob3VsZCBiaW5kIHRvIHN1Yi1wcm9wZXJ0aWVzIG9mIGBpdGVtYC5cbiAqXG4gKiBFeGFtcGxlOlxuICpcbiAqIGBgYGh0bWxcbiAqIDxkb20tbW9kdWxlIGlkPVwiZW1wbG95ZWUtbGlzdFwiPlxuICpcbiAqICAgPHRlbXBsYXRlPlxuICpcbiAqICAgICA8ZGl2PiBFbXBsb3llZSBsaXN0OiA8L2Rpdj5cbiAqICAgICA8ZG9tLXJlcGVhdCBpdGVtcz1cInt7ZW1wbG95ZWVzfX1cIj5cbiAqICAgICAgIDx0ZW1wbGF0ZT5cbiAqICAgICAgICAgPGRpdj5GaXJzdCBuYW1lOiA8c3Bhbj57e2l0ZW0uZmlyc3R9fTwvc3Bhbj48L2Rpdj5cbiAqICAgICAgICAgPGRpdj5MYXN0IG5hbWU6IDxzcGFuPnt7aXRlbS5sYXN0fX08L3NwYW4+PC9kaXY+XG4gKiAgICAgICA8L3RlbXBsYXRlPlxuICogICAgIDwvZG9tLXJlcGVhdD5cbiAqXG4gKiAgIDwvdGVtcGxhdGU+XG4gKlxuICogPC9kb20tbW9kdWxlPlxuICogYGBgXG4gKlxuICogV2l0aCB0aGUgZm9sbG93aW5nIGN1c3RvbSBlbGVtZW50IGRlZmluaXRpb246XG4gKlxuICogYGBganNcbiAqIGNsYXNzIEVtcGxveWVlTGlzdCBleHRlbmRzIFBvbHltZXJFbGVtZW50IHtcbiAqICAgc3RhdGljIGdldCBpcygpIHsgcmV0dXJuICdlbXBsb3llZS1saXN0JzsgfVxuICogICBzdGF0aWMgZ2V0IHByb3BlcnRpZXMoKSB7XG4gKiAgICAgcmV0dXJuIHtcbiAqICAgICAgIGVtcGxveWVlczoge1xuICogICAgICAgICB2YWx1ZSgpIHtcbiAqICAgICAgICAgICByZXR1cm4gW1xuICogICAgICAgICAgICAge2ZpcnN0OiAnQm9iJywgbGFzdDogJ1NtaXRoJ30sXG4gKiAgICAgICAgICAgICB7Zmlyc3Q6ICdTYWxseScsIGxhc3Q6ICdKb2huc29uJ30sXG4gKiAgICAgICAgICAgICAuLi5cbiAqICAgICAgICAgICBdO1xuICogICAgICAgICB9XG4gKiAgICAgICB9XG4gKiAgICAgfTtcbiAqICAgfVxuICogfVxuICogYGBgXG4gKlxuICogTm90aWZpY2F0aW9ucyBmb3IgY2hhbmdlcyB0byBpdGVtcyBzdWItcHJvcGVydGllcyB3aWxsIGJlIGZvcndhcmRlZCB0byB0ZW1wbGF0ZVxuICogaW5zdGFuY2VzLCB3aGljaCB3aWxsIHVwZGF0ZSB2aWEgdGhlIG5vcm1hbCBzdHJ1Y3R1cmVkIGRhdGEgbm90aWZpY2F0aW9uIHN5c3RlbS5cbiAqXG4gKiBNdXRhdGlvbnMgdG8gdGhlIGBpdGVtc2AgYXJyYXkgaXRzZWxmIHNob3VsZCBiZSBtYWRlIHVzaW5nIHRoZSBBcnJheVxuICogbXV0YXRpb24gQVBJJ3Mgb24gdGhlIFByb3BlcnR5RWZmZWN0cyBtaXhpbiAoYHB1c2hgLCBgcG9wYCwgYHNwbGljZWAsXG4gKiBgc2hpZnRgLCBgdW5zaGlmdGApLCBhbmQgdGVtcGxhdGUgaW5zdGFuY2VzIHdpbGwgYmUga2VwdCBpbiBzeW5jIHdpdGggdGhlXG4gKiBkYXRhIGluIHRoZSBhcnJheS5cbiAqXG4gKiBFdmVudHMgY2F1Z2h0IGJ5IGV2ZW50IGhhbmRsZXJzIHdpdGhpbiB0aGUgYGRvbS1yZXBlYXRgIHRlbXBsYXRlIHdpbGwgYmVcbiAqIGRlY29yYXRlZCB3aXRoIGEgYG1vZGVsYCBwcm9wZXJ0eSwgd2hpY2ggcmVwcmVzZW50cyB0aGUgYmluZGluZyBzY29wZSBmb3JcbiAqIGVhY2ggdGVtcGxhdGUgaW5zdGFuY2UuICBUaGUgbW9kZWwgc2hvdWxkIGJlIHVzZWQgdG8gbWFuaXB1bGF0ZSBkYXRhIG9uIHRoZVxuICogaW5zdGFuY2UsIGZvciBleGFtcGxlIGBldmVudC5tb2RlbC5zZXQoJ2l0ZW0uY2hlY2tlZCcsIHRydWUpO2AuXG4gKlxuICogQWx0ZXJuYXRpdmVseSwgdGhlIG1vZGVsIGZvciBhIHRlbXBsYXRlIGluc3RhbmNlIGZvciBhbiBlbGVtZW50IHN0YW1wZWQgYnlcbiAqIGEgYGRvbS1yZXBlYXRgIGNhbiBiZSBvYnRhaW5lZCB1c2luZyB0aGUgYG1vZGVsRm9yRWxlbWVudGAgQVBJIG9uIHRoZVxuICogYGRvbS1yZXBlYXRgIHRoYXQgc3RhbXBlZCBpdCwgZm9yIGV4YW1wbGVcbiAqIGB0aGlzLiQuZG9tUmVwZWF0Lm1vZGVsRm9yRWxlbWVudChldmVudC50YXJnZXQpLnNldCgnaXRlbS5jaGVja2VkJywgdHJ1ZSk7YC5cbiAqIFRoaXMgbWF5IGJlIHVzZWZ1bCBmb3IgbWFuaXB1bGF0aW5nIGluc3RhbmNlIGRhdGEgb2YgZXZlbnQgdGFyZ2V0cyBvYnRhaW5lZFxuICogYnkgZXZlbnQgaGFuZGxlcnMgb24gcGFyZW50cyBvZiB0aGUgYGRvbS1yZXBlYXRgIChldmVudCBkZWxlZ2F0aW9uKS5cbiAqXG4gKiBBIHZpZXctc3BlY2lmaWMgZmlsdGVyL3NvcnQgbWF5IGJlIGFwcGxpZWQgdG8gZWFjaCBgZG9tLXJlcGVhdGAgYnkgc3VwcGx5aW5nIGFcbiAqIGBmaWx0ZXJgIGFuZC9vciBgc29ydGAgcHJvcGVydHkuICBUaGlzIG1heSBiZSBhIHN0cmluZyB0aGF0IG5hbWVzIGEgZnVuY3Rpb24gb25cbiAqIHRoZSBob3N0LCBvciBhIGZ1bmN0aW9uIG1heSBiZSBhc3NpZ25lZCB0byB0aGUgcHJvcGVydHkgZGlyZWN0bHkuICBUaGUgZnVuY3Rpb25zXG4gKiBzaG91bGQgaW1wbGVtZW50ZWQgZm9sbG93aW5nIHRoZSBzdGFuZGFyZCBgQXJyYXlgIGZpbHRlci9zb3J0IEFQSS5cbiAqXG4gKiBJbiBvcmRlciB0byByZS1ydW4gdGhlIGZpbHRlciBvciBzb3J0IGZ1bmN0aW9ucyBiYXNlZCBvbiBjaGFuZ2VzIHRvIHN1Yi1maWVsZHNcbiAqIG9mIGBpdGVtc2AsIHRoZSBgb2JzZXJ2ZWAgcHJvcGVydHkgbWF5IGJlIHNldCBhcyBhIHNwYWNlLXNlcGFyYXRlZCBsaXN0IG9mXG4gKiBgaXRlbWAgc3ViLWZpZWxkcyB0aGF0IHNob3VsZCBjYXVzZSBhIHJlLWZpbHRlci9zb3J0IHdoZW4gbW9kaWZpZWQuICBJZlxuICogdGhlIGZpbHRlciBvciBzb3J0IGZ1bmN0aW9uIGRlcGVuZHMgb24gcHJvcGVydGllcyBub3QgY29udGFpbmVkIGluIGBpdGVtc2AsXG4gKiB0aGUgdXNlciBzaG91bGQgb2JzZXJ2ZSBjaGFuZ2VzIHRvIHRob3NlIHByb3BlcnRpZXMgYW5kIGNhbGwgYHJlbmRlcmAgdG8gdXBkYXRlXG4gKiB0aGUgdmlldyBiYXNlZCBvbiB0aGUgZGVwZW5kZW5jeSBjaGFuZ2UuXG4gKlxuICogRm9yIGV4YW1wbGUsIGZvciBhbiBgZG9tLXJlcGVhdGAgd2l0aCBhIGZpbHRlciBvZiB0aGUgZm9sbG93aW5nOlxuICpcbiAqIGBgYGpzXG4gKiBpc0VuZ2luZWVyKGl0ZW0pIHtcbiAqICAgcmV0dXJuIGl0ZW0udHlwZSA9PSAnZW5naW5lZXInIHx8IGl0ZW0ubWFuYWdlci50eXBlID09ICdlbmdpbmVlcic7XG4gKiB9XG4gKiBgYGBcbiAqXG4gKiBUaGVuIHRoZSBgb2JzZXJ2ZWAgcHJvcGVydHkgc2hvdWxkIGJlIGNvbmZpZ3VyZWQgYXMgZm9sbG93czpcbiAqXG4gKiBgYGBodG1sXG4gKiA8ZG9tLXJlcGVhdCBpdGVtcz1cInt7ZW1wbG95ZWVzfX1cIiBmaWx0ZXI9XCJpc0VuZ2luZWVyXCIgb2JzZXJ2ZT1cInR5cGUgbWFuYWdlci50eXBlXCI+XG4gKiBgYGBcbiAqXG4gKiBAY3VzdG9tRWxlbWVudFxuICogQHBvbHltZXJcbiAqIEBleHRlbmRzIHtkb21SZXBlYXRCYXNlfVxuICogQGFwcGxpZXNNaXhpbiBPcHRpb25hbE11dGFibGVEYXRhXG4gKiBAc3VtbWFyeSBDdXN0b20gZWxlbWVudCBmb3Igc3RhbXBpbmcgaW5zdGFuY2Ugb2YgYSB0ZW1wbGF0ZSBib3VuZCB0b1xuICogICBpdGVtcyBpbiBhbiBhcnJheS5cbiAqL1xuZXhwb3J0IGNsYXNzIERvbVJlcGVhdCBleHRlbmRzIGRvbVJlcGVhdEJhc2Uge1xuXG4gIC8vIE5vdCBuZWVkZWQgdG8gZmluZCB0ZW1wbGF0ZTsgY2FuIGJlIHJlbW92ZWQgb25jZSB0aGUgYW5hbHl6ZXJcbiAgLy8gY2FuIGZpbmQgdGhlIHRhZyBuYW1lIGZyb20gY3VzdG9tRWxlbWVudHMuZGVmaW5lIGNhbGxcbiAgc3RhdGljIGdldCBpcygpIHsgcmV0dXJuICdkb20tcmVwZWF0JzsgfVxuXG4gIHN0YXRpYyBnZXQgdGVtcGxhdGUoKSB7IHJldHVybiBudWxsOyB9XG5cbiAgc3RhdGljIGdldCBwcm9wZXJ0aWVzKCkge1xuXG4gICAgLyoqXG4gICAgICogRmlyZWQgd2hlbmV2ZXIgRE9NIGlzIGFkZGVkIG9yIHJlbW92ZWQgYnkgdGhpcyB0ZW1wbGF0ZSAoYnlcbiAgICAgKiBkZWZhdWx0LCByZW5kZXJpbmcgb2NjdXJzIGxhemlseSkuICBUbyBmb3JjZSBpbW1lZGlhdGUgcmVuZGVyaW5nLCBjYWxsXG4gICAgICogYHJlbmRlcmAuXG4gICAgICpcbiAgICAgKiBAZXZlbnQgZG9tLWNoYW5nZVxuICAgICAqL1xuICAgIHJldHVybiB7XG5cbiAgICAgIC8qKlxuICAgICAgICogQW4gYXJyYXkgY29udGFpbmluZyBpdGVtcyBkZXRlcm1pbmluZyBob3cgbWFueSBpbnN0YW5jZXMgb2YgdGhlIHRlbXBsYXRlXG4gICAgICAgKiB0byBzdGFtcCBhbmQgdGhhdCB0aGF0IGVhY2ggdGVtcGxhdGUgaW5zdGFuY2Ugc2hvdWxkIGJpbmQgdG8uXG4gICAgICAgKi9cbiAgICAgIGl0ZW1zOiB7XG4gICAgICAgIHR5cGU6IEFycmF5XG4gICAgICB9LFxuXG4gICAgICAvKipcbiAgICAgICAqIFRoZSBuYW1lIG9mIHRoZSB2YXJpYWJsZSB0byBhZGQgdG8gdGhlIGJpbmRpbmcgc2NvcGUgZm9yIHRoZSBhcnJheVxuICAgICAgICogZWxlbWVudCBhc3NvY2lhdGVkIHdpdGggYSBnaXZlbiB0ZW1wbGF0ZSBpbnN0YW5jZS5cbiAgICAgICAqL1xuICAgICAgYXM6IHtcbiAgICAgICAgdHlwZTogU3RyaW5nLFxuICAgICAgICB2YWx1ZTogJ2l0ZW0nXG4gICAgICB9LFxuXG4gICAgICAvKipcbiAgICAgICAqIFRoZSBuYW1lIG9mIHRoZSB2YXJpYWJsZSB0byBhZGQgdG8gdGhlIGJpbmRpbmcgc2NvcGUgd2l0aCB0aGUgaW5kZXhcbiAgICAgICAqIG9mIHRoZSBpbnN0YW5jZSBpbiB0aGUgc29ydGVkIGFuZCBmaWx0ZXJlZCBsaXN0IG9mIHJlbmRlcmVkIGl0ZW1zLlxuICAgICAgICogTm90ZSwgZm9yIHRoZSBpbmRleCBpbiB0aGUgYHRoaXMuaXRlbXNgIGFycmF5LCB1c2UgdGhlIHZhbHVlIG9mIHRoZVxuICAgICAgICogYGl0ZW1zSW5kZXhBc2AgcHJvcGVydHkuXG4gICAgICAgKi9cbiAgICAgIGluZGV4QXM6IHtcbiAgICAgICAgdHlwZTogU3RyaW5nLFxuICAgICAgICB2YWx1ZTogJ2luZGV4J1xuICAgICAgfSxcblxuICAgICAgLyoqXG4gICAgICAgKiBUaGUgbmFtZSBvZiB0aGUgdmFyaWFibGUgdG8gYWRkIHRvIHRoZSBiaW5kaW5nIHNjb3BlIHdpdGggdGhlIGluZGV4XG4gICAgICAgKiBvZiB0aGUgaW5zdGFuY2UgaW4gdGhlIGB0aGlzLml0ZW1zYCBhcnJheS4gTm90ZSwgZm9yIHRoZSBpbmRleCBvZlxuICAgICAgICogdGhpcyBpbnN0YW5jZSBpbiB0aGUgc29ydGVkIGFuZCBmaWx0ZXJlZCBsaXN0IG9mIHJlbmRlcmVkIGl0ZW1zLFxuICAgICAgICogdXNlIHRoZSB2YWx1ZSBvZiB0aGUgYGluZGV4QXNgIHByb3BlcnR5LlxuICAgICAgICovXG4gICAgICBpdGVtc0luZGV4QXM6IHtcbiAgICAgICAgdHlwZTogU3RyaW5nLFxuICAgICAgICB2YWx1ZTogJ2l0ZW1zSW5kZXgnXG4gICAgICB9LFxuXG4gICAgICAvKipcbiAgICAgICAqIEEgZnVuY3Rpb24gdGhhdCBzaG91bGQgZGV0ZXJtaW5lIHRoZSBzb3J0IG9yZGVyIG9mIHRoZSBpdGVtcy4gIFRoaXNcbiAgICAgICAqIHByb3BlcnR5IHNob3VsZCBlaXRoZXIgYmUgcHJvdmlkZWQgYXMgYSBzdHJpbmcsIGluZGljYXRpbmcgYSBtZXRob2RcbiAgICAgICAqIG5hbWUgb24gdGhlIGVsZW1lbnQncyBob3N0LCBvciBlbHNlIGJlIGFuIGFjdHVhbCBmdW5jdGlvbi4gIFRoZVxuICAgICAgICogZnVuY3Rpb24gc2hvdWxkIG1hdGNoIHRoZSBzb3J0IGZ1bmN0aW9uIHBhc3NlZCB0byBgQXJyYXkuc29ydGAuXG4gICAgICAgKiBVc2luZyBhIHNvcnQgZnVuY3Rpb24gaGFzIG5vIGVmZmVjdCBvbiB0aGUgdW5kZXJseWluZyBgaXRlbXNgIGFycmF5LlxuICAgICAgICovXG4gICAgICBzb3J0OiB7XG4gICAgICAgIHR5cGU6IEZ1bmN0aW9uLFxuICAgICAgICBvYnNlcnZlcjogJ19fc29ydENoYW5nZWQnXG4gICAgICB9LFxuXG4gICAgICAvKipcbiAgICAgICAqIEEgZnVuY3Rpb24gdGhhdCBjYW4gYmUgdXNlZCB0byBmaWx0ZXIgaXRlbXMgb3V0IG9mIHRoZSB2aWV3LiAgVGhpc1xuICAgICAgICogcHJvcGVydHkgc2hvdWxkIGVpdGhlciBiZSBwcm92aWRlZCBhcyBhIHN0cmluZywgaW5kaWNhdGluZyBhIG1ldGhvZFxuICAgICAgICogbmFtZSBvbiB0aGUgZWxlbWVudCdzIGhvc3QsIG9yIGVsc2UgYmUgYW4gYWN0dWFsIGZ1bmN0aW9uLiAgVGhlXG4gICAgICAgKiBmdW5jdGlvbiBzaG91bGQgbWF0Y2ggdGhlIHNvcnQgZnVuY3Rpb24gcGFzc2VkIHRvIGBBcnJheS5maWx0ZXJgLlxuICAgICAgICogVXNpbmcgYSBmaWx0ZXIgZnVuY3Rpb24gaGFzIG5vIGVmZmVjdCBvbiB0aGUgdW5kZXJseWluZyBgaXRlbXNgIGFycmF5LlxuICAgICAgICovXG4gICAgICBmaWx0ZXI6IHtcbiAgICAgICAgdHlwZTogRnVuY3Rpb24sXG4gICAgICAgIG9ic2VydmVyOiAnX19maWx0ZXJDaGFuZ2VkJ1xuICAgICAgfSxcblxuICAgICAgLyoqXG4gICAgICAgKiBXaGVuIHVzaW5nIGEgYGZpbHRlcmAgb3IgYHNvcnRgIGZ1bmN0aW9uLCB0aGUgYG9ic2VydmVgIHByb3BlcnR5XG4gICAgICAgKiBzaG91bGQgYmUgc2V0IHRvIGEgc3BhY2Utc2VwYXJhdGVkIGxpc3Qgb2YgdGhlIG5hbWVzIG9mIGl0ZW1cbiAgICAgICAqIHN1Yi1maWVsZHMgdGhhdCBzaG91bGQgdHJpZ2dlciBhIHJlLXNvcnQgb3IgcmUtZmlsdGVyIHdoZW4gY2hhbmdlZC5cbiAgICAgICAqIFRoZXNlIHNob3VsZCBnZW5lcmFsbHkgYmUgZmllbGRzIG9mIGBpdGVtYCB0aGF0IHRoZSBzb3J0IG9yIGZpbHRlclxuICAgICAgICogZnVuY3Rpb24gZGVwZW5kcyBvbi5cbiAgICAgICAqL1xuICAgICAgb2JzZXJ2ZToge1xuICAgICAgICB0eXBlOiBTdHJpbmcsXG4gICAgICAgIG9ic2VydmVyOiAnX19vYnNlcnZlQ2hhbmdlZCdcbiAgICAgIH0sXG5cbiAgICAgIC8qKlxuICAgICAgICogV2hlbiB1c2luZyBhIGBmaWx0ZXJgIG9yIGBzb3J0YCBmdW5jdGlvbiwgdGhlIGBkZWxheWAgcHJvcGVydHlcbiAgICAgICAqIGRldGVybWluZXMgYSBkZWJvdW5jZSB0aW1lIGluIG1zIGFmdGVyIGEgY2hhbmdlIHRvIG9ic2VydmVkIGl0ZW1cbiAgICAgICAqIHByb3BlcnRpZXMgdGhhdCBtdXN0IHBhc3MgYmVmb3JlIHRoZSBmaWx0ZXIgb3Igc29ydCBpcyByZS1ydW4uXG4gICAgICAgKiBUaGlzIGlzIHVzZWZ1bCBpbiByYXRlLWxpbWl0aW5nIHNodWZmbGluZyBvZiB0aGUgdmlldyB3aGVuXG4gICAgICAgKiBpdGVtIGNoYW5nZXMgbWF5IGJlIGZyZXF1ZW50LlxuICAgICAgICovXG4gICAgICBkZWxheTogTnVtYmVyLFxuXG4gICAgICAvKipcbiAgICAgICAqIENvdW50IG9mIGN1cnJlbnRseSByZW5kZXJlZCBpdGVtcyBhZnRlciBgZmlsdGVyYCAoaWYgYW55KSBoYXMgYmVlbiBhcHBsaWVkLlxuICAgICAgICogSWYgXCJjaHVua2luZyBtb2RlXCIgaXMgZW5hYmxlZCwgYHJlbmRlcmVkSXRlbUNvdW50YCBpcyB1cGRhdGVkIGVhY2ggdGltZSBhXG4gICAgICAgKiBzZXQgb2YgdGVtcGxhdGUgaW5zdGFuY2VzIGlzIHJlbmRlcmVkLlxuICAgICAgICpcbiAgICAgICAqL1xuICAgICAgcmVuZGVyZWRJdGVtQ291bnQ6IHtcbiAgICAgICAgdHlwZTogTnVtYmVyLFxuICAgICAgICBub3RpZnk6IHRydWUsXG4gICAgICAgIHJlYWRPbmx5OiB0cnVlXG4gICAgICB9LFxuXG4gICAgICAvKipcbiAgICAgICAqIERlZmluZXMgYW4gaW5pdGlhbCBjb3VudCBvZiB0ZW1wbGF0ZSBpbnN0YW5jZXMgdG8gcmVuZGVyIGFmdGVyIHNldHRpbmdcbiAgICAgICAqIHRoZSBgaXRlbXNgIGFycmF5LCBiZWZvcmUgdGhlIG5leHQgcGFpbnQsIGFuZCBwdXRzIHRoZSBgZG9tLXJlcGVhdGBcbiAgICAgICAqIGludG8gXCJjaHVua2luZyBtb2RlXCIuICBUaGUgcmVtYWluaW5nIGl0ZW1zIHdpbGwgYmUgY3JlYXRlZCBhbmQgcmVuZGVyZWRcbiAgICAgICAqIGluY3JlbWVudGFsbHkgYXQgZWFjaCBhbmltYXRpb24gZnJhbWUgdGhlcm9mIHVudGlsIGFsbCBpbnN0YW5jZXMgaGF2ZVxuICAgICAgICogYmVlbiByZW5kZXJlZC5cbiAgICAgICAqL1xuICAgICAgaW5pdGlhbENvdW50OiB7XG4gICAgICAgIHR5cGU6IE51bWJlcixcbiAgICAgICAgb2JzZXJ2ZXI6ICdfX2luaXRpYWxpemVDaHVua2luZydcbiAgICAgIH0sXG5cbiAgICAgIC8qKlxuICAgICAgICogV2hlbiBgaW5pdGlhbENvdW50YCBpcyB1c2VkLCB0aGlzIHByb3BlcnR5IGRlZmluZXMgYSBmcmFtZSByYXRlIChpblxuICAgICAgICogZnBzKSB0byB0YXJnZXQgYnkgdGhyb3R0bGluZyB0aGUgbnVtYmVyIG9mIGluc3RhbmNlcyByZW5kZXJlZCBlYWNoXG4gICAgICAgKiBmcmFtZSB0byBub3QgZXhjZWVkIHRoZSBidWRnZXQgZm9yIHRoZSB0YXJnZXQgZnJhbWUgcmF0ZS4gIFRoZVxuICAgICAgICogZnJhbWVyYXRlIGlzIGVmZmVjdGl2ZWx5IHRoZSBudW1iZXIgb2YgYHJlcXVlc3RBbmltYXRpb25GcmFtZWBzIHRoYXRcbiAgICAgICAqIGl0IHRyaWVzIHRvIGFsbG93IHRvIGFjdHVhbGx5IGZpcmUgaW4gYSBnaXZlbiBzZWNvbmQuIEl0IGRvZXMgdGhpc1xuICAgICAgICogYnkgbWVhc3VyaW5nIHRoZSB0aW1lIGJldHdlZW4gYHJBRmBzIGFuZCBjb250aW51b3VzbHkgYWRqdXN0aW5nIHRoZVxuICAgICAgICogbnVtYmVyIG9mIGl0ZW1zIGNyZWF0ZWQgZWFjaCBgckFGYCB0byBtYWludGFpbiB0aGUgdGFyZ2V0IGZyYW1lcmF0ZS5cbiAgICAgICAqIFNldHRpbmcgdGhpcyB0byBhIGhpZ2hlciBudW1iZXIgYWxsb3dzIGxvd2VyIGxhdGVuY3kgYW5kIGhpZ2hlclxuICAgICAgICogdGhyb3VnaHB1dCBmb3IgZXZlbnQgaGFuZGxlcnMgYW5kIG90aGVyIHRhc2tzLCBidXQgcmVzdWx0cyBpbiBhXG4gICAgICAgKiBsb25nZXIgdGltZSBmb3IgdGhlIHJlbWFpbmluZyBpdGVtcyB0byBjb21wbGV0ZSByZW5kZXJpbmcuXG4gICAgICAgKi9cbiAgICAgIHRhcmdldEZyYW1lcmF0ZToge1xuICAgICAgICB0eXBlOiBOdW1iZXIsXG4gICAgICAgIHZhbHVlOiAyMFxuICAgICAgfSxcblxuICAgICAgX3RhcmdldEZyYW1lVGltZToge1xuICAgICAgICB0eXBlOiBOdW1iZXIsXG4gICAgICAgIGNvbXB1dGVkOiAnX19jb21wdXRlRnJhbWVUaW1lKHRhcmdldEZyYW1lcmF0ZSknXG4gICAgICB9XG5cbiAgICB9O1xuXG4gIH1cblxuICBzdGF0aWMgZ2V0IG9ic2VydmVycygpIHtcbiAgICByZXR1cm4gWyAnX19pdGVtc0NoYW5nZWQoaXRlbXMuKiknIF07XG4gIH1cblxuICBjb25zdHJ1Y3RvcigpIHtcbiAgICBzdXBlcigpO1xuICAgIHRoaXMuX19pbnN0YW5jZXMgPSBbXTtcbiAgICB0aGlzLl9fbGltaXQgPSBJbmZpbml0eTtcbiAgICB0aGlzLl9fcG9vbCA9IFtdO1xuICAgIHRoaXMuX19yZW5kZXJEZWJvdW5jZXIgPSBudWxsO1xuICAgIHRoaXMuX19pdGVtc0lkeFRvSW5zdElkeCA9IHt9O1xuICAgIHRoaXMuX19jaHVua0NvdW50ID0gbnVsbDtcbiAgICB0aGlzLl9fbGFzdENodW5rVGltZSA9IG51bGw7XG4gICAgdGhpcy5fX3NvcnRGbiA9IG51bGw7XG4gICAgdGhpcy5fX2ZpbHRlckZuID0gbnVsbDtcbiAgICB0aGlzLl9fb2JzZXJ2ZVBhdGhzID0gbnVsbDtcbiAgICAvKiogQHR5cGUgez9mdW5jdGlvbihuZXc6UG9seW1lci5UZW1wbGF0ZUluc3RhbmNlQmFzZSwgKil9ICovXG4gICAgdGhpcy5fX2N0b3IgPSBudWxsO1xuICAgIHRoaXMuX19pc0RldGFjaGVkID0gdHJ1ZTtcbiAgICB0aGlzLnRlbXBsYXRlID0gbnVsbDtcbiAgfVxuXG4gIC8qKlxuICAgKiBAb3ZlcnJpZGVcbiAgICogQHJldHVybiB7dm9pZH1cbiAgICovXG4gIGRpc2Nvbm5lY3RlZENhbGxiYWNrKCkge1xuICAgIHN1cGVyLmRpc2Nvbm5lY3RlZENhbGxiYWNrKCk7XG4gICAgdGhpcy5fX2lzRGV0YWNoZWQgPSB0cnVlO1xuICAgIGZvciAobGV0IGk9MDsgaTx0aGlzLl9faW5zdGFuY2VzLmxlbmd0aDsgaSsrKSB7XG4gICAgICB0aGlzLl9fZGV0YWNoSW5zdGFuY2UoaSk7XG4gICAgfVxuICB9XG5cbiAgLyoqXG4gICAqIEBvdmVycmlkZVxuICAgKiBAcmV0dXJuIHt2b2lkfVxuICAgKi9cbiAgY29ubmVjdGVkQ2FsbGJhY2soKSB7XG4gICAgc3VwZXIuY29ubmVjdGVkQ2FsbGJhY2soKTtcbiAgICB0aGlzLnN0eWxlLmRpc3BsYXkgPSAnbm9uZSc7XG4gICAgLy8gb25seSBwZXJmb3JtIGF0dGFjaG1lbnQgaWYgdGhlIGVsZW1lbnQgd2FzIHByZXZpb3VzbHkgZGV0YWNoZWQuXG4gICAgaWYgKHRoaXMuX19pc0RldGFjaGVkKSB7XG4gICAgICB0aGlzLl9faXNEZXRhY2hlZCA9IGZhbHNlO1xuICAgICAgbGV0IHdyYXBwZWRQYXJlbnQgPSB3cmFwKHdyYXAodGhpcykucGFyZW50Tm9kZSk7XG4gICAgICBmb3IgKGxldCBpPTA7IGk8dGhpcy5fX2luc3RhbmNlcy5sZW5ndGg7IGkrKykge1xuICAgICAgICB0aGlzLl9fYXR0YWNoSW5zdGFuY2UoaSwgd3JhcHBlZFBhcmVudCk7XG4gICAgICB9XG4gICAgfVxuICB9XG5cbiAgX19lbnN1cmVUZW1wbGF0aXplZCgpIHtcbiAgICAvLyBUZW1wbGF0aXppbmcgKGdlbmVyYXRpbmcgdGhlIGluc3RhbmNlIGNvbnN0cnVjdG9yKSBuZWVkcyB0byB3YWl0XG4gICAgLy8gdW50aWwgcmVhZHksIHNpbmNlIHdvbid0IGhhdmUgaXRzIHRlbXBsYXRlIGNvbnRlbnQgaGFuZGVkIGJhY2sgdG9cbiAgICAvLyBpdCB1bnRpbCB0aGVuXG4gICAgaWYgKCF0aGlzLl9fY3Rvcikge1xuICAgICAgbGV0IHRlbXBsYXRlID0gdGhpcy50ZW1wbGF0ZSA9IC8qKiBAdHlwZSB7SFRNTFRlbXBsYXRlRWxlbWVudH0gKi8odGhpcy5xdWVyeVNlbGVjdG9yKCd0ZW1wbGF0ZScpKTtcbiAgICAgIGlmICghdGVtcGxhdGUpIHtcbiAgICAgICAgLy8gLy8gV2FpdCB1bnRpbCBjaGlsZExpc3QgY2hhbmdlcyBhbmQgdGVtcGxhdGUgc2hvdWxkIGJlIHRoZXJlIGJ5IHRoZW5cbiAgICAgICAgbGV0IG9ic2VydmVyID0gbmV3IE11dGF0aW9uT2JzZXJ2ZXIoKCkgPT4ge1xuICAgICAgICAgIGlmICh0aGlzLnF1ZXJ5U2VsZWN0b3IoJ3RlbXBsYXRlJykpIHtcbiAgICAgICAgICAgIG9ic2VydmVyLmRpc2Nvbm5lY3QoKTtcbiAgICAgICAgICAgIHRoaXMuX19yZW5kZXIoKTtcbiAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgdGhyb3cgbmV3IEVycm9yKCdkb20tcmVwZWF0IHJlcXVpcmVzIGEgPHRlbXBsYXRlPiBjaGlsZCcpO1xuICAgICAgICAgIH1cbiAgICAgICAgfSk7XG4gICAgICAgIG9ic2VydmVyLm9ic2VydmUodGhpcywge2NoaWxkTGlzdDogdHJ1ZX0pO1xuICAgICAgICByZXR1cm4gZmFsc2U7XG4gICAgICB9XG4gICAgICAvLyBUZW1wbGF0ZSBpbnN0YW5jZSBwcm9wcyB0aGF0IHNob3VsZCBiZSBleGNsdWRlZCBmcm9tIGZvcndhcmRpbmdcbiAgICAgIGxldCBpbnN0YW5jZVByb3BzID0ge307XG4gICAgICBpbnN0YW5jZVByb3BzW3RoaXMuYXNdID0gdHJ1ZTtcbiAgICAgIGluc3RhbmNlUHJvcHNbdGhpcy5pbmRleEFzXSA9IHRydWU7XG4gICAgICBpbnN0YW5jZVByb3BzW3RoaXMuaXRlbXNJbmRleEFzXSA9IHRydWU7XG4gICAgICB0aGlzLl9fY3RvciA9IHRlbXBsYXRpemUodGVtcGxhdGUsIHRoaXMsIHtcbiAgICAgICAgbXV0YWJsZURhdGE6IHRoaXMubXV0YWJsZURhdGEsXG4gICAgICAgIHBhcmVudE1vZGVsOiB0cnVlLFxuICAgICAgICBpbnN0YW5jZVByb3BzOiBpbnN0YW5jZVByb3BzLFxuICAgICAgICAvKipcbiAgICAgICAgICogQHRoaXMge0RvbVJlcGVhdH1cbiAgICAgICAgICogQHBhcmFtIHtzdHJpbmd9IHByb3AgUHJvcGVydHkgdG8gc2V0XG4gICAgICAgICAqIEBwYXJhbSB7Kn0gdmFsdWUgVmFsdWUgdG8gc2V0IHByb3BlcnR5IHRvXG4gICAgICAgICAqL1xuICAgICAgICBmb3J3YXJkSG9zdFByb3A6IGZ1bmN0aW9uKHByb3AsIHZhbHVlKSB7XG4gICAgICAgICAgbGV0IGkkID0gdGhpcy5fX2luc3RhbmNlcztcbiAgICAgICAgICBmb3IgKGxldCBpPTAsIGluc3Q7IChpPGkkLmxlbmd0aCkgJiYgKGluc3Q9aSRbaV0pOyBpKyspIHtcbiAgICAgICAgICAgIGluc3QuZm9yd2FyZEhvc3RQcm9wKHByb3AsIHZhbHVlKTtcbiAgICAgICAgICB9XG4gICAgICAgIH0sXG4gICAgICAgIC8qKlxuICAgICAgICAgKiBAdGhpcyB7RG9tUmVwZWF0fVxuICAgICAgICAgKiBAcGFyYW0ge09iamVjdH0gaW5zdCBJbnN0YW5jZSB0byBub3RpZnlcbiAgICAgICAgICogQHBhcmFtIHtzdHJpbmd9IHByb3AgUHJvcGVydHkgdG8gbm90aWZ5XG4gICAgICAgICAqIEBwYXJhbSB7Kn0gdmFsdWUgVmFsdWUgdG8gbm90aWZ5XG4gICAgICAgICAqL1xuICAgICAgICBub3RpZnlJbnN0YW5jZVByb3A6IGZ1bmN0aW9uKGluc3QsIHByb3AsIHZhbHVlKSB7XG4gICAgICAgICAgaWYgKG1hdGNoZXModGhpcy5hcywgcHJvcCkpIHtcbiAgICAgICAgICAgIGxldCBpZHggPSBpbnN0W3RoaXMuaXRlbXNJbmRleEFzXTtcbiAgICAgICAgICAgIGlmIChwcm9wID09IHRoaXMuYXMpIHtcbiAgICAgICAgICAgICAgdGhpcy5pdGVtc1tpZHhdID0gdmFsdWU7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBsZXQgcGF0aCA9IHRyYW5zbGF0ZSh0aGlzLmFzLCBgJHtKU0NvbXBpbGVyX3JlbmFtZVByb3BlcnR5KCdpdGVtcycsIHRoaXMpfS4ke2lkeH1gLCBwcm9wKTtcbiAgICAgICAgICAgIHRoaXMubm90aWZ5UGF0aChwYXRoLCB2YWx1ZSk7XG4gICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICB9KTtcbiAgICB9XG4gICAgcmV0dXJuIHRydWU7XG4gIH1cblxuICBfX2dldE1ldGhvZEhvc3QoKSB7XG4gICAgLy8gVGVjaG5pY2FsbHkgdGhpcyBzaG91bGQgYmUgdGhlIG93bmVyIG9mIHRoZSBvdXRlcm1vc3QgdGVtcGxhdGUuXG4gICAgLy8gSW4gc2hhZG93IGRvbSwgdGhpcyBpcyBhbHdheXMgZ2V0Um9vdE5vZGUoKS5ob3N0LCBidXQgd2UgY2FuXG4gICAgLy8gYXBwcm94aW1hdGUgdGhpcyB2aWEgY29vcGVyYXRpb24gd2l0aCBvdXIgZGF0YUhvc3QgYWx3YXlzIHNldHRpbmdcbiAgICAvLyBgX21ldGhvZEhvc3RgIGFzIGxvbmcgYXMgdGhlcmUgd2VyZSBiaW5kaW5ncyAob3IgaWQncykgb24gdGhpc1xuICAgIC8vIGluc3RhbmNlIGNhdXNpbmcgaXQgdG8gZ2V0IGEgZGF0YUhvc3QuXG4gICAgcmV0dXJuIHRoaXMuX19kYXRhSG9zdC5fbWV0aG9kSG9zdCB8fCB0aGlzLl9fZGF0YUhvc3Q7XG4gIH1cblxuICBfX2Z1bmN0aW9uRnJvbVByb3BlcnR5VmFsdWUoZnVuY3Rpb25Pck1ldGhvZE5hbWUpIHtcbiAgICBpZiAodHlwZW9mIGZ1bmN0aW9uT3JNZXRob2ROYW1lID09PSAnc3RyaW5nJykge1xuICAgICAgbGV0IG1ldGhvZE5hbWUgPSBmdW5jdGlvbk9yTWV0aG9kTmFtZTtcbiAgICAgIGxldCBvYmogPSB0aGlzLl9fZ2V0TWV0aG9kSG9zdCgpO1xuICAgICAgcmV0dXJuIGZ1bmN0aW9uKCkgeyByZXR1cm4gb2JqW21ldGhvZE5hbWVdLmFwcGx5KG9iaiwgYXJndW1lbnRzKTsgfTtcbiAgICB9XG5cbiAgICByZXR1cm4gZnVuY3Rpb25Pck1ldGhvZE5hbWU7XG4gIH1cblxuICBfX3NvcnRDaGFuZ2VkKHNvcnQpIHtcbiAgICB0aGlzLl9fc29ydEZuID0gdGhpcy5fX2Z1bmN0aW9uRnJvbVByb3BlcnR5VmFsdWUoc29ydCk7XG4gICAgaWYgKHRoaXMuaXRlbXMpIHsgdGhpcy5fX2RlYm91bmNlUmVuZGVyKHRoaXMuX19yZW5kZXIpOyB9XG4gIH1cblxuICBfX2ZpbHRlckNoYW5nZWQoZmlsdGVyKSB7XG4gICAgdGhpcy5fX2ZpbHRlckZuID0gdGhpcy5fX2Z1bmN0aW9uRnJvbVByb3BlcnR5VmFsdWUoZmlsdGVyKTtcbiAgICBpZiAodGhpcy5pdGVtcykgeyB0aGlzLl9fZGVib3VuY2VSZW5kZXIodGhpcy5fX3JlbmRlcik7IH1cbiAgfVxuXG4gIF9fY29tcHV0ZUZyYW1lVGltZShyYXRlKSB7XG4gICAgcmV0dXJuIE1hdGguY2VpbCgxMDAwL3JhdGUpO1xuICB9XG5cbiAgX19pbml0aWFsaXplQ2h1bmtpbmcoKSB7XG4gICAgaWYgKHRoaXMuaW5pdGlhbENvdW50KSB7XG4gICAgICB0aGlzLl9fbGltaXQgPSB0aGlzLmluaXRpYWxDb3VudDtcbiAgICAgIHRoaXMuX19jaHVua0NvdW50ID0gdGhpcy5pbml0aWFsQ291bnQ7XG4gICAgICB0aGlzLl9fbGFzdENodW5rVGltZSA9IHBlcmZvcm1hbmNlLm5vdygpO1xuICAgIH1cbiAgfVxuXG4gIF9fdHJ5UmVuZGVyQ2h1bmsoKSB7XG4gICAgLy8gRGVib3VuY2VkIHNvIHRoYXQgbXVsdGlwbGUgY2FsbHMgdGhyb3VnaCBgX3JlbmRlcmAgYmV0d2VlbiBhbmltYXRpb25cbiAgICAvLyBmcmFtZXMgb25seSBxdWV1ZSBvbmUgbmV3IHJBRiAoZS5nLiBhcnJheSBtdXRhdGlvbiAmIGNodW5rZWQgcmVuZGVyKVxuICAgIGlmICh0aGlzLml0ZW1zICYmIHRoaXMuX19saW1pdCA8IHRoaXMuaXRlbXMubGVuZ3RoKSB7XG4gICAgICB0aGlzLl9fZGVib3VuY2VSZW5kZXIodGhpcy5fX3JlcXVlc3RSZW5kZXJDaHVuayk7XG4gICAgfVxuICB9XG5cbiAgX19yZXF1ZXN0UmVuZGVyQ2h1bmsoKSB7XG4gICAgcmVxdWVzdEFuaW1hdGlvbkZyYW1lKCgpPT50aGlzLl9fcmVuZGVyQ2h1bmsoKSk7XG4gIH1cblxuICBfX3JlbmRlckNodW5rKCkge1xuICAgIC8vIFNpbXBsZSBhdXRvIGNodW5rU2l6ZSB0aHJvdHRsaW5nIGFsZ29yaXRobSBiYXNlZCBvbiBmZWVkYmFjayBsb29wOlxuICAgIC8vIG1lYXN1cmUgYWN0dWFsIHRpbWUgYmV0d2VlbiBmcmFtZXMgYW5kIHNjYWxlIGNodW5rIGNvdW50IGJ5IHJhdGlvXG4gICAgLy8gb2YgdGFyZ2V0L2FjdHVhbCBmcmFtZSB0aW1lXG4gICAgbGV0IGN1cnJDaHVua1RpbWUgPSBwZXJmb3JtYW5jZS5ub3coKTtcbiAgICBsZXQgcmF0aW8gPSB0aGlzLl90YXJnZXRGcmFtZVRpbWUgLyAoY3VyckNodW5rVGltZSAtIHRoaXMuX19sYXN0Q2h1bmtUaW1lKTtcbiAgICB0aGlzLl9fY2h1bmtDb3VudCA9IE1hdGgucm91bmQodGhpcy5fX2NodW5rQ291bnQgKiByYXRpbykgfHwgMTtcbiAgICB0aGlzLl9fbGltaXQgKz0gdGhpcy5fX2NodW5rQ291bnQ7XG4gICAgdGhpcy5fX2xhc3RDaHVua1RpbWUgPSBjdXJyQ2h1bmtUaW1lO1xuICAgIHRoaXMuX19kZWJvdW5jZVJlbmRlcih0aGlzLl9fcmVuZGVyKTtcbiAgfVxuXG4gIF9fb2JzZXJ2ZUNoYW5nZWQoKSB7XG4gICAgdGhpcy5fX29ic2VydmVQYXRocyA9IHRoaXMub2JzZXJ2ZSAmJlxuICAgICAgdGhpcy5vYnNlcnZlLnJlcGxhY2UoJy4qJywgJy4nKS5zcGxpdCgnICcpO1xuICB9XG5cbiAgX19pdGVtc0NoYW5nZWQoY2hhbmdlKSB7XG4gICAgaWYgKHRoaXMuaXRlbXMgJiYgIUFycmF5LmlzQXJyYXkodGhpcy5pdGVtcykpIHtcbiAgICAgIGNvbnNvbGUud2FybignZG9tLXJlcGVhdCBleHBlY3RlZCBhcnJheSBmb3IgYGl0ZW1zYCwgZm91bmQnLCB0aGlzLml0ZW1zKTtcbiAgICB9XG4gICAgLy8gSWYgcGF0aCB3YXMgdG8gYW4gaXRlbSAoZS5nLiAnaXRlbXMuMycgb3IgJ2l0ZW1zLjMuZm9vJyksIGZvcndhcmQgdGhlXG4gICAgLy8gcGF0aCB0byB0aGF0IGluc3RhbmNlIHN5bmNocm9ub3VzbHkgKHJldHVybnMgZmFsc2UgZm9yIG5vbi1pdGVtIHBhdGhzKVxuICAgIGlmICghdGhpcy5fX2hhbmRsZUl0ZW1QYXRoKGNoYW5nZS5wYXRoLCBjaGFuZ2UudmFsdWUpKSB7XG4gICAgICAvLyBPdGhlcndpc2UsIHRoZSBhcnJheSB3YXMgcmVzZXQgKCdpdGVtcycpIG9yIHNwbGljZWQgKCdpdGVtcy5zcGxpY2VzJyksXG4gICAgICAvLyBzbyBxdWV1ZSBhIGZ1bGwgcmVmcmVzaFxuICAgICAgdGhpcy5fX2luaXRpYWxpemVDaHVua2luZygpO1xuICAgICAgdGhpcy5fX2RlYm91bmNlUmVuZGVyKHRoaXMuX19yZW5kZXIpO1xuICAgIH1cbiAgfVxuXG4gIF9faGFuZGxlT2JzZXJ2ZWRQYXRocyhwYXRoKSB7XG4gICAgLy8gSGFuZGxlIGNhc2VzIHdoZXJlIHBhdGggY2hhbmdlcyBzaG91bGQgY2F1c2UgYSByZS1zb3J0L2ZpbHRlclxuICAgIGlmICh0aGlzLl9fc29ydEZuIHx8IHRoaXMuX19maWx0ZXJGbikge1xuICAgICAgaWYgKCFwYXRoKSB7XG4gICAgICAgIC8vIEFsd2F5cyByZS1yZW5kZXIgaWYgdGhlIGl0ZW0gaXRzZWxmIGNoYW5nZWRcbiAgICAgICAgdGhpcy5fX2RlYm91bmNlUmVuZGVyKHRoaXMuX19yZW5kZXIsIHRoaXMuZGVsYXkpO1xuICAgICAgfSBlbHNlIGlmICh0aGlzLl9fb2JzZXJ2ZVBhdGhzKSB7XG4gICAgICAgIC8vIE90aGVyd2lzZSwgcmUtcmVuZGVyIGlmIHRoZSBwYXRoIGNoYW5nZWQgbWF0Y2hlcyBhbiBvYnNlcnZlZCBwYXRoXG4gICAgICAgIGxldCBwYXRocyA9IHRoaXMuX19vYnNlcnZlUGF0aHM7XG4gICAgICAgIGZvciAobGV0IGk9MDsgaTxwYXRocy5sZW5ndGg7IGkrKykge1xuICAgICAgICAgIGlmIChwYXRoLmluZGV4T2YocGF0aHNbaV0pID09PSAwKSB7XG4gICAgICAgICAgICB0aGlzLl9fZGVib3VuY2VSZW5kZXIodGhpcy5fX3JlbmRlciwgdGhpcy5kZWxheSk7XG4gICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICB9XG4gICAgfVxuICB9XG5cbiAgLyoqXG4gICAqIEBwYXJhbSB7ZnVuY3Rpb24odGhpczpEb21SZXBlYXQpfSBmbiBGdW5jdGlvbiB0byBkZWJvdW5jZS5cbiAgICogQHBhcmFtIHtudW1iZXI9fSBkZWxheSBEZWxheSBpbiBtcyB0byBkZWJvdW5jZSBieS5cbiAgICovXG4gIF9fZGVib3VuY2VSZW5kZXIoZm4sIGRlbGF5ID0gMCkge1xuICAgIHRoaXMuX19yZW5kZXJEZWJvdW5jZXIgPSBEZWJvdW5jZXIuZGVib3VuY2UoXG4gICAgICAgICAgdGhpcy5fX3JlbmRlckRlYm91bmNlclxuICAgICAgICAsIGRlbGF5ID4gMCA/IHRpbWVPdXQuYWZ0ZXIoZGVsYXkpIDogbWljcm9UYXNrXG4gICAgICAgICwgZm4uYmluZCh0aGlzKSk7XG4gICAgZW5xdWV1ZURlYm91bmNlcih0aGlzLl9fcmVuZGVyRGVib3VuY2VyKTtcbiAgfVxuXG4gIC8qKlxuICAgKiBGb3JjZXMgdGhlIGVsZW1lbnQgdG8gcmVuZGVyIGl0cyBjb250ZW50LiBOb3JtYWxseSByZW5kZXJpbmcgaXNcbiAgICogYXN5bmNocm9ub3VzIHRvIGEgcHJvdm9raW5nIGNoYW5nZS4gVGhpcyBpcyBkb25lIGZvciBlZmZpY2llbmN5IHNvXG4gICAqIHRoYXQgbXVsdGlwbGUgY2hhbmdlcyB0cmlnZ2VyIG9ubHkgYSBzaW5nbGUgcmVuZGVyLiBUaGUgcmVuZGVyIG1ldGhvZFxuICAgKiBzaG91bGQgYmUgY2FsbGVkIGlmLCBmb3IgZXhhbXBsZSwgdGVtcGxhdGUgcmVuZGVyaW5nIGlzIHJlcXVpcmVkIHRvXG4gICAqIHZhbGlkYXRlIGFwcGxpY2F0aW9uIHN0YXRlLlxuICAgKiBAcmV0dXJuIHt2b2lkfVxuICAgKi9cbiAgcmVuZGVyKCkge1xuICAgIC8vIFF1ZXVlIHRoaXMgcmVwZWF0ZXIsIHRoZW4gZmx1c2ggYWxsIGluIG9yZGVyXG4gICAgdGhpcy5fX2RlYm91bmNlUmVuZGVyKHRoaXMuX19yZW5kZXIpO1xuICAgIGZsdXNoKCk7XG4gIH1cblxuICBfX3JlbmRlcigpIHtcbiAgICBpZiAoIXRoaXMuX19lbnN1cmVUZW1wbGF0aXplZCgpKSB7XG4gICAgICAvLyBObyB0ZW1wbGF0ZSBmb3VuZCB5ZXRcbiAgICAgIHJldHVybjtcbiAgICB9XG4gICAgdGhpcy5fX2FwcGx5RnVsbFJlZnJlc2goKTtcbiAgICAvLyBSZXNldCB0aGUgcG9vbFxuICAgIC8vIFRPRE8oa3NjaGFhZik6IFJldXNlIHBvb2wgYWNyb3NzIHR1cm5zIGFuZCBuZXN0ZWQgdGVtcGxhdGVzXG4gICAgLy8gTm93IHRoYXQgb2JqZWN0cy9hcnJheXMgYXJlIHJlLWV2YWx1YXRlZCB3aGVuIHNldCwgd2UgY2FuIHNhZmVseVxuICAgIC8vIHJldXNlIHBvb2xlZCBpbnN0YW5jZXMgYWNyb3NzIHR1cm5zLCBob3dldmVyIHdlIHN0aWxsIG5lZWQgdG8gZGVjaWRlXG4gICAgLy8gc2VtYW50aWNzIHJlZ2FyZGluZyBob3cgbG9uZyB0byBob2xkLCBob3cgbWFueSB0byBob2xkLCBldGMuXG4gICAgdGhpcy5fX3Bvb2wubGVuZ3RoID0gMDtcbiAgICAvLyBTZXQgcmVuZGVyZWQgaXRlbSBjb3VudFxuICAgIHRoaXMuX3NldFJlbmRlcmVkSXRlbUNvdW50KHRoaXMuX19pbnN0YW5jZXMubGVuZ3RoKTtcbiAgICAvLyBOb3RpZnkgdXNlcnNcbiAgICB0aGlzLmRpc3BhdGNoRXZlbnQobmV3IEN1c3RvbUV2ZW50KCdkb20tY2hhbmdlJywge1xuICAgICAgYnViYmxlczogdHJ1ZSxcbiAgICAgIGNvbXBvc2VkOiB0cnVlXG4gICAgfSkpO1xuICAgIC8vIENoZWNrIHRvIHNlZSBpZiB3ZSBuZWVkIHRvIHJlbmRlciBtb3JlIGl0ZW1zXG4gICAgdGhpcy5fX3RyeVJlbmRlckNodW5rKCk7XG4gIH1cblxuICBfX2FwcGx5RnVsbFJlZnJlc2goKSB7XG4gICAgbGV0IGl0ZW1zID0gdGhpcy5pdGVtcyB8fCBbXTtcbiAgICBsZXQgaXNudElkeFRvSXRlbXNJZHggPSBuZXcgQXJyYXkoaXRlbXMubGVuZ3RoKTtcbiAgICBmb3IgKGxldCBpPTA7IGk8aXRlbXMubGVuZ3RoOyBpKyspIHtcbiAgICAgIGlzbnRJZHhUb0l0ZW1zSWR4W2ldID0gaTtcbiAgICB9XG4gICAgLy8gQXBwbHkgdXNlciBmaWx0ZXJcbiAgICBpZiAodGhpcy5fX2ZpbHRlckZuKSB7XG4gICAgICBpc250SWR4VG9JdGVtc0lkeCA9IGlzbnRJZHhUb0l0ZW1zSWR4LmZpbHRlcigoaSwgaWR4LCBhcnJheSkgPT5cbiAgICAgICAgdGhpcy5fX2ZpbHRlckZuKGl0ZW1zW2ldLCBpZHgsIGFycmF5KSk7XG4gICAgfVxuICAgIC8vIEFwcGx5IHVzZXIgc29ydFxuICAgIGlmICh0aGlzLl9fc29ydEZuKSB7XG4gICAgICBpc250SWR4VG9JdGVtc0lkeC5zb3J0KChhLCBiKSA9PiB0aGlzLl9fc29ydEZuKGl0ZW1zW2FdLCBpdGVtc1tiXSkpO1xuICAgIH1cbiAgICAvLyBpdGVtcy0+aW5zdCBtYXAga2VwdCBmb3IgaXRlbSBwYXRoIGZvcndhcmRpbmdcbiAgICBjb25zdCBpdGVtc0lkeFRvSW5zdElkeCA9IHRoaXMuX19pdGVtc0lkeFRvSW5zdElkeCA9IHt9O1xuICAgIGxldCBpbnN0SWR4ID0gMDtcbiAgICAvLyBHZW5lcmF0ZSBpbnN0YW5jZXMgYW5kIGFzc2lnbiBpdGVtc1xuICAgIGNvbnN0IGxpbWl0ID0gTWF0aC5taW4oaXNudElkeFRvSXRlbXNJZHgubGVuZ3RoLCB0aGlzLl9fbGltaXQpO1xuICAgIGZvciAoOyBpbnN0SWR4PGxpbWl0OyBpbnN0SWR4KyspIHtcbiAgICAgIGxldCBpbnN0ID0gdGhpcy5fX2luc3RhbmNlc1tpbnN0SWR4XTtcbiAgICAgIGxldCBpdGVtSWR4ID0gaXNudElkeFRvSXRlbXNJZHhbaW5zdElkeF07XG4gICAgICBsZXQgaXRlbSA9IGl0ZW1zW2l0ZW1JZHhdO1xuICAgICAgaXRlbXNJZHhUb0luc3RJZHhbaXRlbUlkeF0gPSBpbnN0SWR4O1xuICAgICAgaWYgKGluc3QpIHtcbiAgICAgICAgaW5zdC5fc2V0UGVuZGluZ1Byb3BlcnR5KHRoaXMuYXMsIGl0ZW0pO1xuICAgICAgICBpbnN0Ll9zZXRQZW5kaW5nUHJvcGVydHkodGhpcy5pbmRleEFzLCBpbnN0SWR4KTtcbiAgICAgICAgaW5zdC5fc2V0UGVuZGluZ1Byb3BlcnR5KHRoaXMuaXRlbXNJbmRleEFzLCBpdGVtSWR4KTtcbiAgICAgICAgaW5zdC5fZmx1c2hQcm9wZXJ0aWVzKCk7XG4gICAgICB9IGVsc2Uge1xuICAgICAgICB0aGlzLl9faW5zZXJ0SW5zdGFuY2UoaXRlbSwgaW5zdElkeCwgaXRlbUlkeCk7XG4gICAgICB9XG4gICAgfVxuICAgIC8vIFJlbW92ZSBhbnkgZXh0cmEgaW5zdGFuY2VzIGZyb20gcHJldmlvdXMgc3RhdGVcbiAgICBmb3IgKGxldCBpPXRoaXMuX19pbnN0YW5jZXMubGVuZ3RoLTE7IGk+PWluc3RJZHg7IGktLSkge1xuICAgICAgdGhpcy5fX2RldGFjaEFuZFJlbW92ZUluc3RhbmNlKGkpO1xuICAgIH1cbiAgfVxuXG4gIF9fZGV0YWNoSW5zdGFuY2UoaWR4KSB7XG4gICAgbGV0IGluc3QgPSB0aGlzLl9faW5zdGFuY2VzW2lkeF07XG4gICAgY29uc3Qgd3JhcHBlZFJvb3QgPSB3cmFwKGluc3Qucm9vdCk7XG4gICAgZm9yIChsZXQgaT0wOyBpPGluc3QuY2hpbGRyZW4ubGVuZ3RoOyBpKyspIHtcbiAgICAgIGxldCBlbCA9IGluc3QuY2hpbGRyZW5baV07XG4gICAgICB3cmFwcGVkUm9vdC5hcHBlbmRDaGlsZChlbCk7XG4gICAgfVxuICAgIHJldHVybiBpbnN0O1xuICB9XG5cbiAgX19hdHRhY2hJbnN0YW5jZShpZHgsIHBhcmVudCkge1xuICAgIGxldCBpbnN0ID0gdGhpcy5fX2luc3RhbmNlc1tpZHhdO1xuICAgIC8vIE5vdGUsIHRoaXMgaXMgcHJlLXdyYXBwZWQgYXMgYW4gb3B0aW1pemF0aW9uXG4gICAgcGFyZW50Lmluc2VydEJlZm9yZShpbnN0LnJvb3QsIHRoaXMpO1xuICB9XG5cbiAgX19kZXRhY2hBbmRSZW1vdmVJbnN0YW5jZShpZHgpIHtcbiAgICBsZXQgaW5zdCA9IHRoaXMuX19kZXRhY2hJbnN0YW5jZShpZHgpO1xuICAgIGlmIChpbnN0KSB7XG4gICAgICB0aGlzLl9fcG9vbC5wdXNoKGluc3QpO1xuICAgIH1cbiAgICB0aGlzLl9faW5zdGFuY2VzLnNwbGljZShpZHgsIDEpO1xuICB9XG5cbiAgX19zdGFtcEluc3RhbmNlKGl0ZW0sIGluc3RJZHgsIGl0ZW1JZHgpIHtcbiAgICBsZXQgbW9kZWwgPSB7fTtcbiAgICBtb2RlbFt0aGlzLmFzXSA9IGl0ZW07XG4gICAgbW9kZWxbdGhpcy5pbmRleEFzXSA9IGluc3RJZHg7XG4gICAgbW9kZWxbdGhpcy5pdGVtc0luZGV4QXNdID0gaXRlbUlkeDtcbiAgICByZXR1cm4gbmV3IHRoaXMuX19jdG9yKG1vZGVsKTtcbiAgfVxuXG4gIF9faW5zZXJ0SW5zdGFuY2UoaXRlbSwgaW5zdElkeCwgaXRlbUlkeCkge1xuICAgIGxldCBpbnN0ID0gdGhpcy5fX3Bvb2wucG9wKCk7XG4gICAgaWYgKGluc3QpIHtcbiAgICAgIC8vIFRPRE8oa3NjaGFhZik6IElmIHRoZSBwb29sIGlzIHNoYXJlZCBhY3Jvc3MgdHVybnMsIGhvc3RQcm9wc1xuICAgICAgLy8gbmVlZCB0byBiZSByZS1zZXQgdG8gcmV1c2VkIGluc3RhbmNlcyBpbiBhZGRpdGlvbiB0byBpdGVtXG4gICAgICBpbnN0Ll9zZXRQZW5kaW5nUHJvcGVydHkodGhpcy5hcywgaXRlbSk7XG4gICAgICBpbnN0Ll9zZXRQZW5kaW5nUHJvcGVydHkodGhpcy5pbmRleEFzLCBpbnN0SWR4KTtcbiAgICAgIGluc3QuX3NldFBlbmRpbmdQcm9wZXJ0eSh0aGlzLml0ZW1zSW5kZXhBcywgaXRlbUlkeCk7XG4gICAgICBpbnN0Ll9mbHVzaFByb3BlcnRpZXMoKTtcbiAgICB9IGVsc2Uge1xuICAgICAgaW5zdCA9IHRoaXMuX19zdGFtcEluc3RhbmNlKGl0ZW0sIGluc3RJZHgsIGl0ZW1JZHgpO1xuICAgIH1cbiAgICBsZXQgYmVmb3JlUm93ID0gdGhpcy5fX2luc3RhbmNlc1tpbnN0SWR4ICsgMV07XG4gICAgbGV0IGJlZm9yZU5vZGUgPSBiZWZvcmVSb3cgPyBiZWZvcmVSb3cuY2hpbGRyZW5bMF0gOiB0aGlzO1xuICAgIHdyYXAod3JhcCh0aGlzKS5wYXJlbnROb2RlKS5pbnNlcnRCZWZvcmUoaW5zdC5yb290LCBiZWZvcmVOb2RlKTtcbiAgICB0aGlzLl9faW5zdGFuY2VzW2luc3RJZHhdID0gaW5zdDtcbiAgICByZXR1cm4gaW5zdDtcbiAgfVxuXG4gIC8vIEltcGxlbWVudHMgZXh0ZW5zaW9uIHBvaW50IGZyb20gVGVtcGxhdGl6ZSBtaXhpblxuICAvKipcbiAgICogU2hvd3Mgb3IgaGlkZXMgdGhlIHRlbXBsYXRlIGluc3RhbmNlIHRvcCBsZXZlbCBjaGlsZCBlbGVtZW50cy4gRm9yXG4gICAqIHRleHQgbm9kZXMsIGB0ZXh0Q29udGVudGAgaXMgcmVtb3ZlZCB3aGlsZSBcImhpZGRlblwiIGFuZCByZXBsYWNlZCB3aGVuXG4gICAqIFwic2hvd24uXCJcbiAgICogQHBhcmFtIHtib29sZWFufSBoaWRkZW4gU2V0IHRvIHRydWUgdG8gaGlkZSB0aGUgY2hpbGRyZW47XG4gICAqIHNldCB0byBmYWxzZSB0byBzaG93IHRoZW0uXG4gICAqIEByZXR1cm4ge3ZvaWR9XG4gICAqIEBwcm90ZWN0ZWRcbiAgICovXG4gIF9zaG93SGlkZUNoaWxkcmVuKGhpZGRlbikge1xuICAgIGZvciAobGV0IGk9MDsgaTx0aGlzLl9faW5zdGFuY2VzLmxlbmd0aDsgaSsrKSB7XG4gICAgICB0aGlzLl9faW5zdGFuY2VzW2ldLl9zaG93SGlkZUNoaWxkcmVuKGhpZGRlbik7XG4gICAgfVxuICB9XG5cbiAgLy8gQ2FsbGVkIGFzIGEgc2lkZSBlZmZlY3Qgb2YgYSBob3N0IGl0ZW1zLjxrZXk+LjxwYXRoPiBwYXRoIGNoYW5nZSxcbiAgLy8gcmVzcG9uc2libGUgZm9yIG5vdGlmeWluZyBpdGVtLjxwYXRoPiBjaGFuZ2VzIHRvIGluc3QgZm9yIGtleVxuICBfX2hhbmRsZUl0ZW1QYXRoKHBhdGgsIHZhbHVlKSB7XG4gICAgbGV0IGl0ZW1zUGF0aCA9IHBhdGguc2xpY2UoNik7IC8vICdpdGVtcy4nLmxlbmd0aCA9PSA2XG4gICAgbGV0IGRvdCA9IGl0ZW1zUGF0aC5pbmRleE9mKCcuJyk7XG4gICAgbGV0IGl0ZW1zSWR4ID0gZG90IDwgMCA/IGl0ZW1zUGF0aCA6IGl0ZW1zUGF0aC5zdWJzdHJpbmcoMCwgZG90KTtcbiAgICAvLyBJZiBwYXRoIHdhcyBpbmRleCBpbnRvIGFycmF5Li4uXG4gICAgaWYgKGl0ZW1zSWR4ID09IHBhcnNlSW50KGl0ZW1zSWR4LCAxMCkpIHtcbiAgICAgIGxldCBpdGVtU3ViUGF0aCA9IGRvdCA8IDAgPyAnJyA6IGl0ZW1zUGF0aC5zdWJzdHJpbmcoZG90KzEpO1xuICAgICAgLy8gSWYgdGhlIHBhdGggaXMgb2JzZXJ2ZWQsIGl0IHdpbGwgdHJpZ2dlciBhIGZ1bGwgcmVmcmVzaFxuICAgICAgdGhpcy5fX2hhbmRsZU9ic2VydmVkUGF0aHMoaXRlbVN1YlBhdGgpO1xuICAgICAgLy8gTm90ZSwgZXZlbiBpZiBhIHJ1bGwgcmVmcmVzaCBpcyB0cmlnZ2VyZWQsIGFsd2F5cyBkbyB0aGUgcGF0aFxuICAgICAgLy8gbm90aWZpY2F0aW9uIGJlY2F1c2UgdW5sZXNzIG11dGFibGVEYXRhIGlzIHVzZWQgZm9yIGRvbS1yZXBlYXRcbiAgICAgIC8vIGFuZCBhbGwgZWxlbWVudHMgaW4gdGhlIGluc3RhbmNlIHN1YnRyZWUsIGEgZnVsbCByZWZyZXNoIG1heVxuICAgICAgLy8gbm90IHRyaWdnZXIgdGhlIHByb3BlciB1cGRhdGUuXG4gICAgICBsZXQgaW5zdElkeCA9IHRoaXMuX19pdGVtc0lkeFRvSW5zdElkeFtpdGVtc0lkeF07XG4gICAgICBsZXQgaW5zdCA9IHRoaXMuX19pbnN0YW5jZXNbaW5zdElkeF07XG4gICAgICBpZiAoaW5zdCkge1xuICAgICAgICBsZXQgaXRlbVBhdGggPSB0aGlzLmFzICsgKGl0ZW1TdWJQYXRoID8gJy4nICsgaXRlbVN1YlBhdGggOiAnJyk7XG4gICAgICAgIC8vIFRoaXMgaXMgZWZmZWN0aXZlbHkgYG5vdGlmeVBhdGhgLCBidXQgYXZvaWRzIHNvbWUgb2YgdGhlIG92ZXJoZWFkXG4gICAgICAgIC8vIG9mIHRoZSBwdWJsaWMgQVBJXG4gICAgICAgIGluc3QuX3NldFBlbmRpbmdQcm9wZXJ0eU9yUGF0aChpdGVtUGF0aCwgdmFsdWUsIGZhbHNlLCB0cnVlKTtcbiAgICAgICAgaW5zdC5fZmx1c2hQcm9wZXJ0aWVzKCk7XG4gICAgICB9XG4gICAgICByZXR1cm4gdHJ1ZTtcbiAgICB9XG4gIH1cblxuICAvKipcbiAgICogUmV0dXJucyB0aGUgaXRlbSBhc3NvY2lhdGVkIHdpdGggYSBnaXZlbiBlbGVtZW50IHN0YW1wZWQgYnlcbiAgICogdGhpcyBgZG9tLXJlcGVhdGAuXG4gICAqXG4gICAqIE5vdGUsIHRvIG1vZGlmeSBzdWItcHJvcGVydGllcyBvZiB0aGUgaXRlbSxcbiAgICogYG1vZGVsRm9yRWxlbWVudChlbCkuc2V0KCdpdGVtLjxzdWItcHJvcD4nLCB2YWx1ZSlgXG4gICAqIHNob3VsZCBiZSB1c2VkLlxuICAgKlxuICAgKiBAcGFyYW0geyFIVE1MRWxlbWVudH0gZWwgRWxlbWVudCBmb3Igd2hpY2ggdG8gcmV0dXJuIHRoZSBpdGVtLlxuICAgKiBAcmV0dXJuIHsqfSBJdGVtIGFzc29jaWF0ZWQgd2l0aCB0aGUgZWxlbWVudC5cbiAgICovXG4gIGl0ZW1Gb3JFbGVtZW50KGVsKSB7XG4gICAgbGV0IGluc3RhbmNlID0gdGhpcy5tb2RlbEZvckVsZW1lbnQoZWwpO1xuICAgIHJldHVybiBpbnN0YW5jZSAmJiBpbnN0YW5jZVt0aGlzLmFzXTtcbiAgfVxuXG4gIC8qKlxuICAgKiBSZXR1cm5zIHRoZSBpbnN0IGluZGV4IGZvciBhIGdpdmVuIGVsZW1lbnQgc3RhbXBlZCBieSB0aGlzIGBkb20tcmVwZWF0YC5cbiAgICogSWYgYHNvcnRgIGlzIHByb3ZpZGVkLCB0aGUgaW5kZXggd2lsbCByZWZsZWN0IHRoZSBzb3J0ZWQgb3JkZXIgKHJhdGhlclxuICAgKiB0aGFuIHRoZSBvcmlnaW5hbCBhcnJheSBvcmRlcikuXG4gICAqXG4gICAqIEBwYXJhbSB7IUhUTUxFbGVtZW50fSBlbCBFbGVtZW50IGZvciB3aGljaCB0byByZXR1cm4gdGhlIGluZGV4LlxuICAgKiBAcmV0dXJuIHs/bnVtYmVyfSBSb3cgaW5kZXggYXNzb2NpYXRlZCB3aXRoIHRoZSBlbGVtZW50IChub3RlIHRoaXMgbWF5XG4gICAqICAgbm90IGNvcnJlc3BvbmQgdG8gdGhlIGFycmF5IGluZGV4IGlmIGEgdXNlciBgc29ydGAgaXMgYXBwbGllZCkuXG4gICAqL1xuICBpbmRleEZvckVsZW1lbnQoZWwpIHtcbiAgICBsZXQgaW5zdGFuY2UgPSB0aGlzLm1vZGVsRm9yRWxlbWVudChlbCk7XG4gICAgcmV0dXJuIGluc3RhbmNlICYmIGluc3RhbmNlW3RoaXMuaW5kZXhBc107XG4gIH1cblxuICAvKipcbiAgICogUmV0dXJucyB0aGUgdGVtcGxhdGUgXCJtb2RlbFwiIGFzc29jaWF0ZWQgd2l0aCBhIGdpdmVuIGVsZW1lbnQsIHdoaWNoXG4gICAqIHNlcnZlcyBhcyB0aGUgYmluZGluZyBzY29wZSBmb3IgdGhlIHRlbXBsYXRlIGluc3RhbmNlIHRoZSBlbGVtZW50IGlzXG4gICAqIGNvbnRhaW5lZCBpbi4gQSB0ZW1wbGF0ZSBtb2RlbFxuICAgKiBzaG91bGQgYmUgdXNlZCB0byBtYW5pcHVsYXRlIGRhdGEgYXNzb2NpYXRlZCB3aXRoIHRoaXMgdGVtcGxhdGUgaW5zdGFuY2UuXG4gICAqXG4gICAqIEV4YW1wbGU6XG4gICAqXG4gICAqICAgbGV0IG1vZGVsID0gbW9kZWxGb3JFbGVtZW50KGVsKTtcbiAgICogICBpZiAobW9kZWwuaW5kZXggPCAxMCkge1xuICAgKiAgICAgbW9kZWwuc2V0KCdpdGVtLmNoZWNrZWQnLCB0cnVlKTtcbiAgICogICB9XG4gICAqXG4gICAqIEBwYXJhbSB7IUhUTUxFbGVtZW50fSBlbCBFbGVtZW50IGZvciB3aGljaCB0byByZXR1cm4gYSB0ZW1wbGF0ZSBtb2RlbC5cbiAgICogQHJldHVybiB7VGVtcGxhdGVJbnN0YW5jZUJhc2V9IE1vZGVsIHJlcHJlc2VudGluZyB0aGUgYmluZGluZyBzY29wZSBmb3JcbiAgICogICB0aGUgZWxlbWVudC5cbiAgICovXG4gIG1vZGVsRm9yRWxlbWVudChlbCkge1xuICAgIHJldHVybiBtb2RlbEZvckVsZW1lbnQodGhpcy50ZW1wbGF0ZSwgZWwpO1xuICB9XG5cbn1cblxuY3VzdG9tRWxlbWVudHMuZGVmaW5lKERvbVJlcGVhdC5pcywgRG9tUmVwZWF0KTtcbiIsIi8qKlxuQGxpY2Vuc2VcbkNvcHlyaWdodCAoYykgMjAxNyBUaGUgUG9seW1lciBQcm9qZWN0IEF1dGhvcnMuIEFsbCByaWdodHMgcmVzZXJ2ZWQuXG5UaGlzIGNvZGUgbWF5IG9ubHkgYmUgdXNlZCB1bmRlciB0aGUgQlNEIHN0eWxlIGxpY2Vuc2UgZm91bmQgYXQgaHR0cDovL3BvbHltZXIuZ2l0aHViLmlvL0xJQ0VOU0UudHh0XG5UaGUgY29tcGxldGUgc2V0IG9mIGF1dGhvcnMgbWF5IGJlIGZvdW5kIGF0IGh0dHA6Ly9wb2x5bWVyLmdpdGh1Yi5pby9BVVRIT1JTLnR4dFxuVGhlIGNvbXBsZXRlIHNldCBvZiBjb250cmlidXRvcnMgbWF5IGJlIGZvdW5kIGF0IGh0dHA6Ly9wb2x5bWVyLmdpdGh1Yi5pby9DT05UUklCVVRPUlMudHh0XG5Db2RlIGRpc3RyaWJ1dGVkIGJ5IEdvb2dsZSBhcyBwYXJ0IG9mIHRoZSBwb2x5bWVyIHByb2plY3QgaXMgYWxzb1xuc3ViamVjdCB0byBhbiBhZGRpdGlvbmFsIElQIHJpZ2h0cyBncmFudCBmb3VuZCBhdCBodHRwOi8vcG9seW1lci5naXRodWIuaW8vUEFURU5UUy50eHRcbiovXG5pbXBvcnQgeyBQb2x5bWVyRWxlbWVudCB9IGZyb20gJy4uLy4uL3BvbHltZXItZWxlbWVudC5qcyc7XG5cbmltcG9ydCB7IHRlbXBsYXRpemUgfSBmcm9tICcuLi91dGlscy90ZW1wbGF0aXplLmpzJztcbmltcG9ydCB7IERlYm91bmNlciB9IGZyb20gJy4uL3V0aWxzL2RlYm91bmNlLmpzJztcbmltcG9ydCB7IGVucXVldWVEZWJvdW5jZXIsIGZsdXNoIH0gZnJvbSAnLi4vdXRpbHMvZmx1c2guanMnO1xuaW1wb3J0IHsgbWljcm9UYXNrIH0gZnJvbSAnLi4vdXRpbHMvYXN5bmMuanMnO1xuaW1wb3J0IHsgcm9vdCB9IGZyb20gJy4uL3V0aWxzL3BhdGguanMnO1xuaW1wb3J0IHsgd3JhcCB9IGZyb20gJy4uL3V0aWxzL3dyYXAuanMnO1xuXG4vKipcbiAqIFRoZSBgPGRvbS1pZj5gIGVsZW1lbnQgd2lsbCBzdGFtcCBhIGxpZ2h0LWRvbSBgPHRlbXBsYXRlPmAgY2hpbGQgd2hlblxuICogdGhlIGBpZmAgcHJvcGVydHkgYmVjb21lcyB0cnV0aHksIGFuZCB0aGUgdGVtcGxhdGUgY2FuIHVzZSBQb2x5bWVyXG4gKiBkYXRhLWJpbmRpbmcgYW5kIGRlY2xhcmF0aXZlIGV2ZW50IGZlYXR1cmVzIHdoZW4gdXNlZCBpbiB0aGUgY29udGV4dCBvZlxuICogYSBQb2x5bWVyIGVsZW1lbnQncyB0ZW1wbGF0ZS5cbiAqXG4gKiBXaGVuIGBpZmAgYmVjb21lcyBmYWxzeSwgdGhlIHN0YW1wZWQgY29udGVudCBpcyBoaWRkZW4gYnV0IG5vdFxuICogcmVtb3ZlZCBmcm9tIGRvbS4gV2hlbiBgaWZgIHN1YnNlcXVlbnRseSBiZWNvbWVzIHRydXRoeSBhZ2FpbiwgdGhlIGNvbnRlbnRcbiAqIGlzIHNpbXBseSByZS1zaG93bi4gVGhpcyBhcHByb2FjaCBpcyB1c2VkIGR1ZSB0byBpdHMgZmF2b3JhYmxlIHBlcmZvcm1hbmNlXG4gKiBjaGFyYWN0ZXJpc3RpY3M6IHRoZSBleHBlbnNlIG9mIGNyZWF0aW5nIHRlbXBsYXRlIGNvbnRlbnQgaXMgcGFpZCBvbmx5XG4gKiBvbmNlIGFuZCBsYXppbHkuXG4gKlxuICogU2V0IHRoZSBgcmVzdGFtcGAgcHJvcGVydHkgdG8gdHJ1ZSB0byBmb3JjZSB0aGUgc3RhbXBlZCBjb250ZW50IHRvIGJlXG4gKiBjcmVhdGVkIC8gZGVzdHJveWVkIHdoZW4gdGhlIGBpZmAgY29uZGl0aW9uIGNoYW5nZXMuXG4gKlxuICogQGN1c3RvbUVsZW1lbnRcbiAqIEBwb2x5bWVyXG4gKiBAZXh0ZW5kcyBQb2x5bWVyRWxlbWVudFxuICogQHN1bW1hcnkgQ3VzdG9tIGVsZW1lbnQgdGhhdCBjb25kaXRpb25hbGx5IHN0YW1wcyBhbmQgaGlkZXMgb3IgcmVtb3Zlc1xuICogICB0ZW1wbGF0ZSBjb250ZW50IGJhc2VkIG9uIGEgYm9vbGVhbiBmbGFnLlxuICovXG5leHBvcnQgY2xhc3MgRG9tSWYgZXh0ZW5kcyBQb2x5bWVyRWxlbWVudCB7XG5cbiAgLy8gTm90IG5lZWRlZCB0byBmaW5kIHRlbXBsYXRlOyBjYW4gYmUgcmVtb3ZlZCBvbmNlIHRoZSBhbmFseXplclxuICAvLyBjYW4gZmluZCB0aGUgdGFnIG5hbWUgZnJvbSBjdXN0b21FbGVtZW50cy5kZWZpbmUgY2FsbFxuICBzdGF0aWMgZ2V0IGlzKCkgeyByZXR1cm4gJ2RvbS1pZic7IH1cblxuICBzdGF0aWMgZ2V0IHRlbXBsYXRlKCkgeyByZXR1cm4gbnVsbDsgfVxuXG4gIHN0YXRpYyBnZXQgcHJvcGVydGllcygpIHtcblxuICAgIHJldHVybiB7XG5cbiAgICAgIC8qKlxuICAgICAgICogRmlyZWQgd2hlbmV2ZXIgRE9NIGlzIGFkZGVkIG9yIHJlbW92ZWQvaGlkZGVuIGJ5IHRoaXMgdGVtcGxhdGUgKGJ5XG4gICAgICAgKiBkZWZhdWx0LCByZW5kZXJpbmcgb2NjdXJzIGxhemlseSkuICBUbyBmb3JjZSBpbW1lZGlhdGUgcmVuZGVyaW5nLCBjYWxsXG4gICAgICAgKiBgcmVuZGVyYC5cbiAgICAgICAqXG4gICAgICAgKiBAZXZlbnQgZG9tLWNoYW5nZVxuICAgICAgICovXG5cbiAgICAgIC8qKlxuICAgICAgICogQSBib29sZWFuIGluZGljYXRpbmcgd2hldGhlciB0aGlzIHRlbXBsYXRlIHNob3VsZCBzdGFtcC5cbiAgICAgICAqL1xuICAgICAgaWY6IHtcbiAgICAgICAgdHlwZTogQm9vbGVhbixcbiAgICAgICAgb2JzZXJ2ZXI6ICdfX2RlYm91bmNlUmVuZGVyJ1xuICAgICAgfSxcblxuICAgICAgLyoqXG4gICAgICAgKiBXaGVuIHRydWUsIGVsZW1lbnRzIHdpbGwgYmUgcmVtb3ZlZCBmcm9tIERPTSBhbmQgZGlzY2FyZGVkIHdoZW4gYGlmYFxuICAgICAgICogYmVjb21lcyBmYWxzZSBhbmQgcmUtY3JlYXRlZCBhbmQgYWRkZWQgYmFjayB0byB0aGUgRE9NIHdoZW4gYGlmYFxuICAgICAgICogYmVjb21lcyB0cnVlLiAgQnkgZGVmYXVsdCwgc3RhbXBlZCBlbGVtZW50cyB3aWxsIGJlIGhpZGRlbiBidXQgbGVmdFxuICAgICAgICogaW4gdGhlIERPTSB3aGVuIGBpZmAgYmVjb21lcyBmYWxzZSwgd2hpY2ggaXMgZ2VuZXJhbGx5IHJlc3VsdHNcbiAgICAgICAqIGluIGJldHRlciBwZXJmb3JtYW5jZS5cbiAgICAgICAqL1xuICAgICAgcmVzdGFtcDoge1xuICAgICAgICB0eXBlOiBCb29sZWFuLFxuICAgICAgICBvYnNlcnZlcjogJ19fZGVib3VuY2VSZW5kZXInXG4gICAgICB9XG5cbiAgICB9O1xuXG4gIH1cblxuICBjb25zdHJ1Y3RvcigpIHtcbiAgICBzdXBlcigpO1xuICAgIHRoaXMuX19yZW5kZXJEZWJvdW5jZXIgPSBudWxsO1xuICAgIHRoaXMuX19pbnZhbGlkUHJvcHMgPSBudWxsO1xuICAgIHRoaXMuX19pbnN0YW5jZSA9IG51bGw7XG4gICAgdGhpcy5fbGFzdElmID0gZmFsc2U7XG4gICAgdGhpcy5fX2N0b3IgPSBudWxsO1xuICAgIHRoaXMuX19oaWRlVGVtcGxhdGVDaGlsZHJlbl9fID0gZmFsc2U7XG4gIH1cblxuICBfX2RlYm91bmNlUmVuZGVyKCkge1xuICAgIC8vIFJlbmRlciBpcyBhc3luYyBmb3IgMiByZWFzb25zOlxuICAgIC8vIDEuIFRvIGVsaW1pbmF0ZSBkb20gY3JlYXRpb24gdHJhc2hpbmcgaWYgdXNlciBjb2RlIHRocmFzaGVzIGBpZmAgaW4gdGhlXG4gICAgLy8gICAgc2FtZSB0dXJuLiBUaGlzIHdhcyBtb3JlIGNvbW1vbiBpbiAxLnggd2hlcmUgYSBjb21wb3VuZCBjb21wdXRlZFxuICAgIC8vICAgIHByb3BlcnR5IGNvdWxkIHJlc3VsdCBpbiB0aGUgcmVzdWx0IGNoYW5naW5nIG11bHRpcGxlIHRpbWVzLCBidXQgaXNcbiAgICAvLyAgICBtaXRpZ2F0ZWQgdG8gYSBsYXJnZSBleHRlbnQgYnkgYmF0Y2hlZCBwcm9wZXJ0eSBwcm9jZXNzaW5nIGluIDIueC5cbiAgICAvLyAyLiBUbyBhdm9pZCBkb3VibGUgb2JqZWN0IHByb3BhZ2F0aW9uIHdoZW4gYSBiYWcgaW5jbHVkaW5nIHZhbHVlcyBib3VuZFxuICAgIC8vICAgIHRvIHRoZSBgaWZgIHByb3BlcnR5IGFzIHdlbGwgYXMgb25lIG9yIG1vcmUgaG9zdFByb3BzIGNvdWxkIGVucXVldWVcbiAgICAvLyAgICB0aGUgPGRvbS1pZj4gdG8gZmx1c2ggYmVmb3JlIHRoZSA8dGVtcGxhdGU+J3MgaG9zdCBwcm9wZXJ0eVxuICAgIC8vICAgIGZvcndhcmRpbmcuIEluIHRoYXQgc2NlbmFyaW8gY3JlYXRpbmcgYW4gaW5zdGFuY2Ugd291bGQgcmVzdWx0IGluXG4gICAgLy8gICAgdGhlIGhvc3QgcHJvcHMgYmVpbmcgc2V0IG9uY2UsIGFuZCB0aGVuIHRoZSBlbnF1ZXVlZCBjaGFuZ2VzIG9uIHRoZVxuICAgIC8vICAgIHRlbXBsYXRlIHdvdWxkIHNldCBwcm9wZXJ0aWVzIGEgc2Vjb25kIHRpbWUsIHBvdGVudGlhbGx5IGNhdXNpbmcgYW5cbiAgICAvLyAgICBvYmplY3QgdG8gYmUgc2V0IHRvIGFuIGluc3RhbmNlIG1vcmUgdGhhbiBvbmNlLiAgQ3JlYXRpbmcgdGhlXG4gICAgLy8gICAgaW5zdGFuY2UgYXN5bmMgZnJvbSBmbHVzaGluZyBkYXRhIGVuc3VyZXMgdGhpcyBkb2Vzbid0IGhhcHBlbi4gSWZcbiAgICAvLyAgICB3ZSB3YW50ZWQgYSBzeW5jIG9wdGlvbiBpbiB0aGUgZnV0dXJlLCBzaW1wbHkgaGF2aW5nIDxkb20taWY+IGZsdXNoXG4gICAgLy8gICAgKG9yIGNsZWFyKSBpdHMgdGVtcGxhdGUncyBwZW5kaW5nIGhvc3QgcHJvcGVydGllcyBiZWZvcmUgY3JlYXRpbmdcbiAgICAvLyAgICB0aGUgaW5zdGFuY2Ugd291bGQgYWxzbyBhdm9pZCB0aGUgcHJvYmxlbS5cbiAgICB0aGlzLl9fcmVuZGVyRGVib3VuY2VyID0gRGVib3VuY2VyLmRlYm91bmNlKFxuICAgICAgICAgIHRoaXMuX19yZW5kZXJEZWJvdW5jZXJcbiAgICAgICAgLCBtaWNyb1Rhc2tcbiAgICAgICAgLCAoKSA9PiB0aGlzLl9fcmVuZGVyKCkpO1xuICAgIGVucXVldWVEZWJvdW5jZXIodGhpcy5fX3JlbmRlckRlYm91bmNlcik7XG4gIH1cblxuICAvKipcbiAgICogQG92ZXJyaWRlXG4gICAqIEByZXR1cm4ge3ZvaWR9XG4gICAqL1xuICBkaXNjb25uZWN0ZWRDYWxsYmFjaygpIHtcbiAgICBzdXBlci5kaXNjb25uZWN0ZWRDYWxsYmFjaygpO1xuICAgIGNvbnN0IHBhcmVudCA9IHdyYXAodGhpcykucGFyZW50Tm9kZTtcbiAgICBpZiAoIXBhcmVudCB8fCAocGFyZW50Lm5vZGVUeXBlID09IE5vZGUuRE9DVU1FTlRfRlJBR01FTlRfTk9ERSAmJlxuICAgICAgICAhd3JhcChwYXJlbnQpLmhvc3QpKSB7XG4gICAgICB0aGlzLl9fdGVhcmRvd25JbnN0YW5jZSgpO1xuICAgIH1cbiAgfVxuXG4gIC8qKlxuICAgKiBAb3ZlcnJpZGVcbiAgICogQHJldHVybiB7dm9pZH1cbiAgICovXG4gIGNvbm5lY3RlZENhbGxiYWNrKCkge1xuICAgIHN1cGVyLmNvbm5lY3RlZENhbGxiYWNrKCk7XG4gICAgdGhpcy5zdHlsZS5kaXNwbGF5ID0gJ25vbmUnO1xuICAgIGlmICh0aGlzLmlmKSB7XG4gICAgICB0aGlzLl9fZGVib3VuY2VSZW5kZXIoKTtcbiAgICB9XG4gIH1cblxuICAvKipcbiAgICogRm9yY2VzIHRoZSBlbGVtZW50IHRvIHJlbmRlciBpdHMgY29udGVudC4gTm9ybWFsbHkgcmVuZGVyaW5nIGlzXG4gICAqIGFzeW5jaHJvbm91cyB0byBhIHByb3Zva2luZyBjaGFuZ2UuIFRoaXMgaXMgZG9uZSBmb3IgZWZmaWNpZW5jeSBzb1xuICAgKiB0aGF0IG11bHRpcGxlIGNoYW5nZXMgdHJpZ2dlciBvbmx5IGEgc2luZ2xlIHJlbmRlci4gVGhlIHJlbmRlciBtZXRob2RcbiAgICogc2hvdWxkIGJlIGNhbGxlZCBpZiwgZm9yIGV4YW1wbGUsIHRlbXBsYXRlIHJlbmRlcmluZyBpcyByZXF1aXJlZCB0b1xuICAgKiB2YWxpZGF0ZSBhcHBsaWNhdGlvbiBzdGF0ZS5cbiAgICogQHJldHVybiB7dm9pZH1cbiAgICovXG4gIHJlbmRlcigpIHtcbiAgICBmbHVzaCgpO1xuICB9XG5cbiAgX19yZW5kZXIoKSB7XG4gICAgaWYgKHRoaXMuaWYpIHtcbiAgICAgIGlmICghdGhpcy5fX2Vuc3VyZUluc3RhbmNlKCkpIHtcbiAgICAgICAgLy8gTm8gdGVtcGxhdGUgZm91bmQgeWV0XG4gICAgICAgIHJldHVybjtcbiAgICAgIH1cbiAgICAgIHRoaXMuX3Nob3dIaWRlQ2hpbGRyZW4oKTtcbiAgICB9IGVsc2UgaWYgKHRoaXMucmVzdGFtcCkge1xuICAgICAgdGhpcy5fX3RlYXJkb3duSW5zdGFuY2UoKTtcbiAgICB9XG4gICAgaWYgKCF0aGlzLnJlc3RhbXAgJiYgdGhpcy5fX2luc3RhbmNlKSB7XG4gICAgICB0aGlzLl9zaG93SGlkZUNoaWxkcmVuKCk7XG4gICAgfVxuICAgIGlmICh0aGlzLmlmICE9IHRoaXMuX2xhc3RJZikge1xuICAgICAgdGhpcy5kaXNwYXRjaEV2ZW50KG5ldyBDdXN0b21FdmVudCgnZG9tLWNoYW5nZScsIHtcbiAgICAgICAgYnViYmxlczogdHJ1ZSxcbiAgICAgICAgY29tcG9zZWQ6IHRydWVcbiAgICAgIH0pKTtcbiAgICAgIHRoaXMuX2xhc3RJZiA9IHRoaXMuaWY7XG4gICAgfVxuICB9XG5cbiAgX19lbnN1cmVJbnN0YW5jZSgpIHtcbiAgICBsZXQgcGFyZW50Tm9kZSA9IHdyYXAodGhpcykucGFyZW50Tm9kZTtcbiAgICAvLyBHdWFyZCBhZ2FpbnN0IGVsZW1lbnQgYmVpbmcgZGV0YWNoZWQgd2hpbGUgcmVuZGVyIHdhcyBxdWV1ZWRcbiAgICBpZiAocGFyZW50Tm9kZSkge1xuICAgICAgaWYgKCF0aGlzLl9fY3Rvcikge1xuICAgICAgICBsZXQgdGVtcGxhdGUgPSAvKiogQHR5cGUge0hUTUxUZW1wbGF0ZUVsZW1lbnR9ICovKHdyYXAodGhpcykucXVlcnlTZWxlY3RvcigndGVtcGxhdGUnKSk7XG4gICAgICAgIGlmICghdGVtcGxhdGUpIHtcbiAgICAgICAgICAvLyBXYWl0IHVudGlsIGNoaWxkTGlzdCBjaGFuZ2VzIGFuZCB0ZW1wbGF0ZSBzaG91bGQgYmUgdGhlcmUgYnkgdGhlblxuICAgICAgICAgIGxldCBvYnNlcnZlciA9IG5ldyBNdXRhdGlvbk9ic2VydmVyKCgpID0+IHtcbiAgICAgICAgICAgIGlmICh3cmFwKHRoaXMpLnF1ZXJ5U2VsZWN0b3IoJ3RlbXBsYXRlJykpIHtcbiAgICAgICAgICAgICAgb2JzZXJ2ZXIuZGlzY29ubmVjdCgpO1xuICAgICAgICAgICAgICB0aGlzLl9fcmVuZGVyKCk7XG4gICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICB0aHJvdyBuZXcgRXJyb3IoJ2RvbS1pZiByZXF1aXJlcyBhIDx0ZW1wbGF0ZT4gY2hpbGQnKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICB9KTtcbiAgICAgICAgICBvYnNlcnZlci5vYnNlcnZlKHRoaXMsIHtjaGlsZExpc3Q6IHRydWV9KTtcbiAgICAgICAgICByZXR1cm4gZmFsc2U7XG4gICAgICAgIH1cbiAgICAgICAgdGhpcy5fX2N0b3IgPSB0ZW1wbGF0aXplKHRlbXBsYXRlLCB0aGlzLCB7XG4gICAgICAgICAgLy8gZG9tLWlmIHRlbXBsYXRpemVyIGluc3RhbmNlcyByZXF1aXJlIGBtdXRhYmxlOiB0cnVlYCwgYXNcbiAgICAgICAgICAvLyBgX19zeW5jSG9zdFByb3BlcnRpZXNgIHJlbGllcyBvbiB0aGF0IGJlaGF2aW9yIHRvIHN5bmMgb2JqZWN0c1xuICAgICAgICAgIG11dGFibGVEYXRhOiB0cnVlLFxuICAgICAgICAgIC8qKlxuICAgICAgICAgICAqIEBwYXJhbSB7c3RyaW5nfSBwcm9wIFByb3BlcnR5IHRvIGZvcndhcmRcbiAgICAgICAgICAgKiBAcGFyYW0geyp9IHZhbHVlIFZhbHVlIG9mIHByb3BlcnR5XG4gICAgICAgICAgICogQHRoaXMge0RvbUlmfVxuICAgICAgICAgICAqL1xuICAgICAgICAgIGZvcndhcmRIb3N0UHJvcDogZnVuY3Rpb24ocHJvcCwgdmFsdWUpIHtcbiAgICAgICAgICAgIGlmICh0aGlzLl9faW5zdGFuY2UpIHtcbiAgICAgICAgICAgICAgaWYgKHRoaXMuaWYpIHtcbiAgICAgICAgICAgICAgICB0aGlzLl9faW5zdGFuY2UuZm9yd2FyZEhvc3RQcm9wKHByb3AsIHZhbHVlKTtcbiAgICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICAvLyBJZiB3ZSBoYXZlIGFuIGluc3RhbmNlIGJ1dCBhcmUgc3F1ZWxjaGluZyBob3N0IHByb3BlcnR5XG4gICAgICAgICAgICAgICAgLy8gZm9yd2FyZGluZyBkdWUgdG8gaWYgYmVpbmcgZmFsc2UsIG5vdGUgdGhlIGludmFsaWRhdGVkXG4gICAgICAgICAgICAgICAgLy8gcHJvcGVydGllcyBzbyBgX19zeW5jSG9zdFByb3BlcnRpZXNgIGNhbiBzeW5jIHRoZW0gdGhlIG5leHRcbiAgICAgICAgICAgICAgICAvLyB0aW1lIGBpZmAgYmVjb21lcyB0cnVlXG4gICAgICAgICAgICAgICAgdGhpcy5fX2ludmFsaWRQcm9wcyA9IHRoaXMuX19pbnZhbGlkUHJvcHMgfHwgT2JqZWN0LmNyZWF0ZShudWxsKTtcbiAgICAgICAgICAgICAgICB0aGlzLl9faW52YWxpZFByb3BzW3Jvb3QocHJvcCldID0gdHJ1ZTtcbiAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICAgIH1cbiAgICAgICAgfSk7XG4gICAgICB9XG4gICAgICBpZiAoIXRoaXMuX19pbnN0YW5jZSkge1xuICAgICAgICB0aGlzLl9faW5zdGFuY2UgPSBuZXcgdGhpcy5fX2N0b3IoKTtcbiAgICAgICAgd3JhcChwYXJlbnROb2RlKS5pbnNlcnRCZWZvcmUodGhpcy5fX2luc3RhbmNlLnJvb3QsIHRoaXMpO1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgdGhpcy5fX3N5bmNIb3N0UHJvcGVydGllcygpO1xuICAgICAgICBsZXQgYyQgPSB0aGlzLl9faW5zdGFuY2UuY2hpbGRyZW47XG4gICAgICAgIGlmIChjJCAmJiBjJC5sZW5ndGgpIHtcbiAgICAgICAgICAvLyBEZXRlY3QgY2FzZSB3aGVyZSBkb20taWYgd2FzIHJlLWF0dGFjaGVkIGluIG5ldyBwb3NpdGlvblxuICAgICAgICAgIGxldCBsYXN0Q2hpbGQgPSB3cmFwKHRoaXMpLnByZXZpb3VzU2libGluZztcbiAgICAgICAgICBpZiAobGFzdENoaWxkICE9PSBjJFtjJC5sZW5ndGgtMV0pIHtcbiAgICAgICAgICAgIGZvciAobGV0IGk9MCwgbjsgKGk8YyQubGVuZ3RoKSAmJiAobj1jJFtpXSk7IGkrKykge1xuICAgICAgICAgICAgICB3cmFwKHBhcmVudE5vZGUpLmluc2VydEJlZm9yZShuLCB0aGlzKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICB9XG4gICAgcmV0dXJuIHRydWU7XG4gIH1cblxuICBfX3N5bmNIb3N0UHJvcGVydGllcygpIHtcbiAgICBsZXQgcHJvcHMgPSB0aGlzLl9faW52YWxpZFByb3BzO1xuICAgIGlmIChwcm9wcykge1xuICAgICAgZm9yIChsZXQgcHJvcCBpbiBwcm9wcykge1xuICAgICAgICB0aGlzLl9faW5zdGFuY2UuX3NldFBlbmRpbmdQcm9wZXJ0eShwcm9wLCB0aGlzLl9fZGF0YUhvc3RbcHJvcF0pO1xuICAgICAgfVxuICAgICAgdGhpcy5fX2ludmFsaWRQcm9wcyA9IG51bGw7XG4gICAgICB0aGlzLl9faW5zdGFuY2UuX2ZsdXNoUHJvcGVydGllcygpO1xuICAgIH1cbiAgfVxuXG4gIF9fdGVhcmRvd25JbnN0YW5jZSgpIHtcbiAgICBpZiAodGhpcy5fX2luc3RhbmNlKSB7XG4gICAgICBsZXQgYyQgPSB0aGlzLl9faW5zdGFuY2UuY2hpbGRyZW47XG4gICAgICBpZiAoYyQgJiYgYyQubGVuZ3RoKSB7XG4gICAgICAgIC8vIHVzZSBmaXJzdCBjaGlsZCBwYXJlbnQsIGZvciBjYXNlIHdoZW4gZG9tLWlmIG1heSBoYXZlIGJlZW4gZGV0YWNoZWRcbiAgICAgICAgbGV0IHBhcmVudCA9IHdyYXAoYyRbMF0pLnBhcmVudE5vZGU7XG4gICAgICAgIC8vIEluc3RhbmNlIGNoaWxkcmVuIG1heSBiZSBkaXNjb25uZWN0ZWQgZnJvbSBwYXJlbnRzIHdoZW4gZG9tLWlmXG4gICAgICAgIC8vIGRldGFjaGVzIGlmIGEgdHJlZSB3YXMgaW5uZXJIVE1MJ2VkXG4gICAgICAgIGlmIChwYXJlbnQpIHtcbiAgICAgICAgICBwYXJlbnQgPSB3cmFwKHBhcmVudCk7XG4gICAgICAgICAgZm9yIChsZXQgaT0wLCBuOyAoaTxjJC5sZW5ndGgpICYmIChuPWMkW2ldKTsgaSsrKSB7XG4gICAgICAgICAgICBwYXJlbnQucmVtb3ZlQ2hpbGQobik7XG4gICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICB9XG4gICAgICB0aGlzLl9faW5zdGFuY2UgPSBudWxsO1xuICAgICAgdGhpcy5fX2ludmFsaWRQcm9wcyA9IG51bGw7XG4gICAgfVxuICB9XG5cbiAgLyoqXG4gICAqIFNob3dzIG9yIGhpZGVzIHRoZSB0ZW1wbGF0ZSBpbnN0YW5jZSB0b3AgbGV2ZWwgY2hpbGQgZWxlbWVudHMuIEZvclxuICAgKiB0ZXh0IG5vZGVzLCBgdGV4dENvbnRlbnRgIGlzIHJlbW92ZWQgd2hpbGUgXCJoaWRkZW5cIiBhbmQgcmVwbGFjZWQgd2hlblxuICAgKiBcInNob3duLlwiXG4gICAqIEByZXR1cm4ge3ZvaWR9XG4gICAqIEBwcm90ZWN0ZWRcbiAgICogQHN1cHByZXNzIHt2aXNpYmlsaXR5fVxuICAgKi9cbiAgX3Nob3dIaWRlQ2hpbGRyZW4oKSB7XG4gICAgbGV0IGhpZGRlbiA9IHRoaXMuX19oaWRlVGVtcGxhdGVDaGlsZHJlbl9fIHx8ICF0aGlzLmlmO1xuICAgIGlmICh0aGlzLl9faW5zdGFuY2UpIHtcbiAgICAgIHRoaXMuX19pbnN0YW5jZS5fc2hvd0hpZGVDaGlsZHJlbihoaWRkZW4pO1xuICAgIH1cbiAgfVxuXG59XG5cbmN1c3RvbUVsZW1lbnRzLmRlZmluZShEb21JZi5pcywgRG9tSWYpO1xuIiwiLyoqXG5AbGljZW5zZVxuQ29weXJpZ2h0IChjKSAyMDE3IFRoZSBQb2x5bWVyIFByb2plY3QgQXV0aG9ycy4gQWxsIHJpZ2h0cyByZXNlcnZlZC5cblRoaXMgY29kZSBtYXkgb25seSBiZSB1c2VkIHVuZGVyIHRoZSBCU0Qgc3R5bGUgbGljZW5zZSBmb3VuZCBhdCBodHRwOi8vcG9seW1lci5naXRodWIuaW8vTElDRU5TRS50eHRcblRoZSBjb21wbGV0ZSBzZXQgb2YgYXV0aG9ycyBtYXkgYmUgZm91bmQgYXQgaHR0cDovL3BvbHltZXIuZ2l0aHViLmlvL0FVVEhPUlMudHh0XG5UaGUgY29tcGxldGUgc2V0IG9mIGNvbnRyaWJ1dG9ycyBtYXkgYmUgZm91bmQgYXQgaHR0cDovL3BvbHltZXIuZ2l0aHViLmlvL0NPTlRSSUJVVE9SUy50eHRcbkNvZGUgZGlzdHJpYnV0ZWQgYnkgR29vZ2xlIGFzIHBhcnQgb2YgdGhlIHBvbHltZXIgcHJvamVjdCBpcyBhbHNvXG5zdWJqZWN0IHRvIGFuIGFkZGl0aW9uYWwgSVAgcmlnaHRzIGdyYW50IGZvdW5kIGF0IGh0dHA6Ly9wb2x5bWVyLmdpdGh1Yi5pby9QQVRFTlRTLnR4dFxuKi9cbmltcG9ydCB7IFBvbHltZXJFbGVtZW50IH0gZnJvbSAnLi4vLi4vcG9seW1lci1lbGVtZW50LmpzJztcblxuaW1wb3J0IHsgZGVkdXBpbmdNaXhpbiB9IGZyb20gJy4uL3V0aWxzL21peGluLmpzJztcbmltcG9ydCB7IGNhbGN1bGF0ZVNwbGljZXMgfSBmcm9tICcuLi91dGlscy9hcnJheS1zcGxpY2UuanMnO1xuaW1wb3J0IHsgRWxlbWVudE1peGluIH0gZnJvbSAnLi4vbWl4aW5zL2VsZW1lbnQtbWl4aW4uanMnO1xuXG4vKipcbiAqIEVsZW1lbnQgbWl4aW4gZm9yIHJlY29yZGluZyBkeW5hbWljIGFzc29jaWF0aW9ucyBiZXR3ZWVuIGl0ZW0gcGF0aHMgaW4gYVxuICogbWFzdGVyIGBpdGVtc2AgYXJyYXkgYW5kIGEgYHNlbGVjdGVkYCBhcnJheSBzdWNoIHRoYXQgcGF0aCBjaGFuZ2VzIHRvIHRoZVxuICogbWFzdGVyIGFycmF5IChhdCB0aGUgaG9zdCkgZWxlbWVudCBvciBlbHNld2hlcmUgdmlhIGRhdGEtYmluZGluZykgYXJlXG4gKiBjb3JyZWN0bHkgcHJvcGFnYXRlZCB0byBpdGVtcyBpbiB0aGUgc2VsZWN0ZWQgYXJyYXkgYW5kIHZpY2UtdmVyc2EuXG4gKlxuICogVGhlIGBpdGVtc2AgcHJvcGVydHkgYWNjZXB0cyBhbiBhcnJheSBvZiB1c2VyIGRhdGEsIGFuZCB2aWEgdGhlXG4gKiBgc2VsZWN0KGl0ZW0pYCBhbmQgYGRlc2VsZWN0KGl0ZW0pYCBBUEksIHVwZGF0ZXMgdGhlIGBzZWxlY3RlZGAgcHJvcGVydHlcbiAqIHdoaWNoIG1heSBiZSBib3VuZCB0byBvdGhlciBwYXJ0cyBvZiB0aGUgYXBwbGljYXRpb24sIGFuZCBhbnkgY2hhbmdlcyB0b1xuICogc3ViLWZpZWxkcyBvZiBgc2VsZWN0ZWRgIGl0ZW0ocykgd2lsbCBiZSBrZXB0IGluIHN5bmMgd2l0aCBpdGVtcyBpbiB0aGVcbiAqIGBpdGVtc2AgYXJyYXkuICBXaGVuIGBtdWx0aWAgaXMgZmFsc2UsIGBzZWxlY3RlZGAgaXMgYSBwcm9wZXJ0eVxuICogcmVwcmVzZW50aW5nIHRoZSBsYXN0IHNlbGVjdGVkIGl0ZW0uICBXaGVuIGBtdWx0aWAgaXMgdHJ1ZSwgYHNlbGVjdGVkYFxuICogaXMgYW4gYXJyYXkgb2YgbXVsdGlwbHkgc2VsZWN0ZWQgaXRlbXMuXG4gKlxuICogQHBvbHltZXJcbiAqIEBtaXhpbkZ1bmN0aW9uXG4gKiBAYXBwbGllc01peGluIEVsZW1lbnRNaXhpblxuICogQHN1bW1hcnkgRWxlbWVudCBtaXhpbiBmb3IgcmVjb3JkaW5nIGR5bmFtaWMgYXNzb2NpYXRpb25zIGJldHdlZW4gaXRlbSBwYXRocyBpbiBhXG4gKiBtYXN0ZXIgYGl0ZW1zYCBhcnJheSBhbmQgYSBgc2VsZWN0ZWRgIGFycmF5XG4gKi9cbmxldCBBcnJheVNlbGVjdG9yTWl4aW4gPSBkZWR1cGluZ01peGluKHN1cGVyQ2xhc3MgPT4ge1xuXG4gIC8qKlxuICAgKiBAY29uc3RydWN0b3JcbiAgICogQGltcGxlbWVudHMge1BvbHltZXJfRWxlbWVudE1peGlufVxuICAgKiBAcHJpdmF0ZVxuICAgKi9cbiAgbGV0IGVsZW1lbnRCYXNlID0gRWxlbWVudE1peGluKHN1cGVyQ2xhc3MpO1xuXG4gIC8qKlxuICAgKiBAcG9seW1lclxuICAgKiBAbWl4aW5DbGFzc1xuICAgKiBAaW1wbGVtZW50cyB7UG9seW1lcl9BcnJheVNlbGVjdG9yTWl4aW59XG4gICAqIEB1bnJlc3RyaWN0ZWRcbiAgICovXG4gIGNsYXNzIEFycmF5U2VsZWN0b3JNaXhpbiBleHRlbmRzIGVsZW1lbnRCYXNlIHtcblxuICAgIHN0YXRpYyBnZXQgcHJvcGVydGllcygpIHtcbiAgICAgIHJldHVybiB7XG5cbiAgICAgICAgLyoqXG4gICAgICAgICAqIEFuIGFycmF5IGNvbnRhaW5pbmcgaXRlbXMgZnJvbSB3aGljaCBzZWxlY3Rpb24gd2lsbCBiZSBtYWRlLlxuICAgICAgICAgKi9cbiAgICAgICAgaXRlbXM6IHtcbiAgICAgICAgICB0eXBlOiBBcnJheSxcbiAgICAgICAgfSxcblxuICAgICAgICAvKipcbiAgICAgICAgICogV2hlbiBgdHJ1ZWAsIG11bHRpcGxlIGl0ZW1zIG1heSBiZSBzZWxlY3RlZCBhdCBvbmNlIChpbiB0aGlzIGNhc2UsXG4gICAgICAgICAqIGBzZWxlY3RlZGAgaXMgYW4gYXJyYXkgb2YgY3VycmVudGx5IHNlbGVjdGVkIGl0ZW1zKS4gIFdoZW4gYGZhbHNlYCxcbiAgICAgICAgICogb25seSBvbmUgaXRlbSBtYXkgYmUgc2VsZWN0ZWQgYXQgYSB0aW1lLlxuICAgICAgICAgKi9cbiAgICAgICAgbXVsdGk6IHtcbiAgICAgICAgICB0eXBlOiBCb29sZWFuLFxuICAgICAgICAgIHZhbHVlOiBmYWxzZSxcbiAgICAgICAgfSxcblxuICAgICAgICAvKipcbiAgICAgICAgICogV2hlbiBgbXVsdGlgIGlzIHRydWUsIHRoaXMgaXMgYW4gYXJyYXkgdGhhdCBjb250YWlucyBhbnkgc2VsZWN0ZWQuXG4gICAgICAgICAqIFdoZW4gYG11bHRpYCBpcyBmYWxzZSwgdGhpcyBpcyB0aGUgY3VycmVudGx5IHNlbGVjdGVkIGl0ZW0sIG9yIGBudWxsYFxuICAgICAgICAgKiBpZiBubyBpdGVtIGlzIHNlbGVjdGVkLlxuICAgICAgICAgKiBAdHlwZSB7P09iamVjdHw/QXJyYXk8IU9iamVjdD59XG4gICAgICAgICAqL1xuICAgICAgICBzZWxlY3RlZDoge3R5cGU6IE9iamVjdCwgbm90aWZ5OiB0cnVlfSxcblxuICAgICAgICAvKipcbiAgICAgICAgICogV2hlbiBgbXVsdGlgIGlzIGZhbHNlLCB0aGlzIGlzIHRoZSBjdXJyZW50bHkgc2VsZWN0ZWQgaXRlbSwgb3IgYG51bGxgXG4gICAgICAgICAqIGlmIG5vIGl0ZW0gaXMgc2VsZWN0ZWQuXG4gICAgICAgICAqIEB0eXBlIHs/T2JqZWN0fVxuICAgICAgICAgKi9cbiAgICAgICAgc2VsZWN0ZWRJdGVtOiB7dHlwZTogT2JqZWN0LCBub3RpZnk6IHRydWV9LFxuXG4gICAgICAgIC8qKlxuICAgICAgICAgKiBXaGVuIGB0cnVlYCwgY2FsbGluZyBgc2VsZWN0YCBvbiBhbiBpdGVtIHRoYXQgaXMgYWxyZWFkeSBzZWxlY3RlZFxuICAgICAgICAgKiB3aWxsIGRlc2VsZWN0IHRoZSBpdGVtLlxuICAgICAgICAgKi9cbiAgICAgICAgdG9nZ2xlOiB7dHlwZTogQm9vbGVhbiwgdmFsdWU6IGZhbHNlfVxuXG4gICAgICB9O1xuICAgIH1cblxuICAgIHN0YXRpYyBnZXQgb2JzZXJ2ZXJzKCkge1xuICAgICAgcmV0dXJuIFsnX191cGRhdGVTZWxlY3Rpb24obXVsdGksIGl0ZW1zLiopJ107XG4gICAgfVxuXG4gICAgY29uc3RydWN0b3IoKSB7XG4gICAgICBzdXBlcigpO1xuICAgICAgdGhpcy5fX2xhc3RJdGVtcyA9IG51bGw7XG4gICAgICB0aGlzLl9fbGFzdE11bHRpID0gbnVsbDtcbiAgICAgIHRoaXMuX19zZWxlY3RlZE1hcCA9IG51bGw7XG4gICAgfVxuXG4gICAgX191cGRhdGVTZWxlY3Rpb24obXVsdGksIGl0ZW1zSW5mbykge1xuICAgICAgbGV0IHBhdGggPSBpdGVtc0luZm8ucGF0aDtcbiAgICAgIGlmIChwYXRoID09IEpTQ29tcGlsZXJfcmVuYW1lUHJvcGVydHkoJ2l0ZW1zJywgdGhpcykpIHtcbiAgICAgICAgLy8gQ2FzZSAxIC0gaXRlbXMgYXJyYXkgY2hhbmdlZCwgc28gZGlmZiBhZ2FpbnN0IHByZXZpb3VzIGFycmF5IGFuZFxuICAgICAgICAvLyBkZXNlbGVjdCBhbnkgcmVtb3ZlZCBpdGVtcyBhbmQgYWRqdXN0IHNlbGVjdGVkIGluZGljZXNcbiAgICAgICAgbGV0IG5ld0l0ZW1zID0gaXRlbXNJbmZvLmJhc2UgfHwgW107XG4gICAgICAgIGxldCBsYXN0SXRlbXMgPSB0aGlzLl9fbGFzdEl0ZW1zO1xuICAgICAgICBsZXQgbGFzdE11bHRpID0gdGhpcy5fX2xhc3RNdWx0aTtcbiAgICAgICAgaWYgKG11bHRpICE9PSBsYXN0TXVsdGkpIHtcbiAgICAgICAgICB0aGlzLmNsZWFyU2VsZWN0aW9uKCk7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKGxhc3RJdGVtcykge1xuICAgICAgICAgIGxldCBzcGxpY2VzID0gY2FsY3VsYXRlU3BsaWNlcyhuZXdJdGVtcywgbGFzdEl0ZW1zKTtcbiAgICAgICAgICB0aGlzLl9fYXBwbHlTcGxpY2VzKHNwbGljZXMpO1xuICAgICAgICB9XG4gICAgICAgIHRoaXMuX19sYXN0SXRlbXMgPSBuZXdJdGVtcztcbiAgICAgICAgdGhpcy5fX2xhc3RNdWx0aSA9IG11bHRpO1xuICAgICAgfSBlbHNlIGlmIChpdGVtc0luZm8ucGF0aCA9PSBgJHtKU0NvbXBpbGVyX3JlbmFtZVByb3BlcnR5KCdpdGVtcycsIHRoaXMpfS5zcGxpY2VzYCkge1xuICAgICAgICAvLyBDYXNlIDIgLSBnb3Qgc3BlY2lmaWMgc3BsaWNlIGluZm9ybWF0aW9uIGRlc2NyaWJpbmcgdGhlIGFycmF5IG11dGF0aW9uOlxuICAgICAgICAvLyBkZXNlbGVjdCBhbnkgcmVtb3ZlZCBpdGVtcyBhbmQgYWRqdXN0IHNlbGVjdGVkIGluZGljZXNcbiAgICAgICAgdGhpcy5fX2FwcGx5U3BsaWNlcyhpdGVtc0luZm8udmFsdWUuaW5kZXhTcGxpY2VzKTtcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIC8vIENhc2UgMyAtIGFuIGFycmF5IGVsZW1lbnQgd2FzIGNoYW5nZWQsIHNvIGRlc2VsZWN0IHRoZSBwcmV2aW91c1xuICAgICAgICAvLyBpdGVtIGZvciB0aGF0IGluZGV4IGlmIGl0IHdhcyBwcmV2aW91c2x5IHNlbGVjdGVkXG4gICAgICAgIGxldCBwYXJ0ID0gcGF0aC5zbGljZShgJHtKU0NvbXBpbGVyX3JlbmFtZVByb3BlcnR5KCdpdGVtcycsIHRoaXMpfS5gLmxlbmd0aCk7XG4gICAgICAgIGxldCBpZHggPSBwYXJzZUludChwYXJ0LCAxMCk7XG4gICAgICAgIGlmICgocGFydC5pbmRleE9mKCcuJykgPCAwKSAmJiBwYXJ0ID09IGlkeCkge1xuICAgICAgICAgIHRoaXMuX19kZXNlbGVjdENoYW5nZWRJZHgoaWR4KTtcbiAgICAgICAgfVxuICAgICAgfVxuICAgIH1cblxuICAgIF9fYXBwbHlTcGxpY2VzKHNwbGljZXMpIHtcbiAgICAgIGxldCBzZWxlY3RlZCA9IHRoaXMuX19zZWxlY3RlZE1hcDtcbiAgICAgIC8vIEFkanVzdCBzZWxlY3RlZCBpbmRpY2VzIGFuZCBtYXJrIHJlbW92YWxzXG4gICAgICBmb3IgKGxldCBpPTA7IGk8c3BsaWNlcy5sZW5ndGg7IGkrKykge1xuICAgICAgICBsZXQgcyA9IHNwbGljZXNbaV07XG4gICAgICAgIHNlbGVjdGVkLmZvckVhY2goKGlkeCwgaXRlbSkgPT4ge1xuICAgICAgICAgIGlmIChpZHggPCBzLmluZGV4KSB7XG4gICAgICAgICAgICAvLyBubyBjaGFuZ2VcbiAgICAgICAgICB9IGVsc2UgaWYgKGlkeCA+PSBzLmluZGV4ICsgcy5yZW1vdmVkLmxlbmd0aCkge1xuICAgICAgICAgICAgLy8gYWRqdXN0IGluZGV4XG4gICAgICAgICAgICBzZWxlY3RlZC5zZXQoaXRlbSwgaWR4ICsgcy5hZGRlZENvdW50IC0gcy5yZW1vdmVkLmxlbmd0aCk7XG4gICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIC8vIHJlbW92ZSBpbmRleFxuICAgICAgICAgICAgc2VsZWN0ZWQuc2V0KGl0ZW0sIC0xKTtcbiAgICAgICAgICB9XG4gICAgICAgIH0pO1xuICAgICAgICBmb3IgKGxldCBqPTA7IGo8cy5hZGRlZENvdW50OyBqKyspIHtcbiAgICAgICAgICBsZXQgaWR4ID0gcy5pbmRleCArIGo7XG4gICAgICAgICAgaWYgKHNlbGVjdGVkLmhhcyh0aGlzLml0ZW1zW2lkeF0pKSB7XG4gICAgICAgICAgICBzZWxlY3RlZC5zZXQodGhpcy5pdGVtc1tpZHhdLCBpZHgpO1xuICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgfVxuICAgICAgLy8gVXBkYXRlIGxpbmtlZCBwYXRoc1xuICAgICAgdGhpcy5fX3VwZGF0ZUxpbmtzKCk7XG4gICAgICAvLyBSZW1vdmUgc2VsZWN0ZWQgaXRlbXMgdGhhdCB3ZXJlIHJlbW92ZWQgZnJvbSB0aGUgaXRlbXMgYXJyYXlcbiAgICAgIGxldCBzaWR4ID0gMDtcbiAgICAgIHNlbGVjdGVkLmZvckVhY2goKGlkeCwgaXRlbSkgPT4ge1xuICAgICAgICBpZiAoaWR4IDwgMCkge1xuICAgICAgICAgIGlmICh0aGlzLm11bHRpKSB7XG4gICAgICAgICAgICB0aGlzLnNwbGljZShKU0NvbXBpbGVyX3JlbmFtZVByb3BlcnR5KCdzZWxlY3RlZCcsIHRoaXMpLCBzaWR4LCAxKTtcbiAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgdGhpcy5zZWxlY3RlZCA9IHRoaXMuc2VsZWN0ZWRJdGVtID0gbnVsbDtcbiAgICAgICAgICB9XG4gICAgICAgICAgc2VsZWN0ZWQuZGVsZXRlKGl0ZW0pO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgIHNpZHgrKztcbiAgICAgICAgfVxuICAgICAgfSk7XG4gICAgfVxuXG4gICAgX191cGRhdGVMaW5rcygpIHtcbiAgICAgIHRoaXMuX19kYXRhTGlua2VkUGF0aHMgPSB7fTtcbiAgICAgIGlmICh0aGlzLm11bHRpKSB7XG4gICAgICAgIGxldCBzaWR4ID0gMDtcbiAgICAgICAgdGhpcy5fX3NlbGVjdGVkTWFwLmZvckVhY2goaWR4ID0+IHtcbiAgICAgICAgICBpZiAoaWR4ID49IDApIHtcbiAgICAgICAgICAgIHRoaXMubGlua1BhdGhzKFxuICAgICAgICAgICAgICAgIGAke0pTQ29tcGlsZXJfcmVuYW1lUHJvcGVydHkoJ2l0ZW1zJywgdGhpcyl9LiR7aWR4fWAsXG4gICAgICAgICAgICAgICAgYCR7SlNDb21waWxlcl9yZW5hbWVQcm9wZXJ0eSgnc2VsZWN0ZWQnLCB0aGlzKX0uJHtzaWR4Kyt9YCk7XG4gICAgICAgICAgfVxuICAgICAgICB9KTtcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIHRoaXMuX19zZWxlY3RlZE1hcC5mb3JFYWNoKGlkeCA9PiB7XG4gICAgICAgICAgdGhpcy5saW5rUGF0aHMoXG4gICAgICAgICAgICAgIEpTQ29tcGlsZXJfcmVuYW1lUHJvcGVydHkoJ3NlbGVjdGVkJywgdGhpcyksXG4gICAgICAgICAgICAgIGAke0pTQ29tcGlsZXJfcmVuYW1lUHJvcGVydHkoJ2l0ZW1zJywgdGhpcyl9LiR7aWR4fWApO1xuICAgICAgICAgIHRoaXMubGlua1BhdGhzKFxuICAgICAgICAgICAgICBKU0NvbXBpbGVyX3JlbmFtZVByb3BlcnR5KCdzZWxlY3RlZEl0ZW0nLCB0aGlzKSxcbiAgICAgICAgICAgICAgYCR7SlNDb21waWxlcl9yZW5hbWVQcm9wZXJ0eSgnaXRlbXMnLCB0aGlzKX0uJHtpZHh9YCk7XG4gICAgICAgIH0pO1xuICAgICAgfVxuICAgIH1cblxuICAgIC8qKlxuICAgICAqIENsZWFycyB0aGUgc2VsZWN0aW9uIHN0YXRlLlxuICAgICAqIEBvdmVycmlkZVxuICAgICAqIEByZXR1cm4ge3ZvaWR9XG4gICAgICovXG4gICAgY2xlYXJTZWxlY3Rpb24oKSB7XG4gICAgICAvLyBVbmJpbmQgcHJldmlvdXMgc2VsZWN0aW9uXG4gICAgICB0aGlzLl9fZGF0YUxpbmtlZFBhdGhzID0ge307XG4gICAgICAvLyBUaGUgc2VsZWN0ZWQgbWFwIHN0b3JlcyAzIHBpZWNlcyBvZiBpbmZvcm1hdGlvbjpcbiAgICAgIC8vIGtleTogaXRlbXMgYXJyYXkgb2JqZWN0XG4gICAgICAvLyB2YWx1ZTogaXRlbXMgYXJyYXkgaW5kZXhcbiAgICAgIC8vIG9yZGVyOiBzZWxlY3RlZCBhcnJheSBpbmRleFxuICAgICAgdGhpcy5fX3NlbGVjdGVkTWFwID0gbmV3IE1hcCgpO1xuICAgICAgLy8gSW5pdGlhbGl6ZSBzZWxlY3Rpb25cbiAgICAgIHRoaXMuc2VsZWN0ZWQgPSB0aGlzLm11bHRpID8gW10gOiBudWxsO1xuICAgICAgdGhpcy5zZWxlY3RlZEl0ZW0gPSBudWxsO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIFJldHVybnMgd2hldGhlciB0aGUgaXRlbSBpcyBjdXJyZW50bHkgc2VsZWN0ZWQuXG4gICAgICpcbiAgICAgKiBAb3ZlcnJpZGVcbiAgICAgKiBAcGFyYW0geyp9IGl0ZW0gSXRlbSBmcm9tIGBpdGVtc2AgYXJyYXkgdG8gdGVzdFxuICAgICAqIEByZXR1cm4ge2Jvb2xlYW59IFdoZXRoZXIgdGhlIGl0ZW0gaXMgc2VsZWN0ZWRcbiAgICAgKi9cbiAgICBpc1NlbGVjdGVkKGl0ZW0pIHtcbiAgICAgIHJldHVybiB0aGlzLl9fc2VsZWN0ZWRNYXAuaGFzKGl0ZW0pO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIFJldHVybnMgd2hldGhlciB0aGUgaXRlbSBpcyBjdXJyZW50bHkgc2VsZWN0ZWQuXG4gICAgICpcbiAgICAgKiBAb3ZlcnJpZGVcbiAgICAgKiBAcGFyYW0ge251bWJlcn0gaWR4IEluZGV4IGZyb20gYGl0ZW1zYCBhcnJheSB0byB0ZXN0XG4gICAgICogQHJldHVybiB7Ym9vbGVhbn0gV2hldGhlciB0aGUgaXRlbSBpcyBzZWxlY3RlZFxuICAgICAqL1xuICAgIGlzSW5kZXhTZWxlY3RlZChpZHgpIHtcbiAgICAgIHJldHVybiB0aGlzLmlzU2VsZWN0ZWQodGhpcy5pdGVtc1tpZHhdKTtcbiAgICB9XG5cbiAgICBfX2Rlc2VsZWN0Q2hhbmdlZElkeChpZHgpIHtcbiAgICAgIGxldCBzaWR4ID0gdGhpcy5fX3NlbGVjdGVkSW5kZXhGb3JJdGVtSW5kZXgoaWR4KTtcbiAgICAgIGlmIChzaWR4ID49IDApIHtcbiAgICAgICAgbGV0IGkgPSAwO1xuICAgICAgICB0aGlzLl9fc2VsZWN0ZWRNYXAuZm9yRWFjaCgoaWR4LCBpdGVtKSA9PiB7XG4gICAgICAgICAgaWYgKHNpZHggPT0gaSsrKSB7XG4gICAgICAgICAgICB0aGlzLmRlc2VsZWN0KGl0ZW0pO1xuICAgICAgICAgIH1cbiAgICAgICAgfSk7XG4gICAgICB9XG4gICAgfVxuXG4gICAgX19zZWxlY3RlZEluZGV4Rm9ySXRlbUluZGV4KGlkeCkge1xuICAgICAgbGV0IHNlbGVjdGVkID0gdGhpcy5fX2RhdGFMaW5rZWRQYXRoc1tgJHtKU0NvbXBpbGVyX3JlbmFtZVByb3BlcnR5KCdpdGVtcycsIHRoaXMpfS4ke2lkeH1gXTtcbiAgICAgIGlmIChzZWxlY3RlZCkge1xuICAgICAgICByZXR1cm4gcGFyc2VJbnQoc2VsZWN0ZWQuc2xpY2UoYCR7SlNDb21waWxlcl9yZW5hbWVQcm9wZXJ0eSgnc2VsZWN0ZWQnLCB0aGlzKX0uYC5sZW5ndGgpLCAxMCk7XG4gICAgICB9XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogRGVzZWxlY3RzIHRoZSBnaXZlbiBpdGVtIGlmIGl0IGlzIGFscmVhZHkgc2VsZWN0ZWQuXG4gICAgICpcbiAgICAgKiBAb3ZlcnJpZGVcbiAgICAgKiBAcGFyYW0geyp9IGl0ZW0gSXRlbSBmcm9tIGBpdGVtc2AgYXJyYXkgdG8gZGVzZWxlY3RcbiAgICAgKiBAcmV0dXJuIHt2b2lkfVxuICAgICAqL1xuICAgIGRlc2VsZWN0KGl0ZW0pIHtcbiAgICAgIGxldCBpZHggPSB0aGlzLl9fc2VsZWN0ZWRNYXAuZ2V0KGl0ZW0pO1xuICAgICAgaWYgKGlkeCA+PSAwKSB7XG4gICAgICAgIHRoaXMuX19zZWxlY3RlZE1hcC5kZWxldGUoaXRlbSk7XG4gICAgICAgIGxldCBzaWR4O1xuICAgICAgICBpZiAodGhpcy5tdWx0aSkge1xuICAgICAgICAgIHNpZHggPSB0aGlzLl9fc2VsZWN0ZWRJbmRleEZvckl0ZW1JbmRleChpZHgpO1xuICAgICAgICB9XG4gICAgICAgIHRoaXMuX191cGRhdGVMaW5rcygpO1xuICAgICAgICBpZiAodGhpcy5tdWx0aSkge1xuICAgICAgICAgIHRoaXMuc3BsaWNlKEpTQ29tcGlsZXJfcmVuYW1lUHJvcGVydHkoJ3NlbGVjdGVkJywgdGhpcyksIHNpZHgsIDEpO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgIHRoaXMuc2VsZWN0ZWQgPSB0aGlzLnNlbGVjdGVkSXRlbSA9IG51bGw7XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBEZXNlbGVjdHMgdGhlIGdpdmVuIGluZGV4IGlmIGl0IGlzIGFscmVhZHkgc2VsZWN0ZWQuXG4gICAgICpcbiAgICAgKiBAb3ZlcnJpZGVcbiAgICAgKiBAcGFyYW0ge251bWJlcn0gaWR4IEluZGV4IGZyb20gYGl0ZW1zYCBhcnJheSB0byBkZXNlbGVjdFxuICAgICAqIEByZXR1cm4ge3ZvaWR9XG4gICAgICovXG4gICAgZGVzZWxlY3RJbmRleChpZHgpIHtcbiAgICAgIHRoaXMuZGVzZWxlY3QodGhpcy5pdGVtc1tpZHhdKTtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBTZWxlY3RzIHRoZSBnaXZlbiBpdGVtLiAgV2hlbiBgdG9nZ2xlYCBpcyB0cnVlLCB0aGlzIHdpbGwgYXV0b21hdGljYWxseVxuICAgICAqIGRlc2VsZWN0IHRoZSBpdGVtIGlmIGFscmVhZHkgc2VsZWN0ZWQuXG4gICAgICpcbiAgICAgKiBAb3ZlcnJpZGVcbiAgICAgKiBAcGFyYW0geyp9IGl0ZW0gSXRlbSBmcm9tIGBpdGVtc2AgYXJyYXkgdG8gc2VsZWN0XG4gICAgICogQHJldHVybiB7dm9pZH1cbiAgICAgKi9cbiAgICBzZWxlY3QoaXRlbSkge1xuICAgICAgdGhpcy5zZWxlY3RJbmRleCh0aGlzLml0ZW1zLmluZGV4T2YoaXRlbSkpO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIFNlbGVjdHMgdGhlIGdpdmVuIGluZGV4LiAgV2hlbiBgdG9nZ2xlYCBpcyB0cnVlLCB0aGlzIHdpbGwgYXV0b21hdGljYWxseVxuICAgICAqIGRlc2VsZWN0IHRoZSBpdGVtIGlmIGFscmVhZHkgc2VsZWN0ZWQuXG4gICAgICpcbiAgICAgKiBAb3ZlcnJpZGVcbiAgICAgKiBAcGFyYW0ge251bWJlcn0gaWR4IEluZGV4IGZyb20gYGl0ZW1zYCBhcnJheSB0byBzZWxlY3RcbiAgICAgKiBAcmV0dXJuIHt2b2lkfVxuICAgICAqL1xuICAgIHNlbGVjdEluZGV4KGlkeCkge1xuICAgICAgbGV0IGl0ZW0gPSB0aGlzLml0ZW1zW2lkeF07XG4gICAgICBpZiAoIXRoaXMuaXNTZWxlY3RlZChpdGVtKSkge1xuICAgICAgICBpZiAoIXRoaXMubXVsdGkpIHtcbiAgICAgICAgICB0aGlzLl9fc2VsZWN0ZWRNYXAuY2xlYXIoKTtcbiAgICAgICAgfVxuICAgICAgICB0aGlzLl9fc2VsZWN0ZWRNYXAuc2V0KGl0ZW0sIGlkeCk7XG4gICAgICAgIHRoaXMuX191cGRhdGVMaW5rcygpO1xuICAgICAgICBpZiAodGhpcy5tdWx0aSkge1xuICAgICAgICAgIHRoaXMucHVzaChKU0NvbXBpbGVyX3JlbmFtZVByb3BlcnR5KCdzZWxlY3RlZCcsIHRoaXMpLCBpdGVtKTtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICB0aGlzLnNlbGVjdGVkID0gdGhpcy5zZWxlY3RlZEl0ZW0gPSBpdGVtO1xuICAgICAgICB9XG4gICAgICB9IGVsc2UgaWYgKHRoaXMudG9nZ2xlKSB7XG4gICAgICAgIHRoaXMuZGVzZWxlY3RJbmRleChpZHgpO1xuICAgICAgfVxuICAgIH1cblxuICB9XG5cbiAgcmV0dXJuIEFycmF5U2VsZWN0b3JNaXhpbjtcblxufSk7XG5cbi8vIGV4cG9ydCBtaXhpblxuZXhwb3J0IHsgQXJyYXlTZWxlY3Rvck1peGluIH07XG5cbi8qKlxuICogQGNvbnN0cnVjdG9yXG4gKiBAZXh0ZW5kcyB7UG9seW1lckVsZW1lbnR9XG4gKiBAaW1wbGVtZW50cyB7UG9seW1lcl9BcnJheVNlbGVjdG9yTWl4aW59XG4gKiBAcHJpdmF0ZVxuICovXG5sZXQgYmFzZUFycmF5U2VsZWN0b3IgPSBBcnJheVNlbGVjdG9yTWl4aW4oUG9seW1lckVsZW1lbnQpO1xuXG4vKipcbiAqIEVsZW1lbnQgaW1wbGVtZW50aW5nIHRoZSBgQXJyYXlTZWxlY3RvcmAgbWl4aW4sIHdoaWNoIHJlY29yZHNcbiAqIGR5bmFtaWMgYXNzb2NpYXRpb25zIGJldHdlZW4gaXRlbSBwYXRocyBpbiBhIG1hc3RlciBgaXRlbXNgIGFycmF5IGFuZCBhXG4gKiBgc2VsZWN0ZWRgIGFycmF5IHN1Y2ggdGhhdCBwYXRoIGNoYW5nZXMgdG8gdGhlIG1hc3RlciBhcnJheSAoYXQgdGhlIGhvc3QpXG4gKiBlbGVtZW50IG9yIGVsc2V3aGVyZSB2aWEgZGF0YS1iaW5kaW5nKSBhcmUgY29ycmVjdGx5IHByb3BhZ2F0ZWQgdG8gaXRlbXNcbiAqIGluIHRoZSBzZWxlY3RlZCBhcnJheSBhbmQgdmljZS12ZXJzYS5cbiAqXG4gKiBUaGUgYGl0ZW1zYCBwcm9wZXJ0eSBhY2NlcHRzIGFuIGFycmF5IG9mIHVzZXIgZGF0YSwgYW5kIHZpYSB0aGVcbiAqIGBzZWxlY3QoaXRlbSlgIGFuZCBgZGVzZWxlY3QoaXRlbSlgIEFQSSwgdXBkYXRlcyB0aGUgYHNlbGVjdGVkYCBwcm9wZXJ0eVxuICogd2hpY2ggbWF5IGJlIGJvdW5kIHRvIG90aGVyIHBhcnRzIG9mIHRoZSBhcHBsaWNhdGlvbiwgYW5kIGFueSBjaGFuZ2VzIHRvXG4gKiBzdWItZmllbGRzIG9mIGBzZWxlY3RlZGAgaXRlbShzKSB3aWxsIGJlIGtlcHQgaW4gc3luYyB3aXRoIGl0ZW1zIGluIHRoZVxuICogYGl0ZW1zYCBhcnJheS4gIFdoZW4gYG11bHRpYCBpcyBmYWxzZSwgYHNlbGVjdGVkYCBpcyBhIHByb3BlcnR5XG4gKiByZXByZXNlbnRpbmcgdGhlIGxhc3Qgc2VsZWN0ZWQgaXRlbS4gIFdoZW4gYG11bHRpYCBpcyB0cnVlLCBgc2VsZWN0ZWRgXG4gKiBpcyBhbiBhcnJheSBvZiBtdWx0aXBseSBzZWxlY3RlZCBpdGVtcy5cbiAqXG4gKiBFeGFtcGxlOlxuICpcbiAqIGBgYGpzXG4gKiBpbXBvcnQge1BvbHltZXJFbGVtZW50fSBmcm9tICdAcG9seW1lci9wb2x5bWVyJztcbiAqIGltcG9ydCAnQHBvbHltZXIvcG9seW1lci9saWIvZWxlbWVudHMvYXJyYXktc2VsZWN0b3IuanMnO1xuICpcbiAqIGNsYXNzIEVtcGxveWVlTGlzdCBleHRlbmRzIFBvbHltZXJFbGVtZW50IHtcbiAqICAgc3RhdGljIGdldCBfdGVtcGxhdGUoKSB7XG4gKiAgICAgcmV0dXJuIGh0bWxgXG4gKiAgICAgICAgIDxkaXY+IEVtcGxveWVlIGxpc3Q6IDwvZGl2PlxuICogICAgICAgICA8ZG9tLXJlcGVhdCBpZD1cImVtcGxveWVlTGlzdFwiIGl0ZW1zPVwie3tlbXBsb3llZXN9fVwiPlxuICogICAgICAgICAgIDx0ZW1wbGF0ZT5cbiAqICAgICAgICAgICAgIDxkaXY+Rmlyc3QgbmFtZTogPHNwYW4+e3tpdGVtLmZpcnN0fX08L3NwYW4+PC9kaXY+XG4gKiAgICAgICAgICAgICAgIDxkaXY+TGFzdCBuYW1lOiA8c3Bhbj57e2l0ZW0ubGFzdH19PC9zcGFuPjwvZGl2PlxuICogICAgICAgICAgICAgICA8YnV0dG9uIG9uLWNsaWNrPVwidG9nZ2xlU2VsZWN0aW9uXCI+U2VsZWN0PC9idXR0b24+XG4gKiAgICAgICAgICAgPC90ZW1wbGF0ZT5cbiAqICAgICAgICAgPC9kb20tcmVwZWF0PlxuICpcbiAqICAgICAgICAgPGFycmF5LXNlbGVjdG9yIGlkPVwic2VsZWN0b3JcIlxuICogICAgICAgICAgICAgICAgICAgICAgICAgaXRlbXM9XCJ7e2VtcGxveWVlc319XCJcbiAqICAgICAgICAgICAgICAgICAgICAgICAgIHNlbGVjdGVkPVwie3tzZWxlY3RlZH19XCJcbiAqICAgICAgICAgICAgICAgICAgICAgICAgIG11bHRpIHRvZ2dsZT48L2FycmF5LXNlbGVjdG9yPlxuICpcbiAqICAgICAgICAgPGRpdj4gU2VsZWN0ZWQgZW1wbG95ZWVzOiA8L2Rpdj5cbiAqICAgICAgICAgPGRvbS1yZXBlYXQgaXRlbXM9XCJ7e3NlbGVjdGVkfX1cIj5cbiAqICAgICAgICAgICA8dGVtcGxhdGU+XG4gKiAgICAgICAgICAgICA8ZGl2PkZpcnN0IG5hbWU6IDxzcGFuPnt7aXRlbS5maXJzdH19PC9zcGFuPjwvZGl2PlxuICogICAgICAgICAgICAgPGRpdj5MYXN0IG5hbWU6IDxzcGFuPnt7aXRlbS5sYXN0fX08L3NwYW4+PC9kaXY+XG4gKiAgICAgICAgICAgPC90ZW1wbGF0ZT5cbiAqICAgICAgICAgPC9kb20tcmVwZWF0PmA7XG4gKiAgIH1cbiAqICAgc3RhdGljIGdldCBpcygpIHsgcmV0dXJuICdlbXBsb3llZS1saXN0JzsgfVxuICogICBzdGF0aWMgZ2V0IHByb3BlcnRpZXMoKSB7XG4gKiAgICAgcmV0dXJuIHtcbiAqICAgICAgIGVtcGxveWVlczoge1xuICogICAgICAgICB2YWx1ZSgpIHtcbiAqICAgICAgICAgICByZXR1cm4gW1xuICogICAgICAgICAgICAge2ZpcnN0OiAnQm9iJywgbGFzdDogJ1NtaXRoJ30sXG4gKiAgICAgICAgICAgICB7Zmlyc3Q6ICdTYWxseScsIGxhc3Q6ICdKb2huc29uJ30sXG4gKiAgICAgICAgICAgICAuLi5cbiAqICAgICAgICAgICBdO1xuICogICAgICAgICB9XG4gKiAgICAgICB9XG4gKiAgICAgfTtcbiAqICAgfVxuICogICB0b2dnbGVTZWxlY3Rpb24oZSkge1xuICogICAgIGNvbnN0IGl0ZW0gPSB0aGlzLiQuZW1wbG95ZWVMaXN0Lml0ZW1Gb3JFbGVtZW50KGUudGFyZ2V0KTtcbiAqICAgICB0aGlzLiQuc2VsZWN0b3Iuc2VsZWN0KGl0ZW0pO1xuICogICB9XG4gKiB9XG4gKiBgYGBcbiAqXG4gKiBAcG9seW1lclxuICogQGN1c3RvbUVsZW1lbnRcbiAqIEBleHRlbmRzIHtiYXNlQXJyYXlTZWxlY3Rvcn1cbiAqIEBhcHBsaWVzTWl4aW4gQXJyYXlTZWxlY3Rvck1peGluXG4gKiBAc3VtbWFyeSBDdXN0b20gZWxlbWVudCB0aGF0IGxpbmtzIHBhdGhzIGJldHdlZW4gYW4gaW5wdXQgYGl0ZW1zYCBhcnJheSBhbmRcbiAqICAgYW4gb3V0cHV0IGBzZWxlY3RlZGAgaXRlbSBvciBhcnJheSBiYXNlZCBvbiBjYWxscyB0byBpdHMgc2VsZWN0aW9uIEFQSS5cbiAqL1xuY2xhc3MgQXJyYXlTZWxlY3RvciBleHRlbmRzIGJhc2VBcnJheVNlbGVjdG9yIHtcbiAgLy8gTm90IG5lZWRlZCB0byBmaW5kIHRlbXBsYXRlOyBjYW4gYmUgcmVtb3ZlZCBvbmNlIHRoZSBhbmFseXplclxuICAvLyBjYW4gZmluZCB0aGUgdGFnIG5hbWUgZnJvbSBjdXN0b21FbGVtZW50cy5kZWZpbmUgY2FsbFxuICBzdGF0aWMgZ2V0IGlzKCkgeyByZXR1cm4gJ2FycmF5LXNlbGVjdG9yJzsgfVxuICBzdGF0aWMgZ2V0IHRlbXBsYXRlKCkgeyByZXR1cm4gbnVsbDsgfVxufVxuY3VzdG9tRWxlbWVudHMuZGVmaW5lKEFycmF5U2VsZWN0b3IuaXMsIEFycmF5U2VsZWN0b3IpO1xuZXhwb3J0IHsgQXJyYXlTZWxlY3RvciB9O1xuIiwiLyoqXG5AbGljZW5zZVxuQ29weXJpZ2h0IChjKSAyMDE3IFRoZSBQb2x5bWVyIFByb2plY3QgQXV0aG9ycy4gQWxsIHJpZ2h0cyByZXNlcnZlZC5cblRoaXMgY29kZSBtYXkgb25seSBiZSB1c2VkIHVuZGVyIHRoZSBCU0Qgc3R5bGUgbGljZW5zZSBmb3VuZCBhdCBodHRwOi8vcG9seW1lci5naXRodWIuaW8vTElDRU5TRS50eHRcblRoZSBjb21wbGV0ZSBzZXQgb2YgYXV0aG9ycyBtYXkgYmUgZm91bmQgYXQgaHR0cDovL3BvbHltZXIuZ2l0aHViLmlvL0FVVEhPUlMudHh0XG5UaGUgY29tcGxldGUgc2V0IG9mIGNvbnRyaWJ1dG9ycyBtYXkgYmUgZm91bmQgYXQgaHR0cDovL3BvbHltZXIuZ2l0aHViLmlvL0NPTlRSSUJVVE9SUy50eHRcbkNvZGUgZGlzdHJpYnV0ZWQgYnkgR29vZ2xlIGFzIHBhcnQgb2YgdGhlIHBvbHltZXIgcHJvamVjdCBpcyBhbHNvXG5zdWJqZWN0IHRvIGFuIGFkZGl0aW9uYWwgSVAgcmlnaHRzIGdyYW50IGZvdW5kIGF0IGh0dHA6Ly9wb2x5bWVyLmdpdGh1Yi5pby9QQVRFTlRTLnR4dFxuKi9cblxuJ3VzZSBzdHJpY3QnO1xuXG5pbXBvcnQgQ3VzdG9tU3R5bGVJbnRlcmZhY2UgZnJvbSAnLi4vc3JjL2N1c3RvbS1zdHlsZS1pbnRlcmZhY2UuanMnO1xuaW1wb3J0IHtnZXRDb21wdXRlZFN0eWxlVmFsdWUsIHVwZGF0ZU5hdGl2ZVByb3BlcnRpZXN9IGZyb20gJy4uL3NyYy9jb21tb24tdXRpbHMuanMnO1xuaW1wb3J0IHtuYXRpdmVDc3NWYXJpYWJsZXMsIG5hdGl2ZVNoYWRvdywgY3NzQnVpbGQsIGRpc2FibGVSdW50aW1lfSBmcm9tICcuLi9zcmMvc3R5bGUtc2V0dGluZ3MuanMnO1xuXG5jb25zdCBjdXN0b21TdHlsZUludGVyZmFjZSA9IG5ldyBDdXN0b21TdHlsZUludGVyZmFjZSgpO1xuXG5pZiAoIXdpbmRvdy5TaGFkeUNTUykge1xuICB3aW5kb3cuU2hhZHlDU1MgPSB7XG4gICAgLyoqXG4gICAgICogQHBhcmFtIHshSFRNTFRlbXBsYXRlRWxlbWVudH0gdGVtcGxhdGVcbiAgICAgKiBAcGFyYW0ge3N0cmluZ30gZWxlbWVudE5hbWVcbiAgICAgKiBAcGFyYW0ge3N0cmluZz19IGVsZW1lbnRFeHRlbmRzXG4gICAgICovXG4gICAgcHJlcGFyZVRlbXBsYXRlKHRlbXBsYXRlLCBlbGVtZW50TmFtZSwgZWxlbWVudEV4dGVuZHMpIHt9LCAvLyBlc2xpbnQtZGlzYWJsZS1saW5lIG5vLXVudXNlZC12YXJzXG5cbiAgICAvKipcbiAgICAgKiBAcGFyYW0geyFIVE1MVGVtcGxhdGVFbGVtZW50fSB0ZW1wbGF0ZVxuICAgICAqIEBwYXJhbSB7c3RyaW5nfSBlbGVtZW50TmFtZVxuICAgICAqL1xuICAgIHByZXBhcmVUZW1wbGF0ZURvbSh0ZW1wbGF0ZSwgZWxlbWVudE5hbWUpIHt9LCAvLyBlc2xpbnQtZGlzYWJsZS1saW5lIG5vLXVudXNlZC12YXJzXG5cbiAgICAvKipcbiAgICAgKiBAcGFyYW0geyFIVE1MVGVtcGxhdGVFbGVtZW50fSB0ZW1wbGF0ZVxuICAgICAqIEBwYXJhbSB7c3RyaW5nfSBlbGVtZW50TmFtZVxuICAgICAqIEBwYXJhbSB7c3RyaW5nPX0gZWxlbWVudEV4dGVuZHNcbiAgICAgKi9cbiAgICBwcmVwYXJlVGVtcGxhdGVTdHlsZXModGVtcGxhdGUsIGVsZW1lbnROYW1lLCBlbGVtZW50RXh0ZW5kcykge30sIC8vIGVzbGludC1kaXNhYmxlLWxpbmUgbm8tdW51c2VkLXZhcnNcblxuICAgIC8qKlxuICAgICAqIEBwYXJhbSB7RWxlbWVudH0gZWxlbWVudFxuICAgICAqIEBwYXJhbSB7T2JqZWN0PX0gcHJvcGVydGllc1xuICAgICAqL1xuICAgIHN0eWxlU3VidHJlZShlbGVtZW50LCBwcm9wZXJ0aWVzKSB7XG4gICAgICBjdXN0b21TdHlsZUludGVyZmFjZS5wcm9jZXNzU3R5bGVzKCk7XG4gICAgICB1cGRhdGVOYXRpdmVQcm9wZXJ0aWVzKGVsZW1lbnQsIHByb3BlcnRpZXMpO1xuICAgIH0sXG5cbiAgICAvKipcbiAgICAgKiBAcGFyYW0ge0VsZW1lbnR9IGVsZW1lbnRcbiAgICAgKi9cbiAgICBzdHlsZUVsZW1lbnQoZWxlbWVudCkgeyAvLyBlc2xpbnQtZGlzYWJsZS1saW5lIG5vLXVudXNlZC12YXJzXG4gICAgICBjdXN0b21TdHlsZUludGVyZmFjZS5wcm9jZXNzU3R5bGVzKCk7XG4gICAgfSxcblxuICAgIC8qKlxuICAgICAqIEBwYXJhbSB7T2JqZWN0PX0gcHJvcGVydGllc1xuICAgICAqL1xuICAgIHN0eWxlRG9jdW1lbnQocHJvcGVydGllcykge1xuICAgICAgY3VzdG9tU3R5bGVJbnRlcmZhY2UucHJvY2Vzc1N0eWxlcygpO1xuICAgICAgdXBkYXRlTmF0aXZlUHJvcGVydGllcyhkb2N1bWVudC5ib2R5LCBwcm9wZXJ0aWVzKTtcbiAgICB9LFxuXG4gICAgLyoqXG4gICAgICogQHBhcmFtIHtFbGVtZW50fSBlbGVtZW50XG4gICAgICogQHBhcmFtIHtzdHJpbmd9IHByb3BlcnR5XG4gICAgICogQHJldHVybiB7c3RyaW5nfVxuICAgICAqL1xuICAgIGdldENvbXB1dGVkU3R5bGVWYWx1ZShlbGVtZW50LCBwcm9wZXJ0eSkge1xuICAgICAgcmV0dXJuIGdldENvbXB1dGVkU3R5bGVWYWx1ZShlbGVtZW50LCBwcm9wZXJ0eSk7XG4gICAgfSxcblxuICAgIGZsdXNoQ3VzdG9tU3R5bGVzKCkge30sXG4gICAgbmF0aXZlQ3NzOiBuYXRpdmVDc3NWYXJpYWJsZXMsXG4gICAgbmF0aXZlU2hhZG93OiBuYXRpdmVTaGFkb3csXG4gICAgY3NzQnVpbGQ6IGNzc0J1aWxkLFxuICAgIGRpc2FibGVSdW50aW1lOiBkaXNhYmxlUnVudGltZSxcbiAgfVxufVxuXG53aW5kb3cuU2hhZHlDU1MuQ3VzdG9tU3R5bGVJbnRlcmZhY2UgPSBjdXN0b21TdHlsZUludGVyZmFjZTsiLCIvKipcbkBsaWNlbnNlXG5Db3B5cmlnaHQgKGMpIDIwMTcgVGhlIFBvbHltZXIgUHJvamVjdCBBdXRob3JzLiBBbGwgcmlnaHRzIHJlc2VydmVkLlxuVGhpcyBjb2RlIG1heSBvbmx5IGJlIHVzZWQgdW5kZXIgdGhlIEJTRCBzdHlsZSBsaWNlbnNlIGZvdW5kIGF0IGh0dHA6Ly9wb2x5bWVyLmdpdGh1Yi5pby9MSUNFTlNFLnR4dFxuVGhlIGNvbXBsZXRlIHNldCBvZiBhdXRob3JzIG1heSBiZSBmb3VuZCBhdCBodHRwOi8vcG9seW1lci5naXRodWIuaW8vQVVUSE9SUy50eHRcblRoZSBjb21wbGV0ZSBzZXQgb2YgY29udHJpYnV0b3JzIG1heSBiZSBmb3VuZCBhdCBodHRwOi8vcG9seW1lci5naXRodWIuaW8vQ09OVFJJQlVUT1JTLnR4dFxuQ29kZSBkaXN0cmlidXRlZCBieSBHb29nbGUgYXMgcGFydCBvZiB0aGUgcG9seW1lciBwcm9qZWN0IGlzIGFsc29cbnN1YmplY3QgdG8gYW4gYWRkaXRpb25hbCBJUCByaWdodHMgZ3JhbnQgZm91bmQgYXQgaHR0cDovL3BvbHltZXIuZ2l0aHViLmlvL1BBVEVOVFMudHh0XG4qL1xuaW1wb3J0ICdAd2ViY29tcG9uZW50cy9zaGFkeWNzcy9lbnRyeXBvaW50cy9jdXN0b20tc3R5bGUtaW50ZXJmYWNlLmpzJztcblxuaW1wb3J0IHsgY3NzRnJvbU1vZHVsZXMgfSBmcm9tICcuLi91dGlscy9zdHlsZS1nYXRoZXIuanMnO1xuXG5jb25zdCBhdHRyID0gJ2luY2x1ZGUnO1xuXG5jb25zdCBDdXN0b21TdHlsZUludGVyZmFjZSA9IHdpbmRvdy5TaGFkeUNTUy5DdXN0b21TdHlsZUludGVyZmFjZTtcblxuLyoqXG4gKiBDdXN0b20gZWxlbWVudCBmb3IgZGVmaW5pbmcgc3R5bGVzIGluIHRoZSBtYWluIGRvY3VtZW50IHRoYXQgY2FuIHRha2VcbiAqIGFkdmFudGFnZSBvZiBbc2hhZHkgRE9NXShodHRwczovL2dpdGh1Yi5jb20vd2ViY29tcG9uZW50cy9zaGFkeWNzcykgc2hpbXNcbiAqIGZvciBzdHlsZSBlbmNhcHN1bGF0aW9uLCBjdXN0b20gcHJvcGVydGllcywgYW5kIGN1c3RvbSBtaXhpbnMuXG4gKlxuICogLSBEb2N1bWVudCBzdHlsZXMgZGVmaW5lZCBpbiBhIGA8Y3VzdG9tLXN0eWxlPmAgYXJlIHNoaW1tZWQgdG8gZW5zdXJlIHRoZXlcbiAqICAgZG8gbm90IGxlYWsgaW50byBsb2NhbCBET00gd2hlbiBydW5uaW5nIG9uIGJyb3dzZXJzIHdpdGhvdXQgbmF0aXZlXG4gKiAgIFNoYWRvdyBET00uXG4gKiAtIEN1c3RvbSBwcm9wZXJ0aWVzIGNhbiBiZSBkZWZpbmVkIGluIGEgYDxjdXN0b20tc3R5bGU+YC4gVXNlIHRoZSBgaHRtbGAgc2VsZWN0b3JcbiAqICAgdG8gZGVmaW5lIGN1c3RvbSBwcm9wZXJ0aWVzIHRoYXQgYXBwbHkgdG8gYWxsIGN1c3RvbSBlbGVtZW50cy5cbiAqIC0gQ3VzdG9tIG1peGlucyBjYW4gYmUgZGVmaW5lZCBpbiBhIGA8Y3VzdG9tLXN0eWxlPmAsIGlmIHlvdSBpbXBvcnQgdGhlIG9wdGlvbmFsXG4gKiAgIFthcHBseSBzaGltXShodHRwczovL2dpdGh1Yi5jb20vd2ViY29tcG9uZW50cy9zaGFkeWNzcyNhYm91dC1hcHBseXNoaW0pXG4gKiAgIChgc2hhZHljc3MvYXBwbHktc2hpbS5odG1sYCkuXG4gKlxuICogVG8gdXNlOlxuICpcbiAqIC0gSW1wb3J0IGBjdXN0b20tc3R5bGUuaHRtbGAuXG4gKiAtIFBsYWNlIGEgYDxjdXN0b20tc3R5bGU+YCBlbGVtZW50IGluIHRoZSBtYWluIGRvY3VtZW50LCB3cmFwcGluZyBhbiBpbmxpbmUgYDxzdHlsZT5gIHRhZyB0aGF0XG4gKiAgIGNvbnRhaW5zIHRoZSBDU1MgcnVsZXMgeW91IHdhbnQgdG8gc2hpbS5cbiAqXG4gKiBGb3IgZXhhbXBsZTpcbiAqXG4gKiBgYGBodG1sXG4gKiA8IS0tIGltcG9ydCBhcHBseSBzaGltLS1vbmx5IHJlcXVpcmVkIGlmIHVzaW5nIG1peGlucyAtLT5cbiAqIDxsaW5rIHJlbD1cImltcG9ydFwiIGhyZWY9XCJib3dlcl9jb21wb25lbnRzL3NoYWR5Y3NzL2FwcGx5LXNoaW0uaHRtbFwiPlxuICogPCEtLSBpbXBvcnQgY3VzdG9tLXN0eWxlIGVsZW1lbnQgLS0+XG4gKiA8bGluayByZWw9XCJpbXBvcnRcIiBocmVmPVwiYm93ZXJfY29tcG9uZW50cy9wb2x5bWVyL2xpYi9lbGVtZW50cy9jdXN0b20tc3R5bGUuaHRtbFwiPlxuICpcbiAqIDxjdXN0b20tc3R5bGU+XG4gKiAgIDxzdHlsZT5cbiAqICAgICBodG1sIHtcbiAqICAgICAgIC0tY3VzdG9tLWNvbG9yOiBibHVlO1xuICogICAgICAgLS1jdXN0b20tbWl4aW46IHtcbiAqICAgICAgICAgZm9udC13ZWlnaHQ6IGJvbGQ7XG4gKiAgICAgICAgIGNvbG9yOiByZWQ7XG4gKiAgICAgICB9O1xuICogICAgIH1cbiAqICAgPC9zdHlsZT5cbiAqIDwvY3VzdG9tLXN0eWxlPlxuICogYGBgXG4gKlxuICogQGN1c3RvbUVsZW1lbnRcbiAqIEBleHRlbmRzIEhUTUxFbGVtZW50XG4gKiBAc3VtbWFyeSBDdXN0b20gZWxlbWVudCBmb3IgZGVmaW5pbmcgc3R5bGVzIGluIHRoZSBtYWluIGRvY3VtZW50IHRoYXQgY2FuXG4gKiAgIHRha2UgYWR2YW50YWdlIG9mIFBvbHltZXIncyBzdHlsZSBzY29waW5nIGFuZCBjdXN0b20gcHJvcGVydGllcyBzaGltcy5cbiAqL1xuZXhwb3J0IGNsYXNzIEN1c3RvbVN0eWxlIGV4dGVuZHMgSFRNTEVsZW1lbnQge1xuICBjb25zdHJ1Y3RvcigpIHtcbiAgICBzdXBlcigpO1xuICAgIHRoaXMuX3N0eWxlID0gbnVsbDtcbiAgICBDdXN0b21TdHlsZUludGVyZmFjZS5hZGRDdXN0b21TdHlsZSh0aGlzKTtcbiAgfVxuICAvKipcbiAgICogUmV0dXJucyB0aGUgbGlnaHQtRE9NIGA8c3R5bGU+YCBjaGlsZCB0aGlzIGVsZW1lbnQgd3JhcHMuICBVcG9uIGZpcnN0XG4gICAqIGNhbGwgYW55IHN0eWxlIG1vZHVsZXMgcmVmZXJlbmNlZCB2aWEgdGhlIGBpbmNsdWRlYCBhdHRyaWJ1dGUgd2lsbCBiZVxuICAgKiBjb25jYXRlbmF0ZWQgdG8gdGhpcyBlbGVtZW50J3MgYDxzdHlsZT5gLlxuICAgKlxuICAgKiBAZXhwb3J0XG4gICAqIEByZXR1cm4ge0hUTUxTdHlsZUVsZW1lbnR9IFRoaXMgZWxlbWVudCdzIGxpZ2h0LURPTSBgPHN0eWxlPmBcbiAgICovXG4gIGdldFN0eWxlKCkge1xuICAgIGlmICh0aGlzLl9zdHlsZSkge1xuICAgICAgcmV0dXJuIHRoaXMuX3N0eWxlO1xuICAgIH1cbiAgICBjb25zdCBzdHlsZSA9IC8qKiBAdHlwZSB7SFRNTFN0eWxlRWxlbWVudH0gKi8odGhpcy5xdWVyeVNlbGVjdG9yKCdzdHlsZScpKTtcbiAgICBpZiAoIXN0eWxlKSB7XG4gICAgICByZXR1cm4gbnVsbDtcbiAgICB9XG4gICAgdGhpcy5fc3R5bGUgPSBzdHlsZTtcbiAgICBjb25zdCBpbmNsdWRlID0gc3R5bGUuZ2V0QXR0cmlidXRlKGF0dHIpO1xuICAgIGlmIChpbmNsdWRlKSB7XG4gICAgICBzdHlsZS5yZW1vdmVBdHRyaWJ1dGUoYXR0cik7XG4gICAgICBzdHlsZS50ZXh0Q29udGVudCA9IGNzc0Zyb21Nb2R1bGVzKGluY2x1ZGUpICsgc3R5bGUudGV4dENvbnRlbnQ7XG4gICAgfVxuICAgIC8qXG4gICAgSFRNTCBJbXBvcnRzIHN0eWxpbmcgdGhlIG1haW4gZG9jdW1lbnQgYXJlIGRlcHJlY2F0ZWQgaW4gQ2hyb21lXG4gICAgaHR0cHM6Ly9jcmJ1Zy5jb20vNTIzOTUyXG5cbiAgICBJZiB0aGlzIGVsZW1lbnQgaXMgbm90IGluIHRoZSBtYWluIGRvY3VtZW50LCB0aGVuIGl0IG11c3QgYmUgaW4gYW4gSFRNTCBJbXBvcnQgZG9jdW1lbnQuXG4gICAgSW4gdGhhdCBjYXNlLCBtb3ZlIHRoZSBjdXN0b20gc3R5bGUgdG8gdGhlIG1haW4gZG9jdW1lbnQuXG5cbiAgICBUaGUgb3JkZXJpbmcgb2YgYDxjdXN0b20tc3R5bGU+YCBzaG91bGQgc3RheSB0aGUgc2FtZSBhcyB3aGVuIGxvYWRlZCBieSBIVE1MIEltcG9ydHMsIGJ1dCB0aGVyZSBtYXkgYmUgb2RkXG4gICAgY2FzZXMgb2Ygb3JkZXJpbmcgdy5yLnQgdGhlIG1haW4gZG9jdW1lbnQgc3R5bGVzLlxuICAgICovXG4gICAgaWYgKHRoaXMub3duZXJEb2N1bWVudCAhPT0gd2luZG93LmRvY3VtZW50KSB7XG4gICAgICB3aW5kb3cuZG9jdW1lbnQuaGVhZC5hcHBlbmRDaGlsZCh0aGlzKTtcbiAgICB9XG4gICAgcmV0dXJuIHRoaXMuX3N0eWxlO1xuICB9XG59XG5cbndpbmRvdy5jdXN0b21FbGVtZW50cy5kZWZpbmUoJ2N1c3RvbS1zdHlsZScsIEN1c3RvbVN0eWxlKTtcbiIsIi8qKlxuQGxpY2Vuc2VcbkNvcHlyaWdodCAoYykgMjAxNyBUaGUgUG9seW1lciBQcm9qZWN0IEF1dGhvcnMuIEFsbCByaWdodHMgcmVzZXJ2ZWQuXG5UaGlzIGNvZGUgbWF5IG9ubHkgYmUgdXNlZCB1bmRlciB0aGUgQlNEIHN0eWxlIGxpY2Vuc2UgZm91bmQgYXQgaHR0cDovL3BvbHltZXIuZ2l0aHViLmlvL0xJQ0VOU0UudHh0XG5UaGUgY29tcGxldGUgc2V0IG9mIGF1dGhvcnMgbWF5IGJlIGZvdW5kIGF0IGh0dHA6Ly9wb2x5bWVyLmdpdGh1Yi5pby9BVVRIT1JTLnR4dFxuVGhlIGNvbXBsZXRlIHNldCBvZiBjb250cmlidXRvcnMgbWF5IGJlIGZvdW5kIGF0IGh0dHA6Ly9wb2x5bWVyLmdpdGh1Yi5pby9DT05UUklCVVRPUlMudHh0XG5Db2RlIGRpc3RyaWJ1dGVkIGJ5IEdvb2dsZSBhcyBwYXJ0IG9mIHRoZSBwb2x5bWVyIHByb2plY3QgaXMgYWxzb1xuc3ViamVjdCB0byBhbiBhZGRpdGlvbmFsIElQIHJpZ2h0cyBncmFudCBmb3VuZCBhdCBodHRwOi8vcG9seW1lci5naXRodWIuaW8vUEFURU5UUy50eHRcbiovXG5pbXBvcnQgeyBNdXRhYmxlRGF0YSB9IGZyb20gJy4uL21peGlucy9tdXRhYmxlLWRhdGEuanMnO1xuXG5sZXQgbXV0YWJsZVByb3BlcnR5Q2hhbmdlO1xuLyoqIEBzdXBwcmVzcyB7bWlzc2luZ1Byb3BlcnRpZXN9ICovXG4oKCkgPT4ge1xuICBtdXRhYmxlUHJvcGVydHlDaGFuZ2UgPSBNdXRhYmxlRGF0YS5fbXV0YWJsZVByb3BlcnR5Q2hhbmdlO1xufSkoKTtcblxuLyoqXG4gKiBMZWdhY3kgZWxlbWVudCBiZWhhdmlvciB0byBza2lwIHN0cmljdCBkaXJ0eS1jaGVja2luZyBmb3Igb2JqZWN0cyBhbmQgYXJyYXlzLFxuICogKGFsd2F5cyBjb25zaWRlciB0aGVtIHRvIGJlIFwiZGlydHlcIikgZm9yIHVzZSBvbiBsZWdhY3kgQVBJIFBvbHltZXIgZWxlbWVudHMuXG4gKlxuICogQnkgZGVmYXVsdCwgYFBvbHltZXIuUHJvcGVydHlFZmZlY3RzYCBwZXJmb3JtcyBzdHJpY3QgZGlydHkgY2hlY2tpbmcgb25cbiAqIG9iamVjdHMsIHdoaWNoIG1lYW5zIHRoYXQgYW55IGRlZXAgbW9kaWZpY2F0aW9ucyB0byBhbiBvYmplY3Qgb3IgYXJyYXkgd2lsbFxuICogbm90IGJlIHByb3BhZ2F0ZWQgdW5sZXNzIFwiaW1tdXRhYmxlXCIgZGF0YSBwYXR0ZXJucyBhcmUgdXNlZCAoaS5lLiBhbGwgb2JqZWN0XG4gKiByZWZlcmVuY2VzIGZyb20gdGhlIHJvb3QgdG8gdGhlIG11dGF0aW9uIHdlcmUgY2hhbmdlZCkuXG4gKlxuICogUG9seW1lciBhbHNvIHByb3ZpZGVzIGEgcHJvcHJpZXRhcnkgZGF0YSBtdXRhdGlvbiBhbmQgcGF0aCBub3RpZmljYXRpb24gQVBJXG4gKiAoZS5nLiBgbm90aWZ5UGF0aGAsIGBzZXRgLCBhbmQgYXJyYXkgbXV0YXRpb24gQVBJJ3MpIHRoYXQgYWxsb3cgZWZmaWNpZW50XG4gKiBtdXRhdGlvbiBhbmQgbm90aWZpY2F0aW9uIG9mIGRlZXAgY2hhbmdlcyBpbiBhbiBvYmplY3QgZ3JhcGggdG8gYWxsIGVsZW1lbnRzXG4gKiBib3VuZCB0byB0aGUgc2FtZSBvYmplY3QgZ3JhcGguXG4gKlxuICogSW4gY2FzZXMgd2hlcmUgbmVpdGhlciBpbW11dGFibGUgcGF0dGVybnMgbm9yIHRoZSBkYXRhIG11dGF0aW9uIEFQSSBjYW4gYmVcbiAqIHVzZWQsIGFwcGx5aW5nIHRoaXMgbWl4aW4gd2lsbCBjYXVzZSBQb2x5bWVyIHRvIHNraXAgZGlydHkgY2hlY2tpbmcgZm9yXG4gKiBvYmplY3RzIGFuZCBhcnJheXMgKGFsd2F5cyBjb25zaWRlciB0aGVtIHRvIGJlIFwiZGlydHlcIikuICBUaGlzIGFsbG93cyBhXG4gKiB1c2VyIHRvIG1ha2UgYSBkZWVwIG1vZGlmaWNhdGlvbiB0byBhIGJvdW5kIG9iamVjdCBncmFwaCwgYW5kIHRoZW4gZWl0aGVyXG4gKiBzaW1wbHkgcmUtc2V0IHRoZSBvYmplY3QgKGUuZy4gYHRoaXMuaXRlbXMgPSB0aGlzLml0ZW1zYCkgb3IgY2FsbCBgbm90aWZ5UGF0aGBcbiAqIChlLmcuIGB0aGlzLm5vdGlmeVBhdGgoJ2l0ZW1zJylgKSB0byB1cGRhdGUgdGhlIHRyZWUuICBOb3RlIHRoYXQgYWxsXG4gKiBlbGVtZW50cyB0aGF0IHdpc2ggdG8gYmUgdXBkYXRlZCBiYXNlZCBvbiBkZWVwIG11dGF0aW9ucyBtdXN0IGFwcGx5IHRoaXNcbiAqIG1peGluIG9yIG90aGVyd2lzZSBza2lwIHN0cmljdCBkaXJ0eSBjaGVja2luZyBmb3Igb2JqZWN0cy9hcnJheXMuXG4gKiBTcGVjaWZpY2FsbHksIGFueSBlbGVtZW50cyBpbiB0aGUgYmluZGluZyB0cmVlIGJldHdlZW4gdGhlIHNvdXJjZSBvZiBhXG4gKiBtdXRhdGlvbiBhbmQgdGhlIGNvbnN1bXB0aW9uIG9mIGl0IG11c3QgYXBwbHkgdGhpcyBiZWhhdmlvciBvciBlbmFibGUgdGhlXG4gKiBgUG9seW1lci5PcHRpb25hbE11dGFibGVEYXRhQmVoYXZpb3JgLlxuICpcbiAqIEluIG9yZGVyIHRvIG1ha2UgdGhlIGRpcnR5IGNoZWNrIHN0cmF0ZWd5IGNvbmZpZ3VyYWJsZSwgc2VlXG4gKiBgUG9seW1lci5PcHRpb25hbE11dGFibGVEYXRhQmVoYXZpb3JgLlxuICpcbiAqIE5vdGUsIHRoZSBwZXJmb3JtYW5jZSBjaGFyYWN0ZXJpc3RpY3Mgb2YgcHJvcGFnYXRpbmcgbGFyZ2Ugb2JqZWN0IGdyYXBoc1xuICogd2lsbCBiZSB3b3JzZSBhcyBvcHBvc2VkIHRvIHVzaW5nIHN0cmljdCBkaXJ0eSBjaGVja2luZyB3aXRoIGltbXV0YWJsZVxuICogcGF0dGVybnMgb3IgUG9seW1lcidzIHBhdGggbm90aWZpY2F0aW9uIEFQSS5cbiAqXG4gKiBAcG9seW1lckJlaGF2aW9yXG4gKiBAc3VtbWFyeSBCZWhhdmlvciB0byBza2lwIHN0cmljdCBkaXJ0eS1jaGVja2luZyBmb3Igb2JqZWN0cyBhbmRcbiAqICAgYXJyYXlzXG4gKi9cbmV4cG9ydCBjb25zdCBNdXRhYmxlRGF0YUJlaGF2aW9yID0ge1xuXG4gIC8qKlxuICAgKiBPdmVycmlkZXMgYFBvbHltZXIuUHJvcGVydHlFZmZlY3RzYCB0byBwcm92aWRlIG9wdGlvbiBmb3Igc2tpcHBpbmdcbiAgICogc3RyaWN0IGVxdWFsaXR5IGNoZWNraW5nIGZvciBPYmplY3RzIGFuZCBBcnJheXMuXG4gICAqXG4gICAqIFRoaXMgbWV0aG9kIHB1bGxzIHRoZSB2YWx1ZSB0byBkaXJ0eSBjaGVjayBhZ2FpbnN0IGZyb20gdGhlIGBfX2RhdGFUZW1wYFxuICAgKiBjYWNoZSAocmF0aGVyIHRoYW4gdGhlIG5vcm1hbCBgX19kYXRhYCBjYWNoZSkgZm9yIE9iamVjdHMuICBTaW5jZSB0aGUgdGVtcFxuICAgKiBjYWNoZSBpcyBjbGVhcmVkIGF0IHRoZSBlbmQgb2YgYSB0dXJuLCB0aGlzIGltcGxlbWVudGF0aW9uIGFsbG93c1xuICAgKiBzaWRlLWVmZmVjdHMgb2YgZGVlcCBvYmplY3QgY2hhbmdlcyB0byBiZSBwcm9jZXNzZWQgYnkgcmUtc2V0dGluZyB0aGVcbiAgICogc2FtZSBvYmplY3QgKHVzaW5nIHRoZSB0ZW1wIGNhY2hlIGFzIGFuIGluLXR1cm4gYmFja3N0b3AgdG8gcHJldmVudFxuICAgKiBjeWNsZXMgZHVlIHRvIDItd2F5IG5vdGlmaWNhdGlvbikuXG4gICAqXG4gICAqIEBwYXJhbSB7c3RyaW5nfSBwcm9wZXJ0eSBQcm9wZXJ0eSBuYW1lXG4gICAqIEBwYXJhbSB7Kn0gdmFsdWUgTmV3IHByb3BlcnR5IHZhbHVlXG4gICAqIEBwYXJhbSB7Kn0gb2xkIFByZXZpb3VzIHByb3BlcnR5IHZhbHVlXG4gICAqIEByZXR1cm4ge2Jvb2xlYW59IFdoZXRoZXIgdGhlIHByb3BlcnR5IHNob3VsZCBiZSBjb25zaWRlcmVkIGEgY2hhbmdlXG4gICAqIEBwcm90ZWN0ZWRcbiAgICovXG4gIF9zaG91bGRQcm9wZXJ0eUNoYW5nZShwcm9wZXJ0eSwgdmFsdWUsIG9sZCkge1xuICAgIHJldHVybiBtdXRhYmxlUHJvcGVydHlDaGFuZ2UodGhpcywgcHJvcGVydHksIHZhbHVlLCBvbGQsIHRydWUpO1xuICB9XG59O1xuXG4vKipcbiAqIExlZ2FjeSBlbGVtZW50IGJlaGF2aW9yIHRvIGFkZCB0aGUgb3B0aW9uYWwgYWJpbGl0eSB0byBza2lwIHN0cmljdFxuICogZGlydHktY2hlY2tpbmcgZm9yIG9iamVjdHMgYW5kIGFycmF5cyAoYWx3YXlzIGNvbnNpZGVyIHRoZW0gdG8gYmVcbiAqIFwiZGlydHlcIikgYnkgc2V0dGluZyBhIGBtdXRhYmxlLWRhdGFgIGF0dHJpYnV0ZSBvbiBhbiBlbGVtZW50IGluc3RhbmNlLlxuICpcbiAqIEJ5IGRlZmF1bHQsIGBQb2x5bWVyLlByb3BlcnR5RWZmZWN0c2AgcGVyZm9ybXMgc3RyaWN0IGRpcnR5IGNoZWNraW5nIG9uXG4gKiBvYmplY3RzLCB3aGljaCBtZWFucyB0aGF0IGFueSBkZWVwIG1vZGlmaWNhdGlvbnMgdG8gYW4gb2JqZWN0IG9yIGFycmF5IHdpbGxcbiAqIG5vdCBiZSBwcm9wYWdhdGVkIHVubGVzcyBcImltbXV0YWJsZVwiIGRhdGEgcGF0dGVybnMgYXJlIHVzZWQgKGkuZS4gYWxsIG9iamVjdFxuICogcmVmZXJlbmNlcyBmcm9tIHRoZSByb290IHRvIHRoZSBtdXRhdGlvbiB3ZXJlIGNoYW5nZWQpLlxuICpcbiAqIFBvbHltZXIgYWxzbyBwcm92aWRlcyBhIHByb3ByaWV0YXJ5IGRhdGEgbXV0YXRpb24gYW5kIHBhdGggbm90aWZpY2F0aW9uIEFQSVxuICogKGUuZy4gYG5vdGlmeVBhdGhgLCBgc2V0YCwgYW5kIGFycmF5IG11dGF0aW9uIEFQSSdzKSB0aGF0IGFsbG93IGVmZmljaWVudFxuICogbXV0YXRpb24gYW5kIG5vdGlmaWNhdGlvbiBvZiBkZWVwIGNoYW5nZXMgaW4gYW4gb2JqZWN0IGdyYXBoIHRvIGFsbCBlbGVtZW50c1xuICogYm91bmQgdG8gdGhlIHNhbWUgb2JqZWN0IGdyYXBoLlxuICpcbiAqIEluIGNhc2VzIHdoZXJlIG5laXRoZXIgaW1tdXRhYmxlIHBhdHRlcm5zIG5vciB0aGUgZGF0YSBtdXRhdGlvbiBBUEkgY2FuIGJlXG4gKiB1c2VkLCBhcHBseWluZyB0aGlzIG1peGluIHdpbGwgYWxsb3cgUG9seW1lciB0byBza2lwIGRpcnR5IGNoZWNraW5nIGZvclxuICogb2JqZWN0cyBhbmQgYXJyYXlzIChhbHdheXMgY29uc2lkZXIgdGhlbSB0byBiZSBcImRpcnR5XCIpLiAgVGhpcyBhbGxvd3MgYVxuICogdXNlciB0byBtYWtlIGEgZGVlcCBtb2RpZmljYXRpb24gdG8gYSBib3VuZCBvYmplY3QgZ3JhcGgsIGFuZCB0aGVuIGVpdGhlclxuICogc2ltcGx5IHJlLXNldCB0aGUgb2JqZWN0IChlLmcuIGB0aGlzLml0ZW1zID0gdGhpcy5pdGVtc2ApIG9yIGNhbGwgYG5vdGlmeVBhdGhgXG4gKiAoZS5nLiBgdGhpcy5ub3RpZnlQYXRoKCdpdGVtcycpYCkgdG8gdXBkYXRlIHRoZSB0cmVlLiAgTm90ZSB0aGF0IGFsbFxuICogZWxlbWVudHMgdGhhdCB3aXNoIHRvIGJlIHVwZGF0ZWQgYmFzZWQgb24gZGVlcCBtdXRhdGlvbnMgbXVzdCBhcHBseSB0aGlzXG4gKiBtaXhpbiBvciBvdGhlcndpc2Ugc2tpcCBzdHJpY3QgZGlydHkgY2hlY2tpbmcgZm9yIG9iamVjdHMvYXJyYXlzLlxuICogU3BlY2lmaWNhbGx5LCBhbnkgZWxlbWVudHMgaW4gdGhlIGJpbmRpbmcgdHJlZSBiZXR3ZWVuIHRoZSBzb3VyY2Ugb2YgYVxuICogbXV0YXRpb24gYW5kIHRoZSBjb25zdW1wdGlvbiBvZiBpdCBtdXN0IGVuYWJsZSB0aGlzIGJlaGF2aW9yIG9yIGFwcGx5IHRoZVxuICogYFBvbHltZXIuT3B0aW9uYWxNdXRhYmxlRGF0YUJlaGF2aW9yYC5cbiAqXG4gKiBXaGlsZSB0aGlzIGJlaGF2aW9yIGFkZHMgdGhlIGFiaWxpdHkgdG8gZm9yZ28gT2JqZWN0L0FycmF5IGRpcnR5IGNoZWNraW5nLFxuICogdGhlIGBtdXRhYmxlRGF0YWAgZmxhZyBkZWZhdWx0cyB0byBmYWxzZSBhbmQgbXVzdCBiZSBzZXQgb24gdGhlIGluc3RhbmNlLlxuICpcbiAqIE5vdGUsIHRoZSBwZXJmb3JtYW5jZSBjaGFyYWN0ZXJpc3RpY3Mgb2YgcHJvcGFnYXRpbmcgbGFyZ2Ugb2JqZWN0IGdyYXBoc1xuICogd2lsbCBiZSB3b3JzZSBieSByZWx5aW5nIG9uIGBtdXRhYmxlRGF0YTogdHJ1ZWAgYXMgb3Bwb3NlZCB0byB1c2luZ1xuICogc3RyaWN0IGRpcnR5IGNoZWNraW5nIHdpdGggaW1tdXRhYmxlIHBhdHRlcm5zIG9yIFBvbHltZXIncyBwYXRoIG5vdGlmaWNhdGlvblxuICogQVBJLlxuICpcbiAqIEBwb2x5bWVyQmVoYXZpb3JcbiAqIEBzdW1tYXJ5IEJlaGF2aW9yIHRvIG9wdGlvbmFsbHkgc2tpcCBzdHJpY3QgZGlydHktY2hlY2tpbmcgZm9yIG9iamVjdHMgYW5kXG4gKiAgIGFycmF5c1xuICovXG5leHBvcnQgY29uc3QgT3B0aW9uYWxNdXRhYmxlRGF0YUJlaGF2aW9yID0ge1xuXG4gIHByb3BlcnRpZXM6IHtcbiAgICAvKipcbiAgICAgKiBJbnN0YW5jZS1sZXZlbCBmbGFnIGZvciBjb25maWd1cmluZyB0aGUgZGlydHktY2hlY2tpbmcgc3RyYXRlZ3lcbiAgICAgKiBmb3IgdGhpcyBlbGVtZW50LiAgV2hlbiB0cnVlLCBPYmplY3RzIGFuZCBBcnJheXMgd2lsbCBza2lwIGRpcnR5XG4gICAgICogY2hlY2tpbmcsIG90aGVyd2lzZSBzdHJpY3QgZXF1YWxpdHkgY2hlY2tpbmcgd2lsbCBiZSB1c2VkLlxuICAgICAqL1xuICAgIG11dGFibGVEYXRhOiBCb29sZWFuXG4gIH0sXG5cbiAgLyoqXG4gICAqIE92ZXJyaWRlcyBgUG9seW1lci5Qcm9wZXJ0eUVmZmVjdHNgIHRvIHNraXAgc3RyaWN0IGVxdWFsaXR5IGNoZWNraW5nXG4gICAqIGZvciBPYmplY3RzIGFuZCBBcnJheXMuXG4gICAqXG4gICAqIFB1bGxzIHRoZSB2YWx1ZSB0byBkaXJ0eSBjaGVjayBhZ2FpbnN0IGZyb20gdGhlIGBfX2RhdGFUZW1wYCBjYWNoZVxuICAgKiAocmF0aGVyIHRoYW4gdGhlIG5vcm1hbCBgX19kYXRhYCBjYWNoZSkgZm9yIE9iamVjdHMuICBTaW5jZSB0aGUgdGVtcFxuICAgKiBjYWNoZSBpcyBjbGVhcmVkIGF0IHRoZSBlbmQgb2YgYSB0dXJuLCB0aGlzIGltcGxlbWVudGF0aW9uIGFsbG93c1xuICAgKiBzaWRlLWVmZmVjdHMgb2YgZGVlcCBvYmplY3QgY2hhbmdlcyB0byBiZSBwcm9jZXNzZWQgYnkgcmUtc2V0dGluZyB0aGVcbiAgICogc2FtZSBvYmplY3QgKHVzaW5nIHRoZSB0ZW1wIGNhY2hlIGFzIGFuIGluLXR1cm4gYmFja3N0b3AgdG8gcHJldmVudFxuICAgKiBjeWNsZXMgZHVlIHRvIDItd2F5IG5vdGlmaWNhdGlvbikuXG4gICAqXG4gICAqIEBwYXJhbSB7c3RyaW5nfSBwcm9wZXJ0eSBQcm9wZXJ0eSBuYW1lXG4gICAqIEBwYXJhbSB7Kn0gdmFsdWUgTmV3IHByb3BlcnR5IHZhbHVlXG4gICAqIEBwYXJhbSB7Kn0gb2xkIFByZXZpb3VzIHByb3BlcnR5IHZhbHVlXG4gICAqIEByZXR1cm4ge2Jvb2xlYW59IFdoZXRoZXIgdGhlIHByb3BlcnR5IHNob3VsZCBiZSBjb25zaWRlcmVkIGEgY2hhbmdlXG4gICAqIEB0aGlzIHt0aGlzfVxuICAgKiBAcHJvdGVjdGVkXG4gICAqL1xuICBfc2hvdWxkUHJvcGVydHlDaGFuZ2UocHJvcGVydHksIHZhbHVlLCBvbGQpIHtcbiAgICByZXR1cm4gbXV0YWJsZVByb3BlcnR5Q2hhbmdlKHRoaXMsIHByb3BlcnR5LCB2YWx1ZSwgb2xkLCB0aGlzLm11dGFibGVEYXRhKTtcbiAgfVxufTtcbiIsIi8qKlxuQGxpY2Vuc2VcbkNvcHlyaWdodCAoYykgMjAxNyBUaGUgUG9seW1lciBQcm9qZWN0IEF1dGhvcnMuIEFsbCByaWdodHMgcmVzZXJ2ZWQuXG5UaGlzIGNvZGUgbWF5IG9ubHkgYmUgdXNlZCB1bmRlciB0aGUgQlNEIHN0eWxlIGxpY2Vuc2UgZm91bmQgYXQgaHR0cDovL3BvbHltZXIuZ2l0aHViLmlvL0xJQ0VOU0UudHh0XG5UaGUgY29tcGxldGUgc2V0IG9mIGF1dGhvcnMgbWF5IGJlIGZvdW5kIGF0IGh0dHA6Ly9wb2x5bWVyLmdpdGh1Yi5pby9BVVRIT1JTLnR4dFxuVGhlIGNvbXBsZXRlIHNldCBvZiBjb250cmlidXRvcnMgbWF5IGJlIGZvdW5kIGF0IGh0dHA6Ly9wb2x5bWVyLmdpdGh1Yi5pby9DT05UUklCVVRPUlMudHh0XG5Db2RlIGRpc3RyaWJ1dGVkIGJ5IEdvb2dsZSBhcyBwYXJ0IG9mIHRoZSBwb2x5bWVyIHByb2plY3QgaXMgYWxzb1xuc3ViamVjdCB0byBhbiBhZGRpdGlvbmFsIElQIHJpZ2h0cyBncmFudCBmb3VuZCBhdCBodHRwOi8vcG9seW1lci5naXRodWIuaW8vUEFURU5UUy50eHRcbiovXG5cbmltcG9ydCB7IExlZ2FjeUVsZW1lbnRNaXhpbiB9IGZyb20gJy4vbGliL2xlZ2FjeS9sZWdhY3ktZWxlbWVudC1taXhpbi5qcyc7XG5leHBvcnQgeyBQb2x5bWVyIH0gZnJvbSAgJy4vbGliL2xlZ2FjeS9wb2x5bWVyLWZuLmpzJztcbi8qIHRlbXBsYXRlIGVsZW1lbnRzICovXG5pbXBvcnQgJy4vbGliL2xlZ2FjeS90ZW1wbGF0aXplci1iZWhhdmlvci5qcyc7XG5pbXBvcnQgJy4vbGliL2VsZW1lbnRzL2RvbS1iaW5kLmpzJztcbmltcG9ydCAnLi9saWIvZWxlbWVudHMvZG9tLXJlcGVhdC5qcyc7XG5pbXBvcnQgJy4vbGliL2VsZW1lbnRzL2RvbS1pZi5qcyc7XG5pbXBvcnQgJy4vbGliL2VsZW1lbnRzL2FycmF5LXNlbGVjdG9yLmpzJztcbi8qIGN1c3RvbS1zdHlsZSAqL1xuaW1wb3J0ICcuL2xpYi9lbGVtZW50cy9jdXN0b20tc3R5bGUuanMnO1xuLyogYmMgYmVoYXZpb3JzICovXG5pbXBvcnQgJy4vbGliL2xlZ2FjeS9tdXRhYmxlLWRhdGEtYmVoYXZpb3IuanMnO1xuLyogaW1wb3J0IGh0bWwtdGFnIHRvIGV4cG9ydCBodG1sICovXG5leHBvcnQgeyBodG1sIH0gZnJvbSAnLi9saWIvdXRpbHMvaHRtbC10YWcuanMnO1xuXG4vLyBiY1xuZXhwb3J0IGNvbnN0IEJhc2UgPSBMZWdhY3lFbGVtZW50TWl4aW4oSFRNTEVsZW1lbnQpLnByb3RvdHlwZTtcbiIsIi8qKlxuQGxpY2Vuc2VcbkNvcHlyaWdodCAoYykgMjAxNyBUaGUgUG9seW1lciBQcm9qZWN0IEF1dGhvcnMuIEFsbCByaWdodHMgcmVzZXJ2ZWQuXG5UaGlzIGNvZGUgbWF5IG9ubHkgYmUgdXNlZCB1bmRlciB0aGUgQlNEIHN0eWxlIGxpY2Vuc2UgZm91bmQgYXQgaHR0cDovL3BvbHltZXIuZ2l0aHViLmlvL0xJQ0VOU0UudHh0XG5UaGUgY29tcGxldGUgc2V0IG9mIGF1dGhvcnMgbWF5IGJlIGZvdW5kIGF0IGh0dHA6Ly9wb2x5bWVyLmdpdGh1Yi5pby9BVVRIT1JTLnR4dFxuVGhlIGNvbXBsZXRlIHNldCBvZiBjb250cmlidXRvcnMgbWF5IGJlIGZvdW5kIGF0IGh0dHA6Ly9wb2x5bWVyLmdpdGh1Yi5pby9DT05UUklCVVRPUlMudHh0XG5Db2RlIGRpc3RyaWJ1dGVkIGJ5IEdvb2dsZSBhcyBwYXJ0IG9mIHRoZSBwb2x5bWVyIHByb2plY3QgaXMgYWxzb1xuc3ViamVjdCB0byBhbiBhZGRpdGlvbmFsIElQIHJpZ2h0cyBncmFudCBmb3VuZCBhdCBodHRwOi8vcG9seW1lci5naXRodWIuaW8vUEFURU5UUy50eHRcbiovXG5cbi8qIGVzbGludC1kaXNhYmxlIG5vLXVudXNlZC12YXJzICovXG4vKipcbiAqIFdoZW4gdXNpbmcgQ2xvc3VyZSBDb21waWxlciwgSlNDb21waWxlcl9yZW5hbWVQcm9wZXJ0eShwcm9wZXJ0eSwgb2JqZWN0KSBpcyByZXBsYWNlZCBieSB0aGUgbXVuZ2VkIG5hbWUgZm9yIG9iamVjdFtwcm9wZXJ0eV1cbiAqIFdlIGNhbm5vdCBhbGlhcyB0aGlzIGZ1bmN0aW9uLCBzbyB3ZSBoYXZlIHRvIHVzZSBhIHNtYWxsIHNoaW0gdGhhdCBoYXMgdGhlIHNhbWUgYmVoYXZpb3Igd2hlbiBub3QgY29tcGlsaW5nLlxuICpcbiAqIEBwYXJhbSB7c3RyaW5nfSBwcm9wIFByb3BlcnR5IG5hbWVcbiAqIEBwYXJhbSB7P09iamVjdH0gb2JqIFJlZmVyZW5jZSBvYmplY3RcbiAqIEByZXR1cm4ge3N0cmluZ30gUG90ZW50aWFsbHkgcmVuYW1lZCBwcm9wZXJ0eSBuYW1lXG4gKi9cbndpbmRvdy5KU0NvbXBpbGVyX3JlbmFtZVByb3BlcnR5ID0gZnVuY3Rpb24ocHJvcCwgb2JqKSB7XG4gIHJldHVybiBwcm9wO1xufTtcbi8qIGVzbGludC1lbmFibGUgKi9cblxuZXhwb3J0IHt9O1xuIiwiaW1wb3J0IHsgTGl0RWxlbWVudCwgaHRtbCwgY3NzIH0gZnJvbSAnbGl0LWVsZW1lbnQnXG5cbmV4cG9ydCB7IGh0bWwsIGNzcyB9XG5cbmV4cG9ydCBjb25zdCBCYXNlTGl0ID0gY2xhc3MgZXh0ZW5kcyBMaXRFbGVtZW50IHtcblxuICAgIGNvbnN0cnVjdG9yKCkge1xuICAgICAgICBzdXBlcigpXG4gICAgICAgIHRoaXMuJCA9IHt9XG4gICAgfVxuXG4gICAgXyhuYW1lKSB7XG4gICAgICAgIHJldHVybiB0aGlzLnNoYWRvd1Jvb3QuZ2V0RWxlbWVudEJ5SWQobmFtZSk7XG4gICAgfVxuXG4gICAgJCQobmFtZSkge1xuICAgICAgICByZXR1cm4gdGhpcy5zaGFkb3dSb290LnF1ZXJ5U2VsZWN0b3IobmFtZSk7XG4gICAgfVxuXG4gICAgJCQkKG5hbWUpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuc2hhZG93Um9vdC5xdWVyeVNlbGVjdG9yQWxsKG5hbWUpXG4gICAgfVxuXG4gICAgbWFwSURzKCkge1xuICAgICAgICBsZXQgbm9kZUxpc3QgPSB0aGlzLnNoYWRvd1Jvb3QucXVlcnlTZWxlY3RvckFsbCgnW2lkXScpO1xuICAgICAgICBmb3IgKGxldCBpID0gMDsgaSA8IG5vZGVMaXN0Lmxlbmd0aDsgaSsrKSB7XG4gICAgICAgICAgICB0aGlzLiRbbm9kZUxpc3RbaV0uaWRdID0gbm9kZUxpc3RbaV07XG4gICAgICAgIH1cbiAgICB9XG5cbiAgICBzZXQobmFtZSwgdmFsdWUpIHtcbiAgICAgICAgdGhpc1tuYW1lXSA9IHZhbHVlO1xuICAgICAgICB0aGlzLmRpc3BhdGNoRXZlbnQobmV3IEN1c3RvbUV2ZW50KG5hbWUsIHtkZXRhaWw6IHZhbHVlfSkpO1xuICAgIH1cblxuICAgIGZpcmUobmFtZSwgdmFsdWUsIGJ1YmJsZXMgPSBmYWxzZSApIHtcbiAgICAgICAgaWYoIWJ1YmJsZXMpXG4gICAgICAgICAgICB0aGlzLmRpc3BhdGNoRXZlbnQobmV3IEN1c3RvbUV2ZW50KG5hbWUsIHtkZXRhaWw6IHZhbHVlfSkpO1xuICAgICAgICBlbHNlXG4gICAgICAgICAgICB0aGlzLmRpc3BhdGNoRXZlbnQobmV3IEN1c3RvbUV2ZW50KG5hbWUsIHtkZXRhaWw6IHZhbHVlLCBidWJibGVzIDogdHJ1ZSwgY29tcG9zZWQ6IHRydWUgfSkpXG5cbiAgICB9XG5cbiAgICBwdXNoKG5hbWUsIHZhbHVlKSB7XG4gICAgICAgIHRoaXNbbmFtZV0ucHVzaCh2YWx1ZSk7XG4gICAgICAgIHRoaXMucmVxdWVzdFVwZGF0ZSgpO1xuICAgIH1cblxuICAgIGlzT2JqZWN0KHZhbCkge1xuICAgICAgICBpZiAodmFsID09PSBudWxsKSB7IHJldHVybiBmYWxzZTsgfVxuICAgICAgICByZXR1cm4gKCAodHlwZW9mIHZhbCA9PT0gJ2Z1bmN0aW9uJykgfHwgKHR5cGVvZiB2YWwgPT09ICdvYmplY3QnKSApO1xuICAgIH1cblxuICAgIGlzRnVuY3Rpb24oZnVuY3Rpb25Ub0NoZWNrKSB7XG4gICAgICAgIHJldHVybiBmdW5jdGlvblRvQ2hlY2sgJiYge30udG9TdHJpbmcuY2FsbChmdW5jdGlvblRvQ2hlY2spID09PSAnW29iamVjdCBGdW5jdGlvbl0nO1xuICAgIH1cblxuICAgIGlzT2JqZWN0RW1wdHkodmFsKXtcbiAgICAgICAgcmV0dXJuIHRoaXMuaXNPYmplY3QodmFsKSAmJiBPYmplY3Qua2V5cyh2YWwpLmxlbmd0aCA9PT0gMDtcbiAgICB9XG5cbiAgICBiaW5kKHByb3BlcnR5LCBldmVudFZhbCkge1xuICAgICAgICByZXR1cm4gKGUpID0+IHtcbiAgICAgICAgICAgIHRyeSB7XG4gICAgICAgICAgICAgICAgbGV0IHNjaGVtYSA9IHRoaXM7ICAvLyBhIG1vdmluZyByZWZlcmVuY2UgdG8gaW50ZXJuYWwgb2JqZWN0cyB3aXRoaW4gb2JqXG4gICAgICAgICAgICAgICAgbGV0IHBMaXN0ID0gcHJvcGVydHkuc3BsaXQoJy4nKTtcbiAgICAgICAgICAgICAgICBsZXQgbGVuID0gcExpc3QubGVuZ3RoO1xuICAgICAgICAgICAgICAgIGZvciAobGV0IGkgPSAwOyBpIDwgbGVuIC0gMTsgaSsrKSB7XG4gICAgICAgICAgICAgICAgICAgIGxldCBlbGVtID0gcExpc3RbaV07XG4gICAgICAgICAgICAgICAgICAgIGlmICghc2NoZW1hW2VsZW1dKSBzY2hlbWFbZWxlbV0gPSB7fTtcbiAgICAgICAgICAgICAgICAgICAgc2NoZW1hID0gc2NoZW1hW2VsZW1dO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBpZiAoc2NoZW1hKVxuICAgICAgICAgICAgICAgICAgICBzY2hlbWFbcExpc3RbbGVuIC0gMV1dID0gZXZlbnRWYWwgPT0gbnVsbCA/IGUuZGV0YWlsIDogZS5kZXRhaWxbZXZlbnRWYWxdO1xuICAgICAgICAgICAgICAgIGVsc2VcbiAgICAgICAgICAgICAgICAgICAgY29uc29sZS5sb2coXCJubyBoYXkgc2NoZW1hIHBhcmFcIiwgcHJvcGVydHkpO1xuICAgICAgICAgICAgfSBjYXRjaCAoZSkge1xuICAgICAgICAgICAgICAgIGNvbnNvbGUuZXJyb3IoXCJFcnJvciBpbiAyLXdheSBEYXRhQmluZGluZ1wiLCBlKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgIH1cbiAgICAvL1RPRE86IGZpeCB0byBzaG93IGVsZW1lbnRcbiAgICBzY3JvbGxUbygpIHtcbiAgICAgICAgdGhpcy5zY3JvbGxUb1koKTtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKlxuICAgICAqIEBwYXJhbSBzY3JvbGxUYXJnZXRZIHBpeGVscyB0byBzY3JvbGwuIEVqOlxuICAgICAgICBjb25zdCB0aWNrZXRzQmxvY2tQb3NpdGlvblkgPSB0aGlzLiQuY29udGFjdC5nZXRCb3VuZGluZ0NsaWVudFJlY3QoKS50b3AgKyBPcHRpY0FwcC5TY3JvbGxUYXJnZXQuc2Nyb2xsVG9wO1xuICAgICAqIEBwYXJhbSB0aW1lIFRpbWUgdG8gc2Nyb2xsXG4gICAgICogQHBhcmFtIGVhc2luZ1xuICAgICAqIEBwYXJhbSB0YXJnZXQgc2Nyb2xsVGFyZ2V0IEVsZW1lbnRcbiAgICAgKi9cbiAgICAvLydlYXNlT3V0U2luZScgfCAnZWFzZU91dFNpbmUnIHwgJ2Vhc2VJbk91dFF1aW50J1xuICAgIHNjcm9sbFRvWShzY3JvbGxUYXJnZXRZID0gMCwgdGltZSA9IDYwMCwgZWFzaW5nID0gJ2Vhc2VPdXRTaW5lJywgdGFyZ2V0ID0gT3B0aWNBcHAuU2Nyb2xsVGFyZ2V0KSB7XG5cbiAgICAgICAgbGV0IGN1cnJlbnRUaW1lID0gMDtcbiAgICAgICAgY29uc3QgYW5pbWF0aW9uVGltZSA9IHRpbWUgLyAxMDAwO1xuXG5cbiAgICAgICAgLy8gZWFzaW5nIGVxdWF0aW9ucyBmcm9tIGh0dHBzOi8vZ2l0aHViLmNvbS9kYW5yby9lYXNpbmctanMvYmxvYi9tYXN0ZXIvZWFzaW5nLmpzXG4gICAgICAgIGNvbnN0IGVhc2luZ0VxdWF0aW9ucyA9IHtcbiAgICAgICAgICAgIGVhc2VPdXRTaW5lOiAocG9zKSA9PiBNYXRoLnNpbihwb3MgKiAoTWF0aC5QSSAvIDIpKSxcbiAgICAgICAgICAgIGVhc2VJbk91dFNpbmU6IChwb3MpID0+ICgtMC41ICogKE1hdGguY29zKE1hdGguUEkgKiBwb3MpIC0gMSkpLFxuICAgICAgICAgICAgZWFzZUluT3V0UXVpbnQ6IChwb3MpID0+IHtcbiAgICAgICAgICAgICAgICBpZiAoKHBvcyAvPSAwLjUpIDwgMSkge1xuICAgICAgICAgICAgICAgICAgICByZXR1cm4gMC41ICogTWF0aC5wb3cocG9zLCA1KTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgcmV0dXJuIDAuNSAqIChNYXRoLnBvdygocG9zIC0gMiksIDUpICsgMik7XG4gICAgICAgICAgICB9LFxuICAgICAgICB9O1xuXG4gICAgICAgIC8vIGFkZCBhbmltYXRpb24gbG9vcFxuICAgICAgICBmdW5jdGlvbiB0aWNrKCkge1xuICAgICAgICAgICAgY3VycmVudFRpbWUgKz0gMSAvIDYwO1xuXG4gICAgICAgICAgICBjb25zdCBwID0gY3VycmVudFRpbWUgLyBhbmltYXRpb25UaW1lO1xuICAgICAgICAgICAgY29uc3QgdCA9IGVhc2luZ0VxdWF0aW9uc1tlYXNpbmddKHApO1xuXG4gICAgICAgICAgICBjb25zdCBzY3JvbGxUb3AgPSAodGFyZ2V0KS5wYWdlWU9mZnNldCB8fCB0YXJnZXQuc2Nyb2xsVG9wIHx8IDA7XG5cbiAgICAgICAgICAgIGNvbnN0IG5ld1Bvc2l0aW9uID0gKHNjcm9sbFRvcCArICgoc2Nyb2xsVGFyZ2V0WSAtIHNjcm9sbFRvcCkgKiB0KSk7XG5cbiAgICAgICAgICAgIGlmIChwIDwgMSkge1xuICAgICAgICAgICAgICAgIHdpbmRvdy5yZXF1ZXN0QW5pbWF0aW9uRnJhbWUodGljayk7XG4gICAgICAgICAgICAgICAgdGFyZ2V0LnNjcm9sbFRvcCA9IG5ld1Bvc2l0aW9uO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIHRpY2soKTtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKlxuICAgICAqIEBwYXJhbSB7Kn0gZWxlbWVudCA6IFRoZSBIVE1MRWxlbWVudCB0byBhZGQscmVtb3ZlIG9yIHRvZ2dsZSB0aGUgY2xhc3NlcyB0b1xuICAgICAqIEBwYXJhbSB7Kn0gY2xhc3Nlc0xpc3QgOiBFaXRoZXIgYSBTdHJpbmcgb3IgYW4gQXJyYXlcbiAgICAgKiBAcGFyYW0geyp9IG9wdGlvbiA6IFRoZSBvcHRpb24gdG8gc2VsZWN0IHRoZSBvcGVyYXRpb24gMCB0byB0b2dnbGUsIDEgdG8gYWRkLCAyIHRvIHJlbW92ZVxuICAgICAqL1xuICAgIHRvZ2dsZUFkZFJlbW92ZUNsYXNzZXMoZWxlbWVudCwgY2xhc3Nlc0xpc3QsIG9wdGlvbiA9IDApIHtcbiAgICAgICAgbGV0IHNlbGVjdG9yID0gZWxlbWVudCB8fCAnJztcbiAgICAgICAgbGV0IGNsYXNzZXMgPSBjbGFzc2VzTGlzdCB8fCAnJztcbiAgICAgICAgaWYgKFxuICAgICAgICAgICh0eXBlb2YgY2xhc3NlcyA9PSAnc3RyaW5nJyB8fCBBcnJheS5pc0FycmF5KGNsYXNzZXMpKVxuICAgICAgICAgICYmXG4gICAgICAgICAgY2xhc3Nlcy5sZW5ndGhcbiAgICAgICAgKSB7XG4gICAgICAgICAgbGV0IGNsYXNzTGlzdCA9IHNlbGVjdG9yLmNsYXNzTGlzdDtcbiAgICAgICAgICBpZiAoIUFycmF5LmlzQXJyYXkoY2xhc3NlcykpIHtcbiAgICAgICAgICAgIGNsYXNzZXMgPSBjbGFzc2VzLnJlcGxhY2UoLygsXFxzKnxcXHMrKS9nLCAnICcpLnNwbGl0KCcgJyk7XG4gICAgICAgICAgfVxuXG4gICAgICAgICAgZm9yIChsZXQgY2xhc3NOYW1lIG9mIGNsYXNzZXMpIHtcbiAgICAgICAgICAgIHN3aXRjaChvcHRpb24pe1xuICAgICAgICAgICAgICAgIGNhc2UgMDpcbiAgICAgICAgICAgICAgICAgICAgY2xhc3NMaXN0LnRvZ2dsZShjbGFzc05hbWUpO1xuICAgICAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgICAgICBjYXNlIDE6XG4gICAgICAgICAgICAgICAgICAgIGNsYXNzTGlzdC5hZGQoY2xhc3NOYW1lKTtcbiAgICAgICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICAgICAgY2FzZSAyOlxuICAgICAgICAgICAgICAgICAgICBjbGFzc0xpc3QucmVtb3ZlKGNsYXNzTmFtZSk7XG4gICAgICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgfVxuICAgICAgICAgIH1cbiAgICAgICAgICByZXR1cm4gdHJ1ZTtcbiAgICAgICAgfVxuICAgICAgfVxufSIsIi8qKlxuICogQGxpY2Vuc2VcbiAqIENvcHlyaWdodCAoYykgMjAxNyBUaGUgUG9seW1lciBQcm9qZWN0IEF1dGhvcnMuIEFsbCByaWdodHMgcmVzZXJ2ZWQuXG4gKiBUaGlzIGNvZGUgbWF5IG9ubHkgYmUgdXNlZCB1bmRlciB0aGUgQlNEIHN0eWxlIGxpY2Vuc2UgZm91bmQgYXRcbiAqIGh0dHA6Ly9wb2x5bWVyLmdpdGh1Yi5pby9MSUNFTlNFLnR4dFxuICogVGhlIGNvbXBsZXRlIHNldCBvZiBhdXRob3JzIG1heSBiZSBmb3VuZCBhdFxuICogaHR0cDovL3BvbHltZXIuZ2l0aHViLmlvL0FVVEhPUlMudHh0XG4gKiBUaGUgY29tcGxldGUgc2V0IG9mIGNvbnRyaWJ1dG9ycyBtYXkgYmUgZm91bmQgYXRcbiAqIGh0dHA6Ly9wb2x5bWVyLmdpdGh1Yi5pby9DT05UUklCVVRPUlMudHh0XG4gKiBDb2RlIGRpc3RyaWJ1dGVkIGJ5IEdvb2dsZSBhcyBwYXJ0IG9mIHRoZSBwb2x5bWVyIHByb2plY3QgaXMgYWxzb1xuICogc3ViamVjdCB0byBhbiBhZGRpdGlvbmFsIElQIHJpZ2h0cyBncmFudCBmb3VuZCBhdFxuICogaHR0cDovL3BvbHltZXIuZ2l0aHViLmlvL1BBVEVOVFMudHh0XG4gKi9cbi8qKlxuICogQW4gZXhwcmVzc2lvbiBtYXJrZXIgd2l0aCBlbWJlZGRlZCB1bmlxdWUga2V5IHRvIGF2b2lkIGNvbGxpc2lvbiB3aXRoXG4gKiBwb3NzaWJsZSB0ZXh0IGluIHRlbXBsYXRlcy5cbiAqL1xuZXhwb3J0IGNvbnN0IG1hcmtlciA9IGB7e2xpdC0ke1N0cmluZyhNYXRoLnJhbmRvbSgpKS5zbGljZSgyKX19fWA7XG4vKipcbiAqIEFuIGV4cHJlc3Npb24gbWFya2VyIHVzZWQgdGV4dC1wb3NpdGlvbnMsIG11bHRpLWJpbmRpbmcgYXR0cmlidXRlcywgYW5kXG4gKiBhdHRyaWJ1dGVzIHdpdGggbWFya3VwLWxpa2UgdGV4dCB2YWx1ZXMuXG4gKi9cbmV4cG9ydCBjb25zdCBub2RlTWFya2VyID0gYDwhLS0ke21hcmtlcn0tLT5gO1xuZXhwb3J0IGNvbnN0IG1hcmtlclJlZ2V4ID0gbmV3IFJlZ0V4cChgJHttYXJrZXJ9fCR7bm9kZU1hcmtlcn1gKTtcbi8qKlxuICogU3VmZml4IGFwcGVuZGVkIHRvIGFsbCBib3VuZCBhdHRyaWJ1dGUgbmFtZXMuXG4gKi9cbmV4cG9ydCBjb25zdCBib3VuZEF0dHJpYnV0ZVN1ZmZpeCA9ICckbGl0JCc7XG4vKipcbiAqIEFuIHVwZGF0ZWFibGUgVGVtcGxhdGUgdGhhdCB0cmFja3MgdGhlIGxvY2F0aW9uIG9mIGR5bmFtaWMgcGFydHMuXG4gKi9cbmV4cG9ydCBjbGFzcyBUZW1wbGF0ZSB7XG4gICAgY29uc3RydWN0b3IocmVzdWx0LCBlbGVtZW50KSB7XG4gICAgICAgIHRoaXMucGFydHMgPSBbXTtcbiAgICAgICAgdGhpcy5lbGVtZW50ID0gZWxlbWVudDtcbiAgICAgICAgbGV0IGluZGV4ID0gLTE7XG4gICAgICAgIGxldCBwYXJ0SW5kZXggPSAwO1xuICAgICAgICBjb25zdCBub2Rlc1RvUmVtb3ZlID0gW107XG4gICAgICAgIGNvbnN0IF9wcmVwYXJlVGVtcGxhdGUgPSAodGVtcGxhdGUpID0+IHtcbiAgICAgICAgICAgIGNvbnN0IGNvbnRlbnQgPSB0ZW1wbGF0ZS5jb250ZW50O1xuICAgICAgICAgICAgLy8gRWRnZSBuZWVkcyBhbGwgNCBwYXJhbWV0ZXJzIHByZXNlbnQ7IElFMTEgbmVlZHMgM3JkIHBhcmFtZXRlciB0byBiZVxuICAgICAgICAgICAgLy8gbnVsbFxuICAgICAgICAgICAgY29uc3Qgd2Fsa2VyID0gZG9jdW1lbnQuY3JlYXRlVHJlZVdhbGtlcihjb250ZW50LCAxMzMgLyogTm9kZUZpbHRlci5TSE9XX3tFTEVNRU5UfENPTU1FTlR8VEVYVH0gKi8sIG51bGwsIGZhbHNlKTtcbiAgICAgICAgICAgIC8vIEtlZXBzIHRyYWNrIG9mIHRoZSBsYXN0IGluZGV4IGFzc29jaWF0ZWQgd2l0aCBhIHBhcnQuIFdlIHRyeSB0byBkZWxldGVcbiAgICAgICAgICAgIC8vIHVubmVjZXNzYXJ5IG5vZGVzLCBidXQgd2UgbmV2ZXIgd2FudCB0byBhc3NvY2lhdGUgdHdvIGRpZmZlcmVudCBwYXJ0c1xuICAgICAgICAgICAgLy8gdG8gdGhlIHNhbWUgaW5kZXguIFRoZXkgbXVzdCBoYXZlIGEgY29uc3RhbnQgbm9kZSBiZXR3ZWVuLlxuICAgICAgICAgICAgbGV0IGxhc3RQYXJ0SW5kZXggPSAwO1xuICAgICAgICAgICAgd2hpbGUgKHdhbGtlci5uZXh0Tm9kZSgpKSB7XG4gICAgICAgICAgICAgICAgaW5kZXgrKztcbiAgICAgICAgICAgICAgICBjb25zdCBub2RlID0gd2Fsa2VyLmN1cnJlbnROb2RlO1xuICAgICAgICAgICAgICAgIGlmIChub2RlLm5vZGVUeXBlID09PSAxIC8qIE5vZGUuRUxFTUVOVF9OT0RFICovKSB7XG4gICAgICAgICAgICAgICAgICAgIGlmIChub2RlLmhhc0F0dHJpYnV0ZXMoKSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgY29uc3QgYXR0cmlidXRlcyA9IG5vZGUuYXR0cmlidXRlcztcbiAgICAgICAgICAgICAgICAgICAgICAgIC8vIFBlclxuICAgICAgICAgICAgICAgICAgICAgICAgLy8gaHR0cHM6Ly9kZXZlbG9wZXIubW96aWxsYS5vcmcvZW4tVVMvZG9jcy9XZWIvQVBJL05hbWVkTm9kZU1hcCxcbiAgICAgICAgICAgICAgICAgICAgICAgIC8vIGF0dHJpYnV0ZXMgYXJlIG5vdCBndWFyYW50ZWVkIHRvIGJlIHJldHVybmVkIGluIGRvY3VtZW50IG9yZGVyLlxuICAgICAgICAgICAgICAgICAgICAgICAgLy8gSW4gcGFydGljdWxhciwgRWRnZS9JRSBjYW4gcmV0dXJuIHRoZW0gb3V0IG9mIG9yZGVyLCBzbyB3ZSBjYW5ub3RcbiAgICAgICAgICAgICAgICAgICAgICAgIC8vIGFzc3VtZSBhIGNvcnJlc3BvbmRhbmNlIGJldHdlZW4gcGFydCBpbmRleCBhbmQgYXR0cmlidXRlIGluZGV4LlxuICAgICAgICAgICAgICAgICAgICAgICAgbGV0IGNvdW50ID0gMDtcbiAgICAgICAgICAgICAgICAgICAgICAgIGZvciAobGV0IGkgPSAwOyBpIDwgYXR0cmlidXRlcy5sZW5ndGg7IGkrKykge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmIChhdHRyaWJ1dGVzW2ldLnZhbHVlLmluZGV4T2YobWFya2VyKSA+PSAwKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNvdW50Kys7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgICAgd2hpbGUgKGNvdW50LS0gPiAwKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgLy8gR2V0IHRoZSB0ZW1wbGF0ZSBsaXRlcmFsIHNlY3Rpb24gbGVhZGluZyB1cCB0byB0aGUgZmlyc3RcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAvLyBleHByZXNzaW9uIGluIHRoaXMgYXR0cmlidXRlXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgY29uc3Qgc3RyaW5nRm9yUGFydCA9IHJlc3VsdC5zdHJpbmdzW3BhcnRJbmRleF07XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgLy8gRmluZCB0aGUgYXR0cmlidXRlIG5hbWVcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBjb25zdCBuYW1lID0gbGFzdEF0dHJpYnV0ZU5hbWVSZWdleC5leGVjKHN0cmluZ0ZvclBhcnQpWzJdO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIC8vIEZpbmQgdGhlIGNvcnJlc3BvbmRpbmcgYXR0cmlidXRlXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgLy8gQWxsIGJvdW5kIGF0dHJpYnV0ZXMgaGF2ZSBoYWQgYSBzdWZmaXggYWRkZWQgaW5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAvLyBUZW1wbGF0ZVJlc3VsdCNnZXRIVE1MIHRvIG9wdCBvdXQgb2Ygc3BlY2lhbCBhdHRyaWJ1dGVcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAvLyBoYW5kbGluZy4gVG8gbG9vayB1cCB0aGUgYXR0cmlidXRlIHZhbHVlIHdlIGFsc28gbmVlZCB0byBhZGRcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAvLyB0aGUgc3VmZml4LlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNvbnN0IGF0dHJpYnV0ZUxvb2t1cE5hbWUgPSBuYW1lLnRvTG93ZXJDYXNlKCkgKyBib3VuZEF0dHJpYnV0ZVN1ZmZpeDtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBjb25zdCBhdHRyaWJ1dGVWYWx1ZSA9IG5vZGUuZ2V0QXR0cmlidXRlKGF0dHJpYnV0ZUxvb2t1cE5hbWUpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNvbnN0IHN0cmluZ3MgPSBhdHRyaWJ1dGVWYWx1ZS5zcGxpdChtYXJrZXJSZWdleCk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5wYXJ0cy5wdXNoKHsgdHlwZTogJ2F0dHJpYnV0ZScsIGluZGV4LCBuYW1lLCBzdHJpbmdzIH0pO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIG5vZGUucmVtb3ZlQXR0cmlidXRlKGF0dHJpYnV0ZUxvb2t1cE5hbWUpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHBhcnRJbmRleCArPSBzdHJpbmdzLmxlbmd0aCAtIDE7XG4gICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgaWYgKG5vZGUudGFnTmFtZSA9PT0gJ1RFTVBMQVRFJykge1xuICAgICAgICAgICAgICAgICAgICAgICAgX3ByZXBhcmVUZW1wbGF0ZShub2RlKTtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBlbHNlIGlmIChub2RlLm5vZGVUeXBlID09PSAzIC8qIE5vZGUuVEVYVF9OT0RFICovKSB7XG4gICAgICAgICAgICAgICAgICAgIGNvbnN0IGRhdGEgPSBub2RlLmRhdGE7XG4gICAgICAgICAgICAgICAgICAgIGlmIChkYXRhLmluZGV4T2YobWFya2VyKSA+PSAwKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBjb25zdCBwYXJlbnQgPSBub2RlLnBhcmVudE5vZGU7XG4gICAgICAgICAgICAgICAgICAgICAgICBjb25zdCBzdHJpbmdzID0gZGF0YS5zcGxpdChtYXJrZXJSZWdleCk7XG4gICAgICAgICAgICAgICAgICAgICAgICBjb25zdCBsYXN0SW5kZXggPSBzdHJpbmdzLmxlbmd0aCAtIDE7XG4gICAgICAgICAgICAgICAgICAgICAgICAvLyBHZW5lcmF0ZSBhIG5ldyB0ZXh0IG5vZGUgZm9yIGVhY2ggbGl0ZXJhbCBzZWN0aW9uXG4gICAgICAgICAgICAgICAgICAgICAgICAvLyBUaGVzZSBub2RlcyBhcmUgYWxzbyB1c2VkIGFzIHRoZSBtYXJrZXJzIGZvciBub2RlIHBhcnRzXG4gICAgICAgICAgICAgICAgICAgICAgICBmb3IgKGxldCBpID0gMDsgaSA8IGxhc3RJbmRleDsgaSsrKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgcGFyZW50Lmluc2VydEJlZm9yZSgoc3RyaW5nc1tpXSA9PT0gJycpID8gY3JlYXRlTWFya2VyKCkgOlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBkb2N1bWVudC5jcmVhdGVUZXh0Tm9kZShzdHJpbmdzW2ldKSwgbm9kZSk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5wYXJ0cy5wdXNoKHsgdHlwZTogJ25vZGUnLCBpbmRleDogKytpbmRleCB9KTtcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgIC8vIElmIHRoZXJlJ3Mgbm8gdGV4dCwgd2UgbXVzdCBpbnNlcnQgYSBjb21tZW50IHRvIG1hcmsgb3VyIHBsYWNlLlxuICAgICAgICAgICAgICAgICAgICAgICAgLy8gRWxzZSwgd2UgY2FuIHRydXN0IGl0IHdpbGwgc3RpY2sgYXJvdW5kIGFmdGVyIGNsb25pbmcuXG4gICAgICAgICAgICAgICAgICAgICAgICBpZiAoc3RyaW5nc1tsYXN0SW5kZXhdID09PSAnJykge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHBhcmVudC5pbnNlcnRCZWZvcmUoY3JlYXRlTWFya2VyKCksIG5vZGUpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIG5vZGVzVG9SZW1vdmUucHVzaChub2RlKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIG5vZGUuZGF0YSA9IHN0cmluZ3NbbGFzdEluZGV4XTtcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgIC8vIFdlIGhhdmUgYSBwYXJ0IGZvciBlYWNoIG1hdGNoIGZvdW5kXG4gICAgICAgICAgICAgICAgICAgICAgICBwYXJ0SW5kZXggKz0gbGFzdEluZGV4O1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIGVsc2UgaWYgKG5vZGUubm9kZVR5cGUgPT09IDggLyogTm9kZS5DT01NRU5UX05PREUgKi8pIHtcbiAgICAgICAgICAgICAgICAgICAgaWYgKG5vZGUuZGF0YSA9PT0gbWFya2VyKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBjb25zdCBwYXJlbnQgPSBub2RlLnBhcmVudE5vZGU7XG4gICAgICAgICAgICAgICAgICAgICAgICAvLyBBZGQgYSBuZXcgbWFya2VyIG5vZGUgdG8gYmUgdGhlIHN0YXJ0Tm9kZSBvZiB0aGUgUGFydCBpZiBhbnkgb2ZcbiAgICAgICAgICAgICAgICAgICAgICAgIC8vIHRoZSBmb2xsb3dpbmcgYXJlIHRydWU6XG4gICAgICAgICAgICAgICAgICAgICAgICAvLyAgKiBXZSBkb24ndCBoYXZlIGEgcHJldmlvdXNTaWJsaW5nXG4gICAgICAgICAgICAgICAgICAgICAgICAvLyAgKiBUaGUgcHJldmlvdXNTaWJsaW5nIGlzIGFscmVhZHkgdGhlIHN0YXJ0IG9mIGEgcHJldmlvdXMgcGFydFxuICAgICAgICAgICAgICAgICAgICAgICAgaWYgKG5vZGUucHJldmlvdXNTaWJsaW5nID09PSBudWxsIHx8IGluZGV4ID09PSBsYXN0UGFydEluZGV4KSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgaW5kZXgrKztcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBwYXJlbnQuaW5zZXJ0QmVmb3JlKGNyZWF0ZU1hcmtlcigpLCBub2RlKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgIGxhc3RQYXJ0SW5kZXggPSBpbmRleDtcbiAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMucGFydHMucHVzaCh7IHR5cGU6ICdub2RlJywgaW5kZXggfSk7XG4gICAgICAgICAgICAgICAgICAgICAgICAvLyBJZiB3ZSBkb24ndCBoYXZlIGEgbmV4dFNpYmxpbmcsIGtlZXAgdGhpcyBub2RlIHNvIHdlIGhhdmUgYW4gZW5kLlxuICAgICAgICAgICAgICAgICAgICAgICAgLy8gRWxzZSwgd2UgY2FuIHJlbW92ZSBpdCB0byBzYXZlIGZ1dHVyZSBjb3N0cy5cbiAgICAgICAgICAgICAgICAgICAgICAgIGlmIChub2RlLm5leHRTaWJsaW5nID09PSBudWxsKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgbm9kZS5kYXRhID0gJyc7XG4gICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBub2Rlc1RvUmVtb3ZlLnB1c2gobm9kZSk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgaW5kZXgtLTtcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgIHBhcnRJbmRleCsrO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgICAgICAgICAgICAgbGV0IGkgPSAtMTtcbiAgICAgICAgICAgICAgICAgICAgICAgIHdoaWxlICgoaSA9IG5vZGUuZGF0YS5pbmRleE9mKG1hcmtlciwgaSArIDEpKSAhPT1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAtMSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIC8vIENvbW1lbnQgbm9kZSBoYXMgYSBiaW5kaW5nIG1hcmtlciBpbnNpZGUsIG1ha2UgYW4gaW5hY3RpdmUgcGFydFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIC8vIFRoZSBiaW5kaW5nIHdvbid0IHdvcmssIGJ1dCBzdWJzZXF1ZW50IGJpbmRpbmdzIHdpbGxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAvLyBUT0RPIChqdXN0aW5mYWduYW5pKTogY29uc2lkZXIgd2hldGhlciBpdCdzIGV2ZW4gd29ydGggaXQgdG9cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAvLyBtYWtlIGJpbmRpbmdzIGluIGNvbW1lbnRzIHdvcmtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB0aGlzLnBhcnRzLnB1c2goeyB0eXBlOiAnbm9kZScsIGluZGV4OiAtMSB9KTtcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgfTtcbiAgICAgICAgX3ByZXBhcmVUZW1wbGF0ZShlbGVtZW50KTtcbiAgICAgICAgLy8gUmVtb3ZlIHRleHQgYmluZGluZyBub2RlcyBhZnRlciB0aGUgd2FsayB0byBub3QgZGlzdHVyYiB0aGUgVHJlZVdhbGtlclxuICAgICAgICBmb3IgKGNvbnN0IG4gb2Ygbm9kZXNUb1JlbW92ZSkge1xuICAgICAgICAgICAgbi5wYXJlbnROb2RlLnJlbW92ZUNoaWxkKG4pO1xuICAgICAgICB9XG4gICAgfVxufVxuZXhwb3J0IGNvbnN0IGlzVGVtcGxhdGVQYXJ0QWN0aXZlID0gKHBhcnQpID0+IHBhcnQuaW5kZXggIT09IC0xO1xuLy8gQWxsb3dzIGBkb2N1bWVudC5jcmVhdGVDb21tZW50KCcnKWAgdG8gYmUgcmVuYW1lZCBmb3IgYVxuLy8gc21hbGwgbWFudWFsIHNpemUtc2F2aW5ncy5cbmV4cG9ydCBjb25zdCBjcmVhdGVNYXJrZXIgPSAoKSA9PiBkb2N1bWVudC5jcmVhdGVDb21tZW50KCcnKTtcbi8qKlxuICogVGhpcyByZWdleCBleHRyYWN0cyB0aGUgYXR0cmlidXRlIG5hbWUgcHJlY2VkaW5nIGFuIGF0dHJpYnV0ZS1wb3NpdGlvblxuICogZXhwcmVzc2lvbi4gSXQgZG9lcyB0aGlzIGJ5IG1hdGNoaW5nIHRoZSBzeW50YXggYWxsb3dlZCBmb3IgYXR0cmlidXRlc1xuICogYWdhaW5zdCB0aGUgc3RyaW5nIGxpdGVyYWwgZGlyZWN0bHkgcHJlY2VkaW5nIHRoZSBleHByZXNzaW9uLCBhc3N1bWluZyB0aGF0XG4gKiB0aGUgZXhwcmVzc2lvbiBpcyBpbiBhbiBhdHRyaWJ1dGUtdmFsdWUgcG9zaXRpb24uXG4gKlxuICogU2VlIGF0dHJpYnV0ZXMgaW4gdGhlIEhUTUwgc3BlYzpcbiAqIGh0dHBzOi8vd3d3LnczLm9yZy9UUi9odG1sNS9zeW50YXguaHRtbCNhdHRyaWJ1dGVzLTBcbiAqXG4gKiBcIlxcMC1cXHgxRlxceDdGLVxceDlGXCIgYXJlIFVuaWNvZGUgY29udHJvbCBjaGFyYWN0ZXJzXG4gKlxuICogXCIgXFx4MDlcXHgwYVxceDBjXFx4MGRcIiBhcmUgSFRNTCBzcGFjZSBjaGFyYWN0ZXJzOlxuICogaHR0cHM6Ly93d3cudzMub3JnL1RSL2h0bWw1L2luZnJhc3RydWN0dXJlLmh0bWwjc3BhY2UtY2hhcmFjdGVyXG4gKlxuICogU28gYW4gYXR0cmlidXRlIGlzOlxuICogICogVGhlIG5hbWU6IGFueSBjaGFyYWN0ZXIgZXhjZXB0IGEgY29udHJvbCBjaGFyYWN0ZXIsIHNwYWNlIGNoYXJhY3RlciwgKCcpLFxuICogICAgKFwiKSwgXCI+XCIsIFwiPVwiLCBvciBcIi9cIlxuICogICogRm9sbG93ZWQgYnkgemVybyBvciBtb3JlIHNwYWNlIGNoYXJhY3RlcnNcbiAqICAqIEZvbGxvd2VkIGJ5IFwiPVwiXG4gKiAgKiBGb2xsb3dlZCBieSB6ZXJvIG9yIG1vcmUgc3BhY2UgY2hhcmFjdGVyc1xuICogICogRm9sbG93ZWQgYnk6XG4gKiAgICAqIEFueSBjaGFyYWN0ZXIgZXhjZXB0IHNwYWNlLCAoJyksIChcIiksIFwiPFwiLCBcIj5cIiwgXCI9XCIsIChgKSwgb3JcbiAqICAgICogKFwiKSB0aGVuIGFueSBub24tKFwiKSwgb3JcbiAqICAgICogKCcpIHRoZW4gYW55IG5vbi0oJylcbiAqL1xuZXhwb3J0IGNvbnN0IGxhc3RBdHRyaWJ1dGVOYW1lUmVnZXggPSAvKFsgXFx4MDlcXHgwYVxceDBjXFx4MGRdKShbXlxcMC1cXHgxRlxceDdGLVxceDlGIFxceDA5XFx4MGFcXHgwY1xceDBkXCInPj0vXSspKFsgXFx4MDlcXHgwYVxceDBjXFx4MGRdKj1bIFxceDA5XFx4MGFcXHgwY1xceDBkXSooPzpbXiBcXHgwOVxceDBhXFx4MGNcXHgwZFwiJ2A8Pj1dKnxcIlteXCJdKnwnW14nXSopKSQvO1xuLy8jIHNvdXJjZU1hcHBpbmdVUkw9dGVtcGxhdGUuanMubWFwIiwiLyoqXG5AbGljZW5zZVxuQ29weXJpZ2h0IChjKSAyMDE3IFRoZSBQb2x5bWVyIFByb2plY3QgQXV0aG9ycy4gQWxsIHJpZ2h0cyByZXNlcnZlZC5cblRoaXMgY29kZSBtYXkgb25seSBiZSB1c2VkIHVuZGVyIHRoZSBCU0Qgc3R5bGUgbGljZW5zZSBmb3VuZCBhdCBodHRwOi8vcG9seW1lci5naXRodWIuaW8vTElDRU5TRS50eHRcblRoZSBjb21wbGV0ZSBzZXQgb2YgYXV0aG9ycyBtYXkgYmUgZm91bmQgYXQgaHR0cDovL3BvbHltZXIuZ2l0aHViLmlvL0FVVEhPUlMudHh0XG5UaGUgY29tcGxldGUgc2V0IG9mIGNvbnRyaWJ1dG9ycyBtYXkgYmUgZm91bmQgYXQgaHR0cDovL3BvbHltZXIuZ2l0aHViLmlvL0NPTlRSSUJVVE9SUy50eHRcbkNvZGUgZGlzdHJpYnV0ZWQgYnkgR29vZ2xlIGFzIHBhcnQgb2YgdGhlIHBvbHltZXIgcHJvamVjdCBpcyBhbHNvXG5zdWJqZWN0IHRvIGFuIGFkZGl0aW9uYWwgSVAgcmlnaHRzIGdyYW50IGZvdW5kIGF0IGh0dHA6Ly9wb2x5bWVyLmdpdGh1Yi5pby9QQVRFTlRTLnR4dFxuKi9cbmltcG9ydCAnLi9ib290LmpzJztcblxuLy8gdW5pcXVlIGdsb2JhbCBpZCBmb3IgZGVkdXBpbmcgbWl4aW5zLlxubGV0IGRlZHVwZUlkID0gMDtcblxuLyoqXG4gKiBAY29uc3RydWN0b3JcbiAqIEBleHRlbmRzIHtGdW5jdGlvbn1cbiAqIEBwcml2YXRlXG4gKi9cbmZ1bmN0aW9uIE1peGluRnVuY3Rpb24oKXt9XG4vKiogQHR5cGUgeyhXZWFrTWFwIHwgdW5kZWZpbmVkKX0gKi9cbk1peGluRnVuY3Rpb24ucHJvdG90eXBlLl9fbWl4aW5BcHBsaWNhdGlvbnM7XG4vKiogQHR5cGUgeyhPYmplY3QgfCB1bmRlZmluZWQpfSAqL1xuTWl4aW5GdW5jdGlvbi5wcm90b3R5cGUuX19taXhpblNldDtcblxuLyogZXNsaW50LWRpc2FibGUgdmFsaWQtanNkb2MgKi9cbi8qKlxuICogV3JhcHMgYW4gRVM2IGNsYXNzIGV4cHJlc3Npb24gbWl4aW4gc3VjaCB0aGF0IHRoZSBtaXhpbiBpcyBvbmx5IGFwcGxpZWRcbiAqIGlmIGl0IGhhcyBub3QgYWxyZWFkeSBiZWVuIGFwcGxpZWQgaXRzIGJhc2UgYXJndW1lbnQuIEFsc28gbWVtb2l6ZXMgbWl4aW5cbiAqIGFwcGxpY2F0aW9ucy5cbiAqXG4gKiBAdGVtcGxhdGUgVFxuICogQHBhcmFtIHtUfSBtaXhpbiBFUzYgY2xhc3MgZXhwcmVzc2lvbiBtaXhpbiB0byB3cmFwXG4gKiBAcmV0dXJuIHtUfVxuICogQHN1cHByZXNzIHtpbnZhbGlkQ2FzdHN9XG4gKi9cbmV4cG9ydCBjb25zdCBkZWR1cGluZ01peGluID0gZnVuY3Rpb24obWl4aW4pIHtcbiAgbGV0IG1peGluQXBwbGljYXRpb25zID0gLyoqIEB0eXBlIHshTWl4aW5GdW5jdGlvbn0gKi8obWl4aW4pLl9fbWl4aW5BcHBsaWNhdGlvbnM7XG4gIGlmICghbWl4aW5BcHBsaWNhdGlvbnMpIHtcbiAgICBtaXhpbkFwcGxpY2F0aW9ucyA9IG5ldyBXZWFrTWFwKCk7XG4gICAgLyoqIEB0eXBlIHshTWl4aW5GdW5jdGlvbn0gKi8obWl4aW4pLl9fbWl4aW5BcHBsaWNhdGlvbnMgPSBtaXhpbkFwcGxpY2F0aW9ucztcbiAgfVxuICAvLyBtYWludGFpbiBhIHVuaXF1ZSBpZCBmb3IgZWFjaCBtaXhpblxuICBsZXQgbWl4aW5EZWR1cGVJZCA9IGRlZHVwZUlkKys7XG4gIGZ1bmN0aW9uIGRlZHVwaW5nTWl4aW4oYmFzZSkge1xuICAgIGxldCBiYXNlU2V0ID0gLyoqIEB0eXBlIHshTWl4aW5GdW5jdGlvbn0gKi8oYmFzZSkuX19taXhpblNldDtcbiAgICBpZiAoYmFzZVNldCAmJiBiYXNlU2V0W21peGluRGVkdXBlSWRdKSB7XG4gICAgICByZXR1cm4gYmFzZTtcbiAgICB9XG4gICAgbGV0IG1hcCA9IG1peGluQXBwbGljYXRpb25zO1xuICAgIGxldCBleHRlbmRlZCA9IG1hcC5nZXQoYmFzZSk7XG4gICAgaWYgKCFleHRlbmRlZCkge1xuICAgICAgZXh0ZW5kZWQgPSAvKiogQHR5cGUgeyFGdW5jdGlvbn0gKi8obWl4aW4pKGJhc2UpO1xuICAgICAgbWFwLnNldChiYXNlLCBleHRlbmRlZCk7XG4gICAgfVxuICAgIC8vIGNvcHkgaW5oZXJpdGVkIG1peGluIHNldCBmcm9tIHRoZSBleHRlbmRlZCBjbGFzcywgb3IgdGhlIGJhc2UgY2xhc3NcbiAgICAvLyBOT1RFOiB3ZSBhdm9pZCB1c2Ugb2YgU2V0IGhlcmUgYmVjYXVzZSBzb21lIGJyb3dzZXIgKElFMTEpXG4gICAgLy8gY2Fubm90IGV4dGVuZCBhIGJhc2UgU2V0IHZpYSB0aGUgY29uc3RydWN0b3IuXG4gICAgbGV0IG1peGluU2V0ID0gT2JqZWN0LmNyZWF0ZSgvKiogQHR5cGUgeyFNaXhpbkZ1bmN0aW9ufSAqLyhleHRlbmRlZCkuX19taXhpblNldCB8fCBiYXNlU2V0IHx8IG51bGwpO1xuICAgIG1peGluU2V0W21peGluRGVkdXBlSWRdID0gdHJ1ZTtcbiAgICAvKiogQHR5cGUgeyFNaXhpbkZ1bmN0aW9ufSAqLyhleHRlbmRlZCkuX19taXhpblNldCA9IG1peGluU2V0O1xuICAgIHJldHVybiBleHRlbmRlZDtcbiAgfVxuXG4gIHJldHVybiBkZWR1cGluZ01peGluO1xufTtcbi8qIGVzbGludC1lbmFibGUgdmFsaWQtanNkb2MgKi9cbiIsIi8qKlxuQGxpY2Vuc2VcbkNvcHlyaWdodCAoYykgMjAxNyBUaGUgUG9seW1lciBQcm9qZWN0IEF1dGhvcnMuIEFsbCByaWdodHMgcmVzZXJ2ZWQuXG5UaGlzIGNvZGUgbWF5IG9ubHkgYmUgdXNlZCB1bmRlciB0aGUgQlNEIHN0eWxlIGxpY2Vuc2UgZm91bmQgYXQgaHR0cDovL3BvbHltZXIuZ2l0aHViLmlvL0xJQ0VOU0UudHh0XG5UaGUgY29tcGxldGUgc2V0IG9mIGF1dGhvcnMgbWF5IGJlIGZvdW5kIGF0IGh0dHA6Ly9wb2x5bWVyLmdpdGh1Yi5pby9BVVRIT1JTLnR4dFxuVGhlIGNvbXBsZXRlIHNldCBvZiBjb250cmlidXRvcnMgbWF5IGJlIGZvdW5kIGF0IGh0dHA6Ly9wb2x5bWVyLmdpdGh1Yi5pby9DT05UUklCVVRPUlMudHh0XG5Db2RlIGRpc3RyaWJ1dGVkIGJ5IEdvb2dsZSBhcyBwYXJ0IG9mIHRoZSBwb2x5bWVyIHByb2plY3QgaXMgYWxzb1xuc3ViamVjdCB0byBhbiBhZGRpdGlvbmFsIElQIHJpZ2h0cyBncmFudCBmb3VuZCBhdCBodHRwOi8vcG9seW1lci5naXRodWIuaW8vUEFURU5UUy50eHRcbiovXG5cbmltcG9ydCB7IExlZ2FjeUVsZW1lbnRNaXhpbiB9IGZyb20gJy4vbGVnYWN5LWVsZW1lbnQtbWl4aW4uanMnO1xuaW1wb3J0IHsgbGVnYWN5T3B0aW1pemF0aW9ucyB9IGZyb20gJy4uL3V0aWxzL3NldHRpbmdzLmpzJztcblxuY29uc3QgbGlmZWN5Y2xlUHJvcHMgPSB7XG4gIGF0dGFjaGVkOiB0cnVlLFxuICBkZXRhY2hlZDogdHJ1ZSxcbiAgcmVhZHk6IHRydWUsXG4gIGNyZWF0ZWQ6IHRydWUsXG4gIGJlZm9yZVJlZ2lzdGVyOiB0cnVlLFxuICByZWdpc3RlcmVkOiB0cnVlLFxuICBhdHRyaWJ1dGVDaGFuZ2VkOiB0cnVlLFxuICBsaXN0ZW5lcnM6IHRydWUsXG4gIGhvc3RBdHRyaWJ1dGVzOiB0cnVlXG59O1xuXG5jb25zdCBleGNsdWRlT25JbmZvID0ge1xuICBhdHRhY2hlZDogdHJ1ZSxcbiAgZGV0YWNoZWQ6IHRydWUsXG4gIHJlYWR5OiB0cnVlLFxuICBjcmVhdGVkOiB0cnVlLFxuICBiZWZvcmVSZWdpc3RlcjogdHJ1ZSxcbiAgcmVnaXN0ZXJlZDogdHJ1ZSxcbiAgYXR0cmlidXRlQ2hhbmdlZDogdHJ1ZSxcbiAgYmVoYXZpb3JzOiB0cnVlLFxuICBfbm9BY2Nlc3NvcnM6IHRydWVcbn07XG5cbmNvbnN0IGV4Y2x1ZGVPbkJlaGF2aW9ycyA9IE9iamVjdC5hc3NpZ24oe1xuICBsaXN0ZW5lcnM6IHRydWUsXG4gIGhvc3RBdHRyaWJ1dGVzOiB0cnVlLFxuICBwcm9wZXJ0aWVzOiB0cnVlLFxuICBvYnNlcnZlcnM6IHRydWUsXG59LCBleGNsdWRlT25JbmZvKTtcblxuZnVuY3Rpb24gY29weVByb3BlcnRpZXMoc291cmNlLCB0YXJnZXQsIGV4Y2x1ZGVQcm9wcykge1xuICBjb25zdCBub0FjY2Vzc29ycyA9IHNvdXJjZS5fbm9BY2Nlc3NvcnM7XG4gIGNvbnN0IHByb3BlcnR5TmFtZXMgPSBPYmplY3QuZ2V0T3duUHJvcGVydHlOYW1lcyhzb3VyY2UpO1xuICBmb3IgKGxldCBpID0gMDsgaSA8IHByb3BlcnR5TmFtZXMubGVuZ3RoOyBpKyspIHtcbiAgICBsZXQgcCA9IHByb3BlcnR5TmFtZXNbaV07XG4gICAgaWYgKHAgaW4gZXhjbHVkZVByb3BzKSB7XG4gICAgICBjb250aW51ZTtcbiAgICB9XG4gICAgaWYgKG5vQWNjZXNzb3JzKSB7XG4gICAgICB0YXJnZXRbcF0gPSBzb3VyY2VbcF07XG4gICAgfSBlbHNlIHtcbiAgICAgIGxldCBwZCA9IE9iamVjdC5nZXRPd25Qcm9wZXJ0eURlc2NyaXB0b3Ioc291cmNlLCBwKTtcbiAgICAgIGlmIChwZCkge1xuICAgICAgICAvLyBlbnN1cmUgcHJvcGVydHkgaXMgY29uZmlndXJhYmxlIHNvIHRoYXQgYSBsYXRlciBiZWhhdmlvciBjYW5cbiAgICAgICAgLy8gcmUtY29uZmlndXJlIGl0LlxuICAgICAgICBwZC5jb25maWd1cmFibGUgPSB0cnVlO1xuICAgICAgICBPYmplY3QuZGVmaW5lUHJvcGVydHkodGFyZ2V0LCBwLCBwZCk7XG4gICAgICB9XG4gICAgfVxuICB9XG59XG5cbi8qKlxuICogQXBwbGllcyBhIFwibGVnYWN5XCIgYmVoYXZpb3Igb3IgYXJyYXkgb2YgYmVoYXZpb3JzIHRvIHRoZSBwcm92aWRlZCBjbGFzcy5cbiAqXG4gKiBOb3RlOiB0aGlzIG1ldGhvZCB3aWxsIGF1dG9tYXRpY2FsbHkgYWxzbyBhcHBseSB0aGUgYExlZ2FjeUVsZW1lbnRNaXhpbmBcbiAqIHRvIGVuc3VyZSB0aGF0IGFueSBsZWdhY3kgYmVoYXZpb3JzIGNhbiByZWx5IG9uIGxlZ2FjeSBQb2x5bWVyIEFQSSBvblxuICogdGhlIHVuZGVybHlpbmcgZWxlbWVudC5cbiAqXG4gKiBAZnVuY3Rpb25cbiAqIEB0ZW1wbGF0ZSBUXG4gKiBAcGFyYW0geyFPYmplY3R8IUFycmF5PCFPYmplY3Q+fSBiZWhhdmlvcnMgQmVoYXZpb3Igb2JqZWN0IG9yIGFycmF5IG9mIGJlaGF2aW9ycy5cbiAqIEBwYXJhbSB7ZnVuY3Rpb24obmV3OlQpfSBrbGFzcyBFbGVtZW50IGNsYXNzLlxuICogQHJldHVybiB7P30gUmV0dXJucyBhIG5ldyBFbGVtZW50IGNsYXNzIGV4dGVuZGVkIGJ5IHRoZVxuICogcGFzc2VkIGluIGBiZWhhdmlvcnNgIGFuZCBhbHNvIGJ5IGBMZWdhY3lFbGVtZW50TWl4aW5gLlxuICogQHN1cHByZXNzIHtpbnZhbGlkQ2FzdHMsIGNoZWNrVHlwZXN9XG4gKi9cbmV4cG9ydCBmdW5jdGlvbiBtaXhpbkJlaGF2aW9ycyhiZWhhdmlvcnMsIGtsYXNzKSB7XG4gIHJldHVybiBHZW5lcmF0ZUNsYXNzRnJvbUluZm8oe30sIExlZ2FjeUVsZW1lbnRNaXhpbihrbGFzcyksIGJlaGF2aW9ycyk7XG59XG5cbi8vIE5PVEU6XG4vLyAxLnhcbi8vIEJlaGF2aW9ycyB3ZXJlIG1peGVkIGluICppbiByZXZlcnNlIG9yZGVyKiBhbmQgZGUtZHVwZWQgb24gdGhlIGZseS5cbi8vIFRoZSBydWxlIHdhcyB0aGF0IGJlaGF2aW9yIHByb3BlcnRpZXMgd2VyZSBjb3BpZWQgb250byB0aGUgZWxlbWVudFxuLy8gcHJvdG90eXBlIGlmIGFuZCBvbmx5IGlmIHRoZSBwcm9wZXJ0eSBkaWQgbm90IGFscmVhZHkgZXhpc3QuXG4vLyBHaXZlbjogUG9seW1lcnsgYmVoYXZpb3JzOiBbQSwgQiwgQywgQSwgQl19LCBwcm9wZXJ0eSBjb3B5IG9yZGVyIHdhczpcbi8vICgxKSwgQiwgKDIpLCBBLCAoMykgQy4gVGhpcyBtZWFucyBwcm90b3R5cGUgcHJvcGVydGllcyB3aW4gb3ZlclxuLy8gQiBwcm9wZXJ0aWVzIHdpbiBvdmVyIEEgd2luIG92ZXIgQy4gVGhpcyBtaXJyb3JzIHdoYXQgd291bGQgaGFwcGVuXG4vLyB3aXRoIGluaGVyaXRhbmNlIGlmIGVsZW1lbnQgZXh0ZW5kZWQgQiBleHRlbmRlZCBBIGV4dGVuZGVkIEMuXG4vL1xuLy8gQWdhaW4gZ2l2ZW4sIFBvbHltZXJ7IGJlaGF2aW9yczogW0EsIEIsIEMsIEEsIEJdfSwgdGhlIHJlc3VsdGluZ1xuLy8gYGJlaGF2aW9yc2AgYXJyYXkgd2FzIFtDLCBBLCBCXS5cbi8vIEJlaGF2aW9yIGxpZmVjeWNsZSBtZXRob2RzIHdlcmUgY2FsbGVkIGluIGJlaGF2aW9yIGFycmF5IG9yZGVyXG4vLyBmb2xsb3dlZCBieSB0aGUgZWxlbWVudCwgZS5nLiAoMSkgQy5jcmVhdGVkLCAoMikgQS5jcmVhdGVkLFxuLy8gKDMpIEIuY3JlYXRlZCwgKDQpIGVsZW1lbnQuY3JlYXRlZC4gVGhlcmUgd2FzIG5vIHN1cHBvcnQgZm9yXG4vLyBzdXBlciwgYW5kIFwic3VwZXItYmVoYXZpb3JcIiBtZXRob2RzIHdlcmUgY2FsbGFibGUgb25seSBieSBuYW1lKS5cbi8vXG4vLyAyLnhcbi8vIEJlaGF2aW9ycyBhcmUgbWFkZSBpbnRvIHByb3BlciBtaXhpbnMgd2hpY2ggbGl2ZSBpbiB0aGVcbi8vIGVsZW1lbnQncyBwcm90b3R5cGUgY2hhaW4uIEJlaGF2aW9ycyBhcmUgcGxhY2VkIGluIHRoZSBlbGVtZW50IHByb3RvdHlwZVxuLy8gZWxkZXN0IHRvIHlvdW5nZXN0IGFuZCBkZS1kdXBlZCB5b3VuZ2VzdCB0byBvbGRlc3Q6XG4vLyBTbywgZmlyc3QgW0EsIEIsIEMsIEEsIEJdIGJlY29tZXMgW0MsIEEsIEJdIHRoZW4sXG4vLyB0aGUgZWxlbWVudCBwcm90b3R5cGUgYmVjb21lcyAob2xkZXN0KSAoMSkgUG9seW1lckVsZW1lbnQsICgyKSBjbGFzcyhDKSxcbi8vICgzKSBjbGFzcyhBKSwgKDQpIGNsYXNzKEIpLCAoNSkgY2xhc3MoUG9seW1lcih7Li4ufSkpLlxuLy8gUmVzdWx0OlxuLy8gVGhpcyBtZWFucyBlbGVtZW50IHByb3BlcnRpZXMgd2luIG92ZXIgQiBwcm9wZXJ0aWVzIHdpbiBvdmVyIEEgd2luXG4vLyBvdmVyIEMuIChzYW1lIGFzIDEueClcbi8vIElmIGxpZmVjeWNsZSBpcyBjYWxsZWQgKHN1cGVyIHRoZW4gbWUpLCBvcmRlciBpc1xuLy8gKDEpIEMuY3JlYXRlZCwgKDIpIEEuY3JlYXRlZCwgKDMpIEIuY3JlYXRlZCwgKDQpIGVsZW1lbnQuY3JlYXRlZFxuLy8gKGFnYWluIHNhbWUgYXMgMS54KVxuZnVuY3Rpb24gYXBwbHlCZWhhdmlvcnMocHJvdG8sIGJlaGF2aW9ycywgbGlmZWN5Y2xlKSB7XG4gIGZvciAobGV0IGk9MDsgaTxiZWhhdmlvcnMubGVuZ3RoOyBpKyspIHtcbiAgICBhcHBseUluZm8ocHJvdG8sIGJlaGF2aW9yc1tpXSwgbGlmZWN5Y2xlLCBleGNsdWRlT25CZWhhdmlvcnMpO1xuICB9XG59XG5cbmZ1bmN0aW9uIGFwcGx5SW5mbyhwcm90bywgaW5mbywgbGlmZWN5Y2xlLCBleGNsdWRlUHJvcHMpIHtcbiAgY29weVByb3BlcnRpZXMoaW5mbywgcHJvdG8sIGV4Y2x1ZGVQcm9wcyk7XG4gIGZvciAobGV0IHAgaW4gbGlmZWN5Y2xlUHJvcHMpIHtcbiAgICBpZiAoaW5mb1twXSkge1xuICAgICAgbGlmZWN5Y2xlW3BdID0gbGlmZWN5Y2xlW3BdIHx8IFtdO1xuICAgICAgbGlmZWN5Y2xlW3BdLnB1c2goaW5mb1twXSk7XG4gICAgfVxuICB9XG59XG5cbi8qKlxuICogQHBhcmFtIHtBcnJheX0gYmVoYXZpb3JzIExpc3Qgb2YgYmVoYXZpb3JzIHRvIGZsYXR0ZW4uXG4gKiBAcGFyYW0ge0FycmF5PX0gbGlzdCBUYXJnZXQgbGlzdCB0byBmbGF0dGVuIGJlaGF2aW9ycyBpbnRvLlxuICogQHBhcmFtIHtBcnJheT19IGV4Y2x1ZGUgTGlzdCBvZiBiZWhhdmlvcnMgdG8gZXhjbHVkZSBmcm9tIHRoZSBsaXN0LlxuICogQHJldHVybiB7IUFycmF5fSBSZXR1cm5zIHRoZSBsaXN0IG9mIGZsYXR0ZW5lZCBiZWhhdmlvcnMuXG4gKi9cbmZ1bmN0aW9uIGZsYXR0ZW5CZWhhdmlvcnMoYmVoYXZpb3JzLCBsaXN0LCBleGNsdWRlKSB7XG4gIGxpc3QgPSBsaXN0IHx8IFtdO1xuICBmb3IgKGxldCBpPWJlaGF2aW9ycy5sZW5ndGgtMTsgaSA+PSAwOyBpLS0pIHtcbiAgICBsZXQgYiA9IGJlaGF2aW9yc1tpXTtcbiAgICBpZiAoYikge1xuICAgICAgaWYgKEFycmF5LmlzQXJyYXkoYikpIHtcbiAgICAgICAgZmxhdHRlbkJlaGF2aW9ycyhiLCBsaXN0KTtcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIC8vIGRlZHVwXG4gICAgICAgIGlmIChsaXN0LmluZGV4T2YoYikgPCAwICYmICghZXhjbHVkZSB8fCBleGNsdWRlLmluZGV4T2YoYikgPCAwKSkge1xuICAgICAgICAgIGxpc3QudW5zaGlmdChiKTtcbiAgICAgICAgfVxuICAgICAgfVxuICAgIH0gZWxzZSB7XG4gICAgICBjb25zb2xlLndhcm4oJ2JlaGF2aW9yIGlzIG51bGwsIGNoZWNrIGZvciBtaXNzaW5nIG9yIDQwNCBpbXBvcnQnKTtcbiAgICB9XG4gIH1cbiAgcmV0dXJuIGxpc3Q7XG59XG5cbi8qKlxuICogQ29waWVzIHByb3BlcnR5IGRlc2NyaXB0b3JzIGZyb20gc291cmNlIHRvIHRhcmdldCwgb3ZlcndyaXRpbmcgYWxsIGZpZWxkc1xuICogb2YgYW55IHByZXZpb3VzIGRlc2NyaXB0b3IgZm9yIGEgcHJvcGVydHkgKmV4Y2VwdCogZm9yIGB2YWx1ZWAsIHdoaWNoIGlzXG4gKiBtZXJnZWQgaW4gZnJvbSB0aGUgdGFyZ2V0IGlmIGl0IGRvZXMgbm90IGV4aXN0IG9uIHRoZSBzb3VyY2UuXG4gKiBcbiAqIEBwYXJhbSB7Kn0gdGFyZ2V0IFRhcmdldCBwcm9wZXJ0aWVzIG9iamVjdFxuICogQHBhcmFtIHsqfSBzb3VyY2UgU291cmNlIHByb3BlcnRpZXMgb2JqZWN0XG4gKi9cbmZ1bmN0aW9uIG1lcmdlUHJvcGVydGllcyh0YXJnZXQsIHNvdXJjZSkge1xuICBmb3IgKGNvbnN0IHAgaW4gc291cmNlKSB7XG4gICAgY29uc3QgdGFyZ2V0SW5mbyA9IHRhcmdldFtwXTtcbiAgICBjb25zdCBzb3VyY2VJbmZvID0gc291cmNlW3BdO1xuICAgIGlmICghKCd2YWx1ZScgaW4gc291cmNlSW5mbykgJiYgdGFyZ2V0SW5mbyAmJiAoJ3ZhbHVlJyBpbiB0YXJnZXRJbmZvKSkge1xuICAgICAgdGFyZ2V0W3BdID0gT2JqZWN0LmFzc2lnbih7dmFsdWU6IHRhcmdldEluZm8udmFsdWV9LCBzb3VyY2VJbmZvKTtcbiAgICB9IGVsc2Uge1xuICAgICAgdGFyZ2V0W3BdID0gc291cmNlSW5mbztcbiAgICB9XG4gIH1cbn1cblxuLyogTm90ZSBhYm91dCBjb25zdHJ1Y3Rpb24gYW5kIGV4dGVuc2lvbiBvZiBsZWdhY3kgY2xhc3Nlcy5cbiAgW0NoYW5nZWQgaW4gUTQgMjAxOCB0byBvcHRpbWl6ZSBwZXJmb3JtYW5jZS5dXG5cbiAgV2hlbiBjYWxsaW5nIGBQb2x5bWVyYCBvciBgbWl4aW5CZWhhdmlvcnNgLCB0aGUgZ2VuZXJhdGVkIGNsYXNzIGJlbG93IGlzXG4gIG1hZGUuIFRoZSBsaXN0IG9mIGJlaGF2aW9ycyB3YXMgcHJldmlvdXNseSBtYWRlIGludG8gb25lIGdlbmVyYXRlZCBjbGFzcyBwZXJcbiAgYmVoYXZpb3IsIGJ1dCB0aGlzIGlzIG5vIGxvbmdlciB0aGUgY2FzZSBhcyBiZWhhdmlvcnMgYXJlIG5vdyBjYWxsZWRcbiAgbWFudWFsbHkuIE5vdGUsIHRoZXJlIG1heSAqc3RpbGwqIGJlIG11bHRpcGxlIGdlbmVyYXRlZCBjbGFzc2VzIGluIHRoZVxuICBlbGVtZW50J3MgcHJvdG90eXBlIGNoYWluIGlmIGV4dGVuc2lvbiBpcyB1c2VkIHdpdGggYG1peGluQmVoYXZpb3JzYC5cblxuICBUaGUgZ2VuZXJhdGVkIGNsYXNzIGlzIGRpcmVjdGx5IHRpZWQgdG8gdGhlIGluZm8gb2JqZWN0IGFuZCBiZWhhdmlvcnNcbiAgdXNlZCB0byBjcmVhdGUgaXQuIFRoYXQgbGlzdCBvZiBiZWhhdmlvcnMgaXMgZmlsdGVyZWQgc28gaXQncyBvbmx5IHRoZVxuICBiZWhhdmlvcnMgbm90IGFjdGl2ZSBvbiB0aGUgc3VwZXJjbGFzcy4gSW4gb3JkZXIgdG8gY2FsbCB0aHJvdWdoIHRvIHRoZVxuICBlbnRpcmUgbGlzdCBvZiBsaWZlY3ljbGUgbWV0aG9kcywgaXQncyBpbXBvcnRhbnQgdG8gY2FsbCBgc3VwZXJgLlxuXG4gIFRoZSBlbGVtZW50J3MgYHByb3BlcnRpZXNgIGFuZCBgb2JzZXJ2ZXJzYCBhcmUgY29udHJvbGxlZCB2aWEgdGhlIGZpbmFsaXphdGlvblxuICBtZWNoYW5pc20gcHJvdmlkZWQgYnkgYFByb3BlcnRpZXNNaXhpbmAuIGBQcm9wZXJ0aWVzYCBhbmQgYG9ic2VydmVyc2AgYXJlXG4gIGNvbGxlY3RlZCBieSBtYW51YWxseSB0cmF2ZXJzaW5nIHRoZSBwcm90b3R5cGUgY2hhaW4gYW5kIG1lcmdpbmcuXG5cbiAgVG8gbGltaXQgY2hhbmdlcywgdGhlIGBfcmVnaXN0ZXJlZGAgbWV0aG9kIGlzIGNhbGxlZCB2aWEgYF9pbml0aWFsaXplUHJvcGVydGllc2BcbiAgYW5kIG5vdCBgX2ZpbmFsaXplQ2xhc3NgLlxuXG4qL1xuLyoqXG4gKiBAcGFyYW0geyFQb2x5bWVySW5pdH0gaW5mbyBQb2x5bWVyIGluZm8gb2JqZWN0XG4gKiBAcGFyYW0ge2Z1bmN0aW9uKG5ldzpIVE1MRWxlbWVudCl9IEJhc2UgYmFzZSBjbGFzcyB0byBleHRlbmQgd2l0aCBpbmZvIG9iamVjdFxuICogQHBhcmFtIHtPYmplY3Q9fSBiZWhhdmlvcnMgYmVoYXZpb3JzIHRvIGNvcHkgaW50byB0aGUgZWxlbWVudFxuICogQHJldHVybiB7ZnVuY3Rpb24obmV3OkhUTUxFbGVtZW50KX0gR2VuZXJhdGVkIGNsYXNzXG4gKiBAc3VwcHJlc3Mge2NoZWNrVHlwZXN9XG4gKiBAcHJpdmF0ZVxuICovXG5mdW5jdGlvbiBHZW5lcmF0ZUNsYXNzRnJvbUluZm8oaW5mbywgQmFzZSwgYmVoYXZpb3JzKSB7XG5cbiAgLy8gbWFuYWdlcyBiZWhhdmlvciBhbmQgbGlmZWN5Y2xlIHByb2Nlc3NpbmcgKGZpbGxlZCBpbiBhZnRlciBjbGFzcyBkZWZpbml0aW9uKVxuICBsZXQgYmVoYXZpb3JMaXN0O1xuICBjb25zdCBsaWZlY3ljbGUgPSB7fTtcblxuICAvKiogQHByaXZhdGUgKi9cbiAgY2xhc3MgUG9seW1lckdlbmVyYXRlZCBleHRlbmRzIEJhc2Uge1xuXG4gICAgLy8gZXhwbGljaXRseSBub3QgY2FsbGluZyBzdXBlci5fZmluYWxpemVDbGFzc1xuICAgIHN0YXRpYyBfZmluYWxpemVDbGFzcygpIHtcbiAgICAgIC8vIGlmIGNhbGxpbmcgdmlhIGEgc3ViY2xhc3MgdGhhdCBoYXNuJ3QgYmVlbiBnZW5lcmF0ZWQsIHBhc3MgdGhyb3VnaCB0byBzdXBlclxuICAgICAgaWYgKCF0aGlzLmhhc093blByb3BlcnR5KEpTQ29tcGlsZXJfcmVuYW1lUHJvcGVydHkoJ2dlbmVyYXRlZEZyb20nLCB0aGlzKSkpIHtcbiAgICAgICAgc3VwZXIuX2ZpbmFsaXplQ2xhc3MoKTtcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIC8vIGludGVybGVhdmUgcHJvcGVydGllcyBhbmQgb2JzZXJ2ZXJzIHBlciBiZWhhdmlvciBhbmQgYGluZm9gXG4gICAgICAgIGlmIChiZWhhdmlvckxpc3QpIHtcbiAgICAgICAgICBmb3IgKGxldCBpPTAsIGI7IGkgPCBiZWhhdmlvckxpc3QubGVuZ3RoOyBpKyspIHtcbiAgICAgICAgICAgIGIgPSBiZWhhdmlvckxpc3RbaV07XG4gICAgICAgICAgICBpZiAoYi5wcm9wZXJ0aWVzKSB7XG4gICAgICAgICAgICAgIHRoaXMuY3JlYXRlUHJvcGVydGllcyhiLnByb3BlcnRpZXMpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgaWYgKGIub2JzZXJ2ZXJzKSB7XG4gICAgICAgICAgICAgIHRoaXMuY3JlYXRlT2JzZXJ2ZXJzKGIub2JzZXJ2ZXJzLCBiLnByb3BlcnRpZXMpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICBpZiAoaW5mby5wcm9wZXJ0aWVzKSB7XG4gICAgICAgICAgdGhpcy5jcmVhdGVQcm9wZXJ0aWVzKGluZm8ucHJvcGVydGllcyk7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKGluZm8ub2JzZXJ2ZXJzKSB7XG4gICAgICAgICAgdGhpcy5jcmVhdGVPYnNlcnZlcnMoaW5mby5vYnNlcnZlcnMsIGluZm8ucHJvcGVydGllcyk7XG4gICAgICAgIH1cbiAgICAgICAgLy8gbWFrZSBzdXJlIHRvIHByZXBhcmUgdGhlIGVsZW1lbnQgdGVtcGxhdGVcbiAgICAgICAgdGhpcy5fcHJlcGFyZVRlbXBsYXRlKCk7XG4gICAgICB9XG4gICAgfVxuXG4gICAgc3RhdGljIGdldCBwcm9wZXJ0aWVzKCkge1xuICAgICAgY29uc3QgcHJvcGVydGllcyA9IHt9O1xuICAgICAgaWYgKGJlaGF2aW9yTGlzdCkge1xuICAgICAgICBmb3IgKGxldCBpPTA7IGkgPCBiZWhhdmlvckxpc3QubGVuZ3RoOyBpKyspIHtcbiAgICAgICAgICBtZXJnZVByb3BlcnRpZXMocHJvcGVydGllcywgYmVoYXZpb3JMaXN0W2ldLnByb3BlcnRpZXMpO1xuICAgICAgICB9XG4gICAgICB9XG4gICAgICBtZXJnZVByb3BlcnRpZXMocHJvcGVydGllcywgaW5mby5wcm9wZXJ0aWVzKTtcbiAgICAgIHJldHVybiBwcm9wZXJ0aWVzO1xuICAgIH1cblxuICAgIHN0YXRpYyBnZXQgb2JzZXJ2ZXJzKCkge1xuICAgICAgbGV0IG9ic2VydmVycyA9IFtdO1xuICAgICAgaWYgKGJlaGF2aW9yTGlzdCkge1xuICAgICAgICBmb3IgKGxldCBpPTAsIGI7IGkgPCBiZWhhdmlvckxpc3QubGVuZ3RoOyBpKyspIHtcbiAgICAgICAgICBiID0gYmVoYXZpb3JMaXN0W2ldO1xuICAgICAgICAgIGlmIChiLm9ic2VydmVycykge1xuICAgICAgICAgICAgb2JzZXJ2ZXJzID0gb2JzZXJ2ZXJzLmNvbmNhdChiLm9ic2VydmVycyk7XG4gICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICB9XG4gICAgICBpZiAoaW5mby5vYnNlcnZlcnMpIHtcbiAgICAgICAgb2JzZXJ2ZXJzID0gb2JzZXJ2ZXJzLmNvbmNhdChpbmZvLm9ic2VydmVycyk7XG4gICAgICB9XG4gICAgICByZXR1cm4gb2JzZXJ2ZXJzO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIEByZXR1cm4ge3ZvaWR9XG4gICAgICovXG4gICAgY3JlYXRlZCgpIHtcbiAgICAgIHN1cGVyLmNyZWF0ZWQoKTtcbiAgICAgIGNvbnN0IGxpc3QgPSBsaWZlY3ljbGUuY3JlYXRlZDtcbiAgICAgIGlmIChsaXN0KSB7XG4gICAgICAgIGZvciAobGV0IGk9MDsgaSA8IGxpc3QubGVuZ3RoOyBpKyspIHtcbiAgICAgICAgICBsaXN0W2ldLmNhbGwodGhpcyk7XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBAcmV0dXJuIHt2b2lkfVxuICAgICAqL1xuICAgIF9yZWdpc3RlcmVkKCkge1xuICAgICAgLyogTk9URTogYGJlZm9yZVJlZ2lzdGVyYCBpcyBjYWxsZWQgaGVyZSBmb3IgYmMsIGJ1dCB0aGUgYmVoYXZpb3JcbiAgICAgICAgaXMgZGlmZmVyZW50IHRoYW4gaW4gMS54LiBJbiAxLjAsIHRoZSBtZXRob2Qgd2FzIGNhbGxlZCAqYWZ0ZXIqXG4gICAgICAgIG1peGluZyBwcm90b3R5cGVzIHRvZ2V0aGVyIGJ1dCAqYmVmb3JlKiBwcm9jZXNzaW5nIG9mIG1ldGEtb2JqZWN0cy5cbiAgICAgICAgSG93ZXZlciwgZHluYW1pYyBlZmZlY3RzIGNhbiBzdGlsbCBiZSBzZXQgaGVyZSBhbmQgY2FuIGJlIGRvbmUgZWl0aGVyXG4gICAgICAgIGluIGBiZWZvcmVSZWdpc3RlcmAgb3IgYHJlZ2lzdGVyZWRgLiBJdCBpcyBubyBsb25nZXIgcG9zc2libGUgdG8gc2V0XG4gICAgICAgIGBpc2AgaW4gYGJlZm9yZVJlZ2lzdGVyYCBhcyB5b3UgY291bGQgaW4gMS54LlxuICAgICAgKi9cbiAgICAgIC8vIG9ubHkgcHJvY2VlZCBpZiB0aGUgZ2VuZXJhdGVkIGNsYXNzJyBwcm90b3R5cGUgaGFzIG5vdCBiZWVuIHJlZ2lzdGVyZWQuXG4gICAgICBjb25zdCBnZW5lcmF0ZWRQcm90byA9IFBvbHltZXJHZW5lcmF0ZWQucHJvdG90eXBlO1xuICAgICAgaWYgKCFnZW5lcmF0ZWRQcm90by5oYXNPd25Qcm9wZXJ0eSgnX19oYXNSZWdpc3RlckZpbmlzaGVkJykpIHtcbiAgICAgICAgZ2VuZXJhdGVkUHJvdG8uX19oYXNSZWdpc3RlckZpbmlzaGVkID0gdHJ1ZTtcbiAgICAgICAgLy8gZW5zdXJlIHN1cGVyY2xhc3MgaXMgcmVnaXN0ZXJlZCBmaXJzdC5cbiAgICAgICAgc3VwZXIuX3JlZ2lzdGVyZWQoKTtcbiAgICAgICAgLy8gY29weSBwcm9wZXJ0aWVzIG9udG8gdGhlIGdlbmVyYXRlZCBjbGFzcyBsYXppbHkgaWYgd2UncmUgb3B0aW1pemluZyxcbiAgICAgICAgaWYgKGxlZ2FjeU9wdGltaXphdGlvbnMpIHtcbiAgICAgICAgICBjb3B5UHJvcGVydGllc1RvUHJvdG8oZ2VuZXJhdGVkUHJvdG8pO1xuICAgICAgICB9XG4gICAgICAgIC8vIG1ha2Ugc3VyZSBsZWdhY3kgbGlmZWN5Y2xlIGlzIGNhbGxlZCBvbiB0aGUgKmVsZW1lbnQqJ3MgcHJvdG90eXBlXG4gICAgICAgIC8vIGFuZCBub3QgdGhlIGdlbmVyYXRlZCBjbGFzcyBwcm90b3R5cGU7IGlmIHRoZSBlbGVtZW50IGhhcyBiZWVuXG4gICAgICAgIC8vIGV4dGVuZGVkLCB0aGVzZSBhcmUgKm5vdCogdGhlIHNhbWUuXG4gICAgICAgIGNvbnN0IHByb3RvID0gT2JqZWN0LmdldFByb3RvdHlwZU9mKHRoaXMpO1xuICAgICAgICBsZXQgbGlzdCA9IGxpZmVjeWNsZS5iZWZvcmVSZWdpc3RlcjtcbiAgICAgICAgaWYgKGxpc3QpIHtcbiAgICAgICAgICBmb3IgKGxldCBpPTA7IGkgPCBsaXN0Lmxlbmd0aDsgaSsrKSB7XG4gICAgICAgICAgICBsaXN0W2ldLmNhbGwocHJvdG8pO1xuICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICBsaXN0ID0gbGlmZWN5Y2xlLnJlZ2lzdGVyZWQ7XG4gICAgICAgIGlmIChsaXN0KSB7XG4gICAgICAgICAgZm9yIChsZXQgaT0wOyBpIDwgbGlzdC5sZW5ndGg7IGkrKykge1xuICAgICAgICAgICAgbGlzdFtpXS5jYWxsKHByb3RvKTtcbiAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBAcmV0dXJuIHt2b2lkfVxuICAgICAqL1xuICAgIF9hcHBseUxpc3RlbmVycygpIHtcbiAgICAgIHN1cGVyLl9hcHBseUxpc3RlbmVycygpO1xuICAgICAgY29uc3QgbGlzdCA9IGxpZmVjeWNsZS5saXN0ZW5lcnM7XG4gICAgICBpZiAobGlzdCkge1xuICAgICAgICBmb3IgKGxldCBpPTA7IGkgPCBsaXN0Lmxlbmd0aDsgaSsrKSB7XG4gICAgICAgICAgY29uc3QgbGlzdGVuZXJzID0gbGlzdFtpXTtcbiAgICAgICAgICBpZiAobGlzdGVuZXJzKSB7XG4gICAgICAgICAgICBmb3IgKGxldCBsIGluIGxpc3RlbmVycykge1xuICAgICAgICAgICAgICB0aGlzLl9hZGRNZXRob2RFdmVudExpc3RlbmVyVG9Ob2RlKHRoaXMsIGwsIGxpc3RlbmVyc1tsXSk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICB9XG4gICAgfVxuXG4gICAgLy8gbm90ZTogZXhjZXB0aW9uIHRvIFwic3VwZXIgdGhlbiBtZVwiIHJ1bGU7XG4gICAgLy8gZG8gd29yayBiZWZvcmUgY2FsbGluZyBzdXBlciBzbyB0aGF0IHN1cGVyIGF0dHJpYnV0ZXNcbiAgICAvLyBvbmx5IGFwcGx5IGlmIG5vdCBhbHJlYWR5IHNldC5cbiAgICAvKipcbiAgICAgKiBAcmV0dXJuIHt2b2lkfVxuICAgICAqL1xuICAgIF9lbnN1cmVBdHRyaWJ1dGVzKCkge1xuICAgICAgY29uc3QgbGlzdCA9IGxpZmVjeWNsZS5ob3N0QXR0cmlidXRlcztcbiAgICAgIGlmIChsaXN0KSB7XG4gICAgICAgIGZvciAobGV0IGk9bGlzdC5sZW5ndGgtMTsgaSA+PSAwOyBpLS0pIHtcbiAgICAgICAgICBjb25zdCBob3N0QXR0cmlidXRlcyA9IGxpc3RbaV07XG4gICAgICAgICAgZm9yIChsZXQgYSBpbiBob3N0QXR0cmlidXRlcykge1xuICAgICAgICAgICAgICB0aGlzLl9lbnN1cmVBdHRyaWJ1dGUoYSwgaG9zdEF0dHJpYnV0ZXNbYV0pO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICB9XG4gICAgICBzdXBlci5fZW5zdXJlQXR0cmlidXRlcygpO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIEByZXR1cm4ge3ZvaWR9XG4gICAgICovXG4gICAgcmVhZHkoKSB7XG4gICAgICBzdXBlci5yZWFkeSgpO1xuICAgICAgbGV0IGxpc3QgPSBsaWZlY3ljbGUucmVhZHk7XG4gICAgICBpZiAobGlzdCkge1xuICAgICAgICBmb3IgKGxldCBpPTA7IGkgPCBsaXN0Lmxlbmd0aDsgaSsrKSB7XG4gICAgICAgICAgbGlzdFtpXS5jYWxsKHRoaXMpO1xuICAgICAgICB9XG4gICAgICB9XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogQHJldHVybiB7dm9pZH1cbiAgICAgKi9cbiAgICBhdHRhY2hlZCgpIHtcbiAgICAgIHN1cGVyLmF0dGFjaGVkKCk7XG4gICAgICBsZXQgbGlzdCA9IGxpZmVjeWNsZS5hdHRhY2hlZDtcbiAgICAgIGlmIChsaXN0KSB7XG4gICAgICAgIGZvciAobGV0IGk9MDsgaSA8IGxpc3QubGVuZ3RoOyBpKyspIHtcbiAgICAgICAgICBsaXN0W2ldLmNhbGwodGhpcyk7XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBAcmV0dXJuIHt2b2lkfVxuICAgICAqL1xuICAgIGRldGFjaGVkKCkge1xuICAgICAgc3VwZXIuZGV0YWNoZWQoKTtcbiAgICAgIGxldCBsaXN0ID0gbGlmZWN5Y2xlLmRldGFjaGVkO1xuICAgICAgaWYgKGxpc3QpIHtcbiAgICAgICAgZm9yIChsZXQgaT0wOyBpIDwgbGlzdC5sZW5ndGg7IGkrKykge1xuICAgICAgICAgIGxpc3RbaV0uY2FsbCh0aGlzKTtcbiAgICAgICAgfVxuICAgICAgfVxuICAgIH1cblxuICAgIC8qKlxuICAgICAqIEltcGxlbWVudHMgbmF0aXZlIEN1c3RvbSBFbGVtZW50cyBgYXR0cmlidXRlQ2hhbmdlZENhbGxiYWNrYCB0b1xuICAgICAqIHNldCBhbiBhdHRyaWJ1dGUgdmFsdWUgdG8gYSBwcm9wZXJ0eSB2aWEgYF9hdHRyaWJ1dGVUb1Byb3BlcnR5YC5cbiAgICAgKlxuICAgICAqIEBwYXJhbSB7c3RyaW5nfSBuYW1lIE5hbWUgb2YgYXR0cmlidXRlIHRoYXQgY2hhbmdlZFxuICAgICAqIEBwYXJhbSB7P3N0cmluZ30gb2xkIE9sZCBhdHRyaWJ1dGUgdmFsdWVcbiAgICAgKiBAcGFyYW0gez9zdHJpbmd9IHZhbHVlIE5ldyBhdHRyaWJ1dGUgdmFsdWVcbiAgICAgKiBAcmV0dXJuIHt2b2lkfVxuICAgICAqL1xuICAgIGF0dHJpYnV0ZUNoYW5nZWQobmFtZSwgb2xkLCB2YWx1ZSkge1xuICAgICAgc3VwZXIuYXR0cmlidXRlQ2hhbmdlZCgpO1xuICAgICAgbGV0IGxpc3QgPSBsaWZlY3ljbGUuYXR0cmlidXRlQ2hhbmdlZDtcbiAgICAgIGlmIChsaXN0KSB7XG4gICAgICAgIGZvciAobGV0IGk9MDsgaSA8IGxpc3QubGVuZ3RoOyBpKyspIHtcbiAgICAgICAgICBsaXN0W2ldLmNhbGwodGhpcywgbmFtZSwgb2xkLCB2YWx1ZSk7XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICB9XG4gIH1cblxuICAvLyBhcHBseSBiZWhhdmlvcnMsIG5vdGUgYWN0dWFsIGNvcHlpbmcgaXMgZG9uZSBsYXppbHkgYXQgZmlyc3QgaW5zdGFuY2UgY3JlYXRpb25cbiAgaWYgKGJlaGF2aW9ycykge1xuICAgIC8vIE5PVEU6IGVuc3VyZSB0aGUgYmVoYXZpb3IgaXMgZXh0ZW5kaW5nIGEgY2xhc3Mgd2l0aFxuICAgIC8vIGxlZ2FjeSBlbGVtZW50IGFwaS4gVGhpcyBpcyBuZWNlc3Nhcnkgc2luY2UgYmVoYXZpb3JzIGV4cGVjdCB0byBiZSBhYmxlXG4gICAgLy8gdG8gYWNjZXNzIDEueCBsZWdhY3kgYXBpLlxuICAgIGlmICghQXJyYXkuaXNBcnJheShiZWhhdmlvcnMpKSB7XG4gICAgICBiZWhhdmlvcnMgPSBbYmVoYXZpb3JzXTtcbiAgICB9XG4gICAgbGV0IHN1cGVyQmVoYXZpb3JzID0gQmFzZS5wcm90b3R5cGUuYmVoYXZpb3JzO1xuICAgIC8vIGdldCBmbGF0dGVuZWQsIGRlZHVwZWQgbGlzdCBvZiBiZWhhdmlvcnMgKm5vdCogYWxyZWFkeSBvbiBzdXBlciBjbGFzc1xuICAgIGJlaGF2aW9yTGlzdCA9IGZsYXR0ZW5CZWhhdmlvcnMoYmVoYXZpb3JzLCBudWxsLCBzdXBlckJlaGF2aW9ycyk7XG4gICAgUG9seW1lckdlbmVyYXRlZC5wcm90b3R5cGUuYmVoYXZpb3JzID0gc3VwZXJCZWhhdmlvcnMgP1xuICAgICAgc3VwZXJCZWhhdmlvcnMuY29uY2F0KGJlaGF2aW9ycykgOiBiZWhhdmlvckxpc3Q7XG4gIH1cblxuICBjb25zdCBjb3B5UHJvcGVydGllc1RvUHJvdG8gPSAocHJvdG8pID0+IHtcbiAgICBpZiAoYmVoYXZpb3JMaXN0KSB7XG4gICAgICBhcHBseUJlaGF2aW9ycyhwcm90bywgYmVoYXZpb3JMaXN0LCBsaWZlY3ljbGUpO1xuICAgIH1cbiAgICBhcHBseUluZm8ocHJvdG8sIGluZm8sIGxpZmVjeWNsZSwgZXhjbHVkZU9uSW5mbyk7XG4gIH07XG5cbiAgLy8gY29weSBwcm9wZXJ0aWVzIGlmIHdlJ3JlIG5vdCBvcHRpbWl6aW5nXG4gIGlmICghbGVnYWN5T3B0aW1pemF0aW9ucykge1xuICAgIGNvcHlQcm9wZXJ0aWVzVG9Qcm90byhQb2x5bWVyR2VuZXJhdGVkLnByb3RvdHlwZSk7XG4gIH1cblxuICBQb2x5bWVyR2VuZXJhdGVkLmdlbmVyYXRlZEZyb20gPSBpbmZvO1xuXG4gIHJldHVybiBQb2x5bWVyR2VuZXJhdGVkO1xufVxuXG4vKipcbiAqIEdlbmVyYXRlcyBhIGNsYXNzIHRoYXQgZXh0ZW5kcyBgTGVnYWN5RWxlbWVudGAgYmFzZWQgb24gdGhlXG4gKiBwcm92aWRlZCBpbmZvIG9iamVjdC4gIE1ldGFkYXRhIG9iamVjdHMgb24gdGhlIGBpbmZvYCBvYmplY3RcbiAqIChgcHJvcGVydGllc2AsIGBvYnNlcnZlcnNgLCBgbGlzdGVuZXJzYCwgYGJlaGF2aW9yc2AsIGBpc2ApIGFyZSB1c2VkXG4gKiBmb3IgUG9seW1lcidzIG1ldGEtcHJvZ3JhbW1pbmcgc3lzdGVtcywgYW5kIGFueSBmdW5jdGlvbnMgYXJlIGNvcGllZFxuICogdG8gdGhlIGdlbmVyYXRlZCBjbGFzcy5cbiAqXG4gKiBWYWxpZCBcIm1ldGFkYXRhXCIgdmFsdWVzIGFyZSBhcyBmb2xsb3dzOlxuICpcbiAqIGBpc2A6IFN0cmluZyBwcm92aWRpbmcgdGhlIHRhZyBuYW1lIHRvIHJlZ2lzdGVyIHRoZSBlbGVtZW50IHVuZGVyLiBJblxuICogYWRkaXRpb24sIGlmIGEgYGRvbS1tb2R1bGVgIHdpdGggdGhlIHNhbWUgaWQgZXhpc3RzLCB0aGUgZmlyc3QgdGVtcGxhdGVcbiAqIGluIHRoYXQgYGRvbS1tb2R1bGVgIHdpbGwgYmUgc3RhbXBlZCBpbnRvIHRoZSBzaGFkb3cgcm9vdCBvZiB0aGlzIGVsZW1lbnQsXG4gKiB3aXRoIHN1cHBvcnQgZm9yIGRlY2xhcmF0aXZlIGV2ZW50IGxpc3RlbmVycyAoYG9uLS4uLmApLCBQb2x5bWVyIGRhdGFcbiAqIGJpbmRpbmdzIChgW1suLi5dXWAgYW5kIGB7ey4uLn19YCksIGFuZCBpZC1iYXNlZCBub2RlIGZpbmRpbmcgaW50b1xuICogYHRoaXMuJGAuXG4gKlxuICogYHByb3BlcnRpZXNgOiBPYmplY3QgZGVzY3JpYmluZyBwcm9wZXJ0eS1yZWxhdGVkIG1ldGFkYXRhIHVzZWQgYnkgUG9seW1lclxuICogZmVhdHVyZXMgKGtleTogcHJvcGVydHkgbmFtZXMsIHZhbHVlOiBvYmplY3QgY29udGFpbmluZyBwcm9wZXJ0eSBtZXRhZGF0YSkuXG4gKiBWYWxpZCBrZXlzIGluIHBlci1wcm9wZXJ0eSBtZXRhZGF0YSBpbmNsdWRlOlxuICogLSBgdHlwZWAgKFN0cmluZ3xOdW1iZXJ8T2JqZWN0fEFycmF5fC4uLik6IFVzZWQgYnlcbiAqICAgYGF0dHJpYnV0ZUNoYW5nZWRDYWxsYmFja2AgdG8gZGV0ZXJtaW5lIGhvdyBzdHJpbmctYmFzZWQgYXR0cmlidXRlc1xuICogICBhcmUgZGVzZXJpYWxpemVkIHRvIEphdmFTY3JpcHQgcHJvcGVydHkgdmFsdWVzLlxuICogLSBgbm90aWZ5YCAoYm9vbGVhbik6IENhdXNlcyBhIGNoYW5nZSBpbiB0aGUgcHJvcGVydHkgdG8gZmlyZSBhXG4gKiAgIG5vbi1idWJibGluZyBldmVudCBjYWxsZWQgYDxwcm9wZXJ0eT4tY2hhbmdlZGAuIEVsZW1lbnRzIHRoYXQgaGF2ZVxuICogICBlbmFibGVkIHR3by13YXkgYmluZGluZyB0byB0aGUgcHJvcGVydHkgdXNlIHRoaXMgZXZlbnQgdG8gb2JzZXJ2ZSBjaGFuZ2VzLlxuICogLSBgcmVhZE9ubHlgIChib29sZWFuKTogQ3JlYXRlcyBhIGdldHRlciBmb3IgdGhlIHByb3BlcnR5LCBidXQgbm8gc2V0dGVyLlxuICogICBUbyBzZXQgYSByZWFkLW9ubHkgcHJvcGVydHksIHVzZSB0aGUgcHJpdmF0ZSBzZXR0ZXIgbWV0aG9kXG4gKiAgIGBfc2V0UHJvcGVydHkocHJvcGVydHksIHZhbHVlKWAuXG4gKiAtIGBvYnNlcnZlcmAgKHN0cmluZyk6IE9ic2VydmVyIG1ldGhvZCBuYW1lIHRoYXQgd2lsbCBiZSBjYWxsZWQgd2hlblxuICogICB0aGUgcHJvcGVydHkgY2hhbmdlcy4gVGhlIGFyZ3VtZW50cyBvZiB0aGUgbWV0aG9kIGFyZVxuICogICBgKHZhbHVlLCBwcmV2aW91c1ZhbHVlKWAuXG4gKiAtIGBjb21wdXRlZGAgKHN0cmluZyk6IFN0cmluZyBkZXNjcmliaW5nIG1ldGhvZCBhbmQgZGVwZW5kZW50IHByb3BlcnRpZXNcbiAqICAgZm9yIGNvbXB1dGluZyB0aGUgdmFsdWUgb2YgdGhpcyBwcm9wZXJ0eSAoZS5nLiBgJ2NvbXB1dGVGb28oYmFyLCB6b3QpJ2ApLlxuICogICBDb21wdXRlZCBwcm9wZXJ0aWVzIGFyZSByZWFkLW9ubHkgYnkgZGVmYXVsdCBhbmQgY2FuIG9ubHkgYmUgY2hhbmdlZFxuICogICB2aWEgdGhlIHJldHVybiB2YWx1ZSBvZiB0aGUgY29tcHV0aW5nIG1ldGhvZC5cbiAqXG4gKiBgb2JzZXJ2ZXJzYDogQXJyYXkgb2Ygc3RyaW5ncyBkZXNjcmliaW5nIG11bHRpLXByb3BlcnR5IG9ic2VydmVyIG1ldGhvZHNcbiAqICBhbmQgdGhlaXIgZGVwZW5kZW50IHByb3BlcnRpZXMgKGUuZy4gYCdvYnNlcnZlQUJDKGEsIGIsIGMpJ2ApLlxuICpcbiAqIGBsaXN0ZW5lcnNgOiBPYmplY3QgZGVzY3JpYmluZyBldmVudCBsaXN0ZW5lcnMgdG8gYmUgYWRkZWQgdG8gZWFjaFxuICogIGluc3RhbmNlIG9mIHRoaXMgZWxlbWVudCAoa2V5OiBldmVudCBuYW1lLCB2YWx1ZTogbWV0aG9kIG5hbWUpLlxuICpcbiAqIGBiZWhhdmlvcnNgOiBBcnJheSBvZiBhZGRpdGlvbmFsIGBpbmZvYCBvYmplY3RzIGNvbnRhaW5pbmcgbWV0YWRhdGFcbiAqIGFuZCBjYWxsYmFja3MgaW4gdGhlIHNhbWUgZm9ybWF0IGFzIHRoZSBgaW5mb2Agb2JqZWN0IGhlcmUgd2hpY2ggYXJlXG4gKiBtZXJnZWQgaW50byB0aGlzIGVsZW1lbnQuXG4gKlxuICogYGhvc3RBdHRyaWJ1dGVzYDogT2JqZWN0IGxpc3RpbmcgYXR0cmlidXRlcyB0byBiZSBhcHBsaWVkIHRvIHRoZSBob3N0XG4gKiAgb25jZSBjcmVhdGVkIChrZXk6IGF0dHJpYnV0ZSBuYW1lLCB2YWx1ZTogYXR0cmlidXRlIHZhbHVlKS4gIFZhbHVlc1xuICogIGFyZSBzZXJpYWxpemVkIGJhc2VkIG9uIHRoZSB0eXBlIG9mIHRoZSB2YWx1ZS4gIEhvc3QgYXR0cmlidXRlcyBzaG91bGRcbiAqICBnZW5lcmFsbHkgYmUgbGltaXRlZCB0byBhdHRyaWJ1dGVzIHN1Y2ggYXMgYHRhYkluZGV4YCBhbmQgYGFyaWEtLi4uYC5cbiAqICBBdHRyaWJ1dGVzIGluIGBob3N0QXR0cmlidXRlc2AgYXJlIG9ubHkgYXBwbGllZCBpZiBhIHVzZXItc3VwcGxpZWRcbiAqICBhdHRyaWJ1dGUgaXMgbm90IGFscmVhZHkgcHJlc2VudCAoYXR0cmlidXRlcyBpbiBtYXJrdXAgb3ZlcnJpZGVcbiAqICBgaG9zdEF0dHJpYnV0ZXNgKS5cbiAqXG4gKiBJbiBhZGRpdGlvbiwgdGhlIGZvbGxvd2luZyBQb2x5bWVyLXNwZWNpZmljIGNhbGxiYWNrcyBtYXkgYmUgcHJvdmlkZWQ6XG4gKiAtIGByZWdpc3RlcmVkYDogY2FsbGVkIGFmdGVyIGZpcnN0IGluc3RhbmNlIG9mIHRoaXMgZWxlbWVudCxcbiAqIC0gYGNyZWF0ZWRgOiBjYWxsZWQgZHVyaW5nIGBjb25zdHJ1Y3RvcmBcbiAqIC0gYGF0dGFjaGVkYDogY2FsbGVkIGR1cmluZyBgY29ubmVjdGVkQ2FsbGJhY2tgXG4gKiAtIGBkZXRhY2hlZGA6IGNhbGxlZCBkdXJpbmcgYGRpc2Nvbm5lY3RlZENhbGxiYWNrYFxuICogLSBgcmVhZHlgOiBjYWxsZWQgYmVmb3JlIGZpcnN0IGBhdHRhY2hlZGAsIGFmdGVyIGFsbCBwcm9wZXJ0aWVzIG9mXG4gKiAgIHRoaXMgZWxlbWVudCBoYXZlIGJlZW4gcHJvcGFnYXRlZCB0byBpdHMgdGVtcGxhdGUgYW5kIGFsbCBvYnNlcnZlcnNcbiAqICAgaGF2ZSBydW5cbiAqXG4gKiBAcGFyYW0geyFQb2x5bWVySW5pdH0gaW5mbyBPYmplY3QgY29udGFpbmluZyBQb2x5bWVyIG1ldGFkYXRhIGFuZCBmdW5jdGlvbnNcbiAqICAgdG8gYmVjb21lIGNsYXNzIG1ldGhvZHMuXG4gKiBAdGVtcGxhdGUgVFxuICogQHBhcmFtIHtmdW5jdGlvbihUKTpUfSBtaXhpbiBPcHRpb25hbCBtaXhpbiB0byBhcHBseSB0byBsZWdhY3kgYmFzZSBjbGFzc1xuICogICBiZWZvcmUgZXh0ZW5kaW5nIHdpdGggUG9seW1lciBtZXRhcHJvZ3JhbW1pbmcuXG4gKiBAcmV0dXJuIHtmdW5jdGlvbihuZXc6SFRNTEVsZW1lbnQpfSBHZW5lcmF0ZWQgY2xhc3NcbiAqL1xuZXhwb3J0IGNvbnN0IENsYXNzID0gZnVuY3Rpb24oaW5mbywgbWl4aW4pIHtcbiAgaWYgKCFpbmZvKSB7XG4gICAgY29uc29sZS53YXJuKCdQb2x5bWVyLkNsYXNzIHJlcXVpcmVzIGBpbmZvYCBhcmd1bWVudCcpO1xuICB9XG4gIGxldCBrbGFzcyA9IG1peGluID8gbWl4aW4oTGVnYWN5RWxlbWVudE1peGluKEhUTUxFbGVtZW50KSkgOlxuICAgICAgTGVnYWN5RWxlbWVudE1peGluKEhUTUxFbGVtZW50KTtcbiAga2xhc3MgPSBHZW5lcmF0ZUNsYXNzRnJvbUluZm8oaW5mbywga2xhc3MsIGluZm8uYmVoYXZpb3JzKTtcbiAgLy8gZGVjb3JhdGUga2xhc3Mgd2l0aCByZWdpc3RyYXRpb24gaW5mb1xuICBrbGFzcy5pcyA9IGtsYXNzLnByb3RvdHlwZS5pcyA9IGluZm8uaXM7XG4gIHJldHVybiBrbGFzcztcbn07XG4iLCIvKipcbkBsaWNlbnNlXG5Db3B5cmlnaHQgKGMpIDIwMTcgVGhlIFBvbHltZXIgUHJvamVjdCBBdXRob3JzLiBBbGwgcmlnaHRzIHJlc2VydmVkLlxuVGhpcyBjb2RlIG1heSBvbmx5IGJlIHVzZWQgdW5kZXIgdGhlIEJTRCBzdHlsZSBsaWNlbnNlIGZvdW5kIGF0IGh0dHA6Ly9wb2x5bWVyLmdpdGh1Yi5pby9MSUNFTlNFLnR4dFxuVGhlIGNvbXBsZXRlIHNldCBvZiBhdXRob3JzIG1heSBiZSBmb3VuZCBhdCBodHRwOi8vcG9seW1lci5naXRodWIuaW8vQVVUSE9SUy50eHRcblRoZSBjb21wbGV0ZSBzZXQgb2YgY29udHJpYnV0b3JzIG1heSBiZSBmb3VuZCBhdCBodHRwOi8vcG9seW1lci5naXRodWIuaW8vQ09OVFJJQlVUT1JTLnR4dFxuQ29kZSBkaXN0cmlidXRlZCBieSBHb29nbGUgYXMgcGFydCBvZiB0aGUgcG9seW1lciBwcm9qZWN0IGlzIGFsc29cbnN1YmplY3QgdG8gYW4gYWRkaXRpb25hbCBJUCByaWdodHMgZ3JhbnQgZm91bmQgYXQgaHR0cDovL3BvbHltZXIuZ2l0aHViLmlvL1BBVEVOVFMudHh0XG4qL1xuaW1wb3J0IHsgQ2xhc3MgfSBmcm9tICcuL2NsYXNzLmpzJztcblxuaW1wb3J0ICcuLi91dGlscy9ib290LmpzJztcblxuLyoqXG4gKiBMZWdhY3kgY2xhc3MgZmFjdG9yeSBhbmQgcmVnaXN0cmF0aW9uIGhlbHBlciBmb3IgZGVmaW5pbmcgUG9seW1lclxuICogZWxlbWVudHMuXG4gKlxuICogVGhpcyBtZXRob2QgaXMgZXF1aXZhbGVudCB0b1xuICpcbiAqICAgICBpbXBvcnQge0NsYXNzfSBmcm9tICdAcG9seW1lci9wb2x5bWVyL2xpYi9sZWdhY3kvY2xhc3MuanMnO1xuICogICAgIGN1c3RvbUVsZW1lbnRzLmRlZmluZShpbmZvLmlzLCBDbGFzcyhpbmZvKSk7XG4gKlxuICogU2VlIGBDbGFzc2AgZm9yIGRldGFpbHMgb24gdmFsaWQgbGVnYWN5IG1ldGFkYXRhIGZvcm1hdCBmb3IgYGluZm9gLlxuICpcbiAqIEBnbG9iYWxcbiAqIEBvdmVycmlkZVxuICogQGZ1bmN0aW9uXG4gKiBAcGFyYW0geyFQb2x5bWVySW5pdH0gaW5mbyBPYmplY3QgY29udGFpbmluZyBQb2x5bWVyIG1ldGFkYXRhIGFuZCBmdW5jdGlvbnNcbiAqICAgdG8gYmVjb21lIGNsYXNzIG1ldGhvZHMuXG4gKiBAcmV0dXJuIHtmdW5jdGlvbihuZXc6IEhUTUxFbGVtZW50KX0gR2VuZXJhdGVkIGNsYXNzXG4gKiBAc3VwcHJlc3Mge2R1cGxpY2F0ZSwgaW52YWxpZENhc3RzLCBjaGVja1R5cGVzfVxuICovXG5jb25zdCBQb2x5bWVyID0gZnVuY3Rpb24oaW5mbykge1xuICAvLyBpZiBpbnB1dCBpcyBhIGBjbGFzc2AgKGFrYSBhIGZ1bmN0aW9uIHdpdGggYSBwcm90b3R5cGUpLCB1c2UgdGhlIHByb3RvdHlwZVxuICAvLyByZW1lbWJlciB0aGF0IHRoZSBgY29uc3RydWN0b3JgIHdpbGwgbmV2ZXIgYmUgY2FsbGVkXG4gIGxldCBrbGFzcztcbiAgaWYgKHR5cGVvZiBpbmZvID09PSAnZnVuY3Rpb24nKSB7XG4gICAga2xhc3MgPSBpbmZvO1xuICB9IGVsc2Uge1xuICAgIGtsYXNzID0gUG9seW1lci5DbGFzcyhpbmZvKTtcbiAgfVxuICBjdXN0b21FbGVtZW50cy5kZWZpbmUoa2xhc3MuaXMsIC8qKiBAdHlwZSB7IUhUTUxFbGVtZW50fSAqLyhrbGFzcykpO1xuICByZXR1cm4ga2xhc3M7XG59O1xuXG5Qb2x5bWVyLkNsYXNzID0gQ2xhc3M7XG5cbmV4cG9ydCB7IFBvbHltZXIgfTsiLCIvKipcbkBsaWNlbnNlXG5Db3B5cmlnaHQgKGMpIDIwMTcgVGhlIFBvbHltZXIgUHJvamVjdCBBdXRob3JzLiBBbGwgcmlnaHRzIHJlc2VydmVkLlxuVGhpcyBjb2RlIG1heSBvbmx5IGJlIHVzZWQgdW5kZXIgdGhlIEJTRCBzdHlsZSBsaWNlbnNlIGZvdW5kIGF0IGh0dHA6Ly9wb2x5bWVyLmdpdGh1Yi5pby9MSUNFTlNFLnR4dFxuVGhlIGNvbXBsZXRlIHNldCBvZiBhdXRob3JzIG1heSBiZSBmb3VuZCBhdCBodHRwOi8vcG9seW1lci5naXRodWIuaW8vQVVUSE9SUy50eHRcblRoZSBjb21wbGV0ZSBzZXQgb2YgY29udHJpYnV0b3JzIG1heSBiZSBmb3VuZCBhdCBodHRwOi8vcG9seW1lci5naXRodWIuaW8vQ09OVFJJQlVUT1JTLnR4dFxuQ29kZSBkaXN0cmlidXRlZCBieSBHb29nbGUgYXMgcGFydCBvZiB0aGUgcG9seW1lciBwcm9qZWN0IGlzIGFsc29cbnN1YmplY3QgdG8gYW4gYWRkaXRpb25hbCBJUCByaWdodHMgZ3JhbnQgZm91bmQgYXQgaHR0cDovL3BvbHltZXIuZ2l0aHViLmlvL1BBVEVOVFMudHh0XG4qL1xuXG4vKipcbiAqIEBmaWxlb3ZlcnZpZXdcbiAqXG4gKiBUaGlzIG1vZHVsZSBwcm92aWRlcyBhIG51bWJlciBvZiBzdHJhdGVnaWVzIGZvciBlbnF1ZXVpbmcgYXN5bmNocm9ub3VzXG4gKiB0YXNrcy4gRWFjaCBzdWItbW9kdWxlIHByb3ZpZGVzIGEgc3RhbmRhcmQgYHJ1bihmbilgIGludGVyZmFjZSB0aGF0IHJldHVybnMgYVxuICogaGFuZGxlLCBhbmQgYSBgY2FuY2VsKGhhbmRsZSlgIGludGVyZmFjZSBmb3IgY2FuY2VsaW5nIGFzeW5jIHRhc2tzIGJlZm9yZVxuICogdGhleSBydW4uXG4gKlxuICogQHN1bW1hcnkgTW9kdWxlIHRoYXQgcHJvdmlkZXMgYSBudW1iZXIgb2Ygc3RyYXRlZ2llcyBmb3IgZW5xdWV1aW5nXG4gKiBhc3luY2hyb25vdXMgdGFza3MuXG4gKi9cblxuaW1wb3J0ICcuL2Jvb3QuanMnO1xuXG4vLyBNaWNyb3Rhc2sgaW1wbGVtZW50ZWQgdXNpbmcgTXV0YXRpb24gT2JzZXJ2ZXJcbmxldCBtaWNyb3Rhc2tDdXJySGFuZGxlID0gMDtcbmxldCBtaWNyb3Rhc2tMYXN0SGFuZGxlID0gMDtcbmxldCBtaWNyb3Rhc2tDYWxsYmFja3MgPSBbXTtcbmxldCBtaWNyb3Rhc2tOb2RlQ29udGVudCA9IDA7XG5sZXQgbWljcm90YXNrTm9kZSA9IGRvY3VtZW50LmNyZWF0ZVRleHROb2RlKCcnKTtcbm5ldyB3aW5kb3cuTXV0YXRpb25PYnNlcnZlcihtaWNyb3Rhc2tGbHVzaCkub2JzZXJ2ZShtaWNyb3Rhc2tOb2RlLCB7Y2hhcmFjdGVyRGF0YTogdHJ1ZX0pO1xuXG5mdW5jdGlvbiBtaWNyb3Rhc2tGbHVzaCgpIHtcbiAgY29uc3QgbGVuID0gbWljcm90YXNrQ2FsbGJhY2tzLmxlbmd0aDtcbiAgZm9yIChsZXQgaSA9IDA7IGkgPCBsZW47IGkrKykge1xuICAgIGxldCBjYiA9IG1pY3JvdGFza0NhbGxiYWNrc1tpXTtcbiAgICBpZiAoY2IpIHtcbiAgICAgIHRyeSB7XG4gICAgICAgIGNiKCk7XG4gICAgICB9IGNhdGNoIChlKSB7XG4gICAgICAgIHNldFRpbWVvdXQoKCkgPT4geyB0aHJvdyBlOyB9KTtcbiAgICAgIH1cbiAgICB9XG4gIH1cbiAgbWljcm90YXNrQ2FsbGJhY2tzLnNwbGljZSgwLCBsZW4pO1xuICBtaWNyb3Rhc2tMYXN0SGFuZGxlICs9IGxlbjtcbn1cblxuLyoqXG4gKiBBc3luYyBpbnRlcmZhY2Ugd3JhcHBlciBhcm91bmQgYHNldFRpbWVvdXRgLlxuICpcbiAqIEBuYW1lc3BhY2VcbiAqIEBzdW1tYXJ5IEFzeW5jIGludGVyZmFjZSB3cmFwcGVyIGFyb3VuZCBgc2V0VGltZW91dGAuXG4gKi9cbmNvbnN0IHRpbWVPdXQgPSB7XG4gIC8qKlxuICAgKiBSZXR1cm5zIGEgc3ViLW1vZHVsZSB3aXRoIHRoZSBhc3luYyBpbnRlcmZhY2UgcHJvdmlkaW5nIHRoZSBwcm92aWRlZFxuICAgKiBkZWxheS5cbiAgICpcbiAgICogQG1lbWJlcm9mIHRpbWVPdXRcbiAgICogQHBhcmFtIHtudW1iZXI9fSBkZWxheSBUaW1lIHRvIHdhaXQgYmVmb3JlIGNhbGxpbmcgY2FsbGJhY2tzIGluIG1zXG4gICAqIEByZXR1cm4geyFBc3luY0ludGVyZmFjZX0gQW4gYXN5bmMgdGltZW91dCBpbnRlcmZhY2VcbiAgICovXG4gIGFmdGVyKGRlbGF5KSB7XG4gICAgcmV0dXJuIHtcbiAgICAgIHJ1bihmbikgeyByZXR1cm4gd2luZG93LnNldFRpbWVvdXQoZm4sIGRlbGF5KTsgfSxcbiAgICAgIGNhbmNlbChoYW5kbGUpIHtcbiAgICAgICAgd2luZG93LmNsZWFyVGltZW91dChoYW5kbGUpO1xuICAgICAgfVxuICAgIH07XG4gIH0sXG4gIC8qKlxuICAgKiBFbnF1ZXVlcyBhIGZ1bmN0aW9uIGNhbGxlZCBpbiB0aGUgbmV4dCB0YXNrLlxuICAgKlxuICAgKiBAbWVtYmVyb2YgdGltZU91dFxuICAgKiBAcGFyYW0geyFGdW5jdGlvbn0gZm4gQ2FsbGJhY2sgdG8gcnVuXG4gICAqIEBwYXJhbSB7bnVtYmVyPX0gZGVsYXkgRGVsYXkgaW4gbWlsbGlzZWNvbmRzXG4gICAqIEByZXR1cm4ge251bWJlcn0gSGFuZGxlIHVzZWQgZm9yIGNhbmNlbGluZyB0YXNrXG4gICAqL1xuICBydW4oZm4sIGRlbGF5KSB7XG4gICAgcmV0dXJuIHdpbmRvdy5zZXRUaW1lb3V0KGZuLCBkZWxheSk7XG4gIH0sXG4gIC8qKlxuICAgKiBDYW5jZWxzIGEgcHJldmlvdXNseSBlbnF1ZXVlZCBgdGltZU91dGAgY2FsbGJhY2suXG4gICAqXG4gICAqIEBtZW1iZXJvZiB0aW1lT3V0XG4gICAqIEBwYXJhbSB7bnVtYmVyfSBoYW5kbGUgSGFuZGxlIHJldHVybmVkIGZyb20gYHJ1bmAgb2YgY2FsbGJhY2sgdG8gY2FuY2VsXG4gICAqIEByZXR1cm4ge3ZvaWR9XG4gICAqL1xuICBjYW5jZWwoaGFuZGxlKSB7XG4gICAgd2luZG93LmNsZWFyVGltZW91dChoYW5kbGUpO1xuICB9XG59O1xuZXhwb3J0IHt0aW1lT3V0fTtcblxuLyoqXG4gKiBBc3luYyBpbnRlcmZhY2Ugd3JhcHBlciBhcm91bmQgYHJlcXVlc3RBbmltYXRpb25GcmFtZWAuXG4gKlxuICogQG5hbWVzcGFjZVxuICogQHN1bW1hcnkgQXN5bmMgaW50ZXJmYWNlIHdyYXBwZXIgYXJvdW5kIGByZXF1ZXN0QW5pbWF0aW9uRnJhbWVgLlxuICovXG5jb25zdCBhbmltYXRpb25GcmFtZSA9IHtcbiAgLyoqXG4gICAqIEVucXVldWVzIGEgZnVuY3Rpb24gY2FsbGVkIGF0IGByZXF1ZXN0QW5pbWF0aW9uRnJhbWVgIHRpbWluZy5cbiAgICpcbiAgICogQG1lbWJlcm9mIGFuaW1hdGlvbkZyYW1lXG4gICAqIEBwYXJhbSB7ZnVuY3Rpb24obnVtYmVyKTp2b2lkfSBmbiBDYWxsYmFjayB0byBydW5cbiAgICogQHJldHVybiB7bnVtYmVyfSBIYW5kbGUgdXNlZCBmb3IgY2FuY2VsaW5nIHRhc2tcbiAgICovXG4gIHJ1bihmbikge1xuICAgIHJldHVybiB3aW5kb3cucmVxdWVzdEFuaW1hdGlvbkZyYW1lKGZuKTtcbiAgfSxcbiAgLyoqXG4gICAqIENhbmNlbHMgYSBwcmV2aW91c2x5IGVucXVldWVkIGBhbmltYXRpb25GcmFtZWAgY2FsbGJhY2suXG4gICAqXG4gICAqIEBtZW1iZXJvZiBhbmltYXRpb25GcmFtZVxuICAgKiBAcGFyYW0ge251bWJlcn0gaGFuZGxlIEhhbmRsZSByZXR1cm5lZCBmcm9tIGBydW5gIG9mIGNhbGxiYWNrIHRvIGNhbmNlbFxuICAgKiBAcmV0dXJuIHt2b2lkfVxuICAgKi9cbiAgY2FuY2VsKGhhbmRsZSkge1xuICAgIHdpbmRvdy5jYW5jZWxBbmltYXRpb25GcmFtZShoYW5kbGUpO1xuICB9XG59O1xuZXhwb3J0IHthbmltYXRpb25GcmFtZX07XG5cbi8qKlxuICogQXN5bmMgaW50ZXJmYWNlIHdyYXBwZXIgYXJvdW5kIGByZXF1ZXN0SWRsZUNhbGxiYWNrYC4gIEZhbGxzIGJhY2sgdG9cbiAqIGBzZXRUaW1lb3V0YCBvbiBicm93c2VycyB0aGF0IGRvIG5vdCBzdXBwb3J0IGByZXF1ZXN0SWRsZUNhbGxiYWNrYC5cbiAqXG4gKiBAbmFtZXNwYWNlXG4gKiBAc3VtbWFyeSBBc3luYyBpbnRlcmZhY2Ugd3JhcHBlciBhcm91bmQgYHJlcXVlc3RJZGxlQ2FsbGJhY2tgLlxuICovXG5jb25zdCBpZGxlUGVyaW9kID0ge1xuICAvKipcbiAgICogRW5xdWV1ZXMgYSBmdW5jdGlvbiBjYWxsZWQgYXQgYHJlcXVlc3RJZGxlQ2FsbGJhY2tgIHRpbWluZy5cbiAgICpcbiAgICogQG1lbWJlcm9mIGlkbGVQZXJpb2RcbiAgICogQHBhcmFtIHtmdW5jdGlvbighSWRsZURlYWRsaW5lKTp2b2lkfSBmbiBDYWxsYmFjayB0byBydW5cbiAgICogQHJldHVybiB7bnVtYmVyfSBIYW5kbGUgdXNlZCBmb3IgY2FuY2VsaW5nIHRhc2tcbiAgICovXG4gIHJ1bihmbikge1xuICAgIHJldHVybiB3aW5kb3cucmVxdWVzdElkbGVDYWxsYmFjayA/XG4gICAgICB3aW5kb3cucmVxdWVzdElkbGVDYWxsYmFjayhmbikgOlxuICAgICAgd2luZG93LnNldFRpbWVvdXQoZm4sIDE2KTtcbiAgfSxcbiAgLyoqXG4gICAqIENhbmNlbHMgYSBwcmV2aW91c2x5IGVucXVldWVkIGBpZGxlUGVyaW9kYCBjYWxsYmFjay5cbiAgICpcbiAgICogQG1lbWJlcm9mIGlkbGVQZXJpb2RcbiAgICogQHBhcmFtIHtudW1iZXJ9IGhhbmRsZSBIYW5kbGUgcmV0dXJuZWQgZnJvbSBgcnVuYCBvZiBjYWxsYmFjayB0byBjYW5jZWxcbiAgICogQHJldHVybiB7dm9pZH1cbiAgICovXG4gIGNhbmNlbChoYW5kbGUpIHtcbiAgICB3aW5kb3cuY2FuY2VsSWRsZUNhbGxiYWNrID9cbiAgICAgIHdpbmRvdy5jYW5jZWxJZGxlQ2FsbGJhY2soaGFuZGxlKSA6XG4gICAgICB3aW5kb3cuY2xlYXJUaW1lb3V0KGhhbmRsZSk7XG4gIH1cbn07XG5leHBvcnQge2lkbGVQZXJpb2R9O1xuXG4vKipcbiAqIEFzeW5jIGludGVyZmFjZSBmb3IgZW5xdWV1aW5nIGNhbGxiYWNrcyB0aGF0IHJ1biBhdCBtaWNyb3Rhc2sgdGltaW5nLlxuICpcbiAqIE5vdGUgdGhhdCBtaWNyb3Rhc2sgdGltaW5nIGlzIGFjaGlldmVkIHZpYSBhIHNpbmdsZSBgTXV0YXRpb25PYnNlcnZlcmAsXG4gKiBhbmQgdGh1cyBjYWxsYmFja3MgZW5xdWV1ZWQgd2l0aCB0aGlzIEFQSSB3aWxsIGFsbCBydW4gaW4gYSBzaW5nbGVcbiAqIGJhdGNoLCBhbmQgbm90IGludGVybGVhdmVkIHdpdGggb3RoZXIgbWljcm90YXNrcyBzdWNoIGFzIHByb21pc2VzLlxuICogUHJvbWlzZXMgYXJlIGF2b2lkZWQgYXMgYW4gaW1wbGVtZW50YXRpb24gY2hvaWNlIGZvciB0aGUgdGltZSBiZWluZ1xuICogZHVlIHRvIFNhZmFyaSBidWdzIHRoYXQgY2F1c2UgUHJvbWlzZXMgdG8gbGFjayBtaWNyb3Rhc2sgZ3VhcmFudGVlcy5cbiAqXG4gKiBAbmFtZXNwYWNlXG4gKiBAc3VtbWFyeSBBc3luYyBpbnRlcmZhY2UgZm9yIGVucXVldWluZyBjYWxsYmFja3MgdGhhdCBydW4gYXQgbWljcm90YXNrXG4gKiAgIHRpbWluZy5cbiAqL1xuY29uc3QgbWljcm9UYXNrID0ge1xuXG4gIC8qKlxuICAgKiBFbnF1ZXVlcyBhIGZ1bmN0aW9uIGNhbGxlZCBhdCBtaWNyb3Rhc2sgdGltaW5nLlxuICAgKlxuICAgKiBAbWVtYmVyb2YgbWljcm9UYXNrXG4gICAqIEBwYXJhbSB7IUZ1bmN0aW9uPX0gY2FsbGJhY2sgQ2FsbGJhY2sgdG8gcnVuXG4gICAqIEByZXR1cm4ge251bWJlcn0gSGFuZGxlIHVzZWQgZm9yIGNhbmNlbGluZyB0YXNrXG4gICAqL1xuICBydW4oY2FsbGJhY2spIHtcbiAgICBtaWNyb3Rhc2tOb2RlLnRleHRDb250ZW50ID0gbWljcm90YXNrTm9kZUNvbnRlbnQrKztcbiAgICBtaWNyb3Rhc2tDYWxsYmFja3MucHVzaChjYWxsYmFjayk7XG4gICAgcmV0dXJuIG1pY3JvdGFza0N1cnJIYW5kbGUrKztcbiAgfSxcblxuICAvKipcbiAgICogQ2FuY2VscyBhIHByZXZpb3VzbHkgZW5xdWV1ZWQgYG1pY3JvVGFza2AgY2FsbGJhY2suXG4gICAqXG4gICAqIEBtZW1iZXJvZiBtaWNyb1Rhc2tcbiAgICogQHBhcmFtIHtudW1iZXJ9IGhhbmRsZSBIYW5kbGUgcmV0dXJuZWQgZnJvbSBgcnVuYCBvZiBjYWxsYmFjayB0byBjYW5jZWxcbiAgICogQHJldHVybiB7dm9pZH1cbiAgICovXG4gIGNhbmNlbChoYW5kbGUpIHtcbiAgICBjb25zdCBpZHggPSBoYW5kbGUgLSBtaWNyb3Rhc2tMYXN0SGFuZGxlO1xuICAgIGlmIChpZHggPj0gMCkge1xuICAgICAgaWYgKCFtaWNyb3Rhc2tDYWxsYmFja3NbaWR4XSkge1xuICAgICAgICB0aHJvdyBuZXcgRXJyb3IoJ2ludmFsaWQgYXN5bmMgaGFuZGxlOiAnICsgaGFuZGxlKTtcbiAgICAgIH1cbiAgICAgIG1pY3JvdGFza0NhbGxiYWNrc1tpZHhdID0gbnVsbDtcbiAgICB9XG4gIH1cblxufTtcbmV4cG9ydCB7bWljcm9UYXNrfTtcbiIsIi8qKlxuQGxpY2Vuc2VcbkNvcHlyaWdodCAoYykgMjAxNyBUaGUgUG9seW1lciBQcm9qZWN0IEF1dGhvcnMuIEFsbCByaWdodHMgcmVzZXJ2ZWQuXG5UaGlzIGNvZGUgbWF5IG9ubHkgYmUgdXNlZCB1bmRlciB0aGUgQlNEIHN0eWxlIGxpY2Vuc2UgZm91bmQgYXQgaHR0cDovL3BvbHltZXIuZ2l0aHViLmlvL0xJQ0VOU0UudHh0XG5UaGUgY29tcGxldGUgc2V0IG9mIGF1dGhvcnMgbWF5IGJlIGZvdW5kIGF0IGh0dHA6Ly9wb2x5bWVyLmdpdGh1Yi5pby9BVVRIT1JTLnR4dFxuVGhlIGNvbXBsZXRlIHNldCBvZiBjb250cmlidXRvcnMgbWF5IGJlIGZvdW5kIGF0IGh0dHA6Ly9wb2x5bWVyLmdpdGh1Yi5pby9DT05UUklCVVRPUlMudHh0XG5Db2RlIGRpc3RyaWJ1dGVkIGJ5IEdvb2dsZSBhcyBwYXJ0IG9mIHRoZSBwb2x5bWVyIHByb2plY3QgaXMgYWxzb1xuc3ViamVjdCB0byBhbiBhZGRpdGlvbmFsIElQIHJpZ2h0cyBncmFudCBmb3VuZCBhdCBodHRwOi8vcG9seW1lci5naXRodWIuaW8vUEFURU5UUy50eHRcbiovXG5cbid1c2Ugc3RyaWN0JztcblxuZXhwb3J0IGNvbnN0IG5hdGl2ZVNoYWRvdyA9ICEod2luZG93WydTaGFkeURPTSddICYmIHdpbmRvd1snU2hhZHlET00nXVsnaW5Vc2UnXSk7XG5sZXQgbmF0aXZlQ3NzVmFyaWFibGVzXztcblxuLyoqXG4gKiBAcGFyYW0geyhTaGFkeUNTU09wdGlvbnMgfCBTaGFkeUNTU0ludGVyZmFjZSk9fSBzZXR0aW5nc1xuICovXG5mdW5jdGlvbiBjYWxjQ3NzVmFyaWFibGVzKHNldHRpbmdzKSB7XG4gIGlmIChzZXR0aW5ncyAmJiBzZXR0aW5nc1snc2hpbWNzc3Byb3BlcnRpZXMnXSkge1xuICAgIG5hdGl2ZUNzc1ZhcmlhYmxlc18gPSBmYWxzZTtcbiAgfSBlbHNlIHtcbiAgICAvLyBjaHJvbWUgNDkgaGFzIHNlbWktd29ya2luZyBjc3MgdmFycywgY2hlY2sgaWYgYm94LXNoYWRvdyB3b3Jrc1xuICAgIC8vIHNhZmFyaSA5LjEgaGFzIGEgcmVjYWxjIGJ1ZzogaHR0cHM6Ly9idWdzLndlYmtpdC5vcmcvc2hvd19idWcuY2dpP2lkPTE1NTc4MlxuICAgIC8vIEhvd2V2ZXIsIHNoaW0gY3NzIGN1c3RvbSBwcm9wZXJ0aWVzIGFyZSBvbmx5IHN1cHBvcnRlZCB3aXRoIFNoYWR5RE9NIGVuYWJsZWQsXG4gICAgLy8gc28gZmFsbCBiYWNrIG9uIG5hdGl2ZSBpZiB3ZSBkbyBub3QgZGV0ZWN0IFNoYWR5RE9NXG4gICAgLy8gRWRnZSAxNTogY3VzdG9tIHByb3BlcnRpZXMgdXNlZCBpbiA6OmJlZm9yZSBhbmQgOjphZnRlciB3aWxsIGFsc28gYmUgdXNlZCBpbiB0aGUgcGFyZW50IGVsZW1lbnRcbiAgICAvLyBodHRwczovL2RldmVsb3Blci5taWNyb3NvZnQuY29tL2VuLXVzL21pY3Jvc29mdC1lZGdlL3BsYXRmb3JtL2lzc3Vlcy8xMjQxNDI1Ny9cbiAgICBuYXRpdmVDc3NWYXJpYWJsZXNfID0gbmF0aXZlU2hhZG93IHx8IEJvb2xlYW4oIW5hdmlnYXRvci51c2VyQWdlbnQubWF0Y2goL0FwcGxlV2ViS2l0XFwvNjAxfEVkZ2VcXC8xNS8pICYmXG4gICAgICB3aW5kb3cuQ1NTICYmIENTUy5zdXBwb3J0cyAmJiBDU1Muc3VwcG9ydHMoJ2JveC1zaGFkb3cnLCAnMCAwIDAgdmFyKC0tZm9vKScpKTtcbiAgfVxufVxuXG4vKiogQHR5cGUge3N0cmluZyB8IHVuZGVmaW5lZH0gKi9cbmV4cG9ydCBsZXQgY3NzQnVpbGQ7XG5pZiAod2luZG93LlNoYWR5Q1NTICYmIHdpbmRvdy5TaGFkeUNTUy5jc3NCdWlsZCAhPT0gdW5kZWZpbmVkKSB7XG4gIGNzc0J1aWxkID0gd2luZG93LlNoYWR5Q1NTLmNzc0J1aWxkO1xufVxuXG4vKiogQHR5cGUge2Jvb2xlYW59ICovXG5leHBvcnQgY29uc3QgZGlzYWJsZVJ1bnRpbWUgPSBCb29sZWFuKHdpbmRvdy5TaGFkeUNTUyAmJiB3aW5kb3cuU2hhZHlDU1MuZGlzYWJsZVJ1bnRpbWUpO1xuXG5pZiAod2luZG93LlNoYWR5Q1NTICYmIHdpbmRvdy5TaGFkeUNTUy5uYXRpdmVDc3MgIT09IHVuZGVmaW5lZCkge1xuICBuYXRpdmVDc3NWYXJpYWJsZXNfID0gd2luZG93LlNoYWR5Q1NTLm5hdGl2ZUNzcztcbn0gZWxzZSBpZiAod2luZG93LlNoYWR5Q1NTKSB7XG4gIGNhbGNDc3NWYXJpYWJsZXMod2luZG93LlNoYWR5Q1NTKTtcbiAgLy8gcmVzZXQgd2luZG93IHZhcmlhYmxlIHRvIGxldCBTaGFkeUNTUyBBUEkgdGFrZSBpdHMgcGxhY2VcbiAgd2luZG93LlNoYWR5Q1NTID0gdW5kZWZpbmVkO1xufSBlbHNlIHtcbiAgY2FsY0Nzc1ZhcmlhYmxlcyh3aW5kb3dbJ1dlYkNvbXBvbmVudHMnXSAmJiB3aW5kb3dbJ1dlYkNvbXBvbmVudHMnXVsnZmxhZ3MnXSk7XG59XG5cbi8vIEhhY2sgZm9yIHR5cGUgZXJyb3IgdW5kZXIgbmV3IHR5cGUgaW5mZXJlbmNlIHdoaWNoIGRvZXNuJ3QgbGlrZSB0aGF0XG4vLyBuYXRpdmVDc3NWYXJpYWJsZXMgaXMgdXBkYXRlZCBpbiBhIGZ1bmN0aW9uIGFuZCBhc3NpZ25zIHRoZSB0eXBlXG4vLyBgZnVuY3Rpb24oKTogP2AgaW5zdGVhZCBvZiBgYm9vbGVhbmAuXG5leHBvcnQgY29uc3QgbmF0aXZlQ3NzVmFyaWFibGVzID0gLyoqIEB0eXBlIHtib29sZWFufSAqLyhuYXRpdmVDc3NWYXJpYWJsZXNfKTsiLCIvKipcbiAqIEBsaWNlbnNlXG4gKiBDb3B5cmlnaHQgKGMpIDIwMTcgVGhlIFBvbHltZXIgUHJvamVjdCBBdXRob3JzLiBBbGwgcmlnaHRzIHJlc2VydmVkLlxuICogVGhpcyBjb2RlIG1heSBvbmx5IGJlIHVzZWQgdW5kZXIgdGhlIEJTRCBzdHlsZSBsaWNlbnNlIGZvdW5kIGF0XG4gKiBodHRwOi8vcG9seW1lci5naXRodWIuaW8vTElDRU5TRS50eHRcbiAqIFRoZSBjb21wbGV0ZSBzZXQgb2YgYXV0aG9ycyBtYXkgYmUgZm91bmQgYXRcbiAqIGh0dHA6Ly9wb2x5bWVyLmdpdGh1Yi5pby9BVVRIT1JTLnR4dFxuICogVGhlIGNvbXBsZXRlIHNldCBvZiBjb250cmlidXRvcnMgbWF5IGJlIGZvdW5kIGF0XG4gKiBodHRwOi8vcG9seW1lci5naXRodWIuaW8vQ09OVFJJQlVUT1JTLnR4dFxuICogQ29kZSBkaXN0cmlidXRlZCBieSBHb29nbGUgYXMgcGFydCBvZiB0aGUgcG9seW1lciBwcm9qZWN0IGlzIGFsc29cbiAqIHN1YmplY3QgdG8gYW4gYWRkaXRpb25hbCBJUCByaWdodHMgZ3JhbnQgZm91bmQgYXRcbiAqIGh0dHA6Ly9wb2x5bWVyLmdpdGh1Yi5pby9QQVRFTlRTLnR4dFxuICovXG4vKipcbiAqIEBtb2R1bGUgbGl0LWh0bWxcbiAqL1xuaW1wb3J0IHsgaXNEaXJlY3RpdmUgfSBmcm9tICcuL2RpcmVjdGl2ZS5qcyc7XG5pbXBvcnQgeyByZW1vdmVOb2RlcyB9IGZyb20gJy4vZG9tLmpzJztcbmltcG9ydCB7IG5vQ2hhbmdlLCBub3RoaW5nIH0gZnJvbSAnLi9wYXJ0LmpzJztcbmltcG9ydCB7IFRlbXBsYXRlSW5zdGFuY2UgfSBmcm9tICcuL3RlbXBsYXRlLWluc3RhbmNlLmpzJztcbmltcG9ydCB7IFRlbXBsYXRlUmVzdWx0IH0gZnJvbSAnLi90ZW1wbGF0ZS1yZXN1bHQuanMnO1xuaW1wb3J0IHsgY3JlYXRlTWFya2VyIH0gZnJvbSAnLi90ZW1wbGF0ZS5qcyc7XG5leHBvcnQgY29uc3QgaXNQcmltaXRpdmUgPSAodmFsdWUpID0+IHtcbiAgICByZXR1cm4gKHZhbHVlID09PSBudWxsIHx8XG4gICAgICAgICEodHlwZW9mIHZhbHVlID09PSAnb2JqZWN0JyB8fCB0eXBlb2YgdmFsdWUgPT09ICdmdW5jdGlvbicpKTtcbn07XG4vKipcbiAqIFNldHMgYXR0cmlidXRlIHZhbHVlcyBmb3IgQXR0cmlidXRlUGFydHMsIHNvIHRoYXQgdGhlIHZhbHVlIGlzIG9ubHkgc2V0IG9uY2VcbiAqIGV2ZW4gaWYgdGhlcmUgYXJlIG11bHRpcGxlIHBhcnRzIGZvciBhbiBhdHRyaWJ1dGUuXG4gKi9cbmV4cG9ydCBjbGFzcyBBdHRyaWJ1dGVDb21taXR0ZXIge1xuICAgIGNvbnN0cnVjdG9yKGVsZW1lbnQsIG5hbWUsIHN0cmluZ3MpIHtcbiAgICAgICAgdGhpcy5kaXJ0eSA9IHRydWU7XG4gICAgICAgIHRoaXMuZWxlbWVudCA9IGVsZW1lbnQ7XG4gICAgICAgIHRoaXMubmFtZSA9IG5hbWU7XG4gICAgICAgIHRoaXMuc3RyaW5ncyA9IHN0cmluZ3M7XG4gICAgICAgIHRoaXMucGFydHMgPSBbXTtcbiAgICAgICAgZm9yIChsZXQgaSA9IDA7IGkgPCBzdHJpbmdzLmxlbmd0aCAtIDE7IGkrKykge1xuICAgICAgICAgICAgdGhpcy5wYXJ0c1tpXSA9IHRoaXMuX2NyZWF0ZVBhcnQoKTtcbiAgICAgICAgfVxuICAgIH1cbiAgICAvKipcbiAgICAgKiBDcmVhdGVzIGEgc2luZ2xlIHBhcnQuIE92ZXJyaWRlIHRoaXMgdG8gY3JlYXRlIGEgZGlmZmVybnQgdHlwZSBvZiBwYXJ0LlxuICAgICAqL1xuICAgIF9jcmVhdGVQYXJ0KCkge1xuICAgICAgICByZXR1cm4gbmV3IEF0dHJpYnV0ZVBhcnQodGhpcyk7XG4gICAgfVxuICAgIF9nZXRWYWx1ZSgpIHtcbiAgICAgICAgY29uc3Qgc3RyaW5ncyA9IHRoaXMuc3RyaW5ncztcbiAgICAgICAgY29uc3QgbCA9IHN0cmluZ3MubGVuZ3RoIC0gMTtcbiAgICAgICAgbGV0IHRleHQgPSAnJztcbiAgICAgICAgZm9yIChsZXQgaSA9IDA7IGkgPCBsOyBpKyspIHtcbiAgICAgICAgICAgIHRleHQgKz0gc3RyaW5nc1tpXTtcbiAgICAgICAgICAgIGNvbnN0IHBhcnQgPSB0aGlzLnBhcnRzW2ldO1xuICAgICAgICAgICAgaWYgKHBhcnQgIT09IHVuZGVmaW5lZCkge1xuICAgICAgICAgICAgICAgIGNvbnN0IHYgPSBwYXJ0LnZhbHVlO1xuICAgICAgICAgICAgICAgIGlmICh2ICE9IG51bGwgJiZcbiAgICAgICAgICAgICAgICAgICAgKEFycmF5LmlzQXJyYXkodikgfHxcbiAgICAgICAgICAgICAgICAgICAgICAgIC8vIHRzbGludDpkaXNhYmxlLW5leHQtbGluZTpuby1hbnlcbiAgICAgICAgICAgICAgICAgICAgICAgIHR5cGVvZiB2ICE9PSAnc3RyaW5nJyAmJiB2W1N5bWJvbC5pdGVyYXRvcl0pKSB7XG4gICAgICAgICAgICAgICAgICAgIGZvciAoY29uc3QgdCBvZiB2KSB7XG4gICAgICAgICAgICAgICAgICAgICAgICB0ZXh0ICs9IHR5cGVvZiB0ID09PSAnc3RyaW5nJyA/IHQgOiBTdHJpbmcodCk7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICAgICAgICAgIHRleHQgKz0gdHlwZW9mIHYgPT09ICdzdHJpbmcnID8gdiA6IFN0cmluZyh2KTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgdGV4dCArPSBzdHJpbmdzW2xdO1xuICAgICAgICByZXR1cm4gdGV4dDtcbiAgICB9XG4gICAgY29tbWl0KCkge1xuICAgICAgICBpZiAodGhpcy5kaXJ0eSkge1xuICAgICAgICAgICAgdGhpcy5kaXJ0eSA9IGZhbHNlO1xuICAgICAgICAgICAgdGhpcy5lbGVtZW50LnNldEF0dHJpYnV0ZSh0aGlzLm5hbWUsIHRoaXMuX2dldFZhbHVlKCkpO1xuICAgICAgICB9XG4gICAgfVxufVxuZXhwb3J0IGNsYXNzIEF0dHJpYnV0ZVBhcnQge1xuICAgIGNvbnN0cnVjdG9yKGNvbWl0dGVyKSB7XG4gICAgICAgIHRoaXMudmFsdWUgPSB1bmRlZmluZWQ7XG4gICAgICAgIHRoaXMuY29tbWl0dGVyID0gY29taXR0ZXI7XG4gICAgfVxuICAgIHNldFZhbHVlKHZhbHVlKSB7XG4gICAgICAgIGlmICh2YWx1ZSAhPT0gbm9DaGFuZ2UgJiYgKCFpc1ByaW1pdGl2ZSh2YWx1ZSkgfHwgdmFsdWUgIT09IHRoaXMudmFsdWUpKSB7XG4gICAgICAgICAgICB0aGlzLnZhbHVlID0gdmFsdWU7XG4gICAgICAgICAgICAvLyBJZiB0aGUgdmFsdWUgaXMgYSBub3QgYSBkaXJlY3RpdmUsIGRpcnR5IHRoZSBjb21taXR0ZXIgc28gdGhhdCBpdCdsbFxuICAgICAgICAgICAgLy8gY2FsbCBzZXRBdHRyaWJ1dGUuIElmIHRoZSB2YWx1ZSBpcyBhIGRpcmVjdGl2ZSwgaXQnbGwgZGlydHkgdGhlXG4gICAgICAgICAgICAvLyBjb21taXR0ZXIgaWYgaXQgY2FsbHMgc2V0VmFsdWUoKS5cbiAgICAgICAgICAgIGlmICghaXNEaXJlY3RpdmUodmFsdWUpKSB7XG4gICAgICAgICAgICAgICAgdGhpcy5jb21taXR0ZXIuZGlydHkgPSB0cnVlO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgfVxuICAgIGNvbW1pdCgpIHtcbiAgICAgICAgd2hpbGUgKGlzRGlyZWN0aXZlKHRoaXMudmFsdWUpKSB7XG4gICAgICAgICAgICBjb25zdCBkaXJlY3RpdmUgPSB0aGlzLnZhbHVlO1xuICAgICAgICAgICAgdGhpcy52YWx1ZSA9IG5vQ2hhbmdlO1xuICAgICAgICAgICAgZGlyZWN0aXZlKHRoaXMpO1xuICAgICAgICB9XG4gICAgICAgIGlmICh0aGlzLnZhbHVlID09PSBub0NoYW5nZSkge1xuICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICB9XG4gICAgICAgIHRoaXMuY29tbWl0dGVyLmNvbW1pdCgpO1xuICAgIH1cbn1cbmV4cG9ydCBjbGFzcyBOb2RlUGFydCB7XG4gICAgY29uc3RydWN0b3Iob3B0aW9ucykge1xuICAgICAgICB0aGlzLnZhbHVlID0gdW5kZWZpbmVkO1xuICAgICAgICB0aGlzLl9wZW5kaW5nVmFsdWUgPSB1bmRlZmluZWQ7XG4gICAgICAgIHRoaXMub3B0aW9ucyA9IG9wdGlvbnM7XG4gICAgfVxuICAgIC8qKlxuICAgICAqIEluc2VydHMgdGhpcyBwYXJ0IGludG8gYSBjb250YWluZXIuXG4gICAgICpcbiAgICAgKiBUaGlzIHBhcnQgbXVzdCBiZSBlbXB0eSwgYXMgaXRzIGNvbnRlbnRzIGFyZSBub3QgYXV0b21hdGljYWxseSBtb3ZlZC5cbiAgICAgKi9cbiAgICBhcHBlbmRJbnRvKGNvbnRhaW5lcikge1xuICAgICAgICB0aGlzLnN0YXJ0Tm9kZSA9IGNvbnRhaW5lci5hcHBlbmRDaGlsZChjcmVhdGVNYXJrZXIoKSk7XG4gICAgICAgIHRoaXMuZW5kTm9kZSA9IGNvbnRhaW5lci5hcHBlbmRDaGlsZChjcmVhdGVNYXJrZXIoKSk7XG4gICAgfVxuICAgIC8qKlxuICAgICAqIEluc2VydHMgdGhpcyBwYXJ0IGJldHdlZW4gYHJlZmAgYW5kIGByZWZgJ3MgbmV4dCBzaWJsaW5nLiBCb3RoIGByZWZgIGFuZFxuICAgICAqIGl0cyBuZXh0IHNpYmxpbmcgbXVzdCBiZSBzdGF0aWMsIHVuY2hhbmdpbmcgbm9kZXMgc3VjaCBhcyB0aG9zZSB0aGF0IGFwcGVhclxuICAgICAqIGluIGEgbGl0ZXJhbCBzZWN0aW9uIG9mIGEgdGVtcGxhdGUuXG4gICAgICpcbiAgICAgKiBUaGlzIHBhcnQgbXVzdCBiZSBlbXB0eSwgYXMgaXRzIGNvbnRlbnRzIGFyZSBub3QgYXV0b21hdGljYWxseSBtb3ZlZC5cbiAgICAgKi9cbiAgICBpbnNlcnRBZnRlck5vZGUocmVmKSB7XG4gICAgICAgIHRoaXMuc3RhcnROb2RlID0gcmVmO1xuICAgICAgICB0aGlzLmVuZE5vZGUgPSByZWYubmV4dFNpYmxpbmc7XG4gICAgfVxuICAgIC8qKlxuICAgICAqIEFwcGVuZHMgdGhpcyBwYXJ0IGludG8gYSBwYXJlbnQgcGFydC5cbiAgICAgKlxuICAgICAqIFRoaXMgcGFydCBtdXN0IGJlIGVtcHR5LCBhcyBpdHMgY29udGVudHMgYXJlIG5vdCBhdXRvbWF0aWNhbGx5IG1vdmVkLlxuICAgICAqL1xuICAgIGFwcGVuZEludG9QYXJ0KHBhcnQpIHtcbiAgICAgICAgcGFydC5faW5zZXJ0KHRoaXMuc3RhcnROb2RlID0gY3JlYXRlTWFya2VyKCkpO1xuICAgICAgICBwYXJ0Ll9pbnNlcnQodGhpcy5lbmROb2RlID0gY3JlYXRlTWFya2VyKCkpO1xuICAgIH1cbiAgICAvKipcbiAgICAgKiBBcHBlbmRzIHRoaXMgcGFydCBhZnRlciBgcmVmYFxuICAgICAqXG4gICAgICogVGhpcyBwYXJ0IG11c3QgYmUgZW1wdHksIGFzIGl0cyBjb250ZW50cyBhcmUgbm90IGF1dG9tYXRpY2FsbHkgbW92ZWQuXG4gICAgICovXG4gICAgaW5zZXJ0QWZ0ZXJQYXJ0KHJlZikge1xuICAgICAgICByZWYuX2luc2VydCh0aGlzLnN0YXJ0Tm9kZSA9IGNyZWF0ZU1hcmtlcigpKTtcbiAgICAgICAgdGhpcy5lbmROb2RlID0gcmVmLmVuZE5vZGU7XG4gICAgICAgIHJlZi5lbmROb2RlID0gdGhpcy5zdGFydE5vZGU7XG4gICAgfVxuICAgIHNldFZhbHVlKHZhbHVlKSB7XG4gICAgICAgIHRoaXMuX3BlbmRpbmdWYWx1ZSA9IHZhbHVlO1xuICAgIH1cbiAgICBjb21taXQoKSB7XG4gICAgICAgIHdoaWxlIChpc0RpcmVjdGl2ZSh0aGlzLl9wZW5kaW5nVmFsdWUpKSB7XG4gICAgICAgICAgICBjb25zdCBkaXJlY3RpdmUgPSB0aGlzLl9wZW5kaW5nVmFsdWU7XG4gICAgICAgICAgICB0aGlzLl9wZW5kaW5nVmFsdWUgPSBub0NoYW5nZTtcbiAgICAgICAgICAgIGRpcmVjdGl2ZSh0aGlzKTtcbiAgICAgICAgfVxuICAgICAgICBjb25zdCB2YWx1ZSA9IHRoaXMuX3BlbmRpbmdWYWx1ZTtcbiAgICAgICAgaWYgKHZhbHVlID09PSBub0NoYW5nZSkge1xuICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICB9XG4gICAgICAgIGlmIChpc1ByaW1pdGl2ZSh2YWx1ZSkpIHtcbiAgICAgICAgICAgIGlmICh2YWx1ZSAhPT0gdGhpcy52YWx1ZSkge1xuICAgICAgICAgICAgICAgIHRoaXMuX2NvbW1pdFRleHQodmFsdWUpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIGVsc2UgaWYgKHZhbHVlIGluc3RhbmNlb2YgVGVtcGxhdGVSZXN1bHQpIHtcbiAgICAgICAgICAgIHRoaXMuX2NvbW1pdFRlbXBsYXRlUmVzdWx0KHZhbHVlKTtcbiAgICAgICAgfVxuICAgICAgICBlbHNlIGlmICh2YWx1ZSBpbnN0YW5jZW9mIE5vZGUpIHtcbiAgICAgICAgICAgIHRoaXMuX2NvbW1pdE5vZGUodmFsdWUpO1xuICAgICAgICB9XG4gICAgICAgIGVsc2UgaWYgKEFycmF5LmlzQXJyYXkodmFsdWUpIHx8XG4gICAgICAgICAgICAvLyB0c2xpbnQ6ZGlzYWJsZS1uZXh0LWxpbmU6bm8tYW55XG4gICAgICAgICAgICB2YWx1ZVtTeW1ib2wuaXRlcmF0b3JdKSB7XG4gICAgICAgICAgICB0aGlzLl9jb21taXRJdGVyYWJsZSh2YWx1ZSk7XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSBpZiAodmFsdWUgPT09IG5vdGhpbmcpIHtcbiAgICAgICAgICAgIHRoaXMudmFsdWUgPSBub3RoaW5nO1xuICAgICAgICAgICAgdGhpcy5jbGVhcigpO1xuICAgICAgICB9XG4gICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgLy8gRmFsbGJhY2ssIHdpbGwgcmVuZGVyIHRoZSBzdHJpbmcgcmVwcmVzZW50YXRpb25cbiAgICAgICAgICAgIHRoaXMuX2NvbW1pdFRleHQodmFsdWUpO1xuICAgICAgICB9XG4gICAgfVxuICAgIF9pbnNlcnQobm9kZSkge1xuICAgICAgICB0aGlzLmVuZE5vZGUucGFyZW50Tm9kZS5pbnNlcnRCZWZvcmUobm9kZSwgdGhpcy5lbmROb2RlKTtcbiAgICB9XG4gICAgX2NvbW1pdE5vZGUodmFsdWUpIHtcbiAgICAgICAgaWYgKHRoaXMudmFsdWUgPT09IHZhbHVlKSB7XG4gICAgICAgICAgICByZXR1cm47XG4gICAgICAgIH1cbiAgICAgICAgdGhpcy5jbGVhcigpO1xuICAgICAgICB0aGlzLl9pbnNlcnQodmFsdWUpO1xuICAgICAgICB0aGlzLnZhbHVlID0gdmFsdWU7XG4gICAgfVxuICAgIF9jb21taXRUZXh0KHZhbHVlKSB7XG4gICAgICAgIGNvbnN0IG5vZGUgPSB0aGlzLnN0YXJ0Tm9kZS5uZXh0U2libGluZztcbiAgICAgICAgdmFsdWUgPSB2YWx1ZSA9PSBudWxsID8gJycgOiB2YWx1ZTtcbiAgICAgICAgaWYgKG5vZGUgPT09IHRoaXMuZW5kTm9kZS5wcmV2aW91c1NpYmxpbmcgJiZcbiAgICAgICAgICAgIG5vZGUubm9kZVR5cGUgPT09IDMgLyogTm9kZS5URVhUX05PREUgKi8pIHtcbiAgICAgICAgICAgIC8vIElmIHdlIG9ubHkgaGF2ZSBhIHNpbmdsZSB0ZXh0IG5vZGUgYmV0d2VlbiB0aGUgbWFya2Vycywgd2UgY2FuIGp1c3RcbiAgICAgICAgICAgIC8vIHNldCBpdHMgdmFsdWUsIHJhdGhlciB0aGFuIHJlcGxhY2luZyBpdC5cbiAgICAgICAgICAgIC8vIFRPRE8oanVzdGluZmFnbmFuaSk6IENhbiB3ZSBqdXN0IGNoZWNrIGlmIHRoaXMudmFsdWUgaXMgcHJpbWl0aXZlP1xuICAgICAgICAgICAgbm9kZS5kYXRhID0gdmFsdWU7XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICB0aGlzLl9jb21taXROb2RlKGRvY3VtZW50LmNyZWF0ZVRleHROb2RlKHR5cGVvZiB2YWx1ZSA9PT0gJ3N0cmluZycgPyB2YWx1ZSA6IFN0cmluZyh2YWx1ZSkpKTtcbiAgICAgICAgfVxuICAgICAgICB0aGlzLnZhbHVlID0gdmFsdWU7XG4gICAgfVxuICAgIF9jb21taXRUZW1wbGF0ZVJlc3VsdCh2YWx1ZSkge1xuICAgICAgICBjb25zdCB0ZW1wbGF0ZSA9IHRoaXMub3B0aW9ucy50ZW1wbGF0ZUZhY3RvcnkodmFsdWUpO1xuICAgICAgICBpZiAodGhpcy52YWx1ZSBpbnN0YW5jZW9mIFRlbXBsYXRlSW5zdGFuY2UgJiZcbiAgICAgICAgICAgIHRoaXMudmFsdWUudGVtcGxhdGUgPT09IHRlbXBsYXRlKSB7XG4gICAgICAgICAgICB0aGlzLnZhbHVlLnVwZGF0ZSh2YWx1ZS52YWx1ZXMpO1xuICAgICAgICB9XG4gICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgLy8gTWFrZSBzdXJlIHdlIHByb3BhZ2F0ZSB0aGUgdGVtcGxhdGUgcHJvY2Vzc29yIGZyb20gdGhlIFRlbXBsYXRlUmVzdWx0XG4gICAgICAgICAgICAvLyBzbyB0aGF0IHdlIHVzZSBpdHMgc3ludGF4IGV4dGVuc2lvbiwgZXRjLiBUaGUgdGVtcGxhdGUgZmFjdG9yeSBjb21lc1xuICAgICAgICAgICAgLy8gZnJvbSB0aGUgcmVuZGVyIGZ1bmN0aW9uIG9wdGlvbnMgc28gdGhhdCBpdCBjYW4gY29udHJvbCB0ZW1wbGF0ZVxuICAgICAgICAgICAgLy8gY2FjaGluZyBhbmQgcHJlcHJvY2Vzc2luZy5cbiAgICAgICAgICAgIGNvbnN0IGluc3RhbmNlID0gbmV3IFRlbXBsYXRlSW5zdGFuY2UodGVtcGxhdGUsIHZhbHVlLnByb2Nlc3NvciwgdGhpcy5vcHRpb25zKTtcbiAgICAgICAgICAgIGNvbnN0IGZyYWdtZW50ID0gaW5zdGFuY2UuX2Nsb25lKCk7XG4gICAgICAgICAgICBpbnN0YW5jZS51cGRhdGUodmFsdWUudmFsdWVzKTtcbiAgICAgICAgICAgIHRoaXMuX2NvbW1pdE5vZGUoZnJhZ21lbnQpO1xuICAgICAgICAgICAgdGhpcy52YWx1ZSA9IGluc3RhbmNlO1xuICAgICAgICB9XG4gICAgfVxuICAgIF9jb21taXRJdGVyYWJsZSh2YWx1ZSkge1xuICAgICAgICAvLyBGb3IgYW4gSXRlcmFibGUsIHdlIGNyZWF0ZSBhIG5ldyBJbnN0YW5jZVBhcnQgcGVyIGl0ZW0sIHRoZW4gc2V0IGl0c1xuICAgICAgICAvLyB2YWx1ZSB0byB0aGUgaXRlbS4gVGhpcyBpcyBhIGxpdHRsZSBiaXQgb2Ygb3ZlcmhlYWQgZm9yIGV2ZXJ5IGl0ZW0gaW5cbiAgICAgICAgLy8gYW4gSXRlcmFibGUsIGJ1dCBpdCBsZXRzIHVzIHJlY3Vyc2UgZWFzaWx5IGFuZCBlZmZpY2llbnRseSB1cGRhdGUgQXJyYXlzXG4gICAgICAgIC8vIG9mIFRlbXBsYXRlUmVzdWx0cyB0aGF0IHdpbGwgYmUgY29tbW9ubHkgcmV0dXJuZWQgZnJvbSBleHByZXNzaW9ucyBsaWtlOlxuICAgICAgICAvLyBhcnJheS5tYXAoKGkpID0+IGh0bWxgJHtpfWApLCBieSByZXVzaW5nIGV4aXN0aW5nIFRlbXBsYXRlSW5zdGFuY2VzLlxuICAgICAgICAvLyBJZiBfdmFsdWUgaXMgYW4gYXJyYXksIHRoZW4gdGhlIHByZXZpb3VzIHJlbmRlciB3YXMgb2YgYW5cbiAgICAgICAgLy8gaXRlcmFibGUgYW5kIF92YWx1ZSB3aWxsIGNvbnRhaW4gdGhlIE5vZGVQYXJ0cyBmcm9tIHRoZSBwcmV2aW91c1xuICAgICAgICAvLyByZW5kZXIuIElmIF92YWx1ZSBpcyBub3QgYW4gYXJyYXksIGNsZWFyIHRoaXMgcGFydCBhbmQgbWFrZSBhIG5ld1xuICAgICAgICAvLyBhcnJheSBmb3IgTm9kZVBhcnRzLlxuICAgICAgICBpZiAoIUFycmF5LmlzQXJyYXkodGhpcy52YWx1ZSkpIHtcbiAgICAgICAgICAgIHRoaXMudmFsdWUgPSBbXTtcbiAgICAgICAgICAgIHRoaXMuY2xlYXIoKTtcbiAgICAgICAgfVxuICAgICAgICAvLyBMZXRzIHVzIGtlZXAgdHJhY2sgb2YgaG93IG1hbnkgaXRlbXMgd2Ugc3RhbXBlZCBzbyB3ZSBjYW4gY2xlYXIgbGVmdG92ZXJcbiAgICAgICAgLy8gaXRlbXMgZnJvbSBhIHByZXZpb3VzIHJlbmRlclxuICAgICAgICBjb25zdCBpdGVtUGFydHMgPSB0aGlzLnZhbHVlO1xuICAgICAgICBsZXQgcGFydEluZGV4ID0gMDtcbiAgICAgICAgbGV0IGl0ZW1QYXJ0O1xuICAgICAgICBmb3IgKGNvbnN0IGl0ZW0gb2YgdmFsdWUpIHtcbiAgICAgICAgICAgIC8vIFRyeSB0byByZXVzZSBhbiBleGlzdGluZyBwYXJ0XG4gICAgICAgICAgICBpdGVtUGFydCA9IGl0ZW1QYXJ0c1twYXJ0SW5kZXhdO1xuICAgICAgICAgICAgLy8gSWYgbm8gZXhpc3RpbmcgcGFydCwgY3JlYXRlIGEgbmV3IG9uZVxuICAgICAgICAgICAgaWYgKGl0ZW1QYXJ0ID09PSB1bmRlZmluZWQpIHtcbiAgICAgICAgICAgICAgICBpdGVtUGFydCA9IG5ldyBOb2RlUGFydCh0aGlzLm9wdGlvbnMpO1xuICAgICAgICAgICAgICAgIGl0ZW1QYXJ0cy5wdXNoKGl0ZW1QYXJ0KTtcbiAgICAgICAgICAgICAgICBpZiAocGFydEluZGV4ID09PSAwKSB7XG4gICAgICAgICAgICAgICAgICAgIGl0ZW1QYXJ0LmFwcGVuZEludG9QYXJ0KHRoaXMpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgICAgICAgICAgaXRlbVBhcnQuaW5zZXJ0QWZ0ZXJQYXJ0KGl0ZW1QYXJ0c1twYXJ0SW5kZXggLSAxXSk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICAgICAgaXRlbVBhcnQuc2V0VmFsdWUoaXRlbSk7XG4gICAgICAgICAgICBpdGVtUGFydC5jb21taXQoKTtcbiAgICAgICAgICAgIHBhcnRJbmRleCsrO1xuICAgICAgICB9XG4gICAgICAgIGlmIChwYXJ0SW5kZXggPCBpdGVtUGFydHMubGVuZ3RoKSB7XG4gICAgICAgICAgICAvLyBUcnVuY2F0ZSB0aGUgcGFydHMgYXJyYXkgc28gX3ZhbHVlIHJlZmxlY3RzIHRoZSBjdXJyZW50IHN0YXRlXG4gICAgICAgICAgICBpdGVtUGFydHMubGVuZ3RoID0gcGFydEluZGV4O1xuICAgICAgICAgICAgdGhpcy5jbGVhcihpdGVtUGFydCAmJiBpdGVtUGFydC5lbmROb2RlKTtcbiAgICAgICAgfVxuICAgIH1cbiAgICBjbGVhcihzdGFydE5vZGUgPSB0aGlzLnN0YXJ0Tm9kZSkge1xuICAgICAgICByZW1vdmVOb2Rlcyh0aGlzLnN0YXJ0Tm9kZS5wYXJlbnROb2RlLCBzdGFydE5vZGUubmV4dFNpYmxpbmcsIHRoaXMuZW5kTm9kZSk7XG4gICAgfVxufVxuLyoqXG4gKiBJbXBsZW1lbnRzIGEgYm9vbGVhbiBhdHRyaWJ1dGUsIHJvdWdobHkgYXMgZGVmaW5lZCBpbiB0aGUgSFRNTFxuICogc3BlY2lmaWNhdGlvbi5cbiAqXG4gKiBJZiB0aGUgdmFsdWUgaXMgdHJ1dGh5LCB0aGVuIHRoZSBhdHRyaWJ1dGUgaXMgcHJlc2VudCB3aXRoIGEgdmFsdWUgb2ZcbiAqICcnLiBJZiB0aGUgdmFsdWUgaXMgZmFsc2V5LCB0aGUgYXR0cmlidXRlIGlzIHJlbW92ZWQuXG4gKi9cbmV4cG9ydCBjbGFzcyBCb29sZWFuQXR0cmlidXRlUGFydCB7XG4gICAgY29uc3RydWN0b3IoZWxlbWVudCwgbmFtZSwgc3RyaW5ncykge1xuICAgICAgICB0aGlzLnZhbHVlID0gdW5kZWZpbmVkO1xuICAgICAgICB0aGlzLl9wZW5kaW5nVmFsdWUgPSB1bmRlZmluZWQ7XG4gICAgICAgIGlmIChzdHJpbmdzLmxlbmd0aCAhPT0gMiB8fCBzdHJpbmdzWzBdICE9PSAnJyB8fCBzdHJpbmdzWzFdICE9PSAnJykge1xuICAgICAgICAgICAgdGhyb3cgbmV3IEVycm9yKCdCb29sZWFuIGF0dHJpYnV0ZXMgY2FuIG9ubHkgY29udGFpbiBhIHNpbmdsZSBleHByZXNzaW9uJyk7XG4gICAgICAgIH1cbiAgICAgICAgdGhpcy5lbGVtZW50ID0gZWxlbWVudDtcbiAgICAgICAgdGhpcy5uYW1lID0gbmFtZTtcbiAgICAgICAgdGhpcy5zdHJpbmdzID0gc3RyaW5ncztcbiAgICB9XG4gICAgc2V0VmFsdWUodmFsdWUpIHtcbiAgICAgICAgdGhpcy5fcGVuZGluZ1ZhbHVlID0gdmFsdWU7XG4gICAgfVxuICAgIGNvbW1pdCgpIHtcbiAgICAgICAgd2hpbGUgKGlzRGlyZWN0aXZlKHRoaXMuX3BlbmRpbmdWYWx1ZSkpIHtcbiAgICAgICAgICAgIGNvbnN0IGRpcmVjdGl2ZSA9IHRoaXMuX3BlbmRpbmdWYWx1ZTtcbiAgICAgICAgICAgIHRoaXMuX3BlbmRpbmdWYWx1ZSA9IG5vQ2hhbmdlO1xuICAgICAgICAgICAgZGlyZWN0aXZlKHRoaXMpO1xuICAgICAgICB9XG4gICAgICAgIGlmICh0aGlzLl9wZW5kaW5nVmFsdWUgPT09IG5vQ2hhbmdlKSB7XG4gICAgICAgICAgICByZXR1cm47XG4gICAgICAgIH1cbiAgICAgICAgY29uc3QgdmFsdWUgPSAhIXRoaXMuX3BlbmRpbmdWYWx1ZTtcbiAgICAgICAgaWYgKHRoaXMudmFsdWUgIT09IHZhbHVlKSB7XG4gICAgICAgICAgICBpZiAodmFsdWUpIHtcbiAgICAgICAgICAgICAgICB0aGlzLmVsZW1lbnQuc2V0QXR0cmlidXRlKHRoaXMubmFtZSwgJycpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICAgICAgdGhpcy5lbGVtZW50LnJlbW92ZUF0dHJpYnV0ZSh0aGlzLm5hbWUpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIHRoaXMudmFsdWUgPSB2YWx1ZTtcbiAgICAgICAgdGhpcy5fcGVuZGluZ1ZhbHVlID0gbm9DaGFuZ2U7XG4gICAgfVxufVxuLyoqXG4gKiBTZXRzIGF0dHJpYnV0ZSB2YWx1ZXMgZm9yIFByb3BlcnR5UGFydHMsIHNvIHRoYXQgdGhlIHZhbHVlIGlzIG9ubHkgc2V0IG9uY2VcbiAqIGV2ZW4gaWYgdGhlcmUgYXJlIG11bHRpcGxlIHBhcnRzIGZvciBhIHByb3BlcnR5LlxuICpcbiAqIElmIGFuIGV4cHJlc3Npb24gY29udHJvbHMgdGhlIHdob2xlIHByb3BlcnR5IHZhbHVlLCB0aGVuIHRoZSB2YWx1ZSBpcyBzaW1wbHlcbiAqIGFzc2lnbmVkIHRvIHRoZSBwcm9wZXJ0eSB1bmRlciBjb250cm9sLiBJZiB0aGVyZSBhcmUgc3RyaW5nIGxpdGVyYWxzIG9yXG4gKiBtdWx0aXBsZSBleHByZXNzaW9ucywgdGhlbiB0aGUgc3RyaW5ncyBhcmUgZXhwcmVzc2lvbnMgYXJlIGludGVycG9sYXRlZCBpbnRvXG4gKiBhIHN0cmluZyBmaXJzdC5cbiAqL1xuZXhwb3J0IGNsYXNzIFByb3BlcnR5Q29tbWl0dGVyIGV4dGVuZHMgQXR0cmlidXRlQ29tbWl0dGVyIHtcbiAgICBjb25zdHJ1Y3RvcihlbGVtZW50LCBuYW1lLCBzdHJpbmdzKSB7XG4gICAgICAgIHN1cGVyKGVsZW1lbnQsIG5hbWUsIHN0cmluZ3MpO1xuICAgICAgICB0aGlzLnNpbmdsZSA9XG4gICAgICAgICAgICAoc3RyaW5ncy5sZW5ndGggPT09IDIgJiYgc3RyaW5nc1swXSA9PT0gJycgJiYgc3RyaW5nc1sxXSA9PT0gJycpO1xuICAgIH1cbiAgICBfY3JlYXRlUGFydCgpIHtcbiAgICAgICAgcmV0dXJuIG5ldyBQcm9wZXJ0eVBhcnQodGhpcyk7XG4gICAgfVxuICAgIF9nZXRWYWx1ZSgpIHtcbiAgICAgICAgaWYgKHRoaXMuc2luZ2xlKSB7XG4gICAgICAgICAgICByZXR1cm4gdGhpcy5wYXJ0c1swXS52YWx1ZTtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gc3VwZXIuX2dldFZhbHVlKCk7XG4gICAgfVxuICAgIGNvbW1pdCgpIHtcbiAgICAgICAgaWYgKHRoaXMuZGlydHkpIHtcbiAgICAgICAgICAgIHRoaXMuZGlydHkgPSBmYWxzZTtcbiAgICAgICAgICAgIC8vIHRzbGludDpkaXNhYmxlLW5leHQtbGluZTpuby1hbnlcbiAgICAgICAgICAgIHRoaXMuZWxlbWVudFt0aGlzLm5hbWVdID0gdGhpcy5fZ2V0VmFsdWUoKTtcbiAgICAgICAgfVxuICAgIH1cbn1cbmV4cG9ydCBjbGFzcyBQcm9wZXJ0eVBhcnQgZXh0ZW5kcyBBdHRyaWJ1dGVQYXJ0IHtcbn1cbi8vIERldGVjdCBldmVudCBsaXN0ZW5lciBvcHRpb25zIHN1cHBvcnQuIElmIHRoZSBgY2FwdHVyZWAgcHJvcGVydHkgaXMgcmVhZFxuLy8gZnJvbSB0aGUgb3B0aW9ucyBvYmplY3QsIHRoZW4gb3B0aW9ucyBhcmUgc3VwcG9ydGVkLiBJZiBub3QsIHRoZW4gdGhlIHRocmlkXG4vLyBhcmd1bWVudCB0byBhZGQvcmVtb3ZlRXZlbnRMaXN0ZW5lciBpcyBpbnRlcnByZXRlZCBhcyB0aGUgYm9vbGVhbiBjYXB0dXJlXG4vLyB2YWx1ZSBzbyB3ZSBzaG91bGQgb25seSBwYXNzIHRoZSBgY2FwdHVyZWAgcHJvcGVydHkuXG5sZXQgZXZlbnRPcHRpb25zU3VwcG9ydGVkID0gZmFsc2U7XG50cnkge1xuICAgIGNvbnN0IG9wdGlvbnMgPSB7XG4gICAgICAgIGdldCBjYXB0dXJlKCkge1xuICAgICAgICAgICAgZXZlbnRPcHRpb25zU3VwcG9ydGVkID0gdHJ1ZTtcbiAgICAgICAgICAgIHJldHVybiBmYWxzZTtcbiAgICAgICAgfVxuICAgIH07XG4gICAgLy8gdHNsaW50OmRpc2FibGUtbmV4dC1saW5lOm5vLWFueVxuICAgIHdpbmRvdy5hZGRFdmVudExpc3RlbmVyKCd0ZXN0Jywgb3B0aW9ucywgb3B0aW9ucyk7XG4gICAgLy8gdHNsaW50OmRpc2FibGUtbmV4dC1saW5lOm5vLWFueVxuICAgIHdpbmRvdy5yZW1vdmVFdmVudExpc3RlbmVyKCd0ZXN0Jywgb3B0aW9ucywgb3B0aW9ucyk7XG59XG5jYXRjaCAoX2UpIHtcbn1cbmV4cG9ydCBjbGFzcyBFdmVudFBhcnQge1xuICAgIGNvbnN0cnVjdG9yKGVsZW1lbnQsIGV2ZW50TmFtZSwgZXZlbnRDb250ZXh0KSB7XG4gICAgICAgIHRoaXMudmFsdWUgPSB1bmRlZmluZWQ7XG4gICAgICAgIHRoaXMuX3BlbmRpbmdWYWx1ZSA9IHVuZGVmaW5lZDtcbiAgICAgICAgdGhpcy5lbGVtZW50ID0gZWxlbWVudDtcbiAgICAgICAgdGhpcy5ldmVudE5hbWUgPSBldmVudE5hbWU7XG4gICAgICAgIHRoaXMuZXZlbnRDb250ZXh0ID0gZXZlbnRDb250ZXh0O1xuICAgICAgICB0aGlzLl9ib3VuZEhhbmRsZUV2ZW50ID0gKGUpID0+IHRoaXMuaGFuZGxlRXZlbnQoZSk7XG4gICAgfVxuICAgIHNldFZhbHVlKHZhbHVlKSB7XG4gICAgICAgIHRoaXMuX3BlbmRpbmdWYWx1ZSA9IHZhbHVlO1xuICAgIH1cbiAgICBjb21taXQoKSB7XG4gICAgICAgIHdoaWxlIChpc0RpcmVjdGl2ZSh0aGlzLl9wZW5kaW5nVmFsdWUpKSB7XG4gICAgICAgICAgICBjb25zdCBkaXJlY3RpdmUgPSB0aGlzLl9wZW5kaW5nVmFsdWU7XG4gICAgICAgICAgICB0aGlzLl9wZW5kaW5nVmFsdWUgPSBub0NoYW5nZTtcbiAgICAgICAgICAgIGRpcmVjdGl2ZSh0aGlzKTtcbiAgICAgICAgfVxuICAgICAgICBpZiAodGhpcy5fcGVuZGluZ1ZhbHVlID09PSBub0NoYW5nZSkge1xuICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICB9XG4gICAgICAgIGNvbnN0IG5ld0xpc3RlbmVyID0gdGhpcy5fcGVuZGluZ1ZhbHVlO1xuICAgICAgICBjb25zdCBvbGRMaXN0ZW5lciA9IHRoaXMudmFsdWU7XG4gICAgICAgIGNvbnN0IHNob3VsZFJlbW92ZUxpc3RlbmVyID0gbmV3TGlzdGVuZXIgPT0gbnVsbCB8fFxuICAgICAgICAgICAgb2xkTGlzdGVuZXIgIT0gbnVsbCAmJlxuICAgICAgICAgICAgICAgIChuZXdMaXN0ZW5lci5jYXB0dXJlICE9PSBvbGRMaXN0ZW5lci5jYXB0dXJlIHx8XG4gICAgICAgICAgICAgICAgICAgIG5ld0xpc3RlbmVyLm9uY2UgIT09IG9sZExpc3RlbmVyLm9uY2UgfHxcbiAgICAgICAgICAgICAgICAgICAgbmV3TGlzdGVuZXIucGFzc2l2ZSAhPT0gb2xkTGlzdGVuZXIucGFzc2l2ZSk7XG4gICAgICAgIGNvbnN0IHNob3VsZEFkZExpc3RlbmVyID0gbmV3TGlzdGVuZXIgIT0gbnVsbCAmJiAob2xkTGlzdGVuZXIgPT0gbnVsbCB8fCBzaG91bGRSZW1vdmVMaXN0ZW5lcik7XG4gICAgICAgIGlmIChzaG91bGRSZW1vdmVMaXN0ZW5lcikge1xuICAgICAgICAgICAgdGhpcy5lbGVtZW50LnJlbW92ZUV2ZW50TGlzdGVuZXIodGhpcy5ldmVudE5hbWUsIHRoaXMuX2JvdW5kSGFuZGxlRXZlbnQsIHRoaXMuX29wdGlvbnMpO1xuICAgICAgICB9XG4gICAgICAgIGlmIChzaG91bGRBZGRMaXN0ZW5lcikge1xuICAgICAgICAgICAgdGhpcy5fb3B0aW9ucyA9IGdldE9wdGlvbnMobmV3TGlzdGVuZXIpO1xuICAgICAgICAgICAgdGhpcy5lbGVtZW50LmFkZEV2ZW50TGlzdGVuZXIodGhpcy5ldmVudE5hbWUsIHRoaXMuX2JvdW5kSGFuZGxlRXZlbnQsIHRoaXMuX29wdGlvbnMpO1xuICAgICAgICB9XG4gICAgICAgIHRoaXMudmFsdWUgPSBuZXdMaXN0ZW5lcjtcbiAgICAgICAgdGhpcy5fcGVuZGluZ1ZhbHVlID0gbm9DaGFuZ2U7XG4gICAgfVxuICAgIGhhbmRsZUV2ZW50KGV2ZW50KSB7XG4gICAgICAgIGlmICh0eXBlb2YgdGhpcy52YWx1ZSA9PT0gJ2Z1bmN0aW9uJykge1xuICAgICAgICAgICAgdGhpcy52YWx1ZS5jYWxsKHRoaXMuZXZlbnRDb250ZXh0IHx8IHRoaXMuZWxlbWVudCwgZXZlbnQpO1xuICAgICAgICB9XG4gICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgdGhpcy52YWx1ZS5oYW5kbGVFdmVudChldmVudCk7XG4gICAgICAgIH1cbiAgICB9XG59XG4vLyBXZSBjb3B5IG9wdGlvbnMgYmVjYXVzZSBvZiB0aGUgaW5jb25zaXN0ZW50IGJlaGF2aW9yIG9mIGJyb3dzZXJzIHdoZW4gcmVhZGluZ1xuLy8gdGhlIHRoaXJkIGFyZ3VtZW50IG9mIGFkZC9yZW1vdmVFdmVudExpc3RlbmVyLiBJRTExIGRvZXNuJ3Qgc3VwcG9ydCBvcHRpb25zXG4vLyBhdCBhbGwuIENocm9tZSA0MSBvbmx5IHJlYWRzIGBjYXB0dXJlYCBpZiB0aGUgYXJndW1lbnQgaXMgYW4gb2JqZWN0LlxuY29uc3QgZ2V0T3B0aW9ucyA9IChvKSA9PiBvICYmXG4gICAgKGV2ZW50T3B0aW9uc1N1cHBvcnRlZCA/XG4gICAgICAgIHsgY2FwdHVyZTogby5jYXB0dXJlLCBwYXNzaXZlOiBvLnBhc3NpdmUsIG9uY2U6IG8ub25jZSB9IDpcbiAgICAgICAgby5jYXB0dXJlKTtcbi8vIyBzb3VyY2VNYXBwaW5nVVJMPXBhcnRzLmpzLm1hcCIsIi8qKlxuICogQGxpY2Vuc2VcbiAqIENvcHlyaWdodCAoYykgMjAxOCBUaGUgUG9seW1lciBQcm9qZWN0IEF1dGhvcnMuIEFsbCByaWdodHMgcmVzZXJ2ZWQuXG4gKiBUaGlzIGNvZGUgbWF5IG9ubHkgYmUgdXNlZCB1bmRlciB0aGUgQlNEIHN0eWxlIGxpY2Vuc2UgZm91bmQgYXRcbiAqIGh0dHA6Ly9wb2x5bWVyLmdpdGh1Yi5pby9MSUNFTlNFLnR4dFxuICogVGhlIGNvbXBsZXRlIHNldCBvZiBhdXRob3JzIG1heSBiZSBmb3VuZCBhdFxuICogaHR0cDovL3BvbHltZXIuZ2l0aHViLmlvL0FVVEhPUlMudHh0XG4gKiBUaGUgY29tcGxldGUgc2V0IG9mIGNvbnRyaWJ1dG9ycyBtYXkgYmUgZm91bmQgYXRcbiAqIGh0dHA6Ly9wb2x5bWVyLmdpdGh1Yi5pby9DT05UUklCVVRPUlMudHh0XG4gKiBDb2RlIGRpc3RyaWJ1dGVkIGJ5IEdvb2dsZSBhcyBwYXJ0IG9mIHRoZSBwb2x5bWVyIHByb2plY3QgaXMgYWxzb1xuICogc3ViamVjdCB0byBhbiBhZGRpdGlvbmFsIElQIHJpZ2h0cyBncmFudCBmb3VuZCBhdFxuICogaHR0cDovL3BvbHltZXIuZ2l0aHViLmlvL1BBVEVOVFMudHh0XG4gKi9cbi8qKlxuICogQSBzZW50aW5lbCB2YWx1ZSB0aGF0IHNpZ25hbHMgdGhhdCBhIHZhbHVlIHdhcyBoYW5kbGVkIGJ5IGEgZGlyZWN0aXZlIGFuZFxuICogc2hvdWxkIG5vdCBiZSB3cml0dGVuIHRvIHRoZSBET00uXG4gKi9cbmV4cG9ydCBjb25zdCBub0NoYW5nZSA9IHt9O1xuLyoqXG4gKiBBIHNlbnRpbmVsIHZhbHVlIHRoYXQgc2lnbmFscyBhIE5vZGVQYXJ0IHRvIGZ1bGx5IGNsZWFyIGl0cyBjb250ZW50LlxuICovXG5leHBvcnQgY29uc3Qgbm90aGluZyA9IHt9O1xuLy8jIHNvdXJjZU1hcHBpbmdVUkw9cGFydC5qcy5tYXAiLCIvKipcbkBsaWNlbnNlXG5Db3B5cmlnaHQgKGMpIDIwMTcgVGhlIFBvbHltZXIgUHJvamVjdCBBdXRob3JzLiBBbGwgcmlnaHRzIHJlc2VydmVkLlxuVGhpcyBjb2RlIG1heSBvbmx5IGJlIHVzZWQgdW5kZXIgdGhlIEJTRCBzdHlsZSBsaWNlbnNlIGZvdW5kIGF0IGh0dHA6Ly9wb2x5bWVyLmdpdGh1Yi5pby9MSUNFTlNFLnR4dFxuVGhlIGNvbXBsZXRlIHNldCBvZiBhdXRob3JzIG1heSBiZSBmb3VuZCBhdCBodHRwOi8vcG9seW1lci5naXRodWIuaW8vQVVUSE9SUy50eHRcblRoZSBjb21wbGV0ZSBzZXQgb2YgY29udHJpYnV0b3JzIG1heSBiZSBmb3VuZCBhdCBodHRwOi8vcG9seW1lci5naXRodWIuaW8vQ09OVFJJQlVUT1JTLnR4dFxuQ29kZSBkaXN0cmlidXRlZCBieSBHb29nbGUgYXMgcGFydCBvZiB0aGUgcG9seW1lciBwcm9qZWN0IGlzIGFsc29cbnN1YmplY3QgdG8gYW4gYWRkaXRpb25hbCBJUCByaWdodHMgZ3JhbnQgZm91bmQgYXQgaHR0cDovL3BvbHltZXIuZ2l0aHViLmlvL1BBVEVOVFMudHh0XG4qL1xuaW1wb3J0ICcuL2Jvb3QuanMnO1xuXG5pbXBvcnQgJy4vbWl4aW4uanMnO1xuaW1wb3J0ICcuL2FzeW5jLmpzJztcblxuLyoqXG4gKiBAc3VtbWFyeSBDb2xsYXBzZSBtdWx0aXBsZSBjYWxsYmFja3MgaW50byBvbmUgaW52b2NhdGlvbiBhZnRlciBhIHRpbWVyLlxuICovXG5leHBvcnQgY2xhc3MgRGVib3VuY2VyIHtcbiAgY29uc3RydWN0b3IoKSB7XG4gICAgdGhpcy5fYXN5bmNNb2R1bGUgPSBudWxsO1xuICAgIHRoaXMuX2NhbGxiYWNrID0gbnVsbDtcbiAgICB0aGlzLl90aW1lciA9IG51bGw7XG4gIH1cbiAgLyoqXG4gICAqIFNldHMgdGhlIHNjaGVkdWxlcjsgdGhhdCBpcywgYSBtb2R1bGUgd2l0aCB0aGUgQXN5bmMgaW50ZXJmYWNlLFxuICAgKiBhIGNhbGxiYWNrIGFuZCBvcHRpb25hbCBhcmd1bWVudHMgdG8gYmUgcGFzc2VkIHRvIHRoZSBydW4gZnVuY3Rpb25cbiAgICogZnJvbSB0aGUgYXN5bmMgbW9kdWxlLlxuICAgKlxuICAgKiBAcGFyYW0geyFBc3luY0ludGVyZmFjZX0gYXN5bmNNb2R1bGUgT2JqZWN0IHdpdGggQXN5bmMgaW50ZXJmYWNlLlxuICAgKiBAcGFyYW0ge2Z1bmN0aW9uKCl9IGNhbGxiYWNrIENhbGxiYWNrIHRvIHJ1bi5cbiAgICogQHJldHVybiB7dm9pZH1cbiAgICovXG4gIHNldENvbmZpZyhhc3luY01vZHVsZSwgY2FsbGJhY2spIHtcbiAgICB0aGlzLl9hc3luY01vZHVsZSA9IGFzeW5jTW9kdWxlO1xuICAgIHRoaXMuX2NhbGxiYWNrID0gY2FsbGJhY2s7XG4gICAgdGhpcy5fdGltZXIgPSB0aGlzLl9hc3luY01vZHVsZS5ydW4oKCkgPT4ge1xuICAgICAgdGhpcy5fdGltZXIgPSBudWxsO1xuICAgICAgZGVib3VuY2VyUXVldWUuZGVsZXRlKHRoaXMpO1xuICAgICAgdGhpcy5fY2FsbGJhY2soKTtcbiAgICB9KTtcbiAgfVxuICAvKipcbiAgICogQ2FuY2VscyBhbiBhY3RpdmUgZGVib3VuY2VyIGFuZCByZXR1cm5zIGEgcmVmZXJlbmNlIHRvIGl0c2VsZi5cbiAgICpcbiAgICogQHJldHVybiB7dm9pZH1cbiAgICovXG4gIGNhbmNlbCgpIHtcbiAgICBpZiAodGhpcy5pc0FjdGl2ZSgpKSB7XG4gICAgICB0aGlzLl9jYW5jZWxBc3luYygpO1xuICAgICAgLy8gQ2FuY2VsaW5nIGEgZGVib3VuY2VyIHJlbW92ZXMgaXRzIHNwb3QgZnJvbSB0aGUgZmx1c2ggcXVldWUsXG4gICAgICAvLyBzbyBpZiBhIGRlYm91bmNlciBpcyBtYW51YWxseSBjYW5jZWxlZCBhbmQgcmUtZGVib3VuY2VkLCBpdFxuICAgICAgLy8gd2lsbCByZXNldCBpdHMgZmx1c2ggb3JkZXIgKHRoaXMgaXMgYSB2ZXJ5IG1pbm9yIGRpZmZlcmVuY2UgZnJvbSAxLngpXG4gICAgICAvLyBSZS1kZWJvdW5jaW5nIHZpYSB0aGUgYGRlYm91bmNlYCBBUEkgcmV0YWlucyB0aGUgMS54IEZJRk8gZmx1c2ggb3JkZXJcbiAgICAgIGRlYm91bmNlclF1ZXVlLmRlbGV0ZSh0aGlzKTtcbiAgICB9XG4gIH1cbiAgLyoqXG4gICAqIENhbmNlbHMgYSBkZWJvdW5jZXIncyBhc3luYyBjYWxsYmFjay5cbiAgICpcbiAgICogQHJldHVybiB7dm9pZH1cbiAgICovXG4gIF9jYW5jZWxBc3luYygpIHtcbiAgICBpZiAodGhpcy5pc0FjdGl2ZSgpKSB7XG4gICAgICB0aGlzLl9hc3luY01vZHVsZS5jYW5jZWwoLyoqIEB0eXBlIHtudW1iZXJ9ICovKHRoaXMuX3RpbWVyKSk7XG4gICAgICB0aGlzLl90aW1lciA9IG51bGw7XG4gICAgfVxuICB9XG4gIC8qKlxuICAgKiBGbHVzaGVzIGFuIGFjdGl2ZSBkZWJvdW5jZXIgYW5kIHJldHVybnMgYSByZWZlcmVuY2UgdG8gaXRzZWxmLlxuICAgKlxuICAgKiBAcmV0dXJuIHt2b2lkfVxuICAgKi9cbiAgZmx1c2goKSB7XG4gICAgaWYgKHRoaXMuaXNBY3RpdmUoKSkge1xuICAgICAgdGhpcy5jYW5jZWwoKTtcbiAgICAgIHRoaXMuX2NhbGxiYWNrKCk7XG4gICAgfVxuICB9XG4gIC8qKlxuICAgKiBSZXR1cm5zIHRydWUgaWYgdGhlIGRlYm91bmNlciBpcyBhY3RpdmUuXG4gICAqXG4gICAqIEByZXR1cm4ge2Jvb2xlYW59IFRydWUgaWYgYWN0aXZlLlxuICAgKi9cbiAgaXNBY3RpdmUoKSB7XG4gICAgcmV0dXJuIHRoaXMuX3RpbWVyICE9IG51bGw7XG4gIH1cbiAgLyoqXG4gICAqIENyZWF0ZXMgYSBkZWJvdW5jZXIgaWYgbm8gZGVib3VuY2VyIGlzIHBhc3NlZCBhcyBhIHBhcmFtZXRlclxuICAgKiBvciBpdCBjYW5jZWxzIGFuIGFjdGl2ZSBkZWJvdW5jZXIgb3RoZXJ3aXNlLiBUaGUgZm9sbG93aW5nXG4gICAqIGV4YW1wbGUgc2hvd3MgaG93IGEgZGVib3VuY2VyIGNhbiBiZSBjYWxsZWQgbXVsdGlwbGUgdGltZXMgd2l0aGluIGFcbiAgICogbWljcm90YXNrIGFuZCBcImRlYm91bmNlZFwiIHN1Y2ggdGhhdCB0aGUgcHJvdmlkZWQgY2FsbGJhY2sgZnVuY3Rpb24gaXNcbiAgICogY2FsbGVkIG9uY2UuIEFkZCB0aGlzIG1ldGhvZCB0byBhIGN1c3RvbSBlbGVtZW50OlxuICAgKlxuICAgKiBgYGBqc1xuICAgKiBpbXBvcnQge21pY3JvVGFza30gZnJvbSAnQHBvbHltZXIvcG9seW1lci9saWIvdXRpbHMvYXN5bmMuanMnO1xuICAgKiBpbXBvcnQge0RlYm91bmNlcn0gZnJvbSAnQHBvbHltZXIvcG9seW1lci9saWIvdXRpbHMvZGVib3VuY2UuanMnO1xuICAgKiAvLyAuLi5cbiAgICpcbiAgICogX2RlYm91bmNlV29yaygpIHtcbiAgICogICB0aGlzLl9kZWJvdW5jZUpvYiA9IERlYm91bmNlci5kZWJvdW5jZSh0aGlzLl9kZWJvdW5jZUpvYixcbiAgICogICAgICAgbWljcm9UYXNrLCAoKSA9PiB0aGlzLl9kb1dvcmsoKSk7XG4gICAqIH1cbiAgICogYGBgXG4gICAqXG4gICAqIElmIHRoZSBgX2RlYm91bmNlV29ya2AgbWV0aG9kIGlzIGNhbGxlZCBtdWx0aXBsZSB0aW1lcyB3aXRoaW4gdGhlIHNhbWVcbiAgICogbWljcm90YXNrLCB0aGUgYF9kb1dvcmtgIGZ1bmN0aW9uIHdpbGwgYmUgY2FsbGVkIG9ubHkgb25jZSBhdCB0aGUgbmV4dFxuICAgKiBtaWNyb3Rhc2sgY2hlY2twb2ludC5cbiAgICpcbiAgICogTm90ZTogSW4gdGVzdGluZyBpdCBpcyBvZnRlbiBjb252ZW5pZW50IHRvIGF2b2lkIGFzeW5jaHJvbnkuIFRvIGFjY29tcGxpc2hcbiAgICogdGhpcyB3aXRoIGEgZGVib3VuY2VyLCB5b3UgY2FuIHVzZSBgZW5xdWV1ZURlYm91bmNlcmAgYW5kXG4gICAqIGBmbHVzaGAuIEZvciBleGFtcGxlLCBleHRlbmQgdGhlIGFib3ZlIGV4YW1wbGUgYnkgYWRkaW5nXG4gICAqIGBlbnF1ZXVlRGVib3VuY2VyKHRoaXMuX2RlYm91bmNlSm9iKWAgYXQgdGhlIGVuZCBvZiB0aGVcbiAgICogYF9kZWJvdW5jZVdvcmtgIG1ldGhvZC4gVGhlbiBpbiBhIHRlc3QsIGNhbGwgYGZsdXNoYCB0byBlbnN1cmVcbiAgICogdGhlIGRlYm91bmNlciBoYXMgY29tcGxldGVkLlxuICAgKlxuICAgKiBAcGFyYW0ge0RlYm91bmNlcj99IGRlYm91bmNlciBEZWJvdW5jZXIgb2JqZWN0LlxuICAgKiBAcGFyYW0geyFBc3luY0ludGVyZmFjZX0gYXN5bmNNb2R1bGUgT2JqZWN0IHdpdGggQXN5bmMgaW50ZXJmYWNlXG4gICAqIEBwYXJhbSB7ZnVuY3Rpb24oKX0gY2FsbGJhY2sgQ2FsbGJhY2sgdG8gcnVuLlxuICAgKiBAcmV0dXJuIHshRGVib3VuY2VyfSBSZXR1cm5zIGEgZGVib3VuY2VyIG9iamVjdC5cbiAgICovXG4gIHN0YXRpYyBkZWJvdW5jZShkZWJvdW5jZXIsIGFzeW5jTW9kdWxlLCBjYWxsYmFjaykge1xuICAgIGlmIChkZWJvdW5jZXIgaW5zdGFuY2VvZiBEZWJvdW5jZXIpIHtcbiAgICAgIC8vIENhbmNlbCB0aGUgYXN5bmMgY2FsbGJhY2ssIGJ1dCBsZWF2ZSBpbiBkZWJvdW5jZXJRdWV1ZSBpZiBpdCB3YXNcbiAgICAgIC8vIGVucXVldWVkLCB0byBtYWludGFpbiAxLnggZmx1c2ggb3JkZXJcbiAgICAgIGRlYm91bmNlci5fY2FuY2VsQXN5bmMoKTtcbiAgICB9IGVsc2Uge1xuICAgICAgZGVib3VuY2VyID0gbmV3IERlYm91bmNlcigpO1xuICAgIH1cbiAgICBkZWJvdW5jZXIuc2V0Q29uZmlnKGFzeW5jTW9kdWxlLCBjYWxsYmFjayk7XG4gICAgcmV0dXJuIGRlYm91bmNlcjtcbiAgfVxufVxuXG5sZXQgZGVib3VuY2VyUXVldWUgPSBuZXcgU2V0KCk7XG5cbi8qKlxuICogQWRkcyBhIGBEZWJvdW5jZXJgIHRvIGEgbGlzdCBvZiBnbG9iYWxseSBmbHVzaGFibGUgdGFza3MuXG4gKlxuICogQHBhcmFtIHshRGVib3VuY2VyfSBkZWJvdW5jZXIgRGVib3VuY2VyIHRvIGVucXVldWVcbiAqIEByZXR1cm4ge3ZvaWR9XG4gKi9cbmV4cG9ydCBjb25zdCBlbnF1ZXVlRGVib3VuY2VyID0gZnVuY3Rpb24oZGVib3VuY2VyKSB7XG4gIGRlYm91bmNlclF1ZXVlLmFkZChkZWJvdW5jZXIpO1xufTtcblxuLyoqXG4gKiBGbHVzaGVzIGFueSBlbnF1ZXVlZCBkZWJvdW5jZXJzXG4gKlxuICogQHJldHVybiB7Ym9vbGVhbn0gUmV0dXJucyB3aGV0aGVyIGFueSBkZWJvdW5jZXJzIHdlcmUgZmx1c2hlZFxuICovXG5leHBvcnQgY29uc3QgZmx1c2hEZWJvdW5jZXJzID0gZnVuY3Rpb24oKSB7XG4gIGNvbnN0IGRpZEZsdXNoID0gQm9vbGVhbihkZWJvdW5jZXJRdWV1ZS5zaXplKTtcbiAgLy8gSWYgbmV3IGRlYm91bmNlcnMgYXJlIGFkZGVkIHdoaWxlIGZsdXNoaW5nLCBTZXQuZm9yRWFjaCB3aWxsIGVuc3VyZVxuICAvLyBuZXdseSBhZGRlZCBvbmVzIGFyZSBhbHNvIGZsdXNoZWRcbiAgZGVib3VuY2VyUXVldWUuZm9yRWFjaChkZWJvdW5jZXIgPT4ge1xuICAgIHRyeSB7XG4gICAgICBkZWJvdW5jZXIuZmx1c2goKTtcbiAgICB9IGNhdGNoKGUpIHtcbiAgICAgIHNldFRpbWVvdXQoKCkgPT4ge1xuICAgICAgICB0aHJvdyBlO1xuICAgICAgfSk7XG4gICAgfVxuICB9KTtcbiAgcmV0dXJuIGRpZEZsdXNoO1xufTsiLCIvKipcbiAqIEBsaWNlbnNlXG4gKiBDb3B5cmlnaHQgKGMpIDIwMTcgVGhlIFBvbHltZXIgUHJvamVjdCBBdXRob3JzLiBBbGwgcmlnaHRzIHJlc2VydmVkLlxuICogVGhpcyBjb2RlIG1heSBvbmx5IGJlIHVzZWQgdW5kZXIgdGhlIEJTRCBzdHlsZSBsaWNlbnNlIGZvdW5kIGF0XG4gKiBodHRwOi8vcG9seW1lci5naXRodWIuaW8vTElDRU5TRS50eHRcbiAqIFRoZSBjb21wbGV0ZSBzZXQgb2YgYXV0aG9ycyBtYXkgYmUgZm91bmQgYXRcbiAqIGh0dHA6Ly9wb2x5bWVyLmdpdGh1Yi5pby9BVVRIT1JTLnR4dFxuICogVGhlIGNvbXBsZXRlIHNldCBvZiBjb250cmlidXRvcnMgbWF5IGJlIGZvdW5kIGF0XG4gKiBodHRwOi8vcG9seW1lci5naXRodWIuaW8vQ09OVFJJQlVUT1JTLnR4dFxuICogQ29kZSBkaXN0cmlidXRlZCBieSBHb29nbGUgYXMgcGFydCBvZiB0aGUgcG9seW1lciBwcm9qZWN0IGlzIGFsc29cbiAqIHN1YmplY3QgdG8gYW4gYWRkaXRpb25hbCBJUCByaWdodHMgZ3JhbnQgZm91bmQgYXRcbiAqIGh0dHA6Ly9wb2x5bWVyLmdpdGh1Yi5pby9QQVRFTlRTLnR4dFxuICovXG4vKipcbiAqIFRydWUgaWYgdGhlIGN1c3RvbSBlbGVtZW50cyBwb2x5ZmlsbCBpcyBpbiB1c2UuXG4gKi9cbmV4cG9ydCBjb25zdCBpc0NFUG9seWZpbGwgPSB3aW5kb3cuY3VzdG9tRWxlbWVudHMgIT09IHVuZGVmaW5lZCAmJlxuICAgIHdpbmRvdy5jdXN0b21FbGVtZW50cy5wb2x5ZmlsbFdyYXBGbHVzaENhbGxiYWNrICE9PVxuICAgICAgICB1bmRlZmluZWQ7XG4vKipcbiAqIFJlcGFyZW50cyBub2Rlcywgc3RhcnRpbmcgZnJvbSBgc3RhcnROb2RlYCAoaW5jbHVzaXZlKSB0byBgZW5kTm9kZWBcbiAqIChleGNsdXNpdmUpLCBpbnRvIGFub3RoZXIgY29udGFpbmVyIChjb3VsZCBiZSB0aGUgc2FtZSBjb250YWluZXIpLCBiZWZvcmVcbiAqIGBiZWZvcmVOb2RlYC4gSWYgYGJlZm9yZU5vZGVgIGlzIG51bGwsIGl0IGFwcGVuZHMgdGhlIG5vZGVzIHRvIHRoZVxuICogY29udGFpbmVyLlxuICovXG5leHBvcnQgY29uc3QgcmVwYXJlbnROb2RlcyA9IChjb250YWluZXIsIHN0YXJ0LCBlbmQgPSBudWxsLCBiZWZvcmUgPSBudWxsKSA9PiB7XG4gICAgbGV0IG5vZGUgPSBzdGFydDtcbiAgICB3aGlsZSAobm9kZSAhPT0gZW5kKSB7XG4gICAgICAgIGNvbnN0IG4gPSBub2RlLm5leHRTaWJsaW5nO1xuICAgICAgICBjb250YWluZXIuaW5zZXJ0QmVmb3JlKG5vZGUsIGJlZm9yZSk7XG4gICAgICAgIG5vZGUgPSBuO1xuICAgIH1cbn07XG4vKipcbiAqIFJlbW92ZXMgbm9kZXMsIHN0YXJ0aW5nIGZyb20gYHN0YXJ0Tm9kZWAgKGluY2x1c2l2ZSkgdG8gYGVuZE5vZGVgXG4gKiAoZXhjbHVzaXZlKSwgZnJvbSBgY29udGFpbmVyYC5cbiAqL1xuZXhwb3J0IGNvbnN0IHJlbW92ZU5vZGVzID0gKGNvbnRhaW5lciwgc3RhcnROb2RlLCBlbmROb2RlID0gbnVsbCkgPT4ge1xuICAgIGxldCBub2RlID0gc3RhcnROb2RlO1xuICAgIHdoaWxlIChub2RlICE9PSBlbmROb2RlKSB7XG4gICAgICAgIGNvbnN0IG4gPSBub2RlLm5leHRTaWJsaW5nO1xuICAgICAgICBjb250YWluZXIucmVtb3ZlQ2hpbGQobm9kZSk7XG4gICAgICAgIG5vZGUgPSBuO1xuICAgIH1cbn07XG4vLyMgc291cmNlTWFwcGluZ1VSTD1kb20uanMubWFwIiwiLyoqXG5AbGljZW5zZVxuQ29weXJpZ2h0IChjKSAyMDE3IFRoZSBQb2x5bWVyIFByb2plY3QgQXV0aG9ycy4gQWxsIHJpZ2h0cyByZXNlcnZlZC5cblRoaXMgY29kZSBtYXkgb25seSBiZSB1c2VkIHVuZGVyIHRoZSBCU0Qgc3R5bGUgbGljZW5zZSBmb3VuZCBhdCBodHRwOi8vcG9seW1lci5naXRodWIuaW8vTElDRU5TRS50eHRcblRoZSBjb21wbGV0ZSBzZXQgb2YgYXV0aG9ycyBtYXkgYmUgZm91bmQgYXQgaHR0cDovL3BvbHltZXIuZ2l0aHViLmlvL0FVVEhPUlMudHh0XG5UaGUgY29tcGxldGUgc2V0IG9mIGNvbnRyaWJ1dG9ycyBtYXkgYmUgZm91bmQgYXQgaHR0cDovL3BvbHltZXIuZ2l0aHViLmlvL0NPTlRSSUJVVE9SUy50eHRcbkNvZGUgZGlzdHJpYnV0ZWQgYnkgR29vZ2xlIGFzIHBhcnQgb2YgdGhlIHBvbHltZXIgcHJvamVjdCBpcyBhbHNvXG5zdWJqZWN0IHRvIGFuIGFkZGl0aW9uYWwgSVAgcmlnaHRzIGdyYW50IGZvdW5kIGF0IGh0dHA6Ly9wb2x5bWVyLmdpdGh1Yi5pby9QQVRFTlRTLnR4dFxuKi9cbmltcG9ydCAnLi9ib290LmpzJztcblxubGV0IENTU19VUkxfUlggPSAvKHVybFxcKCkoW14pXSopKFxcKSkvZztcbmxldCBBQlNfVVJMID0gLyheXFwvKXwoXiMpfCheW1xcdy1cXGRdKjopLztcbmxldCB3b3JraW5nVVJMO1xubGV0IHJlc29sdmVEb2M7XG4vKipcbiAqIFJlc29sdmVzIHRoZSBnaXZlbiBVUkwgYWdhaW5zdCB0aGUgcHJvdmlkZWQgYGJhc2VVcmknLlxuICpcbiAqIE5vdGUgdGhhdCB0aGlzIGZ1bmN0aW9uIHBlcmZvcm1zIG5vIHJlc29sdXRpb24gZm9yIFVSTHMgdGhhdCBzdGFydFxuICogd2l0aCBgL2AgKGFic29sdXRlIFVSTHMpIG9yIGAjYCAoaGFzaCBpZGVudGlmaWVycykuICBGb3IgZ2VuZXJhbCBwdXJwb3NlXG4gKiBVUkwgcmVzb2x1dGlvbiwgdXNlIGB3aW5kb3cuVVJMYC5cbiAqXG4gKiBAcGFyYW0ge3N0cmluZ30gdXJsIElucHV0IFVSTCB0byByZXNvbHZlXG4gKiBAcGFyYW0gez9zdHJpbmc9fSBiYXNlVVJJIEJhc2UgVVJJIHRvIHJlc29sdmUgdGhlIFVSTCBhZ2FpbnN0XG4gKiBAcmV0dXJuIHtzdHJpbmd9IHJlc29sdmVkIFVSTFxuICovXG5leHBvcnQgZnVuY3Rpb24gcmVzb2x2ZVVybCh1cmwsIGJhc2VVUkkpIHtcbiAgaWYgKHVybCAmJiBBQlNfVVJMLnRlc3QodXJsKSkge1xuICAgIHJldHVybiB1cmw7XG4gIH1cbiAgLy8gTGF6eSBmZWF0dXJlIGRldGVjdGlvbi5cbiAgaWYgKHdvcmtpbmdVUkwgPT09IHVuZGVmaW5lZCkge1xuICAgIHdvcmtpbmdVUkwgPSBmYWxzZTtcbiAgICB0cnkge1xuICAgICAgY29uc3QgdSA9IG5ldyBVUkwoJ2InLCAnaHR0cDovL2EnKTtcbiAgICAgIHUucGF0aG5hbWUgPSAnYyUyMGQnO1xuICAgICAgd29ya2luZ1VSTCA9ICh1LmhyZWYgPT09ICdodHRwOi8vYS9jJTIwZCcpO1xuICAgIH0gY2F0Y2ggKGUpIHtcbiAgICAgIC8vIHNpbGVudGx5IGZhaWxcbiAgICB9XG4gIH1cbiAgaWYgKCFiYXNlVVJJKSB7XG4gICAgYmFzZVVSSSA9IGRvY3VtZW50LmJhc2VVUkkgfHwgd2luZG93LmxvY2F0aW9uLmhyZWY7XG4gIH1cbiAgaWYgKHdvcmtpbmdVUkwpIHtcbiAgICByZXR1cm4gKG5ldyBVUkwodXJsLCBiYXNlVVJJKSkuaHJlZjtcbiAgfVxuICAvLyBGYWxsYmFjayB0byBjcmVhdGluZyBhbiBhbmNob3IgaW50byBhIGRpc2Nvbm5lY3RlZCBkb2N1bWVudC5cbiAgaWYgKCFyZXNvbHZlRG9jKSB7XG4gICAgcmVzb2x2ZURvYyA9IGRvY3VtZW50LmltcGxlbWVudGF0aW9uLmNyZWF0ZUhUTUxEb2N1bWVudCgndGVtcCcpO1xuICAgIHJlc29sdmVEb2MuYmFzZSA9IHJlc29sdmVEb2MuY3JlYXRlRWxlbWVudCgnYmFzZScpO1xuICAgIHJlc29sdmVEb2MuaGVhZC5hcHBlbmRDaGlsZChyZXNvbHZlRG9jLmJhc2UpO1xuICAgIHJlc29sdmVEb2MuYW5jaG9yID0gcmVzb2x2ZURvYy5jcmVhdGVFbGVtZW50KCdhJyk7XG4gICAgcmVzb2x2ZURvYy5ib2R5LmFwcGVuZENoaWxkKHJlc29sdmVEb2MuYW5jaG9yKTtcbiAgfVxuICByZXNvbHZlRG9jLmJhc2UuaHJlZiA9IGJhc2VVUkk7XG4gIHJlc29sdmVEb2MuYW5jaG9yLmhyZWYgPSB1cmw7XG4gIHJldHVybiByZXNvbHZlRG9jLmFuY2hvci5ocmVmIHx8IHVybDtcblxufVxuXG4vKipcbiAqIFJlc29sdmVzIGFueSByZWxhdGl2ZSBVUkwncyBpbiB0aGUgZ2l2ZW4gQ1NTIHRleHQgYWdhaW5zdCB0aGUgcHJvdmlkZWRcbiAqIGBvd25lckRvY3VtZW50YCdzIGBiYXNlVVJJYC5cbiAqXG4gKiBAcGFyYW0ge3N0cmluZ30gY3NzVGV4dCBDU1MgdGV4dCB0byBwcm9jZXNzXG4gKiBAcGFyYW0ge3N0cmluZ30gYmFzZVVSSSBCYXNlIFVSSSB0byByZXNvbHZlIHRoZSBVUkwgYWdhaW5zdFxuICogQHJldHVybiB7c3RyaW5nfSBQcm9jZXNzZWQgQ1NTIHRleHQgd2l0aCByZXNvbHZlZCBVUkwnc1xuICovXG5leHBvcnQgZnVuY3Rpb24gcmVzb2x2ZUNzcyhjc3NUZXh0LCBiYXNlVVJJKSB7XG4gIHJldHVybiBjc3NUZXh0LnJlcGxhY2UoQ1NTX1VSTF9SWCwgZnVuY3Rpb24obSwgcHJlLCB1cmwsIHBvc3QpIHtcbiAgICByZXR1cm4gcHJlICsgJ1xcJycgK1xuICAgICAgcmVzb2x2ZVVybCh1cmwucmVwbGFjZSgvW1wiJ10vZywgJycpLCBiYXNlVVJJKSArXG4gICAgICAnXFwnJyArIHBvc3Q7XG4gIH0pO1xufVxuXG4vKipcbiAqIFJldHVybnMgYSBwYXRoIGZyb20gYSBnaXZlbiBgdXJsYC4gVGhlIHBhdGggaW5jbHVkZXMgdGhlIHRyYWlsaW5nXG4gKiBgL2AgZnJvbSB0aGUgdXJsLlxuICpcbiAqIEBwYXJhbSB7c3RyaW5nfSB1cmwgSW5wdXQgVVJMIHRvIHRyYW5zZm9ybVxuICogQHJldHVybiB7c3RyaW5nfSByZXNvbHZlZCBwYXRoXG4gKi9cbmV4cG9ydCBmdW5jdGlvbiBwYXRoRnJvbVVybCh1cmwpIHtcbiAgcmV0dXJuIHVybC5zdWJzdHJpbmcoMCwgdXJsLmxhc3RJbmRleE9mKCcvJykgKyAxKTtcbn1cbiIsIi8qKlxuICogQGxpY2Vuc2VcbiAqIENvcHlyaWdodCAoYykgMjAxNyBUaGUgUG9seW1lciBQcm9qZWN0IEF1dGhvcnMuIEFsbCByaWdodHMgcmVzZXJ2ZWQuXG4gKiBUaGlzIGNvZGUgbWF5IG9ubHkgYmUgdXNlZCB1bmRlciB0aGUgQlNEIHN0eWxlIGxpY2Vuc2UgZm91bmQgYXRcbiAqIGh0dHA6Ly9wb2x5bWVyLmdpdGh1Yi5pby9MSUNFTlNFLnR4dFxuICogVGhlIGNvbXBsZXRlIHNldCBvZiBhdXRob3JzIG1heSBiZSBmb3VuZCBhdFxuICogaHR0cDovL3BvbHltZXIuZ2l0aHViLmlvL0FVVEhPUlMudHh0XG4gKiBUaGUgY29tcGxldGUgc2V0IG9mIGNvbnRyaWJ1dG9ycyBtYXkgYmUgZm91bmQgYXRcbiAqIGh0dHA6Ly9wb2x5bWVyLmdpdGh1Yi5pby9DT05UUklCVVRPUlMudHh0XG4gKiBDb2RlIGRpc3RyaWJ1dGVkIGJ5IEdvb2dsZSBhcyBwYXJ0IG9mIHRoZSBwb2x5bWVyIHByb2plY3QgaXMgYWxzb1xuICogc3ViamVjdCB0byBhbiBhZGRpdGlvbmFsIElQIHJpZ2h0cyBncmFudCBmb3VuZCBhdFxuICogaHR0cDovL3BvbHltZXIuZ2l0aHViLmlvL1BBVEVOVFMudHh0XG4gKi9cbmltcG9ydCB7IEF0dHJpYnV0ZUNvbW1pdHRlciwgQm9vbGVhbkF0dHJpYnV0ZVBhcnQsIEV2ZW50UGFydCwgTm9kZVBhcnQsIFByb3BlcnR5Q29tbWl0dGVyIH0gZnJvbSAnLi9wYXJ0cy5qcyc7XG4vKipcbiAqIENyZWF0ZXMgUGFydHMgd2hlbiBhIHRlbXBsYXRlIGlzIGluc3RhbnRpYXRlZC5cbiAqL1xuZXhwb3J0IGNsYXNzIERlZmF1bHRUZW1wbGF0ZVByb2Nlc3NvciB7XG4gICAgLyoqXG4gICAgICogQ3JlYXRlIHBhcnRzIGZvciBhbiBhdHRyaWJ1dGUtcG9zaXRpb24gYmluZGluZywgZ2l2ZW4gdGhlIGV2ZW50LCBhdHRyaWJ1dGVcbiAgICAgKiBuYW1lLCBhbmQgc3RyaW5nIGxpdGVyYWxzLlxuICAgICAqXG4gICAgICogQHBhcmFtIGVsZW1lbnQgVGhlIGVsZW1lbnQgY29udGFpbmluZyB0aGUgYmluZGluZ1xuICAgICAqIEBwYXJhbSBuYW1lICBUaGUgYXR0cmlidXRlIG5hbWVcbiAgICAgKiBAcGFyYW0gc3RyaW5ncyBUaGUgc3RyaW5nIGxpdGVyYWxzLiBUaGVyZSBhcmUgYWx3YXlzIGF0IGxlYXN0IHR3byBzdHJpbmdzLFxuICAgICAqICAgZXZlbnQgZm9yIGZ1bGx5LWNvbnRyb2xsZWQgYmluZGluZ3Mgd2l0aCBhIHNpbmdsZSBleHByZXNzaW9uLlxuICAgICAqL1xuICAgIGhhbmRsZUF0dHJpYnV0ZUV4cHJlc3Npb25zKGVsZW1lbnQsIG5hbWUsIHN0cmluZ3MsIG9wdGlvbnMpIHtcbiAgICAgICAgY29uc3QgcHJlZml4ID0gbmFtZVswXTtcbiAgICAgICAgaWYgKHByZWZpeCA9PT0gJy4nKSB7XG4gICAgICAgICAgICBjb25zdCBjb21pdHRlciA9IG5ldyBQcm9wZXJ0eUNvbW1pdHRlcihlbGVtZW50LCBuYW1lLnNsaWNlKDEpLCBzdHJpbmdzKTtcbiAgICAgICAgICAgIHJldHVybiBjb21pdHRlci5wYXJ0cztcbiAgICAgICAgfVxuICAgICAgICBpZiAocHJlZml4ID09PSAnQCcpIHtcbiAgICAgICAgICAgIHJldHVybiBbbmV3IEV2ZW50UGFydChlbGVtZW50LCBuYW1lLnNsaWNlKDEpLCBvcHRpb25zLmV2ZW50Q29udGV4dCldO1xuICAgICAgICB9XG4gICAgICAgIGlmIChwcmVmaXggPT09ICc/Jykge1xuICAgICAgICAgICAgcmV0dXJuIFtuZXcgQm9vbGVhbkF0dHJpYnV0ZVBhcnQoZWxlbWVudCwgbmFtZS5zbGljZSgxKSwgc3RyaW5ncyldO1xuICAgICAgICB9XG4gICAgICAgIGNvbnN0IGNvbWl0dGVyID0gbmV3IEF0dHJpYnV0ZUNvbW1pdHRlcihlbGVtZW50LCBuYW1lLCBzdHJpbmdzKTtcbiAgICAgICAgcmV0dXJuIGNvbWl0dGVyLnBhcnRzO1xuICAgIH1cbiAgICAvKipcbiAgICAgKiBDcmVhdGUgcGFydHMgZm9yIGEgdGV4dC1wb3NpdGlvbiBiaW5kaW5nLlxuICAgICAqIEBwYXJhbSB0ZW1wbGF0ZUZhY3RvcnlcbiAgICAgKi9cbiAgICBoYW5kbGVUZXh0RXhwcmVzc2lvbihvcHRpb25zKSB7XG4gICAgICAgIHJldHVybiBuZXcgTm9kZVBhcnQob3B0aW9ucyk7XG4gICAgfVxufVxuZXhwb3J0IGNvbnN0IGRlZmF1bHRUZW1wbGF0ZVByb2Nlc3NvciA9IG5ldyBEZWZhdWx0VGVtcGxhdGVQcm9jZXNzb3IoKTtcbi8vIyBzb3VyY2VNYXBwaW5nVVJMPWRlZmF1bHQtdGVtcGxhdGUtcHJvY2Vzc29yLmpzLm1hcCIsIi8qKlxuICogQGxpY2Vuc2VcbiAqIENvcHlyaWdodCAoYykgMjAxNyBUaGUgUG9seW1lciBQcm9qZWN0IEF1dGhvcnMuIEFsbCByaWdodHMgcmVzZXJ2ZWQuXG4gKiBUaGlzIGNvZGUgbWF5IG9ubHkgYmUgdXNlZCB1bmRlciB0aGUgQlNEIHN0eWxlIGxpY2Vuc2UgZm91bmQgYXRcbiAqIGh0dHA6Ly9wb2x5bWVyLmdpdGh1Yi5pby9MSUNFTlNFLnR4dFxuICogVGhlIGNvbXBsZXRlIHNldCBvZiBhdXRob3JzIG1heSBiZSBmb3VuZCBhdFxuICogaHR0cDovL3BvbHltZXIuZ2l0aHViLmlvL0FVVEhPUlMudHh0XG4gKiBUaGUgY29tcGxldGUgc2V0IG9mIGNvbnRyaWJ1dG9ycyBtYXkgYmUgZm91bmQgYXRcbiAqIGh0dHA6Ly9wb2x5bWVyLmdpdGh1Yi5pby9DT05UUklCVVRPUlMudHh0XG4gKiBDb2RlIGRpc3RyaWJ1dGVkIGJ5IEdvb2dsZSBhcyBwYXJ0IG9mIHRoZSBwb2x5bWVyIHByb2plY3QgaXMgYWxzb1xuICogc3ViamVjdCB0byBhbiBhZGRpdGlvbmFsIElQIHJpZ2h0cyBncmFudCBmb3VuZCBhdFxuICogaHR0cDovL3BvbHltZXIuZ2l0aHViLmlvL1BBVEVOVFMudHh0XG4gKi9cbi8qKlxuICpcbiAqIE1haW4gbGl0LWh0bWwgbW9kdWxlLlxuICpcbiAqIE1haW4gZXhwb3J0czpcbiAqXG4gKiAtICBbW2h0bWxdXVxuICogLSAgW1tzdmddXVxuICogLSAgW1tyZW5kZXJdXVxuICpcbiAqIEBtb2R1bGUgbGl0LWh0bWxcbiAqIEBwcmVmZXJyZWRcbiAqL1xuLyoqXG4gKiBEbyBub3QgcmVtb3ZlIHRoaXMgY29tbWVudDsgaXQga2VlcHMgdHlwZWRvYyBmcm9tIG1pc3BsYWNpbmcgdGhlIG1vZHVsZVxuICogZG9jcy5cbiAqL1xuaW1wb3J0IHsgZGVmYXVsdFRlbXBsYXRlUHJvY2Vzc29yIH0gZnJvbSAnLi9saWIvZGVmYXVsdC10ZW1wbGF0ZS1wcm9jZXNzb3IuanMnO1xuaW1wb3J0IHsgU1ZHVGVtcGxhdGVSZXN1bHQsIFRlbXBsYXRlUmVzdWx0IH0gZnJvbSAnLi9saWIvdGVtcGxhdGUtcmVzdWx0LmpzJztcbmV4cG9ydCB7IERlZmF1bHRUZW1wbGF0ZVByb2Nlc3NvciwgZGVmYXVsdFRlbXBsYXRlUHJvY2Vzc29yIH0gZnJvbSAnLi9saWIvZGVmYXVsdC10ZW1wbGF0ZS1wcm9jZXNzb3IuanMnO1xuZXhwb3J0IHsgZGlyZWN0aXZlLCBpc0RpcmVjdGl2ZSB9IGZyb20gJy4vbGliL2RpcmVjdGl2ZS5qcyc7XG4vLyBUT0RPKGp1c3RpbmZhZ25hbmkpOiByZW1vdmUgbGluZSB3aGVuIHdlIGdldCBOb2RlUGFydCBtb3ZpbmcgbWV0aG9kc1xuZXhwb3J0IHsgcmVtb3ZlTm9kZXMsIHJlcGFyZW50Tm9kZXMgfSBmcm9tICcuL2xpYi9kb20uanMnO1xuZXhwb3J0IHsgbm9DaGFuZ2UsIG5vdGhpbmcgfSBmcm9tICcuL2xpYi9wYXJ0LmpzJztcbmV4cG9ydCB7IEF0dHJpYnV0ZUNvbW1pdHRlciwgQXR0cmlidXRlUGFydCwgQm9vbGVhbkF0dHJpYnV0ZVBhcnQsIEV2ZW50UGFydCwgaXNQcmltaXRpdmUsIE5vZGVQYXJ0LCBQcm9wZXJ0eUNvbW1pdHRlciwgUHJvcGVydHlQYXJ0IH0gZnJvbSAnLi9saWIvcGFydHMuanMnO1xuZXhwb3J0IHsgcGFydHMsIHJlbmRlciB9IGZyb20gJy4vbGliL3JlbmRlci5qcyc7XG5leHBvcnQgeyB0ZW1wbGF0ZUNhY2hlcywgdGVtcGxhdGVGYWN0b3J5IH0gZnJvbSAnLi9saWIvdGVtcGxhdGUtZmFjdG9yeS5qcyc7XG5leHBvcnQgeyBUZW1wbGF0ZUluc3RhbmNlIH0gZnJvbSAnLi9saWIvdGVtcGxhdGUtaW5zdGFuY2UuanMnO1xuZXhwb3J0IHsgU1ZHVGVtcGxhdGVSZXN1bHQsIFRlbXBsYXRlUmVzdWx0IH0gZnJvbSAnLi9saWIvdGVtcGxhdGUtcmVzdWx0LmpzJztcbmV4cG9ydCB7IGNyZWF0ZU1hcmtlciwgaXNUZW1wbGF0ZVBhcnRBY3RpdmUsIFRlbXBsYXRlIH0gZnJvbSAnLi9saWIvdGVtcGxhdGUuanMnO1xuLy8gSU1QT1JUQU5UOiBkbyBub3QgY2hhbmdlIHRoZSBwcm9wZXJ0eSBuYW1lIG9yIHRoZSBhc3NpZ25tZW50IGV4cHJlc3Npb24uXG4vLyBUaGlzIGxpbmUgd2lsbCBiZSB1c2VkIGluIHJlZ2V4ZXMgdG8gc2VhcmNoIGZvciBsaXQtaHRtbCB1c2FnZS5cbi8vIFRPRE8oanVzdGluZmFnbmFuaSk6IGluamVjdCB2ZXJzaW9uIG51bWJlciBhdCBidWlsZCB0aW1lXG4od2luZG93WydsaXRIdG1sVmVyc2lvbnMnXSB8fCAod2luZG93WydsaXRIdG1sVmVyc2lvbnMnXSA9IFtdKSkucHVzaCgnMS4wLjAnKTtcbi8qKlxuICogSW50ZXJwcmV0cyBhIHRlbXBsYXRlIGxpdGVyYWwgYXMgYW4gSFRNTCB0ZW1wbGF0ZSB0aGF0IGNhbiBlZmZpY2llbnRseVxuICogcmVuZGVyIHRvIGFuZCB1cGRhdGUgYSBjb250YWluZXIuXG4gKi9cbmV4cG9ydCBjb25zdCBodG1sID0gKHN0cmluZ3MsIC4uLnZhbHVlcykgPT4gbmV3IFRlbXBsYXRlUmVzdWx0KHN0cmluZ3MsIHZhbHVlcywgJ2h0bWwnLCBkZWZhdWx0VGVtcGxhdGVQcm9jZXNzb3IpO1xuLyoqXG4gKiBJbnRlcnByZXRzIGEgdGVtcGxhdGUgbGl0ZXJhbCBhcyBhbiBTVkcgdGVtcGxhdGUgdGhhdCBjYW4gZWZmaWNpZW50bHlcbiAqIHJlbmRlciB0byBhbmQgdXBkYXRlIGEgY29udGFpbmVyLlxuICovXG5leHBvcnQgY29uc3Qgc3ZnID0gKHN0cmluZ3MsIC4uLnZhbHVlcykgPT4gbmV3IFNWR1RlbXBsYXRlUmVzdWx0KHN0cmluZ3MsIHZhbHVlcywgJ3N2ZycsIGRlZmF1bHRUZW1wbGF0ZVByb2Nlc3Nvcik7XG4vLyMgc291cmNlTWFwcGluZ1VSTD1saXQtaHRtbC5qcy5tYXAiLCIvKipcbkBsaWNlbnNlXG5Db3B5cmlnaHQgKGMpIDIwMTcgVGhlIFBvbHltZXIgUHJvamVjdCBBdXRob3JzLiBBbGwgcmlnaHRzIHJlc2VydmVkLlxuVGhpcyBjb2RlIG1heSBvbmx5IGJlIHVzZWQgdW5kZXIgdGhlIEJTRCBzdHlsZSBsaWNlbnNlIGZvdW5kIGF0IGh0dHA6Ly9wb2x5bWVyLmdpdGh1Yi5pby9MSUNFTlNFLnR4dFxuVGhlIGNvbXBsZXRlIHNldCBvZiBhdXRob3JzIG1heSBiZSBmb3VuZCBhdCBodHRwOi8vcG9seW1lci5naXRodWIuaW8vQVVUSE9SUy50eHRcblRoZSBjb21wbGV0ZSBzZXQgb2YgY29udHJpYnV0b3JzIG1heSBiZSBmb3VuZCBhdCBodHRwOi8vcG9seW1lci5naXRodWIuaW8vQ09OVFJJQlVUT1JTLnR4dFxuQ29kZSBkaXN0cmlidXRlZCBieSBHb29nbGUgYXMgcGFydCBvZiB0aGUgcG9seW1lciBwcm9qZWN0IGlzIGFsc29cbnN1YmplY3QgdG8gYW4gYWRkaXRpb25hbCBJUCByaWdodHMgZ3JhbnQgZm91bmQgYXQgaHR0cDovL3BvbHltZXIuZ2l0aHViLmlvL1BBVEVOVFMudHh0XG4qL1xuaW1wb3J0ICcuL2Jvb3QuanMnO1xuLyogZXNsaW50LWRpc2FibGUgbm8tdW51c2VkLXZhcnMgKi9cbmltcG9ydCB7IERlYm91bmNlciB9IGZyb20gJy4uL3V0aWxzL2RlYm91bmNlLmpzJzsgIC8vIHVzZWQgaW4gdHlwZSBhbm5vdGF0aW9uc1xuLyogZXNsaW50LWVuYWJsZSBuby11bnVzZWQtdmFycyAqL1xuaW1wb3J0IHsgZmx1c2hEZWJvdW5jZXJzIH0gZnJvbSAnLi4vdXRpbHMvZGVib3VuY2UuanMnOyAgLy8gdXNlZCBpbiB0eXBlIGFubm90YXRpb25zXG5leHBvcnQgeyBlbnF1ZXVlRGVib3VuY2VyIH0gZnJvbSAnLi4vdXRpbHMvZGVib3VuY2UuanMnOyAgLy8gdXNlZCBpbiB0eXBlIGFubm90YXRpb25zXG5cbi8qKlxuICogRm9yY2VzIHNldmVyYWwgY2xhc3NlcyBvZiBhc3luY2hyb25vdXNseSBxdWV1ZWQgdGFza3MgdG8gZmx1c2g6XG4gKiAtIERlYm91bmNlcnMgYWRkZWQgdmlhIGBlbnF1ZXVlRGVib3VuY2VyYFxuICogLSBTaGFkeURPTSBkaXN0cmlidXRpb25cbiAqXG4gKiBAcmV0dXJuIHt2b2lkfVxuICovXG5leHBvcnQgY29uc3QgZmx1c2ggPSBmdW5jdGlvbigpIHtcbiAgbGV0IHNoYWR5RE9NLCBkZWJvdW5jZXJzO1xuICBkbyB7XG4gICAgc2hhZHlET00gPSB3aW5kb3cuU2hhZHlET00gJiYgU2hhZHlET00uZmx1c2goKTtcbiAgICBpZiAod2luZG93LlNoYWR5Q1NTICYmIHdpbmRvdy5TaGFkeUNTUy5TY29waW5nU2hpbSkge1xuICAgICAgd2luZG93LlNoYWR5Q1NTLlNjb3BpbmdTaGltLmZsdXNoKCk7XG4gICAgfVxuICAgIGRlYm91bmNlcnMgPSBmbHVzaERlYm91bmNlcnMoKTtcbiAgfSB3aGlsZSAoc2hhZHlET00gfHwgZGVib3VuY2Vycyk7XG59O1xuIiwiLyoqXG5AbGljZW5zZVxuQ29weXJpZ2h0IChjKSAyMDE3IFRoZSBQb2x5bWVyIFByb2plY3QgQXV0aG9ycy4gQWxsIHJpZ2h0cyByZXNlcnZlZC5cblRoaXMgY29kZSBtYXkgb25seSBiZSB1c2VkIHVuZGVyIHRoZSBCU0Qgc3R5bGUgbGljZW5zZSBmb3VuZCBhdCBodHRwOi8vcG9seW1lci5naXRodWIuaW8vTElDRU5TRS50eHRcblRoZSBjb21wbGV0ZSBzZXQgb2YgYXV0aG9ycyBtYXkgYmUgZm91bmQgYXQgaHR0cDovL3BvbHltZXIuZ2l0aHViLmlvL0FVVEhPUlMudHh0XG5UaGUgY29tcGxldGUgc2V0IG9mIGNvbnRyaWJ1dG9ycyBtYXkgYmUgZm91bmQgYXQgaHR0cDovL3BvbHltZXIuZ2l0aHViLmlvL0NPTlRSSUJVVE9SUy50eHRcbkNvZGUgZGlzdHJpYnV0ZWQgYnkgR29vZ2xlIGFzIHBhcnQgb2YgdGhlIHBvbHltZXIgcHJvamVjdCBpcyBhbHNvXG5zdWJqZWN0IHRvIGFuIGFkZGl0aW9uYWwgSVAgcmlnaHRzIGdyYW50IGZvdW5kIGF0IGh0dHA6Ly9wb2x5bWVyLmdpdGh1Yi5pby9QQVRFTlRTLnR4dFxuKi9cblxuZXhwb3J0IGNvbnN0IFZBUl9BU1NJR04gPSAvKD86XnxbO1xcc3tdXFxzKikoLS1bXFx3LV0qPylcXHMqOlxccyooPzooKD86Jyg/OlxcXFwnfC4pKj8nfFwiKD86XFxcXFwifC4pKj9cInxcXChbXildKj9cXCl8W159O3tdKSspfFxceyhbXn1dKilcXH0oPzooPz1bO1xcc31dKXwkKSkvZ2k7XG5leHBvcnQgY29uc3QgTUlYSU5fTUFUQ0ggPSAvKD86XnxcXFcrKUBhcHBseVxccypcXCg/KFteKTtcXG5dKilcXCk/L2dpO1xuZXhwb3J0IGNvbnN0IFZBUl9DT05TVU1FRCA9IC8oLS1bXFx3LV0rKVxccyooWzosOyldfCQpL2dpO1xuZXhwb3J0IGNvbnN0IEFOSU1BVElPTl9NQVRDSCA9IC8oYW5pbWF0aW9uXFxzKjopfChhbmltYXRpb24tbmFtZVxccyo6KS87XG5leHBvcnQgY29uc3QgTUVESUFfTUFUQ0ggPSAvQG1lZGlhXFxzKC4qKS87XG5leHBvcnQgY29uc3QgSVNfVkFSID0gL14tLS87XG5leHBvcnQgY29uc3QgQlJBQ0tFVEVEID0gL1xce1tefV0qXFx9L2c7XG5leHBvcnQgY29uc3QgSE9TVF9QUkVGSVggPSAnKD86XnxbXi4jWzpdKSc7XG5leHBvcnQgY29uc3QgSE9TVF9TVUZGSVggPSAnKCR8Wy46W1xcXFxzPit+XSknO1xuIiwiLyoqXG4gKiBAbGljZW5zZVxuICogQ29weXJpZ2h0IChjKSAyMDE3IFRoZSBQb2x5bWVyIFByb2plY3QgQXV0aG9ycy4gQWxsIHJpZ2h0cyByZXNlcnZlZC5cbiAqIFRoaXMgY29kZSBtYXkgb25seSBiZSB1c2VkIHVuZGVyIHRoZSBCU0Qgc3R5bGUgbGljZW5zZSBmb3VuZCBhdFxuICogaHR0cDovL3BvbHltZXIuZ2l0aHViLmlvL0xJQ0VOU0UudHh0XG4gKiBUaGUgY29tcGxldGUgc2V0IG9mIGF1dGhvcnMgbWF5IGJlIGZvdW5kIGF0XG4gKiBodHRwOi8vcG9seW1lci5naXRodWIuaW8vQVVUSE9SUy50eHRcbiAqIFRoZSBjb21wbGV0ZSBzZXQgb2YgY29udHJpYnV0b3JzIG1heSBiZSBmb3VuZCBhdFxuICogaHR0cDovL3BvbHltZXIuZ2l0aHViLmlvL0NPTlRSSUJVVE9SUy50eHRcbiAqIENvZGUgZGlzdHJpYnV0ZWQgYnkgR29vZ2xlIGFzIHBhcnQgb2YgdGhlIHBvbHltZXIgcHJvamVjdCBpcyBhbHNvXG4gKiBzdWJqZWN0IHRvIGFuIGFkZGl0aW9uYWwgSVAgcmlnaHRzIGdyYW50IGZvdW5kIGF0XG4gKiBodHRwOi8vcG9seW1lci5naXRodWIuaW8vUEFURU5UUy50eHRcbiAqL1xuLyoqXG4gKiBAbW9kdWxlIGxpdC1odG1sXG4gKi9cbmltcG9ydCB7IHJlcGFyZW50Tm9kZXMgfSBmcm9tICcuL2RvbS5qcyc7XG5pbXBvcnQgeyBib3VuZEF0dHJpYnV0ZVN1ZmZpeCwgbGFzdEF0dHJpYnV0ZU5hbWVSZWdleCwgbWFya2VyLCBub2RlTWFya2VyIH0gZnJvbSAnLi90ZW1wbGF0ZS5qcyc7XG4vKipcbiAqIFRoZSByZXR1cm4gdHlwZSBvZiBgaHRtbGAsIHdoaWNoIGhvbGRzIGEgVGVtcGxhdGUgYW5kIHRoZSB2YWx1ZXMgZnJvbVxuICogaW50ZXJwb2xhdGVkIGV4cHJlc3Npb25zLlxuICovXG5leHBvcnQgY2xhc3MgVGVtcGxhdGVSZXN1bHQge1xuICAgIGNvbnN0cnVjdG9yKHN0cmluZ3MsIHZhbHVlcywgdHlwZSwgcHJvY2Vzc29yKSB7XG4gICAgICAgIHRoaXMuc3RyaW5ncyA9IHN0cmluZ3M7XG4gICAgICAgIHRoaXMudmFsdWVzID0gdmFsdWVzO1xuICAgICAgICB0aGlzLnR5cGUgPSB0eXBlO1xuICAgICAgICB0aGlzLnByb2Nlc3NvciA9IHByb2Nlc3NvcjtcbiAgICB9XG4gICAgLyoqXG4gICAgICogUmV0dXJucyBhIHN0cmluZyBvZiBIVE1MIHVzZWQgdG8gY3JlYXRlIGEgYDx0ZW1wbGF0ZT5gIGVsZW1lbnQuXG4gICAgICovXG4gICAgZ2V0SFRNTCgpIHtcbiAgICAgICAgY29uc3QgZW5kSW5kZXggPSB0aGlzLnN0cmluZ3MubGVuZ3RoIC0gMTtcbiAgICAgICAgbGV0IGh0bWwgPSAnJztcbiAgICAgICAgZm9yIChsZXQgaSA9IDA7IGkgPCBlbmRJbmRleDsgaSsrKSB7XG4gICAgICAgICAgICBjb25zdCBzID0gdGhpcy5zdHJpbmdzW2ldO1xuICAgICAgICAgICAgLy8gVGhpcyBleGVjKCkgY2FsbCBkb2VzIHR3byB0aGluZ3M6XG4gICAgICAgICAgICAvLyAxKSBBcHBlbmRzIGEgc3VmZml4IHRvIHRoZSBib3VuZCBhdHRyaWJ1dGUgbmFtZSB0byBvcHQgb3V0IG9mIHNwZWNpYWxcbiAgICAgICAgICAgIC8vIGF0dHJpYnV0ZSB2YWx1ZSBwYXJzaW5nIHRoYXQgSUUxMSBhbmQgRWRnZSBkbywgbGlrZSBmb3Igc3R5bGUgYW5kXG4gICAgICAgICAgICAvLyBtYW55IFNWRyBhdHRyaWJ1dGVzLiBUaGUgVGVtcGxhdGUgY2xhc3MgYWxzbyBhcHBlbmRzIHRoZSBzYW1lIHN1ZmZpeFxuICAgICAgICAgICAgLy8gd2hlbiBsb29raW5nIHVwIGF0dHJpYnV0ZXMgdG8gY3JlYXRlIFBhcnRzLlxuICAgICAgICAgICAgLy8gMikgQWRkcyBhbiB1bnF1b3RlZC1hdHRyaWJ1dGUtc2FmZSBtYXJrZXIgZm9yIHRoZSBmaXJzdCBleHByZXNzaW9uIGluXG4gICAgICAgICAgICAvLyBhbiBhdHRyaWJ1dGUuIFN1YnNlcXVlbnQgYXR0cmlidXRlIGV4cHJlc3Npb25zIHdpbGwgdXNlIG5vZGUgbWFya2VycyxcbiAgICAgICAgICAgIC8vIGFuZCB0aGlzIGlzIHNhZmUgc2luY2UgYXR0cmlidXRlcyB3aXRoIG11bHRpcGxlIGV4cHJlc3Npb25zIGFyZVxuICAgICAgICAgICAgLy8gZ3VhcmFudGVlZCB0byBiZSBxdW90ZWQuXG4gICAgICAgICAgICBjb25zdCBtYXRjaCA9IGxhc3RBdHRyaWJ1dGVOYW1lUmVnZXguZXhlYyhzKTtcbiAgICAgICAgICAgIGlmIChtYXRjaCkge1xuICAgICAgICAgICAgICAgIC8vIFdlJ3JlIHN0YXJ0aW5nIGEgbmV3IGJvdW5kIGF0dHJpYnV0ZS5cbiAgICAgICAgICAgICAgICAvLyBBZGQgdGhlIHNhZmUgYXR0cmlidXRlIHN1ZmZpeCwgYW5kIHVzZSB1bnF1b3RlZC1hdHRyaWJ1dGUtc2FmZVxuICAgICAgICAgICAgICAgIC8vIG1hcmtlci5cbiAgICAgICAgICAgICAgICBodG1sICs9IHMuc3Vic3RyKDAsIG1hdGNoLmluZGV4KSArIG1hdGNoWzFdICsgbWF0Y2hbMl0gK1xuICAgICAgICAgICAgICAgICAgICBib3VuZEF0dHJpYnV0ZVN1ZmZpeCArIG1hdGNoWzNdICsgbWFya2VyO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICAgICAgLy8gV2UncmUgZWl0aGVyIGluIGEgYm91bmQgbm9kZSwgb3IgdHJhaWxpbmcgYm91bmQgYXR0cmlidXRlLlxuICAgICAgICAgICAgICAgIC8vIEVpdGhlciB3YXksIG5vZGVNYXJrZXIgaXMgc2FmZSB0byB1c2UuXG4gICAgICAgICAgICAgICAgaHRtbCArPSBzICsgbm9kZU1hcmtlcjtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gaHRtbCArIHRoaXMuc3RyaW5nc1tlbmRJbmRleF07XG4gICAgfVxuICAgIGdldFRlbXBsYXRlRWxlbWVudCgpIHtcbiAgICAgICAgY29uc3QgdGVtcGxhdGUgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCd0ZW1wbGF0ZScpO1xuICAgICAgICB0ZW1wbGF0ZS5pbm5lckhUTUwgPSB0aGlzLmdldEhUTUwoKTtcbiAgICAgICAgcmV0dXJuIHRlbXBsYXRlO1xuICAgIH1cbn1cbi8qKlxuICogQSBUZW1wbGF0ZVJlc3VsdCBmb3IgU1ZHIGZyYWdtZW50cy5cbiAqXG4gKiBUaGlzIGNsYXNzIHdyYXBzIEhUTWwgaW4gYW4gYDxzdmc+YCB0YWcgaW4gb3JkZXIgdG8gcGFyc2UgaXRzIGNvbnRlbnRzIGluIHRoZVxuICogU1ZHIG5hbWVzcGFjZSwgdGhlbiBtb2RpZmllcyB0aGUgdGVtcGxhdGUgdG8gcmVtb3ZlIHRoZSBgPHN2Zz5gIHRhZyBzbyB0aGF0XG4gKiBjbG9uZXMgb25seSBjb250YWluZXIgdGhlIG9yaWdpbmFsIGZyYWdtZW50LlxuICovXG5leHBvcnQgY2xhc3MgU1ZHVGVtcGxhdGVSZXN1bHQgZXh0ZW5kcyBUZW1wbGF0ZVJlc3VsdCB7XG4gICAgZ2V0SFRNTCgpIHtcbiAgICAgICAgcmV0dXJuIGA8c3ZnPiR7c3VwZXIuZ2V0SFRNTCgpfTwvc3ZnPmA7XG4gICAgfVxuICAgIGdldFRlbXBsYXRlRWxlbWVudCgpIHtcbiAgICAgICAgY29uc3QgdGVtcGxhdGUgPSBzdXBlci5nZXRUZW1wbGF0ZUVsZW1lbnQoKTtcbiAgICAgICAgY29uc3QgY29udGVudCA9IHRlbXBsYXRlLmNvbnRlbnQ7XG4gICAgICAgIGNvbnN0IHN2Z0VsZW1lbnQgPSBjb250ZW50LmZpcnN0Q2hpbGQ7XG4gICAgICAgIGNvbnRlbnQucmVtb3ZlQ2hpbGQoc3ZnRWxlbWVudCk7XG4gICAgICAgIHJlcGFyZW50Tm9kZXMoY29udGVudCwgc3ZnRWxlbWVudC5maXJzdENoaWxkKTtcbiAgICAgICAgcmV0dXJuIHRlbXBsYXRlO1xuICAgIH1cbn1cbi8vIyBzb3VyY2VNYXBwaW5nVVJMPXRlbXBsYXRlLXJlc3VsdC5qcy5tYXAiLCIvKipcbkBsaWNlbnNlXG5Db3B5cmlnaHQgKGMpIDIwMTcgVGhlIFBvbHltZXIgUHJvamVjdCBBdXRob3JzLiBBbGwgcmlnaHRzIHJlc2VydmVkLlxuVGhpcyBjb2RlIG1heSBvbmx5IGJlIHVzZWQgdW5kZXIgdGhlIEJTRCBzdHlsZSBsaWNlbnNlIGZvdW5kIGF0IGh0dHA6Ly9wb2x5bWVyLmdpdGh1Yi5pby9MSUNFTlNFLnR4dFxuVGhlIGNvbXBsZXRlIHNldCBvZiBhdXRob3JzIG1heSBiZSBmb3VuZCBhdCBodHRwOi8vcG9seW1lci5naXRodWIuaW8vQVVUSE9SUy50eHRcblRoZSBjb21wbGV0ZSBzZXQgb2YgY29udHJpYnV0b3JzIG1heSBiZSBmb3VuZCBhdCBodHRwOi8vcG9seW1lci5naXRodWIuaW8vQ09OVFJJQlVUT1JTLnR4dFxuQ29kZSBkaXN0cmlidXRlZCBieSBHb29nbGUgYXMgcGFydCBvZiB0aGUgcG9seW1lciBwcm9qZWN0IGlzIGFsc29cbnN1YmplY3QgdG8gYW4gYWRkaXRpb25hbCBJUCByaWdodHMgZ3JhbnQgZm91bmQgYXQgaHR0cDovL3BvbHltZXIuZ2l0aHViLmlvL1BBVEVOVFMudHh0XG4qL1xuaW1wb3J0ICcuL2Jvb3QuanMnO1xuXG5jb25zdCBjYXNlTWFwID0ge307XG5jb25zdCBEQVNIX1RPX0NBTUVMID0gLy1bYS16XS9nO1xuY29uc3QgQ0FNRUxfVE9fREFTSCA9IC8oW0EtWl0pL2c7XG5cbi8qKlxuICogQGZpbGVvdmVydmlldyBNb2R1bGUgd2l0aCB1dGlsaXRpZXMgZm9yIGNvbnZlcnRpbmcgYmV0d2VlbiBcImRhc2gtY2FzZVwiIGFuZFxuICogXCJjYW1lbENhc2VcIiBpZGVudGlmaWVycy5cbiAqL1xuXG4vKipcbiAqIENvbnZlcnRzIFwiZGFzaC1jYXNlXCIgaWRlbnRpZmllciAoZS5nLiBgZm9vLWJhci1iYXpgKSB0byBcImNhbWVsQ2FzZVwiXG4gKiAoZS5nLiBgZm9vQmFyQmF6YCkuXG4gKlxuICogQHBhcmFtIHtzdHJpbmd9IGRhc2ggRGFzaC1jYXNlIGlkZW50aWZpZXJcbiAqIEByZXR1cm4ge3N0cmluZ30gQ2FtZWwtY2FzZSByZXByZXNlbnRhdGlvbiBvZiB0aGUgaWRlbnRpZmllclxuICovXG5leHBvcnQgZnVuY3Rpb24gZGFzaFRvQ2FtZWxDYXNlKGRhc2gpIHtcbiAgcmV0dXJuIGNhc2VNYXBbZGFzaF0gfHwgKFxuICAgIGNhc2VNYXBbZGFzaF0gPSBkYXNoLmluZGV4T2YoJy0nKSA8IDAgPyBkYXNoIDogZGFzaC5yZXBsYWNlKERBU0hfVE9fQ0FNRUwsXG4gICAgICAobSkgPT4gbVsxXS50b1VwcGVyQ2FzZSgpXG4gICAgKVxuICApO1xufVxuXG4vKipcbiAqIENvbnZlcnRzIFwiY2FtZWxDYXNlXCIgaWRlbnRpZmllciAoZS5nLiBgZm9vQmFyQmF6YCkgdG8gXCJkYXNoLWNhc2VcIlxuICogKGUuZy4gYGZvby1iYXItYmF6YCkuXG4gKlxuICogQHBhcmFtIHtzdHJpbmd9IGNhbWVsIENhbWVsLWNhc2UgaWRlbnRpZmllclxuICogQHJldHVybiB7c3RyaW5nfSBEYXNoLWNhc2UgcmVwcmVzZW50YXRpb24gb2YgdGhlIGlkZW50aWZpZXJcbiAqL1xuZXhwb3J0IGZ1bmN0aW9uIGNhbWVsVG9EYXNoQ2FzZShjYW1lbCkge1xuICByZXR1cm4gY2FzZU1hcFtjYW1lbF0gfHwgKFxuICAgIGNhc2VNYXBbY2FtZWxdID0gY2FtZWwucmVwbGFjZShDQU1FTF9UT19EQVNILCAnLSQxJykudG9Mb3dlckNhc2UoKVxuICApO1xufVxuIiwiLyoqXG4gKiBAbGljZW5zZVxuICogQ29weXJpZ2h0IChjKSAyMDE3IFRoZSBQb2x5bWVyIFByb2plY3QgQXV0aG9ycy4gQWxsIHJpZ2h0cyByZXNlcnZlZC5cbiAqIFRoaXMgY29kZSBtYXkgb25seSBiZSB1c2VkIHVuZGVyIHRoZSBCU0Qgc3R5bGUgbGljZW5zZSBmb3VuZCBhdFxuICogaHR0cDovL3BvbHltZXIuZ2l0aHViLmlvL0xJQ0VOU0UudHh0XG4gKiBUaGUgY29tcGxldGUgc2V0IG9mIGF1dGhvcnMgbWF5IGJlIGZvdW5kIGF0XG4gKiBodHRwOi8vcG9seW1lci5naXRodWIuaW8vQVVUSE9SUy50eHRcbiAqIFRoZSBjb21wbGV0ZSBzZXQgb2YgY29udHJpYnV0b3JzIG1heSBiZSBmb3VuZCBhdFxuICogaHR0cDovL3BvbHltZXIuZ2l0aHViLmlvL0NPTlRSSUJVVE9SUy50eHRcbiAqIENvZGUgZGlzdHJpYnV0ZWQgYnkgR29vZ2xlIGFzIHBhcnQgb2YgdGhlIHBvbHltZXIgcHJvamVjdCBpcyBhbHNvXG4gKiBzdWJqZWN0IHRvIGFuIGFkZGl0aW9uYWwgSVAgcmlnaHRzIGdyYW50IGZvdW5kIGF0XG4gKiBodHRwOi8vcG9seW1lci5naXRodWIuaW8vUEFURU5UUy50eHRcbiAqL1xuaW1wb3J0IHsgbWFya2VyLCBUZW1wbGF0ZSB9IGZyb20gJy4vdGVtcGxhdGUuanMnO1xuLyoqXG4gKiBUaGUgZGVmYXVsdCBUZW1wbGF0ZUZhY3Rvcnkgd2hpY2ggY2FjaGVzIFRlbXBsYXRlcyBrZXllZCBvblxuICogcmVzdWx0LnR5cGUgYW5kIHJlc3VsdC5zdHJpbmdzLlxuICovXG5leHBvcnQgZnVuY3Rpb24gdGVtcGxhdGVGYWN0b3J5KHJlc3VsdCkge1xuICAgIGxldCB0ZW1wbGF0ZUNhY2hlID0gdGVtcGxhdGVDYWNoZXMuZ2V0KHJlc3VsdC50eXBlKTtcbiAgICBpZiAodGVtcGxhdGVDYWNoZSA9PT0gdW5kZWZpbmVkKSB7XG4gICAgICAgIHRlbXBsYXRlQ2FjaGUgPSB7XG4gICAgICAgICAgICBzdHJpbmdzQXJyYXk6IG5ldyBXZWFrTWFwKCksXG4gICAgICAgICAgICBrZXlTdHJpbmc6IG5ldyBNYXAoKVxuICAgICAgICB9O1xuICAgICAgICB0ZW1wbGF0ZUNhY2hlcy5zZXQocmVzdWx0LnR5cGUsIHRlbXBsYXRlQ2FjaGUpO1xuICAgIH1cbiAgICBsZXQgdGVtcGxhdGUgPSB0ZW1wbGF0ZUNhY2hlLnN0cmluZ3NBcnJheS5nZXQocmVzdWx0LnN0cmluZ3MpO1xuICAgIGlmICh0ZW1wbGF0ZSAhPT0gdW5kZWZpbmVkKSB7XG4gICAgICAgIHJldHVybiB0ZW1wbGF0ZTtcbiAgICB9XG4gICAgLy8gSWYgdGhlIFRlbXBsYXRlU3RyaW5nc0FycmF5IGlzIG5ldywgZ2VuZXJhdGUgYSBrZXkgZnJvbSB0aGUgc3RyaW5nc1xuICAgIC8vIFRoaXMga2V5IGlzIHNoYXJlZCBiZXR3ZWVuIGFsbCB0ZW1wbGF0ZXMgd2l0aCBpZGVudGljYWwgY29udGVudFxuICAgIGNvbnN0IGtleSA9IHJlc3VsdC5zdHJpbmdzLmpvaW4obWFya2VyKTtcbiAgICAvLyBDaGVjayBpZiB3ZSBhbHJlYWR5IGhhdmUgYSBUZW1wbGF0ZSBmb3IgdGhpcyBrZXlcbiAgICB0ZW1wbGF0ZSA9IHRlbXBsYXRlQ2FjaGUua2V5U3RyaW5nLmdldChrZXkpO1xuICAgIGlmICh0ZW1wbGF0ZSA9PT0gdW5kZWZpbmVkKSB7XG4gICAgICAgIC8vIElmIHdlIGhhdmUgbm90IHNlZW4gdGhpcyBrZXkgYmVmb3JlLCBjcmVhdGUgYSBuZXcgVGVtcGxhdGVcbiAgICAgICAgdGVtcGxhdGUgPSBuZXcgVGVtcGxhdGUocmVzdWx0LCByZXN1bHQuZ2V0VGVtcGxhdGVFbGVtZW50KCkpO1xuICAgICAgICAvLyBDYWNoZSB0aGUgVGVtcGxhdGUgZm9yIHRoaXMga2V5XG4gICAgICAgIHRlbXBsYXRlQ2FjaGUua2V5U3RyaW5nLnNldChrZXksIHRlbXBsYXRlKTtcbiAgICB9XG4gICAgLy8gQ2FjaGUgYWxsIGZ1dHVyZSBxdWVyaWVzIGZvciB0aGlzIFRlbXBsYXRlU3RyaW5nc0FycmF5XG4gICAgdGVtcGxhdGVDYWNoZS5zdHJpbmdzQXJyYXkuc2V0KHJlc3VsdC5zdHJpbmdzLCB0ZW1wbGF0ZSk7XG4gICAgcmV0dXJuIHRlbXBsYXRlO1xufVxuZXhwb3J0IGNvbnN0IHRlbXBsYXRlQ2FjaGVzID0gbmV3IE1hcCgpO1xuLy8jIHNvdXJjZU1hcHBpbmdVUkw9dGVtcGxhdGUtZmFjdG9yeS5qcy5tYXAiLCIvKipcbiAqIEBsaWNlbnNlXG4gKiBDb3B5cmlnaHQgKGMpIDIwMTcgVGhlIFBvbHltZXIgUHJvamVjdCBBdXRob3JzLiBBbGwgcmlnaHRzIHJlc2VydmVkLlxuICogVGhpcyBjb2RlIG1heSBvbmx5IGJlIHVzZWQgdW5kZXIgdGhlIEJTRCBzdHlsZSBsaWNlbnNlIGZvdW5kIGF0XG4gKiBodHRwOi8vcG9seW1lci5naXRodWIuaW8vTElDRU5TRS50eHRcbiAqIFRoZSBjb21wbGV0ZSBzZXQgb2YgYXV0aG9ycyBtYXkgYmUgZm91bmQgYXRcbiAqIGh0dHA6Ly9wb2x5bWVyLmdpdGh1Yi5pby9BVVRIT1JTLnR4dFxuICogVGhlIGNvbXBsZXRlIHNldCBvZiBjb250cmlidXRvcnMgbWF5IGJlIGZvdW5kIGF0XG4gKiBodHRwOi8vcG9seW1lci5naXRodWIuaW8vQ09OVFJJQlVUT1JTLnR4dFxuICogQ29kZSBkaXN0cmlidXRlZCBieSBHb29nbGUgYXMgcGFydCBvZiB0aGUgcG9seW1lciBwcm9qZWN0IGlzIGFsc29cbiAqIHN1YmplY3QgdG8gYW4gYWRkaXRpb25hbCBJUCByaWdodHMgZ3JhbnQgZm91bmQgYXRcbiAqIGh0dHA6Ly9wb2x5bWVyLmdpdGh1Yi5pby9QQVRFTlRTLnR4dFxuICovXG5jb25zdCBkaXJlY3RpdmVzID0gbmV3IFdlYWtNYXAoKTtcbi8qKlxuICogQnJhbmRzIGEgZnVuY3Rpb24gYXMgYSBkaXJlY3RpdmUgc28gdGhhdCBsaXQtaHRtbCB3aWxsIGNhbGwgdGhlIGZ1bmN0aW9uXG4gKiBkdXJpbmcgdGVtcGxhdGUgcmVuZGVyaW5nLCByYXRoZXIgdGhhbiBwYXNzaW5nIGFzIGEgdmFsdWUuXG4gKlxuICogQHBhcmFtIGYgVGhlIGRpcmVjdGl2ZSBmYWN0b3J5IGZ1bmN0aW9uLiBNdXN0IGJlIGEgZnVuY3Rpb24gdGhhdCByZXR1cm5zIGFcbiAqIGZ1bmN0aW9uIG9mIHRoZSBzaWduYXR1cmUgYChwYXJ0OiBQYXJ0KSA9PiB2b2lkYC4gVGhlIHJldHVybmVkIGZ1bmN0aW9uIHdpbGxcbiAqIGJlIGNhbGxlZCB3aXRoIHRoZSBwYXJ0IG9iamVjdFxuICpcbiAqIEBleGFtcGxlXG4gKlxuICogYGBgXG4gKiBpbXBvcnQge2RpcmVjdGl2ZSwgaHRtbH0gZnJvbSAnbGl0LWh0bWwnO1xuICpcbiAqIGNvbnN0IGltbXV0YWJsZSA9IGRpcmVjdGl2ZSgodikgPT4gKHBhcnQpID0+IHtcbiAqICAgaWYgKHBhcnQudmFsdWUgIT09IHYpIHtcbiAqICAgICBwYXJ0LnNldFZhbHVlKHYpXG4gKiAgIH1cbiAqIH0pO1xuICogYGBgXG4gKi9cbi8vIHRzbGludDpkaXNhYmxlLW5leHQtbGluZTpuby1hbnlcbmV4cG9ydCBjb25zdCBkaXJlY3RpdmUgPSAoZikgPT4gKCguLi5hcmdzKSA9PiB7XG4gICAgY29uc3QgZCA9IGYoLi4uYXJncyk7XG4gICAgZGlyZWN0aXZlcy5zZXQoZCwgdHJ1ZSk7XG4gICAgcmV0dXJuIGQ7XG59KTtcbmV4cG9ydCBjb25zdCBpc0RpcmVjdGl2ZSA9IChvKSA9PiB7XG4gICAgcmV0dXJuIHR5cGVvZiBvID09PSAnZnVuY3Rpb24nICYmIGRpcmVjdGl2ZXMuaGFzKG8pO1xufTtcbi8vIyBzb3VyY2VNYXBwaW5nVVJMPWRpcmVjdGl2ZS5qcy5tYXAiLCIvKipcbiAqIEBsaWNlbnNlXG4gKiBDb3B5cmlnaHQgKGMpIDIwMTcgVGhlIFBvbHltZXIgUHJvamVjdCBBdXRob3JzLiBBbGwgcmlnaHRzIHJlc2VydmVkLlxuICogVGhpcyBjb2RlIG1heSBvbmx5IGJlIHVzZWQgdW5kZXIgdGhlIEJTRCBzdHlsZSBsaWNlbnNlIGZvdW5kIGF0XG4gKiBodHRwOi8vcG9seW1lci5naXRodWIuaW8vTElDRU5TRS50eHRcbiAqIFRoZSBjb21wbGV0ZSBzZXQgb2YgYXV0aG9ycyBtYXkgYmUgZm91bmQgYXRcbiAqIGh0dHA6Ly9wb2x5bWVyLmdpdGh1Yi5pby9BVVRIT1JTLnR4dFxuICogVGhlIGNvbXBsZXRlIHNldCBvZiBjb250cmlidXRvcnMgbWF5IGJlIGZvdW5kIGF0XG4gKiBodHRwOi8vcG9seW1lci5naXRodWIuaW8vQ09OVFJJQlVUT1JTLnR4dFxuICogQ29kZSBkaXN0cmlidXRlZCBieSBHb29nbGUgYXMgcGFydCBvZiB0aGUgcG9seW1lciBwcm9qZWN0IGlzIGFsc29cbiAqIHN1YmplY3QgdG8gYW4gYWRkaXRpb25hbCBJUCByaWdodHMgZ3JhbnQgZm91bmQgYXRcbiAqIGh0dHA6Ly9wb2x5bWVyLmdpdGh1Yi5pby9QQVRFTlRTLnR4dFxuICovXG4vKipcbiAqIEBtb2R1bGUgbGl0LWh0bWxcbiAqL1xuaW1wb3J0IHsgcmVtb3ZlTm9kZXMgfSBmcm9tICcuL2RvbS5qcyc7XG5pbXBvcnQgeyBOb2RlUGFydCB9IGZyb20gJy4vcGFydHMuanMnO1xuaW1wb3J0IHsgdGVtcGxhdGVGYWN0b3J5IH0gZnJvbSAnLi90ZW1wbGF0ZS1mYWN0b3J5LmpzJztcbmV4cG9ydCBjb25zdCBwYXJ0cyA9IG5ldyBXZWFrTWFwKCk7XG4vKipcbiAqIFJlbmRlcnMgYSB0ZW1wbGF0ZSB0byBhIGNvbnRhaW5lci5cbiAqXG4gKiBUbyB1cGRhdGUgYSBjb250YWluZXIgd2l0aCBuZXcgdmFsdWVzLCByZWV2YWx1YXRlIHRoZSB0ZW1wbGF0ZSBsaXRlcmFsIGFuZFxuICogY2FsbCBgcmVuZGVyYCB3aXRoIHRoZSBuZXcgcmVzdWx0LlxuICpcbiAqIEBwYXJhbSByZXN1bHQgYSBUZW1wbGF0ZVJlc3VsdCBjcmVhdGVkIGJ5IGV2YWx1YXRpbmcgYSB0ZW1wbGF0ZSB0YWcgbGlrZVxuICogICAgIGBodG1sYCBvciBgc3ZnYC5cbiAqIEBwYXJhbSBjb250YWluZXIgQSBET00gcGFyZW50IHRvIHJlbmRlciB0by4gVGhlIGVudGlyZSBjb250ZW50cyBhcmUgZWl0aGVyXG4gKiAgICAgcmVwbGFjZWQsIG9yIGVmZmljaWVudGx5IHVwZGF0ZWQgaWYgdGhlIHNhbWUgcmVzdWx0IHR5cGUgd2FzIHByZXZpb3VzXG4gKiAgICAgcmVuZGVyZWQgdGhlcmUuXG4gKiBAcGFyYW0gb3B0aW9ucyBSZW5kZXJPcHRpb25zIGZvciB0aGUgZW50aXJlIHJlbmRlciB0cmVlIHJlbmRlcmVkIHRvIHRoaXNcbiAqICAgICBjb250YWluZXIuIFJlbmRlciBvcHRpb25zIG11c3QgKm5vdCogY2hhbmdlIGJldHdlZW4gcmVuZGVycyB0byB0aGUgc2FtZVxuICogICAgIGNvbnRhaW5lciwgYXMgdGhvc2UgY2hhbmdlcyB3aWxsIG5vdCBlZmZlY3QgcHJldmlvdXNseSByZW5kZXJlZCBET00uXG4gKi9cbmV4cG9ydCBjb25zdCByZW5kZXIgPSAocmVzdWx0LCBjb250YWluZXIsIG9wdGlvbnMpID0+IHtcbiAgICBsZXQgcGFydCA9IHBhcnRzLmdldChjb250YWluZXIpO1xuICAgIGlmIChwYXJ0ID09PSB1bmRlZmluZWQpIHtcbiAgICAgICAgcmVtb3ZlTm9kZXMoY29udGFpbmVyLCBjb250YWluZXIuZmlyc3RDaGlsZCk7XG4gICAgICAgIHBhcnRzLnNldChjb250YWluZXIsIHBhcnQgPSBuZXcgTm9kZVBhcnQoT2JqZWN0LmFzc2lnbih7IHRlbXBsYXRlRmFjdG9yeSB9LCBvcHRpb25zKSkpO1xuICAgICAgICBwYXJ0LmFwcGVuZEludG8oY29udGFpbmVyKTtcbiAgICB9XG4gICAgcGFydC5zZXRWYWx1ZShyZXN1bHQpO1xuICAgIHBhcnQuY29tbWl0KCk7XG59O1xuLy8jIHNvdXJjZU1hcHBpbmdVUkw9cmVuZGVyLmpzLm1hcCIsIi8qKlxuQGxpY2Vuc2VcbkNvcHlyaWdodCAoYykgMjAxNyBUaGUgUG9seW1lciBQcm9qZWN0IEF1dGhvcnMuIEFsbCByaWdodHMgcmVzZXJ2ZWQuXG5UaGlzIGNvZGUgbWF5IG9ubHkgYmUgdXNlZCB1bmRlciB0aGUgQlNEIHN0eWxlIGxpY2Vuc2UgZm91bmQgYXQgaHR0cDovL3BvbHltZXIuZ2l0aHViLmlvL0xJQ0VOU0UudHh0XG5UaGUgY29tcGxldGUgc2V0IG9mIGF1dGhvcnMgbWF5IGJlIGZvdW5kIGF0IGh0dHA6Ly9wb2x5bWVyLmdpdGh1Yi5pby9BVVRIT1JTLnR4dFxuVGhlIGNvbXBsZXRlIHNldCBvZiBjb250cmlidXRvcnMgbWF5IGJlIGZvdW5kIGF0IGh0dHA6Ly9wb2x5bWVyLmdpdGh1Yi5pby9DT05UUklCVVRPUlMudHh0XG5Db2RlIGRpc3RyaWJ1dGVkIGJ5IEdvb2dsZSBhcyBwYXJ0IG9mIHRoZSBwb2x5bWVyIHByb2plY3QgaXMgYWxzb1xuc3ViamVjdCB0byBhbiBhZGRpdGlvbmFsIElQIHJpZ2h0cyBncmFudCBmb3VuZCBhdCBodHRwOi8vcG9seW1lci5naXRodWIuaW8vUEFURU5UUy50eHRcbiovXG5cbid1c2Ugc3RyaWN0JztcblxuaW1wb3J0IHsgTUlYSU5fTUFUQ0gsIFZBUl9BU1NJR04gfSBmcm9tICcuL2NvbW1vbi1yZWdleC5qcyc7XG5cbi8qKlxuICogQHBhcmFtIHtFbGVtZW50fSBlbGVtZW50XG4gKiBAcGFyYW0ge09iamVjdD19IHByb3BlcnRpZXNcbiAqL1xuZXhwb3J0IGZ1bmN0aW9uIHVwZGF0ZU5hdGl2ZVByb3BlcnRpZXMoZWxlbWVudCwgcHJvcGVydGllcykge1xuICAvLyByZW1vdmUgcHJldmlvdXMgcHJvcGVydGllc1xuICBmb3IgKGxldCBwIGluIHByb3BlcnRpZXMpIHtcbiAgICAvLyBOT1RFOiBmb3IgYmMgd2l0aCBzaGltLCBkb24ndCBhcHBseSBudWxsIHZhbHVlcy5cbiAgICBpZiAocCA9PT0gbnVsbCkge1xuICAgICAgZWxlbWVudC5zdHlsZS5yZW1vdmVQcm9wZXJ0eShwKTtcbiAgICB9IGVsc2Uge1xuICAgICAgZWxlbWVudC5zdHlsZS5zZXRQcm9wZXJ0eShwLCBwcm9wZXJ0aWVzW3BdKTtcbiAgICB9XG4gIH1cbn1cblxuLyoqXG4gKiBAcGFyYW0ge0VsZW1lbnR9IGVsZW1lbnRcbiAqIEBwYXJhbSB7c3RyaW5nfSBwcm9wZXJ0eVxuICogQHJldHVybiB7c3RyaW5nfVxuICovXG5leHBvcnQgZnVuY3Rpb24gZ2V0Q29tcHV0ZWRTdHlsZVZhbHVlKGVsZW1lbnQsIHByb3BlcnR5KSB7XG4gIC8qKlxuICAgKiBAY29uc3Qge3N0cmluZ31cbiAgICovXG4gIGNvbnN0IHZhbHVlID0gd2luZG93LmdldENvbXB1dGVkU3R5bGUoZWxlbWVudCkuZ2V0UHJvcGVydHlWYWx1ZShwcm9wZXJ0eSk7XG4gIGlmICghdmFsdWUpIHtcbiAgICByZXR1cm4gJyc7XG4gIH0gZWxzZSB7XG4gICAgcmV0dXJuIHZhbHVlLnRyaW0oKTtcbiAgfVxufVxuXG4vKipcbiAqIHJldHVybiB0cnVlIGlmIGBjc3NUZXh0YCBjb250YWlucyBhIG1peGluIGRlZmluaXRpb24gb3IgY29uc3VtcHRpb25cbiAqIEBwYXJhbSB7c3RyaW5nfSBjc3NUZXh0XG4gKiBAcmV0dXJuIHtib29sZWFufVxuICovXG5leHBvcnQgZnVuY3Rpb24gZGV0ZWN0TWl4aW4oY3NzVGV4dCkge1xuICBjb25zdCBoYXMgPSBNSVhJTl9NQVRDSC50ZXN0KGNzc1RleHQpIHx8IFZBUl9BU1NJR04udGVzdChjc3NUZXh0KTtcbiAgLy8gcmVzZXQgc3RhdGUgb2YgdGhlIHJlZ2V4ZXNcbiAgTUlYSU5fTUFUQ0gubGFzdEluZGV4ID0gMDtcbiAgVkFSX0FTU0lHTi5sYXN0SW5kZXggPSAwO1xuICByZXR1cm4gaGFzO1xufVxuIiwiLyoqXG5AbGljZW5zZVxuQ29weXJpZ2h0IChjKSAyMDE3IFRoZSBQb2x5bWVyIFByb2plY3QgQXV0aG9ycy4gQWxsIHJpZ2h0cyByZXNlcnZlZC5cblRoaXMgY29kZSBtYXkgb25seSBiZSB1c2VkIHVuZGVyIHRoZSBCU0Qgc3R5bGUgbGljZW5zZSBmb3VuZCBhdCBodHRwOi8vcG9seW1lci5naXRodWIuaW8vTElDRU5TRS50eHRcblRoZSBjb21wbGV0ZSBzZXQgb2YgYXV0aG9ycyBtYXkgYmUgZm91bmQgYXQgaHR0cDovL3BvbHltZXIuZ2l0aHViLmlvL0FVVEhPUlMudHh0XG5UaGUgY29tcGxldGUgc2V0IG9mIGNvbnRyaWJ1dG9ycyBtYXkgYmUgZm91bmQgYXQgaHR0cDovL3BvbHltZXIuZ2l0aHViLmlvL0NPTlRSSUJVVE9SUy50eHRcbkNvZGUgZGlzdHJpYnV0ZWQgYnkgR29vZ2xlIGFzIHBhcnQgb2YgdGhlIHBvbHltZXIgcHJvamVjdCBpcyBhbHNvXG5zdWJqZWN0IHRvIGFuIGFkZGl0aW9uYWwgSVAgcmlnaHRzIGdyYW50IGZvdW5kIGF0IGh0dHA6Ly9wb2x5bWVyLmdpdGh1Yi5pby9QQVRFTlRTLnR4dFxuKi9cblxuaW1wb3J0IHsgRWxlbWVudE1peGluLCB2ZXJzaW9uIH0gZnJvbSAnLi9saWIvbWl4aW5zL2VsZW1lbnQtbWl4aW4uanMnO1xuZXhwb3J0IHsgaHRtbCB9IGZyb20gJy4vbGliL3V0aWxzL2h0bWwtdGFnLmpzJztcblxuZXhwb3J0IHsgdmVyc2lvbiB9O1xuXG4vKipcbiAqIEJhc2UgY2xhc3MgdGhhdCBwcm92aWRlcyB0aGUgY29yZSBBUEkgZm9yIFBvbHltZXIncyBtZXRhLXByb2dyYW1taW5nXG4gKiBmZWF0dXJlcyBpbmNsdWRpbmcgdGVtcGxhdGUgc3RhbXBpbmcsIGRhdGEtYmluZGluZywgYXR0cmlidXRlIGRlc2VyaWFsaXphdGlvbixcbiAqIGFuZCBwcm9wZXJ0eSBjaGFuZ2Ugb2JzZXJ2YXRpb24uXG4gKlxuICogQGN1c3RvbUVsZW1lbnRcbiAqIEBwb2x5bWVyXG4gKiBAY29uc3RydWN0b3JcbiAqIEBpbXBsZW1lbnRzIHtQb2x5bWVyX0VsZW1lbnRNaXhpbn1cbiAqIEBleHRlbmRzIEhUTUxFbGVtZW50XG4gKiBAYXBwbGllc01peGluIEVsZW1lbnRNaXhpblxuICogQHN1bW1hcnkgQ3VzdG9tIGVsZW1lbnQgYmFzZSBjbGFzcyB0aGF0IHByb3ZpZGVzIHRoZSBjb3JlIEFQSSBmb3IgUG9seW1lcidzXG4gKiAgIGtleSBtZXRhLXByb2dyYW1taW5nIGZlYXR1cmVzIGluY2x1ZGluZyB0ZW1wbGF0ZSBzdGFtcGluZywgZGF0YS1iaW5kaW5nLFxuICogICBhdHRyaWJ1dGUgZGVzZXJpYWxpemF0aW9uLCBhbmQgcHJvcGVydHkgY2hhbmdlIG9ic2VydmF0aW9uXG4gKi9cbmV4cG9ydCBjb25zdCBQb2x5bWVyRWxlbWVudCA9IEVsZW1lbnRNaXhpbihIVE1MRWxlbWVudCk7XG4iLCIvKipcbiAqIEBsaWNlbnNlXG4gKiBDb3B5cmlnaHQgKGMpIDIwMTcgVGhlIFBvbHltZXIgUHJvamVjdCBBdXRob3JzLiBBbGwgcmlnaHRzIHJlc2VydmVkLlxuICogVGhpcyBjb2RlIG1heSBvbmx5IGJlIHVzZWQgdW5kZXIgdGhlIEJTRCBzdHlsZSBsaWNlbnNlIGZvdW5kIGF0XG4gKiBodHRwOi8vcG9seW1lci5naXRodWIuaW8vTElDRU5TRS50eHRcbiAqIFRoZSBjb21wbGV0ZSBzZXQgb2YgYXV0aG9ycyBtYXkgYmUgZm91bmQgYXRcbiAqIGh0dHA6Ly9wb2x5bWVyLmdpdGh1Yi5pby9BVVRIT1JTLnR4dFxuICogVGhlIGNvbXBsZXRlIHNldCBvZiBjb250cmlidXRvcnMgbWF5IGJlIGZvdW5kIGF0XG4gKiBodHRwOi8vcG9seW1lci5naXRodWIuaW8vQ09OVFJJQlVUT1JTLnR4dFxuICogQ29kZSBkaXN0cmlidXRlZCBieSBHb29nbGUgYXMgcGFydCBvZiB0aGUgcG9seW1lciBwcm9qZWN0IGlzIGFsc29cbiAqIHN1YmplY3QgdG8gYW4gYWRkaXRpb25hbCBJUCByaWdodHMgZ3JhbnQgZm91bmQgYXRcbiAqIGh0dHA6Ly9wb2x5bWVyLmdpdGh1Yi5pby9QQVRFTlRTLnR4dFxuICovXG4vKipcbiAqIEBtb2R1bGUgbGl0LWh0bWxcbiAqL1xuaW1wb3J0IHsgaXNDRVBvbHlmaWxsIH0gZnJvbSAnLi9kb20uanMnO1xuaW1wb3J0IHsgaXNUZW1wbGF0ZVBhcnRBY3RpdmUgfSBmcm9tICcuL3RlbXBsYXRlLmpzJztcbi8qKlxuICogQW4gaW5zdGFuY2Ugb2YgYSBgVGVtcGxhdGVgIHRoYXQgY2FuIGJlIGF0dGFjaGVkIHRvIHRoZSBET00gYW5kIHVwZGF0ZWRcbiAqIHdpdGggbmV3IHZhbHVlcy5cbiAqL1xuZXhwb3J0IGNsYXNzIFRlbXBsYXRlSW5zdGFuY2Uge1xuICAgIGNvbnN0cnVjdG9yKHRlbXBsYXRlLCBwcm9jZXNzb3IsIG9wdGlvbnMpIHtcbiAgICAgICAgdGhpcy5fcGFydHMgPSBbXTtcbiAgICAgICAgdGhpcy50ZW1wbGF0ZSA9IHRlbXBsYXRlO1xuICAgICAgICB0aGlzLnByb2Nlc3NvciA9IHByb2Nlc3NvcjtcbiAgICAgICAgdGhpcy5vcHRpb25zID0gb3B0aW9ucztcbiAgICB9XG4gICAgdXBkYXRlKHZhbHVlcykge1xuICAgICAgICBsZXQgaSA9IDA7XG4gICAgICAgIGZvciAoY29uc3QgcGFydCBvZiB0aGlzLl9wYXJ0cykge1xuICAgICAgICAgICAgaWYgKHBhcnQgIT09IHVuZGVmaW5lZCkge1xuICAgICAgICAgICAgICAgIHBhcnQuc2V0VmFsdWUodmFsdWVzW2ldKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGkrKztcbiAgICAgICAgfVxuICAgICAgICBmb3IgKGNvbnN0IHBhcnQgb2YgdGhpcy5fcGFydHMpIHtcbiAgICAgICAgICAgIGlmIChwYXJ0ICE9PSB1bmRlZmluZWQpIHtcbiAgICAgICAgICAgICAgICBwYXJ0LmNvbW1pdCgpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgfVxuICAgIF9jbG9uZSgpIHtcbiAgICAgICAgLy8gV2hlbiB1c2luZyB0aGUgQ3VzdG9tIEVsZW1lbnRzIHBvbHlmaWxsLCBjbG9uZSB0aGUgbm9kZSwgcmF0aGVyIHRoYW5cbiAgICAgICAgLy8gaW1wb3J0aW5nIGl0LCB0byBrZWVwIHRoZSBmcmFnbWVudCBpbiB0aGUgdGVtcGxhdGUncyBkb2N1bWVudC4gVGhpc1xuICAgICAgICAvLyBsZWF2ZXMgdGhlIGZyYWdtZW50IGluZXJ0IHNvIGN1c3RvbSBlbGVtZW50cyB3b24ndCB1cGdyYWRlIGFuZFxuICAgICAgICAvLyBwb3RlbnRpYWxseSBtb2RpZnkgdGhlaXIgY29udGVudHMgYnkgY3JlYXRpbmcgYSBwb2x5ZmlsbGVkIFNoYWRvd1Jvb3RcbiAgICAgICAgLy8gd2hpbGUgd2UgdHJhdmVyc2UgdGhlIHRyZWUuXG4gICAgICAgIGNvbnN0IGZyYWdtZW50ID0gaXNDRVBvbHlmaWxsID9cbiAgICAgICAgICAgIHRoaXMudGVtcGxhdGUuZWxlbWVudC5jb250ZW50LmNsb25lTm9kZSh0cnVlKSA6XG4gICAgICAgICAgICBkb2N1bWVudC5pbXBvcnROb2RlKHRoaXMudGVtcGxhdGUuZWxlbWVudC5jb250ZW50LCB0cnVlKTtcbiAgICAgICAgY29uc3QgcGFydHMgPSB0aGlzLnRlbXBsYXRlLnBhcnRzO1xuICAgICAgICBsZXQgcGFydEluZGV4ID0gMDtcbiAgICAgICAgbGV0IG5vZGVJbmRleCA9IDA7XG4gICAgICAgIGNvbnN0IF9wcmVwYXJlSW5zdGFuY2UgPSAoZnJhZ21lbnQpID0+IHtcbiAgICAgICAgICAgIC8vIEVkZ2UgbmVlZHMgYWxsIDQgcGFyYW1ldGVycyBwcmVzZW50OyBJRTExIG5lZWRzIDNyZCBwYXJhbWV0ZXIgdG8gYmVcbiAgICAgICAgICAgIC8vIG51bGxcbiAgICAgICAgICAgIGNvbnN0IHdhbGtlciA9IGRvY3VtZW50LmNyZWF0ZVRyZWVXYWxrZXIoZnJhZ21lbnQsIDEzMyAvKiBOb2RlRmlsdGVyLlNIT1dfe0VMRU1FTlR8Q09NTUVOVHxURVhUfSAqLywgbnVsbCwgZmFsc2UpO1xuICAgICAgICAgICAgbGV0IG5vZGUgPSB3YWxrZXIubmV4dE5vZGUoKTtcbiAgICAgICAgICAgIC8vIExvb3AgdGhyb3VnaCBhbGwgdGhlIG5vZGVzIGFuZCBwYXJ0cyBvZiBhIHRlbXBsYXRlXG4gICAgICAgICAgICB3aGlsZSAocGFydEluZGV4IDwgcGFydHMubGVuZ3RoICYmIG5vZGUgIT09IG51bGwpIHtcbiAgICAgICAgICAgICAgICBjb25zdCBwYXJ0ID0gcGFydHNbcGFydEluZGV4XTtcbiAgICAgICAgICAgICAgICAvLyBDb25zZWN1dGl2ZSBQYXJ0cyBtYXkgaGF2ZSB0aGUgc2FtZSBub2RlIGluZGV4LCBpbiB0aGUgY2FzZSBvZlxuICAgICAgICAgICAgICAgIC8vIG11bHRpcGxlIGJvdW5kIGF0dHJpYnV0ZXMgb24gYW4gZWxlbWVudC4gU28gZWFjaCBpdGVyYXRpb24gd2UgZWl0aGVyXG4gICAgICAgICAgICAgICAgLy8gaW5jcmVtZW50IHRoZSBub2RlSW5kZXgsIGlmIHdlIGFyZW4ndCBvbiBhIG5vZGUgd2l0aCBhIHBhcnQsIG9yIHRoZVxuICAgICAgICAgICAgICAgIC8vIHBhcnRJbmRleCBpZiB3ZSBhcmUuIEJ5IG5vdCBpbmNyZW1lbnRpbmcgdGhlIG5vZGVJbmRleCB3aGVuIHdlIGZpbmQgYVxuICAgICAgICAgICAgICAgIC8vIHBhcnQsIHdlIGFsbG93IGZvciB0aGUgbmV4dCBwYXJ0IHRvIGJlIGFzc29jaWF0ZWQgd2l0aCB0aGUgY3VycmVudFxuICAgICAgICAgICAgICAgIC8vIG5vZGUgaWYgbmVjY2Vzc2FzcnkuXG4gICAgICAgICAgICAgICAgaWYgKCFpc1RlbXBsYXRlUGFydEFjdGl2ZShwYXJ0KSkge1xuICAgICAgICAgICAgICAgICAgICB0aGlzLl9wYXJ0cy5wdXNoKHVuZGVmaW5lZCk7XG4gICAgICAgICAgICAgICAgICAgIHBhcnRJbmRleCsrO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBlbHNlIGlmIChub2RlSW5kZXggPT09IHBhcnQuaW5kZXgpIHtcbiAgICAgICAgICAgICAgICAgICAgaWYgKHBhcnQudHlwZSA9PT0gJ25vZGUnKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBjb25zdCBwYXJ0ID0gdGhpcy5wcm9jZXNzb3IuaGFuZGxlVGV4dEV4cHJlc3Npb24odGhpcy5vcHRpb25zKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIHBhcnQuaW5zZXJ0QWZ0ZXJOb2RlKG5vZGUucHJldmlvdXNTaWJsaW5nKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMuX3BhcnRzLnB1c2gocGFydCk7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICAgICAgICAgICAgICB0aGlzLl9wYXJ0cy5wdXNoKC4uLnRoaXMucHJvY2Vzc29yLmhhbmRsZUF0dHJpYnV0ZUV4cHJlc3Npb25zKG5vZGUsIHBhcnQubmFtZSwgcGFydC5zdHJpbmdzLCB0aGlzLm9wdGlvbnMpKTtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICBwYXJ0SW5kZXgrKztcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICAgICAgICAgIG5vZGVJbmRleCsrO1xuICAgICAgICAgICAgICAgICAgICBpZiAobm9kZS5ub2RlTmFtZSA9PT0gJ1RFTVBMQVRFJykge1xuICAgICAgICAgICAgICAgICAgICAgICAgX3ByZXBhcmVJbnN0YW5jZShub2RlLmNvbnRlbnQpO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIG5vZGUgPSB3YWxrZXIubmV4dE5vZGUoKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgIH07XG4gICAgICAgIF9wcmVwYXJlSW5zdGFuY2UoZnJhZ21lbnQpO1xuICAgICAgICBpZiAoaXNDRVBvbHlmaWxsKSB7XG4gICAgICAgICAgICBkb2N1bWVudC5hZG9wdE5vZGUoZnJhZ21lbnQpO1xuICAgICAgICAgICAgY3VzdG9tRWxlbWVudHMudXBncmFkZShmcmFnbWVudCk7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIGZyYWdtZW50O1xuICAgIH1cbn1cbi8vIyBzb3VyY2VNYXBwaW5nVVJMPXRlbXBsYXRlLWluc3RhbmNlLmpzLm1hcCIsIi8qKlxuQGxpY2Vuc2VcbkNvcHlyaWdodCAoYykgMjAxNyBUaGUgUG9seW1lciBQcm9qZWN0IEF1dGhvcnMuIEFsbCByaWdodHMgcmVzZXJ2ZWQuXG5UaGlzIGNvZGUgbWF5IG9ubHkgYmUgdXNlZCB1bmRlciB0aGUgQlNEIHN0eWxlIGxpY2Vuc2UgZm91bmQgYXQgaHR0cDovL3BvbHltZXIuZ2l0aHViLmlvL0xJQ0VOU0UudHh0XG5UaGUgY29tcGxldGUgc2V0IG9mIGF1dGhvcnMgbWF5IGJlIGZvdW5kIGF0IGh0dHA6Ly9wb2x5bWVyLmdpdGh1Yi5pby9BVVRIT1JTLnR4dFxuVGhlIGNvbXBsZXRlIHNldCBvZiBjb250cmlidXRvcnMgbWF5IGJlIGZvdW5kIGF0IGh0dHA6Ly9wb2x5bWVyLmdpdGh1Yi5pby9DT05UUklCVVRPUlMudHh0XG5Db2RlIGRpc3RyaWJ1dGVkIGJ5IEdvb2dsZSBhcyBwYXJ0IG9mIHRoZSBwb2x5bWVyIHByb2plY3QgaXMgYWxzb1xuc3ViamVjdCB0byBhbiBhZGRpdGlvbmFsIElQIHJpZ2h0cyBncmFudCBmb3VuZCBhdCBodHRwOi8vcG9seW1lci5naXRodWIuaW8vUEFURU5UUy50eHRcbiovXG5cbi8qKlxuICogVG90YWwgbnVtYmVyIG9mIFBvbHltZXIgZWxlbWVudCBpbnN0YW5jZXMgY3JlYXRlZC5cbiAqIEB0eXBlIHtudW1iZXJ9XG4gKi9cbmV4cG9ydCBsZXQgaW5zdGFuY2VDb3VudCA9IDA7XG5cbmV4cG9ydCBmdW5jdGlvbiBpbmNyZW1lbnRJbnN0YW5jZUNvdW50KCkge1xuICBpbnN0YW5jZUNvdW50Kys7XG59XG5cbi8qKlxuICogQXJyYXkgb2YgUG9seW1lciBlbGVtZW50IGNsYXNzZXMgdGhhdCBoYXZlIGJlZW4gZmluYWxpemVkLlxuICogQHR5cGUgeyFBcnJheTwhUG9seW1lckVsZW1lbnRDb25zdHJ1Y3Rvcj59XG4gKi9cbmV4cG9ydCBjb25zdCByZWdpc3RyYXRpb25zID0gW107XG5cbi8qKlxuICogQHBhcmFtIHshUG9seW1lckVsZW1lbnRDb25zdHJ1Y3Rvcn0gcHJvdG90eXBlIEVsZW1lbnQgcHJvdG90eXBlIHRvIGxvZ1xuICogQHByaXZhdGVcbiAqL1xuZnVuY3Rpb24gX3JlZ0xvZyhwcm90b3R5cGUpIHtcbiAgY29uc29sZS5sb2coJ1snICsgLyoqIEB0eXBlIHs/fSAqLyhwcm90b3R5cGUpLmlzICsgJ106IHJlZ2lzdGVyZWQnKTtcbn1cblxuLyoqXG4gKiBSZWdpc3RlcnMgYSBjbGFzcyBwcm90b3R5cGUgZm9yIHRlbGVtZXRyeSBwdXJwb3Nlcy5cbiAqIEBwYXJhbSB7IVBvbHltZXJFbGVtZW50Q29uc3RydWN0b3J9IHByb3RvdHlwZSBFbGVtZW50IHByb3RvdHlwZSB0byByZWdpc3RlclxuICogQHByb3RlY3RlZFxuICovXG5leHBvcnQgZnVuY3Rpb24gcmVnaXN0ZXIocHJvdG90eXBlKSB7XG4gIHJlZ2lzdHJhdGlvbnMucHVzaChwcm90b3R5cGUpO1xufVxuXG4vKipcbiAqIExvZ3MgYWxsIGVsZW1lbnRzIHJlZ2lzdGVyZWQgd2l0aCBhbiBgaXNgIHRvIHRoZSBjb25zb2xlLlxuICogQHB1YmxpY1xuICovXG5leHBvcnQgZnVuY3Rpb24gZHVtcFJlZ2lzdHJhdGlvbnMoKSB7XG4gIHJlZ2lzdHJhdGlvbnMuZm9yRWFjaChfcmVnTG9nKTtcbn0iLCIvKipcbkBsaWNlbnNlXG5Db3B5cmlnaHQgKGMpIDIwMTcgVGhlIFBvbHltZXIgUHJvamVjdCBBdXRob3JzLiBBbGwgcmlnaHRzIHJlc2VydmVkLlxuVGhpcyBjb2RlIG1heSBvbmx5IGJlIHVzZWQgdW5kZXIgdGhlIEJTRCBzdHlsZSBsaWNlbnNlIGZvdW5kIGF0IGh0dHA6Ly9wb2x5bWVyLmdpdGh1Yi5pby9MSUNFTlNFLnR4dFxuVGhlIGNvbXBsZXRlIHNldCBvZiBhdXRob3JzIG1heSBiZSBmb3VuZCBhdCBodHRwOi8vcG9seW1lci5naXRodWIuaW8vQVVUSE9SUy50eHRcblRoZSBjb21wbGV0ZSBzZXQgb2YgY29udHJpYnV0b3JzIG1heSBiZSBmb3VuZCBhdCBodHRwOi8vcG9seW1lci5naXRodWIuaW8vQ09OVFJJQlVUT1JTLnR4dFxuQ29kZSBkaXN0cmlidXRlZCBieSBHb29nbGUgYXMgcGFydCBvZiB0aGUgcG9seW1lciBwcm9qZWN0IGlzIGFsc29cbnN1YmplY3QgdG8gYW4gYWRkaXRpb25hbCBJUCByaWdodHMgZ3JhbnQgZm91bmQgYXQgaHR0cDovL3BvbHltZXIuZ2l0aHViLmlvL1BBVEVOVFMudHh0XG4qL1xuaW1wb3J0ICcuLi91dGlscy9ib290LmpzJztcblxuaW1wb3J0IHsgZGVkdXBpbmdNaXhpbiB9IGZyb20gJy4uL3V0aWxzL21peGluLmpzJztcbmltcG9ydCB7IHJlZ2lzdGVyLCBpbmNyZW1lbnRJbnN0YW5jZUNvdW50IH0gZnJvbSAnLi4vdXRpbHMvdGVsZW1ldHJ5LmpzJztcbmltcG9ydCB7IFByb3BlcnRpZXNDaGFuZ2VkIH0gZnJvbSAnLi9wcm9wZXJ0aWVzLWNoYW5nZWQuanMnO1xuXG4vKipcbiAqIENyZWF0ZXMgYSBjb3B5IG9mIGBwcm9wc2Agd2l0aCBlYWNoIHByb3BlcnR5IG5vcm1hbGl6ZWQgc3VjaCB0aGF0XG4gKiB1cGdyYWRlZCBpdCBpcyBhbiBvYmplY3Qgd2l0aCBhdCBsZWFzdCBhIHR5cGUgcHJvcGVydHkgeyB0eXBlOiBUeXBlfS5cbiAqXG4gKiBAcGFyYW0ge09iamVjdH0gcHJvcHMgUHJvcGVydGllcyB0byBub3JtYWxpemVcbiAqIEByZXR1cm4ge09iamVjdH0gQ29weSBvZiBpbnB1dCBgcHJvcHNgIHdpdGggbm9ybWFsaXplZCBwcm9wZXJ0aWVzIHRoYXRcbiAqIGFyZSBpbiB0aGUgZm9ybSB7dHlwZTogVHlwZX1cbiAqIEBwcml2YXRlXG4gKi9cbmZ1bmN0aW9uIG5vcm1hbGl6ZVByb3BlcnRpZXMocHJvcHMpIHtcbiAgY29uc3Qgb3V0cHV0ID0ge307XG4gIGZvciAobGV0IHAgaW4gcHJvcHMpIHtcbiAgICBjb25zdCBvID0gcHJvcHNbcF07XG4gICAgb3V0cHV0W3BdID0gKHR5cGVvZiBvID09PSAnZnVuY3Rpb24nKSA/IHt0eXBlOiBvfSA6IG87XG4gIH1cbiAgcmV0dXJuIG91dHB1dDtcbn1cblxuLyoqXG4gKiBNaXhpbiB0aGF0IHByb3ZpZGVzIGEgbWluaW1hbCBzdGFydGluZyBwb2ludCB0byB1c2luZyB0aGUgUHJvcGVydGllc0NoYW5nZWRcbiAqIG1peGluIGJ5IHByb3ZpZGluZyBhIG1lY2hhbmlzbSB0byBkZWNsYXJlIHByb3BlcnRpZXMgaW4gYSBzdGF0aWNcbiAqIGdldHRlciAoZS5nLiBzdGF0aWMgZ2V0IHByb3BlcnRpZXMoKSB7IHJldHVybiB7IGZvbzogU3RyaW5nIH0gfSkuIENoYW5nZXNcbiAqIGFyZSByZXBvcnRlZCB2aWEgdGhlIGBfcHJvcGVydGllc0NoYW5nZWRgIG1ldGhvZC5cbiAqXG4gKiBUaGlzIG1peGluIHByb3ZpZGVzIG5vIHNwZWNpZmljIHN1cHBvcnQgZm9yIHJlbmRlcmluZy4gVXNlcnMgYXJlIGV4cGVjdGVkXG4gKiB0byBjcmVhdGUgYSBTaGFkb3dSb290IGFuZCBwdXQgY29udGVudCBpbnRvIGl0IGFuZCB1cGRhdGUgaXQgaW4gd2hhdGV2ZXJcbiAqIHdheSBtYWtlcyBzZW5zZS4gVGhpcyBjYW4gYmUgZG9uZSBpbiByZWFjdGlvbiB0byBwcm9wZXJ0aWVzIGNoYW5naW5nIGJ5XG4gKiBpbXBsZW1lbnRpbmcgYF9wcm9wZXJ0aWVzQ2hhbmdlZGAuXG4gKlxuICogQG1peGluRnVuY3Rpb25cbiAqIEBwb2x5bWVyXG4gKiBAYXBwbGllc01peGluIFByb3BlcnRpZXNDaGFuZ2VkXG4gKiBAc3VtbWFyeSBNaXhpbiB0aGF0IHByb3ZpZGVzIGEgbWluaW1hbCBzdGFydGluZyBwb2ludCBmb3IgdXNpbmdcbiAqIHRoZSBQcm9wZXJ0aWVzQ2hhbmdlZCBtaXhpbiBieSBwcm92aWRpbmcgYSBkZWNsYXJhdGl2ZSBgcHJvcGVydGllc2Agb2JqZWN0LlxuICovXG5leHBvcnQgY29uc3QgUHJvcGVydGllc01peGluID0gZGVkdXBpbmdNaXhpbihzdXBlckNsYXNzID0+IHtcblxuIC8qKlxuICAqIEBjb25zdHJ1Y3RvclxuICAqIEBpbXBsZW1lbnRzIHtQb2x5bWVyX1Byb3BlcnRpZXNDaGFuZ2VkfVxuICAqIEBwcml2YXRlXG4gICovXG4gY29uc3QgYmFzZSA9IFByb3BlcnRpZXNDaGFuZ2VkKHN1cGVyQ2xhc3MpO1xuXG4gLyoqXG4gICogUmV0dXJucyB0aGUgc3VwZXIgY2xhc3MgY29uc3RydWN0b3IgZm9yIHRoZSBnaXZlbiBjbGFzcywgaWYgaXQgaXMgYW5cbiAgKiBpbnN0YW5jZSBvZiB0aGUgUHJvcGVydGllc01peGluLlxuICAqXG4gICogQHBhcmFtIHshUHJvcGVydGllc01peGluQ29uc3RydWN0b3J9IGNvbnN0cnVjdG9yIFByb3BlcnRpZXNNaXhpbiBjb25zdHJ1Y3RvclxuICAqIEByZXR1cm4gez9Qcm9wZXJ0aWVzTWl4aW5Db25zdHJ1Y3Rvcn0gU3VwZXIgY2xhc3MgY29uc3RydWN0b3JcbiAgKi9cbiBmdW5jdGlvbiBzdXBlclByb3BlcnRpZXNDbGFzcyhjb25zdHJ1Y3Rvcikge1xuICAgY29uc3Qgc3VwZXJDdG9yID0gT2JqZWN0LmdldFByb3RvdHlwZU9mKGNvbnN0cnVjdG9yKTtcblxuICAgLy8gTm90ZSwgdGhlIGBQcm9wZXJ0aWVzTWl4aW5gIGNsYXNzIGJlbG93IG9ubHkgcmVmZXJzIHRvIHRoZSBjbGFzc1xuICAgLy8gZ2VuZXJhdGVkIGJ5IHRoaXMgY2FsbCB0byB0aGUgbWl4aW47IHRoZSBpbnN0YW5jZW9mIHRlc3Qgb25seSB3b3Jrc1xuICAgLy8gYmVjYXVzZSB0aGUgbWl4aW4gaXMgZGVkdXBlZCBhbmQgZ3VhcmFudGVlZCBvbmx5IHRvIGFwcGx5IG9uY2UsIGhlbmNlXG4gICAvLyBhbGwgY29uc3RydWN0b3JzIGluIGEgcHJvdG8gY2hhaW4gd2lsbCBzZWUgdGhlIHNhbWUgYFByb3BlcnRpZXNNaXhpbmBcbiAgIHJldHVybiAoc3VwZXJDdG9yLnByb3RvdHlwZSBpbnN0YW5jZW9mIFByb3BlcnRpZXNNaXhpbikgP1xuICAgICAvKiogQHR5cGUgeyFQcm9wZXJ0aWVzTWl4aW5Db25zdHJ1Y3Rvcn0gKi8gKHN1cGVyQ3RvcikgOiBudWxsO1xuIH1cblxuIC8qKlxuICAqIFJldHVybnMgYSBtZW1vaXplZCB2ZXJzaW9uIG9mIHRoZSBgcHJvcGVydGllc2Agb2JqZWN0IGZvciB0aGVcbiAgKiBnaXZlbiBjbGFzcy4gUHJvcGVydGllcyBub3QgaW4gb2JqZWN0IGZvcm1hdCBhcmUgY29udmVydGVkIHRvIGF0XG4gICogbGVhc3Qge3R5cGV9LlxuICAqXG4gICogQHBhcmFtIHtQcm9wZXJ0aWVzTWl4aW5Db25zdHJ1Y3Rvcn0gY29uc3RydWN0b3IgUHJvcGVydGllc01peGluIGNvbnN0cnVjdG9yXG4gICogQHJldHVybiB7T2JqZWN0fSBNZW1vaXplZCBwcm9wZXJ0aWVzIG9iamVjdFxuICAqL1xuIGZ1bmN0aW9uIG93blByb3BlcnRpZXMoY29uc3RydWN0b3IpIHtcbiAgIGlmICghY29uc3RydWN0b3IuaGFzT3duUHJvcGVydHkoSlNDb21waWxlcl9yZW5hbWVQcm9wZXJ0eSgnX19vd25Qcm9wZXJ0aWVzJywgY29uc3RydWN0b3IpKSkge1xuICAgICBsZXQgcHJvcHMgPSBudWxsO1xuXG4gICAgIGlmIChjb25zdHJ1Y3Rvci5oYXNPd25Qcm9wZXJ0eShKU0NvbXBpbGVyX3JlbmFtZVByb3BlcnR5KCdwcm9wZXJ0aWVzJywgY29uc3RydWN0b3IpKSkge1xuICAgICAgIGNvbnN0IHByb3BlcnRpZXMgPSBjb25zdHJ1Y3Rvci5wcm9wZXJ0aWVzO1xuXG4gICAgICAgaWYgKHByb3BlcnRpZXMpIHtcbiAgICAgICAgcHJvcHMgPSBub3JtYWxpemVQcm9wZXJ0aWVzKHByb3BlcnRpZXMpO1xuICAgICAgIH1cbiAgICAgfVxuXG4gICAgIGNvbnN0cnVjdG9yLl9fb3duUHJvcGVydGllcyA9IHByb3BzO1xuICAgfVxuICAgcmV0dXJuIGNvbnN0cnVjdG9yLl9fb3duUHJvcGVydGllcztcbiB9XG5cbiAvKipcbiAgKiBAcG9seW1lclxuICAqIEBtaXhpbkNsYXNzXG4gICogQGV4dGVuZHMge2Jhc2V9XG4gICogQGltcGxlbWVudHMge1BvbHltZXJfUHJvcGVydGllc01peGlufVxuICAqIEB1bnJlc3RyaWN0ZWRcbiAgKi9cbiBjbGFzcyBQcm9wZXJ0aWVzTWl4aW4gZXh0ZW5kcyBiYXNlIHtcblxuICAgLyoqXG4gICAgKiBJbXBsZW1lbnRzIHN0YW5kYXJkIGN1c3RvbSBlbGVtZW50cyBnZXR0ZXIgdG8gb2JzZXJ2ZXMgdGhlIGF0dHJpYnV0ZXNcbiAgICAqIGxpc3RlZCBpbiBgcHJvcGVydGllc2AuXG4gICAgKiBAc3VwcHJlc3Mge21pc3NpbmdQcm9wZXJ0aWVzfSBJbnRlcmZhY2VzIGluIGNsb3N1cmUgZG8gbm90IGluaGVyaXQgc3RhdGljcywgYnV0IGNsYXNzZXMgZG9cbiAgICAqL1xuICAgc3RhdGljIGdldCBvYnNlcnZlZEF0dHJpYnV0ZXMoKSB7XG4gICAgIGlmICghdGhpcy5oYXNPd25Qcm9wZXJ0eSgnX19vYnNlcnZlZEF0dHJpYnV0ZXMnKSkge1xuICAgICAgIHJlZ2lzdGVyKHRoaXMucHJvdG90eXBlKTtcbiAgICAgICBjb25zdCBwcm9wcyA9IHRoaXMuX3Byb3BlcnRpZXM7XG4gICAgICAgdGhpcy5fX29ic2VydmVkQXR0cmlidXRlcyA9IHByb3BzID8gT2JqZWN0LmtleXMocHJvcHMpLm1hcChwID0+IHRoaXMuYXR0cmlidXRlTmFtZUZvclByb3BlcnR5KHApKSA6IFtdO1xuICAgICB9XG4gICAgIHJldHVybiB0aGlzLl9fb2JzZXJ2ZWRBdHRyaWJ1dGVzO1xuICAgfVxuXG4gICAvKipcbiAgICAqIEZpbmFsaXplcyBhbiBlbGVtZW50IGRlZmluaXRpb24sIGluY2x1ZGluZyBlbnN1cmluZyBhbnkgc3VwZXIgY2xhc3Nlc1xuICAgICogYXJlIGFsc28gZmluYWxpemVkLiBUaGlzIGluY2x1ZGVzIGVuc3VyaW5nIHByb3BlcnR5XG4gICAgKiBhY2Nlc3NvcnMgZXhpc3Qgb24gdGhlIGVsZW1lbnQgcHJvdG90eXBlLiBUaGlzIG1ldGhvZCBjYWxsc1xuICAgICogYF9maW5hbGl6ZUNsYXNzYCB0byBmaW5hbGl6ZSBlYWNoIGNvbnN0cnVjdG9yIGluIHRoZSBwcm90b3R5cGUgY2hhaW4uXG4gICAgKiBAcmV0dXJuIHt2b2lkfVxuICAgICovXG4gICBzdGF0aWMgZmluYWxpemUoKSB7XG4gICAgIGlmICghdGhpcy5oYXNPd25Qcm9wZXJ0eShKU0NvbXBpbGVyX3JlbmFtZVByb3BlcnR5KCdfX2ZpbmFsaXplZCcsIHRoaXMpKSkge1xuICAgICAgIGNvbnN0IHN1cGVyQ3RvciA9IHN1cGVyUHJvcGVydGllc0NsYXNzKC8qKiBAdHlwZSB7IVByb3BlcnRpZXNNaXhpbkNvbnN0cnVjdG9yfSAqLyh0aGlzKSk7XG4gICAgICAgaWYgKHN1cGVyQ3Rvcikge1xuICAgICAgICAgc3VwZXJDdG9yLmZpbmFsaXplKCk7XG4gICAgICAgfVxuICAgICAgIHRoaXMuX19maW5hbGl6ZWQgPSB0cnVlO1xuICAgICAgIHRoaXMuX2ZpbmFsaXplQ2xhc3MoKTtcbiAgICAgfVxuICAgfVxuXG4gICAvKipcbiAgICAqIEZpbmFsaXplIGFuIGVsZW1lbnQgY2xhc3MuIFRoaXMgaW5jbHVkZXMgZW5zdXJpbmcgcHJvcGVydHlcbiAgICAqIGFjY2Vzc29ycyBleGlzdCBvbiB0aGUgZWxlbWVudCBwcm90b3R5cGUuIFRoaXMgbWV0aG9kIGlzIGNhbGxlZCBieVxuICAgICogYGZpbmFsaXplYCBhbmQgZmluYWxpemVzIHRoZSBjbGFzcyBjb25zdHJ1Y3Rvci5cbiAgICAqXG4gICAgKiBAcHJvdGVjdGVkXG4gICAgKi9cbiAgIHN0YXRpYyBfZmluYWxpemVDbGFzcygpIHtcbiAgICAgY29uc3QgcHJvcHMgPSBvd25Qcm9wZXJ0aWVzKC8qKiBAdHlwZSB7IVByb3BlcnRpZXNNaXhpbkNvbnN0cnVjdG9yfSAqLyh0aGlzKSk7XG4gICAgIGlmIChwcm9wcykge1xuICAgICAgIHRoaXMuY3JlYXRlUHJvcGVydGllcyhwcm9wcyk7XG4gICAgIH1cbiAgIH1cblxuICAgLyoqXG4gICAgKiBSZXR1cm5zIGEgbWVtb2l6ZWQgdmVyc2lvbiBvZiBhbGwgcHJvcGVydGllcywgaW5jbHVkaW5nIHRob3NlIGluaGVyaXRlZFxuICAgICogZnJvbSBzdXBlciBjbGFzc2VzLiBQcm9wZXJ0aWVzIG5vdCBpbiBvYmplY3QgZm9ybWF0IGFyZSBjb252ZXJ0ZWQgdG9cbiAgICAqIGF0IGxlYXN0IHt0eXBlfS5cbiAgICAqXG4gICAgKiBAcmV0dXJuIHtPYmplY3R9IE9iamVjdCBjb250YWluaW5nIHByb3BlcnRpZXMgZm9yIHRoaXMgY2xhc3NcbiAgICAqIEBwcm90ZWN0ZWRcbiAgICAqL1xuICAgc3RhdGljIGdldCBfcHJvcGVydGllcygpIHtcbiAgICAgaWYgKCF0aGlzLmhhc093blByb3BlcnR5KFxuICAgICAgIEpTQ29tcGlsZXJfcmVuYW1lUHJvcGVydHkoJ19fcHJvcGVydGllcycsIHRoaXMpKSkge1xuICAgICAgIGNvbnN0IHN1cGVyQ3RvciA9IHN1cGVyUHJvcGVydGllc0NsYXNzKC8qKiBAdHlwZSB7IVByb3BlcnRpZXNNaXhpbkNvbnN0cnVjdG9yfSAqLyh0aGlzKSk7XG4gICAgICAgdGhpcy5fX3Byb3BlcnRpZXMgPSBPYmplY3QuYXNzaWduKHt9LFxuICAgICAgICAgc3VwZXJDdG9yICYmIHN1cGVyQ3Rvci5fcHJvcGVydGllcyxcbiAgICAgICAgIG93blByb3BlcnRpZXMoLyoqIEB0eXBlIHtQcm9wZXJ0aWVzTWl4aW5Db25zdHJ1Y3Rvcn0gKi8odGhpcykpKTtcbiAgICAgfVxuICAgICByZXR1cm4gdGhpcy5fX3Byb3BlcnRpZXM7XG4gICB9XG5cbiAgIC8qKlxuICAgICogT3ZlcnJpZGVzIGBQcm9wZXJ0aWVzQ2hhbmdlZGAgbWV0aG9kIHRvIHJldHVybiB0eXBlIHNwZWNpZmllZCBpbiB0aGVcbiAgICAqIHN0YXRpYyBgcHJvcGVydGllc2Agb2JqZWN0IGZvciB0aGUgZ2l2ZW4gcHJvcGVydHkuXG4gICAgKiBAcGFyYW0ge3N0cmluZ30gbmFtZSBOYW1lIG9mIHByb3BlcnR5XG4gICAgKiBAcmV0dXJuIHsqfSBUeXBlIHRvIHdoaWNoIHRvIGRlc2VyaWFsaXplIGF0dHJpYnV0ZVxuICAgICpcbiAgICAqIEBwcm90ZWN0ZWRcbiAgICAqL1xuICAgc3RhdGljIHR5cGVGb3JQcm9wZXJ0eShuYW1lKSB7XG4gICAgIGNvbnN0IGluZm8gPSB0aGlzLl9wcm9wZXJ0aWVzW25hbWVdO1xuICAgICByZXR1cm4gaW5mbyAmJiBpbmZvLnR5cGU7XG4gICB9XG5cbiAgIC8qKlxuICAgICogT3ZlcnJpZGVzIGBQcm9wZXJ0aWVzQ2hhbmdlZGAgbWV0aG9kIGFuZCBhZGRzIGEgY2FsbCB0b1xuICAgICogYGZpbmFsaXplYCB3aGljaCBsYXppbHkgY29uZmlndXJlcyB0aGUgZWxlbWVudCdzIHByb3BlcnR5IGFjY2Vzc29ycy5cbiAgICAqIEBvdmVycmlkZVxuICAgICogQHJldHVybiB7dm9pZH1cbiAgICAqL1xuICAgX2luaXRpYWxpemVQcm9wZXJ0aWVzKCkge1xuICAgICBpbmNyZW1lbnRJbnN0YW5jZUNvdW50KCk7XG4gICAgIHRoaXMuY29uc3RydWN0b3IuZmluYWxpemUoKTtcbiAgICAgc3VwZXIuX2luaXRpYWxpemVQcm9wZXJ0aWVzKCk7XG4gICB9XG5cbiAgIC8qKlxuICAgICogQ2FsbGVkIHdoZW4gdGhlIGVsZW1lbnQgaXMgYWRkZWQgdG8gYSBkb2N1bWVudC5cbiAgICAqIENhbGxzIGBfZW5hYmxlUHJvcGVydGllc2AgdG8gdHVybiBvbiBwcm9wZXJ0eSBzeXN0ZW0gZnJvbVxuICAgICogYFByb3BlcnRpZXNDaGFuZ2VkYC5cbiAgICAqIEBzdXBwcmVzcyB7bWlzc2luZ1Byb3BlcnRpZXN9IFN1cGVyIG1heSBvciBtYXkgbm90IGltcGxlbWVudCB0aGUgY2FsbGJhY2tcbiAgICAqIEByZXR1cm4ge3ZvaWR9XG4gICAgKiBAb3ZlcnJpZGVcbiAgICAqL1xuICAgY29ubmVjdGVkQ2FsbGJhY2soKSB7XG4gICAgIGlmIChzdXBlci5jb25uZWN0ZWRDYWxsYmFjaykge1xuICAgICAgIHN1cGVyLmNvbm5lY3RlZENhbGxiYWNrKCk7XG4gICAgIH1cbiAgICAgdGhpcy5fZW5hYmxlUHJvcGVydGllcygpO1xuICAgfVxuXG4gICAvKipcbiAgICAqIENhbGxlZCB3aGVuIHRoZSBlbGVtZW50IGlzIHJlbW92ZWQgZnJvbSBhIGRvY3VtZW50XG4gICAgKiBAc3VwcHJlc3Mge21pc3NpbmdQcm9wZXJ0aWVzfSBTdXBlciBtYXkgb3IgbWF5IG5vdCBpbXBsZW1lbnQgdGhlIGNhbGxiYWNrXG4gICAgKiBAcmV0dXJuIHt2b2lkfVxuICAgICogQG92ZXJyaWRlXG4gICAgKi9cbiAgIGRpc2Nvbm5lY3RlZENhbGxiYWNrKCkge1xuICAgICBpZiAoc3VwZXIuZGlzY29ubmVjdGVkQ2FsbGJhY2spIHtcbiAgICAgICBzdXBlci5kaXNjb25uZWN0ZWRDYWxsYmFjaygpO1xuICAgICB9XG4gICB9XG5cbiB9XG5cbiByZXR1cm4gUHJvcGVydGllc01peGluO1xuXG59KTtcbiIsIi8qKlxuICogQGZpbGVvdmVydmlld1xuICogQHN1cHByZXNzIHtjaGVja1Byb3RvdHlwYWxUeXBlc31cbiAqIEBsaWNlbnNlIENvcHlyaWdodCAoYykgMjAxNyBUaGUgUG9seW1lciBQcm9qZWN0IEF1dGhvcnMuIEFsbCByaWdodHMgcmVzZXJ2ZWQuXG4gKiBUaGlzIGNvZGUgbWF5IG9ubHkgYmUgdXNlZCB1bmRlciB0aGUgQlNEIHN0eWxlIGxpY2Vuc2UgZm91bmQgYXRcbiAqIGh0dHA6Ly9wb2x5bWVyLmdpdGh1Yi5pby9MSUNFTlNFLnR4dCBUaGUgY29tcGxldGUgc2V0IG9mIGF1dGhvcnMgbWF5IGJlIGZvdW5kXG4gKiBhdCBodHRwOi8vcG9seW1lci5naXRodWIuaW8vQVVUSE9SUy50eHQgVGhlIGNvbXBsZXRlIHNldCBvZiBjb250cmlidXRvcnMgbWF5XG4gKiBiZSBmb3VuZCBhdCBodHRwOi8vcG9seW1lci5naXRodWIuaW8vQ09OVFJJQlVUT1JTLnR4dCBDb2RlIGRpc3RyaWJ1dGVkIGJ5XG4gKiBHb29nbGUgYXMgcGFydCBvZiB0aGUgcG9seW1lciBwcm9qZWN0IGlzIGFsc28gc3ViamVjdCB0byBhbiBhZGRpdGlvbmFsIElQXG4gKiByaWdodHMgZ3JhbnQgZm91bmQgYXQgaHR0cDovL3BvbHltZXIuZ2l0aHViLmlvL1BBVEVOVFMudHh0XG4gKi9cbmltcG9ydCAnLi4vdXRpbHMvYm9vdC5qcyc7XG5cbmltcG9ydCB7IHJvb3RQYXRoLCBzdHJpY3RUZW1wbGF0ZVBvbGljeSwgYWxsb3dUZW1wbGF0ZUZyb21Eb21Nb2R1bGUsIGxlZ2FjeU9wdGltaXphdGlvbnMsIHN5bmNJbml0aWFsUmVuZGVyIH0gZnJvbSAnLi4vdXRpbHMvc2V0dGluZ3MuanMnO1xuaW1wb3J0IHsgZGVkdXBpbmdNaXhpbiB9IGZyb20gJy4uL3V0aWxzL21peGluLmpzJztcbmltcG9ydCB7IHN0eWxlc0Zyb21UZW1wbGF0ZSwgc3R5bGVzRnJvbU1vZHVsZUltcG9ydHMgfSBmcm9tICcuLi91dGlscy9zdHlsZS1nYXRoZXIuanMnO1xuaW1wb3J0IHsgcGF0aEZyb21VcmwsIHJlc29sdmVDc3MsIHJlc29sdmVVcmwgfSBmcm9tICcuLi91dGlscy9yZXNvbHZlLXVybC5qcyc7XG5pbXBvcnQgeyBEb21Nb2R1bGUgfSBmcm9tICcuLi9lbGVtZW50cy9kb20tbW9kdWxlLmpzJztcbmltcG9ydCB7IFByb3BlcnR5RWZmZWN0cyB9IGZyb20gJy4vcHJvcGVydHktZWZmZWN0cy5qcyc7XG5pbXBvcnQgeyBQcm9wZXJ0aWVzTWl4aW4gfSBmcm9tICcuL3Byb3BlcnRpZXMtbWl4aW4uanMnO1xuaW1wb3J0IHsgd3JhcCB9IGZyb20gJy4uL3V0aWxzL3dyYXAuanMnO1xuXG4vKipcbiAqIEN1cnJlbnQgUG9seW1lciB2ZXJzaW9uIGluIFNlbXZlciBub3RhdGlvbi5cbiAqIEB0eXBlIHtzdHJpbmd9IFNlbXZlciBub3RhdGlvbiBvZiB0aGUgY3VycmVudCB2ZXJzaW9uIG9mIFBvbHltZXIuXG4gKi9cbmV4cG9ydCBjb25zdCB2ZXJzaW9uID0gJzMuMi4wJztcblxuY29uc3QgYnVpbHRDU1MgPSB3aW5kb3cuU2hhZHlDU1MgJiYgd2luZG93LlNoYWR5Q1NTWydjc3NCdWlsZCddO1xuXG4vKipcbiAqIEVsZW1lbnQgY2xhc3MgbWl4aW4gdGhhdCBwcm92aWRlcyB0aGUgY29yZSBBUEkgZm9yIFBvbHltZXIncyBtZXRhLXByb2dyYW1taW5nXG4gKiBmZWF0dXJlcyBpbmNsdWRpbmcgdGVtcGxhdGUgc3RhbXBpbmcsIGRhdGEtYmluZGluZywgYXR0cmlidXRlIGRlc2VyaWFsaXphdGlvbixcbiAqIGFuZCBwcm9wZXJ0eSBjaGFuZ2Ugb2JzZXJ2YXRpb24uXG4gKlxuICogU3ViY2xhc3NlcnMgbWF5IHByb3ZpZGUgdGhlIGZvbGxvd2luZyBzdGF0aWMgZ2V0dGVycyB0byByZXR1cm4gbWV0YWRhdGFcbiAqIHVzZWQgdG8gY29uZmlndXJlIFBvbHltZXIncyBmZWF0dXJlcyBmb3IgdGhlIGNsYXNzOlxuICpcbiAqIC0gYHN0YXRpYyBnZXQgaXMoKWA6IFdoZW4gdGhlIHRlbXBsYXRlIGlzIHByb3ZpZGVkIHZpYSBhIGBkb20tbW9kdWxlYCxcbiAqICAgdXNlcnMgc2hvdWxkIHJldHVybiB0aGUgYGRvbS1tb2R1bGVgIGlkIGZyb20gYSBzdGF0aWMgYGlzYCBnZXR0ZXIuICBJZlxuICogICBubyB0ZW1wbGF0ZSBpcyBuZWVkZWQgb3IgdGhlIHRlbXBsYXRlIGlzIHByb3ZpZGVkIGRpcmVjdGx5IHZpYSB0aGVcbiAqICAgYHRlbXBsYXRlYCBnZXR0ZXIsIHRoZXJlIGlzIG5vIG5lZWQgdG8gZGVmaW5lIGBpc2AgZm9yIHRoZSBlbGVtZW50LlxuICpcbiAqIC0gYHN0YXRpYyBnZXQgdGVtcGxhdGUoKWA6IFVzZXJzIG1heSBwcm92aWRlIHRoZSB0ZW1wbGF0ZSBkaXJlY3RseSAoYXNcbiAqICAgb3Bwb3NlZCB0byB2aWEgYGRvbS1tb2R1bGVgKSBieSBpbXBsZW1lbnRpbmcgYSBzdGF0aWMgYHRlbXBsYXRlYCBnZXR0ZXIuXG4gKiAgIFRoZSBnZXR0ZXIgbXVzdCByZXR1cm4gYW4gYEhUTUxUZW1wbGF0ZUVsZW1lbnRgLlxuICpcbiAqIC0gYHN0YXRpYyBnZXQgcHJvcGVydGllcygpYDogU2hvdWxkIHJldHVybiBhbiBvYmplY3QgZGVzY3JpYmluZ1xuICogICBwcm9wZXJ0eS1yZWxhdGVkIG1ldGFkYXRhIHVzZWQgYnkgUG9seW1lciBmZWF0dXJlcyAoa2V5OiBwcm9wZXJ0eSBuYW1lXG4gKiAgIHZhbHVlOiBvYmplY3QgY29udGFpbmluZyBwcm9wZXJ0eSBtZXRhZGF0YSkuIFZhbGlkIGtleXMgaW4gcGVyLXByb3BlcnR5XG4gKiAgIG1ldGFkYXRhIGluY2x1ZGU6XG4gKiAgIC0gYHR5cGVgIChTdHJpbmd8TnVtYmVyfE9iamVjdHxBcnJheXwuLi4pOiBVc2VkIGJ5XG4gKiAgICAgYGF0dHJpYnV0ZUNoYW5nZWRDYWxsYmFja2AgdG8gZGV0ZXJtaW5lIGhvdyBzdHJpbmctYmFzZWQgYXR0cmlidXRlc1xuICogICAgIGFyZSBkZXNlcmlhbGl6ZWQgdG8gSmF2YVNjcmlwdCBwcm9wZXJ0eSB2YWx1ZXMuXG4gKiAgIC0gYG5vdGlmeWAgKGJvb2xlYW4pOiBDYXVzZXMgYSBjaGFuZ2UgaW4gdGhlIHByb3BlcnR5IHRvIGZpcmUgYVxuICogICAgIG5vbi1idWJibGluZyBldmVudCBjYWxsZWQgYDxwcm9wZXJ0eT4tY2hhbmdlZGAuIEVsZW1lbnRzIHRoYXQgaGF2ZVxuICogICAgIGVuYWJsZWQgdHdvLXdheSBiaW5kaW5nIHRvIHRoZSBwcm9wZXJ0eSB1c2UgdGhpcyBldmVudCB0byBvYnNlcnZlIGNoYW5nZXMuXG4gKiAgIC0gYHJlYWRPbmx5YCAoYm9vbGVhbik6IENyZWF0ZXMgYSBnZXR0ZXIgZm9yIHRoZSBwcm9wZXJ0eSwgYnV0IG5vIHNldHRlci5cbiAqICAgICBUbyBzZXQgYSByZWFkLW9ubHkgcHJvcGVydHksIHVzZSB0aGUgcHJpdmF0ZSBzZXR0ZXIgbWV0aG9kXG4gKiAgICAgYF9zZXRQcm9wZXJ0eShwcm9wZXJ0eSwgdmFsdWUpYC5cbiAqICAgLSBgb2JzZXJ2ZXJgIChzdHJpbmcpOiBPYnNlcnZlciBtZXRob2QgbmFtZSB0aGF0IHdpbGwgYmUgY2FsbGVkIHdoZW5cbiAqICAgICB0aGUgcHJvcGVydHkgY2hhbmdlcy4gVGhlIGFyZ3VtZW50cyBvZiB0aGUgbWV0aG9kIGFyZVxuICogICAgIGAodmFsdWUsIHByZXZpb3VzVmFsdWUpYC5cbiAqICAgLSBgY29tcHV0ZWRgIChzdHJpbmcpOiBTdHJpbmcgZGVzY3JpYmluZyBtZXRob2QgYW5kIGRlcGVuZGVudCBwcm9wZXJ0aWVzXG4gKiAgICAgZm9yIGNvbXB1dGluZyB0aGUgdmFsdWUgb2YgdGhpcyBwcm9wZXJ0eSAoZS5nLiBgJ2NvbXB1dGVGb28oYmFyLCB6b3QpJ2ApLlxuICogICAgIENvbXB1dGVkIHByb3BlcnRpZXMgYXJlIHJlYWQtb25seSBieSBkZWZhdWx0IGFuZCBjYW4gb25seSBiZSBjaGFuZ2VkXG4gKiAgICAgdmlhIHRoZSByZXR1cm4gdmFsdWUgb2YgdGhlIGNvbXB1dGluZyBtZXRob2QuXG4gKlxuICogLSBgc3RhdGljIGdldCBvYnNlcnZlcnMoKWA6IEFycmF5IG9mIHN0cmluZ3MgZGVzY3JpYmluZyBtdWx0aS1wcm9wZXJ0eVxuICogICBvYnNlcnZlciBtZXRob2RzIGFuZCB0aGVpciBkZXBlbmRlbnQgcHJvcGVydGllcyAoZS5nLlxuICogICBgJ29ic2VydmVBQkMoYSwgYiwgYyknYCkuXG4gKlxuICogVGhlIGJhc2UgY2xhc3MgcHJvdmlkZXMgZGVmYXVsdCBpbXBsZW1lbnRhdGlvbnMgZm9yIHRoZSBmb2xsb3dpbmcgc3RhbmRhcmRcbiAqIGN1c3RvbSBlbGVtZW50IGxpZmVjeWNsZSBjYWxsYmFja3M7IHVzZXJzIG1heSBvdmVycmlkZSB0aGVzZSwgYnV0IHNob3VsZFxuICogY2FsbCB0aGUgc3VwZXIgbWV0aG9kIHRvIGVuc3VyZVxuICogLSBgY29uc3RydWN0b3JgOiBSdW4gd2hlbiB0aGUgZWxlbWVudCBpcyBjcmVhdGVkIG9yIHVwZ3JhZGVkXG4gKiAtIGBjb25uZWN0ZWRDYWxsYmFja2A6IFJ1biBlYWNoIHRpbWUgdGhlIGVsZW1lbnQgaXMgY29ubmVjdGVkIHRvIHRoZVxuICogICBkb2N1bWVudFxuICogLSBgZGlzY29ubmVjdGVkQ2FsbGJhY2tgOiBSdW4gZWFjaCB0aW1lIHRoZSBlbGVtZW50IGlzIGRpc2Nvbm5lY3RlZCBmcm9tXG4gKiAgIHRoZSBkb2N1bWVudFxuICogLSBgYXR0cmlidXRlQ2hhbmdlZENhbGxiYWNrYDogUnVuIGVhY2ggdGltZSBhbiBhdHRyaWJ1dGUgaW5cbiAqICAgYG9ic2VydmVkQXR0cmlidXRlc2AgaXMgc2V0IG9yIHJlbW92ZWQgKG5vdGU6IHRoaXMgZWxlbWVudCdzIGRlZmF1bHRcbiAqICAgYG9ic2VydmVkQXR0cmlidXRlc2AgaW1wbGVtZW50YXRpb24gd2lsbCBhdXRvbWF0aWNhbGx5IHJldHVybiBhbiBhcnJheVxuICogICBvZiBkYXNoLWNhc2VkIGF0dHJpYnV0ZXMgYmFzZWQgb24gYHByb3BlcnRpZXNgKVxuICpcbiAqIEBtaXhpbkZ1bmN0aW9uXG4gKiBAcG9seW1lclxuICogQGFwcGxpZXNNaXhpbiBQcm9wZXJ0eUVmZmVjdHNcbiAqIEBhcHBsaWVzTWl4aW4gUHJvcGVydGllc01peGluXG4gKiBAcHJvcGVydHkgcm9vdFBhdGgge3N0cmluZ30gU2V0IHRvIHRoZSB2YWx1ZSBvZiBgcm9vdFBhdGhgLFxuICogICB3aGljaCBkZWZhdWx0cyB0byB0aGUgbWFpbiBkb2N1bWVudCBwYXRoXG4gKiBAcHJvcGVydHkgaW1wb3J0UGF0aCB7c3RyaW5nfSBTZXQgdG8gdGhlIHZhbHVlIG9mIHRoZSBjbGFzcydzIHN0YXRpY1xuICogICBgaW1wb3J0UGF0aGAgcHJvcGVydHksIHdoaWNoIGRlZmF1bHRzIHRvIHRoZSBwYXRoIG9mIHRoaXMgZWxlbWVudCdzXG4gKiAgIGBkb20tbW9kdWxlYCAod2hlbiBgaXNgIGlzIHVzZWQpLCBidXQgY2FuIGJlIG92ZXJyaWRkZW4gZm9yIG90aGVyXG4gKiAgIGltcG9ydCBzdHJhdGVnaWVzLlxuICogQHN1bW1hcnkgRWxlbWVudCBjbGFzcyBtaXhpbiB0aGF0IHByb3ZpZGVzIHRoZSBjb3JlIEFQSSBmb3IgUG9seW1lcidzXG4gKiBtZXRhLXByb2dyYW1taW5nIGZlYXR1cmVzLlxuICovXG5leHBvcnQgY29uc3QgRWxlbWVudE1peGluID0gZGVkdXBpbmdNaXhpbihiYXNlID0+IHtcbiAgLyoqXG4gICAqIEBjb25zdHJ1Y3RvclxuICAgKiBAaW1wbGVtZW50cyB7UG9seW1lcl9Qcm9wZXJ0eUVmZmVjdHN9XG4gICAqIEBpbXBsZW1lbnRzIHtQb2x5bWVyX1Byb3BlcnRpZXNNaXhpbn1cbiAgICogQGV4dGVuZHMge0hUTUxFbGVtZW50fVxuICAgKiBAcHJpdmF0ZVxuICAgKi9cbiAgY29uc3QgcG9seW1lckVsZW1lbnRCYXNlID0gUHJvcGVydGllc01peGluKFByb3BlcnR5RWZmZWN0cyhiYXNlKSk7XG5cbiAgLyoqXG4gICAqIFJldHVybnMgYSBsaXN0IG9mIHByb3BlcnRpZXMgd2l0aCBkZWZhdWx0IHZhbHVlcy5cbiAgICogVGhpcyBsaXN0IGlzIGNyZWF0ZWQgYXMgYW4gb3B0aW1pemF0aW9uIHNpbmNlIGl0IGlzIGEgc3Vic2V0IG9mXG4gICAqIHRoZSBsaXN0IHJldHVybmVkIGZyb20gYF9wcm9wZXJ0aWVzYC5cbiAgICogVGhpcyBsaXN0IGlzIHVzZWQgaW4gYF9pbml0aWFsaXplUHJvcGVydGllc2AgdG8gc2V0IHByb3BlcnR5IGRlZmF1bHRzLlxuICAgKlxuICAgKiBAcGFyYW0ge1BvbHltZXJFbGVtZW50Q29uc3RydWN0b3J9IGNvbnN0cnVjdG9yIEVsZW1lbnQgY2xhc3NcbiAgICogQHJldHVybiB7UG9seW1lckVsZW1lbnRQcm9wZXJ0aWVzfSBGbGF0dGVuZWQgcHJvcGVydGllcyBmb3IgdGhpcyBjbGFzc1xuICAgKiAgIHRoYXQgaGF2ZSBkZWZhdWx0IHZhbHVlc1xuICAgKiBAcHJpdmF0ZVxuICAgKi9cbiAgZnVuY3Rpb24gcHJvcGVydHlEZWZhdWx0cyhjb25zdHJ1Y3Rvcikge1xuICAgIGlmICghY29uc3RydWN0b3IuaGFzT3duUHJvcGVydHkoXG4gICAgICBKU0NvbXBpbGVyX3JlbmFtZVByb3BlcnR5KCdfX3Byb3BlcnR5RGVmYXVsdHMnLCBjb25zdHJ1Y3RvcikpKSB7XG4gICAgICBjb25zdHJ1Y3Rvci5fX3Byb3BlcnR5RGVmYXVsdHMgPSBudWxsO1xuICAgICAgbGV0IHByb3BzID0gY29uc3RydWN0b3IuX3Byb3BlcnRpZXM7XG4gICAgICBmb3IgKGxldCBwIGluIHByb3BzKSB7XG4gICAgICAgIGxldCBpbmZvID0gcHJvcHNbcF07XG4gICAgICAgIGlmICgndmFsdWUnIGluIGluZm8pIHtcbiAgICAgICAgICBjb25zdHJ1Y3Rvci5fX3Byb3BlcnR5RGVmYXVsdHMgPSBjb25zdHJ1Y3Rvci5fX3Byb3BlcnR5RGVmYXVsdHMgfHwge307XG4gICAgICAgICAgY29uc3RydWN0b3IuX19wcm9wZXJ0eURlZmF1bHRzW3BdID0gaW5mbztcbiAgICAgICAgfVxuICAgICAgfVxuICAgIH1cbiAgICByZXR1cm4gY29uc3RydWN0b3IuX19wcm9wZXJ0eURlZmF1bHRzO1xuICB9XG5cbiAgLyoqXG4gICAqIFJldHVybnMgYSBtZW1vaXplZCB2ZXJzaW9uIG9mIHRoZSBgb2JzZXJ2ZXJzYCBhcnJheS5cbiAgICogQHBhcmFtIHtQb2x5bWVyRWxlbWVudENvbnN0cnVjdG9yfSBjb25zdHJ1Y3RvciBFbGVtZW50IGNsYXNzXG4gICAqIEByZXR1cm4ge0FycmF5fSBBcnJheSBjb250YWluaW5nIG93biBvYnNlcnZlcnMgZm9yIHRoZSBnaXZlbiBjbGFzc1xuICAgKiBAcHJvdGVjdGVkXG4gICAqL1xuICBmdW5jdGlvbiBvd25PYnNlcnZlcnMoY29uc3RydWN0b3IpIHtcbiAgICBpZiAoIWNvbnN0cnVjdG9yLmhhc093blByb3BlcnR5KFxuICAgICAgSlNDb21waWxlcl9yZW5hbWVQcm9wZXJ0eSgnX19vd25PYnNlcnZlcnMnLCBjb25zdHJ1Y3RvcikpKSB7XG4gICAgICBjb25zdHJ1Y3Rvci5fX293bk9ic2VydmVycyA9XG4gICAgICAgICAgY29uc3RydWN0b3IuaGFzT3duUHJvcGVydHkoXG4gICAgICAgICAgICAgIEpTQ29tcGlsZXJfcmVuYW1lUHJvcGVydHkoJ29ic2VydmVycycsIGNvbnN0cnVjdG9yKSkgP1xuICAgICAgICAgIC8qKiBAdHlwZSB7UG9seW1lckVsZW1lbnRDb25zdHJ1Y3Rvcn0gKi8gKGNvbnN0cnVjdG9yKS5vYnNlcnZlcnMgOlxuICAgICAgICAgIG51bGw7XG4gICAgfVxuICAgIHJldHVybiBjb25zdHJ1Y3Rvci5fX293bk9ic2VydmVycztcbiAgfVxuXG4gIC8qKlxuICAgKiBDcmVhdGVzIGVmZmVjdHMgZm9yIGEgcHJvcGVydHkuXG4gICAqXG4gICAqIE5vdGUsIG9uY2UgYSBwcm9wZXJ0eSBoYXMgYmVlbiBzZXQgdG9cbiAgICogYHJlYWRPbmx5YCwgYGNvbXB1dGVkYCwgYHJlZmxlY3RUb0F0dHJpYnV0ZWAsIG9yIGBub3RpZnlgXG4gICAqIHRoZXNlIHZhbHVlcyBtYXkgbm90IGJlIGNoYW5nZWQuIEZvciBleGFtcGxlLCBhIHN1YmNsYXNzIGNhbm5vdFxuICAgKiBhbHRlciB0aGVzZSBzZXR0aW5ncy4gSG93ZXZlciwgYWRkaXRpb25hbCBgb2JzZXJ2ZXJzYCBtYXkgYmUgYWRkZWRcbiAgICogYnkgc3ViY2xhc3Nlcy5cbiAgICpcbiAgICogVGhlIGluZm8gb2JqZWN0IHNob3VsZCBjb250YWluIHByb3BlcnR5IG1ldGFkYXRhIGFzIGZvbGxvd3M6XG4gICAqXG4gICAqICogYHR5cGVgOiB7ZnVuY3Rpb259IHR5cGUgdG8gd2hpY2ggYW4gYXR0cmlidXRlIG1hdGNoaW5nIHRoZSBwcm9wZXJ0eVxuICAgKiBpcyBkZXNlcmlhbGl6ZWQuIE5vdGUgdGhlIHByb3BlcnR5IGlzIGNhbWVsLWNhc2VkIGZyb20gYSBkYXNoLWNhc2VkXG4gICAqIGF0dHJpYnV0ZS4gRm9yIGV4YW1wbGUsICdmb28tYmFyJyBhdHRyaWJ1dGUgaXMgZGVzZXJpYWxpemVkIHRvIGFcbiAgICogcHJvcGVydHkgbmFtZWQgJ2Zvb0JhcicuXG4gICAqXG4gICAqICogYHJlYWRPbmx5YDoge2Jvb2xlYW59IGNyZWF0ZXMgYSByZWFkT25seSBwcm9wZXJ0eSBhbmRcbiAgICogbWFrZXMgYSBwcml2YXRlIHNldHRlciBmb3IgdGhlIHByaXZhdGUgb2YgdGhlIGZvcm0gJ19zZXRGb28nIGZvciBhXG4gICAqIHByb3BlcnR5ICdmb28nLFxuICAgKlxuICAgKiAqIGBjb21wdXRlZGA6IHtzdHJpbmd9IGNyZWF0ZXMgYSBjb21wdXRlZCBwcm9wZXJ0eS4gQSBjb21wdXRlZCBwcm9wZXJ0eVxuICAgKiBpcyBhbHNvIGF1dG9tYXRpY2FsbHkgc2V0IHRvIGByZWFkT25seTogdHJ1ZWAuIFRoZSB2YWx1ZSBpcyBjYWxjdWxhdGVkXG4gICAqIGJ5IHJ1bm5pbmcgYSBtZXRob2QgYW5kIGFyZ3VtZW50cyBwYXJzZWQgZnJvbSB0aGUgZ2l2ZW4gc3RyaW5nLiBGb3JcbiAgICogZXhhbXBsZSAnY29tcHV0ZShmb28pJyB3aWxsIGNvbXB1dGUgYSBnaXZlbiBwcm9wZXJ0eSB3aGVuIHRoZVxuICAgKiAnZm9vJyBwcm9wZXJ0eSBjaGFuZ2VzIGJ5IGV4ZWN1dGluZyB0aGUgJ2NvbXB1dGUnIG1ldGhvZC4gVGhpcyBtZXRob2RcbiAgICogbXVzdCByZXR1cm4gdGhlIGNvbXB1dGVkIHZhbHVlLlxuICAgKlxuICAgKiAqIGByZWZsZWN0VG9BdHRyaWJ1dGVgOiB7Ym9vbGVhbn0gSWYgdHJ1ZSwgdGhlIHByb3BlcnR5IHZhbHVlIGlzIHJlZmxlY3RlZFxuICAgKiB0byBhbiBhdHRyaWJ1dGUgb2YgdGhlIHNhbWUgbmFtZS4gTm90ZSwgdGhlIGF0dHJpYnV0ZSBpcyBkYXNoLWNhc2VkXG4gICAqIHNvIGEgcHJvcGVydHkgbmFtZWQgJ2Zvb0JhcicgaXMgcmVmbGVjdGVkIGFzICdmb28tYmFyJy5cbiAgICpcbiAgICogKiBgbm90aWZ5YDoge2Jvb2xlYW59IHNlbmRzIGEgbm9uLWJ1YmJsaW5nIG5vdGlmaWNhdGlvbiBldmVudCB3aGVuXG4gICAqIHRoZSBwcm9wZXJ0eSBjaGFuZ2VzLiBGb3IgZXhhbXBsZSwgYSBwcm9wZXJ0eSBuYW1lZCAnZm9vJyBzZW5kcyBhblxuICAgKiBldmVudCBuYW1lZCAnZm9vLWNoYW5nZWQnIHdpdGggYGV2ZW50LmRldGFpbGAgc2V0IHRvIHRoZSB2YWx1ZSBvZlxuICAgKiB0aGUgcHJvcGVydHkuXG4gICAqXG4gICAqICogb2JzZXJ2ZXI6IHtzdHJpbmd9IG5hbWUgb2YgYSBtZXRob2QgdGhhdCBydW5zIHdoZW4gdGhlIHByb3BlcnR5XG4gICAqIGNoYW5nZXMuIFRoZSBhcmd1bWVudHMgb2YgdGhlIG1ldGhvZCBhcmUgKHZhbHVlLCBwcmV2aW91c1ZhbHVlKS5cbiAgICpcbiAgICogTm90ZTogVXNlcnMgbWF5IHdhbnQgY29udHJvbCBvdmVyIG1vZGlmeWluZyBwcm9wZXJ0eVxuICAgKiBlZmZlY3RzIHZpYSBzdWJjbGFzc2luZy4gRm9yIGV4YW1wbGUsIGEgdXNlciBtaWdodCB3YW50IHRvIG1ha2UgYVxuICAgKiByZWZsZWN0VG9BdHRyaWJ1dGUgcHJvcGVydHkgbm90IGRvIHNvIGluIGEgc3ViY2xhc3MuIFdlJ3ZlIGNob3NlbiB0b1xuICAgKiBkaXNhYmxlIHRoaXMgYmVjYXVzZSBpdCBsZWFkcyB0byBhZGRpdGlvbmFsIGNvbXBsaWNhdGlvbi5cbiAgICogRm9yIGV4YW1wbGUsIGEgcmVhZE9ubHkgZWZmZWN0IGdlbmVyYXRlcyBhIHNwZWNpYWwgc2V0dGVyLiBJZiBhIHN1YmNsYXNzXG4gICAqIGRpc2FibGVzIHRoZSBlZmZlY3QsIHRoZSBzZXR0ZXIgd291bGQgZmFpbCB1bmV4cGVjdGVkbHkuXG4gICAqIEJhc2VkIG9uIGZlZWRiYWNrLCB3ZSBtYXkgd2FudCB0byB0cnkgdG8gbWFrZSBlZmZlY3RzIG1vcmUgbWFsbGVhYmxlXG4gICAqIGFuZC9vciBwcm92aWRlIGFuIGFkdmFuY2VkIGFwaSBmb3IgbWFuaXB1bGF0aW5nIHRoZW0uXG4gICAqXG4gICAqIEBwYXJhbSB7IVBvbHltZXJFbGVtZW50fSBwcm90byBFbGVtZW50IGNsYXNzIHByb3RvdHlwZSB0byBhZGQgYWNjZXNzb3JzXG4gICAqICAgYW5kIGVmZmVjdHMgdG9cbiAgICogQHBhcmFtIHtzdHJpbmd9IG5hbWUgTmFtZSBvZiB0aGUgcHJvcGVydHkuXG4gICAqIEBwYXJhbSB7T2JqZWN0fSBpbmZvIEluZm8gb2JqZWN0IGZyb20gd2hpY2ggdG8gY3JlYXRlIHByb3BlcnR5IGVmZmVjdHMuXG4gICAqIFN1cHBvcnRlZCBrZXlzOlxuICAgKiBAcGFyYW0ge09iamVjdH0gYWxsUHJvcHMgRmxhdHRlbmVkIG1hcCBvZiBhbGwgcHJvcGVydGllcyBkZWZpbmVkIGluIHRoaXNcbiAgICogICBlbGVtZW50IChpbmNsdWRpbmcgaW5oZXJpdGVkIHByb3BlcnRpZXMpXG4gICAqIEByZXR1cm4ge3ZvaWR9XG4gICAqIEBwcml2YXRlXG4gICAqL1xuICBmdW5jdGlvbiBjcmVhdGVQcm9wZXJ0eUZyb21Db25maWcocHJvdG8sIG5hbWUsIGluZm8sIGFsbFByb3BzKSB7XG4gICAgLy8gY29tcHV0ZWQgZm9yY2VzIHJlYWRPbmx5Li4uXG4gICAgaWYgKGluZm8uY29tcHV0ZWQpIHtcbiAgICAgIGluZm8ucmVhZE9ubHkgPSB0cnVlO1xuICAgIH1cbiAgICAvLyBOb3RlLCBzaW5jZSBhbGwgY29tcHV0ZWQgcHJvcGVydGllcyBhcmUgcmVhZE9ubHksIHRoaXMgcHJldmVudHNcbiAgICAvLyBhZGRpbmcgYWRkaXRpb25hbCBjb21wdXRlZCBwcm9wZXJ0eSBlZmZlY3RzICh3aGljaCBsZWFkcyB0byBhIGNvbmZ1c2luZ1xuICAgIC8vIHNldHVwIHdoZXJlIG11bHRpcGxlIHRyaWdnZXJzIGZvciBzZXR0aW5nIGEgcHJvcGVydHkpXG4gICAgLy8gV2hpbGUgd2UgZG8gaGF2ZSBgaGFzQ29tcHV0ZWRFZmZlY3RgIHRoaXMgaXMgc2V0IG9uIHRoZSBwcm9wZXJ0eSdzXG4gICAgLy8gZGVwZW5kZW5jaWVzIHJhdGhlciB0aGFuIGl0c2VsZi5cbiAgICBpZiAoaW5mby5jb21wdXRlZCkge1xuICAgICAgaWYgKHByb3RvLl9oYXNSZWFkT25seUVmZmVjdChuYW1lKSkge1xuICAgICAgICBjb25zb2xlLndhcm4oYENhbm5vdCByZWRlZmluZSBjb21wdXRlZCBwcm9wZXJ0eSAnJHtuYW1lfScuYCk7XG4gICAgICB9IGVsc2Uge1xuICAgICAgICBwcm90by5fY3JlYXRlQ29tcHV0ZWRQcm9wZXJ0eShuYW1lLCBpbmZvLmNvbXB1dGVkLCBhbGxQcm9wcyk7XG4gICAgICB9XG4gICAgfVxuICAgIGlmIChpbmZvLnJlYWRPbmx5ICYmICFwcm90by5faGFzUmVhZE9ubHlFZmZlY3QobmFtZSkpIHtcbiAgICAgIHByb3RvLl9jcmVhdGVSZWFkT25seVByb3BlcnR5KG5hbWUsICFpbmZvLmNvbXB1dGVkKTtcbiAgICB9IGVsc2UgaWYgKGluZm8ucmVhZE9ubHkgPT09IGZhbHNlICYmIHByb3RvLl9oYXNSZWFkT25seUVmZmVjdChuYW1lKSkge1xuICAgICAgY29uc29sZS53YXJuKGBDYW5ub3QgbWFrZSByZWFkT25seSBwcm9wZXJ0eSAnJHtuYW1lfScgbm9uLXJlYWRPbmx5LmApO1xuICAgIH1cbiAgICBpZiAoaW5mby5yZWZsZWN0VG9BdHRyaWJ1dGUgJiYgIXByb3RvLl9oYXNSZWZsZWN0RWZmZWN0KG5hbWUpKSB7XG4gICAgICBwcm90by5fY3JlYXRlUmVmbGVjdGVkUHJvcGVydHkobmFtZSk7XG4gICAgfSBlbHNlIGlmIChpbmZvLnJlZmxlY3RUb0F0dHJpYnV0ZSA9PT0gZmFsc2UgJiYgcHJvdG8uX2hhc1JlZmxlY3RFZmZlY3QobmFtZSkpIHtcbiAgICAgIGNvbnNvbGUud2FybihgQ2Fubm90IG1ha2UgcmVmbGVjdGVkIHByb3BlcnR5ICcke25hbWV9JyBub24tcmVmbGVjdGVkLmApO1xuICAgIH1cbiAgICBpZiAoaW5mby5ub3RpZnkgJiYgIXByb3RvLl9oYXNOb3RpZnlFZmZlY3QobmFtZSkpIHtcbiAgICAgIHByb3RvLl9jcmVhdGVOb3RpZnlpbmdQcm9wZXJ0eShuYW1lKTtcbiAgICB9IGVsc2UgaWYgKGluZm8ubm90aWZ5ID09PSBmYWxzZSAmJiBwcm90by5faGFzTm90aWZ5RWZmZWN0KG5hbWUpKSB7XG4gICAgICBjb25zb2xlLndhcm4oYENhbm5vdCBtYWtlIG5vdGlmeSBwcm9wZXJ0eSAnJHtuYW1lfScgbm9uLW5vdGlmeS5gKTtcbiAgICB9XG4gICAgLy8gYWx3YXlzIGFkZCBvYnNlcnZlclxuICAgIGlmIChpbmZvLm9ic2VydmVyKSB7XG4gICAgICBwcm90by5fY3JlYXRlUHJvcGVydHlPYnNlcnZlcihuYW1lLCBpbmZvLm9ic2VydmVyLCBhbGxQcm9wc1tpbmZvLm9ic2VydmVyXSk7XG4gICAgfVxuICAgIC8vIGFsd2F5cyBjcmVhdGUgdGhlIG1hcHBpbmcgZnJvbSBhdHRyaWJ1dGUgYmFjayB0byBwcm9wZXJ0eSBmb3IgZGVzZXJpYWxpemF0aW9uLlxuICAgIHByb3RvLl9hZGRQcm9wZXJ0eVRvQXR0cmlidXRlTWFwKG5hbWUpO1xuICB9XG5cbiAgLyoqXG4gICAqIFByb2Nlc3MgYWxsIHN0eWxlIGVsZW1lbnRzIGluIHRoZSBlbGVtZW50IHRlbXBsYXRlLiBTdHlsZXMgd2l0aCB0aGVcbiAgICogYGluY2x1ZGVgIGF0dHJpYnV0ZSBhcmUgcHJvY2Vzc2VkIHN1Y2ggdGhhdCBhbnkgc3R5bGVzIGluXG4gICAqIHRoZSBhc3NvY2lhdGVkIFwic3R5bGUgbW9kdWxlc1wiIGFyZSBpbmNsdWRlZCBpbiB0aGUgZWxlbWVudCB0ZW1wbGF0ZS5cbiAgICogQHBhcmFtIHtQb2x5bWVyRWxlbWVudENvbnN0cnVjdG9yfSBrbGFzcyBFbGVtZW50IGNsYXNzXG4gICAqIEBwYXJhbSB7IUhUTUxUZW1wbGF0ZUVsZW1lbnR9IHRlbXBsYXRlIFRlbXBsYXRlIHRvIHByb2Nlc3NcbiAgICogQHBhcmFtIHtzdHJpbmd9IGlzIE5hbWUgb2YgZWxlbWVudFxuICAgKiBAcGFyYW0ge3N0cmluZ30gYmFzZVVSSSBCYXNlIFVSSSBmb3IgZWxlbWVudFxuICAgKiBAcHJpdmF0ZVxuICAgKi9cbiAgZnVuY3Rpb24gcHJvY2Vzc0VsZW1lbnRTdHlsZXMoa2xhc3MsIHRlbXBsYXRlLCBpcywgYmFzZVVSSSkge1xuICAgIGlmICghYnVpbHRDU1MpIHtcbiAgICAgIGNvbnN0IHRlbXBsYXRlU3R5bGVzID0gdGVtcGxhdGUuY29udGVudC5xdWVyeVNlbGVjdG9yQWxsKCdzdHlsZScpO1xuICAgICAgY29uc3Qgc3R5bGVzV2l0aEltcG9ydHMgPSBzdHlsZXNGcm9tVGVtcGxhdGUodGVtcGxhdGUpO1xuICAgICAgLy8gaW5zZXJ0IHN0eWxlcyBmcm9tIDxsaW5rIHJlbD1cImltcG9ydFwiIHR5cGU9XCJjc3NcIj4gYXQgdGhlIHRvcCBvZiB0aGUgdGVtcGxhdGVcbiAgICAgIGNvbnN0IGxpbmtlZFN0eWxlcyA9IHN0eWxlc0Zyb21Nb2R1bGVJbXBvcnRzKGlzKTtcbiAgICAgIGNvbnN0IGZpcnN0VGVtcGxhdGVDaGlsZCA9IHRlbXBsYXRlLmNvbnRlbnQuZmlyc3RFbGVtZW50Q2hpbGQ7XG4gICAgICBmb3IgKGxldCBpZHggPSAwOyBpZHggPCBsaW5rZWRTdHlsZXMubGVuZ3RoOyBpZHgrKykge1xuICAgICAgICBsZXQgcyA9IGxpbmtlZFN0eWxlc1tpZHhdO1xuICAgICAgICBzLnRleHRDb250ZW50ID0ga2xhc3MuX3Byb2Nlc3NTdHlsZVRleHQocy50ZXh0Q29udGVudCwgYmFzZVVSSSk7XG4gICAgICAgIHRlbXBsYXRlLmNvbnRlbnQuaW5zZXJ0QmVmb3JlKHMsIGZpcnN0VGVtcGxhdGVDaGlsZCk7XG4gICAgICB9XG4gICAgICAvLyBrZWVwIHRyYWNrIG9mIHRoZSBsYXN0IFwiY29uY3JldGVcIiBzdHlsZSBpbiB0aGUgdGVtcGxhdGUgd2UgaGF2ZSBlbmNvdW50ZXJlZFxuICAgICAgbGV0IHRlbXBsYXRlU3R5bGVJbmRleCA9IDA7XG4gICAgICAvLyBlbnN1cmUgYWxsIGdhdGhlcmVkIHN0eWxlcyBhcmUgYWN0dWFsbHkgaW4gdGhpcyB0ZW1wbGF0ZS5cbiAgICAgIGZvciAobGV0IGkgPSAwOyBpIDwgc3R5bGVzV2l0aEltcG9ydHMubGVuZ3RoOyBpKyspIHtcbiAgICAgICAgbGV0IHMgPSBzdHlsZXNXaXRoSW1wb3J0c1tpXTtcbiAgICAgICAgbGV0IHRlbXBsYXRlU3R5bGUgPSB0ZW1wbGF0ZVN0eWxlc1t0ZW1wbGF0ZVN0eWxlSW5kZXhdO1xuICAgICAgICAvLyBpZiB0aGUgc3R5bGUgaXMgbm90IGluIHRoaXMgdGVtcGxhdGUsIGl0J3MgYmVlbiBcImluY2x1ZGVkXCIgYW5kXG4gICAgICAgIC8vIHdlIHB1dCBhIGNsb25lIG9mIGl0IGluIHRoZSB0ZW1wbGF0ZSBiZWZvcmUgdGhlIHN0eWxlIHRoYXQgaW5jbHVkZWQgaXRcbiAgICAgICAgaWYgKHRlbXBsYXRlU3R5bGUgIT09IHMpIHtcbiAgICAgICAgICBzID0gcy5jbG9uZU5vZGUodHJ1ZSk7XG4gICAgICAgICAgdGVtcGxhdGVTdHlsZS5wYXJlbnROb2RlLmluc2VydEJlZm9yZShzLCB0ZW1wbGF0ZVN0eWxlKTtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICB0ZW1wbGF0ZVN0eWxlSW5kZXgrKztcbiAgICAgICAgfVxuICAgICAgICBzLnRleHRDb250ZW50ID0ga2xhc3MuX3Byb2Nlc3NTdHlsZVRleHQocy50ZXh0Q29udGVudCwgYmFzZVVSSSk7XG4gICAgICB9XG4gICAgfVxuICAgIGlmICh3aW5kb3cuU2hhZHlDU1MpIHtcbiAgICAgIHdpbmRvdy5TaGFkeUNTUy5wcmVwYXJlVGVtcGxhdGUodGVtcGxhdGUsIGlzKTtcbiAgICB9XG4gIH1cblxuICAvKipcbiAgICogTG9vayB1cCB0ZW1wbGF0ZSBmcm9tIGRvbS1tb2R1bGUgZm9yIGVsZW1lbnRcbiAgICpcbiAgICogQHBhcmFtIHtzdHJpbmd9IGlzIEVsZW1lbnQgbmFtZSB0byBsb29rIHVwXG4gICAqIEByZXR1cm4gez9IVE1MVGVtcGxhdGVFbGVtZW50fHVuZGVmaW5lZH0gVGVtcGxhdGUgZm91bmQgaW4gZG9tIG1vZHVsZSwgb3JcbiAgICogICB1bmRlZmluZWQgaWYgbm90IGZvdW5kXG4gICAqIEBwcm90ZWN0ZWRcbiAgICovXG4gIGZ1bmN0aW9uIGdldFRlbXBsYXRlRnJvbURvbU1vZHVsZShpcykge1xuICAgIGxldCB0ZW1wbGF0ZSA9IG51bGw7XG4gICAgLy8gVW5kZXIgc3RyaWN0VGVtcGxhdGVQb2xpY3kgaW4gMy54KywgZG9tLW1vZHVsZSBsb29rdXAgaXMgb25seSBhbGxvd2VkXG4gICAgLy8gd2hlbiBvcHRlZC1pbiB2aWEgYWxsb3dUZW1wbGF0ZUZyb21Eb21Nb2R1bGVcbiAgICBpZiAoaXMgJiYgKCFzdHJpY3RUZW1wbGF0ZVBvbGljeSB8fCBhbGxvd1RlbXBsYXRlRnJvbURvbU1vZHVsZSkpIHtcbiAgICAgIHRlbXBsYXRlID0gLyoqIEB0eXBlIHs/SFRNTFRlbXBsYXRlRWxlbWVudH0gKi8gKFxuICAgICAgICAgIERvbU1vZHVsZS5pbXBvcnQoaXMsICd0ZW1wbGF0ZScpKTtcbiAgICAgIC8vIFVuZGVyIHN0cmljdFRlbXBsYXRlUG9saWN5LCByZXF1aXJlIGFueSBlbGVtZW50IHdpdGggYW4gYGlzYFxuICAgICAgLy8gc3BlY2lmaWVkIHRvIGhhdmUgYSBkb20tbW9kdWxlXG4gICAgICBpZiAoc3RyaWN0VGVtcGxhdGVQb2xpY3kgJiYgIXRlbXBsYXRlKSB7XG4gICAgICAgIHRocm93IG5ldyBFcnJvcihgc3RyaWN0VGVtcGxhdGVQb2xpY3k6IGV4cGVjdGluZyBkb20tbW9kdWxlIG9yIG51bGwgdGVtcGxhdGUgZm9yICR7aXN9YCk7XG4gICAgICB9XG4gICAgfVxuICAgIHJldHVybiB0ZW1wbGF0ZTtcbiAgfVxuXG4gIC8qKlxuICAgKiBAcG9seW1lclxuICAgKiBAbWl4aW5DbGFzc1xuICAgKiBAdW5yZXN0cmljdGVkXG4gICAqIEBpbXBsZW1lbnRzIHtQb2x5bWVyX0VsZW1lbnRNaXhpbn1cbiAgICogQGV4dGVuZHMge3BvbHltZXJFbGVtZW50QmFzZX1cbiAgICovXG4gIGNsYXNzIFBvbHltZXJFbGVtZW50IGV4dGVuZHMgcG9seW1lckVsZW1lbnRCYXNlIHtcblxuICAgIC8qKlxuICAgICAqIEN1cnJlbnQgUG9seW1lciB2ZXJzaW9uIGluIFNlbXZlciBub3RhdGlvbi5cbiAgICAgKiBAdHlwZSB7c3RyaW5nfSBTZW12ZXIgbm90YXRpb24gb2YgdGhlIGN1cnJlbnQgdmVyc2lvbiBvZiBQb2x5bWVyLlxuICAgICAqL1xuICAgIHN0YXRpYyBnZXQgcG9seW1lckVsZW1lbnRWZXJzaW9uKCkge1xuICAgICAgcmV0dXJuIHZlcnNpb247XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogT3ZlcnJpZGUgb2YgUHJvcGVydGllc01peGluIF9maW5hbGl6ZUNsYXNzIHRvIGNyZWF0ZSBvYnNlcnZlcnMgYW5kXG4gICAgICogZmluZCB0aGUgdGVtcGxhdGUuXG4gICAgICogQHJldHVybiB7dm9pZH1cbiAgICAgKiBAcHJvdGVjdGVkXG4gICAgICogQHN1cHByZXNzIHttaXNzaW5nUHJvcGVydGllc30gSW50ZXJmYWNlcyBpbiBjbG9zdXJlIGRvIG5vdCBpbmhlcml0IHN0YXRpY3MsIGJ1dCBjbGFzc2VzIGRvXG4gICAgICovXG4gICAgc3RhdGljIF9maW5hbGl6ZUNsYXNzKCkge1xuICAgICAgc3VwZXIuX2ZpbmFsaXplQ2xhc3MoKTtcbiAgICAgIGNvbnN0IG9ic2VydmVycyA9IG93bk9ic2VydmVycyh0aGlzKTtcbiAgICAgIGlmIChvYnNlcnZlcnMpIHtcbiAgICAgICAgdGhpcy5jcmVhdGVPYnNlcnZlcnMob2JzZXJ2ZXJzLCB0aGlzLl9wcm9wZXJ0aWVzKTtcbiAgICAgIH1cbiAgICAgIHRoaXMuX3ByZXBhcmVUZW1wbGF0ZSgpO1xuICAgIH1cblxuICAgIHN0YXRpYyBfcHJlcGFyZVRlbXBsYXRlKCkge1xuICAgICAgLy8gbm90ZTogY3JlYXRlIFwid29ya2luZ1wiIHRlbXBsYXRlIHRoYXQgaXMgZmluYWxpemVkIGF0IGluc3RhbmNlIHRpbWVcbiAgICAgIGxldCB0ZW1wbGF0ZSA9IC8qKiBAdHlwZSB7UG9seW1lckVsZW1lbnRDb25zdHJ1Y3Rvcn0gKi8gKHRoaXMpLnRlbXBsYXRlO1xuICAgICAgaWYgKHRlbXBsYXRlKSB7XG4gICAgICAgIGlmICh0eXBlb2YgdGVtcGxhdGUgPT09ICdzdHJpbmcnKSB7XG4gICAgICAgICAgY29uc29sZS5lcnJvcigndGVtcGxhdGUgZ2V0dGVyIG11c3QgcmV0dXJuIEhUTUxUZW1wbGF0ZUVsZW1lbnQnKTtcbiAgICAgICAgICB0ZW1wbGF0ZSA9IG51bGw7XG4gICAgICAgIH0gZWxzZSBpZiAoIWxlZ2FjeU9wdGltaXphdGlvbnMpIHtcbiAgICAgICAgICB0ZW1wbGF0ZSA9IHRlbXBsYXRlLmNsb25lTm9kZSh0cnVlKTtcbiAgICAgICAgfVxuICAgICAgfVxuXG4gICAgICB0aGlzLnByb3RvdHlwZS5fdGVtcGxhdGUgPSB0ZW1wbGF0ZTtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBPdmVycmlkZSBvZiBQcm9wZXJ0aWVzQ2hhbmdlZCBjcmVhdGVQcm9wZXJ0aWVzIHRvIGNyZWF0ZSBhY2Nlc3NvcnNcbiAgICAgKiBhbmQgcHJvcGVydHkgZWZmZWN0cyBmb3IgYWxsIG9mIHRoZSBwcm9wZXJ0aWVzLlxuICAgICAqIEBwYXJhbSB7IU9iamVjdH0gcHJvcHMgLlxuICAgICAqIEByZXR1cm4ge3ZvaWR9XG4gICAgICogQHByb3RlY3RlZFxuICAgICAqL1xuICAgIHN0YXRpYyBjcmVhdGVQcm9wZXJ0aWVzKHByb3BzKSB7XG4gICAgICBmb3IgKGxldCBwIGluIHByb3BzKSB7XG4gICAgICAgIGNyZWF0ZVByb3BlcnR5RnJvbUNvbmZpZyh0aGlzLnByb3RvdHlwZSwgcCwgcHJvcHNbcF0sIHByb3BzKTtcbiAgICAgIH1cbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBDcmVhdGVzIG9ic2VydmVycyBmb3IgdGhlIGdpdmVuIGBvYnNlcnZlcnNgIGFycmF5LlxuICAgICAqIExldmVyYWdlcyBgUHJvcGVydHlFZmZlY3RzYCB0byBjcmVhdGUgb2JzZXJ2ZXJzLlxuICAgICAqIEBwYXJhbSB7T2JqZWN0fSBvYnNlcnZlcnMgQXJyYXkgb2Ygb2JzZXJ2ZXIgZGVzY3JpcHRvcnMgZm9yXG4gICAgICogICB0aGlzIGNsYXNzXG4gICAgICogQHBhcmFtIHtPYmplY3R9IGR5bmFtaWNGbnMgT2JqZWN0IGNvbnRhaW5pbmcga2V5cyBmb3IgYW55IHByb3BlcnRpZXNcbiAgICAgKiAgIHRoYXQgYXJlIGZ1bmN0aW9ucyBhbmQgc2hvdWxkIHRyaWdnZXIgdGhlIGVmZmVjdCB3aGVuIHRoZSBmdW5jdGlvblxuICAgICAqICAgcmVmZXJlbmNlIGlzIGNoYW5nZWRcbiAgICAgKiBAcmV0dXJuIHt2b2lkfVxuICAgICAqIEBwcm90ZWN0ZWRcbiAgICAgKi9cbiAgICBzdGF0aWMgY3JlYXRlT2JzZXJ2ZXJzKG9ic2VydmVycywgZHluYW1pY0Zucykge1xuICAgICAgY29uc3QgcHJvdG8gPSB0aGlzLnByb3RvdHlwZTtcbiAgICAgIGZvciAobGV0IGk9MDsgaSA8IG9ic2VydmVycy5sZW5ndGg7IGkrKykge1xuICAgICAgICBwcm90by5fY3JlYXRlTWV0aG9kT2JzZXJ2ZXIob2JzZXJ2ZXJzW2ldLCBkeW5hbWljRm5zKTtcbiAgICAgIH1cbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBSZXR1cm5zIHRoZSB0ZW1wbGF0ZSB0aGF0IHdpbGwgYmUgc3RhbXBlZCBpbnRvIHRoaXMgZWxlbWVudCdzIHNoYWRvdyByb290LlxuICAgICAqXG4gICAgICogSWYgYSBgc3RhdGljIGdldCBpcygpYCBnZXR0ZXIgaXMgZGVmaW5lZCwgdGhlIGRlZmF1bHQgaW1wbGVtZW50YXRpb25cbiAgICAgKiB3aWxsIHJldHVybiB0aGUgZmlyc3QgYDx0ZW1wbGF0ZT5gIGluIGEgYGRvbS1tb2R1bGVgIHdob3NlIGBpZGBcbiAgICAgKiBtYXRjaGVzIHRoaXMgZWxlbWVudCdzIGBpc2AuXG4gICAgICpcbiAgICAgKiBVc2VycyBtYXkgb3ZlcnJpZGUgdGhpcyBnZXR0ZXIgdG8gcmV0dXJuIGFuIGFyYml0cmFyeSB0ZW1wbGF0ZVxuICAgICAqIChpbiB3aGljaCBjYXNlIHRoZSBgaXNgIGdldHRlciBpcyB1bm5lY2Vzc2FyeSkuIFRoZSB0ZW1wbGF0ZSByZXR1cm5lZFxuICAgICAqIG11c3QgYmUgYW4gYEhUTUxUZW1wbGF0ZUVsZW1lbnRgLlxuICAgICAqXG4gICAgICogTm90ZSB0aGF0IHdoZW4gc3ViY2xhc3NpbmcsIGlmIHRoZSBzdXBlciBjbGFzcyBvdmVycm9kZSB0aGUgZGVmYXVsdFxuICAgICAqIGltcGxlbWVudGF0aW9uIGFuZCB0aGUgc3ViY2xhc3Mgd291bGQgbGlrZSB0byBwcm92aWRlIGFuIGFsdGVybmF0ZVxuICAgICAqIHRlbXBsYXRlIHZpYSBhIGBkb20tbW9kdWxlYCwgaXQgc2hvdWxkIG92ZXJyaWRlIHRoaXMgZ2V0dGVyIGFuZFxuICAgICAqIHJldHVybiBgRG9tTW9kdWxlLmltcG9ydCh0aGlzLmlzLCAndGVtcGxhdGUnKWAuXG4gICAgICpcbiAgICAgKiBJZiBhIHN1YmNsYXNzIHdvdWxkIGxpa2UgdG8gbW9kaWZ5IHRoZSBzdXBlciBjbGFzcyB0ZW1wbGF0ZSwgaXQgc2hvdWxkXG4gICAgICogY2xvbmUgaXQgcmF0aGVyIHRoYW4gbW9kaWZ5IGl0IGluIHBsYWNlLiAgSWYgdGhlIGdldHRlciBkb2VzIGV4cGVuc2l2ZVxuICAgICAqIHdvcmsgc3VjaCBhcyBjbG9uaW5nL21vZGlmeWluZyBhIHRlbXBsYXRlLCBpdCBzaG91bGQgbWVtb2l6ZSB0aGVcbiAgICAgKiB0ZW1wbGF0ZSBmb3IgbWF4aW11bSBwZXJmb3JtYW5jZTpcbiAgICAgKlxuICAgICAqICAgbGV0IG1lbW9pemVkVGVtcGxhdGU7XG4gICAgICogICBjbGFzcyBNeVN1YkNsYXNzIGV4dGVuZHMgTXlTdXBlckNsYXNzIHtcbiAgICAgKiAgICAgc3RhdGljIGdldCB0ZW1wbGF0ZSgpIHtcbiAgICAgKiAgICAgICBpZiAoIW1lbW9pemVkVGVtcGxhdGUpIHtcbiAgICAgKiAgICAgICAgIG1lbW9pemVkVGVtcGxhdGUgPSBzdXBlci50ZW1wbGF0ZS5jbG9uZU5vZGUodHJ1ZSk7XG4gICAgICogICAgICAgICBsZXQgc3ViQ29udGVudCA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ2RpdicpO1xuICAgICAqICAgICAgICAgc3ViQ29udGVudC50ZXh0Q29udGVudCA9ICdUaGlzIGNhbWUgZnJvbSBNeVN1YkNsYXNzJztcbiAgICAgKiAgICAgICAgIG1lbW9pemVkVGVtcGxhdGUuY29udGVudC5hcHBlbmRDaGlsZChzdWJDb250ZW50KTtcbiAgICAgKiAgICAgICB9XG4gICAgICogICAgICAgcmV0dXJuIG1lbW9pemVkVGVtcGxhdGU7XG4gICAgICogICAgIH1cbiAgICAgKiAgIH1cbiAgICAgKlxuICAgICAqIEByZXR1cm4geyFIVE1MVGVtcGxhdGVFbGVtZW50fHN0cmluZ30gVGVtcGxhdGUgdG8gYmUgc3RhbXBlZFxuICAgICAqL1xuICAgIHN0YXRpYyBnZXQgdGVtcGxhdGUoKSB7XG4gICAgICAvLyBFeHBsYW5hdGlvbiBvZiB0ZW1wbGF0ZS1yZWxhdGVkIHByb3BlcnRpZXM6XG4gICAgICAvLyAtIGNvbnN0cnVjdG9yLnRlbXBsYXRlICh0aGlzIGdldHRlcik6IHRoZSB0ZW1wbGF0ZSBmb3IgdGhlIGNsYXNzLlxuICAgICAgLy8gICAgIFRoaXMgY2FuIGNvbWUgZnJvbSB0aGUgcHJvdG90eXBlIChmb3IgbGVnYWN5IGVsZW1lbnRzKSwgZnJvbSBhXG4gICAgICAvLyAgICAgZG9tLW1vZHVsZSwgb3IgZnJvbSB0aGUgc3VwZXIgY2xhc3MncyB0ZW1wbGF0ZSAob3IgY2FuIGJlIG92ZXJyaWRkZW5cbiAgICAgIC8vICAgICBhbHRvZ2V0aGVyIGJ5IHRoZSB1c2VyKVxuICAgICAgLy8gLSBjb25zdHJ1Y3Rvci5fdGVtcGxhdGU6IG1lbW9pemVkIHZlcnNpb24gb2YgY29uc3RydWN0b3IudGVtcGxhdGVcbiAgICAgIC8vIC0gcHJvdG90eXBlLl90ZW1wbGF0ZTogd29ya2luZyB0ZW1wbGF0ZSBmb3IgdGhlIGVsZW1lbnQsIHdoaWNoIHdpbGwgYmVcbiAgICAgIC8vICAgICBwYXJzZWQgYW5kIG1vZGlmaWVkIGluIHBsYWNlLiBJdCBpcyBhIGNsb25lZCB2ZXJzaW9uIG9mXG4gICAgICAvLyAgICAgY29uc3RydWN0b3IudGVtcGxhdGUsIHNhdmVkIGluIF9maW5hbGl6ZUNsYXNzKCkuIE5vdGUgdGhhdCBiZWZvcmVcbiAgICAgIC8vICAgICB0aGlzIGdldHRlciBpcyBjYWxsZWQsIGZvciBsZWdhY3kgZWxlbWVudHMgdGhpcyBjb3VsZCBiZSBmcm9tIGFcbiAgICAgIC8vICAgICBfdGVtcGxhdGUgZmllbGQgb24gdGhlIGluZm8gb2JqZWN0IHBhc3NlZCB0byBQb2x5bWVyKCksIGEgYmVoYXZpb3IsXG4gICAgICAvLyAgICAgb3Igc2V0IGluIHJlZ2lzdGVyZWQoKTsgb25jZSB0aGUgc3RhdGljIGdldHRlciBydW5zLCBhIGNsb25lIG9mIGl0XG4gICAgICAvLyAgICAgd2lsbCBvdmVyd3JpdGUgaXQgb24gdGhlIHByb3RvdHlwZSBhcyB0aGUgd29ya2luZyB0ZW1wbGF0ZS5cbiAgICAgIGlmICghdGhpcy5oYXNPd25Qcm9wZXJ0eShKU0NvbXBpbGVyX3JlbmFtZVByb3BlcnR5KCdfdGVtcGxhdGUnLCB0aGlzKSkpIHtcbiAgICAgICAgdGhpcy5fdGVtcGxhdGUgPVxuICAgICAgICAgIC8vIElmIHVzZXIgaGFzIHB1dCB0ZW1wbGF0ZSBvbiBwcm90b3R5cGUgKGUuZy4gaW4gbGVnYWN5IHZpYSByZWdpc3RlcmVkXG4gICAgICAgICAgLy8gY2FsbGJhY2sgb3IgaW5mbyBvYmplY3QpLCBwcmVmZXIgdGhhdCBmaXJzdFxuICAgICAgICAgIHRoaXMucHJvdG90eXBlLmhhc093blByb3BlcnR5KEpTQ29tcGlsZXJfcmVuYW1lUHJvcGVydHkoJ190ZW1wbGF0ZScsIHRoaXMucHJvdG90eXBlKSkgP1xuICAgICAgICAgIHRoaXMucHJvdG90eXBlLl90ZW1wbGF0ZSA6XG4gICAgICAgICAgLy8gTG9vayBpbiBkb20tbW9kdWxlIGFzc29jaWF0ZWQgd2l0aCB0aGlzIGVsZW1lbnQncyBpc1xuICAgICAgICAgIChnZXRUZW1wbGF0ZUZyb21Eb21Nb2R1bGUoLyoqIEB0eXBlIHtQb2x5bWVyRWxlbWVudENvbnN0cnVjdG9yfSovICh0aGlzKS5pcykgfHxcbiAgICAgICAgICAvLyBOZXh0IGxvb2sgZm9yIHN1cGVyY2xhc3MgdGVtcGxhdGUgKGNhbGwgdGhlIHN1cGVyIGltcGwgdGhpc1xuICAgICAgICAgIC8vIHdheSBzbyB0aGF0IGB0aGlzYCBwb2ludHMgdG8gdGhlIHN1cGVyY2xhc3MpXG4gICAgICAgICAgT2JqZWN0LmdldFByb3RvdHlwZU9mKC8qKiBAdHlwZSB7UG9seW1lckVsZW1lbnRDb25zdHJ1Y3Rvcn0qLyAodGhpcykucHJvdG90eXBlKS5jb25zdHJ1Y3Rvci50ZW1wbGF0ZSk7XG4gICAgICB9XG4gICAgICByZXR1cm4gdGhpcy5fdGVtcGxhdGU7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogU2V0IHRoZSB0ZW1wbGF0ZS5cbiAgICAgKlxuICAgICAqIEBwYXJhbSB7IUhUTUxUZW1wbGF0ZUVsZW1lbnR8c3RyaW5nfSB2YWx1ZSBUZW1wbGF0ZSB0byBzZXQuXG4gICAgICovXG4gICAgc3RhdGljIHNldCB0ZW1wbGF0ZSh2YWx1ZSkge1xuICAgICAgdGhpcy5fdGVtcGxhdGUgPSB2YWx1ZTtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBQYXRoIG1hdGNoaW5nIHRoZSB1cmwgZnJvbSB3aGljaCB0aGUgZWxlbWVudCB3YXMgaW1wb3J0ZWQuXG4gICAgICpcbiAgICAgKiBUaGlzIHBhdGggaXMgdXNlZCB0byByZXNvbHZlIHVybCdzIGluIHRlbXBsYXRlIHN0eWxlIGNzc1RleHQuXG4gICAgICogVGhlIGBpbXBvcnRQYXRoYCBwcm9wZXJ0eSBpcyBhbHNvIHNldCBvbiBlbGVtZW50IGluc3RhbmNlcyBhbmQgY2FuIGJlXG4gICAgICogdXNlZCB0byBjcmVhdGUgYmluZGluZ3MgcmVsYXRpdmUgdG8gdGhlIGltcG9ydCBwYXRoLlxuICAgICAqXG4gICAgICogRm9yIGVsZW1lbnRzIGRlZmluZWQgaW4gRVMgbW9kdWxlcywgdXNlcnMgc2hvdWxkIGltcGxlbWVudFxuICAgICAqIGBzdGF0aWMgZ2V0IGltcG9ydE1ldGEoKSB7IHJldHVybiBpbXBvcnQubWV0YTsgfWAsIGFuZCB0aGUgZGVmYXVsdFxuICAgICAqIGltcGxlbWVudGF0aW9uIG9mIGBpbXBvcnRQYXRoYCB3aWxsICByZXR1cm4gYGltcG9ydC5tZXRhLnVybGAncyBwYXRoLlxuICAgICAqIEZvciBlbGVtZW50cyBkZWZpbmVkIGluIEhUTUwgaW1wb3J0cywgdGhpcyBnZXR0ZXIgd2lsbCByZXR1cm4gdGhlIHBhdGhcbiAgICAgKiB0byB0aGUgZG9jdW1lbnQgY29udGFpbmluZyBhIGBkb20tbW9kdWxlYCBlbGVtZW50IG1hdGNoaW5nIHRoaXNcbiAgICAgKiBlbGVtZW50J3Mgc3RhdGljIGBpc2AgcHJvcGVydHkuXG4gICAgICpcbiAgICAgKiBOb3RlLCB0aGlzIHBhdGggc2hvdWxkIGNvbnRhaW4gYSB0cmFpbGluZyBgL2AuXG4gICAgICpcbiAgICAgKiBAcmV0dXJuIHtzdHJpbmd9IFRoZSBpbXBvcnQgcGF0aCBmb3IgdGhpcyBlbGVtZW50IGNsYXNzXG4gICAgICogQHN1cHByZXNzIHttaXNzaW5nUHJvcGVydGllc31cbiAgICAgKi9cbiAgICBzdGF0aWMgZ2V0IGltcG9ydFBhdGgoKSB7XG4gICAgICBpZiAoIXRoaXMuaGFzT3duUHJvcGVydHkoSlNDb21waWxlcl9yZW5hbWVQcm9wZXJ0eSgnX2ltcG9ydFBhdGgnLCB0aGlzKSkpIHtcbiAgICAgICAgY29uc3QgbWV0YSA9IHRoaXMuaW1wb3J0TWV0YTtcbiAgICAgICAgaWYgKG1ldGEpIHtcbiAgICAgICAgICB0aGlzLl9pbXBvcnRQYXRoID0gcGF0aEZyb21VcmwobWV0YS51cmwpO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgIGNvbnN0IG1vZHVsZSA9IERvbU1vZHVsZS5pbXBvcnQoLyoqIEB0eXBlIHtQb2x5bWVyRWxlbWVudENvbnN0cnVjdG9yfSAqLyAodGhpcykuaXMpO1xuICAgICAgICAgIHRoaXMuX2ltcG9ydFBhdGggPSAobW9kdWxlICYmIG1vZHVsZS5hc3NldHBhdGgpIHx8XG4gICAgICAgICAgICBPYmplY3QuZ2V0UHJvdG90eXBlT2YoLyoqIEB0eXBlIHtQb2x5bWVyRWxlbWVudENvbnN0cnVjdG9yfSovICh0aGlzKS5wcm90b3R5cGUpLmNvbnN0cnVjdG9yLmltcG9ydFBhdGg7XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICAgIHJldHVybiB0aGlzLl9pbXBvcnRQYXRoO1xuICAgIH1cblxuICAgIGNvbnN0cnVjdG9yKCkge1xuICAgICAgc3VwZXIoKTtcbiAgICAgIC8qKiBAdHlwZSB7SFRNTFRlbXBsYXRlRWxlbWVudH0gKi9cbiAgICAgIHRoaXMuX3RlbXBsYXRlO1xuICAgICAgLyoqIEB0eXBlIHtzdHJpbmd9ICovXG4gICAgICB0aGlzLl9pbXBvcnRQYXRoO1xuICAgICAgLyoqIEB0eXBlIHtzdHJpbmd9ICovXG4gICAgICB0aGlzLnJvb3RQYXRoO1xuICAgICAgLyoqIEB0eXBlIHtzdHJpbmd9ICovXG4gICAgICB0aGlzLmltcG9ydFBhdGg7XG4gICAgICAvKiogQHR5cGUge1N0YW1wZWRUZW1wbGF0ZSB8IEhUTUxFbGVtZW50IHwgU2hhZG93Um9vdH0gKi9cbiAgICAgIHRoaXMucm9vdDtcbiAgICAgIC8qKiBAdHlwZSB7IU9iamVjdDxzdHJpbmcsICFFbGVtZW50Pn0gKi9cbiAgICAgIHRoaXMuJDtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBPdmVycmlkZXMgdGhlIGRlZmF1bHQgYFByb3BlcnR5QWNjZXNzb3JzYCB0byBlbnN1cmUgY2xhc3NcbiAgICAgKiBtZXRhcHJvZ3JhbW1pbmcgcmVsYXRlZCB0byBwcm9wZXJ0eSBhY2Nlc3NvcnMgYW5kIGVmZmVjdHMgaGFzXG4gICAgICogY29tcGxldGVkIChjYWxscyBgZmluYWxpemVgKS5cbiAgICAgKlxuICAgICAqIEl0IGFsc28gaW5pdGlhbGl6ZXMgYW55IHByb3BlcnR5IGRlZmF1bHRzIHByb3ZpZGVkIHZpYSBgdmFsdWVgIGluXG4gICAgICogYHByb3BlcnRpZXNgIG1ldGFkYXRhLlxuICAgICAqXG4gICAgICogQHJldHVybiB7dm9pZH1cbiAgICAgKiBAb3ZlcnJpZGVcbiAgICAgKiBAc3VwcHJlc3Mge2ludmFsaWRDYXN0cyxtaXNzaW5nUHJvcGVydGllc30gZ28vbWlzc2luZ2ZucHJvcHNcbiAgICAgKi9cbiAgICBfaW5pdGlhbGl6ZVByb3BlcnRpZXMoKSB7XG4gICAgICB0aGlzLmNvbnN0cnVjdG9yLmZpbmFsaXplKCk7XG4gICAgICAvLyBub3RlOiBmaW5hbGl6ZSB0ZW1wbGF0ZSB3aGVuIHdlIGhhdmUgYWNjZXNzIHRvIGBsb2NhbE5hbWVgIHRvXG4gICAgICAvLyBhdm9pZCBkZXBlbmRlbmNlIG9uIGBpc2AgZm9yIHBvbHlmaWxsaW5nIHN0eWxpbmcuXG4gICAgICB0aGlzLmNvbnN0cnVjdG9yLl9maW5hbGl6ZVRlbXBsYXRlKC8qKiBAdHlwZSB7IUhUTUxFbGVtZW50fSAqLyh0aGlzKS5sb2NhbE5hbWUpO1xuICAgICAgc3VwZXIuX2luaXRpYWxpemVQcm9wZXJ0aWVzKCk7XG4gICAgICAvLyBzZXQgcGF0aCBkZWZhdWx0c1xuICAgICAgdGhpcy5yb290UGF0aCA9IHJvb3RQYXRoO1xuICAgICAgdGhpcy5pbXBvcnRQYXRoID0gdGhpcy5jb25zdHJ1Y3Rvci5pbXBvcnRQYXRoO1xuICAgICAgLy8gYXBwbHkgcHJvcGVydHkgZGVmYXVsdHMuLi5cbiAgICAgIGxldCBwJCA9IHByb3BlcnR5RGVmYXVsdHModGhpcy5jb25zdHJ1Y3Rvcik7XG4gICAgICBpZiAoIXAkKSB7XG4gICAgICAgIHJldHVybjtcbiAgICAgIH1cbiAgICAgIGZvciAobGV0IHAgaW4gcCQpIHtcbiAgICAgICAgbGV0IGluZm8gPSBwJFtwXTtcbiAgICAgICAgLy8gRG9uJ3Qgc2V0IGRlZmF1bHQgdmFsdWUgaWYgdGhlcmUgaXMgYWxyZWFkeSBhbiBvd24gcHJvcGVydHksIHdoaWNoXG4gICAgICAgIC8vIGhhcHBlbnMgd2hlbiBhIGBwcm9wZXJ0aWVzYCBwcm9wZXJ0eSB3aXRoIGRlZmF1bHQgYnV0IG5vIGVmZmVjdHMgaGFkXG4gICAgICAgIC8vIGEgcHJvcGVydHkgc2V0IChlLmcuIGJvdW5kKSBieSBpdHMgaG9zdCBiZWZvcmUgdXBncmFkZVxuICAgICAgICBpZiAoIXRoaXMuaGFzT3duUHJvcGVydHkocCkpIHtcbiAgICAgICAgICBsZXQgdmFsdWUgPSB0eXBlb2YgaW5mby52YWx1ZSA9PSAnZnVuY3Rpb24nID9cbiAgICAgICAgICAgIGluZm8udmFsdWUuY2FsbCh0aGlzKSA6XG4gICAgICAgICAgICBpbmZvLnZhbHVlO1xuICAgICAgICAgIC8vIFNldCB2aWEgYF9zZXRQcm9wZXJ0eWAgaWYgdGhlcmUgaXMgYW4gYWNjZXNzb3IsIHRvIGVuYWJsZVxuICAgICAgICAgIC8vIGluaXRpYWxpemluZyByZWFkT25seSBwcm9wZXJ0eSBkZWZhdWx0c1xuICAgICAgICAgIGlmICh0aGlzLl9oYXNBY2Nlc3NvcihwKSkge1xuICAgICAgICAgICAgdGhpcy5fc2V0UGVuZGluZ1Byb3BlcnR5KHAsIHZhbHVlLCB0cnVlKTtcbiAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgdGhpc1twXSA9IHZhbHVlO1xuICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgfVxuICAgIH1cblxuICAgIC8qKlxuICAgICAqIEdhdGhlciBzdHlsZSB0ZXh0IGZvciBhIHN0eWxlIGVsZW1lbnQgaW4gdGhlIHRlbXBsYXRlLlxuICAgICAqXG4gICAgICogQHBhcmFtIHtzdHJpbmd9IGNzc1RleHQgVGV4dCBjb250YWluaW5nIHN0eWxpbmcgdG8gcHJvY2Vzc1xuICAgICAqIEBwYXJhbSB7c3RyaW5nfSBiYXNlVVJJIEJhc2UgVVJJIHRvIHJlYmFzZSBDU1MgcGF0aHMgYWdhaW5zdFxuICAgICAqIEByZXR1cm4ge3N0cmluZ30gVGhlIHByb2Nlc3NlZCBDU1MgdGV4dFxuICAgICAqIEBwcm90ZWN0ZWRcbiAgICAgKi9cbiAgICBzdGF0aWMgX3Byb2Nlc3NTdHlsZVRleHQoY3NzVGV4dCwgYmFzZVVSSSkge1xuICAgICAgcmV0dXJuIHJlc29sdmVDc3MoY3NzVGV4dCwgYmFzZVVSSSk7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgKiBDb25maWd1cmVzIGFuIGVsZW1lbnQgYHByb3RvYCB0byBmdW5jdGlvbiB3aXRoIGEgZ2l2ZW4gYHRlbXBsYXRlYC5cbiAgICAqIFRoZSBlbGVtZW50IG5hbWUgYGlzYCBhbmQgZXh0ZW5kcyBgZXh0YCBtdXN0IGJlIHNwZWNpZmllZCBmb3IgU2hhZHlDU1NcbiAgICAqIHN0eWxlIHNjb3BpbmcuXG4gICAgKlxuICAgICogQHBhcmFtIHtzdHJpbmd9IGlzIFRhZyBuYW1lIChvciB0eXBlIGV4dGVuc2lvbiBuYW1lKSBmb3IgdGhpcyBlbGVtZW50XG4gICAgKiBAcmV0dXJuIHt2b2lkfVxuICAgICogQHByb3RlY3RlZFxuICAgICovXG4gICAgc3RhdGljIF9maW5hbGl6ZVRlbXBsYXRlKGlzKSB7XG4gICAgICAvKiogQGNvbnN0IHtIVE1MVGVtcGxhdGVFbGVtZW50fSAqL1xuICAgICAgY29uc3QgdGVtcGxhdGUgPSB0aGlzLnByb3RvdHlwZS5fdGVtcGxhdGU7XG4gICAgICBpZiAodGVtcGxhdGUgJiYgIXRlbXBsYXRlLl9fcG9seW1lckZpbmFsaXplZCkge1xuICAgICAgICB0ZW1wbGF0ZS5fX3BvbHltZXJGaW5hbGl6ZWQgPSB0cnVlO1xuICAgICAgICBjb25zdCBpbXBvcnRQYXRoID0gdGhpcy5pbXBvcnRQYXRoO1xuICAgICAgICBjb25zdCBiYXNlVVJJID0gaW1wb3J0UGF0aCA/IHJlc29sdmVVcmwoaW1wb3J0UGF0aCkgOiAnJztcbiAgICAgICAgLy8gZS5nLiBzdXBwb3J0IGBpbmNsdWRlPVwibW9kdWxlLW5hbWVcImAsIGFuZCBTaGFkeUNTU1xuICAgICAgICBwcm9jZXNzRWxlbWVudFN0eWxlcyh0aGlzLCB0ZW1wbGF0ZSwgaXMsIGJhc2VVUkkpO1xuICAgICAgICB0aGlzLnByb3RvdHlwZS5fYmluZFRlbXBsYXRlKHRlbXBsYXRlKTtcbiAgICAgIH1cbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBQcm92aWRlcyBhIGRlZmF1bHQgaW1wbGVtZW50YXRpb24gb2YgdGhlIHN0YW5kYXJkIEN1c3RvbSBFbGVtZW50c1xuICAgICAqIGBjb25uZWN0ZWRDYWxsYmFja2AuXG4gICAgICpcbiAgICAgKiBUaGUgZGVmYXVsdCBpbXBsZW1lbnRhdGlvbiBlbmFibGVzIHRoZSBwcm9wZXJ0eSBlZmZlY3RzIHN5c3RlbSBhbmRcbiAgICAgKiBmbHVzaGVzIGFueSBwZW5kaW5nIHByb3BlcnRpZXMsIGFuZCB1cGRhdGVzIHNoaW1tZWQgQ1NTIHByb3BlcnRpZXNcbiAgICAgKiB3aGVuIHVzaW5nIHRoZSBTaGFkeUNTUyBzY29waW5nL2N1c3RvbSBwcm9wZXJ0aWVzIHBvbHlmaWxsLlxuICAgICAqXG4gICAgICogQG92ZXJyaWRlXG4gICAgICogQHN1cHByZXNzIHttaXNzaW5nUHJvcGVydGllcywgaW52YWxpZENhc3RzfSBTdXBlciBtYXkgb3IgbWF5IG5vdFxuICAgICAqICAgICBpbXBsZW1lbnQgdGhlIGNhbGxiYWNrXG4gICAgICogQHJldHVybiB7dm9pZH1cbiAgICAgKi9cbiAgICBjb25uZWN0ZWRDYWxsYmFjaygpIHtcbiAgICAgIGlmICh3aW5kb3cuU2hhZHlDU1MgJiYgdGhpcy5fdGVtcGxhdGUpIHtcbiAgICAgICAgd2luZG93LlNoYWR5Q1NTLnN0eWxlRWxlbWVudCgvKiogQHR5cGUgeyFIVE1MRWxlbWVudH0gKi8odGhpcykpO1xuICAgICAgfVxuICAgICAgc3VwZXIuY29ubmVjdGVkQ2FsbGJhY2soKTtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBTdGFtcHMgdGhlIGVsZW1lbnQgdGVtcGxhdGUuXG4gICAgICpcbiAgICAgKiBAcmV0dXJuIHt2b2lkfVxuICAgICAqIEBvdmVycmlkZVxuICAgICAqL1xuICAgIHJlYWR5KCkge1xuICAgICAgaWYgKHRoaXMuX3RlbXBsYXRlKSB7XG4gICAgICAgIHRoaXMucm9vdCA9IHRoaXMuX3N0YW1wVGVtcGxhdGUodGhpcy5fdGVtcGxhdGUpO1xuICAgICAgICB0aGlzLiQgPSB0aGlzLnJvb3QuJDtcbiAgICAgIH1cbiAgICAgIHN1cGVyLnJlYWR5KCk7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogSW1wbGVtZW50cyBgUHJvcGVydHlFZmZlY3RzYCdzIGBfcmVhZHlDbGllbnRzYCBjYWxsLiBBdHRhY2hlc1xuICAgICAqIGVsZW1lbnQgZG9tIGJ5IGNhbGxpbmcgYF9hdHRhY2hEb21gIHdpdGggdGhlIGRvbSBzdGFtcGVkIGZyb20gdGhlXG4gICAgICogZWxlbWVudCdzIHRlbXBsYXRlIHZpYSBgX3N0YW1wVGVtcGxhdGVgLiBOb3RlIHRoYXQgdGhpcyBhbGxvd3NcbiAgICAgKiBjbGllbnQgZG9tIHRvIGJlIGF0dGFjaGVkIHRvIHRoZSBlbGVtZW50IHByaW9yIHRvIGFueSBvYnNlcnZlcnNcbiAgICAgKiBydW5uaW5nLlxuICAgICAqXG4gICAgICogQHJldHVybiB7dm9pZH1cbiAgICAgKiBAb3ZlcnJpZGVcbiAgICAgKi9cbiAgICBfcmVhZHlDbGllbnRzKCkge1xuICAgICAgaWYgKHRoaXMuX3RlbXBsYXRlKSB7XG4gICAgICAgIHRoaXMucm9vdCA9IHRoaXMuX2F0dGFjaERvbSgvKiogQHR5cGUge1N0YW1wZWRUZW1wbGF0ZX0gKi8odGhpcy5yb290KSk7XG4gICAgICB9XG4gICAgICAvLyBUaGUgc3VwZXIuX3JlYWR5Q2xpZW50cyBoZXJlIHNldHMgdGhlIGNsaWVudHMgaW5pdGlhbGl6ZWQgZmxhZy5cbiAgICAgIC8vIFdlIG11c3Qgd2FpdCB0byBkbyB0aGlzIHVudGlsIGFmdGVyIGNsaWVudCBkb20gaXMgY3JlYXRlZC9hdHRhY2hlZFxuICAgICAgLy8gc28gdGhhdCB0aGlzIGZsYWcgY2FuIGJlIGNoZWNrZWQgdG8gcHJldmVudCBub3RpZmljYXRpb25zIGZpcmVkXG4gICAgICAvLyBkdXJpbmcgdGhpcyBwcm9jZXNzIGZyb20gYmVpbmcgaGFuZGxlZCBiZWZvcmUgY2xpZW50cyBhcmUgcmVhZHkuXG4gICAgICBzdXBlci5fcmVhZHlDbGllbnRzKCk7XG4gICAgfVxuXG5cbiAgICAvKipcbiAgICAgKiBBdHRhY2hlcyBhbiBlbGVtZW50J3Mgc3RhbXBlZCBkb20gdG8gaXRzZWxmLiBCeSBkZWZhdWx0LFxuICAgICAqIHRoaXMgbWV0aG9kIGNyZWF0ZXMgYSBgc2hhZG93Um9vdGAgYW5kIGFkZHMgdGhlIGRvbSB0byBpdC5cbiAgICAgKiBIb3dldmVyLCB0aGlzIG1ldGhvZCBtYXkgYmUgb3ZlcnJpZGRlbiB0byBhbGxvdyBhbiBlbGVtZW50XG4gICAgICogdG8gcHV0IGl0cyBkb20gaW4gYW5vdGhlciBsb2NhdGlvbi5cbiAgICAgKlxuICAgICAqIEBvdmVycmlkZVxuICAgICAqIEB0aHJvd3Mge0Vycm9yfVxuICAgICAqIEBzdXBwcmVzcyB7bWlzc2luZ1JldHVybn1cbiAgICAgKiBAcGFyYW0ge1N0YW1wZWRUZW1wbGF0ZX0gZG9tIHRvIGF0dGFjaCB0byB0aGUgZWxlbWVudC5cbiAgICAgKiBAcmV0dXJuIHtTaGFkb3dSb290fSBub2RlIHRvIHdoaWNoIHRoZSBkb20gaGFzIGJlZW4gYXR0YWNoZWQuXG4gICAgICovXG4gICAgX2F0dGFjaERvbShkb20pIHtcbiAgICAgIGNvbnN0IG4gPSB3cmFwKHRoaXMpO1xuICAgICAgaWYgKG4uYXR0YWNoU2hhZG93KSB7XG4gICAgICAgIGlmIChkb20pIHtcbiAgICAgICAgICBpZiAoIW4uc2hhZG93Um9vdCkge1xuICAgICAgICAgICAgbi5hdHRhY2hTaGFkb3coe21vZGU6ICdvcGVuJ30pO1xuICAgICAgICAgIH1cbiAgICAgICAgICBuLnNoYWRvd1Jvb3QuYXBwZW5kQ2hpbGQoZG9tKTtcbiAgICAgICAgICBpZiAoc3luY0luaXRpYWxSZW5kZXIgJiYgd2luZG93LlNoYWR5RE9NKSB7XG4gICAgICAgICAgICBTaGFkeURPTS5mbHVzaEluaXRpYWwobi5zaGFkb3dSb290KTtcbiAgICAgICAgICB9XG4gICAgICAgICAgcmV0dXJuIG4uc2hhZG93Um9vdDtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gbnVsbDtcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIHRocm93IG5ldyBFcnJvcignU2hhZG93RE9NIG5vdCBhdmFpbGFibGUuICcgK1xuICAgICAgICAgIC8vIFRPRE8oc29ydmVsbCk6IG1vdmUgdG8gY29tcGlsZS10aW1lIGNvbmRpdGlvbmFsIHdoZW4gc3VwcG9ydGVkXG4gICAgICAgICdQb2x5bWVyRWxlbWVudCBjYW4gY3JlYXRlIGRvbSBhcyBjaGlsZHJlbiBpbnN0ZWFkIG9mIGluICcgK1xuICAgICAgICAnU2hhZG93RE9NIGJ5IHNldHRpbmcgYHRoaXMucm9vdCA9IHRoaXM7XFxgIGJlZm9yZSBcXGByZWFkeVxcYC4nKTtcbiAgICAgIH1cbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBXaGVuIHVzaW5nIHRoZSBTaGFkeUNTUyBzY29waW5nIGFuZCBjdXN0b20gcHJvcGVydHkgc2hpbSwgY2F1c2VzIGFsbFxuICAgICAqIHNoaW1tZWQgc3R5bGVzIGluIHRoaXMgZWxlbWVudCAoYW5kIGl0cyBzdWJ0cmVlKSB0byBiZSB1cGRhdGVkXG4gICAgICogYmFzZWQgb24gY3VycmVudCBjdXN0b20gcHJvcGVydHkgdmFsdWVzLlxuICAgICAqXG4gICAgICogVGhlIG9wdGlvbmFsIHBhcmFtZXRlciBvdmVycmlkZXMgaW5saW5lIGN1c3RvbSBwcm9wZXJ0eSBzdHlsZXMgd2l0aCBhblxuICAgICAqIG9iamVjdCBvZiBwcm9wZXJ0aWVzIHdoZXJlIHRoZSBrZXlzIGFyZSBDU1MgcHJvcGVydGllcywgYW5kIHRoZSB2YWx1ZXNcbiAgICAgKiBhcmUgc3RyaW5ncy5cbiAgICAgKlxuICAgICAqIEV4YW1wbGU6IGB0aGlzLnVwZGF0ZVN0eWxlcyh7Jy0tY29sb3InOiAnYmx1ZSd9KWBcbiAgICAgKlxuICAgICAqIFRoZXNlIHByb3BlcnRpZXMgYXJlIHJldGFpbmVkIHVubGVzcyBhIHZhbHVlIG9mIGBudWxsYCBpcyBzZXQuXG4gICAgICpcbiAgICAgKiBOb3RlOiBUaGlzIGZ1bmN0aW9uIGRvZXMgbm90IHN1cHBvcnQgdXBkYXRpbmcgQ1NTIG1peGlucy5cbiAgICAgKiBZb3UgY2FuIG5vdCBkeW5hbWljYWxseSBjaGFuZ2UgdGhlIHZhbHVlIG9mIGFuIGBAYXBwbHlgLlxuICAgICAqXG4gICAgICogQG92ZXJyaWRlXG4gICAgICogQHBhcmFtIHtPYmplY3Q9fSBwcm9wZXJ0aWVzIEJhZyBvZiBjdXN0b20gcHJvcGVydHkga2V5L3ZhbHVlcyB0b1xuICAgICAqICAgYXBwbHkgdG8gdGhpcyBlbGVtZW50LlxuICAgICAqIEByZXR1cm4ge3ZvaWR9XG4gICAgICogQHN1cHByZXNzIHtpbnZhbGlkQ2FzdHN9XG4gICAgICovXG4gICAgdXBkYXRlU3R5bGVzKHByb3BlcnRpZXMpIHtcbiAgICAgIGlmICh3aW5kb3cuU2hhZHlDU1MpIHtcbiAgICAgICAgd2luZG93LlNoYWR5Q1NTLnN0eWxlU3VidHJlZSgvKiogQHR5cGUgeyFIVE1MRWxlbWVudH0gKi8odGhpcyksIHByb3BlcnRpZXMpO1xuICAgICAgfVxuICAgIH1cblxuICAgIC8qKlxuICAgICAqIFJld3JpdGVzIGEgZ2l2ZW4gVVJMIHJlbGF0aXZlIHRvIGEgYmFzZSBVUkwuIFRoZSBiYXNlIFVSTCBkZWZhdWx0cyB0b1xuICAgICAqIHRoZSBvcmlnaW5hbCBsb2NhdGlvbiBvZiB0aGUgZG9jdW1lbnQgY29udGFpbmluZyB0aGUgYGRvbS1tb2R1bGVgIGZvclxuICAgICAqIHRoaXMgZWxlbWVudC4gVGhpcyBtZXRob2Qgd2lsbCByZXR1cm4gdGhlIHNhbWUgVVJMIGJlZm9yZSBhbmQgYWZ0ZXJcbiAgICAgKiBidW5kbGluZy5cbiAgICAgKlxuICAgICAqIE5vdGUgdGhhdCB0aGlzIGZ1bmN0aW9uIHBlcmZvcm1zIG5vIHJlc29sdXRpb24gZm9yIFVSTHMgdGhhdCBzdGFydFxuICAgICAqIHdpdGggYC9gIChhYnNvbHV0ZSBVUkxzKSBvciBgI2AgKGhhc2ggaWRlbnRpZmllcnMpLiAgRm9yIGdlbmVyYWwgcHVycG9zZVxuICAgICAqIFVSTCByZXNvbHV0aW9uLCB1c2UgYHdpbmRvdy5VUkxgLlxuICAgICAqXG4gICAgICogQG92ZXJyaWRlXG4gICAgICogQHBhcmFtIHtzdHJpbmd9IHVybCBVUkwgdG8gcmVzb2x2ZS5cbiAgICAgKiBAcGFyYW0ge3N0cmluZz19IGJhc2UgT3B0aW9uYWwgYmFzZSBVUkwgdG8gcmVzb2x2ZSBhZ2FpbnN0LCBkZWZhdWx0c1xuICAgICAqIHRvIHRoZSBlbGVtZW50J3MgYGltcG9ydFBhdGhgXG4gICAgICogQHJldHVybiB7c3RyaW5nfSBSZXdyaXR0ZW4gVVJMIHJlbGF0aXZlIHRvIGJhc2VcbiAgICAgKi9cbiAgICByZXNvbHZlVXJsKHVybCwgYmFzZSkge1xuICAgICAgaWYgKCFiYXNlICYmIHRoaXMuaW1wb3J0UGF0aCkge1xuICAgICAgICBiYXNlID0gcmVzb2x2ZVVybCh0aGlzLmltcG9ydFBhdGgpO1xuICAgICAgfVxuICAgICAgcmV0dXJuIHJlc29sdmVVcmwodXJsLCBiYXNlKTtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBPdmVycmlkZXMgYFByb3BlcnR5RWZmZWN0c2AgdG8gYWRkIG1hcCBvZiBkeW5hbWljIGZ1bmN0aW9ucyBvblxuICAgICAqIHRlbXBsYXRlIGluZm8sIGZvciBjb25zdW1wdGlvbiBieSBgUHJvcGVydHlFZmZlY3RzYCB0ZW1wbGF0ZSBiaW5kaW5nXG4gICAgICogY29kZS4gVGhpcyBtYXAgZGV0ZXJtaW5lcyB3aGljaCBtZXRob2QgdGVtcGxhdGVzIHNob3VsZCBoYXZlIGFjY2Vzc29yc1xuICAgICAqIGNyZWF0ZWQgZm9yIHRoZW0uXG4gICAgICpcbiAgICAgKiBAcGFyYW0geyFIVE1MVGVtcGxhdGVFbGVtZW50fSB0ZW1wbGF0ZSBUZW1wbGF0ZVxuICAgICAqIEBwYXJhbSB7IVRlbXBsYXRlSW5mb30gdGVtcGxhdGVJbmZvIFRlbXBsYXRlIG1ldGFkYXRhIGZvciBjdXJyZW50IHRlbXBsYXRlXG4gICAgICogQHBhcmFtIHshTm9kZUluZm99IG5vZGVJbmZvIE5vZGUgbWV0YWRhdGEgZm9yIGN1cnJlbnQgdGVtcGxhdGUuXG4gICAgICogQHJldHVybiB7Ym9vbGVhbn0gLlxuICAgICAqIEBzdXBwcmVzcyB7bWlzc2luZ1Byb3BlcnRpZXN9IEludGVyZmFjZXMgaW4gY2xvc3VyZSBkbyBub3QgaW5oZXJpdCBzdGF0aWNzLCBidXQgY2xhc3NlcyBkb1xuICAgICAqL1xuICAgIHN0YXRpYyBfcGFyc2VUZW1wbGF0ZUNvbnRlbnQodGVtcGxhdGUsIHRlbXBsYXRlSW5mbywgbm9kZUluZm8pIHtcbiAgICAgIHRlbXBsYXRlSW5mby5keW5hbWljRm5zID0gdGVtcGxhdGVJbmZvLmR5bmFtaWNGbnMgfHwgdGhpcy5fcHJvcGVydGllcztcbiAgICAgIHJldHVybiBzdXBlci5fcGFyc2VUZW1wbGF0ZUNvbnRlbnQodGVtcGxhdGUsIHRlbXBsYXRlSW5mbywgbm9kZUluZm8pO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIE92ZXJyaWRlcyBgUHJvcGVydHlFZmZlY3RzYCB0byB3YXJuIG9uIHVzZSBvZiB1bmRlY2xhcmVkIHByb3BlcnRpZXMgaW5cbiAgICAgKiB0ZW1wbGF0ZS5cbiAgICAgKlxuICAgICAqIEBwYXJhbSB7T2JqZWN0fSB0ZW1wbGF0ZUluZm8gVGVtcGxhdGUgbWV0YWRhdGEgdG8gYWRkIGVmZmVjdCB0b1xuICAgICAqIEBwYXJhbSB7c3RyaW5nfSBwcm9wIFByb3BlcnR5IHRoYXQgc2hvdWxkIHRyaWdnZXIgdGhlIGVmZmVjdFxuICAgICAqIEBwYXJhbSB7T2JqZWN0PX0gZWZmZWN0IEVmZmVjdCBtZXRhZGF0YSBvYmplY3RcbiAgICAgKiBAcmV0dXJuIHt2b2lkfVxuICAgICAqIEBwcm90ZWN0ZWRcbiAgICAgKiBAc3VwcHJlc3Mge21pc3NpbmdQcm9wZXJ0aWVzfSBJbnRlcmZhY2VzIGluIGNsb3N1cmUgZG8gbm90IGluaGVyaXQgc3RhdGljcywgYnV0IGNsYXNzZXMgZG9cbiAgICAgKi9cbiAgICBzdGF0aWMgX2FkZFRlbXBsYXRlUHJvcGVydHlFZmZlY3QodGVtcGxhdGVJbmZvLCBwcm9wLCBlZmZlY3QpIHtcbiAgICAgIC8vIFdhcm4gaWYgcHJvcGVydGllcyBhcmUgdXNlZCBpbiB0ZW1wbGF0ZSB3aXRob3V0IGJlaW5nIGRlY2xhcmVkLlxuICAgICAgLy8gUHJvcGVydGllcyBtdXN0IGJlIGxpc3RlZCBpbiBgcHJvcGVydGllc2AgdG8gYmUgaW5jbHVkZWQgaW5cbiAgICAgIC8vIGBvYnNlcnZlZEF0dHJpYnV0ZXNgIHNpbmNlIENFIFYxIHJlYWRzIHRoYXQgYXQgcmVnaXN0cmF0aW9uIHRpbWUsIGFuZFxuICAgICAgLy8gc2luY2Ugd2Ugd2FudCB0byBrZWVwIHRlbXBsYXRlIHBhcnNpbmcgbGF6eSwgd2UgY2FuJ3QgYXV0b21hdGljYWxseVxuICAgICAgLy8gYWRkIHVuZGVjbGFyZWQgcHJvcGVydGllcyB1c2VkIGluIHRlbXBsYXRlcyB0byBgb2JzZXJ2ZWRBdHRyaWJ1dGVzYC5cbiAgICAgIC8vIFRoZSB3YXJuaW5nIGlzIG9ubHkgZW5hYmxlZCBpbiBgbGVnYWN5T3B0aW1pemF0aW9uc2AgbW9kZSwgc2luY2VcbiAgICAgIC8vIHdlIGRvbid0IHdhbnQgdG8gc3BhbSBleGlzdGluZyB1c2VycyB3aG8gbWlnaHQgaGF2ZSBhZG9wdGVkIHRoZVxuICAgICAgLy8gc2hvcnRoYW5kIHdoZW4gYXR0cmlidXRlIGRlc2VyaWFsaXphdGlvbiBpcyBub3QgaW1wb3J0YW50LlxuICAgICAgaWYgKGxlZ2FjeU9wdGltaXphdGlvbnMgJiYgIShwcm9wIGluIHRoaXMuX3Byb3BlcnRpZXMpKSB7XG4gICAgICAgIGNvbnNvbGUud2FybihgUHJvcGVydHkgJyR7cHJvcH0nIHVzZWQgaW4gdGVtcGxhdGUgYnV0IG5vdCBkZWNsYXJlZCBpbiAncHJvcGVydGllcyc7IGAgK1xuICAgICAgICAgIGBhdHRyaWJ1dGUgd2lsbCBub3QgYmUgb2JzZXJ2ZWQuYCk7XG4gICAgICB9XG4gICAgICByZXR1cm4gc3VwZXIuX2FkZFRlbXBsYXRlUHJvcGVydHlFZmZlY3QodGVtcGxhdGVJbmZvLCBwcm9wLCBlZmZlY3QpO1xuICAgIH1cblxuICB9XG5cbiAgcmV0dXJuIFBvbHltZXJFbGVtZW50O1xufSk7XG5cbi8qKlxuICogV2hlbiB1c2luZyB0aGUgU2hhZHlDU1Mgc2NvcGluZyBhbmQgY3VzdG9tIHByb3BlcnR5IHNoaW0sIGNhdXNlcyBhbGxcbiAqIHNoaW1tZWQgYHN0eWxlc2AgKHZpYSBgY3VzdG9tLXN0eWxlYCkgaW4gdGhlIGRvY3VtZW50IChhbmQgaXRzIHN1YnRyZWUpXG4gKiB0byBiZSB1cGRhdGVkIGJhc2VkIG9uIGN1cnJlbnQgY3VzdG9tIHByb3BlcnR5IHZhbHVlcy5cbiAqXG4gKiBUaGUgb3B0aW9uYWwgcGFyYW1ldGVyIG92ZXJyaWRlcyBpbmxpbmUgY3VzdG9tIHByb3BlcnR5IHN0eWxlcyB3aXRoIGFuXG4gKiBvYmplY3Qgb2YgcHJvcGVydGllcyB3aGVyZSB0aGUga2V5cyBhcmUgQ1NTIHByb3BlcnRpZXMsIGFuZCB0aGUgdmFsdWVzXG4gKiBhcmUgc3RyaW5ncy5cbiAqXG4gKiBFeGFtcGxlOiBgdXBkYXRlU3R5bGVzKHsnLS1jb2xvcic6ICdibHVlJ30pYFxuICpcbiAqIFRoZXNlIHByb3BlcnRpZXMgYXJlIHJldGFpbmVkIHVubGVzcyBhIHZhbHVlIG9mIGBudWxsYCBpcyBzZXQuXG4gKlxuICogQHBhcmFtIHtPYmplY3Q9fSBwcm9wcyBCYWcgb2YgY3VzdG9tIHByb3BlcnR5IGtleS92YWx1ZXMgdG9cbiAqICAgYXBwbHkgdG8gdGhlIGRvY3VtZW50LlxuICogQHJldHVybiB7dm9pZH1cbiAqL1xuZXhwb3J0IGNvbnN0IHVwZGF0ZVN0eWxlcyA9IGZ1bmN0aW9uKHByb3BzKSB7XG4gIGlmICh3aW5kb3cuU2hhZHlDU1MpIHtcbiAgICB3aW5kb3cuU2hhZHlDU1Muc3R5bGVEb2N1bWVudChwcm9wcyk7XG4gIH1cbn07XG4iLCIvKipcbkBsaWNlbnNlXG5Db3B5cmlnaHQgKGMpIDIwMTcgVGhlIFBvbHltZXIgUHJvamVjdCBBdXRob3JzLiBBbGwgcmlnaHRzIHJlc2VydmVkLlxuVGhpcyBjb2RlIG1heSBvbmx5IGJlIHVzZWQgdW5kZXIgdGhlIEJTRCBzdHlsZSBsaWNlbnNlIGZvdW5kIGF0IGh0dHA6Ly9wb2x5bWVyLmdpdGh1Yi5pby9MSUNFTlNFLnR4dFxuVGhlIGNvbXBsZXRlIHNldCBvZiBhdXRob3JzIG1heSBiZSBmb3VuZCBhdCBodHRwOi8vcG9seW1lci5naXRodWIuaW8vQVVUSE9SUy50eHRcblRoZSBjb21wbGV0ZSBzZXQgb2YgY29udHJpYnV0b3JzIG1heSBiZSBmb3VuZCBhdCBodHRwOi8vcG9seW1lci5naXRodWIuaW8vQ09OVFJJQlVUT1JTLnR4dFxuQ29kZSBkaXN0cmlidXRlZCBieSBHb29nbGUgYXMgcGFydCBvZiB0aGUgcG9seW1lciBwcm9qZWN0IGlzIGFsc29cbnN1YmplY3QgdG8gYW4gYWRkaXRpb25hbCBJUCByaWdodHMgZ3JhbnQgZm91bmQgYXQgaHR0cDovL3BvbHltZXIuZ2l0aHViLmlvL1BBVEVOVFMudHh0XG4qL1xuaW1wb3J0ICcuLi91dGlscy9ib290LmpzJztcblxuaW1wb3J0IHsgZGVkdXBpbmdNaXhpbiB9IGZyb20gJy4uL3V0aWxzL21peGluLmpzJztcblxuY29uc3Qgd2Fsa2VyID0gZG9jdW1lbnQuY3JlYXRlVHJlZVdhbGtlcihkb2N1bWVudCwgTm9kZUZpbHRlci5TSE9XX0FMTCxcbiAgICBudWxsLCBmYWxzZSk7XG5cbi8vIDEueCBiYWNrd2FyZHMtY29tcGF0aWJsZSBhdXRvLXdyYXBwZXIgZm9yIHRlbXBsYXRlIHR5cGUgZXh0ZW5zaW9uc1xuLy8gVGhpcyBpcyBhIGNsZWFyIGxheWVyaW5nIHZpb2xhdGlvbiBhbmQgZ2l2ZXMgZmF2b3JlZC1uYXRpb24gc3RhdHVzIHRvXG4vLyBkb20taWYgYW5kIGRvbS1yZXBlYXQgdGVtcGxhdGVzLiAgVGhpcyBpcyBhIGNvbmNlaXQgd2UncmUgY2hvb3NpbmcgdG8ga2VlcFxuLy8gYS4pIHRvIGVhc2UgMS54IGJhY2t3YXJkcy1jb21wYXRpYmlsaXR5IGR1ZSB0byBsb3NzIG9mIGBpc2AsIGFuZFxuLy8gYi4pIHRvIG1haW50YWluIGlmL3JlcGVhdCBjYXBhYmlsaXR5IGluIHBhcnNlci1jb25zdHJhaW5lZCBlbGVtZW50c1xuLy8gICAgIChlLmcuIHRhYmxlLCBzZWxlY3QpIGluIGxpZXUgb2YgbmF0aXZlIENFIHR5cGUgZXh0ZW5zaW9ucyB3aXRob3V0XG4vLyAgICAgbWFzc2l2ZSBuZXcgaW52ZW50aW9uIGluIHRoaXMgc3BhY2UgKGUuZy4gZGlyZWN0aXZlIHN5c3RlbSlcbmNvbnN0IHRlbXBsYXRlRXh0ZW5zaW9ucyA9IHtcbiAgJ2RvbS1pZic6IHRydWUsXG4gICdkb20tcmVwZWF0JzogdHJ1ZVxufTtcbmZ1bmN0aW9uIHdyYXBUZW1wbGF0ZUV4dGVuc2lvbihub2RlKSB7XG4gIGxldCBpcyA9IG5vZGUuZ2V0QXR0cmlidXRlKCdpcycpO1xuICBpZiAoaXMgJiYgdGVtcGxhdGVFeHRlbnNpb25zW2lzXSkge1xuICAgIGxldCB0ID0gbm9kZTtcbiAgICB0LnJlbW92ZUF0dHJpYnV0ZSgnaXMnKTtcbiAgICBub2RlID0gdC5vd25lckRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoaXMpO1xuICAgIHQucGFyZW50Tm9kZS5yZXBsYWNlQ2hpbGQobm9kZSwgdCk7XG4gICAgbm9kZS5hcHBlbmRDaGlsZCh0KTtcbiAgICB3aGlsZSh0LmF0dHJpYnV0ZXMubGVuZ3RoKSB7XG4gICAgICBub2RlLnNldEF0dHJpYnV0ZSh0LmF0dHJpYnV0ZXNbMF0ubmFtZSwgdC5hdHRyaWJ1dGVzWzBdLnZhbHVlKTtcbiAgICAgIHQucmVtb3ZlQXR0cmlidXRlKHQuYXR0cmlidXRlc1swXS5uYW1lKTtcbiAgICB9XG4gIH1cbiAgcmV0dXJuIG5vZGU7XG59XG5cbmZ1bmN0aW9uIGZpbmRUZW1wbGF0ZU5vZGUocm9vdCwgbm9kZUluZm8pIHtcbiAgLy8gcmVjdXJzaXZlbHkgYXNjZW5kIHRyZWUgdW50aWwgd2UgaGl0IHJvb3RcbiAgbGV0IHBhcmVudCA9IG5vZGVJbmZvLnBhcmVudEluZm8gJiYgZmluZFRlbXBsYXRlTm9kZShyb290LCBub2RlSW5mby5wYXJlbnRJbmZvKTtcbiAgLy8gdW53aW5kIHRoZSBzdGFjaywgcmV0dXJuaW5nIHRoZSBpbmRleGVkIG5vZGUgYXQgZWFjaCBsZXZlbFxuICBpZiAocGFyZW50KSB7XG4gICAgLy8gbm90ZTogbWFyZ2luYWxseSBmYXN0ZXIgdGhhbiBpbmRleGluZyB2aWEgY2hpbGROb2Rlc1xuICAgIC8vIChodHRwOi8vanNwZXJmLmNvbS9jaGlsZG5vZGVzLWxvb2t1cClcbiAgICB3YWxrZXIuY3VycmVudE5vZGUgPSBwYXJlbnQ7XG4gICAgZm9yIChsZXQgbj13YWxrZXIuZmlyc3RDaGlsZCgpLCBpPTA7IG47IG49d2Fsa2VyLm5leHRTaWJsaW5nKCkpIHtcbiAgICAgIGlmIChub2RlSW5mby5wYXJlbnRJbmRleCA9PT0gaSsrKSB7XG4gICAgICAgIHJldHVybiBuO1xuICAgICAgfVxuICAgIH1cbiAgfSBlbHNlIHtcbiAgICByZXR1cm4gcm9vdDtcbiAgfVxufVxuXG4vLyBjb25zdHJ1Y3QgYCRgIG1hcCAoZnJvbSBpZCBhbm5vdGF0aW9ucylcbmZ1bmN0aW9uIGFwcGx5SWRUb01hcChpbnN0LCBtYXAsIG5vZGUsIG5vZGVJbmZvKSB7XG4gIGlmIChub2RlSW5mby5pZCkge1xuICAgIG1hcFtub2RlSW5mby5pZF0gPSBub2RlO1xuICB9XG59XG5cbi8vIGluc3RhbGwgZXZlbnQgbGlzdGVuZXJzIChmcm9tIGV2ZW50IGFubm90YXRpb25zKVxuZnVuY3Rpb24gYXBwbHlFdmVudExpc3RlbmVyKGluc3QsIG5vZGUsIG5vZGVJbmZvKSB7XG4gIGlmIChub2RlSW5mby5ldmVudHMgJiYgbm9kZUluZm8uZXZlbnRzLmxlbmd0aCkge1xuICAgIGZvciAobGV0IGo9MCwgZSQ9bm9kZUluZm8uZXZlbnRzLCBlOyAoajxlJC5sZW5ndGgpICYmIChlPWUkW2pdKTsgaisrKSB7XG4gICAgICBpbnN0Ll9hZGRNZXRob2RFdmVudExpc3RlbmVyVG9Ob2RlKG5vZGUsIGUubmFtZSwgZS52YWx1ZSwgaW5zdCk7XG4gICAgfVxuICB9XG59XG5cbi8vIHB1c2ggY29uZmlndXJhdGlvbiByZWZlcmVuY2VzIGF0IGNvbmZpZ3VyZSB0aW1lXG5mdW5jdGlvbiBhcHBseVRlbXBsYXRlQ29udGVudChpbnN0LCBub2RlLCBub2RlSW5mbykge1xuICBpZiAobm9kZUluZm8udGVtcGxhdGVJbmZvKSB7XG4gICAgbm9kZS5fdGVtcGxhdGVJbmZvID0gbm9kZUluZm8udGVtcGxhdGVJbmZvO1xuICB9XG59XG5cbmZ1bmN0aW9uIGNyZWF0ZU5vZGVFdmVudEhhbmRsZXIoY29udGV4dCwgZXZlbnROYW1lLCBtZXRob2ROYW1lKSB7XG4gIC8vIEluc3RhbmNlcyBjYW4gb3B0aW9uYWxseSBoYXZlIGEgX21ldGhvZEhvc3Qgd2hpY2ggYWxsb3dzIHJlZGlyZWN0aW5nIHdoZXJlXG4gIC8vIHRvIGZpbmQgbWV0aG9kcy4gQ3VycmVudGx5IHVzZWQgYnkgYHRlbXBsYXRpemVgLlxuICBjb250ZXh0ID0gY29udGV4dC5fbWV0aG9kSG9zdCB8fCBjb250ZXh0O1xuICBsZXQgaGFuZGxlciA9IGZ1bmN0aW9uKGUpIHtcbiAgICBpZiAoY29udGV4dFttZXRob2ROYW1lXSkge1xuICAgICAgY29udGV4dFttZXRob2ROYW1lXShlLCBlLmRldGFpbCk7XG4gICAgfSBlbHNlIHtcbiAgICAgIGNvbnNvbGUud2FybignbGlzdGVuZXIgbWV0aG9kIGAnICsgbWV0aG9kTmFtZSArICdgIG5vdCBkZWZpbmVkJyk7XG4gICAgfVxuICB9O1xuICByZXR1cm4gaGFuZGxlcjtcbn1cblxuLyoqXG4gKiBFbGVtZW50IG1peGluIHRoYXQgcHJvdmlkZXMgYmFzaWMgdGVtcGxhdGUgcGFyc2luZyBhbmQgc3RhbXBpbmcsIGluY2x1ZGluZ1xuICogdGhlIGZvbGxvd2luZyB0ZW1wbGF0ZS1yZWxhdGVkIGZlYXR1cmVzIGZvciBzdGFtcGVkIHRlbXBsYXRlczpcbiAqXG4gKiAtIERlY2xhcmF0aXZlIGV2ZW50IGxpc3RlbmVycyAoYG9uLWV2ZW50bmFtZT1cImxpc3RlbmVyXCJgKVxuICogLSBNYXAgb2Ygbm9kZSBpZCdzIHRvIHN0YW1wZWQgbm9kZSBpbnN0YW5jZXMgKGB0aGlzLiQuaWRgKVxuICogLSBOZXN0ZWQgdGVtcGxhdGUgY29udGVudCBjYWNoaW5nL3JlbW92YWwgYW5kIHJlLWluc3RhbGxhdGlvbiAocGVyZm9ybWFuY2VcbiAqICAgb3B0aW1pemF0aW9uKVxuICpcbiAqIEBtaXhpbkZ1bmN0aW9uXG4gKiBAcG9seW1lclxuICogQHN1bW1hcnkgRWxlbWVudCBjbGFzcyBtaXhpbiB0aGF0IHByb3ZpZGVzIGJhc2ljIHRlbXBsYXRlIHBhcnNpbmcgYW5kIHN0YW1waW5nXG4gKi9cbmV4cG9ydCBjb25zdCBUZW1wbGF0ZVN0YW1wID0gZGVkdXBpbmdNaXhpbihcbiAgICAvKipcbiAgICAgKiBAdGVtcGxhdGUgVFxuICAgICAqIEBwYXJhbSB7ZnVuY3Rpb24obmV3OlQpfSBzdXBlckNsYXNzIENsYXNzIHRvIGFwcGx5IG1peGluIHRvLlxuICAgICAqIEByZXR1cm4ge2Z1bmN0aW9uKG5ldzpUKX0gc3VwZXJDbGFzcyB3aXRoIG1peGluIGFwcGxpZWQuXG4gICAgICovXG4gICAgKHN1cGVyQ2xhc3MpID0+IHtcblxuICAvKipcbiAgICogQHBvbHltZXJcbiAgICogQG1peGluQ2xhc3NcbiAgICogQGltcGxlbWVudHMge1BvbHltZXJfVGVtcGxhdGVTdGFtcH1cbiAgICovXG4gIGNsYXNzIFRlbXBsYXRlU3RhbXAgZXh0ZW5kcyBzdXBlckNsYXNzIHtcblxuICAgIC8qKlxuICAgICAqIFNjYW5zIGEgdGVtcGxhdGUgdG8gcHJvZHVjZSB0ZW1wbGF0ZSBtZXRhZGF0YS5cbiAgICAgKlxuICAgICAqIFRlbXBsYXRlLXNwZWNpZmljIG1ldGFkYXRhIGFyZSBzdG9yZWQgaW4gdGhlIG9iamVjdCByZXR1cm5lZCwgYW5kIG5vZGUtXG4gICAgICogc3BlY2lmaWMgbWV0YWRhdGEgYXJlIHN0b3JlZCBpbiBvYmplY3RzIGluIGl0cyBmbGF0dGVuZWQgYG5vZGVJbmZvTGlzdGBcbiAgICAgKiBhcnJheS4gIE9ubHkgbm9kZXMgaW4gdGhlIHRlbXBsYXRlIHRoYXQgd2VyZSBwYXJzZWQgYXMgbm9kZXMgb2ZcbiAgICAgKiBpbnRlcmVzdCBjb250YWluIGFuIG9iamVjdCBpbiBgbm9kZUluZm9MaXN0YC4gIEVhY2ggYG5vZGVJbmZvYCBvYmplY3RcbiAgICAgKiBjb250YWlucyBhbiBgaW5kZXhgIChgY2hpbGROb2Rlc2AgaW5kZXggaW4gcGFyZW50KSBhbmQgb3B0aW9uYWxseVxuICAgICAqIGBwYXJlbnRgLCB3aGljaCBwb2ludHMgdG8gbm9kZSBpbmZvIG9mIGl0cyBwYXJlbnQgKGluY2x1ZGluZyBpdHMgaW5kZXgpLlxuICAgICAqXG4gICAgICogVGhlIHRlbXBsYXRlIG1ldGFkYXRhIG9iamVjdCByZXR1cm5lZCBmcm9tIHRoaXMgbWV0aG9kIGhhcyB0aGUgZm9sbG93aW5nXG4gICAgICogc3RydWN0dXJlIChtYW55IGZpZWxkcyBvcHRpb25hbCk6XG4gICAgICpcbiAgICAgKiBgYGBqc1xuICAgICAqICAge1xuICAgICAqICAgICAvLyBGbGF0dGVuZWQgbGlzdCBvZiBub2RlIG1ldGFkYXRhIChmb3Igbm9kZXMgdGhhdCBnZW5lcmF0ZWQgbWV0YWRhdGEpXG4gICAgICogICAgIG5vZGVJbmZvTGlzdDogW1xuICAgICAqICAgICAgIHtcbiAgICAgKiAgICAgICAgIC8vIGBpZGAgYXR0cmlidXRlIGZvciBhbnkgbm9kZXMgd2l0aCBpZCdzIGZvciBnZW5lcmF0aW5nIGAkYCBtYXBcbiAgICAgKiAgICAgICAgIGlkOiB7c3RyaW5nfSxcbiAgICAgKiAgICAgICAgIC8vIGBvbi1ldmVudD1cImhhbmRsZXJcImAgbWV0YWRhdGFcbiAgICAgKiAgICAgICAgIGV2ZW50czogW1xuICAgICAqICAgICAgICAgICB7XG4gICAgICogICAgICAgICAgICAgbmFtZToge3N0cmluZ30sICAgLy8gZXZlbnQgbmFtZVxuICAgICAqICAgICAgICAgICAgIHZhbHVlOiB7c3RyaW5nfSwgIC8vIGhhbmRsZXIgbWV0aG9kIG5hbWVcbiAgICAgKiAgICAgICAgICAgfSwgLi4uXG4gICAgICogICAgICAgICBdLFxuICAgICAqICAgICAgICAgLy8gTm90ZXMgd2hlbiB0aGUgdGVtcGxhdGUgY29udGFpbmVkIGEgYDxzbG90PmAgZm9yIHNoYWR5IERPTVxuICAgICAqICAgICAgICAgLy8gb3B0aW1pemF0aW9uIHB1cnBvc2VzXG4gICAgICogICAgICAgICBoYXNJbnNlcnRpb25Qb2ludDoge2Jvb2xlYW59LFxuICAgICAqICAgICAgICAgLy8gRm9yIG5lc3RlZCBgPHRlbXBsYXRlPmBgIG5vZGVzLCBuZXN0ZWQgdGVtcGxhdGUgbWV0YWRhdGFcbiAgICAgKiAgICAgICAgIHRlbXBsYXRlSW5mbzoge29iamVjdH0sIC8vIG5lc3RlZCB0ZW1wbGF0ZSBtZXRhZGF0YVxuICAgICAqICAgICAgICAgLy8gTWV0YWRhdGEgdG8gYWxsb3cgZWZmaWNpZW50IHJldHJpZXZhbCBvZiBpbnN0YW5jZWQgbm9kZVxuICAgICAqICAgICAgICAgLy8gY29ycmVzcG9uZGluZyB0byB0aGlzIG1ldGFkYXRhXG4gICAgICogICAgICAgICBwYXJlbnRJbmZvOiB7bnVtYmVyfSwgICAvLyByZWZlcmVuY2UgdG8gcGFyZW50IG5vZGVJbmZvPlxuICAgICAqICAgICAgICAgcGFyZW50SW5kZXg6IHtudW1iZXJ9LCAgLy8gaW5kZXggaW4gcGFyZW50J3MgYGNoaWxkTm9kZXNgIGNvbGxlY3Rpb25cbiAgICAgKiAgICAgICAgIGluZm9JbmRleDoge251bWJlcn0sICAgIC8vIGluZGV4IG9mIHRoaXMgYG5vZGVJbmZvYCBpbiBgdGVtcGxhdGVJbmZvLm5vZGVJbmZvTGlzdGBcbiAgICAgKiAgICAgICB9LFxuICAgICAqICAgICAgIC4uLlxuICAgICAqICAgICBdLFxuICAgICAqICAgICAvLyBXaGVuIHRydWUsIHRoZSB0ZW1wbGF0ZSBoYWQgdGhlIGBzdHJpcC13aGl0ZXNwYWNlYCBhdHRyaWJ1dGVcbiAgICAgKiAgICAgLy8gb3Igd2FzIG5lc3RlZCBpbiBhIHRlbXBsYXRlIHdpdGggdGhhdCBzZXR0aW5nXG4gICAgICogICAgIHN0cmlwV2hpdGVzcGFjZToge2Jvb2xlYW59LFxuICAgICAqICAgICAvLyBGb3IgbmVzdGVkIHRlbXBsYXRlcywgbmVzdGVkIHRlbXBsYXRlIGNvbnRlbnQgaXMgbW92ZWQgaW50b1xuICAgICAqICAgICAvLyBhIGRvY3VtZW50IGZyYWdtZW50IHN0b3JlZCBoZXJlOyB0aGlzIGlzIGFuIG9wdGltaXphdGlvbiB0b1xuICAgICAqICAgICAvLyBhdm9pZCB0aGUgY29zdCBvZiBuZXN0ZWQgdGVtcGxhdGUgY2xvbmluZ1xuICAgICAqICAgICBjb250ZW50OiB7RG9jdW1lbnRGcmFnbWVudH1cbiAgICAgKiAgIH1cbiAgICAgKiBgYGBcbiAgICAgKlxuICAgICAqIFRoaXMgbWV0aG9kIGtpY2tzIG9mZiBhIHJlY3Vyc2l2ZSB0cmVld2FsayBhcyBmb2xsb3dzOlxuICAgICAqXG4gICAgICogYGBgXG4gICAgICogICAgX3BhcnNlVGVtcGxhdGUgPC0tLS0tLS0tLS0tLS0tLS0tLS0tLStcbiAgICAgKiAgICAgIF9wYXJzZVRlbXBsYXRlQ29udGVudCAgICAgICAgICAgICAgfFxuICAgICAqICAgICAgICBfcGFyc2VUZW1wbGF0ZU5vZGUgIDwtLS0tLS0tLS0tLS18LS0rXG4gICAgICogICAgICAgICAgX3BhcnNlVGVtcGxhdGVOZXN0ZWRUZW1wbGF0ZSAtLSsgIHxcbiAgICAgKiAgICAgICAgICBfcGFyc2VUZW1wbGF0ZUNoaWxkTm9kZXMgLS0tLS0tLS0tK1xuICAgICAqICAgICAgICAgIF9wYXJzZVRlbXBsYXRlTm9kZUF0dHJpYnV0ZXNcbiAgICAgKiAgICAgICAgICAgIF9wYXJzZVRlbXBsYXRlTm9kZUF0dHJpYnV0ZVxuICAgICAqXG4gICAgICogYGBgXG4gICAgICpcbiAgICAgKiBUaGVzZSBtZXRob2RzIG1heSBiZSBvdmVycmlkZGVuIHRvIGFkZCBjdXN0b20gbWV0YWRhdGEgYWJvdXQgdGVtcGxhdGVzXG4gICAgICogdG8gZWl0aGVyIGB0ZW1wbGF0ZUluZm9gIG9yIGBub2RlSW5mb2AuXG4gICAgICpcbiAgICAgKiBOb3RlIHRoYXQgdGhpcyBtZXRob2QgbWF5IGJlIGRlc3RydWN0aXZlIHRvIHRoZSB0ZW1wbGF0ZSwgaW4gdGhhdFxuICAgICAqIGUuZy4gZXZlbnQgYW5ub3RhdGlvbnMgbWF5IGJlIHJlbW92ZWQgYWZ0ZXIgYmVpbmcgbm90ZWQgaW4gdGhlXG4gICAgICogdGVtcGxhdGUgbWV0YWRhdGEuXG4gICAgICpcbiAgICAgKiBAcGFyYW0geyFIVE1MVGVtcGxhdGVFbGVtZW50fSB0ZW1wbGF0ZSBUZW1wbGF0ZSB0byBwYXJzZVxuICAgICAqIEBwYXJhbSB7VGVtcGxhdGVJbmZvPX0gb3V0ZXJUZW1wbGF0ZUluZm8gVGVtcGxhdGUgbWV0YWRhdGEgZnJvbSB0aGUgb3V0ZXJcbiAgICAgKiAgIHRlbXBsYXRlLCBmb3IgcGFyc2luZyBuZXN0ZWQgdGVtcGxhdGVzXG4gICAgICogQHJldHVybiB7IVRlbXBsYXRlSW5mb30gUGFyc2VkIHRlbXBsYXRlIG1ldGFkYXRhXG4gICAgICovXG4gICAgc3RhdGljIF9wYXJzZVRlbXBsYXRlKHRlbXBsYXRlLCBvdXRlclRlbXBsYXRlSW5mbykge1xuICAgICAgLy8gc2luY2UgYSB0ZW1wbGF0ZSBtYXkgYmUgcmUtdXNlZCwgbWVtby1pemUgbWV0YWRhdGFcbiAgICAgIGlmICghdGVtcGxhdGUuX3RlbXBsYXRlSW5mbykge1xuICAgICAgICBsZXQgdGVtcGxhdGVJbmZvID0gdGVtcGxhdGUuX3RlbXBsYXRlSW5mbyA9IHt9O1xuICAgICAgICB0ZW1wbGF0ZUluZm8ubm9kZUluZm9MaXN0ID0gW107XG4gICAgICAgIHRlbXBsYXRlSW5mby5zdHJpcFdoaXRlU3BhY2UgPVxuICAgICAgICAgIChvdXRlclRlbXBsYXRlSW5mbyAmJiBvdXRlclRlbXBsYXRlSW5mby5zdHJpcFdoaXRlU3BhY2UpIHx8XG4gICAgICAgICAgdGVtcGxhdGUuaGFzQXR0cmlidXRlKCdzdHJpcC13aGl0ZXNwYWNlJyk7XG4gICAgICAgIHRoaXMuX3BhcnNlVGVtcGxhdGVDb250ZW50KHRlbXBsYXRlLCB0ZW1wbGF0ZUluZm8sIHtwYXJlbnQ6IG51bGx9KTtcbiAgICAgIH1cbiAgICAgIHJldHVybiB0ZW1wbGF0ZS5fdGVtcGxhdGVJbmZvO1xuICAgIH1cblxuICAgIHN0YXRpYyBfcGFyc2VUZW1wbGF0ZUNvbnRlbnQodGVtcGxhdGUsIHRlbXBsYXRlSW5mbywgbm9kZUluZm8pIHtcbiAgICAgIHJldHVybiB0aGlzLl9wYXJzZVRlbXBsYXRlTm9kZSh0ZW1wbGF0ZS5jb250ZW50LCB0ZW1wbGF0ZUluZm8sIG5vZGVJbmZvKTtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBQYXJzZXMgdGVtcGxhdGUgbm9kZSBhbmQgYWRkcyB0ZW1wbGF0ZSBhbmQgbm9kZSBtZXRhZGF0YSBiYXNlZCBvblxuICAgICAqIHRoZSBjdXJyZW50IG5vZGUsIGFuZCBpdHMgYGNoaWxkTm9kZXNgIGFuZCBgYXR0cmlidXRlc2AuXG4gICAgICpcbiAgICAgKiBUaGlzIG1ldGhvZCBtYXkgYmUgb3ZlcnJpZGRlbiB0byBhZGQgY3VzdG9tIG5vZGUgb3IgdGVtcGxhdGUgc3BlY2lmaWNcbiAgICAgKiBtZXRhZGF0YSBiYXNlZCBvbiB0aGlzIG5vZGUuXG4gICAgICpcbiAgICAgKiBAcGFyYW0ge05vZGV9IG5vZGUgTm9kZSB0byBwYXJzZVxuICAgICAqIEBwYXJhbSB7IVRlbXBsYXRlSW5mb30gdGVtcGxhdGVJbmZvIFRlbXBsYXRlIG1ldGFkYXRhIGZvciBjdXJyZW50IHRlbXBsYXRlXG4gICAgICogQHBhcmFtIHshTm9kZUluZm99IG5vZGVJbmZvIE5vZGUgbWV0YWRhdGEgZm9yIGN1cnJlbnQgdGVtcGxhdGUuXG4gICAgICogQHJldHVybiB7Ym9vbGVhbn0gYHRydWVgIGlmIHRoZSB2aXNpdGVkIG5vZGUgYWRkZWQgbm9kZS1zcGVjaWZpY1xuICAgICAqICAgbWV0YWRhdGEgdG8gYG5vZGVJbmZvYFxuICAgICAqL1xuICAgIHN0YXRpYyBfcGFyc2VUZW1wbGF0ZU5vZGUobm9kZSwgdGVtcGxhdGVJbmZvLCBub2RlSW5mbykge1xuICAgICAgbGV0IG5vdGVkO1xuICAgICAgbGV0IGVsZW1lbnQgPSAvKiogQHR5cGUge0VsZW1lbnR9ICovKG5vZGUpO1xuICAgICAgaWYgKGVsZW1lbnQubG9jYWxOYW1lID09ICd0ZW1wbGF0ZScgJiYgIWVsZW1lbnQuaGFzQXR0cmlidXRlKCdwcmVzZXJ2ZS1jb250ZW50JykpIHtcbiAgICAgICAgbm90ZWQgPSB0aGlzLl9wYXJzZVRlbXBsYXRlTmVzdGVkVGVtcGxhdGUoZWxlbWVudCwgdGVtcGxhdGVJbmZvLCBub2RlSW5mbykgfHwgbm90ZWQ7XG4gICAgICB9IGVsc2UgaWYgKGVsZW1lbnQubG9jYWxOYW1lID09PSAnc2xvdCcpIHtcbiAgICAgICAgLy8gRm9yIFNoYWR5RG9tIG9wdGltaXphdGlvbiwgaW5kaWNhdGluZyB0aGVyZSBpcyBhbiBpbnNlcnRpb24gcG9pbnRcbiAgICAgICAgdGVtcGxhdGVJbmZvLmhhc0luc2VydGlvblBvaW50ID0gdHJ1ZTtcbiAgICAgIH1cbiAgICAgIHdhbGtlci5jdXJyZW50Tm9kZSA9IGVsZW1lbnQ7XG4gICAgICBpZiAod2Fsa2VyLmZpcnN0Q2hpbGQoKSkge1xuICAgICAgICBub3RlZCA9IHRoaXMuX3BhcnNlVGVtcGxhdGVDaGlsZE5vZGVzKGVsZW1lbnQsIHRlbXBsYXRlSW5mbywgbm9kZUluZm8pIHx8IG5vdGVkO1xuICAgICAgfVxuICAgICAgaWYgKGVsZW1lbnQuaGFzQXR0cmlidXRlcyAmJiBlbGVtZW50Lmhhc0F0dHJpYnV0ZXMoKSkge1xuICAgICAgICBub3RlZCA9IHRoaXMuX3BhcnNlVGVtcGxhdGVOb2RlQXR0cmlidXRlcyhlbGVtZW50LCB0ZW1wbGF0ZUluZm8sIG5vZGVJbmZvKSB8fCBub3RlZDtcbiAgICAgIH1cbiAgICAgIHJldHVybiBub3RlZDtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBQYXJzZXMgdGVtcGxhdGUgY2hpbGQgbm9kZXMgZm9yIHRoZSBnaXZlbiByb290IG5vZGUuXG4gICAgICpcbiAgICAgKiBUaGlzIG1ldGhvZCBhbHNvIHdyYXBzIHdoaXRlbGlzdGVkIGxlZ2FjeSB0ZW1wbGF0ZSBleHRlbnNpb25zXG4gICAgICogKGBpcz1cImRvbS1pZlwiYCBhbmQgYGlzPVwiZG9tLXJlcGVhdFwiYCkgd2l0aCB0aGVpciBlcXVpdmFsZW50IGVsZW1lbnRcbiAgICAgKiB3cmFwcGVycywgY29sbGFwc2VzIHRleHQgbm9kZXMsIGFuZCBzdHJpcHMgd2hpdGVzcGFjZSBmcm9tIHRoZSB0ZW1wbGF0ZVxuICAgICAqIGlmIHRoZSBgdGVtcGxhdGVJbmZvLnN0cmlwV2hpdGVzcGFjZWAgc2V0dGluZyB3YXMgcHJvdmlkZWQuXG4gICAgICpcbiAgICAgKiBAcGFyYW0ge05vZGV9IHJvb3QgUm9vdCBub2RlIHdob3NlIGBjaGlsZE5vZGVzYCB3aWxsIGJlIHBhcnNlZFxuICAgICAqIEBwYXJhbSB7IVRlbXBsYXRlSW5mb30gdGVtcGxhdGVJbmZvIFRlbXBsYXRlIG1ldGFkYXRhIGZvciBjdXJyZW50IHRlbXBsYXRlXG4gICAgICogQHBhcmFtIHshTm9kZUluZm99IG5vZGVJbmZvIE5vZGUgbWV0YWRhdGEgZm9yIGN1cnJlbnQgdGVtcGxhdGUuXG4gICAgICogQHJldHVybiB7dm9pZH1cbiAgICAgKi9cbiAgICBzdGF0aWMgX3BhcnNlVGVtcGxhdGVDaGlsZE5vZGVzKHJvb3QsIHRlbXBsYXRlSW5mbywgbm9kZUluZm8pIHtcbiAgICAgIGlmIChyb290LmxvY2FsTmFtZSA9PT0gJ3NjcmlwdCcgfHwgcm9vdC5sb2NhbE5hbWUgPT09ICdzdHlsZScpIHtcbiAgICAgICAgcmV0dXJuO1xuICAgICAgfVxuICAgICAgd2Fsa2VyLmN1cnJlbnROb2RlID0gcm9vdDtcbiAgICAgIGZvciAobGV0IG5vZGU9d2Fsa2VyLmZpcnN0Q2hpbGQoKSwgcGFyZW50SW5kZXg9MCwgbmV4dDsgbm9kZTsgbm9kZT1uZXh0KSB7XG4gICAgICAgIC8vIFdyYXAgdGVtcGxhdGVzXG4gICAgICAgIGlmIChub2RlLmxvY2FsTmFtZSA9PSAndGVtcGxhdGUnKSB7XG4gICAgICAgICAgbm9kZSA9IHdyYXBUZW1wbGF0ZUV4dGVuc2lvbihub2RlKTtcbiAgICAgICAgfVxuICAgICAgICAvLyBjb2xsYXBzZSBhZGphY2VudCB0ZXh0Tm9kZXM6IGZpeGVzIGFuIElFIGlzc3VlIHRoYXQgY2FuIGNhdXNlXG4gICAgICAgIC8vIHRleHQgbm9kZXMgdG8gYmUgaW5leHBsaWNhYmx5IHNwbGl0ID0oXG4gICAgICAgIC8vIG5vdGUgdGhhdCByb290Lm5vcm1hbGl6ZSgpIHNob3VsZCB3b3JrIGJ1dCBkb2VzIG5vdCBzbyB3ZSBkbyB0aGlzXG4gICAgICAgIC8vIG1hbnVhbGx5LlxuICAgICAgICB3YWxrZXIuY3VycmVudE5vZGUgPSBub2RlO1xuICAgICAgICBuZXh0ID0gd2Fsa2VyLm5leHRTaWJsaW5nKCk7XG4gICAgICAgIGlmIChub2RlLm5vZGVUeXBlID09PSBOb2RlLlRFWFRfTk9ERSkge1xuICAgICAgICAgIGxldCAvKiogTm9kZSAqLyBuID0gbmV4dDtcbiAgICAgICAgICB3aGlsZSAobiAmJiAobi5ub2RlVHlwZSA9PT0gTm9kZS5URVhUX05PREUpKSB7XG4gICAgICAgICAgICBub2RlLnRleHRDb250ZW50ICs9IG4udGV4dENvbnRlbnQ7XG4gICAgICAgICAgICBuZXh0ID0gd2Fsa2VyLm5leHRTaWJsaW5nKCk7XG4gICAgICAgICAgICByb290LnJlbW92ZUNoaWxkKG4pO1xuICAgICAgICAgICAgbiA9IG5leHQ7XG4gICAgICAgICAgfVxuICAgICAgICAgIC8vIG9wdGlvbmFsbHkgc3RyaXAgd2hpdGVzcGFjZVxuICAgICAgICAgIGlmICh0ZW1wbGF0ZUluZm8uc3RyaXBXaGl0ZVNwYWNlICYmICFub2RlLnRleHRDb250ZW50LnRyaW0oKSkge1xuICAgICAgICAgICAgcm9vdC5yZW1vdmVDaGlsZChub2RlKTtcbiAgICAgICAgICAgIGNvbnRpbnVlO1xuICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICBsZXQgY2hpbGRJbmZvID0geyBwYXJlbnRJbmRleCwgcGFyZW50SW5mbzogbm9kZUluZm8gfTtcbiAgICAgICAgaWYgKHRoaXMuX3BhcnNlVGVtcGxhdGVOb2RlKG5vZGUsIHRlbXBsYXRlSW5mbywgY2hpbGRJbmZvKSkge1xuICAgICAgICAgIGNoaWxkSW5mby5pbmZvSW5kZXggPSB0ZW1wbGF0ZUluZm8ubm9kZUluZm9MaXN0LnB1c2goLyoqIEB0eXBlIHshTm9kZUluZm99ICovKGNoaWxkSW5mbykpIC0gMTtcbiAgICAgICAgfVxuICAgICAgICAvLyBJbmNyZW1lbnQgaWYgbm90IHJlbW92ZWRcbiAgICAgICAgd2Fsa2VyLmN1cnJlbnROb2RlID0gbm9kZTtcbiAgICAgICAgaWYgKHdhbGtlci5wYXJlbnROb2RlKCkpIHtcbiAgICAgICAgICBwYXJlbnRJbmRleCsrO1xuICAgICAgICB9XG4gICAgICB9XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogUGFyc2VzIHRlbXBsYXRlIGNvbnRlbnQgZm9yIHRoZSBnaXZlbiBuZXN0ZWQgYDx0ZW1wbGF0ZT5gLlxuICAgICAqXG4gICAgICogTmVzdGVkIHRlbXBsYXRlIGluZm8gaXMgc3RvcmVkIGFzIGB0ZW1wbGF0ZUluZm9gIGluIHRoZSBjdXJyZW50IG5vZGUnc1xuICAgICAqIGBub2RlSW5mb2AuIGB0ZW1wbGF0ZS5jb250ZW50YCBpcyByZW1vdmVkIGFuZCBzdG9yZWQgaW4gYHRlbXBsYXRlSW5mb2AuXG4gICAgICogSXQgd2lsbCB0aGVuIGJlIHRoZSByZXNwb25zaWJpbGl0eSBvZiB0aGUgaG9zdCB0byBzZXQgaXQgYmFjayB0byB0aGVcbiAgICAgKiB0ZW1wbGF0ZSBhbmQgZm9yIHVzZXJzIHN0YW1waW5nIG5lc3RlZCB0ZW1wbGF0ZXMgdG8gdXNlIHRoZVxuICAgICAqIGBfY29udGVudEZvclRlbXBsYXRlYCBtZXRob2QgdG8gcmV0cmlldmUgdGhlIGNvbnRlbnQgZm9yIHRoaXMgdGVtcGxhdGVcbiAgICAgKiAoYW4gb3B0aW1pemF0aW9uIHRvIGF2b2lkIHRoZSBjb3N0IG9mIGNsb25pbmcgbmVzdGVkIHRlbXBsYXRlIGNvbnRlbnQpLlxuICAgICAqXG4gICAgICogQHBhcmFtIHtIVE1MVGVtcGxhdGVFbGVtZW50fSBub2RlIE5vZGUgdG8gcGFyc2UgKGEgPHRlbXBsYXRlPilcbiAgICAgKiBAcGFyYW0ge1RlbXBsYXRlSW5mb30gb3V0ZXJUZW1wbGF0ZUluZm8gVGVtcGxhdGUgbWV0YWRhdGEgZm9yIGN1cnJlbnQgdGVtcGxhdGVcbiAgICAgKiAgIHRoYXQgaW5jbHVkZXMgdGhlIHRlbXBsYXRlIGBub2RlYFxuICAgICAqIEBwYXJhbSB7IU5vZGVJbmZvfSBub2RlSW5mbyBOb2RlIG1ldGFkYXRhIGZvciBjdXJyZW50IHRlbXBsYXRlLlxuICAgICAqIEByZXR1cm4ge2Jvb2xlYW59IGB0cnVlYCBpZiB0aGUgdmlzaXRlZCBub2RlIGFkZGVkIG5vZGUtc3BlY2lmaWNcbiAgICAgKiAgIG1ldGFkYXRhIHRvIGBub2RlSW5mb2BcbiAgICAgKi9cbiAgICBzdGF0aWMgX3BhcnNlVGVtcGxhdGVOZXN0ZWRUZW1wbGF0ZShub2RlLCBvdXRlclRlbXBsYXRlSW5mbywgbm9kZUluZm8pIHtcbiAgICAgIGxldCB0ZW1wbGF0ZUluZm8gPSB0aGlzLl9wYXJzZVRlbXBsYXRlKG5vZGUsIG91dGVyVGVtcGxhdGVJbmZvKTtcbiAgICAgIGxldCBjb250ZW50ID0gdGVtcGxhdGVJbmZvLmNvbnRlbnQgPVxuICAgICAgICBub2RlLmNvbnRlbnQub3duZXJEb2N1bWVudC5jcmVhdGVEb2N1bWVudEZyYWdtZW50KCk7XG4gICAgICBjb250ZW50LmFwcGVuZENoaWxkKG5vZGUuY29udGVudCk7XG4gICAgICBub2RlSW5mby50ZW1wbGF0ZUluZm8gPSB0ZW1wbGF0ZUluZm87XG4gICAgICByZXR1cm4gdHJ1ZTtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBQYXJzZXMgdGVtcGxhdGUgbm9kZSBhdHRyaWJ1dGVzIGFuZCBhZGRzIG5vZGUgbWV0YWRhdGEgdG8gYG5vZGVJbmZvYFxuICAgICAqIGZvciBub2RlcyBvZiBpbnRlcmVzdC5cbiAgICAgKlxuICAgICAqIEBwYXJhbSB7RWxlbWVudH0gbm9kZSBOb2RlIHRvIHBhcnNlXG4gICAgICogQHBhcmFtIHtUZW1wbGF0ZUluZm99IHRlbXBsYXRlSW5mbyBUZW1wbGF0ZSBtZXRhZGF0YSBmb3IgY3VycmVudCB0ZW1wbGF0ZVxuICAgICAqIEBwYXJhbSB7Tm9kZUluZm99IG5vZGVJbmZvIE5vZGUgbWV0YWRhdGEgZm9yIGN1cnJlbnQgdGVtcGxhdGUuXG4gICAgICogQHJldHVybiB7Ym9vbGVhbn0gYHRydWVgIGlmIHRoZSB2aXNpdGVkIG5vZGUgYWRkZWQgbm9kZS1zcGVjaWZpY1xuICAgICAqICAgbWV0YWRhdGEgdG8gYG5vZGVJbmZvYFxuICAgICAqL1xuICAgIHN0YXRpYyBfcGFyc2VUZW1wbGF0ZU5vZGVBdHRyaWJ1dGVzKG5vZGUsIHRlbXBsYXRlSW5mbywgbm9kZUluZm8pIHtcbiAgICAgIC8vIE1ha2UgY29weSBvZiBvcmlnaW5hbCBhdHRyaWJ1dGUgbGlzdCwgc2luY2UgdGhlIG9yZGVyIG1heSBjaGFuZ2VcbiAgICAgIC8vIGFzIGF0dHJpYnV0ZXMgYXJlIGFkZGVkIGFuZCByZW1vdmVkXG4gICAgICBsZXQgbm90ZWQgPSBmYWxzZTtcbiAgICAgIGxldCBhdHRycyA9IEFycmF5LmZyb20obm9kZS5hdHRyaWJ1dGVzKTtcbiAgICAgIGZvciAobGV0IGk9YXR0cnMubGVuZ3RoLTEsIGE7IChhPWF0dHJzW2ldKTsgaS0tKSB7XG4gICAgICAgIG5vdGVkID0gdGhpcy5fcGFyc2VUZW1wbGF0ZU5vZGVBdHRyaWJ1dGUobm9kZSwgdGVtcGxhdGVJbmZvLCBub2RlSW5mbywgYS5uYW1lLCBhLnZhbHVlKSB8fCBub3RlZDtcbiAgICAgIH1cbiAgICAgIHJldHVybiBub3RlZDtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBQYXJzZXMgYSBzaW5nbGUgdGVtcGxhdGUgbm9kZSBhdHRyaWJ1dGUgYW5kIGFkZHMgbm9kZSBtZXRhZGF0YSB0b1xuICAgICAqIGBub2RlSW5mb2AgZm9yIGF0dHJpYnV0ZXMgb2YgaW50ZXJlc3QuXG4gICAgICpcbiAgICAgKiBUaGlzIGltcGxlbWVudGF0aW9uIGFkZHMgbWV0YWRhdGEgZm9yIGBvbi1ldmVudD1cImhhbmRsZXJcImAgYXR0cmlidXRlc1xuICAgICAqIGFuZCBgaWRgIGF0dHJpYnV0ZXMuXG4gICAgICpcbiAgICAgKiBAcGFyYW0ge0VsZW1lbnR9IG5vZGUgTm9kZSB0byBwYXJzZVxuICAgICAqIEBwYXJhbSB7IVRlbXBsYXRlSW5mb30gdGVtcGxhdGVJbmZvIFRlbXBsYXRlIG1ldGFkYXRhIGZvciBjdXJyZW50IHRlbXBsYXRlXG4gICAgICogQHBhcmFtIHshTm9kZUluZm99IG5vZGVJbmZvIE5vZGUgbWV0YWRhdGEgZm9yIGN1cnJlbnQgdGVtcGxhdGUuXG4gICAgICogQHBhcmFtIHtzdHJpbmd9IG5hbWUgQXR0cmlidXRlIG5hbWVcbiAgICAgKiBAcGFyYW0ge3N0cmluZ30gdmFsdWUgQXR0cmlidXRlIHZhbHVlXG4gICAgICogQHJldHVybiB7Ym9vbGVhbn0gYHRydWVgIGlmIHRoZSB2aXNpdGVkIG5vZGUgYWRkZWQgbm9kZS1zcGVjaWZpY1xuICAgICAqICAgbWV0YWRhdGEgdG8gYG5vZGVJbmZvYFxuICAgICAqL1xuICAgIHN0YXRpYyBfcGFyc2VUZW1wbGF0ZU5vZGVBdHRyaWJ1dGUobm9kZSwgdGVtcGxhdGVJbmZvLCBub2RlSW5mbywgbmFtZSwgdmFsdWUpIHtcbiAgICAgIC8vIGV2ZW50cyAob24tKilcbiAgICAgIGlmIChuYW1lLnNsaWNlKDAsIDMpID09PSAnb24tJykge1xuICAgICAgICBub2RlLnJlbW92ZUF0dHJpYnV0ZShuYW1lKTtcbiAgICAgICAgbm9kZUluZm8uZXZlbnRzID0gbm9kZUluZm8uZXZlbnRzIHx8IFtdO1xuICAgICAgICBub2RlSW5mby5ldmVudHMucHVzaCh7XG4gICAgICAgICAgbmFtZTogbmFtZS5zbGljZSgzKSxcbiAgICAgICAgICB2YWx1ZVxuICAgICAgICB9KTtcbiAgICAgICAgcmV0dXJuIHRydWU7XG4gICAgICB9XG4gICAgICAvLyBzdGF0aWMgaWRcbiAgICAgIGVsc2UgaWYgKG5hbWUgPT09ICdpZCcpIHtcbiAgICAgICAgbm9kZUluZm8uaWQgPSB2YWx1ZTtcbiAgICAgICAgcmV0dXJuIHRydWU7XG4gICAgICB9XG4gICAgICByZXR1cm4gZmFsc2U7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogUmV0dXJucyB0aGUgYGNvbnRlbnRgIGRvY3VtZW50IGZyYWdtZW50IGZvciBhIGdpdmVuIHRlbXBsYXRlLlxuICAgICAqXG4gICAgICogRm9yIG5lc3RlZCB0ZW1wbGF0ZXMsIFBvbHltZXIgcGVyZm9ybXMgYW4gb3B0aW1pemF0aW9uIHRvIGNhY2hlIG5lc3RlZFxuICAgICAqIHRlbXBsYXRlIGNvbnRlbnQgdG8gYXZvaWQgdGhlIGNvc3Qgb2YgY2xvbmluZyBkZWVwbHkgbmVzdGVkIHRlbXBsYXRlcy5cbiAgICAgKiBUaGlzIG1ldGhvZCByZXRyaWV2ZXMgdGhlIGNhY2hlZCBjb250ZW50IGZvciBhIGdpdmVuIHRlbXBsYXRlLlxuICAgICAqXG4gICAgICogQHBhcmFtIHtIVE1MVGVtcGxhdGVFbGVtZW50fSB0ZW1wbGF0ZSBUZW1wbGF0ZSB0byByZXRyaWV2ZSBgY29udGVudGAgZm9yXG4gICAgICogQHJldHVybiB7RG9jdW1lbnRGcmFnbWVudH0gQ29udGVudCBmcmFnbWVudFxuICAgICAqL1xuICAgIHN0YXRpYyBfY29udGVudEZvclRlbXBsYXRlKHRlbXBsYXRlKSB7XG4gICAgICBsZXQgdGVtcGxhdGVJbmZvID0gLyoqIEB0eXBlIHtIVE1MVGVtcGxhdGVFbGVtZW50V2l0aEluZm99ICovICh0ZW1wbGF0ZSkuX3RlbXBsYXRlSW5mbztcbiAgICAgIHJldHVybiAodGVtcGxhdGVJbmZvICYmIHRlbXBsYXRlSW5mby5jb250ZW50KSB8fCB0ZW1wbGF0ZS5jb250ZW50O1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIENsb25lcyB0aGUgcHJvdmlkZWQgdGVtcGxhdGUgY29udGVudCBhbmQgcmV0dXJucyBhIGRvY3VtZW50IGZyYWdtZW50XG4gICAgICogY29udGFpbmluZyB0aGUgY2xvbmVkIGRvbS5cbiAgICAgKlxuICAgICAqIFRoZSB0ZW1wbGF0ZSBpcyBwYXJzZWQgKG9uY2UgYW5kIG1lbW9pemVkKSB1c2luZyB0aGlzIGxpYnJhcnknc1xuICAgICAqIHRlbXBsYXRlIHBhcnNpbmcgZmVhdHVyZXMsIGFuZCBwcm92aWRlcyB0aGUgZm9sbG93aW5nIHZhbHVlLWFkZGVkXG4gICAgICogZmVhdHVyZXM6XG4gICAgICogKiBBZGRzIGRlY2xhcmF0aXZlIGV2ZW50IGxpc3RlbmVycyBmb3IgYG9uLWV2ZW50PVwiaGFuZGxlclwiYCBhdHRyaWJ1dGVzXG4gICAgICogKiBHZW5lcmF0ZXMgYW4gXCJpZCBtYXBcIiBmb3IgYWxsIG5vZGVzIHdpdGggaWQncyB1bmRlciBgJGAgb24gcmV0dXJuZWRcbiAgICAgKiAgIGRvY3VtZW50IGZyYWdtZW50XG4gICAgICogKiBQYXNzZXMgdGVtcGxhdGUgaW5mbyBpbmNsdWRpbmcgYGNvbnRlbnRgIGJhY2sgdG8gdGVtcGxhdGVzIGFzXG4gICAgICogICBgX3RlbXBsYXRlSW5mb2AgKGEgcGVyZm9ybWFuY2Ugb3B0aW1pemF0aW9uIHRvIGF2b2lkIGRlZXAgdGVtcGxhdGVcbiAgICAgKiAgIGNsb25pbmcpXG4gICAgICpcbiAgICAgKiBOb3RlIHRoYXQgdGhlIG1lbW9pemVkIHRlbXBsYXRlIHBhcnNpbmcgcHJvY2VzcyBpcyBkZXN0cnVjdGl2ZSB0byB0aGVcbiAgICAgKiB0ZW1wbGF0ZTogYXR0cmlidXRlcyBmb3IgYmluZGluZ3MgYW5kIGRlY2xhcmF0aXZlIGV2ZW50IGxpc3RlbmVycyBhcmVcbiAgICAgKiByZW1vdmVkIGFmdGVyIGJlaW5nIG5vdGVkIGluIG5vdGVzLCBhbmQgYW55IG5lc3RlZCBgPHRlbXBsYXRlPi5jb250ZW50YFxuICAgICAqIGlzIHJlbW92ZWQgYW5kIHN0b3JlZCBpbiBub3RlcyBhcyB3ZWxsLlxuICAgICAqXG4gICAgICogQHBhcmFtIHshSFRNTFRlbXBsYXRlRWxlbWVudH0gdGVtcGxhdGUgVGVtcGxhdGUgdG8gc3RhbXBcbiAgICAgKiBAcmV0dXJuIHshU3RhbXBlZFRlbXBsYXRlfSBDbG9uZWQgdGVtcGxhdGUgY29udGVudFxuICAgICAqIEBvdmVycmlkZVxuICAgICAqL1xuICAgIF9zdGFtcFRlbXBsYXRlKHRlbXBsYXRlKSB7XG4gICAgICAvLyBQb2x5ZmlsbCBzdXBwb3J0OiBib290c3RyYXAgdGhlIHRlbXBsYXRlIGlmIGl0IGhhcyBub3QgYWxyZWFkeSBiZWVuXG4gICAgICBpZiAodGVtcGxhdGUgJiYgIXRlbXBsYXRlLmNvbnRlbnQgJiZcbiAgICAgICAgICB3aW5kb3cuSFRNTFRlbXBsYXRlRWxlbWVudCAmJiBIVE1MVGVtcGxhdGVFbGVtZW50LmRlY29yYXRlKSB7XG4gICAgICAgIEhUTUxUZW1wbGF0ZUVsZW1lbnQuZGVjb3JhdGUodGVtcGxhdGUpO1xuICAgICAgfVxuICAgICAgbGV0IHRlbXBsYXRlSW5mbyA9IHRoaXMuY29uc3RydWN0b3IuX3BhcnNlVGVtcGxhdGUodGVtcGxhdGUpO1xuICAgICAgbGV0IG5vZGVJbmZvID0gdGVtcGxhdGVJbmZvLm5vZGVJbmZvTGlzdDtcbiAgICAgIGxldCBjb250ZW50ID0gdGVtcGxhdGVJbmZvLmNvbnRlbnQgfHwgdGVtcGxhdGUuY29udGVudDtcbiAgICAgIGxldCBkb20gPSAvKiogQHR5cGUge0RvY3VtZW50RnJhZ21lbnR9ICovIChkb2N1bWVudC5pbXBvcnROb2RlKGNvbnRlbnQsIHRydWUpKTtcbiAgICAgIC8vIE5PVEU6IFNoYWR5RG9tIG9wdGltaXphdGlvbiBpbmRpY2F0aW5nIHRoZXJlIGlzIGFuIGluc2VydGlvbiBwb2ludFxuICAgICAgZG9tLl9fbm9JbnNlcnRpb25Qb2ludCA9ICF0ZW1wbGF0ZUluZm8uaGFzSW5zZXJ0aW9uUG9pbnQ7XG4gICAgICBsZXQgbm9kZXMgPSBkb20ubm9kZUxpc3QgPSBuZXcgQXJyYXkobm9kZUluZm8ubGVuZ3RoKTtcbiAgICAgIGRvbS4kID0ge307XG4gICAgICBmb3IgKGxldCBpPTAsIGw9bm9kZUluZm8ubGVuZ3RoLCBpbmZvOyAoaTxsKSAmJiAoaW5mbz1ub2RlSW5mb1tpXSk7IGkrKykge1xuICAgICAgICBsZXQgbm9kZSA9IG5vZGVzW2ldID0gZmluZFRlbXBsYXRlTm9kZShkb20sIGluZm8pO1xuICAgICAgICBhcHBseUlkVG9NYXAodGhpcywgZG9tLiQsIG5vZGUsIGluZm8pO1xuICAgICAgICBhcHBseVRlbXBsYXRlQ29udGVudCh0aGlzLCBub2RlLCBpbmZvKTtcbiAgICAgICAgYXBwbHlFdmVudExpc3RlbmVyKHRoaXMsIG5vZGUsIGluZm8pO1xuICAgICAgfVxuICAgICAgZG9tID0gLyoqIEB0eXBlIHshU3RhbXBlZFRlbXBsYXRlfSAqLyhkb20pOyAvLyBlc2xpbnQtZGlzYWJsZS1saW5lIG5vLXNlbGYtYXNzaWduXG4gICAgICByZXR1cm4gZG9tO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIEFkZHMgYW4gZXZlbnQgbGlzdGVuZXIgYnkgbWV0aG9kIG5hbWUgZm9yIHRoZSBldmVudCBwcm92aWRlZC5cbiAgICAgKlxuICAgICAqIFRoaXMgbWV0aG9kIGdlbmVyYXRlcyBhIGhhbmRsZXIgZnVuY3Rpb24gdGhhdCBsb29rcyB1cCB0aGUgbWV0aG9kXG4gICAgICogbmFtZSBhdCBoYW5kbGluZyB0aW1lLlxuICAgICAqXG4gICAgICogQHBhcmFtIHshRXZlbnRUYXJnZXR9IG5vZGUgTm9kZSB0byBhZGQgbGlzdGVuZXIgb25cbiAgICAgKiBAcGFyYW0ge3N0cmluZ30gZXZlbnROYW1lIE5hbWUgb2YgZXZlbnRcbiAgICAgKiBAcGFyYW0ge3N0cmluZ30gbWV0aG9kTmFtZSBOYW1lIG9mIG1ldGhvZFxuICAgICAqIEBwYXJhbSB7Kj19IGNvbnRleHQgQ29udGV4dCB0aGUgbWV0aG9kIHdpbGwgYmUgY2FsbGVkIG9uIChkZWZhdWx0c1xuICAgICAqICAgdG8gYG5vZGVgKVxuICAgICAqIEByZXR1cm4ge0Z1bmN0aW9ufSBHZW5lcmF0ZWQgaGFuZGxlciBmdW5jdGlvblxuICAgICAqIEBvdmVycmlkZVxuICAgICAqL1xuICAgIF9hZGRNZXRob2RFdmVudExpc3RlbmVyVG9Ob2RlKG5vZGUsIGV2ZW50TmFtZSwgbWV0aG9kTmFtZSwgY29udGV4dCkge1xuICAgICAgY29udGV4dCA9IGNvbnRleHQgfHwgbm9kZTtcbiAgICAgIGxldCBoYW5kbGVyID0gY3JlYXRlTm9kZUV2ZW50SGFuZGxlcihjb250ZXh0LCBldmVudE5hbWUsIG1ldGhvZE5hbWUpO1xuICAgICAgdGhpcy5fYWRkRXZlbnRMaXN0ZW5lclRvTm9kZShub2RlLCBldmVudE5hbWUsIGhhbmRsZXIpO1xuICAgICAgcmV0dXJuIGhhbmRsZXI7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogT3ZlcnJpZGUgcG9pbnQgZm9yIGFkZGluZyBjdXN0b20gb3Igc2ltdWxhdGVkIGV2ZW50IGhhbmRsaW5nLlxuICAgICAqXG4gICAgICogQHBhcmFtIHshRXZlbnRUYXJnZXR9IG5vZGUgTm9kZSB0byBhZGQgZXZlbnQgbGlzdGVuZXIgdG9cbiAgICAgKiBAcGFyYW0ge3N0cmluZ30gZXZlbnROYW1lIE5hbWUgb2YgZXZlbnRcbiAgICAgKiBAcGFyYW0ge2Z1bmN0aW9uKCFFdmVudCk6dm9pZH0gaGFuZGxlciBMaXN0ZW5lciBmdW5jdGlvbiB0byBhZGRcbiAgICAgKiBAcmV0dXJuIHt2b2lkfVxuICAgICAqIEBvdmVycmlkZVxuICAgICAqL1xuICAgIF9hZGRFdmVudExpc3RlbmVyVG9Ob2RlKG5vZGUsIGV2ZW50TmFtZSwgaGFuZGxlcikge1xuICAgICAgbm9kZS5hZGRFdmVudExpc3RlbmVyKGV2ZW50TmFtZSwgaGFuZGxlcik7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogT3ZlcnJpZGUgcG9pbnQgZm9yIGFkZGluZyBjdXN0b20gb3Igc2ltdWxhdGVkIGV2ZW50IGhhbmRsaW5nLlxuICAgICAqXG4gICAgICogQHBhcmFtIHshRXZlbnRUYXJnZXR9IG5vZGUgTm9kZSB0byByZW1vdmUgZXZlbnQgbGlzdGVuZXIgZnJvbVxuICAgICAqIEBwYXJhbSB7c3RyaW5nfSBldmVudE5hbWUgTmFtZSBvZiBldmVudFxuICAgICAqIEBwYXJhbSB7ZnVuY3Rpb24oIUV2ZW50KTp2b2lkfSBoYW5kbGVyIExpc3RlbmVyIGZ1bmN0aW9uIHRvIHJlbW92ZVxuICAgICAqIEByZXR1cm4ge3ZvaWR9XG4gICAgICogQG92ZXJyaWRlXG4gICAgICovXG4gICAgX3JlbW92ZUV2ZW50TGlzdGVuZXJGcm9tTm9kZShub2RlLCBldmVudE5hbWUsIGhhbmRsZXIpIHtcbiAgICAgIG5vZGUucmVtb3ZlRXZlbnRMaXN0ZW5lcihldmVudE5hbWUsIGhhbmRsZXIpO1xuICAgIH1cblxuICB9XG5cbiAgcmV0dXJuIFRlbXBsYXRlU3RhbXA7XG5cbn0pO1xuIiwiLyoqXG4gKiBAZmlsZW92ZXJ2aWV3XG4gKiBAc3VwcHJlc3Mge2NoZWNrUHJvdG90eXBhbFR5cGVzfVxuICogQGxpY2Vuc2UgQ29weXJpZ2h0IChjKSAyMDE3IFRoZSBQb2x5bWVyIFByb2plY3QgQXV0aG9ycy4gQWxsIHJpZ2h0cyByZXNlcnZlZC5cbiAqIFRoaXMgY29kZSBtYXkgb25seSBiZSB1c2VkIHVuZGVyIHRoZSBCU0Qgc3R5bGUgbGljZW5zZSBmb3VuZCBhdFxuICogaHR0cDovL3BvbHltZXIuZ2l0aHViLmlvL0xJQ0VOU0UudHh0IFRoZSBjb21wbGV0ZSBzZXQgb2YgYXV0aG9ycyBtYXkgYmUgZm91bmRcbiAqIGF0IGh0dHA6Ly9wb2x5bWVyLmdpdGh1Yi5pby9BVVRIT1JTLnR4dCBUaGUgY29tcGxldGUgc2V0IG9mIGNvbnRyaWJ1dG9ycyBtYXlcbiAqIGJlIGZvdW5kIGF0IGh0dHA6Ly9wb2x5bWVyLmdpdGh1Yi5pby9DT05UUklCVVRPUlMudHh0IENvZGUgZGlzdHJpYnV0ZWQgYnlcbiAqIEdvb2dsZSBhcyBwYXJ0IG9mIHRoZSBwb2x5bWVyIHByb2plY3QgaXMgYWxzbyBzdWJqZWN0IHRvIGFuIGFkZGl0aW9uYWwgSVBcbiAqIHJpZ2h0cyBncmFudCBmb3VuZCBhdCBodHRwOi8vcG9seW1lci5naXRodWIuaW8vUEFURU5UUy50eHRcbiAqL1xuXG5pbXBvcnQgJy4uL3V0aWxzL2Jvb3QuanMnO1xuaW1wb3J0IHsgd3JhcCB9IGZyb20gJy4uL3V0aWxzL3dyYXAuanMnO1xuaW1wb3J0IHsgZGVkdXBpbmdNaXhpbiB9IGZyb20gJy4uL3V0aWxzL21peGluLmpzJztcbmltcG9ydCB7IHJvb3QsIGlzQW5jZXN0b3IsIGlzRGVzY2VuZGFudCwgZ2V0LCB0cmFuc2xhdGUsIGlzUGF0aCwgc2V0LCBub3JtYWxpemUgfSBmcm9tICcuLi91dGlscy9wYXRoLmpzJztcbi8qIGZvciBub3RpZnksIHJlZmxlY3QgKi9cbmltcG9ydCB7IGNhbWVsVG9EYXNoQ2FzZSwgZGFzaFRvQ2FtZWxDYXNlIH0gZnJvbSAnLi4vdXRpbHMvY2FzZS1tYXAuanMnO1xuaW1wb3J0IHsgUHJvcGVydHlBY2Nlc3NvcnMgfSBmcm9tICcuL3Byb3BlcnR5LWFjY2Vzc29ycy5qcyc7XG4vKiBmb3IgYW5ub3RhdGVkIGVmZmVjdHMgKi9cbmltcG9ydCB7IFRlbXBsYXRlU3RhbXAgfSBmcm9tICcuL3RlbXBsYXRlLXN0YW1wLmpzJztcbmltcG9ydCB7IHNhbml0aXplRE9NVmFsdWUgfSBmcm9tICcuLi91dGlscy9zZXR0aW5ncy5qcyc7XG5cbi8vIE1vbm90b25pY2FsbHkgaW5jcmVhc2luZyB1bmlxdWUgSUQgdXNlZCBmb3IgZGUtZHVwaW5nIGVmZmVjdHMgdHJpZ2dlcmVkXG4vLyBmcm9tIG11bHRpcGxlIHByb3BlcnRpZXMgaW4gdGhlIHNhbWUgdHVyblxubGV0IGRlZHVwZUlkID0gMDtcblxuLyoqXG4gKiBQcm9wZXJ0eSBlZmZlY3QgdHlwZXM7IGVmZmVjdHMgYXJlIHN0b3JlZCBvbiB0aGUgcHJvdG90eXBlIHVzaW5nIHRoZXNlIGtleXNcbiAqIEBlbnVtIHtzdHJpbmd9XG4gKi9cbmNvbnN0IFRZUEVTID0ge1xuICBDT01QVVRFOiAnX19jb21wdXRlRWZmZWN0cycsXG4gIFJFRkxFQ1Q6ICdfX3JlZmxlY3RFZmZlY3RzJyxcbiAgTk9USUZZOiAnX19ub3RpZnlFZmZlY3RzJyxcbiAgUFJPUEFHQVRFOiAnX19wcm9wYWdhdGVFZmZlY3RzJyxcbiAgT0JTRVJWRTogJ19fb2JzZXJ2ZUVmZmVjdHMnLFxuICBSRUFEX09OTFk6ICdfX3JlYWRPbmx5J1xufTtcblxuLyoqIEBjb25zdCB7IVJlZ0V4cH0gKi9cbmNvbnN0IGNhcGl0YWxBdHRyaWJ1dGVSZWdleCA9IC9bQS1aXS87XG5cbi8qKlxuICogQHR5cGVkZWYge3tcbiAqIG5hbWU6IChzdHJpbmcgfCB1bmRlZmluZWQpLFxuICogc3RydWN0dXJlZDogKGJvb2xlYW4gfCB1bmRlZmluZWQpLFxuICogd2lsZGNhcmQ6IChib29sZWFuIHwgdW5kZWZpbmVkKVxuICogfX1cbiAqL1xubGV0IERhdGFUcmlnZ2VyOyAvL2VzbGludC1kaXNhYmxlLWxpbmUgbm8tdW51c2VkLXZhcnNcblxuLyoqXG4gKiBAdHlwZWRlZiB7e1xuICogaW5mbzogPyxcbiAqIHRyaWdnZXI6ICghRGF0YVRyaWdnZXIgfCB1bmRlZmluZWQpLFxuICogZm46ICghRnVuY3Rpb24gfCB1bmRlZmluZWQpXG4gKiB9fVxuICovXG5sZXQgRGF0YUVmZmVjdDsgLy9lc2xpbnQtZGlzYWJsZS1saW5lIG5vLXVudXNlZC12YXJzXG5cbi8qKlxuICogRW5zdXJlcyB0aGF0IHRoZSBtb2RlbCBoYXMgYW4gb3duLXByb3BlcnR5IG1hcCBvZiBlZmZlY3RzIGZvciB0aGUgZ2l2ZW4gdHlwZS5cbiAqIFRoZSBtb2RlbCBtYXkgYmUgYSBwcm90b3R5cGUgb3IgYW4gaW5zdGFuY2UuXG4gKlxuICogUHJvcGVydHkgZWZmZWN0cyBhcmUgc3RvcmVkIGFzIGFycmF5cyBvZiBlZmZlY3RzIGJ5IHByb3BlcnR5IGluIGEgbWFwLFxuICogYnkgbmFtZWQgdHlwZSBvbiB0aGUgbW9kZWwuIGUuZy5cbiAqXG4gKiAgIF9fY29tcHV0ZUVmZmVjdHM6IHtcbiAqICAgICBmb286IFsgLi4uIF0sXG4gKiAgICAgYmFyOiBbIC4uLiBdXG4gKiAgIH1cbiAqXG4gKiBJZiB0aGUgbW9kZWwgZG9lcyBub3QgeWV0IGhhdmUgYW4gZWZmZWN0IG1hcCBmb3IgdGhlIHR5cGUsIG9uZSBpcyBjcmVhdGVkXG4gKiBhbmQgcmV0dXJuZWQuICBJZiBpdCBkb2VzLCBidXQgaXQgaXMgbm90IGFuIG93biBwcm9wZXJ0eSAoaS5lLiB0aGVcbiAqIHByb3RvdHlwZSBoYWQgZWZmZWN0cyksIHRoZSB0aGUgbWFwIGlzIGRlZXBseSBjbG9uZWQgYW5kIHRoZSBjb3B5IGlzXG4gKiBzZXQgb24gdGhlIG1vZGVsIGFuZCByZXR1cm5lZCwgcmVhZHkgZm9yIG5ldyBlZmZlY3RzIHRvIGJlIGFkZGVkLlxuICpcbiAqIEBwYXJhbSB7T2JqZWN0fSBtb2RlbCBQcm90b3R5cGUgb3IgaW5zdGFuY2VcbiAqIEBwYXJhbSB7c3RyaW5nfSB0eXBlIFByb3BlcnR5IGVmZmVjdCB0eXBlXG4gKiBAcmV0dXJuIHtPYmplY3R9IFRoZSBvd24tcHJvcGVydHkgbWFwIG9mIGVmZmVjdHMgZm9yIHRoZSBnaXZlbiB0eXBlXG4gKiBAcHJpdmF0ZVxuICovXG5mdW5jdGlvbiBlbnN1cmVPd25FZmZlY3RNYXAobW9kZWwsIHR5cGUpIHtcbiAgbGV0IGVmZmVjdHMgPSBtb2RlbFt0eXBlXTtcbiAgaWYgKCFlZmZlY3RzKSB7XG4gICAgZWZmZWN0cyA9IG1vZGVsW3R5cGVdID0ge307XG4gIH0gZWxzZSBpZiAoIW1vZGVsLmhhc093blByb3BlcnR5KHR5cGUpKSB7XG4gICAgZWZmZWN0cyA9IG1vZGVsW3R5cGVdID0gT2JqZWN0LmNyZWF0ZShtb2RlbFt0eXBlXSk7XG4gICAgZm9yIChsZXQgcCBpbiBlZmZlY3RzKSB7XG4gICAgICBsZXQgcHJvdG9GeCA9IGVmZmVjdHNbcF07XG4gICAgICBsZXQgaW5zdEZ4ID0gZWZmZWN0c1twXSA9IEFycmF5KHByb3RvRngubGVuZ3RoKTtcbiAgICAgIGZvciAobGV0IGk9MDsgaTxwcm90b0Z4Lmxlbmd0aDsgaSsrKSB7XG4gICAgICAgIGluc3RGeFtpXSA9IHByb3RvRnhbaV07XG4gICAgICB9XG4gICAgfVxuICB9XG4gIHJldHVybiBlZmZlY3RzO1xufVxuXG4vLyAtLSBlZmZlY3RzIC0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS1cblxuLyoqXG4gKiBSdW5zIGFsbCBlZmZlY3RzIG9mIGEgZ2l2ZW4gdHlwZSBmb3IgdGhlIGdpdmVuIHNldCBvZiBwcm9wZXJ0eSBjaGFuZ2VzXG4gKiBvbiBhbiBpbnN0YW5jZS5cbiAqXG4gKiBAcGFyYW0geyFQb2x5bWVyX1Byb3BlcnR5RWZmZWN0c30gaW5zdCBUaGUgaW5zdGFuY2Ugd2l0aCBlZmZlY3RzIHRvIHJ1blxuICogQHBhcmFtIHs/T2JqZWN0fSBlZmZlY3RzIE9iamVjdCBtYXAgb2YgcHJvcGVydHktdG8tQXJyYXkgb2YgZWZmZWN0c1xuICogQHBhcmFtIHs/T2JqZWN0fSBwcm9wcyBCYWcgb2YgY3VycmVudCBwcm9wZXJ0eSBjaGFuZ2VzXG4gKiBAcGFyYW0gez9PYmplY3Q9fSBvbGRQcm9wcyBCYWcgb2YgcHJldmlvdXMgdmFsdWVzIGZvciBjaGFuZ2VkIHByb3BlcnRpZXNcbiAqIEBwYXJhbSB7Ym9vbGVhbj19IGhhc1BhdGhzIFRydWUgd2l0aCBgcHJvcHNgIGNvbnRhaW5zIG9uZSBvciBtb3JlIHBhdGhzXG4gKiBAcGFyYW0geyo9fSBleHRyYUFyZ3MgQWRkaXRpb25hbCBtZXRhZGF0YSB0byBwYXNzIHRvIGVmZmVjdCBmdW5jdGlvblxuICogQHJldHVybiB7Ym9vbGVhbn0gVHJ1ZSBpZiBhbiBlZmZlY3QgcmFuIGZvciB0aGlzIHByb3BlcnR5XG4gKiBAcHJpdmF0ZVxuICovXG5mdW5jdGlvbiBydW5FZmZlY3RzKGluc3QsIGVmZmVjdHMsIHByb3BzLCBvbGRQcm9wcywgaGFzUGF0aHMsIGV4dHJhQXJncykge1xuICBpZiAoZWZmZWN0cykge1xuICAgIGxldCByYW4gPSBmYWxzZTtcbiAgICBsZXQgaWQgPSBkZWR1cGVJZCsrO1xuICAgIGZvciAobGV0IHByb3AgaW4gcHJvcHMpIHtcbiAgICAgIGlmIChydW5FZmZlY3RzRm9yUHJvcGVydHkoXG4gICAgICAgICAgICAgIGluc3QsIC8qKiBAdHlwZSB7IU9iamVjdH0gKi8gKGVmZmVjdHMpLCBpZCwgcHJvcCwgcHJvcHMsIG9sZFByb3BzLFxuICAgICAgICAgICAgICBoYXNQYXRocywgZXh0cmFBcmdzKSkge1xuICAgICAgICByYW4gPSB0cnVlO1xuICAgICAgfVxuICAgIH1cbiAgICByZXR1cm4gcmFuO1xuICB9XG4gIHJldHVybiBmYWxzZTtcbn1cblxuLyoqXG4gKiBSdW5zIGEgbGlzdCBvZiBlZmZlY3RzIGZvciBhIGdpdmVuIHByb3BlcnR5LlxuICpcbiAqIEBwYXJhbSB7IVBvbHltZXJfUHJvcGVydHlFZmZlY3RzfSBpbnN0IFRoZSBpbnN0YW5jZSB3aXRoIGVmZmVjdHMgdG8gcnVuXG4gKiBAcGFyYW0geyFPYmplY3R9IGVmZmVjdHMgT2JqZWN0IG1hcCBvZiBwcm9wZXJ0eS10by1BcnJheSBvZiBlZmZlY3RzXG4gKiBAcGFyYW0ge251bWJlcn0gZGVkdXBlSWQgQ291bnRlciB1c2VkIGZvciBkZS1kdXBpbmcgZWZmZWN0c1xuICogQHBhcmFtIHtzdHJpbmd9IHByb3AgTmFtZSBvZiBjaGFuZ2VkIHByb3BlcnR5XG4gKiBAcGFyYW0geyp9IHByb3BzIENoYW5nZWQgcHJvcGVydGllc1xuICogQHBhcmFtIHsqfSBvbGRQcm9wcyBPbGQgcHJvcGVydGllc1xuICogQHBhcmFtIHtib29sZWFuPX0gaGFzUGF0aHMgVHJ1ZSB3aXRoIGBwcm9wc2AgY29udGFpbnMgb25lIG9yIG1vcmUgcGF0aHNcbiAqIEBwYXJhbSB7Kj19IGV4dHJhQXJncyBBZGRpdGlvbmFsIG1ldGFkYXRhIHRvIHBhc3MgdG8gZWZmZWN0IGZ1bmN0aW9uXG4gKiBAcmV0dXJuIHtib29sZWFufSBUcnVlIGlmIGFuIGVmZmVjdCByYW4gZm9yIHRoaXMgcHJvcGVydHlcbiAqIEBwcml2YXRlXG4gKi9cbmZ1bmN0aW9uIHJ1bkVmZmVjdHNGb3JQcm9wZXJ0eShpbnN0LCBlZmZlY3RzLCBkZWR1cGVJZCwgcHJvcCwgcHJvcHMsIG9sZFByb3BzLCBoYXNQYXRocywgZXh0cmFBcmdzKSB7XG4gIGxldCByYW4gPSBmYWxzZTtcbiAgbGV0IHJvb3RQcm9wZXJ0eSA9IGhhc1BhdGhzID8gcm9vdChwcm9wKSA6IHByb3A7XG4gIGxldCBmeHMgPSBlZmZlY3RzW3Jvb3RQcm9wZXJ0eV07XG4gIGlmIChmeHMpIHtcbiAgICBmb3IgKGxldCBpPTAsIGw9ZnhzLmxlbmd0aCwgZng7IChpPGwpICYmIChmeD1meHNbaV0pOyBpKyspIHtcbiAgICAgIGlmICgoIWZ4LmluZm8gfHwgZnguaW5mby5sYXN0UnVuICE9PSBkZWR1cGVJZCkgJiZcbiAgICAgICAgICAoIWhhc1BhdGhzIHx8IHBhdGhNYXRjaGVzVHJpZ2dlcihwcm9wLCBmeC50cmlnZ2VyKSkpIHtcbiAgICAgICAgaWYgKGZ4LmluZm8pIHtcbiAgICAgICAgICBmeC5pbmZvLmxhc3RSdW4gPSBkZWR1cGVJZDtcbiAgICAgICAgfVxuICAgICAgICBmeC5mbihpbnN0LCBwcm9wLCBwcm9wcywgb2xkUHJvcHMsIGZ4LmluZm8sIGhhc1BhdGhzLCBleHRyYUFyZ3MpO1xuICAgICAgICByYW4gPSB0cnVlO1xuICAgICAgfVxuICAgIH1cbiAgfVxuICByZXR1cm4gcmFuO1xufVxuXG4vKipcbiAqIERldGVybWluZXMgd2hldGhlciBhIHByb3BlcnR5L3BhdGggdGhhdCBoYXMgY2hhbmdlZCBtYXRjaGVzIHRoZSB0cmlnZ2VyXG4gKiBjcml0ZXJpYSBmb3IgYW4gZWZmZWN0LiAgQSB0cmlnZ2VyIGlzIGEgZGVzY3JpcHRvciB3aXRoIHRoZSBmb2xsb3dpbmdcbiAqIHN0cnVjdHVyZSwgd2hpY2ggbWF0Y2hlcyB0aGUgZGVzY3JpcHRvcnMgcmV0dXJuZWQgZnJvbSBgcGFyc2VBcmdgLlxuICogZS5nLiBmb3IgYGZvby5iYXIuKmA6XG4gKiBgYGBcbiAqIHRyaWdnZXI6IHtcbiAqICAgbmFtZTogJ2EuYicsXG4gKiAgIHN0cnVjdHVyZWQ6IHRydWUsXG4gKiAgIHdpbGRjYXJkOiB0cnVlXG4gKiB9XG4gKiBgYGBcbiAqIElmIG5vIHRyaWdnZXIgaXMgZ2l2ZW4sIHRoZSBwYXRoIGlzIGRlZW1lZCB0byBtYXRjaC5cbiAqXG4gKiBAcGFyYW0ge3N0cmluZ30gcGF0aCBQYXRoIG9yIHByb3BlcnR5IHRoYXQgY2hhbmdlZFxuICogQHBhcmFtIHs/RGF0YVRyaWdnZXJ9IHRyaWdnZXIgRGVzY3JpcHRvclxuICogQHJldHVybiB7Ym9vbGVhbn0gV2hldGhlciB0aGUgcGF0aCBtYXRjaGVkIHRoZSB0cmlnZ2VyXG4gKi9cbmZ1bmN0aW9uIHBhdGhNYXRjaGVzVHJpZ2dlcihwYXRoLCB0cmlnZ2VyKSB7XG4gIGlmICh0cmlnZ2VyKSB7XG4gICAgbGV0IHRyaWdnZXJQYXRoID0gLyoqIEB0eXBlIHtzdHJpbmd9ICovICh0cmlnZ2VyLm5hbWUpO1xuICAgIHJldHVybiAodHJpZ2dlclBhdGggPT0gcGF0aCkgfHxcbiAgICAgICAgISEodHJpZ2dlci5zdHJ1Y3R1cmVkICYmIGlzQW5jZXN0b3IodHJpZ2dlclBhdGgsIHBhdGgpKSB8fFxuICAgICAgICAhISh0cmlnZ2VyLndpbGRjYXJkICYmIGlzRGVzY2VuZGFudCh0cmlnZ2VyUGF0aCwgcGF0aCkpO1xuICB9IGVsc2Uge1xuICAgIHJldHVybiB0cnVlO1xuICB9XG59XG5cbi8qKlxuICogSW1wbGVtZW50cyB0aGUgXCJvYnNlcnZlclwiIGVmZmVjdC5cbiAqXG4gKiBDYWxscyB0aGUgbWV0aG9kIHdpdGggYGluZm8ubWV0aG9kTmFtZWAgb24gdGhlIGluc3RhbmNlLCBwYXNzaW5nIHRoZVxuICogbmV3IGFuZCBvbGQgdmFsdWVzLlxuICpcbiAqIEBwYXJhbSB7IVBvbHltZXJfUHJvcGVydHlFZmZlY3RzfSBpbnN0IFRoZSBpbnN0YW5jZSB0aGUgZWZmZWN0IHdpbGwgYmUgcnVuIG9uXG4gKiBAcGFyYW0ge3N0cmluZ30gcHJvcGVydHkgTmFtZSBvZiBwcm9wZXJ0eVxuICogQHBhcmFtIHtPYmplY3R9IHByb3BzIEJhZyBvZiBjdXJyZW50IHByb3BlcnR5IGNoYW5nZXNcbiAqIEBwYXJhbSB7T2JqZWN0fSBvbGRQcm9wcyBCYWcgb2YgcHJldmlvdXMgdmFsdWVzIGZvciBjaGFuZ2VkIHByb3BlcnRpZXNcbiAqIEBwYXJhbSB7P30gaW5mbyBFZmZlY3QgbWV0YWRhdGFcbiAqIEByZXR1cm4ge3ZvaWR9XG4gKiBAcHJpdmF0ZVxuICovXG5mdW5jdGlvbiBydW5PYnNlcnZlckVmZmVjdChpbnN0LCBwcm9wZXJ0eSwgcHJvcHMsIG9sZFByb3BzLCBpbmZvKSB7XG4gIGxldCBmbiA9IHR5cGVvZiBpbmZvLm1ldGhvZCA9PT0gXCJzdHJpbmdcIiA/IGluc3RbaW5mby5tZXRob2RdIDogaW5mby5tZXRob2Q7XG4gIGxldCBjaGFuZ2VkUHJvcCA9IGluZm8ucHJvcGVydHk7XG4gIGlmIChmbikge1xuICAgIGZuLmNhbGwoaW5zdCwgaW5zdC5fX2RhdGFbY2hhbmdlZFByb3BdLCBvbGRQcm9wc1tjaGFuZ2VkUHJvcF0pO1xuICB9IGVsc2UgaWYgKCFpbmZvLmR5bmFtaWNGbikge1xuICAgIGNvbnNvbGUud2Fybignb2JzZXJ2ZXIgbWV0aG9kIGAnICsgaW5mby5tZXRob2QgKyAnYCBub3QgZGVmaW5lZCcpO1xuICB9XG59XG5cbi8qKlxuICogUnVucyBcIm5vdGlmeVwiIGVmZmVjdHMgZm9yIGEgc2V0IG9mIGNoYW5nZWQgcHJvcGVydGllcy5cbiAqXG4gKiBUaGlzIG1ldGhvZCBkaWZmZXJzIGZyb20gdGhlIGdlbmVyaWMgYHJ1bkVmZmVjdHNgIG1ldGhvZCBpbiB0aGF0IGl0XG4gKiB3aWxsIGRpc3BhdGNoIHBhdGggbm90aWZpY2F0aW9uIGV2ZW50cyBpbiB0aGUgY2FzZSB0aGF0IHRoZSBwcm9wZXJ0eVxuICogY2hhbmdlZCB3YXMgYSBwYXRoIGFuZCB0aGUgcm9vdCBwcm9wZXJ0eSBmb3IgdGhhdCBwYXRoIGRpZG4ndCBoYXZlIGFcbiAqIFwibm90aWZ5XCIgZWZmZWN0LiAgVGhpcyBpcyB0byBtYWludGFpbiAxLjAgYmVoYXZpb3IgdGhhdCBkaWQgbm90IHJlcXVpcmVcbiAqIGBub3RpZnk6IHRydWVgIHRvIGVuc3VyZSBvYmplY3Qgc3ViLXByb3BlcnR5IG5vdGlmaWNhdGlvbnMgd2VyZVxuICogc2VudC5cbiAqXG4gKiBAcGFyYW0geyFQb2x5bWVyX1Byb3BlcnR5RWZmZWN0c30gaW5zdCBUaGUgaW5zdGFuY2Ugd2l0aCBlZmZlY3RzIHRvIHJ1blxuICogQHBhcmFtIHtPYmplY3R9IG5vdGlmeVByb3BzIEJhZyBvZiBwcm9wZXJ0aWVzIHRvIG5vdGlmeVxuICogQHBhcmFtIHtPYmplY3R9IHByb3BzIEJhZyBvZiBjdXJyZW50IHByb3BlcnR5IGNoYW5nZXNcbiAqIEBwYXJhbSB7T2JqZWN0fSBvbGRQcm9wcyBCYWcgb2YgcHJldmlvdXMgdmFsdWVzIGZvciBjaGFuZ2VkIHByb3BlcnRpZXNcbiAqIEBwYXJhbSB7Ym9vbGVhbn0gaGFzUGF0aHMgVHJ1ZSB3aXRoIGBwcm9wc2AgY29udGFpbnMgb25lIG9yIG1vcmUgcGF0aHNcbiAqIEByZXR1cm4ge3ZvaWR9XG4gKiBAcHJpdmF0ZVxuICovXG5mdW5jdGlvbiBydW5Ob3RpZnlFZmZlY3RzKGluc3QsIG5vdGlmeVByb3BzLCBwcm9wcywgb2xkUHJvcHMsIGhhc1BhdGhzKSB7XG4gIC8vIE5vdGlmeVxuICBsZXQgZnhzID0gaW5zdFtUWVBFUy5OT1RJRlldO1xuICBsZXQgbm90aWZpZWQ7XG4gIGxldCBpZCA9IGRlZHVwZUlkKys7XG4gIC8vIFRyeSBub3JtYWwgbm90aWZ5IGVmZmVjdHM7IGlmIG5vbmUsIGZhbGwgYmFjayB0byB0cnkgcGF0aCBub3RpZmljYXRpb25cbiAgZm9yIChsZXQgcHJvcCBpbiBub3RpZnlQcm9wcykge1xuICAgIGlmIChub3RpZnlQcm9wc1twcm9wXSkge1xuICAgICAgaWYgKGZ4cyAmJiBydW5FZmZlY3RzRm9yUHJvcGVydHkoaW5zdCwgZnhzLCBpZCwgcHJvcCwgcHJvcHMsIG9sZFByb3BzLCBoYXNQYXRocykpIHtcbiAgICAgICAgbm90aWZpZWQgPSB0cnVlO1xuICAgICAgfSBlbHNlIGlmIChoYXNQYXRocyAmJiBub3RpZnlQYXRoKGluc3QsIHByb3AsIHByb3BzKSkge1xuICAgICAgICBub3RpZmllZCA9IHRydWU7XG4gICAgICB9XG4gICAgfVxuICB9XG4gIC8vIEZsdXNoIGhvc3QgaWYgd2UgYWN0dWFsbHkgbm90aWZpZWQgYW5kIGhvc3Qgd2FzIGJhdGNoaW5nXG4gIC8vIEFuZCB0aGUgaG9zdCBoYXMgYWxyZWFkeSBpbml0aWFsaXplZCBjbGllbnRzOyB0aGlzIHByZXZlbnRzXG4gIC8vIGFuIGlzc3VlIHdpdGggYSBob3N0IG9ic2VydmluZyBkYXRhIGNoYW5nZXMgYmVmb3JlIGNsaWVudHMgYXJlIHJlYWR5LlxuICBsZXQgaG9zdDtcbiAgaWYgKG5vdGlmaWVkICYmIChob3N0ID0gaW5zdC5fX2RhdGFIb3N0KSAmJiBob3N0Ll9pbnZhbGlkYXRlUHJvcGVydGllcykge1xuICAgIGhvc3QuX2ludmFsaWRhdGVQcm9wZXJ0aWVzKCk7XG4gIH1cbn1cblxuLyoqXG4gKiBEaXNwYXRjaGVzIHtwcm9wZXJ0eX0tY2hhbmdlZCBldmVudHMgd2l0aCBwYXRoIGluZm9ybWF0aW9uIGluIHRoZSBkZXRhaWxcbiAqIG9iamVjdCB0byBpbmRpY2F0ZSBhIHN1Yi1wYXRoIG9mIHRoZSBwcm9wZXJ0eSB3YXMgY2hhbmdlZC5cbiAqXG4gKiBAcGFyYW0geyFQb2x5bWVyX1Byb3BlcnR5RWZmZWN0c30gaW5zdCBUaGUgZWxlbWVudCBmcm9tIHdoaWNoIHRvIGZpcmUgdGhlXG4gKiAgICAgZXZlbnRcbiAqIEBwYXJhbSB7c3RyaW5nfSBwYXRoIFRoZSBwYXRoIHRoYXQgd2FzIGNoYW5nZWRcbiAqIEBwYXJhbSB7T2JqZWN0fSBwcm9wcyBCYWcgb2YgY3VycmVudCBwcm9wZXJ0eSBjaGFuZ2VzXG4gKiBAcmV0dXJuIHtib29sZWFufSBSZXR1cm5zIHRydWUgaWYgdGhlIHBhdGggd2FzIG5vdGlmaWVkXG4gKiBAcHJpdmF0ZVxuICovXG5mdW5jdGlvbiBub3RpZnlQYXRoKGluc3QsIHBhdGgsIHByb3BzKSB7XG4gIGxldCByb290UHJvcGVydHkgPSByb290KHBhdGgpO1xuICBpZiAocm9vdFByb3BlcnR5ICE9PSBwYXRoKSB7XG4gICAgbGV0IGV2ZW50TmFtZSA9IGNhbWVsVG9EYXNoQ2FzZShyb290UHJvcGVydHkpICsgJy1jaGFuZ2VkJztcbiAgICBkaXNwYXRjaE5vdGlmeUV2ZW50KGluc3QsIGV2ZW50TmFtZSwgcHJvcHNbcGF0aF0sIHBhdGgpO1xuICAgIHJldHVybiB0cnVlO1xuICB9XG4gIHJldHVybiBmYWxzZTtcbn1cblxuLyoqXG4gKiBEaXNwYXRjaGVzIHtwcm9wZXJ0eX0tY2hhbmdlZCBldmVudHMgdG8gaW5kaWNhdGUgYSBwcm9wZXJ0eSAob3IgcGF0aClcbiAqIGNoYW5nZWQuXG4gKlxuICogQHBhcmFtIHshUG9seW1lcl9Qcm9wZXJ0eUVmZmVjdHN9IGluc3QgVGhlIGVsZW1lbnQgZnJvbSB3aGljaCB0byBmaXJlIHRoZVxuICogICAgIGV2ZW50XG4gKiBAcGFyYW0ge3N0cmluZ30gZXZlbnROYW1lIFRoZSBuYW1lIG9mIHRoZSBldmVudCB0byBzZW5kXG4gKiAgICAgKCd7cHJvcGVydHl9LWNoYW5nZWQnKVxuICogQHBhcmFtIHsqfSB2YWx1ZSBUaGUgdmFsdWUgb2YgdGhlIGNoYW5nZWQgcHJvcGVydHlcbiAqIEBwYXJhbSB7c3RyaW5nIHwgbnVsbCB8IHVuZGVmaW5lZH0gcGF0aCBJZiBhIHN1Yi1wYXRoIG9mIHRoaXMgcHJvcGVydHlcbiAqICAgICBjaGFuZ2VkLCB0aGUgcGF0aCB0aGF0IGNoYW5nZWQgKG9wdGlvbmFsKS5cbiAqIEByZXR1cm4ge3ZvaWR9XG4gKiBAcHJpdmF0ZVxuICogQHN1cHByZXNzIHtpbnZhbGlkQ2FzdHN9XG4gKi9cbmZ1bmN0aW9uIGRpc3BhdGNoTm90aWZ5RXZlbnQoaW5zdCwgZXZlbnROYW1lLCB2YWx1ZSwgcGF0aCkge1xuICBsZXQgZGV0YWlsID0ge1xuICAgIHZhbHVlOiB2YWx1ZSxcbiAgICBxdWV1ZVByb3BlcnR5OiB0cnVlXG4gIH07XG4gIGlmIChwYXRoKSB7XG4gICAgZGV0YWlsLnBhdGggPSBwYXRoO1xuICB9XG4gIHdyYXAoLyoqIEB0eXBlIHshSFRNTEVsZW1lbnR9ICovKGluc3QpKS5kaXNwYXRjaEV2ZW50KG5ldyBDdXN0b21FdmVudChldmVudE5hbWUsIHsgZGV0YWlsIH0pKTtcbn1cblxuLyoqXG4gKiBJbXBsZW1lbnRzIHRoZSBcIm5vdGlmeVwiIGVmZmVjdC5cbiAqXG4gKiBEaXNwYXRjaGVzIGEgbm9uLWJ1YmJsaW5nIGV2ZW50IG5hbWVkIGBpbmZvLmV2ZW50TmFtZWAgb24gdGhlIGluc3RhbmNlXG4gKiB3aXRoIGEgZGV0YWlsIG9iamVjdCBjb250YWluaW5nIHRoZSBuZXcgYHZhbHVlYC5cbiAqXG4gKiBAcGFyYW0geyFQb2x5bWVyX1Byb3BlcnR5RWZmZWN0c30gaW5zdCBUaGUgaW5zdGFuY2UgdGhlIGVmZmVjdCB3aWxsIGJlIHJ1biBvblxuICogQHBhcmFtIHtzdHJpbmd9IHByb3BlcnR5IE5hbWUgb2YgcHJvcGVydHlcbiAqIEBwYXJhbSB7T2JqZWN0fSBwcm9wcyBCYWcgb2YgY3VycmVudCBwcm9wZXJ0eSBjaGFuZ2VzXG4gKiBAcGFyYW0ge09iamVjdH0gb2xkUHJvcHMgQmFnIG9mIHByZXZpb3VzIHZhbHVlcyBmb3IgY2hhbmdlZCBwcm9wZXJ0aWVzXG4gKiBAcGFyYW0gez99IGluZm8gRWZmZWN0IG1ldGFkYXRhXG4gKiBAcGFyYW0ge2Jvb2xlYW59IGhhc1BhdGhzIFRydWUgd2l0aCBgcHJvcHNgIGNvbnRhaW5zIG9uZSBvciBtb3JlIHBhdGhzXG4gKiBAcmV0dXJuIHt2b2lkfVxuICogQHByaXZhdGVcbiAqL1xuZnVuY3Rpb24gcnVuTm90aWZ5RWZmZWN0KGluc3QsIHByb3BlcnR5LCBwcm9wcywgb2xkUHJvcHMsIGluZm8sIGhhc1BhdGhzKSB7XG4gIGxldCByb290UHJvcGVydHkgPSBoYXNQYXRocyA/IHJvb3QocHJvcGVydHkpIDogcHJvcGVydHk7XG4gIGxldCBwYXRoID0gcm9vdFByb3BlcnR5ICE9IHByb3BlcnR5ID8gcHJvcGVydHkgOiBudWxsO1xuICBsZXQgdmFsdWUgPSBwYXRoID8gZ2V0KGluc3QsIHBhdGgpIDogaW5zdC5fX2RhdGFbcHJvcGVydHldO1xuICBpZiAocGF0aCAmJiB2YWx1ZSA9PT0gdW5kZWZpbmVkKSB7XG4gICAgdmFsdWUgPSBwcm9wc1twcm9wZXJ0eV07ICAvLyBzcGVjaWZpY2FsbHkgZm9yIC5zcGxpY2VzXG4gIH1cbiAgZGlzcGF0Y2hOb3RpZnlFdmVudChpbnN0LCBpbmZvLmV2ZW50TmFtZSwgdmFsdWUsIHBhdGgpO1xufVxuXG4vKipcbiAqIEhhbmRsZXIgZnVuY3Rpb24gZm9yIDItd2F5IG5vdGlmaWNhdGlvbiBldmVudHMuIFJlY2VpdmVzIGNvbnRleHRcbiAqIGluZm9ybWF0aW9uIGNhcHR1cmVkIGluIHRoZSBgYWRkTm90aWZ5TGlzdGVuZXJgIGNsb3N1cmUgZnJvbSB0aGVcbiAqIGBfX25vdGlmeUxpc3RlbmVyc2AgbWV0YWRhdGEuXG4gKlxuICogU2V0cyB0aGUgdmFsdWUgb2YgdGhlIG5vdGlmaWVkIHByb3BlcnR5IHRvIHRoZSBob3N0IHByb3BlcnR5IG9yIHBhdGguICBJZlxuICogdGhlIGV2ZW50IGNvbnRhaW5lZCBwYXRoIGluZm9ybWF0aW9uLCB0cmFuc2xhdGUgdGhhdCBwYXRoIHRvIHRoZSBob3N0XG4gKiBzY29wZSdzIG5hbWUgZm9yIHRoYXQgcGF0aCBmaXJzdC5cbiAqXG4gKiBAcGFyYW0ge0N1c3RvbUV2ZW50fSBldmVudCBOb3RpZmljYXRpb24gZXZlbnQgKGUuZy4gJzxwcm9wZXJ0eT4tY2hhbmdlZCcpXG4gKiBAcGFyYW0geyFQb2x5bWVyX1Byb3BlcnR5RWZmZWN0c30gaW5zdCBIb3N0IGVsZW1lbnQgaW5zdGFuY2UgaGFuZGxpbmcgdGhlXG4gKiAgICAgbm90aWZpY2F0aW9uIGV2ZW50XG4gKiBAcGFyYW0ge3N0cmluZ30gZnJvbVByb3AgQ2hpbGQgZWxlbWVudCBwcm9wZXJ0eSB0aGF0IHdhcyBib3VuZFxuICogQHBhcmFtIHtzdHJpbmd9IHRvUGF0aCBIb3N0IHByb3BlcnR5L3BhdGggdGhhdCB3YXMgYm91bmRcbiAqIEBwYXJhbSB7Ym9vbGVhbn0gbmVnYXRlIFdoZXRoZXIgdGhlIGJpbmRpbmcgd2FzIG5lZ2F0ZWRcbiAqIEByZXR1cm4ge3ZvaWR9XG4gKiBAcHJpdmF0ZVxuICovXG5mdW5jdGlvbiBoYW5kbGVOb3RpZmljYXRpb24oZXZlbnQsIGluc3QsIGZyb21Qcm9wLCB0b1BhdGgsIG5lZ2F0ZSkge1xuICBsZXQgdmFsdWU7XG4gIGxldCBkZXRhaWwgPSAvKiogQHR5cGUge09iamVjdH0gKi8oZXZlbnQuZGV0YWlsKTtcbiAgbGV0IGZyb21QYXRoID0gZGV0YWlsICYmIGRldGFpbC5wYXRoO1xuICBpZiAoZnJvbVBhdGgpIHtcbiAgICB0b1BhdGggPSB0cmFuc2xhdGUoZnJvbVByb3AsIHRvUGF0aCwgZnJvbVBhdGgpO1xuICAgIHZhbHVlID0gZGV0YWlsICYmIGRldGFpbC52YWx1ZTtcbiAgfSBlbHNlIHtcbiAgICB2YWx1ZSA9IGV2ZW50LmN1cnJlbnRUYXJnZXRbZnJvbVByb3BdO1xuICB9XG4gIHZhbHVlID0gbmVnYXRlID8gIXZhbHVlIDogdmFsdWU7XG4gIGlmICghaW5zdFtUWVBFUy5SRUFEX09OTFldIHx8ICFpbnN0W1RZUEVTLlJFQURfT05MWV1bdG9QYXRoXSkge1xuICAgIGlmIChpbnN0Ll9zZXRQZW5kaW5nUHJvcGVydHlPclBhdGgodG9QYXRoLCB2YWx1ZSwgdHJ1ZSwgQm9vbGVhbihmcm9tUGF0aCkpXG4gICAgICAmJiAoIWRldGFpbCB8fCAhZGV0YWlsLnF1ZXVlUHJvcGVydHkpKSB7XG4gICAgICBpbnN0Ll9pbnZhbGlkYXRlUHJvcGVydGllcygpO1xuICAgIH1cbiAgfVxufVxuXG4vKipcbiAqIEltcGxlbWVudHMgdGhlIFwicmVmbGVjdFwiIGVmZmVjdC5cbiAqXG4gKiBTZXRzIHRoZSBhdHRyaWJ1dGUgbmFtZWQgYGluZm8uYXR0ck5hbWVgIHRvIHRoZSBnaXZlbiBwcm9wZXJ0eSB2YWx1ZS5cbiAqXG4gKiBAcGFyYW0geyFQb2x5bWVyX1Byb3BlcnR5RWZmZWN0c30gaW5zdCBUaGUgaW5zdGFuY2UgdGhlIGVmZmVjdCB3aWxsIGJlIHJ1biBvblxuICogQHBhcmFtIHtzdHJpbmd9IHByb3BlcnR5IE5hbWUgb2YgcHJvcGVydHlcbiAqIEBwYXJhbSB7T2JqZWN0fSBwcm9wcyBCYWcgb2YgY3VycmVudCBwcm9wZXJ0eSBjaGFuZ2VzXG4gKiBAcGFyYW0ge09iamVjdH0gb2xkUHJvcHMgQmFnIG9mIHByZXZpb3VzIHZhbHVlcyBmb3IgY2hhbmdlZCBwcm9wZXJ0aWVzXG4gKiBAcGFyYW0gez99IGluZm8gRWZmZWN0IG1ldGFkYXRhXG4gKiBAcmV0dXJuIHt2b2lkfVxuICogQHByaXZhdGVcbiAqL1xuZnVuY3Rpb24gcnVuUmVmbGVjdEVmZmVjdChpbnN0LCBwcm9wZXJ0eSwgcHJvcHMsIG9sZFByb3BzLCBpbmZvKSB7XG4gIGxldCB2YWx1ZSA9IGluc3QuX19kYXRhW3Byb3BlcnR5XTtcbiAgaWYgKHNhbml0aXplRE9NVmFsdWUpIHtcbiAgICB2YWx1ZSA9IHNhbml0aXplRE9NVmFsdWUodmFsdWUsIGluZm8uYXR0ck5hbWUsICdhdHRyaWJ1dGUnLCAvKiogQHR5cGUge05vZGV9ICovKGluc3QpKTtcbiAgfVxuICBpbnN0Ll9wcm9wZXJ0eVRvQXR0cmlidXRlKHByb3BlcnR5LCBpbmZvLmF0dHJOYW1lLCB2YWx1ZSk7XG59XG5cbi8qKlxuICogUnVucyBcImNvbXB1dGVkXCIgZWZmZWN0cyBmb3IgYSBzZXQgb2YgY2hhbmdlZCBwcm9wZXJ0aWVzLlxuICpcbiAqIFRoaXMgbWV0aG9kIGRpZmZlcnMgZnJvbSB0aGUgZ2VuZXJpYyBgcnVuRWZmZWN0c2AgbWV0aG9kIGluIHRoYXQgaXRcbiAqIGNvbnRpbnVlcyB0byBydW4gY29tcHV0ZWQgZWZmZWN0cyBiYXNlZCBvbiB0aGUgb3V0cHV0IG9mIGVhY2ggcGFzcyB1bnRpbFxuICogdGhlcmUgYXJlIG5vIG1vcmUgbmV3bHkgY29tcHV0ZWQgcHJvcGVydGllcy4gIFRoaXMgZW5zdXJlcyB0aGF0IGFsbFxuICogcHJvcGVydGllcyB0aGF0IHdpbGwgYmUgY29tcHV0ZWQgYnkgdGhlIGluaXRpYWwgc2V0IG9mIGNoYW5nZXMgYXJlXG4gKiBjb21wdXRlZCBiZWZvcmUgb3RoZXIgZWZmZWN0cyAoYmluZGluZyBwcm9wYWdhdGlvbiwgb2JzZXJ2ZXJzLCBhbmQgbm90aWZ5KVxuICogcnVuLlxuICpcbiAqIEBwYXJhbSB7IVBvbHltZXJfUHJvcGVydHlFZmZlY3RzfSBpbnN0IFRoZSBpbnN0YW5jZSB0aGUgZWZmZWN0IHdpbGwgYmUgcnVuIG9uXG4gKiBAcGFyYW0gez9PYmplY3R9IGNoYW5nZWRQcm9wcyBCYWcgb2YgY2hhbmdlZCBwcm9wZXJ0aWVzXG4gKiBAcGFyYW0gez9PYmplY3R9IG9sZFByb3BzIEJhZyBvZiBwcmV2aW91cyB2YWx1ZXMgZm9yIGNoYW5nZWQgcHJvcGVydGllc1xuICogQHBhcmFtIHtib29sZWFufSBoYXNQYXRocyBUcnVlIHdpdGggYHByb3BzYCBjb250YWlucyBvbmUgb3IgbW9yZSBwYXRoc1xuICogQHJldHVybiB7dm9pZH1cbiAqIEBwcml2YXRlXG4gKi9cbmZ1bmN0aW9uIHJ1bkNvbXB1dGVkRWZmZWN0cyhpbnN0LCBjaGFuZ2VkUHJvcHMsIG9sZFByb3BzLCBoYXNQYXRocykge1xuICBsZXQgY29tcHV0ZUVmZmVjdHMgPSBpbnN0W1RZUEVTLkNPTVBVVEVdO1xuICBpZiAoY29tcHV0ZUVmZmVjdHMpIHtcbiAgICBsZXQgaW5wdXRQcm9wcyA9IGNoYW5nZWRQcm9wcztcbiAgICB3aGlsZSAocnVuRWZmZWN0cyhpbnN0LCBjb21wdXRlRWZmZWN0cywgaW5wdXRQcm9wcywgb2xkUHJvcHMsIGhhc1BhdGhzKSkge1xuICAgICAgT2JqZWN0LmFzc2lnbigvKiogQHR5cGUgeyFPYmplY3R9ICovIChvbGRQcm9wcyksIGluc3QuX19kYXRhT2xkKTtcbiAgICAgIE9iamVjdC5hc3NpZ24oLyoqIEB0eXBlIHshT2JqZWN0fSAqLyAoY2hhbmdlZFByb3BzKSwgaW5zdC5fX2RhdGFQZW5kaW5nKTtcbiAgICAgIGlucHV0UHJvcHMgPSBpbnN0Ll9fZGF0YVBlbmRpbmc7XG4gICAgICBpbnN0Ll9fZGF0YVBlbmRpbmcgPSBudWxsO1xuICAgIH1cbiAgfVxufVxuXG4vKipcbiAqIEltcGxlbWVudHMgdGhlIFwiY29tcHV0ZWQgcHJvcGVydHlcIiBlZmZlY3QgYnkgcnVubmluZyB0aGUgbWV0aG9kIHdpdGggdGhlXG4gKiB2YWx1ZXMgb2YgdGhlIGFyZ3VtZW50cyBzcGVjaWZpZWQgaW4gdGhlIGBpbmZvYCBvYmplY3QgYW5kIHNldHRpbmcgdGhlXG4gKiByZXR1cm4gdmFsdWUgdG8gdGhlIGNvbXB1dGVkIHByb3BlcnR5IHNwZWNpZmllZC5cbiAqXG4gKiBAcGFyYW0geyFQb2x5bWVyX1Byb3BlcnR5RWZmZWN0c30gaW5zdCBUaGUgaW5zdGFuY2UgdGhlIGVmZmVjdCB3aWxsIGJlIHJ1biBvblxuICogQHBhcmFtIHtzdHJpbmd9IHByb3BlcnR5IE5hbWUgb2YgcHJvcGVydHlcbiAqIEBwYXJhbSB7P09iamVjdH0gcHJvcHMgQmFnIG9mIGN1cnJlbnQgcHJvcGVydHkgY2hhbmdlc1xuICogQHBhcmFtIHs/T2JqZWN0fSBvbGRQcm9wcyBCYWcgb2YgcHJldmlvdXMgdmFsdWVzIGZvciBjaGFuZ2VkIHByb3BlcnRpZXNcbiAqIEBwYXJhbSB7P30gaW5mbyBFZmZlY3QgbWV0YWRhdGFcbiAqIEByZXR1cm4ge3ZvaWR9XG4gKiBAcHJpdmF0ZVxuICovXG5mdW5jdGlvbiBydW5Db21wdXRlZEVmZmVjdChpbnN0LCBwcm9wZXJ0eSwgcHJvcHMsIG9sZFByb3BzLCBpbmZvKSB7XG4gIGxldCByZXN1bHQgPSBydW5NZXRob2RFZmZlY3QoaW5zdCwgcHJvcGVydHksIHByb3BzLCBvbGRQcm9wcywgaW5mbyk7XG4gIGxldCBjb21wdXRlZFByb3AgPSBpbmZvLm1ldGhvZEluZm87XG4gIGlmIChpbnN0Ll9fZGF0YUhhc0FjY2Vzc29yICYmIGluc3QuX19kYXRhSGFzQWNjZXNzb3JbY29tcHV0ZWRQcm9wXSkge1xuICAgIGluc3QuX3NldFBlbmRpbmdQcm9wZXJ0eShjb21wdXRlZFByb3AsIHJlc3VsdCwgdHJ1ZSk7XG4gIH0gZWxzZSB7XG4gICAgaW5zdFtjb21wdXRlZFByb3BdID0gcmVzdWx0O1xuICB9XG59XG5cbi8qKlxuICogQ29tcHV0ZXMgcGF0aCBjaGFuZ2VzIGJhc2VkIG9uIHBhdGggbGlua3Mgc2V0IHVwIHVzaW5nIHRoZSBgbGlua1BhdGhzYFxuICogQVBJLlxuICpcbiAqIEBwYXJhbSB7IVBvbHltZXJfUHJvcGVydHlFZmZlY3RzfSBpbnN0IFRoZSBpbnN0YW5jZSB3aG9zZSBwcm9wcyBhcmUgY2hhbmdpbmdcbiAqIEBwYXJhbSB7c3RyaW5nfSBwYXRoIFBhdGggdGhhdCBoYXMgY2hhbmdlZFxuICogQHBhcmFtIHsqfSB2YWx1ZSBWYWx1ZSBvZiBjaGFuZ2VkIHBhdGhcbiAqIEByZXR1cm4ge3ZvaWR9XG4gKiBAcHJpdmF0ZVxuICovXG5mdW5jdGlvbiBjb21wdXRlTGlua2VkUGF0aHMoaW5zdCwgcGF0aCwgdmFsdWUpIHtcbiAgbGV0IGxpbmtzID0gaW5zdC5fX2RhdGFMaW5rZWRQYXRocztcbiAgaWYgKGxpbmtzKSB7XG4gICAgbGV0IGxpbms7XG4gICAgZm9yIChsZXQgYSBpbiBsaW5rcykge1xuICAgICAgbGV0IGIgPSBsaW5rc1thXTtcbiAgICAgIGlmIChpc0Rlc2NlbmRhbnQoYSwgcGF0aCkpIHtcbiAgICAgICAgbGluayA9IHRyYW5zbGF0ZShhLCBiLCBwYXRoKTtcbiAgICAgICAgaW5zdC5fc2V0UGVuZGluZ1Byb3BlcnR5T3JQYXRoKGxpbmssIHZhbHVlLCB0cnVlLCB0cnVlKTtcbiAgICAgIH0gZWxzZSBpZiAoaXNEZXNjZW5kYW50KGIsIHBhdGgpKSB7XG4gICAgICAgIGxpbmsgPSB0cmFuc2xhdGUoYiwgYSwgcGF0aCk7XG4gICAgICAgIGluc3QuX3NldFBlbmRpbmdQcm9wZXJ0eU9yUGF0aChsaW5rLCB2YWx1ZSwgdHJ1ZSwgdHJ1ZSk7XG4gICAgICB9XG4gICAgfVxuICB9XG59XG5cbi8vIC0tIGJpbmRpbmdzIC0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS1cblxuLyoqXG4gKiBBZGRzIGJpbmRpbmcgbWV0YWRhdGEgdG8gdGhlIGN1cnJlbnQgYG5vZGVJbmZvYCwgYW5kIGJpbmRpbmcgZWZmZWN0c1xuICogZm9yIGFsbCBwYXJ0IGRlcGVuZGVuY2llcyB0byBgdGVtcGxhdGVJbmZvYC5cbiAqXG4gKiBAcGFyYW0ge0Z1bmN0aW9ufSBjb25zdHJ1Y3RvciBDbGFzcyB0aGF0IGBfcGFyc2VUZW1wbGF0ZWAgaXMgY3VycmVudGx5XG4gKiAgIHJ1bm5pbmcgb25cbiAqIEBwYXJhbSB7VGVtcGxhdGVJbmZvfSB0ZW1wbGF0ZUluZm8gVGVtcGxhdGUgbWV0YWRhdGEgZm9yIGN1cnJlbnQgdGVtcGxhdGVcbiAqIEBwYXJhbSB7Tm9kZUluZm99IG5vZGVJbmZvIE5vZGUgbWV0YWRhdGEgZm9yIGN1cnJlbnQgdGVtcGxhdGUgbm9kZVxuICogQHBhcmFtIHtzdHJpbmd9IGtpbmQgQmluZGluZyBraW5kLCBlaXRoZXIgJ3Byb3BlcnR5JywgJ2F0dHJpYnV0ZScsIG9yICd0ZXh0J1xuICogQHBhcmFtIHtzdHJpbmd9IHRhcmdldCBUYXJnZXQgcHJvcGVydHkgbmFtZVxuICogQHBhcmFtIHshQXJyYXk8IUJpbmRpbmdQYXJ0Pn0gcGFydHMgQXJyYXkgb2YgYmluZGluZyBwYXJ0IG1ldGFkYXRhXG4gKiBAcGFyYW0ge3N0cmluZz19IGxpdGVyYWwgTGl0ZXJhbCB0ZXh0IHN1cnJvdW5kaW5nIGJpbmRpbmcgcGFydHMgKHNwZWNpZmllZFxuICogICBvbmx5IGZvciAncHJvcGVydHknIGJpbmRpbmdzLCBzaW5jZSB0aGVzZSBtdXN0IGJlIGluaXRpYWxpemVkIGFzIHBhcnRcbiAqICAgb2YgYm9vdC11cClcbiAqIEByZXR1cm4ge3ZvaWR9XG4gKiBAcHJpdmF0ZVxuICovXG5mdW5jdGlvbiBhZGRCaW5kaW5nKGNvbnN0cnVjdG9yLCB0ZW1wbGF0ZUluZm8sIG5vZGVJbmZvLCBraW5kLCB0YXJnZXQsIHBhcnRzLCBsaXRlcmFsKSB7XG4gIC8vIENyZWF0ZSBiaW5kaW5nIG1ldGFkYXRhIGFuZCBhZGQgdG8gbm9kZUluZm9cbiAgbm9kZUluZm8uYmluZGluZ3MgPSBub2RlSW5mby5iaW5kaW5ncyB8fCBbXTtcbiAgbGV0IC8qKiBCaW5kaW5nICovIGJpbmRpbmcgPSB7IGtpbmQsIHRhcmdldCwgcGFydHMsIGxpdGVyYWwsIGlzQ29tcG91bmQ6IChwYXJ0cy5sZW5ndGggIT09IDEpIH07XG4gIG5vZGVJbmZvLmJpbmRpbmdzLnB1c2goYmluZGluZyk7XG4gIC8vIEFkZCBsaXN0ZW5lciBpbmZvIHRvIGJpbmRpbmcgbWV0YWRhdGFcbiAgaWYgKHNob3VsZEFkZExpc3RlbmVyKGJpbmRpbmcpKSB7XG4gICAgbGV0IHtldmVudCwgbmVnYXRlfSA9IGJpbmRpbmcucGFydHNbMF07XG4gICAgYmluZGluZy5saXN0ZW5lckV2ZW50ID0gZXZlbnQgfHwgKGNhbWVsVG9EYXNoQ2FzZSh0YXJnZXQpICsgJy1jaGFuZ2VkJyk7XG4gICAgYmluZGluZy5saXN0ZW5lck5lZ2F0ZSA9IG5lZ2F0ZTtcbiAgfVxuICAvLyBBZGQgXCJwcm9wYWdhdGVcIiBwcm9wZXJ0eSBlZmZlY3RzIHRvIHRlbXBsYXRlSW5mb1xuICBsZXQgaW5kZXggPSB0ZW1wbGF0ZUluZm8ubm9kZUluZm9MaXN0Lmxlbmd0aDtcbiAgZm9yIChsZXQgaT0wOyBpPGJpbmRpbmcucGFydHMubGVuZ3RoOyBpKyspIHtcbiAgICBsZXQgcGFydCA9IGJpbmRpbmcucGFydHNbaV07XG4gICAgcGFydC5jb21wb3VuZEluZGV4ID0gaTtcbiAgICBhZGRFZmZlY3RGb3JCaW5kaW5nUGFydChjb25zdHJ1Y3RvciwgdGVtcGxhdGVJbmZvLCBiaW5kaW5nLCBwYXJ0LCBpbmRleCk7XG4gIH1cbn1cblxuLyoqXG4gKiBBZGRzIHByb3BlcnR5IGVmZmVjdHMgdG8gdGhlIGdpdmVuIGB0ZW1wbGF0ZUluZm9gIGZvciB0aGUgZ2l2ZW4gYmluZGluZ1xuICogcGFydC5cbiAqXG4gKiBAcGFyYW0ge0Z1bmN0aW9ufSBjb25zdHJ1Y3RvciBDbGFzcyB0aGF0IGBfcGFyc2VUZW1wbGF0ZWAgaXMgY3VycmVudGx5XG4gKiAgIHJ1bm5pbmcgb25cbiAqIEBwYXJhbSB7VGVtcGxhdGVJbmZvfSB0ZW1wbGF0ZUluZm8gVGVtcGxhdGUgbWV0YWRhdGEgZm9yIGN1cnJlbnQgdGVtcGxhdGVcbiAqIEBwYXJhbSB7IUJpbmRpbmd9IGJpbmRpbmcgQmluZGluZyBtZXRhZGF0YVxuICogQHBhcmFtIHshQmluZGluZ1BhcnR9IHBhcnQgQmluZGluZyBwYXJ0IG1ldGFkYXRhXG4gKiBAcGFyYW0ge251bWJlcn0gaW5kZXggSW5kZXggaW50byBgbm9kZUluZm9MaXN0YCBmb3IgdGhpcyBub2RlXG4gKiBAcmV0dXJuIHt2b2lkfVxuICovXG5mdW5jdGlvbiBhZGRFZmZlY3RGb3JCaW5kaW5nUGFydChjb25zdHJ1Y3RvciwgdGVtcGxhdGVJbmZvLCBiaW5kaW5nLCBwYXJ0LCBpbmRleCkge1xuICBpZiAoIXBhcnQubGl0ZXJhbCkge1xuICAgIGlmIChiaW5kaW5nLmtpbmQgPT09ICdhdHRyaWJ1dGUnICYmIGJpbmRpbmcudGFyZ2V0WzBdID09PSAnLScpIHtcbiAgICAgIGNvbnNvbGUud2FybignQ2Fubm90IHNldCBhdHRyaWJ1dGUgJyArIGJpbmRpbmcudGFyZ2V0ICtcbiAgICAgICAgJyBiZWNhdXNlIFwiLVwiIGlzIG5vdCBhIHZhbGlkIGF0dHJpYnV0ZSBzdGFydGluZyBjaGFyYWN0ZXInKTtcbiAgICB9IGVsc2Uge1xuICAgICAgbGV0IGRlcGVuZGVuY2llcyA9IHBhcnQuZGVwZW5kZW5jaWVzO1xuICAgICAgbGV0IGluZm8gPSB7IGluZGV4LCBiaW5kaW5nLCBwYXJ0LCBldmFsdWF0b3I6IGNvbnN0cnVjdG9yIH07XG4gICAgICBmb3IgKGxldCBqPTA7IGo8ZGVwZW5kZW5jaWVzLmxlbmd0aDsgaisrKSB7XG4gICAgICAgIGxldCB0cmlnZ2VyID0gZGVwZW5kZW5jaWVzW2pdO1xuICAgICAgICBpZiAodHlwZW9mIHRyaWdnZXIgPT0gJ3N0cmluZycpIHtcbiAgICAgICAgICB0cmlnZ2VyID0gcGFyc2VBcmcodHJpZ2dlcik7XG4gICAgICAgICAgdHJpZ2dlci53aWxkY2FyZCA9IHRydWU7XG4gICAgICAgIH1cbiAgICAgICAgY29uc3RydWN0b3IuX2FkZFRlbXBsYXRlUHJvcGVydHlFZmZlY3QodGVtcGxhdGVJbmZvLCB0cmlnZ2VyLnJvb3RQcm9wZXJ0eSwge1xuICAgICAgICAgIGZuOiBydW5CaW5kaW5nRWZmZWN0LFxuICAgICAgICAgIGluZm8sIHRyaWdnZXJcbiAgICAgICAgfSk7XG4gICAgICB9XG4gICAgfVxuICB9XG59XG5cbi8qKlxuICogSW1wbGVtZW50cyB0aGUgXCJiaW5kaW5nXCIgKHByb3BlcnR5L3BhdGggYmluZGluZykgZWZmZWN0LlxuICpcbiAqIE5vdGUgdGhhdCBiaW5kaW5nIHN5bnRheCBpcyBvdmVycmlkYWJsZSB2aWEgYF9wYXJzZUJpbmRpbmdzYCBhbmRcbiAqIGBfZXZhbHVhdGVCaW5kaW5nYC4gIFRoaXMgbWV0aG9kIHdpbGwgY2FsbCBgX2V2YWx1YXRlQmluZGluZ2AgZm9yIGFueVxuICogbm9uLWxpdGVyYWwgcGFydHMgcmV0dXJuZWQgZnJvbSBgX3BhcnNlQmluZGluZ3NgLiAgSG93ZXZlcixcbiAqIHRoZXJlIGlzIG5vIHN1cHBvcnQgZm9yIF9wYXRoXyBiaW5kaW5ncyB2aWEgY3VzdG9tIGJpbmRpbmcgcGFydHMsXG4gKiBhcyB0aGlzIGlzIHNwZWNpZmljIHRvIFBvbHltZXIncyBwYXRoIGJpbmRpbmcgc3ludGF4LlxuICpcbiAqIEBwYXJhbSB7IVBvbHltZXJfUHJvcGVydHlFZmZlY3RzfSBpbnN0IFRoZSBpbnN0YW5jZSB0aGUgZWZmZWN0IHdpbGwgYmUgcnVuIG9uXG4gKiBAcGFyYW0ge3N0cmluZ30gcGF0aCBOYW1lIG9mIHByb3BlcnR5XG4gKiBAcGFyYW0ge09iamVjdH0gcHJvcHMgQmFnIG9mIGN1cnJlbnQgcHJvcGVydHkgY2hhbmdlc1xuICogQHBhcmFtIHtPYmplY3R9IG9sZFByb3BzIEJhZyBvZiBwcmV2aW91cyB2YWx1ZXMgZm9yIGNoYW5nZWQgcHJvcGVydGllc1xuICogQHBhcmFtIHs/fSBpbmZvIEVmZmVjdCBtZXRhZGF0YVxuICogQHBhcmFtIHtib29sZWFufSBoYXNQYXRocyBUcnVlIHdpdGggYHByb3BzYCBjb250YWlucyBvbmUgb3IgbW9yZSBwYXRoc1xuICogQHBhcmFtIHtBcnJheX0gbm9kZUxpc3QgTGlzdCBvZiBub2RlcyBhc3NvY2lhdGVkIHdpdGggYG5vZGVJbmZvTGlzdGAgdGVtcGxhdGVcbiAqICAgbWV0YWRhdGFcbiAqIEByZXR1cm4ge3ZvaWR9XG4gKiBAcHJpdmF0ZVxuICovXG5mdW5jdGlvbiBydW5CaW5kaW5nRWZmZWN0KGluc3QsIHBhdGgsIHByb3BzLCBvbGRQcm9wcywgaW5mbywgaGFzUGF0aHMsIG5vZGVMaXN0KSB7XG4gIGxldCBub2RlID0gbm9kZUxpc3RbaW5mby5pbmRleF07XG4gIGxldCBiaW5kaW5nID0gaW5mby5iaW5kaW5nO1xuICBsZXQgcGFydCA9IGluZm8ucGFydDtcbiAgLy8gU3VicGF0aCBub3RpZmljYXRpb246IHRyYW5zZm9ybSBwYXRoIGFuZCBzZXQgdG8gY2xpZW50XG4gIC8vIGUuZy46IGZvbz1cInt7b2JqLnN1Yn19XCIsIHBhdGg6ICdvYmouc3ViLnByb3AnLCBzZXQgJ2Zvby5wcm9wJz1vYmouc3ViLnByb3BcbiAgaWYgKGhhc1BhdGhzICYmIHBhcnQuc291cmNlICYmIChwYXRoLmxlbmd0aCA+IHBhcnQuc291cmNlLmxlbmd0aCkgJiZcbiAgICAgIChiaW5kaW5nLmtpbmQgPT0gJ3Byb3BlcnR5JykgJiYgIWJpbmRpbmcuaXNDb21wb3VuZCAmJlxuICAgICAgbm9kZS5fX2lzUHJvcGVydHlFZmZlY3RzQ2xpZW50ICYmXG4gICAgICBub2RlLl9fZGF0YUhhc0FjY2Vzc29yICYmIG5vZGUuX19kYXRhSGFzQWNjZXNzb3JbYmluZGluZy50YXJnZXRdKSB7XG4gICAgbGV0IHZhbHVlID0gcHJvcHNbcGF0aF07XG4gICAgcGF0aCA9IHRyYW5zbGF0ZShwYXJ0LnNvdXJjZSwgYmluZGluZy50YXJnZXQsIHBhdGgpO1xuICAgIGlmIChub2RlLl9zZXRQZW5kaW5nUHJvcGVydHlPclBhdGgocGF0aCwgdmFsdWUsIGZhbHNlLCB0cnVlKSkge1xuICAgICAgaW5zdC5fZW5xdWV1ZUNsaWVudChub2RlKTtcbiAgICB9XG4gIH0gZWxzZSB7XG4gICAgbGV0IHZhbHVlID0gaW5mby5ldmFsdWF0b3IuX2V2YWx1YXRlQmluZGluZyhpbnN0LCBwYXJ0LCBwYXRoLCBwcm9wcywgb2xkUHJvcHMsIGhhc1BhdGhzKTtcbiAgICAvLyBQcm9wYWdhdGUgdmFsdWUgdG8gY2hpbGRcbiAgICBhcHBseUJpbmRpbmdWYWx1ZShpbnN0LCBub2RlLCBiaW5kaW5nLCBwYXJ0LCB2YWx1ZSk7XG4gIH1cbn1cblxuLyoqXG4gKiBTZXRzIHRoZSB2YWx1ZSBmb3IgYW4gXCJiaW5kaW5nXCIgKGJpbmRpbmcpIGVmZmVjdCB0byBhIG5vZGUsXG4gKiBlaXRoZXIgYXMgYSBwcm9wZXJ0eSBvciBhdHRyaWJ1dGUuXG4gKlxuICogQHBhcmFtIHshUG9seW1lcl9Qcm9wZXJ0eUVmZmVjdHN9IGluc3QgVGhlIGluc3RhbmNlIG93bmluZyB0aGUgYmluZGluZyBlZmZlY3RcbiAqIEBwYXJhbSB7Tm9kZX0gbm9kZSBUYXJnZXQgbm9kZSBmb3IgYmluZGluZ1xuICogQHBhcmFtIHshQmluZGluZ30gYmluZGluZyBCaW5kaW5nIG1ldGFkYXRhXG4gKiBAcGFyYW0geyFCaW5kaW5nUGFydH0gcGFydCBCaW5kaW5nIHBhcnQgbWV0YWRhdGFcbiAqIEBwYXJhbSB7Kn0gdmFsdWUgVmFsdWUgdG8gc2V0XG4gKiBAcmV0dXJuIHt2b2lkfVxuICogQHByaXZhdGVcbiAqL1xuZnVuY3Rpb24gYXBwbHlCaW5kaW5nVmFsdWUoaW5zdCwgbm9kZSwgYmluZGluZywgcGFydCwgdmFsdWUpIHtcbiAgdmFsdWUgPSBjb21wdXRlQmluZGluZ1ZhbHVlKG5vZGUsIHZhbHVlLCBiaW5kaW5nLCBwYXJ0KTtcbiAgaWYgKHNhbml0aXplRE9NVmFsdWUpIHtcbiAgICB2YWx1ZSA9IHNhbml0aXplRE9NVmFsdWUodmFsdWUsIGJpbmRpbmcudGFyZ2V0LCBiaW5kaW5nLmtpbmQsIG5vZGUpO1xuICB9XG4gIGlmIChiaW5kaW5nLmtpbmQgPT0gJ2F0dHJpYnV0ZScpIHtcbiAgICAvLyBBdHRyaWJ1dGUgYmluZGluZ1xuICAgIGluc3QuX3ZhbHVlVG9Ob2RlQXR0cmlidXRlKC8qKiBAdHlwZSB7RWxlbWVudH0gKi8obm9kZSksIHZhbHVlLCBiaW5kaW5nLnRhcmdldCk7XG4gIH0gZWxzZSB7XG4gICAgLy8gUHJvcGVydHkgYmluZGluZ1xuICAgIGxldCBwcm9wID0gYmluZGluZy50YXJnZXQ7XG4gICAgaWYgKG5vZGUuX19pc1Byb3BlcnR5RWZmZWN0c0NsaWVudCAmJlxuICAgICAgICBub2RlLl9fZGF0YUhhc0FjY2Vzc29yICYmIG5vZGUuX19kYXRhSGFzQWNjZXNzb3JbcHJvcF0pIHtcbiAgICAgIGlmICghbm9kZVtUWVBFUy5SRUFEX09OTFldIHx8ICFub2RlW1RZUEVTLlJFQURfT05MWV1bcHJvcF0pIHtcbiAgICAgICAgaWYgKG5vZGUuX3NldFBlbmRpbmdQcm9wZXJ0eShwcm9wLCB2YWx1ZSkpIHtcbiAgICAgICAgICBpbnN0Ll9lbnF1ZXVlQ2xpZW50KG5vZGUpO1xuICAgICAgICB9XG4gICAgICB9XG4gICAgfSBlbHNlICB7XG4gICAgICBpbnN0Ll9zZXRVbm1hbmFnZWRQcm9wZXJ0eVRvTm9kZShub2RlLCBwcm9wLCB2YWx1ZSk7XG4gICAgfVxuICB9XG59XG5cbi8qKlxuICogVHJhbnNmb3JtcyBhbiBcImJpbmRpbmdcIiBlZmZlY3QgdmFsdWUgYmFzZWQgb24gY29tcG91bmQgJiBuZWdhdGlvblxuICogZWZmZWN0IG1ldGFkYXRhLCBhcyB3ZWxsIGFzIGhhbmRsaW5nIGZvciBzcGVjaWFsLWNhc2UgcHJvcGVydGllc1xuICpcbiAqIEBwYXJhbSB7Tm9kZX0gbm9kZSBOb2RlIHRoZSB2YWx1ZSB3aWxsIGJlIHNldCB0b1xuICogQHBhcmFtIHsqfSB2YWx1ZSBWYWx1ZSB0byBzZXRcbiAqIEBwYXJhbSB7IUJpbmRpbmd9IGJpbmRpbmcgQmluZGluZyBtZXRhZGF0YVxuICogQHBhcmFtIHshQmluZGluZ1BhcnR9IHBhcnQgQmluZGluZyBwYXJ0IG1ldGFkYXRhXG4gKiBAcmV0dXJuIHsqfSBUcmFuc2Zvcm1lZCB2YWx1ZSB0byBzZXRcbiAqIEBwcml2YXRlXG4gKi9cbmZ1bmN0aW9uIGNvbXB1dGVCaW5kaW5nVmFsdWUobm9kZSwgdmFsdWUsIGJpbmRpbmcsIHBhcnQpIHtcbiAgaWYgKGJpbmRpbmcuaXNDb21wb3VuZCkge1xuICAgIGxldCBzdG9yYWdlID0gbm9kZS5fX2RhdGFDb21wb3VuZFN0b3JhZ2VbYmluZGluZy50YXJnZXRdO1xuICAgIHN0b3JhZ2VbcGFydC5jb21wb3VuZEluZGV4XSA9IHZhbHVlO1xuICAgIHZhbHVlID0gc3RvcmFnZS5qb2luKCcnKTtcbiAgfVxuICBpZiAoYmluZGluZy5raW5kICE9PSAnYXR0cmlidXRlJykge1xuICAgIC8vIFNvbWUgYnJvd3NlcnMgc2VyaWFsaXplIGB1bmRlZmluZWRgIHRvIGBcInVuZGVmaW5lZFwiYFxuICAgIGlmIChiaW5kaW5nLnRhcmdldCA9PT0gJ3RleHRDb250ZW50JyB8fFxuICAgICAgICAoYmluZGluZy50YXJnZXQgPT09ICd2YWx1ZScgJiZcbiAgICAgICAgICAobm9kZS5sb2NhbE5hbWUgPT09ICdpbnB1dCcgfHwgbm9kZS5sb2NhbE5hbWUgPT09ICd0ZXh0YXJlYScpKSkge1xuICAgICAgdmFsdWUgPSB2YWx1ZSA9PSB1bmRlZmluZWQgPyAnJyA6IHZhbHVlO1xuICAgIH1cbiAgfVxuICByZXR1cm4gdmFsdWU7XG59XG5cbi8qKlxuICogUmV0dXJucyB0cnVlIGlmIGEgYmluZGluZydzIG1ldGFkYXRhIG1lZXRzIGFsbCB0aGUgcmVxdWlyZW1lbnRzIHRvIGFsbG93XG4gKiAyLXdheSBiaW5kaW5nLCBhbmQgdGhlcmVmb3JlIGEgYDxwcm9wZXJ0eT4tY2hhbmdlZGAgZXZlbnQgbGlzdGVuZXIgc2hvdWxkIGJlXG4gKiBhZGRlZDpcbiAqIC0gdXNlZCBjdXJseSBicmFjZXNcbiAqIC0gaXMgYSBwcm9wZXJ0eSAobm90IGF0dHJpYnV0ZSkgYmluZGluZ1xuICogLSBpcyBub3QgYSB0ZXh0Q29udGVudCBiaW5kaW5nXG4gKiAtIGlzIG5vdCBjb21wb3VuZFxuICpcbiAqIEBwYXJhbSB7IUJpbmRpbmd9IGJpbmRpbmcgQmluZGluZyBtZXRhZGF0YVxuICogQHJldHVybiB7Ym9vbGVhbn0gVHJ1ZSBpZiAyLXdheSBsaXN0ZW5lciBzaG91bGQgYmUgYWRkZWRcbiAqIEBwcml2YXRlXG4gKi9cbmZ1bmN0aW9uIHNob3VsZEFkZExpc3RlbmVyKGJpbmRpbmcpIHtcbiAgcmV0dXJuIEJvb2xlYW4oYmluZGluZy50YXJnZXQpICYmXG4gICAgICAgICBiaW5kaW5nLmtpbmQgIT0gJ2F0dHJpYnV0ZScgJiZcbiAgICAgICAgIGJpbmRpbmcua2luZCAhPSAndGV4dCcgJiZcbiAgICAgICAgICFiaW5kaW5nLmlzQ29tcG91bmQgJiZcbiAgICAgICAgIGJpbmRpbmcucGFydHNbMF0ubW9kZSA9PT0gJ3snO1xufVxuXG4vKipcbiAqIFNldHVwIGNvbXBvdW5kIGJpbmRpbmcgc3RvcmFnZSBzdHJ1Y3R1cmVzLCBub3RpZnkgbGlzdGVuZXJzLCBhbmQgZGF0YUhvc3RcbiAqIHJlZmVyZW5jZXMgb250byB0aGUgYm91bmQgbm9kZUxpc3QuXG4gKlxuICogQHBhcmFtIHshUG9seW1lcl9Qcm9wZXJ0eUVmZmVjdHN9IGluc3QgSW5zdGFuY2UgdGhhdCBiYXMgYmVlbiBwcmV2aW91c2x5XG4gKiAgICAgYm91bmRcbiAqIEBwYXJhbSB7VGVtcGxhdGVJbmZvfSB0ZW1wbGF0ZUluZm8gVGVtcGxhdGUgbWV0YWRhdGFcbiAqIEByZXR1cm4ge3ZvaWR9XG4gKiBAcHJpdmF0ZVxuICovXG5mdW5jdGlvbiBzZXR1cEJpbmRpbmdzKGluc3QsIHRlbXBsYXRlSW5mbykge1xuICAvLyBTZXR1cCBjb21wb3VuZCBzdG9yYWdlLCBkYXRhSG9zdCwgYW5kIG5vdGlmeSBsaXN0ZW5lcnNcbiAgbGV0IHtub2RlTGlzdCwgbm9kZUluZm9MaXN0fSA9IHRlbXBsYXRlSW5mbztcbiAgaWYgKG5vZGVJbmZvTGlzdC5sZW5ndGgpIHtcbiAgICBmb3IgKGxldCBpPTA7IGkgPCBub2RlSW5mb0xpc3QubGVuZ3RoOyBpKyspIHtcbiAgICAgIGxldCBpbmZvID0gbm9kZUluZm9MaXN0W2ldO1xuICAgICAgbGV0IG5vZGUgPSBub2RlTGlzdFtpXTtcbiAgICAgIGxldCBiaW5kaW5ncyA9IGluZm8uYmluZGluZ3M7XG4gICAgICBpZiAoYmluZGluZ3MpIHtcbiAgICAgICAgZm9yIChsZXQgaT0wOyBpPGJpbmRpbmdzLmxlbmd0aDsgaSsrKSB7XG4gICAgICAgICAgbGV0IGJpbmRpbmcgPSBiaW5kaW5nc1tpXTtcbiAgICAgICAgICBzZXR1cENvbXBvdW5kU3RvcmFnZShub2RlLCBiaW5kaW5nKTtcbiAgICAgICAgICBhZGROb3RpZnlMaXN0ZW5lcihub2RlLCBpbnN0LCBiaW5kaW5nKTtcbiAgICAgICAgfVxuICAgICAgfVxuICAgICAgbm9kZS5fX2RhdGFIb3N0ID0gaW5zdDtcbiAgICB9XG4gIH1cbn1cblxuLyoqXG4gKiBJbml0aWFsaXplcyBgX19kYXRhQ29tcG91bmRTdG9yYWdlYCBsb2NhbCBzdG9yYWdlIG9uIGEgYm91bmQgbm9kZSB3aXRoXG4gKiBpbml0aWFsIGxpdGVyYWwgZGF0YSBmb3IgY29tcG91bmQgYmluZGluZ3MsIGFuZCBzZXRzIHRoZSBqb2luZWRcbiAqIGxpdGVyYWwgcGFydHMgdG8gdGhlIGJvdW5kIHByb3BlcnR5LlxuICpcbiAqIFdoZW4gY2hhbmdlcyB0byBjb21wb3VuZCBwYXJ0cyBvY2N1ciwgdGhleSBhcmUgZmlyc3Qgc2V0IGludG8gdGhlIGNvbXBvdW5kXG4gKiBzdG9yYWdlIGFycmF5IGZvciB0aGF0IHByb3BlcnR5LCBhbmQgdGhlbiB0aGUgYXJyYXkgaXMgam9pbmVkIHRvIHJlc3VsdCBpblxuICogdGhlIGZpbmFsIHZhbHVlIHNldCB0byB0aGUgcHJvcGVydHkvYXR0cmlidXRlLlxuICpcbiAqIEBwYXJhbSB7Tm9kZX0gbm9kZSBCb3VuZCBub2RlIHRvIGluaXRpYWxpemVcbiAqIEBwYXJhbSB7QmluZGluZ30gYmluZGluZyBCaW5kaW5nIG1ldGFkYXRhXG4gKiBAcmV0dXJuIHt2b2lkfVxuICogQHByaXZhdGVcbiAqL1xuZnVuY3Rpb24gc2V0dXBDb21wb3VuZFN0b3JhZ2Uobm9kZSwgYmluZGluZykge1xuICBpZiAoYmluZGluZy5pc0NvbXBvdW5kKSB7XG4gICAgLy8gQ3JlYXRlIGNvbXBvdW5kIHN0b3JhZ2UgbWFwXG4gICAgbGV0IHN0b3JhZ2UgPSBub2RlLl9fZGF0YUNvbXBvdW5kU3RvcmFnZSB8fFxuICAgICAgKG5vZGUuX19kYXRhQ29tcG91bmRTdG9yYWdlID0ge30pO1xuICAgIGxldCBwYXJ0cyA9IGJpbmRpbmcucGFydHM7XG4gICAgLy8gQ29weSBsaXRlcmFscyBmcm9tIHBhcnRzIGludG8gc3RvcmFnZSBmb3IgdGhpcyBiaW5kaW5nXG4gICAgbGV0IGxpdGVyYWxzID0gbmV3IEFycmF5KHBhcnRzLmxlbmd0aCk7XG4gICAgZm9yIChsZXQgaj0wOyBqPHBhcnRzLmxlbmd0aDsgaisrKSB7XG4gICAgICBsaXRlcmFsc1tqXSA9IHBhcnRzW2pdLmxpdGVyYWw7XG4gICAgfVxuICAgIGxldCB0YXJnZXQgPSBiaW5kaW5nLnRhcmdldDtcbiAgICBzdG9yYWdlW3RhcmdldF0gPSBsaXRlcmFscztcbiAgICAvLyBDb25maWd1cmUgcHJvcGVydGllcyB3aXRoIHRoZWlyIGxpdGVyYWwgcGFydHNcbiAgICBpZiAoYmluZGluZy5saXRlcmFsICYmIGJpbmRpbmcua2luZCA9PSAncHJvcGVydHknKSB7XG4gICAgICBub2RlW3RhcmdldF0gPSBiaW5kaW5nLmxpdGVyYWw7XG4gICAgfVxuICB9XG59XG5cbi8qKlxuICogQWRkcyBhIDItd2F5IGJpbmRpbmcgbm90aWZpY2F0aW9uIGV2ZW50IGxpc3RlbmVyIHRvIHRoZSBub2RlIHNwZWNpZmllZFxuICpcbiAqIEBwYXJhbSB7T2JqZWN0fSBub2RlIENoaWxkIGVsZW1lbnQgdG8gYWRkIGxpc3RlbmVyIHRvXG4gKiBAcGFyYW0geyFQb2x5bWVyX1Byb3BlcnR5RWZmZWN0c30gaW5zdCBIb3N0IGVsZW1lbnQgaW5zdGFuY2UgdG8gaGFuZGxlXG4gKiAgICAgbm90aWZpY2F0aW9uIGV2ZW50XG4gKiBAcGFyYW0ge0JpbmRpbmd9IGJpbmRpbmcgQmluZGluZyBtZXRhZGF0YVxuICogQHJldHVybiB7dm9pZH1cbiAqIEBwcml2YXRlXG4gKi9cbmZ1bmN0aW9uIGFkZE5vdGlmeUxpc3RlbmVyKG5vZGUsIGluc3QsIGJpbmRpbmcpIHtcbiAgaWYgKGJpbmRpbmcubGlzdGVuZXJFdmVudCkge1xuICAgIGxldCBwYXJ0ID0gYmluZGluZy5wYXJ0c1swXTtcbiAgICBub2RlLmFkZEV2ZW50TGlzdGVuZXIoYmluZGluZy5saXN0ZW5lckV2ZW50LCBmdW5jdGlvbihlKSB7XG4gICAgICBoYW5kbGVOb3RpZmljYXRpb24oZSwgaW5zdCwgYmluZGluZy50YXJnZXQsIHBhcnQuc291cmNlLCBwYXJ0Lm5lZ2F0ZSk7XG4gICAgfSk7XG4gIH1cbn1cblxuLy8gLS0gZm9yIG1ldGhvZC1iYXNlZCBlZmZlY3RzIChjb21wbGV4T2JzZXJ2ZXIgJiBjb21wdXRlZCkgLS0tLS0tLS0tLS0tLS1cblxuLyoqXG4gKiBBZGRzIHByb3BlcnR5IGVmZmVjdHMgZm9yIGVhY2ggYXJndW1lbnQgaW4gdGhlIG1ldGhvZCBzaWduYXR1cmUgKGFuZFxuICogb3B0aW9uYWxseSwgZm9yIHRoZSBtZXRob2QgbmFtZSBpZiBgZHluYW1pY2AgaXMgdHJ1ZSkgdGhhdCBjYWxscyB0aGVcbiAqIHByb3ZpZGVkIGVmZmVjdCBmdW5jdGlvbi5cbiAqXG4gKiBAcGFyYW0ge0VsZW1lbnQgfCBPYmplY3R9IG1vZGVsIFByb3RvdHlwZSBvciBpbnN0YW5jZVxuICogQHBhcmFtIHshTWV0aG9kU2lnbmF0dXJlfSBzaWcgTWV0aG9kIHNpZ25hdHVyZSBtZXRhZGF0YVxuICogQHBhcmFtIHtzdHJpbmd9IHR5cGUgVHlwZSBvZiBwcm9wZXJ0eSBlZmZlY3QgdG8gYWRkXG4gKiBAcGFyYW0ge0Z1bmN0aW9ufSBlZmZlY3RGbiBGdW5jdGlvbiB0byBydW4gd2hlbiBhcmd1bWVudHMgY2hhbmdlXG4gKiBAcGFyYW0geyo9fSBtZXRob2RJbmZvIEVmZmVjdC1zcGVjaWZpYyBpbmZvcm1hdGlvbiB0byBiZSBpbmNsdWRlZCBpblxuICogICBtZXRob2QgZWZmZWN0IG1ldGFkYXRhXG4gKiBAcGFyYW0ge2Jvb2xlYW58T2JqZWN0PX0gZHluYW1pY0ZuIEJvb2xlYW4gb3Igb2JqZWN0IG1hcCBpbmRpY2F0aW5nIHdoZXRoZXJcbiAqICAgbWV0aG9kIG5hbWVzIHNob3VsZCBiZSBpbmNsdWRlZCBhcyBhIGRlcGVuZGVuY3kgdG8gdGhlIGVmZmVjdC4gTm90ZSxcbiAqICAgZGVmYXVsdHMgdG8gdHJ1ZSBpZiB0aGUgc2lnbmF0dXJlIGlzIHN0YXRpYyAoc2lnLnN0YXRpYyBpcyB0cnVlKS5cbiAqIEByZXR1cm4ge3ZvaWR9XG4gKiBAcHJpdmF0ZVxuICovXG5mdW5jdGlvbiBjcmVhdGVNZXRob2RFZmZlY3QobW9kZWwsIHNpZywgdHlwZSwgZWZmZWN0Rm4sIG1ldGhvZEluZm8sIGR5bmFtaWNGbikge1xuICBkeW5hbWljRm4gPSBzaWcuc3RhdGljIHx8IChkeW5hbWljRm4gJiZcbiAgICAodHlwZW9mIGR5bmFtaWNGbiAhPT0gJ29iamVjdCcgfHwgZHluYW1pY0ZuW3NpZy5tZXRob2ROYW1lXSkpO1xuICBsZXQgaW5mbyA9IHtcbiAgICBtZXRob2ROYW1lOiBzaWcubWV0aG9kTmFtZSxcbiAgICBhcmdzOiBzaWcuYXJncyxcbiAgICBtZXRob2RJbmZvLFxuICAgIGR5bmFtaWNGblxuICB9O1xuICBmb3IgKGxldCBpPTAsIGFyZzsgKGk8c2lnLmFyZ3MubGVuZ3RoKSAmJiAoYXJnPXNpZy5hcmdzW2ldKTsgaSsrKSB7XG4gICAgaWYgKCFhcmcubGl0ZXJhbCkge1xuICAgICAgbW9kZWwuX2FkZFByb3BlcnR5RWZmZWN0KGFyZy5yb290UHJvcGVydHksIHR5cGUsIHtcbiAgICAgICAgZm46IGVmZmVjdEZuLCBpbmZvOiBpbmZvLCB0cmlnZ2VyOiBhcmdcbiAgICAgIH0pO1xuICAgIH1cbiAgfVxuICBpZiAoZHluYW1pY0ZuKSB7XG4gICAgbW9kZWwuX2FkZFByb3BlcnR5RWZmZWN0KHNpZy5tZXRob2ROYW1lLCB0eXBlLCB7XG4gICAgICBmbjogZWZmZWN0Rm4sIGluZm86IGluZm9cbiAgICB9KTtcbiAgfVxufVxuXG4vKipcbiAqIENhbGxzIGEgbWV0aG9kIHdpdGggYXJndW1lbnRzIG1hcnNoYWxlZCBmcm9tIHByb3BlcnRpZXMgb24gdGhlIGluc3RhbmNlXG4gKiBiYXNlZCBvbiB0aGUgbWV0aG9kIHNpZ25hdHVyZSBjb250YWluZWQgaW4gdGhlIGVmZmVjdCBtZXRhZGF0YS5cbiAqXG4gKiBNdWx0aS1wcm9wZXJ0eSBvYnNlcnZlcnMsIGNvbXB1dGVkIHByb3BlcnRpZXMsIGFuZCBpbmxpbmUgY29tcHV0aW5nXG4gKiBmdW5jdGlvbnMgY2FsbCB0aGlzIGZ1bmN0aW9uIHRvIGludm9rZSB0aGUgbWV0aG9kLCB0aGVuIHVzZSB0aGUgcmV0dXJuXG4gKiB2YWx1ZSBhY2NvcmRpbmdseS5cbiAqXG4gKiBAcGFyYW0geyFQb2x5bWVyX1Byb3BlcnR5RWZmZWN0c30gaW5zdCBUaGUgaW5zdGFuY2UgdGhlIGVmZmVjdCB3aWxsIGJlIHJ1biBvblxuICogQHBhcmFtIHtzdHJpbmd9IHByb3BlcnR5IE5hbWUgb2YgcHJvcGVydHlcbiAqIEBwYXJhbSB7T2JqZWN0fSBwcm9wcyBCYWcgb2YgY3VycmVudCBwcm9wZXJ0eSBjaGFuZ2VzXG4gKiBAcGFyYW0ge09iamVjdH0gb2xkUHJvcHMgQmFnIG9mIHByZXZpb3VzIHZhbHVlcyBmb3IgY2hhbmdlZCBwcm9wZXJ0aWVzXG4gKiBAcGFyYW0gez99IGluZm8gRWZmZWN0IG1ldGFkYXRhXG4gKiBAcmV0dXJuIHsqfSBSZXR1cm5zIHRoZSByZXR1cm4gdmFsdWUgZnJvbSB0aGUgbWV0aG9kIGludm9jYXRpb25cbiAqIEBwcml2YXRlXG4gKi9cbmZ1bmN0aW9uIHJ1bk1ldGhvZEVmZmVjdChpbnN0LCBwcm9wZXJ0eSwgcHJvcHMsIG9sZFByb3BzLCBpbmZvKSB7XG4gIC8vIEluc3RhbmNlcyBjYW4gb3B0aW9uYWxseSBoYXZlIGEgX21ldGhvZEhvc3Qgd2hpY2ggYWxsb3dzIHJlZGlyZWN0aW5nIHdoZXJlXG4gIC8vIHRvIGZpbmQgbWV0aG9kcy4gQ3VycmVudGx5IHVzZWQgYnkgYHRlbXBsYXRpemVgLlxuICBsZXQgY29udGV4dCA9IGluc3QuX21ldGhvZEhvc3QgfHwgaW5zdDtcbiAgbGV0IGZuID0gY29udGV4dFtpbmZvLm1ldGhvZE5hbWVdO1xuICBpZiAoZm4pIHtcbiAgICBsZXQgYXJncyA9IGluc3QuX21hcnNoYWxBcmdzKGluZm8uYXJncywgcHJvcGVydHksIHByb3BzKTtcbiAgICByZXR1cm4gZm4uYXBwbHkoY29udGV4dCwgYXJncyk7XG4gIH0gZWxzZSBpZiAoIWluZm8uZHluYW1pY0ZuKSB7XG4gICAgY29uc29sZS53YXJuKCdtZXRob2QgYCcgKyBpbmZvLm1ldGhvZE5hbWUgKyAnYCBub3QgZGVmaW5lZCcpO1xuICB9XG59XG5cbmNvbnN0IGVtcHR5QXJyYXkgPSBbXTtcblxuLy8gUmVndWxhciBleHByZXNzaW9ucyB1c2VkIGZvciBiaW5kaW5nXG5jb25zdCBJREVOVCAgPSAnKD86JyArICdbYS16QS1aXyRdW1xcXFx3LjokXFxcXC0qXSonICsgJyknO1xuY29uc3QgTlVNQkVSID0gJyg/OicgKyAnWy0rXT9bMC05XSpcXFxcLj9bMC05XSsoPzpbZUVdWy0rXT9bMC05XSspPycgKyAnKSc7XG5jb25zdCBTUVVPVEVfU1RSSU5HID0gJyg/OicgKyAnXFwnKD86W15cXCdcXFxcXFxcXF18XFxcXFxcXFwuKSpcXCcnICsgJyknO1xuY29uc3QgRFFVT1RFX1NUUklORyA9ICcoPzonICsgJ1wiKD86W15cIlxcXFxcXFxcXXxcXFxcXFxcXC4pKlwiJyArICcpJztcbmNvbnN0IFNUUklORyA9ICcoPzonICsgU1FVT1RFX1NUUklORyArICd8JyArIERRVU9URV9TVFJJTkcgKyAnKSc7XG5jb25zdCBBUkdVTUVOVCA9ICcoPzooJyArIElERU5UICsgJ3wnICsgTlVNQkVSICsgJ3wnICsgIFNUUklORyArICcpXFxcXHMqJyArICcpJztcbmNvbnN0IEFSR1VNRU5UUyA9ICcoPzonICsgQVJHVU1FTlQgKyAnKD86LFxcXFxzKicgKyBBUkdVTUVOVCArICcpKicgKyAnKSc7XG5jb25zdCBBUkdVTUVOVF9MSVNUID0gJyg/OicgKyAnXFxcXChcXFxccyonICtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICcoPzonICsgQVJHVU1FTlRTICsgJz8nICsgJyknICtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAnXFxcXClcXFxccyonICsgJyknO1xuY29uc3QgQklORElORyA9ICcoJyArIElERU5UICsgJ1xcXFxzKicgKyBBUkdVTUVOVF9MSVNUICsgJz8nICsgJyknOyAvLyBHcm91cCAzXG5jb25zdCBPUEVOX0JSQUNLRVQgPSAnKFxcXFxbXFxcXFt8e3spJyArICdcXFxccyonO1xuY29uc3QgQ0xPU0VfQlJBQ0tFVCA9ICcoPzpdXXx9fSknO1xuY29uc3QgTkVHQVRFID0gJyg/OighKVxcXFxzKik/JzsgLy8gR3JvdXAgMlxuY29uc3QgRVhQUkVTU0lPTiA9IE9QRU5fQlJBQ0tFVCArIE5FR0FURSArIEJJTkRJTkcgKyBDTE9TRV9CUkFDS0VUO1xuY29uc3QgYmluZGluZ1JlZ2V4ID0gbmV3IFJlZ0V4cChFWFBSRVNTSU9OLCBcImdcIik7XG5cbi8qKlxuICogQ3JlYXRlIGEgc3RyaW5nIGZyb20gYmluZGluZyBwYXJ0cyBvZiBhbGwgdGhlIGxpdGVyYWwgcGFydHNcbiAqXG4gKiBAcGFyYW0geyFBcnJheTxCaW5kaW5nUGFydD59IHBhcnRzIEFsbCBwYXJ0cyB0byBzdHJpbmdpZnlcbiAqIEByZXR1cm4ge3N0cmluZ30gU3RyaW5nIG1hZGUgZnJvbSB0aGUgbGl0ZXJhbCBwYXJ0c1xuICovXG5mdW5jdGlvbiBsaXRlcmFsRnJvbVBhcnRzKHBhcnRzKSB7XG4gIGxldCBzID0gJyc7XG4gIGZvciAobGV0IGk9MDsgaTxwYXJ0cy5sZW5ndGg7IGkrKykge1xuICAgIGxldCBsaXRlcmFsID0gcGFydHNbaV0ubGl0ZXJhbDtcbiAgICBzICs9IGxpdGVyYWwgfHwgJyc7XG4gIH1cbiAgcmV0dXJuIHM7XG59XG5cbi8qKlxuICogUGFyc2VzIGFuIGV4cHJlc3Npb24gc3RyaW5nIGZvciBhIG1ldGhvZCBzaWduYXR1cmUsIGFuZCByZXR1cm5zIGEgbWV0YWRhdGFcbiAqIGRlc2NyaWJpbmcgdGhlIG1ldGhvZCBpbiB0ZXJtcyBvZiBgbWV0aG9kTmFtZWAsIGBzdGF0aWNgICh3aGV0aGVyIGFsbCB0aGVcbiAqIGFyZ3VtZW50cyBhcmUgbGl0ZXJhbHMpLCBhbmQgYW4gYXJyYXkgb2YgYGFyZ3NgXG4gKlxuICogQHBhcmFtIHtzdHJpbmd9IGV4cHJlc3Npb24gVGhlIGV4cHJlc3Npb24gdG8gcGFyc2VcbiAqIEByZXR1cm4gez9NZXRob2RTaWduYXR1cmV9IFRoZSBtZXRob2QgbWV0YWRhdGEgb2JqZWN0IGlmIGEgbWV0aG9kIGV4cHJlc3Npb24gd2FzXG4gKiAgIGZvdW5kLCBvdGhlcndpc2UgYHVuZGVmaW5lZGBcbiAqIEBwcml2YXRlXG4gKi9cbmZ1bmN0aW9uIHBhcnNlTWV0aG9kKGV4cHJlc3Npb24pIHtcbiAgLy8gdHJpZXMgdG8gbWF0Y2ggdmFsaWQgamF2YXNjcmlwdCBwcm9wZXJ0eSBuYW1lc1xuICBsZXQgbSA9IGV4cHJlc3Npb24ubWF0Y2goLyhbXlxcc10rPylcXCgoW1xcc1xcU10qKVxcKS8pO1xuICBpZiAobSkge1xuICAgIGxldCBtZXRob2ROYW1lID0gbVsxXTtcbiAgICBsZXQgc2lnID0geyBtZXRob2ROYW1lLCBzdGF0aWM6IHRydWUsIGFyZ3M6IGVtcHR5QXJyYXkgfTtcbiAgICBpZiAobVsyXS50cmltKCkpIHtcbiAgICAgIC8vIHJlcGxhY2UgZXNjYXBlZCBjb21tYXMgd2l0aCBjb21tYSBlbnRpdHksIHNwbGl0IG9uIHVuLWVzY2FwZWQgY29tbWFzXG4gICAgICBsZXQgYXJncyA9IG1bMl0ucmVwbGFjZSgvXFxcXCwvZywgJyZjb21tYTsnKS5zcGxpdCgnLCcpO1xuICAgICAgcmV0dXJuIHBhcnNlQXJncyhhcmdzLCBzaWcpO1xuICAgIH0gZWxzZSB7XG4gICAgICByZXR1cm4gc2lnO1xuICAgIH1cbiAgfVxuICByZXR1cm4gbnVsbDtcbn1cblxuLyoqXG4gKiBQYXJzZXMgYW4gYXJyYXkgb2YgYXJndW1lbnRzIGFuZCBzZXRzIHRoZSBgYXJnc2AgcHJvcGVydHkgb2YgdGhlIHN1cHBsaWVkXG4gKiBzaWduYXR1cmUgbWV0YWRhdGEgb2JqZWN0LiBTZXRzIHRoZSBgc3RhdGljYCBwcm9wZXJ0eSB0byBmYWxzZSBpZiBhbnlcbiAqIGFyZ3VtZW50IGlzIGEgbm9uLWxpdGVyYWwuXG4gKlxuICogQHBhcmFtIHshQXJyYXk8c3RyaW5nPn0gYXJnTGlzdCBBcnJheSBvZiBhcmd1bWVudCBuYW1lc1xuICogQHBhcmFtIHshTWV0aG9kU2lnbmF0dXJlfSBzaWcgTWV0aG9kIHNpZ25hdHVyZSBtZXRhZGF0YSBvYmplY3RcbiAqIEByZXR1cm4geyFNZXRob2RTaWduYXR1cmV9IFRoZSB1cGRhdGVkIHNpZ25hdHVyZSBtZXRhZGF0YSBvYmplY3RcbiAqIEBwcml2YXRlXG4gKi9cbmZ1bmN0aW9uIHBhcnNlQXJncyhhcmdMaXN0LCBzaWcpIHtcbiAgc2lnLmFyZ3MgPSBhcmdMaXN0Lm1hcChmdW5jdGlvbihyYXdBcmcpIHtcbiAgICBsZXQgYXJnID0gcGFyc2VBcmcocmF3QXJnKTtcbiAgICBpZiAoIWFyZy5saXRlcmFsKSB7XG4gICAgICBzaWcuc3RhdGljID0gZmFsc2U7XG4gICAgfVxuICAgIHJldHVybiBhcmc7XG4gIH0sIHRoaXMpO1xuICByZXR1cm4gc2lnO1xufVxuXG4vKipcbiAqIFBhcnNlcyBhbiBpbmRpdmlkdWFsIGFyZ3VtZW50LCBhbmQgcmV0dXJucyBhbiBhcmd1bWVudCBtZXRhZGF0YSBvYmplY3RcbiAqIHdpdGggdGhlIGZvbGxvd2luZyBmaWVsZHM6XG4gKlxuICogICB7XG4gKiAgICAgdmFsdWU6ICdwcm9wJywgICAgICAgIC8vIHByb3BlcnR5L3BhdGggb3IgbGl0ZXJhbCB2YWx1ZVxuICogICAgIGxpdGVyYWw6IGZhbHNlLCAgICAgICAvLyB3aGV0aGVyIGFyZ3VtZW50IGlzIGEgbGl0ZXJhbFxuICogICAgIHN0cnVjdHVyZWQ6IGZhbHNlLCAgICAvLyB3aGV0aGVyIHRoZSBwcm9wZXJ0eSBpcyBhIHBhdGhcbiAqICAgICByb290UHJvcGVydHk6ICdwcm9wJywgLy8gdGhlIHJvb3QgcHJvcGVydHkgb2YgdGhlIHBhdGhcbiAqICAgICB3aWxkY2FyZDogZmFsc2UgICAgICAgLy8gd2hldGhlciB0aGUgYXJndW1lbnQgd2FzIGEgd2lsZGNhcmQgJy4qJyBwYXRoXG4gKiAgIH1cbiAqXG4gKiBAcGFyYW0ge3N0cmluZ30gcmF3QXJnIFRoZSBzdHJpbmcgdmFsdWUgb2YgdGhlIGFyZ3VtZW50XG4gKiBAcmV0dXJuIHshTWV0aG9kQXJnfSBBcmd1bWVudCBtZXRhZGF0YSBvYmplY3RcbiAqIEBwcml2YXRlXG4gKi9cbmZ1bmN0aW9uIHBhcnNlQXJnKHJhd0FyZykge1xuICAvLyBjbGVhbiB1cCB3aGl0ZXNwYWNlXG4gIGxldCBhcmcgPSByYXdBcmcudHJpbSgpXG4gICAgLy8gcmVwbGFjZSBjb21tYSBlbnRpdHkgd2l0aCBjb21tYVxuICAgIC5yZXBsYWNlKC8mY29tbWE7L2csICcsJylcbiAgICAvLyByZXBhaXIgZXh0cmEgZXNjYXBlIHNlcXVlbmNlczsgbm90ZSBvbmx5IGNvbW1hcyBzdHJpY3RseSBuZWVkXG4gICAgLy8gZXNjYXBpbmcsIGJ1dCB3ZSBhbGxvdyBhbnkgb3RoZXIgY2hhciB0byBiZSBlc2NhcGVkIHNpbmNlIGl0c1xuICAgIC8vIGxpa2VseSB1c2VycyB3aWxsIGRvIHRoaXNcbiAgICAucmVwbGFjZSgvXFxcXCguKS9nLCAnXFwkMScpXG4gICAgO1xuICAvLyBiYXNpYyBhcmd1bWVudCBkZXNjcmlwdG9yXG4gIGxldCBhID0ge1xuICAgIG5hbWU6IGFyZyxcbiAgICB2YWx1ZTogJycsXG4gICAgbGl0ZXJhbDogZmFsc2VcbiAgfTtcbiAgLy8gZGV0ZWN0IGxpdGVyYWwgdmFsdWUgKG11c3QgYmUgU3RyaW5nIG9yIE51bWJlcilcbiAgbGV0IGZjID0gYXJnWzBdO1xuICBpZiAoZmMgPT09ICctJykge1xuICAgIGZjID0gYXJnWzFdO1xuICB9XG4gIGlmIChmYyA+PSAnMCcgJiYgZmMgPD0gJzknKSB7XG4gICAgZmMgPSAnIyc7XG4gIH1cbiAgc3dpdGNoKGZjKSB7XG4gICAgY2FzZSBcIidcIjpcbiAgICBjYXNlICdcIic6XG4gICAgICBhLnZhbHVlID0gYXJnLnNsaWNlKDEsIC0xKTtcbiAgICAgIGEubGl0ZXJhbCA9IHRydWU7XG4gICAgICBicmVhaztcbiAgICBjYXNlICcjJzpcbiAgICAgIGEudmFsdWUgPSBOdW1iZXIoYXJnKTtcbiAgICAgIGEubGl0ZXJhbCA9IHRydWU7XG4gICAgICBicmVhaztcbiAgfVxuICAvLyBpZiBub3QgbGl0ZXJhbCwgbG9vayBmb3Igc3RydWN0dXJlZCBwYXRoXG4gIGlmICghYS5saXRlcmFsKSB7XG4gICAgYS5yb290UHJvcGVydHkgPSByb290KGFyZyk7XG4gICAgLy8gZGV0ZWN0IHN0cnVjdHVyZWQgcGF0aCAoaGFzIGRvdHMpXG4gICAgYS5zdHJ1Y3R1cmVkID0gaXNQYXRoKGFyZyk7XG4gICAgaWYgKGEuc3RydWN0dXJlZCkge1xuICAgICAgYS53aWxkY2FyZCA9IChhcmcuc2xpY2UoLTIpID09ICcuKicpO1xuICAgICAgaWYgKGEud2lsZGNhcmQpIHtcbiAgICAgICAgYS5uYW1lID0gYXJnLnNsaWNlKDAsIC0yKTtcbiAgICAgIH1cbiAgICB9XG4gIH1cbiAgcmV0dXJuIGE7XG59XG5cbmZ1bmN0aW9uIGdldEFyZ1ZhbHVlKGRhdGEsIHByb3BzLCBwYXRoKSB7XG4gIGxldCB2YWx1ZSA9IGdldChkYXRhLCBwYXRoKTtcbiAgLy8gd2hlbiBkYXRhIGlzIG5vdCBzdG9yZWQgZS5nLiBgc3BsaWNlc2AsIGdldCB0aGUgdmFsdWUgZnJvbSBjaGFuZ2VkUHJvcHNcbiAgLy8gVE9ETyhrc2NoYWFmKTogTm90ZSwgdGhpcyBjYW4gY2F1c2UgYSByYXJlIGlzc3VlIHdoZXJlIHRoZSB3aWxkY2FyZFxuICAvLyBpbmZvLnZhbHVlIGNvdWxkIHB1bGwgYSBzdGFsZSB2YWx1ZSBvdXQgb2YgY2hhbmdlZFByb3BzIGR1cmluZyBhIHJlZW50cmFudFxuICAvLyBjaGFuZ2UgdGhhdCBzZXRzIHRoZSB2YWx1ZSBiYWNrIHRvIHVuZGVmaW5lZC5cbiAgLy8gaHR0cHM6Ly9naXRodWIuY29tL1BvbHltZXIvcG9seW1lci9pc3N1ZXMvNTQ3OVxuICBpZiAodmFsdWUgPT09IHVuZGVmaW5lZCkge1xuICAgIHZhbHVlID0gcHJvcHNbcGF0aF07XG4gIH1cbiAgcmV0dXJuIHZhbHVlO1xufVxuXG4vLyBkYXRhIGFwaVxuXG4vKipcbiAqIFNlbmRzIGFycmF5IHNwbGljZSBub3RpZmljYXRpb25zIChgLnNwbGljZXNgIGFuZCBgLmxlbmd0aGApXG4gKlxuICogTm90ZTogdGhpcyBpbXBsZW1lbnRhdGlvbiBvbmx5IGFjY2VwdHMgbm9ybWFsaXplZCBwYXRoc1xuICpcbiAqIEBwYXJhbSB7IVBvbHltZXJfUHJvcGVydHlFZmZlY3RzfSBpbnN0IEluc3RhbmNlIHRvIHNlbmQgbm90aWZpY2F0aW9ucyB0b1xuICogQHBhcmFtIHtBcnJheX0gYXJyYXkgVGhlIGFycmF5IHRoZSBtdXRhdGlvbnMgb2NjdXJyZWQgb25cbiAqIEBwYXJhbSB7c3RyaW5nfSBwYXRoIFRoZSBwYXRoIHRvIHRoZSBhcnJheSB0aGF0IHdhcyBtdXRhdGVkXG4gKiBAcGFyYW0ge0FycmF5fSBzcGxpY2VzIEFycmF5IG9mIHNwbGljZSByZWNvcmRzXG4gKiBAcmV0dXJuIHt2b2lkfVxuICogQHByaXZhdGVcbiAqL1xuZnVuY3Rpb24gbm90aWZ5U3BsaWNlcyhpbnN0LCBhcnJheSwgcGF0aCwgc3BsaWNlcykge1xuICBpbnN0Lm5vdGlmeVBhdGgocGF0aCArICcuc3BsaWNlcycsIHsgaW5kZXhTcGxpY2VzOiBzcGxpY2VzIH0pO1xuICBpbnN0Lm5vdGlmeVBhdGgocGF0aCArICcubGVuZ3RoJywgYXJyYXkubGVuZ3RoKTtcbn1cblxuLyoqXG4gKiBDcmVhdGVzIGEgc3BsaWNlIHJlY29yZCBhbmQgc2VuZHMgYW4gYXJyYXkgc3BsaWNlIG5vdGlmaWNhdGlvbiBmb3JcbiAqIHRoZSBkZXNjcmliZWQgbXV0YXRpb25cbiAqXG4gKiBOb3RlOiB0aGlzIGltcGxlbWVudGF0aW9uIG9ubHkgYWNjZXB0cyBub3JtYWxpemVkIHBhdGhzXG4gKlxuICogQHBhcmFtIHshUG9seW1lcl9Qcm9wZXJ0eUVmZmVjdHN9IGluc3QgSW5zdGFuY2UgdG8gc2VuZCBub3RpZmljYXRpb25zIHRvXG4gKiBAcGFyYW0ge0FycmF5fSBhcnJheSBUaGUgYXJyYXkgdGhlIG11dGF0aW9ucyBvY2N1cnJlZCBvblxuICogQHBhcmFtIHtzdHJpbmd9IHBhdGggVGhlIHBhdGggdG8gdGhlIGFycmF5IHRoYXQgd2FzIG11dGF0ZWRcbiAqIEBwYXJhbSB7bnVtYmVyfSBpbmRleCBJbmRleCBhdCB3aGljaCB0aGUgYXJyYXkgbXV0YXRpb24gb2NjdXJyZWRcbiAqIEBwYXJhbSB7bnVtYmVyfSBhZGRlZENvdW50IE51bWJlciBvZiBhZGRlZCBpdGVtc1xuICogQHBhcmFtIHtBcnJheX0gcmVtb3ZlZCBBcnJheSBvZiByZW1vdmVkIGl0ZW1zXG4gKiBAcmV0dXJuIHt2b2lkfVxuICogQHByaXZhdGVcbiAqL1xuZnVuY3Rpb24gbm90aWZ5U3BsaWNlKGluc3QsIGFycmF5LCBwYXRoLCBpbmRleCwgYWRkZWRDb3VudCwgcmVtb3ZlZCkge1xuICBub3RpZnlTcGxpY2VzKGluc3QsIGFycmF5LCBwYXRoLCBbe1xuICAgIGluZGV4OiBpbmRleCxcbiAgICBhZGRlZENvdW50OiBhZGRlZENvdW50LFxuICAgIHJlbW92ZWQ6IHJlbW92ZWQsXG4gICAgb2JqZWN0OiBhcnJheSxcbiAgICB0eXBlOiAnc3BsaWNlJ1xuICB9XSk7XG59XG5cbi8qKlxuICogUmV0dXJucyBhbiB1cHBlci1jYXNlZCB2ZXJzaW9uIG9mIHRoZSBzdHJpbmcuXG4gKlxuICogQHBhcmFtIHtzdHJpbmd9IG5hbWUgU3RyaW5nIHRvIHVwcGVyY2FzZVxuICogQHJldHVybiB7c3RyaW5nfSBVcHBlcmNhc2VkIHN0cmluZ1xuICogQHByaXZhdGVcbiAqL1xuZnVuY3Rpb24gdXBwZXIobmFtZSkge1xuICByZXR1cm4gbmFtZVswXS50b1VwcGVyQ2FzZSgpICsgbmFtZS5zdWJzdHJpbmcoMSk7XG59XG5cbi8qKlxuICogRWxlbWVudCBjbGFzcyBtaXhpbiB0aGF0IHByb3ZpZGVzIG1ldGEtcHJvZ3JhbW1pbmcgZm9yIFBvbHltZXIncyB0ZW1wbGF0ZVxuICogYmluZGluZyBhbmQgZGF0YSBvYnNlcnZhdGlvbiAoY29sbGVjdGl2ZWx5LCBcInByb3BlcnR5IGVmZmVjdHNcIikgc3lzdGVtLlxuICpcbiAqIFRoaXMgbWl4aW4gdXNlcyBwcm92aWRlcyB0aGUgZm9sbG93aW5nIGtleSBzdGF0aWMgbWV0aG9kcyBmb3IgYWRkaW5nXG4gKiBwcm9wZXJ0eSBlZmZlY3RzIHRvIGFuIGVsZW1lbnQgY2xhc3M6XG4gKiAtIGBhZGRQcm9wZXJ0eUVmZmVjdGBcbiAqIC0gYGNyZWF0ZVByb3BlcnR5T2JzZXJ2ZXJgXG4gKiAtIGBjcmVhdGVNZXRob2RPYnNlcnZlcmBcbiAqIC0gYGNyZWF0ZU5vdGlmeWluZ1Byb3BlcnR5YFxuICogLSBgY3JlYXRlUmVhZE9ubHlQcm9wZXJ0eWBcbiAqIC0gYGNyZWF0ZVJlZmxlY3RlZFByb3BlcnR5YFxuICogLSBgY3JlYXRlQ29tcHV0ZWRQcm9wZXJ0eWBcbiAqIC0gYGJpbmRUZW1wbGF0ZWBcbiAqXG4gKiBFYWNoIG1ldGhvZCBjcmVhdGVzIG9uZSBvciBtb3JlIHByb3BlcnR5IGFjY2Vzc29ycywgYWxvbmcgd2l0aCBtZXRhZGF0YVxuICogdXNlZCBieSB0aGlzIG1peGluJ3MgaW1wbGVtZW50YXRpb24gb2YgYF9wcm9wZXJ0aWVzQ2hhbmdlZGAgdG8gcGVyZm9ybVxuICogdGhlIHByb3BlcnR5IGVmZmVjdHMuXG4gKlxuICogVW5kZXJzY29yZWQgdmVyc2lvbnMgb2YgdGhlIGFib3ZlIG1ldGhvZHMgYWxzbyBleGlzdCBvbiB0aGUgZWxlbWVudFxuICogcHJvdG90eXBlIGZvciBhZGRpbmcgcHJvcGVydHkgZWZmZWN0cyBvbiBpbnN0YW5jZXMgYXQgcnVudGltZS5cbiAqXG4gKiBOb3RlIHRoYXQgdGhpcyBtaXhpbiBvdmVycmlkZXMgc2V2ZXJhbCBgUHJvcGVydHlBY2Nlc3NvcnNgIG1ldGhvZHMsIGluXG4gKiBtYW55IGNhc2VzIHRvIG1haW50YWluIGd1YXJhbnRlZXMgcHJvdmlkZWQgYnkgdGhlIFBvbHltZXIgMS54IGZlYXR1cmVzO1xuICogbm90YWJseSBpdCBjaGFuZ2VzIHByb3BlcnR5IGFjY2Vzc29ycyB0byBiZSBzeW5jaHJvbm91cyBieSBkZWZhdWx0XG4gKiB3aGVyZWFzIHRoZSBkZWZhdWx0IHdoZW4gdXNpbmcgYFByb3BlcnR5QWNjZXNzb3JzYCBzdGFuZGFsb25lIGlzIHRvIGJlXG4gKiBhc3luYyBieSBkZWZhdWx0LlxuICpcbiAqIEBtaXhpbkZ1bmN0aW9uXG4gKiBAcG9seW1lclxuICogQGFwcGxpZXNNaXhpbiBUZW1wbGF0ZVN0YW1wXG4gKiBAYXBwbGllc01peGluIFByb3BlcnR5QWNjZXNzb3JzXG4gKiBAc3VtbWFyeSBFbGVtZW50IGNsYXNzIG1peGluIHRoYXQgcHJvdmlkZXMgbWV0YS1wcm9ncmFtbWluZyBmb3IgUG9seW1lcidzXG4gKiB0ZW1wbGF0ZSBiaW5kaW5nIGFuZCBkYXRhIG9ic2VydmF0aW9uIHN5c3RlbS5cbiAqL1xuZXhwb3J0IGNvbnN0IFByb3BlcnR5RWZmZWN0cyA9IGRlZHVwaW5nTWl4aW4oc3VwZXJDbGFzcyA9PiB7XG5cbiAgLyoqXG4gICAqIEBjb25zdHJ1Y3RvclxuICAgKiBAaW1wbGVtZW50cyB7UG9seW1lcl9Qcm9wZXJ0eUFjY2Vzc29yc31cbiAgICogQGltcGxlbWVudHMge1BvbHltZXJfVGVtcGxhdGVTdGFtcH1cbiAgICogQHVucmVzdHJpY3RlZFxuICAgKiBAcHJpdmF0ZVxuICAgKi9cbiAgY29uc3QgcHJvcGVydHlFZmZlY3RzQmFzZSA9IFRlbXBsYXRlU3RhbXAoUHJvcGVydHlBY2Nlc3NvcnMoc3VwZXJDbGFzcykpO1xuXG4gIC8qKlxuICAgKiBAcG9seW1lclxuICAgKiBAbWl4aW5DbGFzc1xuICAgKiBAaW1wbGVtZW50cyB7UG9seW1lcl9Qcm9wZXJ0eUVmZmVjdHN9XG4gICAqIEBleHRlbmRzIHtwcm9wZXJ0eUVmZmVjdHNCYXNlfVxuICAgKiBAdW5yZXN0cmljdGVkXG4gICAqL1xuICBjbGFzcyBQcm9wZXJ0eUVmZmVjdHMgZXh0ZW5kcyBwcm9wZXJ0eUVmZmVjdHNCYXNlIHtcblxuICAgIGNvbnN0cnVjdG9yKCkge1xuICAgICAgc3VwZXIoKTtcbiAgICAgIC8qKiBAdHlwZSB7Ym9vbGVhbn0gKi9cbiAgICAgIC8vIFVzZWQgdG8gaWRlbnRpZnkgdXNlcnMgb2YgdGhpcyBtaXhpbiwgYWxhIGluc3RhbmNlb2ZcbiAgICAgIHRoaXMuX19pc1Byb3BlcnR5RWZmZWN0c0NsaWVudCA9IHRydWU7XG4gICAgICAvKiogQHR5cGUge251bWJlcn0gKi9cbiAgICAgIC8vIE5PVEU6IHVzZWQgdG8gdHJhY2sgcmUtZW50cmFudCBjYWxscyB0byBgX2ZsdXNoUHJvcGVydGllc2BcbiAgICAgIC8vIHBhdGggY2hhbmdlcyBkaXJ0eSBjaGVjayBhZ2FpbnN0IGBfX2RhdGFUZW1wYCBvbmx5IGR1cmluZyBvbmUgXCJ0dXJuXCJcbiAgICAgIC8vIGFuZCBhcmUgY2xlYXJlZCB3aGVuIGBfX2RhdGFDb3VudGVyYCByZXR1cm5zIHRvIDAuXG4gICAgICB0aGlzLl9fZGF0YUNvdW50ZXIgPSAwO1xuICAgICAgLyoqIEB0eXBlIHtib29sZWFufSAqL1xuICAgICAgdGhpcy5fX2RhdGFDbGllbnRzUmVhZHk7XG4gICAgICAvKiogQHR5cGUge0FycmF5fSAqL1xuICAgICAgdGhpcy5fX2RhdGFQZW5kaW5nQ2xpZW50cztcbiAgICAgIC8qKiBAdHlwZSB7T2JqZWN0fSAqL1xuICAgICAgdGhpcy5fX2RhdGFUb05vdGlmeTtcbiAgICAgIC8qKiBAdHlwZSB7T2JqZWN0fSAqL1xuICAgICAgdGhpcy5fX2RhdGFMaW5rZWRQYXRocztcbiAgICAgIC8qKiBAdHlwZSB7Ym9vbGVhbn0gKi9cbiAgICAgIHRoaXMuX19kYXRhSGFzUGF0aHM7XG4gICAgICAvKiogQHR5cGUge09iamVjdH0gKi9cbiAgICAgIHRoaXMuX19kYXRhQ29tcG91bmRTdG9yYWdlO1xuICAgICAgLyoqIEB0eXBlIHtQb2x5bWVyX1Byb3BlcnR5RWZmZWN0c30gKi9cbiAgICAgIHRoaXMuX19kYXRhSG9zdDtcbiAgICAgIC8qKiBAdHlwZSB7IU9iamVjdH0gKi9cbiAgICAgIHRoaXMuX19kYXRhVGVtcDtcbiAgICAgIC8qKiBAdHlwZSB7Ym9vbGVhbn0gKi9cbiAgICAgIHRoaXMuX19kYXRhQ2xpZW50c0luaXRpYWxpemVkO1xuICAgICAgLyoqIEB0eXBlIHshT2JqZWN0fSAqL1xuICAgICAgdGhpcy5fX2RhdGE7XG4gICAgICAvKiogQHR5cGUgeyFPYmplY3R8bnVsbH0gKi9cbiAgICAgIHRoaXMuX19kYXRhUGVuZGluZztcbiAgICAgIC8qKiBAdHlwZSB7IU9iamVjdH0gKi9cbiAgICAgIHRoaXMuX19kYXRhT2xkO1xuICAgICAgLyoqIEB0eXBlIHtPYmplY3R9ICovXG4gICAgICB0aGlzLl9fY29tcHV0ZUVmZmVjdHM7XG4gICAgICAvKiogQHR5cGUge09iamVjdH0gKi9cbiAgICAgIHRoaXMuX19yZWZsZWN0RWZmZWN0cztcbiAgICAgIC8qKiBAdHlwZSB7T2JqZWN0fSAqL1xuICAgICAgdGhpcy5fX25vdGlmeUVmZmVjdHM7XG4gICAgICAvKiogQHR5cGUge09iamVjdH0gKi9cbiAgICAgIHRoaXMuX19wcm9wYWdhdGVFZmZlY3RzO1xuICAgICAgLyoqIEB0eXBlIHtPYmplY3R9ICovXG4gICAgICB0aGlzLl9fb2JzZXJ2ZUVmZmVjdHM7XG4gICAgICAvKiogQHR5cGUge09iamVjdH0gKi9cbiAgICAgIHRoaXMuX19yZWFkT25seTtcbiAgICAgIC8qKiBAdHlwZSB7IVRlbXBsYXRlSW5mb30gKi9cbiAgICAgIHRoaXMuX190ZW1wbGF0ZUluZm87XG4gICAgfVxuXG4gICAgZ2V0IFBST1BFUlRZX0VGRkVDVF9UWVBFUygpIHtcbiAgICAgIHJldHVybiBUWVBFUztcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBAb3ZlcnJpZGVcbiAgICAgKiBAcmV0dXJuIHt2b2lkfVxuICAgICAqL1xuICAgIF9pbml0aWFsaXplUHJvcGVydGllcygpIHtcbiAgICAgIHN1cGVyLl9pbml0aWFsaXplUHJvcGVydGllcygpO1xuICAgICAgaG9zdFN0YWNrLnJlZ2lzdGVySG9zdCh0aGlzKTtcbiAgICAgIHRoaXMuX19kYXRhQ2xpZW50c1JlYWR5ID0gZmFsc2U7XG4gICAgICB0aGlzLl9fZGF0YVBlbmRpbmdDbGllbnRzID0gbnVsbDtcbiAgICAgIHRoaXMuX19kYXRhVG9Ob3RpZnkgPSBudWxsO1xuICAgICAgdGhpcy5fX2RhdGFMaW5rZWRQYXRocyA9IG51bGw7XG4gICAgICB0aGlzLl9fZGF0YUhhc1BhdGhzID0gZmFsc2U7XG4gICAgICAvLyBNYXkgYmUgc2V0IG9uIGluc3RhbmNlIHByaW9yIHRvIHVwZ3JhZGVcbiAgICAgIHRoaXMuX19kYXRhQ29tcG91bmRTdG9yYWdlID0gdGhpcy5fX2RhdGFDb21wb3VuZFN0b3JhZ2UgfHwgbnVsbDtcbiAgICAgIHRoaXMuX19kYXRhSG9zdCA9IHRoaXMuX19kYXRhSG9zdCB8fCBudWxsO1xuICAgICAgdGhpcy5fX2RhdGFUZW1wID0ge307XG4gICAgICB0aGlzLl9fZGF0YUNsaWVudHNJbml0aWFsaXplZCA9IGZhbHNlO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIE92ZXJyaWRlcyBgUHJvcGVydHlBY2Nlc3NvcnNgIGltcGxlbWVudGF0aW9uIHRvIHByb3ZpZGUgYVxuICAgICAqIG1vcmUgZWZmaWNpZW50IGltcGxlbWVudGF0aW9uIG9mIGluaXRpYWxpemluZyBwcm9wZXJ0aWVzIGZyb21cbiAgICAgKiB0aGUgcHJvdG90eXBlIG9uIHRoZSBpbnN0YW5jZS5cbiAgICAgKlxuICAgICAqIEBvdmVycmlkZVxuICAgICAqIEBwYXJhbSB7T2JqZWN0fSBwcm9wcyBQcm9wZXJ0aWVzIHRvIGluaXRpYWxpemUgb24gdGhlIHByb3RvdHlwZVxuICAgICAqIEByZXR1cm4ge3ZvaWR9XG4gICAgICovXG4gICAgX2luaXRpYWxpemVQcm90b1Byb3BlcnRpZXMocHJvcHMpIHtcbiAgICAgIHRoaXMuX19kYXRhID0gT2JqZWN0LmNyZWF0ZShwcm9wcyk7XG4gICAgICB0aGlzLl9fZGF0YVBlbmRpbmcgPSBPYmplY3QuY3JlYXRlKHByb3BzKTtcbiAgICAgIHRoaXMuX19kYXRhT2xkID0ge307XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogT3ZlcnJpZGVzIGBQcm9wZXJ0eUFjY2Vzc29yc2AgaW1wbGVtZW50YXRpb24gdG8gYXZvaWQgc2V0dGluZ1xuICAgICAqIGBfc2V0UHJvcGVydHlgJ3MgYHNob3VsZE5vdGlmeTogdHJ1ZWAuXG4gICAgICpcbiAgICAgKiBAb3ZlcnJpZGVcbiAgICAgKiBAcGFyYW0ge09iamVjdH0gcHJvcHMgUHJvcGVydGllcyB0byBpbml0aWFsaXplIG9uIHRoZSBpbnN0YW5jZVxuICAgICAqIEByZXR1cm4ge3ZvaWR9XG4gICAgICovXG4gICAgX2luaXRpYWxpemVJbnN0YW5jZVByb3BlcnRpZXMocHJvcHMpIHtcbiAgICAgIGxldCByZWFkT25seSA9IHRoaXNbVFlQRVMuUkVBRF9PTkxZXTtcbiAgICAgIGZvciAobGV0IHByb3AgaW4gcHJvcHMpIHtcbiAgICAgICAgaWYgKCFyZWFkT25seSB8fCAhcmVhZE9ubHlbcHJvcF0pIHtcbiAgICAgICAgICB0aGlzLl9fZGF0YVBlbmRpbmcgPSB0aGlzLl9fZGF0YVBlbmRpbmcgfHwge307XG4gICAgICAgICAgdGhpcy5fX2RhdGFPbGQgPSB0aGlzLl9fZGF0YU9sZCB8fCB7fTtcbiAgICAgICAgICB0aGlzLl9fZGF0YVtwcm9wXSA9IHRoaXMuX19kYXRhUGVuZGluZ1twcm9wXSA9IHByb3BzW3Byb3BdO1xuICAgICAgICB9XG4gICAgICB9XG4gICAgfVxuXG4gICAgLy8gUHJvdG90eXBlIHNldHVwIC0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS1cblxuICAgIC8qKlxuICAgICAqIEVxdWl2YWxlbnQgdG8gc3RhdGljIGBhZGRQcm9wZXJ0eUVmZmVjdGAgQVBJIGJ1dCBjYW4gYmUgY2FsbGVkIG9uXG4gICAgICogYW4gaW5zdGFuY2UgdG8gYWRkIGVmZmVjdHMgYXQgcnVudGltZS4gIFNlZSB0aGF0IG1ldGhvZCBmb3JcbiAgICAgKiBmdWxsIEFQSSBkb2NzLlxuICAgICAqXG4gICAgICogQG92ZXJyaWRlXG4gICAgICogQHBhcmFtIHtzdHJpbmd9IHByb3BlcnR5IFByb3BlcnR5IHRoYXQgc2hvdWxkIHRyaWdnZXIgdGhlIGVmZmVjdFxuICAgICAqIEBwYXJhbSB7c3RyaW5nfSB0eXBlIEVmZmVjdCB0eXBlLCBmcm9tIHRoaXMuUFJPUEVSVFlfRUZGRUNUX1RZUEVTXG4gICAgICogQHBhcmFtIHtPYmplY3Q9fSBlZmZlY3QgRWZmZWN0IG1ldGFkYXRhIG9iamVjdFxuICAgICAqIEByZXR1cm4ge3ZvaWR9XG4gICAgICogQHByb3RlY3RlZFxuICAgICAqL1xuICAgIF9hZGRQcm9wZXJ0eUVmZmVjdChwcm9wZXJ0eSwgdHlwZSwgZWZmZWN0KSB7XG4gICAgICB0aGlzLl9jcmVhdGVQcm9wZXJ0eUFjY2Vzc29yKHByb3BlcnR5LCB0eXBlID09IFRZUEVTLlJFQURfT05MWSk7XG4gICAgICAvLyBlZmZlY3RzIGFyZSBhY2N1bXVsYXRlZCBpbnRvIGFycmF5cyBwZXIgcHJvcGVydHkgYmFzZWQgb24gdHlwZVxuICAgICAgbGV0IGVmZmVjdHMgPSBlbnN1cmVPd25FZmZlY3RNYXAodGhpcywgdHlwZSlbcHJvcGVydHldO1xuICAgICAgaWYgKCFlZmZlY3RzKSB7XG4gICAgICAgIGVmZmVjdHMgPSB0aGlzW3R5cGVdW3Byb3BlcnR5XSA9IFtdO1xuICAgICAgfVxuICAgICAgZWZmZWN0cy5wdXNoKGVmZmVjdCk7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogUmVtb3ZlcyB0aGUgZ2l2ZW4gcHJvcGVydHkgZWZmZWN0LlxuICAgICAqXG4gICAgICogQG92ZXJyaWRlXG4gICAgICogQHBhcmFtIHtzdHJpbmd9IHByb3BlcnR5IFByb3BlcnR5IHRoZSBlZmZlY3Qgd2FzIGFzc29jaWF0ZWQgd2l0aFxuICAgICAqIEBwYXJhbSB7c3RyaW5nfSB0eXBlIEVmZmVjdCB0eXBlLCBmcm9tIHRoaXMuUFJPUEVSVFlfRUZGRUNUX1RZUEVTXG4gICAgICogQHBhcmFtIHtPYmplY3Q9fSBlZmZlY3QgRWZmZWN0IG1ldGFkYXRhIG9iamVjdCB0byByZW1vdmVcbiAgICAgKiBAcmV0dXJuIHt2b2lkfVxuICAgICAqL1xuICAgIF9yZW1vdmVQcm9wZXJ0eUVmZmVjdChwcm9wZXJ0eSwgdHlwZSwgZWZmZWN0KSB7XG4gICAgICBsZXQgZWZmZWN0cyA9IGVuc3VyZU93bkVmZmVjdE1hcCh0aGlzLCB0eXBlKVtwcm9wZXJ0eV07XG4gICAgICBsZXQgaWR4ID0gZWZmZWN0cy5pbmRleE9mKGVmZmVjdCk7XG4gICAgICBpZiAoaWR4ID49IDApIHtcbiAgICAgICAgZWZmZWN0cy5zcGxpY2UoaWR4LCAxKTtcbiAgICAgIH1cbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBSZXR1cm5zIHdoZXRoZXIgdGhlIGN1cnJlbnQgcHJvdG90eXBlL2luc3RhbmNlIGhhcyBhIHByb3BlcnR5IGVmZmVjdFxuICAgICAqIG9mIGEgY2VydGFpbiB0eXBlLlxuICAgICAqXG4gICAgICogQG92ZXJyaWRlXG4gICAgICogQHBhcmFtIHtzdHJpbmd9IHByb3BlcnR5IFByb3BlcnR5IG5hbWVcbiAgICAgKiBAcGFyYW0ge3N0cmluZz19IHR5cGUgRWZmZWN0IHR5cGUsIGZyb20gdGhpcy5QUk9QRVJUWV9FRkZFQ1RfVFlQRVNcbiAgICAgKiBAcmV0dXJuIHtib29sZWFufSBUcnVlIGlmIHRoZSBwcm90b3R5cGUvaW5zdGFuY2UgaGFzIGFuIGVmZmVjdCBvZiB0aGlzXG4gICAgICogICAgIHR5cGVcbiAgICAgKiBAcHJvdGVjdGVkXG4gICAgICovXG4gICAgX2hhc1Byb3BlcnR5RWZmZWN0KHByb3BlcnR5LCB0eXBlKSB7XG4gICAgICBsZXQgZWZmZWN0cyA9IHRoaXNbdHlwZV07XG4gICAgICByZXR1cm4gQm9vbGVhbihlZmZlY3RzICYmIGVmZmVjdHNbcHJvcGVydHldKTtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBSZXR1cm5zIHdoZXRoZXIgdGhlIGN1cnJlbnQgcHJvdG90eXBlL2luc3RhbmNlIGhhcyBhIFwicmVhZCBvbmx5XCJcbiAgICAgKiBhY2Nlc3NvciBmb3IgdGhlIGdpdmVuIHByb3BlcnR5LlxuICAgICAqXG4gICAgICogQG92ZXJyaWRlXG4gICAgICogQHBhcmFtIHtzdHJpbmd9IHByb3BlcnR5IFByb3BlcnR5IG5hbWVcbiAgICAgKiBAcmV0dXJuIHtib29sZWFufSBUcnVlIGlmIHRoZSBwcm90b3R5cGUvaW5zdGFuY2UgaGFzIGFuIGVmZmVjdCBvZiB0aGlzXG4gICAgICogICAgIHR5cGVcbiAgICAgKiBAcHJvdGVjdGVkXG4gICAgICovXG4gICAgX2hhc1JlYWRPbmx5RWZmZWN0KHByb3BlcnR5KSB7XG4gICAgICByZXR1cm4gdGhpcy5faGFzUHJvcGVydHlFZmZlY3QocHJvcGVydHksIFRZUEVTLlJFQURfT05MWSk7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogUmV0dXJucyB3aGV0aGVyIHRoZSBjdXJyZW50IHByb3RvdHlwZS9pbnN0YW5jZSBoYXMgYSBcIm5vdGlmeVwiXG4gICAgICogcHJvcGVydHkgZWZmZWN0IGZvciB0aGUgZ2l2ZW4gcHJvcGVydHkuXG4gICAgICpcbiAgICAgKiBAb3ZlcnJpZGVcbiAgICAgKiBAcGFyYW0ge3N0cmluZ30gcHJvcGVydHkgUHJvcGVydHkgbmFtZVxuICAgICAqIEByZXR1cm4ge2Jvb2xlYW59IFRydWUgaWYgdGhlIHByb3RvdHlwZS9pbnN0YW5jZSBoYXMgYW4gZWZmZWN0IG9mIHRoaXNcbiAgICAgKiAgICAgdHlwZVxuICAgICAqIEBwcm90ZWN0ZWRcbiAgICAgKi9cbiAgICBfaGFzTm90aWZ5RWZmZWN0KHByb3BlcnR5KSB7XG4gICAgICByZXR1cm4gdGhpcy5faGFzUHJvcGVydHlFZmZlY3QocHJvcGVydHksIFRZUEVTLk5PVElGWSk7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogUmV0dXJucyB3aGV0aGVyIHRoZSBjdXJyZW50IHByb3RvdHlwZS9pbnN0YW5jZSBoYXMgYSBcInJlZmxlY3QgdG9cbiAgICAgKiBhdHRyaWJ1dGVcIiBwcm9wZXJ0eSBlZmZlY3QgZm9yIHRoZSBnaXZlbiBwcm9wZXJ0eS5cbiAgICAgKlxuICAgICAqIEBvdmVycmlkZVxuICAgICAqIEBwYXJhbSB7c3RyaW5nfSBwcm9wZXJ0eSBQcm9wZXJ0eSBuYW1lXG4gICAgICogQHJldHVybiB7Ym9vbGVhbn0gVHJ1ZSBpZiB0aGUgcHJvdG90eXBlL2luc3RhbmNlIGhhcyBhbiBlZmZlY3Qgb2YgdGhpc1xuICAgICAqICAgICB0eXBlXG4gICAgICogQHByb3RlY3RlZFxuICAgICAqL1xuICAgIF9oYXNSZWZsZWN0RWZmZWN0KHByb3BlcnR5KSB7XG4gICAgICByZXR1cm4gdGhpcy5faGFzUHJvcGVydHlFZmZlY3QocHJvcGVydHksIFRZUEVTLlJFRkxFQ1QpO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIFJldHVybnMgd2hldGhlciB0aGUgY3VycmVudCBwcm90b3R5cGUvaW5zdGFuY2UgaGFzIGEgXCJjb21wdXRlZFwiXG4gICAgICogcHJvcGVydHkgZWZmZWN0IGZvciB0aGUgZ2l2ZW4gcHJvcGVydHkuXG4gICAgICpcbiAgICAgKiBAb3ZlcnJpZGVcbiAgICAgKiBAcGFyYW0ge3N0cmluZ30gcHJvcGVydHkgUHJvcGVydHkgbmFtZVxuICAgICAqIEByZXR1cm4ge2Jvb2xlYW59IFRydWUgaWYgdGhlIHByb3RvdHlwZS9pbnN0YW5jZSBoYXMgYW4gZWZmZWN0IG9mIHRoaXNcbiAgICAgKiAgICAgdHlwZVxuICAgICAqIEBwcm90ZWN0ZWRcbiAgICAgKi9cbiAgICBfaGFzQ29tcHV0ZWRFZmZlY3QocHJvcGVydHkpIHtcbiAgICAgIHJldHVybiB0aGlzLl9oYXNQcm9wZXJ0eUVmZmVjdChwcm9wZXJ0eSwgVFlQRVMuQ09NUFVURSk7XG4gICAgfVxuXG4gICAgLy8gUnVudGltZSAtLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tXG5cbiAgICAvKipcbiAgICAgKiBTZXRzIGEgcGVuZGluZyBwcm9wZXJ0eSBvciBwYXRoLiAgSWYgdGhlIHJvb3QgcHJvcGVydHkgb2YgdGhlIHBhdGggaW5cbiAgICAgKiBxdWVzdGlvbiBoYWQgbm8gYWNjZXNzb3IsIHRoZSBwYXRoIGlzIHNldCwgb3RoZXJ3aXNlIGl0IGlzIGVucXVldWVkXG4gICAgICogdmlhIGBfc2V0UGVuZGluZ1Byb3BlcnR5YC5cbiAgICAgKlxuICAgICAqIFRoaXMgZnVuY3Rpb24gaXNvbGF0ZXMgcmVsYXRpdmVseSBleHBlbnNpdmUgZnVuY3Rpb25hbGl0eSBuZWNlc3NhcnlcbiAgICAgKiBmb3IgdGhlIHB1YmxpYyBBUEkgKGBzZXRgLCBgc2V0UHJvcGVydGllc2AsIGBub3RpZnlQYXRoYCwgYW5kIHByb3BlcnR5XG4gICAgICogY2hhbmdlIGxpc3RlbmVycyB2aWEge3suLi59fSBiaW5kaW5ncyksIHN1Y2ggdGhhdCBpdCBpcyBvbmx5IGRvbmVcbiAgICAgKiB3aGVuIHBhdGhzIGVudGVyIHRoZSBzeXN0ZW0sIGFuZCBub3QgYXQgZXZlcnkgcHJvcGFnYXRpb24gc3RlcC4gIEl0XG4gICAgICogYWxzbyBzZXRzIGEgYF9fZGF0YUhhc1BhdGhzYCBmbGFnIG9uIHRoZSBpbnN0YW5jZSB3aGljaCBpcyB1c2VkIHRvXG4gICAgICogZmFzdC1wYXRoIHNsb3dlciBwYXRoLW1hdGNoaW5nIGNvZGUgaW4gdGhlIHByb3BlcnR5IGVmZmVjdHMgaG9zdCBwYXRocy5cbiAgICAgKlxuICAgICAqIGBwYXRoYCBjYW4gYmUgYSBwYXRoIHN0cmluZyBvciBhcnJheSBvZiBwYXRoIHBhcnRzIGFzIGFjY2VwdGVkIGJ5IHRoZVxuICAgICAqIHB1YmxpYyBBUEkuXG4gICAgICpcbiAgICAgKiBAb3ZlcnJpZGVcbiAgICAgKiBAcGFyYW0ge3N0cmluZyB8ICFBcnJheTxudW1iZXJ8c3RyaW5nPn0gcGF0aCBQYXRoIHRvIHNldFxuICAgICAqIEBwYXJhbSB7Kn0gdmFsdWUgVmFsdWUgdG8gc2V0XG4gICAgICogQHBhcmFtIHtib29sZWFuPX0gc2hvdWxkTm90aWZ5IFNldCB0byB0cnVlIGlmIHRoaXMgY2hhbmdlIHNob3VsZFxuICAgICAqICBjYXVzZSBhIHByb3BlcnR5IG5vdGlmaWNhdGlvbiBldmVudCBkaXNwYXRjaFxuICAgICAqIEBwYXJhbSB7Ym9vbGVhbj19IGlzUGF0aE5vdGlmaWNhdGlvbiBJZiB0aGUgcGF0aCBiZWluZyBzZXQgaXMgYSBwYXRoXG4gICAgICogICBub3RpZmljYXRpb24gb2YgYW4gYWxyZWFkeSBjaGFuZ2VkIHZhbHVlLCBhcyBvcHBvc2VkIHRvIGEgcmVxdWVzdFxuICAgICAqICAgdG8gc2V0IGFuZCBub3RpZnkgdGhlIGNoYW5nZS4gIEluIHRoZSBsYXR0ZXIgYGZhbHNlYCBjYXNlLCBhIGRpcnR5XG4gICAgICogICBjaGVjayBpcyBwZXJmb3JtZWQgYW5kIHRoZW4gdGhlIHZhbHVlIGlzIHNldCB0byB0aGUgcGF0aCBiZWZvcmVcbiAgICAgKiAgIGVucXVldWluZyB0aGUgcGVuZGluZyBwcm9wZXJ0eSBjaGFuZ2UuXG4gICAgICogQHJldHVybiB7Ym9vbGVhbn0gUmV0dXJucyB0cnVlIGlmIHRoZSBwcm9wZXJ0eS9wYXRoIHdhcyBlbnF1ZXVlZCBpblxuICAgICAqICAgdGhlIHBlbmRpbmcgY2hhbmdlcyBiYWcuXG4gICAgICogQHByb3RlY3RlZFxuICAgICAqL1xuICAgIF9zZXRQZW5kaW5nUHJvcGVydHlPclBhdGgocGF0aCwgdmFsdWUsIHNob3VsZE5vdGlmeSwgaXNQYXRoTm90aWZpY2F0aW9uKSB7XG4gICAgICBpZiAoaXNQYXRoTm90aWZpY2F0aW9uIHx8XG4gICAgICAgICAgcm9vdChBcnJheS5pc0FycmF5KHBhdGgpID8gcGF0aFswXSA6IHBhdGgpICE9PSBwYXRoKSB7XG4gICAgICAgIC8vIERpcnR5IGNoZWNrIGNoYW5nZXMgYmVpbmcgc2V0IHRvIGEgcGF0aCBhZ2FpbnN0IHRoZSBhY3R1YWwgb2JqZWN0LFxuICAgICAgICAvLyBzaW5jZSB0aGlzIGlzIHRoZSBlbnRyeSBwb2ludCBmb3IgcGF0aHMgaW50byB0aGUgc3lzdGVtOyBmcm9tIGhlcmVcbiAgICAgICAgLy8gdGhlIG9ubHkgZGlydHkgY2hlY2tzIGFyZSBhZ2FpbnN0IHRoZSBgX19kYXRhVGVtcGAgY2FjaGUgdG8gcHJldmVudFxuICAgICAgICAvLyBkdXBsaWNhdGUgd29yayBpbiB0aGUgc2FtZSB0dXJuIG9ubHkuIE5vdGUsIGlmIHRoaXMgd2FzIGEgbm90aWZpY2F0aW9uXG4gICAgICAgIC8vIG9mIGEgY2hhbmdlIGFscmVhZHkgc2V0IHRvIGEgcGF0aCAoaXNQYXRoTm90aWZpY2F0aW9uOiB0cnVlKSxcbiAgICAgICAgLy8gd2UgYWx3YXlzIGxldCB0aGUgY2hhbmdlIHRocm91Z2ggYW5kIHNraXAgdGhlIGBzZXRgIHNpbmNlIGl0IHdhc1xuICAgICAgICAvLyBhbHJlYWR5IGRpcnR5IGNoZWNrZWQgYXQgdGhlIHBvaW50IG9mIGVudHJ5IGFuZCB0aGUgdW5kZXJseWluZ1xuICAgICAgICAvLyBvYmplY3QgaGFzIGFscmVhZHkgYmVlbiB1cGRhdGVkXG4gICAgICAgIGlmICghaXNQYXRoTm90aWZpY2F0aW9uKSB7XG4gICAgICAgICAgbGV0IG9sZCA9IGdldCh0aGlzLCBwYXRoKTtcbiAgICAgICAgICBwYXRoID0gLyoqIEB0eXBlIHtzdHJpbmd9ICovIChzZXQodGhpcywgcGF0aCwgdmFsdWUpKTtcbiAgICAgICAgICAvLyBVc2UgcHJvcGVydHktYWNjZXNzb3IncyBzaW1wbGVyIGRpcnR5IGNoZWNrXG4gICAgICAgICAgaWYgKCFwYXRoIHx8ICFzdXBlci5fc2hvdWxkUHJvcGVydHlDaGFuZ2UocGF0aCwgdmFsdWUsIG9sZCkpIHtcbiAgICAgICAgICAgIHJldHVybiBmYWxzZTtcbiAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgdGhpcy5fX2RhdGFIYXNQYXRocyA9IHRydWU7XG4gICAgICAgIGlmICh0aGlzLl9zZXRQZW5kaW5nUHJvcGVydHkoLyoqQHR5cGV7c3RyaW5nfSovKHBhdGgpLCB2YWx1ZSwgc2hvdWxkTm90aWZ5KSkge1xuICAgICAgICAgIGNvbXB1dGVMaW5rZWRQYXRocyh0aGlzLCAvKipAdHlwZXtzdHJpbmd9Ki8gKHBhdGgpLCB2YWx1ZSk7XG4gICAgICAgICAgcmV0dXJuIHRydWU7XG4gICAgICAgIH1cbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIGlmICh0aGlzLl9fZGF0YUhhc0FjY2Vzc29yICYmIHRoaXMuX19kYXRhSGFzQWNjZXNzb3JbcGF0aF0pIHtcbiAgICAgICAgICByZXR1cm4gdGhpcy5fc2V0UGVuZGluZ1Byb3BlcnR5KC8qKkB0eXBle3N0cmluZ30qLyhwYXRoKSwgdmFsdWUsIHNob3VsZE5vdGlmeSk7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgdGhpc1twYXRoXSA9IHZhbHVlO1xuICAgICAgICB9XG4gICAgICB9XG4gICAgICByZXR1cm4gZmFsc2U7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogQXBwbGllcyBhIHZhbHVlIHRvIGEgbm9uLVBvbHltZXIgZWxlbWVudC9ub2RlJ3MgcHJvcGVydHkuXG4gICAgICpcbiAgICAgKiBUaGUgaW1wbGVtZW50YXRpb24gbWFrZXMgYSBiZXN0LWVmZm9ydCBhdCBiaW5kaW5nIGludGVyb3A6XG4gICAgICogU29tZSBuYXRpdmUgZWxlbWVudCBwcm9wZXJ0aWVzIGhhdmUgc2lkZS1lZmZlY3RzIHdoZW5cbiAgICAgKiByZS1zZXR0aW5nIHRoZSBzYW1lIHZhbHVlIChlLmcuIHNldHRpbmcgYDxpbnB1dD4udmFsdWVgIHJlc2V0cyB0aGVcbiAgICAgKiBjdXJzb3IgcG9zaXRpb24pLCBzbyB3ZSBkbyBhIGRpcnR5LWNoZWNrIGJlZm9yZSBzZXR0aW5nIHRoZSB2YWx1ZS5cbiAgICAgKiBIb3dldmVyLCBmb3IgYmV0dGVyIGludGVyb3Agd2l0aCBub24tUG9seW1lciBjdXN0b20gZWxlbWVudHMgdGhhdFxuICAgICAqIGFjY2VwdCBvYmplY3RzLCB3ZSBleHBsaWNpdGx5IHJlLXNldCBvYmplY3QgY2hhbmdlcyBjb21pbmcgZnJvbSB0aGVcbiAgICAgKiBQb2x5bWVyIHdvcmxkICh3aGljaCBtYXkgaW5jbHVkZSBkZWVwIG9iamVjdCBjaGFuZ2VzIHdpdGhvdXQgdGhlXG4gICAgICogdG9wIHJlZmVyZW5jZSBjaGFuZ2luZyksIGVycmluZyBvbiB0aGUgc2lkZSBvZiBwcm92aWRpbmcgbW9yZVxuICAgICAqIGluZm9ybWF0aW9uLlxuICAgICAqXG4gICAgICogVXNlcnMgbWF5IG92ZXJyaWRlIHRoaXMgbWV0aG9kIHRvIHByb3ZpZGUgYWx0ZXJuYXRlIGFwcHJvYWNoZXMuXG4gICAgICpcbiAgICAgKiBAb3ZlcnJpZGVcbiAgICAgKiBAcGFyYW0geyFOb2RlfSBub2RlIFRoZSBub2RlIHRvIHNldCBhIHByb3BlcnR5IG9uXG4gICAgICogQHBhcmFtIHtzdHJpbmd9IHByb3AgVGhlIHByb3BlcnR5IHRvIHNldFxuICAgICAqIEBwYXJhbSB7Kn0gdmFsdWUgVGhlIHZhbHVlIHRvIHNldFxuICAgICAqIEByZXR1cm4ge3ZvaWR9XG4gICAgICogQHByb3RlY3RlZFxuICAgICAqL1xuICAgIF9zZXRVbm1hbmFnZWRQcm9wZXJ0eVRvTm9kZShub2RlLCBwcm9wLCB2YWx1ZSkge1xuICAgICAgLy8gSXQgaXMgYSBqdWRnbWVudCBjYWxsIHRoYXQgcmVzZXR0aW5nIHByaW1pdGl2ZXMgaXNcbiAgICAgIC8vIFwiYmFkXCIgYW5kIHJlc2V0dGluZ3Mgb2JqZWN0cyBpcyBhbHNvIFwiZ29vZFwiOyBhbHRlcm5hdGl2ZWx5IHdlIGNvdWxkXG4gICAgICAvLyBpbXBsZW1lbnQgYSB3aGl0ZWxpc3Qgb2YgdGFnICYgcHJvcGVydHkgdmFsdWVzIHRoYXQgc2hvdWxkIG5ldmVyXG4gICAgICAvLyBiZSByZXNldCAoZS5nLiA8aW5wdXQ+LnZhbHVlICYmIDxzZWxlY3Q+LnZhbHVlKVxuICAgICAgaWYgKHZhbHVlICE9PSBub2RlW3Byb3BdIHx8IHR5cGVvZiB2YWx1ZSA9PSAnb2JqZWN0Jykge1xuICAgICAgICBub2RlW3Byb3BdID0gdmFsdWU7XG4gICAgICB9XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogT3ZlcnJpZGVzIHRoZSBgUHJvcGVydGllc0NoYW5nZWRgIGltcGxlbWVudGF0aW9uIHRvIGludHJvZHVjZSBzcGVjaWFsXG4gICAgICogZGlydHkgY2hlY2sgbG9naWMgZGVwZW5kaW5nIG9uIHRoZSBwcm9wZXJ0eSAmIHZhbHVlIGJlaW5nIHNldDpcbiAgICAgKlxuICAgICAqIDEuIEFueSB2YWx1ZSBzZXQgdG8gYSBwYXRoIChlLmcuICdvYmoucHJvcCc6IDQyIG9yICdvYmoucHJvcCc6IHsuLi59KVxuICAgICAqICAgIFN0b3JlZCBpbiBgX19kYXRhVGVtcGAsIGRpcnR5IGNoZWNrZWQgYWdhaW5zdCBgX19kYXRhVGVtcGBcbiAgICAgKiAyLiBPYmplY3Qgc2V0IHRvIHNpbXBsZSBwcm9wZXJ0eSAoZS5nLiAncHJvcCc6IHsuLi59KVxuICAgICAqICAgIFN0b3JlZCBpbiBgX19kYXRhVGVtcGAgYW5kIGBfX2RhdGFgLCBkaXJ0eSBjaGVja2VkIGFnYWluc3RcbiAgICAgKiAgICBgX19kYXRhVGVtcGAgYnkgZGVmYXVsdCBpbXBsZW1lbnRhdGlvbiBvZiBgX3Nob3VsZFByb3BlcnR5Q2hhbmdlYFxuICAgICAqIDMuIFByaW1pdGl2ZSB2YWx1ZSBzZXQgdG8gc2ltcGxlIHByb3BlcnR5IChlLmcuICdwcm9wJzogNDIpXG4gICAgICogICAgU3RvcmVkIGluIGBfX2RhdGFgLCBkaXJ0eSBjaGVja2VkIGFnYWluc3QgYF9fZGF0YWBcbiAgICAgKlxuICAgICAqIFRoZSBkaXJ0eS1jaGVjayBpcyBpbXBvcnRhbnQgdG8gcHJldmVudCBjeWNsZXMgZHVlIHRvIHR3by13YXlcbiAgICAgKiBub3RpZmljYXRpb24sIGJ1dCBwYXRocyBhbmQgb2JqZWN0cyBhcmUgb25seSBkaXJ0eSBjaGVja2VkIGFnYWluc3QgYW55XG4gICAgICogcHJldmlvdXMgdmFsdWUgc2V0IGR1cmluZyB0aGlzIHR1cm4gdmlhIGEgXCJ0ZW1wb3JhcnkgY2FjaGVcIiB0aGF0IGlzXG4gICAgICogY2xlYXJlZCB3aGVuIHRoZSBsYXN0IGBfcHJvcGVydGllc0NoYW5nZWRgIGV4aXRzLiBUaGlzIGlzIHNvOlxuICAgICAqIGEuIGFueSBjYWNoZWQgYXJyYXkgcGF0aHMgKGUuZy4gJ2FycmF5LjMucHJvcCcpIG1heSBiZSBpbnZhbGlkYXRlZFxuICAgICAqICAgIGR1ZSB0byBhcnJheSBtdXRhdGlvbnMgbGlrZSBzaGlmdC91bnNoaWZ0L3NwbGljZTsgdGhpcyBpcyBmaW5lXG4gICAgICogICAgc2luY2UgcGF0aCBjaGFuZ2VzIGFyZSBkaXJ0eS1jaGVja2VkIGF0IHVzZXIgZW50cnkgcG9pbnRzIGxpa2UgYHNldGBcbiAgICAgKiBiLiBkaXJ0eS1jaGVja2luZyBmb3Igb2JqZWN0cyBvbmx5IGxhc3RzIG9uZSB0dXJuIHRvIGFsbG93IHRoZSB1c2VyXG4gICAgICogICAgdG8gbXV0YXRlIHRoZSBvYmplY3QgaW4tcGxhY2UgYW5kIHJlLXNldCBpdCB3aXRoIHRoZSBzYW1lIGlkZW50aXR5XG4gICAgICogICAgYW5kIGhhdmUgYWxsIHN1Yi1wcm9wZXJ0aWVzIHJlLXByb3BhZ2F0ZWQgaW4gYSBzdWJzZXF1ZW50IHR1cm4uXG4gICAgICpcbiAgICAgKiBUaGUgdGVtcCBjYWNoZSBpcyBub3QgbmVjZXNzYXJpbHkgc3VmZmljaWVudCB0byBwcmV2ZW50IGludmFsaWQgYXJyYXlcbiAgICAgKiBwYXRocywgc2luY2UgYSBzcGxpY2UgY2FuIGhhcHBlbiBkdXJpbmcgdGhlIHNhbWUgdHVybiAod2l0aCBwYXRob2xvZ2ljYWxcbiAgICAgKiB1c2VyIGNvZGUpOyB3ZSBjb3VsZCBpbnRyb2R1Y2UgYSBcImZpeHVwXCIgZm9yIHRlbXBvcmFyaWx5IGNhY2hlZCBhcnJheVxuICAgICAqIHBhdGhzIGlmIG5lZWRlZDogaHR0cHM6Ly9naXRodWIuY29tL1BvbHltZXIvcG9seW1lci9pc3N1ZXMvNDIyN1xuICAgICAqXG4gICAgICogQG92ZXJyaWRlXG4gICAgICogQHBhcmFtIHtzdHJpbmd9IHByb3BlcnR5IE5hbWUgb2YgdGhlIHByb3BlcnR5XG4gICAgICogQHBhcmFtIHsqfSB2YWx1ZSBWYWx1ZSB0byBzZXRcbiAgICAgKiBAcGFyYW0ge2Jvb2xlYW49fSBzaG91bGROb3RpZnkgVHJ1ZSBpZiBwcm9wZXJ0eSBzaG91bGQgZmlyZSBub3RpZmljYXRpb25cbiAgICAgKiAgIGV2ZW50IChhcHBsaWVzIG9ubHkgZm9yIGBub3RpZnk6IHRydWVgIHByb3BlcnRpZXMpXG4gICAgICogQHJldHVybiB7Ym9vbGVhbn0gUmV0dXJucyB0cnVlIGlmIHRoZSBwcm9wZXJ0eSBjaGFuZ2VkXG4gICAgICovXG4gICAgX3NldFBlbmRpbmdQcm9wZXJ0eShwcm9wZXJ0eSwgdmFsdWUsIHNob3VsZE5vdGlmeSkge1xuICAgICAgbGV0IHByb3BJc1BhdGggPSB0aGlzLl9fZGF0YUhhc1BhdGhzICYmIGlzUGF0aChwcm9wZXJ0eSk7XG4gICAgICBsZXQgcHJldlByb3BzID0gcHJvcElzUGF0aCA/IHRoaXMuX19kYXRhVGVtcCA6IHRoaXMuX19kYXRhO1xuICAgICAgaWYgKHRoaXMuX3Nob3VsZFByb3BlcnR5Q2hhbmdlKHByb3BlcnR5LCB2YWx1ZSwgcHJldlByb3BzW3Byb3BlcnR5XSkpIHtcbiAgICAgICAgaWYgKCF0aGlzLl9fZGF0YVBlbmRpbmcpIHtcbiAgICAgICAgICB0aGlzLl9fZGF0YVBlbmRpbmcgPSB7fTtcbiAgICAgICAgICB0aGlzLl9fZGF0YU9sZCA9IHt9O1xuICAgICAgICB9XG4gICAgICAgIC8vIEVuc3VyZSBvbGQgaXMgY2FwdHVyZWQgZnJvbSB0aGUgbGFzdCB0dXJuXG4gICAgICAgIGlmICghKHByb3BlcnR5IGluIHRoaXMuX19kYXRhT2xkKSkge1xuICAgICAgICAgIHRoaXMuX19kYXRhT2xkW3Byb3BlcnR5XSA9IHRoaXMuX19kYXRhW3Byb3BlcnR5XTtcbiAgICAgICAgfVxuICAgICAgICAvLyBQYXRocyBhcmUgc3RvcmVkIGluIHRlbXBvcmFyeSBjYWNoZSAoY2xlYXJlZCBhdCBlbmQgb2YgdHVybiksXG4gICAgICAgIC8vIHdoaWNoIGlzIHVzZWQgZm9yIGRpcnR5LWNoZWNraW5nLCBhbGwgb3RoZXJzIHN0b3JlZCBpbiBfX2RhdGFcbiAgICAgICAgaWYgKHByb3BJc1BhdGgpIHtcbiAgICAgICAgICB0aGlzLl9fZGF0YVRlbXBbcHJvcGVydHldID0gdmFsdWU7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgdGhpcy5fX2RhdGFbcHJvcGVydHldID0gdmFsdWU7XG4gICAgICAgIH1cbiAgICAgICAgLy8gQWxsIGNoYW5nZXMgZ28gaW50byBwZW5kaW5nIHByb3BlcnR5IGJhZywgcGFzc2VkIHRvIF9wcm9wZXJ0aWVzQ2hhbmdlZFxuICAgICAgICB0aGlzLl9fZGF0YVBlbmRpbmdbcHJvcGVydHldID0gdmFsdWU7XG4gICAgICAgIC8vIFRyYWNrIHByb3BlcnRpZXMgdGhhdCBzaG91bGQgbm90aWZ5IHNlcGFyYXRlbHlcbiAgICAgICAgaWYgKHByb3BJc1BhdGggfHwgKHRoaXNbVFlQRVMuTk9USUZZXSAmJiB0aGlzW1RZUEVTLk5PVElGWV1bcHJvcGVydHldKSkge1xuICAgICAgICAgIHRoaXMuX19kYXRhVG9Ob3RpZnkgPSB0aGlzLl9fZGF0YVRvTm90aWZ5IHx8IHt9O1xuICAgICAgICAgIHRoaXMuX19kYXRhVG9Ob3RpZnlbcHJvcGVydHldID0gc2hvdWxkTm90aWZ5O1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiB0cnVlO1xuICAgICAgfVxuICAgICAgcmV0dXJuIGZhbHNlO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIE92ZXJyaWRlcyBiYXNlIGltcGxlbWVudGF0aW9uIHRvIGVuc3VyZSBhbGwgYWNjZXNzb3JzIHNldCBgc2hvdWxkTm90aWZ5YFxuICAgICAqIHRvIHRydWUsIGZvciBwZXItcHJvcGVydHkgbm90aWZpY2F0aW9uIHRyYWNraW5nLlxuICAgICAqXG4gICAgICogQG92ZXJyaWRlXG4gICAgICogQHBhcmFtIHtzdHJpbmd9IHByb3BlcnR5IE5hbWUgb2YgdGhlIHByb3BlcnR5XG4gICAgICogQHBhcmFtIHsqfSB2YWx1ZSBWYWx1ZSB0byBzZXRcbiAgICAgKiBAcmV0dXJuIHt2b2lkfVxuICAgICAqL1xuICAgIF9zZXRQcm9wZXJ0eShwcm9wZXJ0eSwgdmFsdWUpIHtcbiAgICAgIGlmICh0aGlzLl9zZXRQZW5kaW5nUHJvcGVydHkocHJvcGVydHksIHZhbHVlLCB0cnVlKSkge1xuICAgICAgICB0aGlzLl9pbnZhbGlkYXRlUHJvcGVydGllcygpO1xuICAgICAgfVxuICAgIH1cblxuICAgIC8qKlxuICAgICAqIE92ZXJyaWRlcyBgUHJvcGVydHlBY2Nlc3NvcmAncyBkZWZhdWx0IGFzeW5jIHF1ZXVpbmcgb2ZcbiAgICAgKiBgX3Byb3BlcnRpZXNDaGFuZ2VkYDogaWYgYF9fZGF0YVJlYWR5YCBpcyBmYWxzZSAoaGFzIG5vdCB5ZXQgYmVlblxuICAgICAqIG1hbnVhbGx5IGZsdXNoZWQpLCB0aGUgZnVuY3Rpb24gbm8tb3BzOyBvdGhlcndpc2UgZmx1c2hlc1xuICAgICAqIGBfcHJvcGVydGllc0NoYW5nZWRgIHN5bmNocm9ub3VzbHkuXG4gICAgICpcbiAgICAgKiBAb3ZlcnJpZGVcbiAgICAgKiBAcmV0dXJuIHt2b2lkfVxuICAgICAqL1xuICAgIF9pbnZhbGlkYXRlUHJvcGVydGllcygpIHtcbiAgICAgIGlmICh0aGlzLl9fZGF0YVJlYWR5KSB7XG4gICAgICAgIHRoaXMuX2ZsdXNoUHJvcGVydGllcygpO1xuICAgICAgfVxuICAgIH1cblxuICAgIC8qKlxuICAgICAqIEVucXVldWVzIHRoZSBnaXZlbiBjbGllbnQgb24gYSBsaXN0IG9mIHBlbmRpbmcgY2xpZW50cywgd2hvc2VcbiAgICAgKiBwZW5kaW5nIHByb3BlcnR5IGNoYW5nZXMgY2FuIGxhdGVyIGJlIGZsdXNoZWQgdmlhIGEgY2FsbCB0b1xuICAgICAqIGBfZmx1c2hDbGllbnRzYC5cbiAgICAgKlxuICAgICAqIEBvdmVycmlkZVxuICAgICAqIEBwYXJhbSB7T2JqZWN0fSBjbGllbnQgUHJvcGVydHlFZmZlY3RzIGNsaWVudCB0byBlbnF1ZXVlXG4gICAgICogQHJldHVybiB7dm9pZH1cbiAgICAgKiBAcHJvdGVjdGVkXG4gICAgICovXG4gICAgX2VucXVldWVDbGllbnQoY2xpZW50KSB7XG4gICAgICB0aGlzLl9fZGF0YVBlbmRpbmdDbGllbnRzID0gdGhpcy5fX2RhdGFQZW5kaW5nQ2xpZW50cyB8fCBbXTtcbiAgICAgIGlmIChjbGllbnQgIT09IHRoaXMpIHtcbiAgICAgICAgdGhpcy5fX2RhdGFQZW5kaW5nQ2xpZW50cy5wdXNoKGNsaWVudCk7XG4gICAgICB9XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogT3ZlcnJpZGVzIHN1cGVyY2xhc3MgaW1wbGVtZW50YXRpb24uXG4gICAgICpcbiAgICAgKiBAb3ZlcnJpZGVcbiAgICAgKiBAcmV0dXJuIHt2b2lkfVxuICAgICAqIEBwcm90ZWN0ZWRcbiAgICAgKi9cbiAgICBfZmx1c2hQcm9wZXJ0aWVzKCkge1xuICAgICAgdGhpcy5fX2RhdGFDb3VudGVyKys7XG4gICAgICBzdXBlci5fZmx1c2hQcm9wZXJ0aWVzKCk7XG4gICAgICB0aGlzLl9fZGF0YUNvdW50ZXItLTtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBGbHVzaGVzIGFueSBjbGllbnRzIHByZXZpb3VzbHkgZW5xdWV1ZWQgdmlhIGBfZW5xdWV1ZUNsaWVudGAsIGNhdXNpbmdcbiAgICAgKiB0aGVpciBgX2ZsdXNoUHJvcGVydGllc2AgbWV0aG9kIHRvIHJ1bi5cbiAgICAgKlxuICAgICAqIEBvdmVycmlkZVxuICAgICAqIEByZXR1cm4ge3ZvaWR9XG4gICAgICogQHByb3RlY3RlZFxuICAgICAqL1xuICAgIF9mbHVzaENsaWVudHMoKSB7XG4gICAgICBpZiAoIXRoaXMuX19kYXRhQ2xpZW50c1JlYWR5KSB7XG4gICAgICAgIHRoaXMuX19kYXRhQ2xpZW50c1JlYWR5ID0gdHJ1ZTtcbiAgICAgICAgdGhpcy5fcmVhZHlDbGllbnRzKCk7XG4gICAgICAgIC8vIE92ZXJyaWRlIHBvaW50IHdoZXJlIGFjY2Vzc29ycyBhcmUgdHVybmVkIG9uOyBpbXBvcnRhbnRseSxcbiAgICAgICAgLy8gdGhpcyBpcyBhZnRlciBjbGllbnRzIGhhdmUgZnVsbHkgcmVhZGllZCwgcHJvdmlkaW5nIGEgZ3VhcmFudGVlXG4gICAgICAgIC8vIHRoYXQgYW55IHByb3BlcnR5IGVmZmVjdHMgb2NjdXIgb25seSBhZnRlciBhbGwgY2xpZW50cyBhcmUgcmVhZHkuXG4gICAgICAgIHRoaXMuX19kYXRhUmVhZHkgPSB0cnVlO1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgdGhpcy5fX2VuYWJsZU9yRmx1c2hDbGllbnRzKCk7XG4gICAgICB9XG4gICAgfVxuXG4gICAgLy8gTk9URTogV2UgZW5zdXJlIGNsaWVudHMgZWl0aGVyIGVuYWJsZSBvciBmbHVzaCBhcyBhcHByb3ByaWF0ZS4gVGhpc1xuICAgIC8vIGhhbmRsZXMgdHdvIGNvcm5lciBjYXNlczpcbiAgICAvLyAoMSkgY2xpZW50cyBmbHVzaCBwcm9wZXJseSB3aGVuIGNvbm5lY3RlZC9lbmFibGVkIGJlZm9yZSB0aGUgaG9zdFxuICAgIC8vIGVuYWJsZXM7IGUuZy5cbiAgICAvLyAgIChhKSBUZW1wbGF0aXplIHN0YW1wcyB3aXRoIG5vIHByb3BlcnRpZXMgYW5kIGRvZXMgbm90IGZsdXNoIGFuZFxuICAgIC8vICAgKGIpIHRoZSBpbnN0YW5jZSBpcyBpbnNlcnRlZCBpbnRvIGRvbSBhbmRcbiAgICAvLyAgIChjKSB0aGVuIHRoZSBpbnN0YW5jZSBmbHVzaGVzLlxuICAgIC8vICgyKSBjbGllbnRzIGVuYWJsZSBwcm9wZXJseSB3aGVuIG5vdCBjb25uZWN0ZWQvZW5hYmxlZCB3aGVuIHRoZSBob3N0XG4gICAgLy8gZmx1c2hlczsgZS5nLlxuICAgIC8vICAgKGEpIGEgdGVtcGxhdGUgaXMgcnVudGltZSBzdGFtcGVkIGFuZCBub3QgeWV0IGNvbm5lY3RlZC9lbmFibGVkXG4gICAgLy8gICAoYikgYSBob3N0IHNldHMgYSBwcm9wZXJ0eSwgY2F1c2luZyBzdGFtcGVkIGRvbSB0byBmbHVzaFxuICAgIC8vICAgKGMpIHRoZSBzdGFtcGVkIGRvbSBlbmFibGVzLlxuICAgIF9fZW5hYmxlT3JGbHVzaENsaWVudHMoKSB7XG4gICAgICBsZXQgY2xpZW50cyA9IHRoaXMuX19kYXRhUGVuZGluZ0NsaWVudHM7XG4gICAgICBpZiAoY2xpZW50cykge1xuICAgICAgICB0aGlzLl9fZGF0YVBlbmRpbmdDbGllbnRzID0gbnVsbDtcbiAgICAgICAgZm9yIChsZXQgaT0wOyBpIDwgY2xpZW50cy5sZW5ndGg7IGkrKykge1xuICAgICAgICAgIGxldCBjbGllbnQgPSBjbGllbnRzW2ldO1xuICAgICAgICAgIGlmICghY2xpZW50Ll9fZGF0YUVuYWJsZWQpIHtcbiAgICAgICAgICAgIGNsaWVudC5fZW5hYmxlUHJvcGVydGllcygpO1xuICAgICAgICAgIH0gZWxzZSBpZiAoY2xpZW50Ll9fZGF0YVBlbmRpbmcpIHtcbiAgICAgICAgICAgIGNsaWVudC5fZmx1c2hQcm9wZXJ0aWVzKCk7XG4gICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICB9XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogUGVyZm9ybSBhbnkgaW5pdGlhbCBzZXR1cCBvbiBjbGllbnQgZG9tLiBDYWxsZWQgYmVmb3JlIHRoZSBmaXJzdFxuICAgICAqIGBfZmx1c2hQcm9wZXJ0aWVzYCBjYWxsIG9uIGNsaWVudCBkb20gYW5kIGJlZm9yZSBhbnkgZWxlbWVudFxuICAgICAqIG9ic2VydmVycyBhcmUgY2FsbGVkLlxuICAgICAqXG4gICAgICogQG92ZXJyaWRlXG4gICAgICogQHJldHVybiB7dm9pZH1cbiAgICAgKiBAcHJvdGVjdGVkXG4gICAgICovXG4gICAgX3JlYWR5Q2xpZW50cygpIHtcbiAgICAgIHRoaXMuX19lbmFibGVPckZsdXNoQ2xpZW50cygpO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIFNldHMgYSBiYWcgb2YgcHJvcGVydHkgY2hhbmdlcyB0byB0aGlzIGluc3RhbmNlLCBhbmRcbiAgICAgKiBzeW5jaHJvbm91c2x5IHByb2Nlc3NlcyBhbGwgZWZmZWN0cyBvZiB0aGUgcHJvcGVydGllcyBhcyBhIGJhdGNoLlxuICAgICAqXG4gICAgICogUHJvcGVydHkgbmFtZXMgbXVzdCBiZSBzaW1wbGUgcHJvcGVydGllcywgbm90IHBhdGhzLiAgQmF0Y2hlZFxuICAgICAqIHBhdGggcHJvcGFnYXRpb24gaXMgbm90IHN1cHBvcnRlZC5cbiAgICAgKlxuICAgICAqIEBvdmVycmlkZVxuICAgICAqIEBwYXJhbSB7T2JqZWN0fSBwcm9wcyBCYWcgb2Ygb25lIG9yIG1vcmUga2V5LXZhbHVlIHBhaXJzIHdob3NlIGtleSBpc1xuICAgICAqICAgYSBwcm9wZXJ0eSBhbmQgdmFsdWUgaXMgdGhlIG5ldyB2YWx1ZSB0byBzZXQgZm9yIHRoYXQgcHJvcGVydHkuXG4gICAgICogQHBhcmFtIHtib29sZWFuPX0gc2V0UmVhZE9ubHkgV2hlbiB0cnVlLCBhbnkgcHJpdmF0ZSB2YWx1ZXMgc2V0IGluXG4gICAgICogICBgcHJvcHNgIHdpbGwgYmUgc2V0LiBCeSBkZWZhdWx0LCBgc2V0UHJvcGVydGllc2Agd2lsbCBub3Qgc2V0XG4gICAgICogICBgcmVhZE9ubHk6IHRydWVgIHJvb3QgcHJvcGVydGllcy5cbiAgICAgKiBAcmV0dXJuIHt2b2lkfVxuICAgICAqIEBwdWJsaWNcbiAgICAgKi9cbiAgICBzZXRQcm9wZXJ0aWVzKHByb3BzLCBzZXRSZWFkT25seSkge1xuICAgICAgZm9yIChsZXQgcGF0aCBpbiBwcm9wcykge1xuICAgICAgICBpZiAoc2V0UmVhZE9ubHkgfHwgIXRoaXNbVFlQRVMuUkVBRF9PTkxZXSB8fCAhdGhpc1tUWVBFUy5SRUFEX09OTFldW3BhdGhdKSB7XG4gICAgICAgICAgLy9UT0RPKGtzY2hhYWYpOiBleHBsaWNpdGx5IGRpc2FsbG93IHBhdGhzIGluIHNldFByb3BlcnR5P1xuICAgICAgICAgIC8vIHdpbGRjYXJkIG9ic2VydmVycyBjdXJyZW50bHkgb25seSBwYXNzIHRoZSBmaXJzdCBjaGFuZ2VkIHBhdGhcbiAgICAgICAgICAvLyBpbiB0aGUgYGluZm9gIG9iamVjdCwgYW5kIHlvdSBjb3VsZCBkbyBzb21lIG9kZCB0aGluZ3MgYmF0Y2hpbmdcbiAgICAgICAgICAvLyBwYXRocywgZS5nLiB7J2Zvby5iYXInOiB7Li4ufSwgJ2Zvbyc6IG51bGx9XG4gICAgICAgICAgdGhpcy5fc2V0UGVuZGluZ1Byb3BlcnR5T3JQYXRoKHBhdGgsIHByb3BzW3BhdGhdLCB0cnVlKTtcbiAgICAgICAgfVxuICAgICAgfVxuICAgICAgdGhpcy5faW52YWxpZGF0ZVByb3BlcnRpZXMoKTtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBPdmVycmlkZXMgYFByb3BlcnR5QWNjZXNzb3JzYCBzbyB0aGF0IHByb3BlcnR5IGFjY2Vzc29yXG4gICAgICogc2lkZSBlZmZlY3RzIGFyZSBub3QgZW5hYmxlZCB1bnRpbCBhZnRlciBjbGllbnQgZG9tIGlzIGZ1bGx5IHJlYWR5LlxuICAgICAqIEFsc28gY2FsbHMgYF9mbHVzaENsaWVudHNgIGNhbGxiYWNrIHRvIGVuc3VyZSBjbGllbnQgZG9tIGlzIGVuYWJsZWRcbiAgICAgKiB0aGF0IHdhcyBub3QgZW5hYmxlZCBhcyBhIHJlc3VsdCBvZiBmbHVzaGluZyBwcm9wZXJ0aWVzLlxuICAgICAqXG4gICAgICogQG92ZXJyaWRlXG4gICAgICogQHJldHVybiB7dm9pZH1cbiAgICAgKi9cbiAgICByZWFkeSgpIHtcbiAgICAgIC8vIEl0IGlzIGltcG9ydGFudCB0aGF0IGBzdXBlci5yZWFkeSgpYCBpcyBub3QgY2FsbGVkIGhlcmUgYXMgaXRcbiAgICAgIC8vIGltbWVkaWF0ZWx5IHR1cm5zIG9uIGFjY2Vzc29ycy4gSW5zdGVhZCwgd2Ugd2FpdCB1bnRpbCBgcmVhZHlDbGllbnRzYFxuICAgICAgLy8gdG8gZW5hYmxlIGFjY2Vzc29ycyB0byBwcm92aWRlIGEgZ3VhcmFudGVlIHRoYXQgY2xpZW50cyBhcmUgcmVhZHlcbiAgICAgIC8vIGJlZm9yZSBwcm9jZXNzaW5nIGFueSBhY2Nlc3NvcnMgc2lkZSBlZmZlY3RzLlxuICAgICAgdGhpcy5fZmx1c2hQcm9wZXJ0aWVzKCk7XG4gICAgICAvLyBJZiBubyBkYXRhIHdhcyBwZW5kaW5nLCBgX2ZsdXNoUHJvcGVydGllc2Agd2lsbCBub3QgYGZsdXNoQ2xpZW50c2BcbiAgICAgIC8vIHNvIGVuc3VyZSB0aGlzIGlzIGRvbmUuXG4gICAgICBpZiAoIXRoaXMuX19kYXRhQ2xpZW50c1JlYWR5KSB7XG4gICAgICAgIHRoaXMuX2ZsdXNoQ2xpZW50cygpO1xuICAgICAgfVxuICAgICAgLy8gQmVmb3JlIHJlYWR5LCBjbGllbnQgbm90aWZpY2F0aW9ucyBkbyBub3QgdHJpZ2dlciBfZmx1c2hQcm9wZXJ0aWVzLlxuICAgICAgLy8gVGhlcmVmb3JlIGEgZmx1c2ggaXMgbmVjZXNzYXJ5IGhlcmUgaWYgZGF0YSBoYXMgYmVlbiBzZXQuXG4gICAgICBpZiAodGhpcy5fX2RhdGFQZW5kaW5nKSB7XG4gICAgICAgIHRoaXMuX2ZsdXNoUHJvcGVydGllcygpO1xuICAgICAgfVxuICAgIH1cblxuICAgIC8qKlxuICAgICAqIEltcGxlbWVudHMgYFByb3BlcnR5QWNjZXNzb3JzYCdzIHByb3BlcnRpZXMgY2hhbmdlZCBjYWxsYmFjay5cbiAgICAgKlxuICAgICAqIFJ1bnMgZWFjaCBjbGFzcyBvZiBlZmZlY3RzIGZvciB0aGUgYmF0Y2ggb2YgY2hhbmdlZCBwcm9wZXJ0aWVzIGluXG4gICAgICogYSBzcGVjaWZpYyBvcmRlciAoY29tcHV0ZSwgcHJvcGFnYXRlLCByZWZsZWN0LCBvYnNlcnZlLCBub3RpZnkpLlxuICAgICAqXG4gICAgICogQG92ZXJyaWRlXG4gICAgICogQHBhcmFtIHshT2JqZWN0fSBjdXJyZW50UHJvcHMgQmFnIG9mIGFsbCBjdXJyZW50IGFjY2Vzc29yIHZhbHVlc1xuICAgICAqIEBwYXJhbSB7P09iamVjdH0gY2hhbmdlZFByb3BzIEJhZyBvZiBwcm9wZXJ0aWVzIGNoYW5nZWQgc2luY2UgdGhlIGxhc3RcbiAgICAgKiAgIGNhbGwgdG8gYF9wcm9wZXJ0aWVzQ2hhbmdlZGBcbiAgICAgKiBAcGFyYW0gez9PYmplY3R9IG9sZFByb3BzIEJhZyBvZiBwcmV2aW91cyB2YWx1ZXMgZm9yIGVhY2ggcHJvcGVydHlcbiAgICAgKiAgIGluIGBjaGFuZ2VkUHJvcHNgXG4gICAgICogQHJldHVybiB7dm9pZH1cbiAgICAgKi9cbiAgICBfcHJvcGVydGllc0NoYW5nZWQoY3VycmVudFByb3BzLCBjaGFuZ2VkUHJvcHMsIG9sZFByb3BzKSB7XG4gICAgICAvLyAtLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tXG4gICAgICAvLyBsZXQgYyA9IE9iamVjdC5nZXRPd25Qcm9wZXJ0eU5hbWVzKGNoYW5nZWRQcm9wcyB8fCB7fSk7XG4gICAgICAvLyB3aW5kb3cuZGVidWcgJiYgY29uc29sZS5ncm91cCh0aGlzLmxvY2FsTmFtZSArICcjJyArIHRoaXMuaWQgKyAnOiAnICsgYyk7XG4gICAgICAvLyBpZiAod2luZG93LmRlYnVnKSB7IGRlYnVnZ2VyOyB9XG4gICAgICAvLyAtLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tXG4gICAgICBsZXQgaGFzUGF0aHMgPSB0aGlzLl9fZGF0YUhhc1BhdGhzO1xuICAgICAgdGhpcy5fX2RhdGFIYXNQYXRocyA9IGZhbHNlO1xuICAgICAgLy8gQ29tcHV0ZSBwcm9wZXJ0aWVzXG4gICAgICBydW5Db21wdXRlZEVmZmVjdHModGhpcywgY2hhbmdlZFByb3BzLCBvbGRQcm9wcywgaGFzUGF0aHMpO1xuICAgICAgLy8gQ2xlYXIgbm90aWZ5IHByb3BlcnRpZXMgcHJpb3IgdG8gcG9zc2libGUgcmVlbnRyeSAocHJvcGFnYXRlLCBvYnNlcnZlKSxcbiAgICAgIC8vIGJ1dCBhZnRlciBjb21wdXRpbmcgZWZmZWN0cyBoYXZlIGEgY2hhbmNlIHRvIGFkZCB0byB0aGVtXG4gICAgICBsZXQgbm90aWZ5UHJvcHMgPSB0aGlzLl9fZGF0YVRvTm90aWZ5O1xuICAgICAgdGhpcy5fX2RhdGFUb05vdGlmeSA9IG51bGw7XG4gICAgICAvLyBQcm9wYWdhdGUgcHJvcGVydGllcyB0byBjbGllbnRzXG4gICAgICB0aGlzLl9wcm9wYWdhdGVQcm9wZXJ0eUNoYW5nZXMoY2hhbmdlZFByb3BzLCBvbGRQcm9wcywgaGFzUGF0aHMpO1xuICAgICAgLy8gRmx1c2ggY2xpZW50c1xuICAgICAgdGhpcy5fZmx1c2hDbGllbnRzKCk7XG4gICAgICAvLyBSZWZsZWN0IHByb3BlcnRpZXNcbiAgICAgIHJ1bkVmZmVjdHModGhpcywgdGhpc1tUWVBFUy5SRUZMRUNUXSwgY2hhbmdlZFByb3BzLCBvbGRQcm9wcywgaGFzUGF0aHMpO1xuICAgICAgLy8gT2JzZXJ2ZSBwcm9wZXJ0aWVzXG4gICAgICBydW5FZmZlY3RzKHRoaXMsIHRoaXNbVFlQRVMuT0JTRVJWRV0sIGNoYW5nZWRQcm9wcywgb2xkUHJvcHMsIGhhc1BhdGhzKTtcbiAgICAgIC8vIE5vdGlmeSBwcm9wZXJ0aWVzIHRvIGhvc3RcbiAgICAgIGlmIChub3RpZnlQcm9wcykge1xuICAgICAgICBydW5Ob3RpZnlFZmZlY3RzKHRoaXMsIG5vdGlmeVByb3BzLCBjaGFuZ2VkUHJvcHMsIG9sZFByb3BzLCBoYXNQYXRocyk7XG4gICAgICB9XG4gICAgICAvLyBDbGVhciB0ZW1wb3JhcnkgY2FjaGUgYXQgZW5kIG9mIHR1cm5cbiAgICAgIGlmICh0aGlzLl9fZGF0YUNvdW50ZXIgPT0gMSkge1xuICAgICAgICB0aGlzLl9fZGF0YVRlbXAgPSB7fTtcbiAgICAgIH1cbiAgICAgIC8vIC0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS1cbiAgICAgIC8vIHdpbmRvdy5kZWJ1ZyAmJiBjb25zb2xlLmdyb3VwRW5kKHRoaXMubG9jYWxOYW1lICsgJyMnICsgdGhpcy5pZCArICc6ICcgKyBjKTtcbiAgICAgIC8vIC0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS1cbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBDYWxsZWQgdG8gcHJvcGFnYXRlIGFueSBwcm9wZXJ0eSBjaGFuZ2VzIHRvIHN0YW1wZWQgdGVtcGxhdGUgbm9kZXNcbiAgICAgKiBtYW5hZ2VkIGJ5IHRoaXMgZWxlbWVudC5cbiAgICAgKlxuICAgICAqIEBvdmVycmlkZVxuICAgICAqIEBwYXJhbSB7T2JqZWN0fSBjaGFuZ2VkUHJvcHMgQmFnIG9mIGNoYW5nZWQgcHJvcGVydGllc1xuICAgICAqIEBwYXJhbSB7T2JqZWN0fSBvbGRQcm9wcyBCYWcgb2YgcHJldmlvdXMgdmFsdWVzIGZvciBjaGFuZ2VkIHByb3BlcnRpZXNcbiAgICAgKiBAcGFyYW0ge2Jvb2xlYW59IGhhc1BhdGhzIFRydWUgd2l0aCBgcHJvcHNgIGNvbnRhaW5zIG9uZSBvciBtb3JlIHBhdGhzXG4gICAgICogQHJldHVybiB7dm9pZH1cbiAgICAgKiBAcHJvdGVjdGVkXG4gICAgICovXG4gICAgX3Byb3BhZ2F0ZVByb3BlcnR5Q2hhbmdlcyhjaGFuZ2VkUHJvcHMsIG9sZFByb3BzLCBoYXNQYXRocykge1xuICAgICAgaWYgKHRoaXNbVFlQRVMuUFJPUEFHQVRFXSkge1xuICAgICAgICBydW5FZmZlY3RzKHRoaXMsIHRoaXNbVFlQRVMuUFJPUEFHQVRFXSwgY2hhbmdlZFByb3BzLCBvbGRQcm9wcywgaGFzUGF0aHMpO1xuICAgICAgfVxuICAgICAgbGV0IHRlbXBsYXRlSW5mbyA9IHRoaXMuX190ZW1wbGF0ZUluZm87XG4gICAgICB3aGlsZSAodGVtcGxhdGVJbmZvKSB7XG4gICAgICAgIHJ1bkVmZmVjdHModGhpcywgdGVtcGxhdGVJbmZvLnByb3BlcnR5RWZmZWN0cywgY2hhbmdlZFByb3BzLCBvbGRQcm9wcyxcbiAgICAgICAgICBoYXNQYXRocywgdGVtcGxhdGVJbmZvLm5vZGVMaXN0KTtcbiAgICAgICAgdGVtcGxhdGVJbmZvID0gdGVtcGxhdGVJbmZvLm5leHRUZW1wbGF0ZUluZm87XG4gICAgICB9XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogQWxpYXNlcyBvbmUgZGF0YSBwYXRoIGFzIGFub3RoZXIsIHN1Y2ggdGhhdCBwYXRoIG5vdGlmaWNhdGlvbnMgZnJvbSBvbmVcbiAgICAgKiBhcmUgcm91dGVkIHRvIHRoZSBvdGhlci5cbiAgICAgKlxuICAgICAqIEBvdmVycmlkZVxuICAgICAqIEBwYXJhbSB7c3RyaW5nIHwgIUFycmF5PHN0cmluZ3xudW1iZXI+fSB0byBUYXJnZXQgcGF0aCB0byBsaW5rLlxuICAgICAqIEBwYXJhbSB7c3RyaW5nIHwgIUFycmF5PHN0cmluZ3xudW1iZXI+fSBmcm9tIFNvdXJjZSBwYXRoIHRvIGxpbmsuXG4gICAgICogQHJldHVybiB7dm9pZH1cbiAgICAgKiBAcHVibGljXG4gICAgICovXG4gICAgbGlua1BhdGhzKHRvLCBmcm9tKSB7XG4gICAgICB0byA9IG5vcm1hbGl6ZSh0byk7XG4gICAgICBmcm9tID0gbm9ybWFsaXplKGZyb20pO1xuICAgICAgdGhpcy5fX2RhdGFMaW5rZWRQYXRocyA9IHRoaXMuX19kYXRhTGlua2VkUGF0aHMgfHwge307XG4gICAgICB0aGlzLl9fZGF0YUxpbmtlZFBhdGhzW3RvXSA9IGZyb207XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogUmVtb3ZlcyBhIGRhdGEgcGF0aCBhbGlhcyBwcmV2aW91c2x5IGVzdGFibGlzaGVkIHdpdGggYF9saW5rUGF0aHNgLlxuICAgICAqXG4gICAgICogTm90ZSwgdGhlIHBhdGggdG8gdW5saW5rIHNob3VsZCBiZSB0aGUgdGFyZ2V0IChgdG9gKSB1c2VkIHdoZW5cbiAgICAgKiBsaW5raW5nIHRoZSBwYXRocy5cbiAgICAgKlxuICAgICAqIEBvdmVycmlkZVxuICAgICAqIEBwYXJhbSB7c3RyaW5nIHwgIUFycmF5PHN0cmluZ3xudW1iZXI+fSBwYXRoIFRhcmdldCBwYXRoIHRvIHVubGluay5cbiAgICAgKiBAcmV0dXJuIHt2b2lkfVxuICAgICAqIEBwdWJsaWNcbiAgICAgKi9cbiAgICB1bmxpbmtQYXRocyhwYXRoKSB7XG4gICAgICBwYXRoID0gbm9ybWFsaXplKHBhdGgpO1xuICAgICAgaWYgKHRoaXMuX19kYXRhTGlua2VkUGF0aHMpIHtcbiAgICAgICAgZGVsZXRlIHRoaXMuX19kYXRhTGlua2VkUGF0aHNbcGF0aF07XG4gICAgICB9XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogTm90aWZ5IHRoYXQgYW4gYXJyYXkgaGFzIGNoYW5nZWQuXG4gICAgICpcbiAgICAgKiBFeGFtcGxlOlxuICAgICAqXG4gICAgICogICAgIHRoaXMuaXRlbXMgPSBbIHtuYW1lOiAnSmltJ30sIHtuYW1lOiAnVG9kZCd9LCB7bmFtZTogJ0JpbGwnfSBdO1xuICAgICAqICAgICAuLi5cbiAgICAgKiAgICAgdGhpcy5pdGVtcy5zcGxpY2UoMSwgMSwge25hbWU6ICdTYW0nfSk7XG4gICAgICogICAgIHRoaXMuaXRlbXMucHVzaCh7bmFtZTogJ0JvYid9KTtcbiAgICAgKiAgICAgdGhpcy5ub3RpZnlTcGxpY2VzKCdpdGVtcycsIFtcbiAgICAgKiAgICAgICB7IGluZGV4OiAxLCByZW1vdmVkOiBbe25hbWU6ICdUb2RkJ31dLCBhZGRlZENvdW50OiAxLFxuICAgICAqICAgICAgICAgb2JqZWN0OiB0aGlzLml0ZW1zLCB0eXBlOiAnc3BsaWNlJyB9LFxuICAgICAqICAgICAgIHsgaW5kZXg6IDMsIHJlbW92ZWQ6IFtdLCBhZGRlZENvdW50OiAxLFxuICAgICAqICAgICAgICAgb2JqZWN0OiB0aGlzLml0ZW1zLCB0eXBlOiAnc3BsaWNlJ31cbiAgICAgKiAgICAgXSk7XG4gICAgICpcbiAgICAgKiBAcGFyYW0ge3N0cmluZ30gcGF0aCBQYXRoIHRoYXQgc2hvdWxkIGJlIG5vdGlmaWVkLlxuICAgICAqIEBwYXJhbSB7QXJyYXl9IHNwbGljZXMgQXJyYXkgb2Ygc3BsaWNlIHJlY29yZHMgaW5kaWNhdGluZyBvcmRlcmVkXG4gICAgICogICBjaGFuZ2VzIHRoYXQgb2NjdXJyZWQgdG8gdGhlIGFycmF5LiBFYWNoIHJlY29yZCBzaG91bGQgaGF2ZSB0aGVcbiAgICAgKiAgIGZvbGxvd2luZyBmaWVsZHM6XG4gICAgICogICAgKiBpbmRleDogaW5kZXggYXQgd2hpY2ggdGhlIGNoYW5nZSBvY2N1cnJlZFxuICAgICAqICAgICogcmVtb3ZlZDogYXJyYXkgb2YgaXRlbXMgdGhhdCB3ZXJlIHJlbW92ZWQgZnJvbSB0aGlzIGluZGV4XG4gICAgICogICAgKiBhZGRlZENvdW50OiBudW1iZXIgb2YgbmV3IGl0ZW1zIGFkZGVkIGF0IHRoaXMgaW5kZXhcbiAgICAgKiAgICAqIG9iamVjdDogYSByZWZlcmVuY2UgdG8gdGhlIGFycmF5IGluIHF1ZXN0aW9uXG4gICAgICogICAgKiB0eXBlOiB0aGUgc3RyaW5nIGxpdGVyYWwgJ3NwbGljZSdcbiAgICAgKlxuICAgICAqICAgTm90ZSB0aGF0IHNwbGljZSByZWNvcmRzIF9tdXN0XyBiZSBub3JtYWxpemVkIHN1Y2ggdGhhdCB0aGV5IGFyZVxuICAgICAqICAgcmVwb3J0ZWQgaW4gaW5kZXggb3JkZXIgKHJhdyByZXN1bHRzIGZyb20gYE9iamVjdC5vYnNlcnZlYCBhcmUgbm90XG4gICAgICogICBvcmRlcmVkIGFuZCBtdXN0IGJlIG5vcm1hbGl6ZWQvbWVyZ2VkIGJlZm9yZSBub3RpZnlpbmcpLlxuICAgICAqXG4gICAgICogQG92ZXJyaWRlXG4gICAgICogQHJldHVybiB7dm9pZH1cbiAgICAgKiBAcHVibGljXG4gICAgICovXG4gICAgbm90aWZ5U3BsaWNlcyhwYXRoLCBzcGxpY2VzKSB7XG4gICAgICBsZXQgaW5mbyA9IHtwYXRoOiAnJ307XG4gICAgICBsZXQgYXJyYXkgPSAvKiogQHR5cGUge0FycmF5fSAqLyhnZXQodGhpcywgcGF0aCwgaW5mbykpO1xuICAgICAgbm90aWZ5U3BsaWNlcyh0aGlzLCBhcnJheSwgaW5mby5wYXRoLCBzcGxpY2VzKTtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBDb252ZW5pZW5jZSBtZXRob2QgZm9yIHJlYWRpbmcgYSB2YWx1ZSBmcm9tIGEgcGF0aC5cbiAgICAgKlxuICAgICAqIE5vdGUsIGlmIGFueSBwYXJ0IGluIHRoZSBwYXRoIGlzIHVuZGVmaW5lZCwgdGhpcyBtZXRob2QgcmV0dXJuc1xuICAgICAqIGB1bmRlZmluZWRgICh0aGlzIG1ldGhvZCBkb2VzIG5vdCB0aHJvdyB3aGVuIGRlcmVmZXJlbmNpbmcgdW5kZWZpbmVkXG4gICAgICogcGF0aHMpLlxuICAgICAqXG4gICAgICogQG92ZXJyaWRlXG4gICAgICogQHBhcmFtIHsoc3RyaW5nfCFBcnJheTwoc3RyaW5nfG51bWJlcik+KX0gcGF0aCBQYXRoIHRvIHRoZSB2YWx1ZVxuICAgICAqICAgdG8gcmVhZC4gIFRoZSBwYXRoIG1heSBiZSBzcGVjaWZpZWQgYXMgYSBzdHJpbmcgKGUuZy4gYGZvby5iYXIuYmF6YClcbiAgICAgKiAgIG9yIGFuIGFycmF5IG9mIHBhdGggcGFydHMgKGUuZy4gYFsnZm9vLmJhcicsICdiYXonXWApLiAgTm90ZSB0aGF0XG4gICAgICogICBicmFja2V0ZWQgZXhwcmVzc2lvbnMgYXJlIG5vdCBzdXBwb3J0ZWQ7IHN0cmluZy1iYXNlZCBwYXRoIHBhcnRzXG4gICAgICogICAqbXVzdCogYmUgc2VwYXJhdGVkIGJ5IGRvdHMuICBOb3RlIHRoYXQgd2hlbiBkZXJlZmVyZW5jaW5nIGFycmF5XG4gICAgICogICBpbmRpY2VzLCB0aGUgaW5kZXggbWF5IGJlIHVzZWQgYXMgYSBkb3R0ZWQgcGFydCBkaXJlY3RseVxuICAgICAqICAgKGUuZy4gYHVzZXJzLjEyLm5hbWVgIG9yIGBbJ3VzZXJzJywgMTIsICduYW1lJ11gKS5cbiAgICAgKiBAcGFyYW0ge09iamVjdD19IHJvb3QgUm9vdCBvYmplY3QgZnJvbSB3aGljaCB0aGUgcGF0aCBpcyBldmFsdWF0ZWQuXG4gICAgICogQHJldHVybiB7Kn0gVmFsdWUgYXQgdGhlIHBhdGgsIG9yIGB1bmRlZmluZWRgIGlmIGFueSBwYXJ0IG9mIHRoZSBwYXRoXG4gICAgICogICBpcyB1bmRlZmluZWQuXG4gICAgICogQHB1YmxpY1xuICAgICAqL1xuICAgIGdldChwYXRoLCByb290KSB7XG4gICAgICByZXR1cm4gZ2V0KHJvb3QgfHwgdGhpcywgcGF0aCk7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogQ29udmVuaWVuY2UgbWV0aG9kIGZvciBzZXR0aW5nIGEgdmFsdWUgdG8gYSBwYXRoIGFuZCBub3RpZnlpbmcgYW55XG4gICAgICogZWxlbWVudHMgYm91bmQgdG8gdGhlIHNhbWUgcGF0aC5cbiAgICAgKlxuICAgICAqIE5vdGUsIGlmIGFueSBwYXJ0IGluIHRoZSBwYXRoIGV4Y2VwdCBmb3IgdGhlIGxhc3QgaXMgdW5kZWZpbmVkLFxuICAgICAqIHRoaXMgbWV0aG9kIGRvZXMgbm90aGluZyAodGhpcyBtZXRob2QgZG9lcyBub3QgdGhyb3cgd2hlblxuICAgICAqIGRlcmVmZXJlbmNpbmcgdW5kZWZpbmVkIHBhdGhzKS5cbiAgICAgKlxuICAgICAqIEBvdmVycmlkZVxuICAgICAqIEBwYXJhbSB7KHN0cmluZ3whQXJyYXk8KHN0cmluZ3xudW1iZXIpPil9IHBhdGggUGF0aCB0byB0aGUgdmFsdWVcbiAgICAgKiAgIHRvIHdyaXRlLiAgVGhlIHBhdGggbWF5IGJlIHNwZWNpZmllZCBhcyBhIHN0cmluZyAoZS5nLiBgJ2Zvby5iYXIuYmF6J2ApXG4gICAgICogICBvciBhbiBhcnJheSBvZiBwYXRoIHBhcnRzIChlLmcuIGBbJ2Zvby5iYXInLCAnYmF6J11gKS4gIE5vdGUgdGhhdFxuICAgICAqICAgYnJhY2tldGVkIGV4cHJlc3Npb25zIGFyZSBub3Qgc3VwcG9ydGVkOyBzdHJpbmctYmFzZWQgcGF0aCBwYXJ0c1xuICAgICAqICAgKm11c3QqIGJlIHNlcGFyYXRlZCBieSBkb3RzLiAgTm90ZSB0aGF0IHdoZW4gZGVyZWZlcmVuY2luZyBhcnJheVxuICAgICAqICAgaW5kaWNlcywgdGhlIGluZGV4IG1heSBiZSB1c2VkIGFzIGEgZG90dGVkIHBhcnQgZGlyZWN0bHlcbiAgICAgKiAgIChlLmcuIGAndXNlcnMuMTIubmFtZSdgIG9yIGBbJ3VzZXJzJywgMTIsICduYW1lJ11gKS5cbiAgICAgKiBAcGFyYW0geyp9IHZhbHVlIFZhbHVlIHRvIHNldCBhdCB0aGUgc3BlY2lmaWVkIHBhdGguXG4gICAgICogQHBhcmFtIHtPYmplY3Q9fSByb290IFJvb3Qgb2JqZWN0IGZyb20gd2hpY2ggdGhlIHBhdGggaXMgZXZhbHVhdGVkLlxuICAgICAqICAgV2hlbiBzcGVjaWZpZWQsIG5vIG5vdGlmaWNhdGlvbiB3aWxsIG9jY3VyLlxuICAgICAqIEByZXR1cm4ge3ZvaWR9XG4gICAgICogQHB1YmxpY1xuICAgICAqL1xuICAgIHNldChwYXRoLCB2YWx1ZSwgcm9vdCkge1xuICAgICAgaWYgKHJvb3QpIHtcbiAgICAgICAgc2V0KHJvb3QsIHBhdGgsIHZhbHVlKTtcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIGlmICghdGhpc1tUWVBFUy5SRUFEX09OTFldIHx8ICF0aGlzW1RZUEVTLlJFQURfT05MWV1bLyoqIEB0eXBlIHtzdHJpbmd9ICovKHBhdGgpXSkge1xuICAgICAgICAgIGlmICh0aGlzLl9zZXRQZW5kaW5nUHJvcGVydHlPclBhdGgocGF0aCwgdmFsdWUsIHRydWUpKSB7XG4gICAgICAgICAgICB0aGlzLl9pbnZhbGlkYXRlUHJvcGVydGllcygpO1xuICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgfVxuICAgIH1cblxuICAgIC8qKlxuICAgICAqIEFkZHMgaXRlbXMgb250byB0aGUgZW5kIG9mIHRoZSBhcnJheSBhdCB0aGUgcGF0aCBzcGVjaWZpZWQuXG4gICAgICpcbiAgICAgKiBUaGUgYXJndW1lbnRzIGFmdGVyIGBwYXRoYCBhbmQgcmV0dXJuIHZhbHVlIG1hdGNoIHRoYXQgb2ZcbiAgICAgKiBgQXJyYXkucHJvdG90eXBlLnB1c2hgLlxuICAgICAqXG4gICAgICogVGhpcyBtZXRob2Qgbm90aWZpZXMgb3RoZXIgcGF0aHMgdG8gdGhlIHNhbWUgYXJyYXkgdGhhdCBhXG4gICAgICogc3BsaWNlIG9jY3VycmVkIHRvIHRoZSBhcnJheS5cbiAgICAgKlxuICAgICAqIEBvdmVycmlkZVxuICAgICAqIEBwYXJhbSB7c3RyaW5nIHwgIUFycmF5PHN0cmluZ3xudW1iZXI+fSBwYXRoIFBhdGggdG8gYXJyYXkuXG4gICAgICogQHBhcmFtIHsuLi4qfSBpdGVtcyBJdGVtcyB0byBwdXNoIG9udG8gYXJyYXlcbiAgICAgKiBAcmV0dXJuIHtudW1iZXJ9IE5ldyBsZW5ndGggb2YgdGhlIGFycmF5LlxuICAgICAqIEBwdWJsaWNcbiAgICAgKi9cbiAgICBwdXNoKHBhdGgsIC4uLml0ZW1zKSB7XG4gICAgICBsZXQgaW5mbyA9IHtwYXRoOiAnJ307XG4gICAgICBsZXQgYXJyYXkgPSAvKiogQHR5cGUge0FycmF5fSovKGdldCh0aGlzLCBwYXRoLCBpbmZvKSk7XG4gICAgICBsZXQgbGVuID0gYXJyYXkubGVuZ3RoO1xuICAgICAgbGV0IHJldCA9IGFycmF5LnB1c2goLi4uaXRlbXMpO1xuICAgICAgaWYgKGl0ZW1zLmxlbmd0aCkge1xuICAgICAgICBub3RpZnlTcGxpY2UodGhpcywgYXJyYXksIGluZm8ucGF0aCwgbGVuLCBpdGVtcy5sZW5ndGgsIFtdKTtcbiAgICAgIH1cbiAgICAgIHJldHVybiByZXQ7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogUmVtb3ZlcyBhbiBpdGVtIGZyb20gdGhlIGVuZCBvZiBhcnJheSBhdCB0aGUgcGF0aCBzcGVjaWZpZWQuXG4gICAgICpcbiAgICAgKiBUaGUgYXJndW1lbnRzIGFmdGVyIGBwYXRoYCBhbmQgcmV0dXJuIHZhbHVlIG1hdGNoIHRoYXQgb2ZcbiAgICAgKiBgQXJyYXkucHJvdG90eXBlLnBvcGAuXG4gICAgICpcbiAgICAgKiBUaGlzIG1ldGhvZCBub3RpZmllcyBvdGhlciBwYXRocyB0byB0aGUgc2FtZSBhcnJheSB0aGF0IGFcbiAgICAgKiBzcGxpY2Ugb2NjdXJyZWQgdG8gdGhlIGFycmF5LlxuICAgICAqXG4gICAgICogQG92ZXJyaWRlXG4gICAgICogQHBhcmFtIHtzdHJpbmcgfCAhQXJyYXk8c3RyaW5nfG51bWJlcj59IHBhdGggUGF0aCB0byBhcnJheS5cbiAgICAgKiBAcmV0dXJuIHsqfSBJdGVtIHRoYXQgd2FzIHJlbW92ZWQuXG4gICAgICogQHB1YmxpY1xuICAgICAqL1xuICAgIHBvcChwYXRoKSB7XG4gICAgICBsZXQgaW5mbyA9IHtwYXRoOiAnJ307XG4gICAgICBsZXQgYXJyYXkgPSAvKiogQHR5cGUge0FycmF5fSAqLyhnZXQodGhpcywgcGF0aCwgaW5mbykpO1xuICAgICAgbGV0IGhhZExlbmd0aCA9IEJvb2xlYW4oYXJyYXkubGVuZ3RoKTtcbiAgICAgIGxldCByZXQgPSBhcnJheS5wb3AoKTtcbiAgICAgIGlmIChoYWRMZW5ndGgpIHtcbiAgICAgICAgbm90aWZ5U3BsaWNlKHRoaXMsIGFycmF5LCBpbmZvLnBhdGgsIGFycmF5Lmxlbmd0aCwgMCwgW3JldF0pO1xuICAgICAgfVxuICAgICAgcmV0dXJuIHJldDtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBTdGFydGluZyBmcm9tIHRoZSBzdGFydCBpbmRleCBzcGVjaWZpZWQsIHJlbW92ZXMgMCBvciBtb3JlIGl0ZW1zXG4gICAgICogZnJvbSB0aGUgYXJyYXkgYW5kIGluc2VydHMgMCBvciBtb3JlIG5ldyBpdGVtcyBpbiB0aGVpciBwbGFjZS5cbiAgICAgKlxuICAgICAqIFRoZSBhcmd1bWVudHMgYWZ0ZXIgYHBhdGhgIGFuZCByZXR1cm4gdmFsdWUgbWF0Y2ggdGhhdCBvZlxuICAgICAqIGBBcnJheS5wcm90b3R5cGUuc3BsaWNlYC5cbiAgICAgKlxuICAgICAqIFRoaXMgbWV0aG9kIG5vdGlmaWVzIG90aGVyIHBhdGhzIHRvIHRoZSBzYW1lIGFycmF5IHRoYXQgYVxuICAgICAqIHNwbGljZSBvY2N1cnJlZCB0byB0aGUgYXJyYXkuXG4gICAgICpcbiAgICAgKiBAb3ZlcnJpZGVcbiAgICAgKiBAcGFyYW0ge3N0cmluZyB8ICFBcnJheTxzdHJpbmd8bnVtYmVyPn0gcGF0aCBQYXRoIHRvIGFycmF5LlxuICAgICAqIEBwYXJhbSB7bnVtYmVyfSBzdGFydCBJbmRleCBmcm9tIHdoaWNoIHRvIHN0YXJ0IHJlbW92aW5nL2luc2VydGluZy5cbiAgICAgKiBAcGFyYW0ge251bWJlcj19IGRlbGV0ZUNvdW50IE51bWJlciBvZiBpdGVtcyB0byByZW1vdmUuXG4gICAgICogQHBhcmFtIHsuLi4qfSBpdGVtcyBJdGVtcyB0byBpbnNlcnQgaW50byBhcnJheS5cbiAgICAgKiBAcmV0dXJuIHtBcnJheX0gQXJyYXkgb2YgcmVtb3ZlZCBpdGVtcy5cbiAgICAgKiBAcHVibGljXG4gICAgICovXG4gICAgc3BsaWNlKHBhdGgsIHN0YXJ0LCBkZWxldGVDb3VudCwgLi4uaXRlbXMpIHtcbiAgICAgIGxldCBpbmZvID0ge3BhdGggOiAnJ307XG4gICAgICBsZXQgYXJyYXkgPSAvKiogQHR5cGUge0FycmF5fSAqLyhnZXQodGhpcywgcGF0aCwgaW5mbykpO1xuICAgICAgLy8gTm9ybWFsaXplIGZhbmN5IG5hdGl2ZSBzcGxpY2UgaGFuZGxpbmcgb2YgY3Jhenkgc3RhcnQgdmFsdWVzXG4gICAgICBpZiAoc3RhcnQgPCAwKSB7XG4gICAgICAgIHN0YXJ0ID0gYXJyYXkubGVuZ3RoIC0gTWF0aC5mbG9vcigtc3RhcnQpO1xuICAgICAgfSBlbHNlIGlmIChzdGFydCkge1xuICAgICAgICBzdGFydCA9IE1hdGguZmxvb3Ioc3RhcnQpO1xuICAgICAgfVxuICAgICAgLy8gYXJyYXkuc3BsaWNlIGRvZXMgZGlmZmVyZW50IHRoaW5ncyBiYXNlZCBvbiB0aGUgbnVtYmVyIG9mIGFyZ3VtZW50c1xuICAgICAgLy8geW91IHBhc3MgaW4uIFRoZXJlZm9yZSwgYXJyYXkuc3BsaWNlKDApIGFuZCBhcnJheS5zcGxpY2UoMCwgdW5kZWZpbmVkKVxuICAgICAgLy8gZG8gZGlmZmVyZW50IHRoaW5ncy4gSW4gdGhlIGZvcm1lciwgdGhlIHdob2xlIGFycmF5IGlzIGNsZWFyZWQuIEluIHRoZVxuICAgICAgLy8gbGF0dGVyLCBubyBpdGVtcyBhcmUgcmVtb3ZlZC5cbiAgICAgIC8vIFRoaXMgbWVhbnMgdGhhdCB3ZSBuZWVkIHRvIGRldGVjdCB3aGV0aGVyIDEuIG9uZSBvZiB0aGUgYXJndW1lbnRzXG4gICAgICAvLyBpcyBhY3R1YWxseSBwYXNzZWQgaW4gYW5kIHRoZW4gMi4gZGV0ZXJtaW5lIGhvdyBtYW55IGFyZ3VtZW50c1xuICAgICAgLy8gd2Ugc2hvdWxkIHBhc3Mgb24gdG8gdGhlIG5hdGl2ZSBhcnJheS5zcGxpY2VcbiAgICAgIC8vXG4gICAgICBsZXQgcmV0O1xuICAgICAgLy8gT21pdCBhbnkgYWRkaXRpb25hbCBhcmd1bWVudHMgaWYgdGhleSB3ZXJlIG5vdCBwYXNzZWQgaW5cbiAgICAgIGlmIChhcmd1bWVudHMubGVuZ3RoID09PSAyKSB7XG4gICAgICAgIHJldCA9IGFycmF5LnNwbGljZShzdGFydCk7XG4gICAgICAvLyBFaXRoZXIgc3RhcnQgd2FzIHVuZGVmaW5lZCBhbmQgdGhlIG90aGVycyB3ZXJlIGRlZmluZWQsIGJ1dCBpbiB0aGlzXG4gICAgICAvLyBjYXNlIHdlIGNhbiBzYWZlbHkgcGFzcyBvbiBhbGwgYXJndW1lbnRzXG4gICAgICAvL1xuICAgICAgLy8gTm90ZTogdGhpcyBpbmNsdWRlcyB0aGUgY2FzZSB3aGVyZSBub25lIG9mIHRoZSBhcmd1bWVudHMgd2VyZSBwYXNzZWQgaW4sXG4gICAgICAvLyBlLmcuIHRoaXMuc3BsaWNlKCdhcnJheScpLiBIb3dldmVyLCBpZiBib3RoIHN0YXJ0IGFuZCBkZWxldGVDb3VudFxuICAgICAgLy8gYXJlIHVuZGVmaW5lZCwgYXJyYXkuc3BsaWNlIHdpbGwgbm90IG1vZGlmeSB0aGUgYXJyYXkgKGFzIGV4cGVjdGVkKVxuICAgICAgfSBlbHNlIHtcbiAgICAgICAgcmV0ID0gYXJyYXkuc3BsaWNlKHN0YXJ0LCBkZWxldGVDb3VudCwgLi4uaXRlbXMpO1xuICAgICAgfVxuICAgICAgLy8gQXQgdGhlIGVuZCwgY2hlY2sgd2hldGhlciBhbnkgaXRlbXMgd2VyZSBwYXNzZWQgaW4gKGUuZy4gaW5zZXJ0aW9ucylcbiAgICAgIC8vIG9yIGlmIHRoZSByZXR1cm4gYXJyYXkgY29udGFpbnMgaXRlbXMgKGUuZy4gZGVsZXRpb25zKS5cbiAgICAgIC8vIE9ubHkgbm90aWZ5IGlmIGl0ZW1zIHdlcmUgYWRkZWQgb3IgZGVsZXRlZC5cbiAgICAgIGlmIChpdGVtcy5sZW5ndGggfHwgcmV0Lmxlbmd0aCkge1xuICAgICAgICBub3RpZnlTcGxpY2UodGhpcywgYXJyYXksIGluZm8ucGF0aCwgc3RhcnQsIGl0ZW1zLmxlbmd0aCwgcmV0KTtcbiAgICAgIH1cbiAgICAgIHJldHVybiByZXQ7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogUmVtb3ZlcyBhbiBpdGVtIGZyb20gdGhlIGJlZ2lubmluZyBvZiBhcnJheSBhdCB0aGUgcGF0aCBzcGVjaWZpZWQuXG4gICAgICpcbiAgICAgKiBUaGUgYXJndW1lbnRzIGFmdGVyIGBwYXRoYCBhbmQgcmV0dXJuIHZhbHVlIG1hdGNoIHRoYXQgb2ZcbiAgICAgKiBgQXJyYXkucHJvdG90eXBlLnBvcGAuXG4gICAgICpcbiAgICAgKiBUaGlzIG1ldGhvZCBub3RpZmllcyBvdGhlciBwYXRocyB0byB0aGUgc2FtZSBhcnJheSB0aGF0IGFcbiAgICAgKiBzcGxpY2Ugb2NjdXJyZWQgdG8gdGhlIGFycmF5LlxuICAgICAqXG4gICAgICogQG92ZXJyaWRlXG4gICAgICogQHBhcmFtIHtzdHJpbmcgfCAhQXJyYXk8c3RyaW5nfG51bWJlcj59IHBhdGggUGF0aCB0byBhcnJheS5cbiAgICAgKiBAcmV0dXJuIHsqfSBJdGVtIHRoYXQgd2FzIHJlbW92ZWQuXG4gICAgICogQHB1YmxpY1xuICAgICAqL1xuICAgIHNoaWZ0KHBhdGgpIHtcbiAgICAgIGxldCBpbmZvID0ge3BhdGg6ICcnfTtcbiAgICAgIGxldCBhcnJheSA9IC8qKiBAdHlwZSB7QXJyYXl9ICovKGdldCh0aGlzLCBwYXRoLCBpbmZvKSk7XG4gICAgICBsZXQgaGFkTGVuZ3RoID0gQm9vbGVhbihhcnJheS5sZW5ndGgpO1xuICAgICAgbGV0IHJldCA9IGFycmF5LnNoaWZ0KCk7XG4gICAgICBpZiAoaGFkTGVuZ3RoKSB7XG4gICAgICAgIG5vdGlmeVNwbGljZSh0aGlzLCBhcnJheSwgaW5mby5wYXRoLCAwLCAwLCBbcmV0XSk7XG4gICAgICB9XG4gICAgICByZXR1cm4gcmV0O1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIEFkZHMgaXRlbXMgb250byB0aGUgYmVnaW5uaW5nIG9mIHRoZSBhcnJheSBhdCB0aGUgcGF0aCBzcGVjaWZpZWQuXG4gICAgICpcbiAgICAgKiBUaGUgYXJndW1lbnRzIGFmdGVyIGBwYXRoYCBhbmQgcmV0dXJuIHZhbHVlIG1hdGNoIHRoYXQgb2ZcbiAgICAgKiBgQXJyYXkucHJvdG90eXBlLnB1c2hgLlxuICAgICAqXG4gICAgICogVGhpcyBtZXRob2Qgbm90aWZpZXMgb3RoZXIgcGF0aHMgdG8gdGhlIHNhbWUgYXJyYXkgdGhhdCBhXG4gICAgICogc3BsaWNlIG9jY3VycmVkIHRvIHRoZSBhcnJheS5cbiAgICAgKlxuICAgICAqIEBvdmVycmlkZVxuICAgICAqIEBwYXJhbSB7c3RyaW5nIHwgIUFycmF5PHN0cmluZ3xudW1iZXI+fSBwYXRoIFBhdGggdG8gYXJyYXkuXG4gICAgICogQHBhcmFtIHsuLi4qfSBpdGVtcyBJdGVtcyB0byBpbnNlcnQgaW5mbyBhcnJheVxuICAgICAqIEByZXR1cm4ge251bWJlcn0gTmV3IGxlbmd0aCBvZiB0aGUgYXJyYXkuXG4gICAgICogQHB1YmxpY1xuICAgICAqL1xuICAgIHVuc2hpZnQocGF0aCwgLi4uaXRlbXMpIHtcbiAgICAgIGxldCBpbmZvID0ge3BhdGg6ICcnfTtcbiAgICAgIGxldCBhcnJheSA9IC8qKiBAdHlwZSB7QXJyYXl9ICovKGdldCh0aGlzLCBwYXRoLCBpbmZvKSk7XG4gICAgICBsZXQgcmV0ID0gYXJyYXkudW5zaGlmdCguLi5pdGVtcyk7XG4gICAgICBpZiAoaXRlbXMubGVuZ3RoKSB7XG4gICAgICAgIG5vdGlmeVNwbGljZSh0aGlzLCBhcnJheSwgaW5mby5wYXRoLCAwLCBpdGVtcy5sZW5ndGgsIFtdKTtcbiAgICAgIH1cbiAgICAgIHJldHVybiByZXQ7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogTm90aWZ5IHRoYXQgYSBwYXRoIGhhcyBjaGFuZ2VkLlxuICAgICAqXG4gICAgICogRXhhbXBsZTpcbiAgICAgKlxuICAgICAqICAgICB0aGlzLml0ZW0udXNlci5uYW1lID0gJ0JvYic7XG4gICAgICogICAgIHRoaXMubm90aWZ5UGF0aCgnaXRlbS51c2VyLm5hbWUnKTtcbiAgICAgKlxuICAgICAqIEBvdmVycmlkZVxuICAgICAqIEBwYXJhbSB7c3RyaW5nfSBwYXRoIFBhdGggdGhhdCBzaG91bGQgYmUgbm90aWZpZWQuXG4gICAgICogQHBhcmFtIHsqPX0gdmFsdWUgVmFsdWUgYXQgdGhlIHBhdGggKG9wdGlvbmFsKS5cbiAgICAgKiBAcmV0dXJuIHt2b2lkfVxuICAgICAqIEBwdWJsaWNcbiAgICAgKi9cbiAgICBub3RpZnlQYXRoKHBhdGgsIHZhbHVlKSB7XG4gICAgICAvKiogQHR5cGUge3N0cmluZ30gKi9cbiAgICAgIGxldCBwcm9wUGF0aDtcbiAgICAgIGlmIChhcmd1bWVudHMubGVuZ3RoID09IDEpIHtcbiAgICAgICAgLy8gR2V0IHZhbHVlIGlmIG5vdCBzdXBwbGllZFxuICAgICAgICBsZXQgaW5mbyA9IHtwYXRoOiAnJ307XG4gICAgICAgIHZhbHVlID0gZ2V0KHRoaXMsIHBhdGgsIGluZm8pO1xuICAgICAgICBwcm9wUGF0aCA9IGluZm8ucGF0aDtcbiAgICAgIH0gZWxzZSBpZiAoQXJyYXkuaXNBcnJheShwYXRoKSkge1xuICAgICAgICAvLyBOb3JtYWxpemUgcGF0aCBpZiBuZWVkZWRcbiAgICAgICAgcHJvcFBhdGggPSBub3JtYWxpemUocGF0aCk7XG4gICAgICB9IGVsc2Uge1xuICAgICAgICBwcm9wUGF0aCA9IC8qKiBAdHlwZXtzdHJpbmd9ICovKHBhdGgpO1xuICAgICAgfVxuICAgICAgaWYgKHRoaXMuX3NldFBlbmRpbmdQcm9wZXJ0eU9yUGF0aChwcm9wUGF0aCwgdmFsdWUsIHRydWUsIHRydWUpKSB7XG4gICAgICAgIHRoaXMuX2ludmFsaWRhdGVQcm9wZXJ0aWVzKCk7XG4gICAgICB9XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogRXF1aXZhbGVudCB0byBzdGF0aWMgYGNyZWF0ZVJlYWRPbmx5UHJvcGVydHlgIEFQSSBidXQgY2FuIGJlIGNhbGxlZCBvblxuICAgICAqIGFuIGluc3RhbmNlIHRvIGFkZCBlZmZlY3RzIGF0IHJ1bnRpbWUuICBTZWUgdGhhdCBtZXRob2QgZm9yXG4gICAgICogZnVsbCBBUEkgZG9jcy5cbiAgICAgKlxuICAgICAqIEBvdmVycmlkZVxuICAgICAqIEBwYXJhbSB7c3RyaW5nfSBwcm9wZXJ0eSBQcm9wZXJ0eSBuYW1lXG4gICAgICogQHBhcmFtIHtib29sZWFuPX0gcHJvdGVjdGVkU2V0dGVyIENyZWF0ZXMgYSBjdXN0b20gcHJvdGVjdGVkIHNldHRlclxuICAgICAqICAgd2hlbiBgdHJ1ZWAuXG4gICAgICogQHJldHVybiB7dm9pZH1cbiAgICAgKiBAcHJvdGVjdGVkXG4gICAgICovXG4gICAgX2NyZWF0ZVJlYWRPbmx5UHJvcGVydHkocHJvcGVydHksIHByb3RlY3RlZFNldHRlcikge1xuICAgICAgdGhpcy5fYWRkUHJvcGVydHlFZmZlY3QocHJvcGVydHksIFRZUEVTLlJFQURfT05MWSk7XG4gICAgICBpZiAocHJvdGVjdGVkU2V0dGVyKSB7XG4gICAgICAgIHRoaXNbJ19zZXQnICsgdXBwZXIocHJvcGVydHkpXSA9IC8qKiBAdGhpcyB7UHJvcGVydHlFZmZlY3RzfSAqL2Z1bmN0aW9uKHZhbHVlKSB7XG4gICAgICAgICAgdGhpcy5fc2V0UHJvcGVydHkocHJvcGVydHksIHZhbHVlKTtcbiAgICAgICAgfTtcbiAgICAgIH1cbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBFcXVpdmFsZW50IHRvIHN0YXRpYyBgY3JlYXRlUHJvcGVydHlPYnNlcnZlcmAgQVBJIGJ1dCBjYW4gYmUgY2FsbGVkIG9uXG4gICAgICogYW4gaW5zdGFuY2UgdG8gYWRkIGVmZmVjdHMgYXQgcnVudGltZS4gIFNlZSB0aGF0IG1ldGhvZCBmb3JcbiAgICAgKiBmdWxsIEFQSSBkb2NzLlxuICAgICAqXG4gICAgICogQG92ZXJyaWRlXG4gICAgICogQHBhcmFtIHtzdHJpbmd9IHByb3BlcnR5IFByb3BlcnR5IG5hbWVcbiAgICAgKiBAcGFyYW0ge3N0cmluZ3xmdW5jdGlvbigqLCopfSBtZXRob2QgRnVuY3Rpb24gb3IgbmFtZSBvZiBvYnNlcnZlciBtZXRob2RcbiAgICAgKiAgICAgdG8gY2FsbFxuICAgICAqIEBwYXJhbSB7Ym9vbGVhbj19IGR5bmFtaWNGbiBXaGV0aGVyIHRoZSBtZXRob2QgbmFtZSBzaG91bGQgYmUgaW5jbHVkZWQgYXNcbiAgICAgKiAgIGEgZGVwZW5kZW5jeSB0byB0aGUgZWZmZWN0LlxuICAgICAqIEByZXR1cm4ge3ZvaWR9XG4gICAgICogQHByb3RlY3RlZFxuICAgICAqL1xuICAgIF9jcmVhdGVQcm9wZXJ0eU9ic2VydmVyKHByb3BlcnR5LCBtZXRob2QsIGR5bmFtaWNGbikge1xuICAgICAgbGV0IGluZm8gPSB7IHByb3BlcnR5LCBtZXRob2QsIGR5bmFtaWNGbjogQm9vbGVhbihkeW5hbWljRm4pIH07XG4gICAgICB0aGlzLl9hZGRQcm9wZXJ0eUVmZmVjdChwcm9wZXJ0eSwgVFlQRVMuT0JTRVJWRSwge1xuICAgICAgICBmbjogcnVuT2JzZXJ2ZXJFZmZlY3QsIGluZm8sIHRyaWdnZXI6IHtuYW1lOiBwcm9wZXJ0eX1cbiAgICAgIH0pO1xuICAgICAgaWYgKGR5bmFtaWNGbikge1xuICAgICAgICB0aGlzLl9hZGRQcm9wZXJ0eUVmZmVjdCgvKiogQHR5cGUge3N0cmluZ30gKi8obWV0aG9kKSwgVFlQRVMuT0JTRVJWRSwge1xuICAgICAgICAgIGZuOiBydW5PYnNlcnZlckVmZmVjdCwgaW5mbywgdHJpZ2dlcjoge25hbWU6IG1ldGhvZH1cbiAgICAgICAgfSk7XG4gICAgICB9XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogRXF1aXZhbGVudCB0byBzdGF0aWMgYGNyZWF0ZU1ldGhvZE9ic2VydmVyYCBBUEkgYnV0IGNhbiBiZSBjYWxsZWQgb25cbiAgICAgKiBhbiBpbnN0YW5jZSB0byBhZGQgZWZmZWN0cyBhdCBydW50aW1lLiAgU2VlIHRoYXQgbWV0aG9kIGZvclxuICAgICAqIGZ1bGwgQVBJIGRvY3MuXG4gICAgICpcbiAgICAgKiBAb3ZlcnJpZGVcbiAgICAgKiBAcGFyYW0ge3N0cmluZ30gZXhwcmVzc2lvbiBNZXRob2QgZXhwcmVzc2lvblxuICAgICAqIEBwYXJhbSB7Ym9vbGVhbnxPYmplY3Q9fSBkeW5hbWljRm4gQm9vbGVhbiBvciBvYmplY3QgbWFwIGluZGljYXRpbmdcbiAgICAgKiAgIHdoZXRoZXIgbWV0aG9kIG5hbWVzIHNob3VsZCBiZSBpbmNsdWRlZCBhcyBhIGRlcGVuZGVuY3kgdG8gdGhlIGVmZmVjdC5cbiAgICAgKiBAcmV0dXJuIHt2b2lkfVxuICAgICAqIEBwcm90ZWN0ZWRcbiAgICAgKi9cbiAgICBfY3JlYXRlTWV0aG9kT2JzZXJ2ZXIoZXhwcmVzc2lvbiwgZHluYW1pY0ZuKSB7XG4gICAgICBsZXQgc2lnID0gcGFyc2VNZXRob2QoZXhwcmVzc2lvbik7XG4gICAgICBpZiAoIXNpZykge1xuICAgICAgICB0aHJvdyBuZXcgRXJyb3IoXCJNYWxmb3JtZWQgb2JzZXJ2ZXIgZXhwcmVzc2lvbiAnXCIgKyBleHByZXNzaW9uICsgXCInXCIpO1xuICAgICAgfVxuICAgICAgY3JlYXRlTWV0aG9kRWZmZWN0KHRoaXMsIHNpZywgVFlQRVMuT0JTRVJWRSwgcnVuTWV0aG9kRWZmZWN0LCBudWxsLCBkeW5hbWljRm4pO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIEVxdWl2YWxlbnQgdG8gc3RhdGljIGBjcmVhdGVOb3RpZnlpbmdQcm9wZXJ0eWAgQVBJIGJ1dCBjYW4gYmUgY2FsbGVkIG9uXG4gICAgICogYW4gaW5zdGFuY2UgdG8gYWRkIGVmZmVjdHMgYXQgcnVudGltZS4gIFNlZSB0aGF0IG1ldGhvZCBmb3JcbiAgICAgKiBmdWxsIEFQSSBkb2NzLlxuICAgICAqXG4gICAgICogQG92ZXJyaWRlXG4gICAgICogQHBhcmFtIHtzdHJpbmd9IHByb3BlcnR5IFByb3BlcnR5IG5hbWVcbiAgICAgKiBAcmV0dXJuIHt2b2lkfVxuICAgICAqIEBwcm90ZWN0ZWRcbiAgICAgKi9cbiAgICBfY3JlYXRlTm90aWZ5aW5nUHJvcGVydHkocHJvcGVydHkpIHtcbiAgICAgIHRoaXMuX2FkZFByb3BlcnR5RWZmZWN0KHByb3BlcnR5LCBUWVBFUy5OT1RJRlksIHtcbiAgICAgICAgZm46IHJ1bk5vdGlmeUVmZmVjdCxcbiAgICAgICAgaW5mbzoge1xuICAgICAgICAgIGV2ZW50TmFtZTogY2FtZWxUb0Rhc2hDYXNlKHByb3BlcnR5KSArICctY2hhbmdlZCcsXG4gICAgICAgICAgcHJvcGVydHk6IHByb3BlcnR5XG4gICAgICAgIH1cbiAgICAgIH0pO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIEVxdWl2YWxlbnQgdG8gc3RhdGljIGBjcmVhdGVSZWZsZWN0ZWRQcm9wZXJ0eWAgQVBJIGJ1dCBjYW4gYmUgY2FsbGVkIG9uXG4gICAgICogYW4gaW5zdGFuY2UgdG8gYWRkIGVmZmVjdHMgYXQgcnVudGltZS4gIFNlZSB0aGF0IG1ldGhvZCBmb3JcbiAgICAgKiBmdWxsIEFQSSBkb2NzLlxuICAgICAqXG4gICAgICogQG92ZXJyaWRlXG4gICAgICogQHBhcmFtIHtzdHJpbmd9IHByb3BlcnR5IFByb3BlcnR5IG5hbWVcbiAgICAgKiBAcmV0dXJuIHt2b2lkfVxuICAgICAqIEBwcm90ZWN0ZWRcbiAgICAgKiBAc3VwcHJlc3Mge21pc3NpbmdQcm9wZXJ0aWVzfSBnby9taXNzaW5nZm5wcm9wc1xuICAgICAqL1xuICAgIF9jcmVhdGVSZWZsZWN0ZWRQcm9wZXJ0eShwcm9wZXJ0eSkge1xuICAgICAgbGV0IGF0dHIgPSB0aGlzLmNvbnN0cnVjdG9yLmF0dHJpYnV0ZU5hbWVGb3JQcm9wZXJ0eShwcm9wZXJ0eSk7XG4gICAgICBpZiAoYXR0clswXSA9PT0gJy0nKSB7XG4gICAgICAgIGNvbnNvbGUud2FybignUHJvcGVydHkgJyArIHByb3BlcnR5ICsgJyBjYW5ub3QgYmUgcmVmbGVjdGVkIHRvIGF0dHJpYnV0ZSAnICtcbiAgICAgICAgICBhdHRyICsgJyBiZWNhdXNlIFwiLVwiIGlzIG5vdCBhIHZhbGlkIHN0YXJ0aW5nIGF0dHJpYnV0ZSBuYW1lLiBVc2UgYSBsb3dlcmNhc2UgZmlyc3QgbGV0dGVyIGZvciB0aGUgcHJvcGVydHkgaW5zdGVhZC4nKTtcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIHRoaXMuX2FkZFByb3BlcnR5RWZmZWN0KHByb3BlcnR5LCBUWVBFUy5SRUZMRUNULCB7XG4gICAgICAgICAgZm46IHJ1blJlZmxlY3RFZmZlY3QsXG4gICAgICAgICAgaW5mbzoge1xuICAgICAgICAgICAgYXR0ck5hbWU6IGF0dHJcbiAgICAgICAgICB9XG4gICAgICAgIH0pO1xuICAgICAgfVxuICAgIH1cblxuICAgIC8qKlxuICAgICAqIEVxdWl2YWxlbnQgdG8gc3RhdGljIGBjcmVhdGVDb21wdXRlZFByb3BlcnR5YCBBUEkgYnV0IGNhbiBiZSBjYWxsZWQgb25cbiAgICAgKiBhbiBpbnN0YW5jZSB0byBhZGQgZWZmZWN0cyBhdCBydW50aW1lLiAgU2VlIHRoYXQgbWV0aG9kIGZvclxuICAgICAqIGZ1bGwgQVBJIGRvY3MuXG4gICAgICpcbiAgICAgKiBAb3ZlcnJpZGVcbiAgICAgKiBAcGFyYW0ge3N0cmluZ30gcHJvcGVydHkgTmFtZSBvZiBjb21wdXRlZCBwcm9wZXJ0eSB0byBzZXRcbiAgICAgKiBAcGFyYW0ge3N0cmluZ30gZXhwcmVzc2lvbiBNZXRob2QgZXhwcmVzc2lvblxuICAgICAqIEBwYXJhbSB7Ym9vbGVhbnxPYmplY3Q9fSBkeW5hbWljRm4gQm9vbGVhbiBvciBvYmplY3QgbWFwIGluZGljYXRpbmdcbiAgICAgKiAgIHdoZXRoZXIgbWV0aG9kIG5hbWVzIHNob3VsZCBiZSBpbmNsdWRlZCBhcyBhIGRlcGVuZGVuY3kgdG8gdGhlIGVmZmVjdC5cbiAgICAgKiBAcmV0dXJuIHt2b2lkfVxuICAgICAqIEBwcm90ZWN0ZWRcbiAgICAgKi9cbiAgICBfY3JlYXRlQ29tcHV0ZWRQcm9wZXJ0eShwcm9wZXJ0eSwgZXhwcmVzc2lvbiwgZHluYW1pY0ZuKSB7XG4gICAgICBsZXQgc2lnID0gcGFyc2VNZXRob2QoZXhwcmVzc2lvbik7XG4gICAgICBpZiAoIXNpZykge1xuICAgICAgICB0aHJvdyBuZXcgRXJyb3IoXCJNYWxmb3JtZWQgY29tcHV0ZWQgZXhwcmVzc2lvbiAnXCIgKyBleHByZXNzaW9uICsgXCInXCIpO1xuICAgICAgfVxuICAgICAgY3JlYXRlTWV0aG9kRWZmZWN0KHRoaXMsIHNpZywgVFlQRVMuQ09NUFVURSwgcnVuQ29tcHV0ZWRFZmZlY3QsIHByb3BlcnR5LCBkeW5hbWljRm4pO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIEdhdGhlciB0aGUgYXJndW1lbnQgdmFsdWVzIGZvciBhIG1ldGhvZCBzcGVjaWZpZWQgaW4gdGhlIHByb3ZpZGVkIGFycmF5XG4gICAgICogb2YgYXJndW1lbnQgbWV0YWRhdGEuXG4gICAgICpcbiAgICAgKiBUaGUgYHBhdGhgIGFuZCBgdmFsdWVgIGFyZ3VtZW50cyBhcmUgdXNlZCB0byBmaWxsIGluIHdpbGRjYXJkIGRlc2NyaXB0b3JcbiAgICAgKiB3aGVuIHRoZSBtZXRob2QgaXMgYmVpbmcgY2FsbGVkIGFzIGEgcmVzdWx0IG9mIGEgcGF0aCBub3RpZmljYXRpb24uXG4gICAgICpcbiAgICAgKiBAcGFyYW0geyFBcnJheTwhTWV0aG9kQXJnPn0gYXJncyBBcnJheSBvZiBhcmd1bWVudCBtZXRhZGF0YVxuICAgICAqIEBwYXJhbSB7c3RyaW5nfSBwYXRoIFByb3BlcnR5L3BhdGggbmFtZSB0aGF0IHRyaWdnZXJlZCB0aGUgbWV0aG9kIGVmZmVjdFxuICAgICAqIEBwYXJhbSB7T2JqZWN0fSBwcm9wcyBCYWcgb2YgY3VycmVudCBwcm9wZXJ0eSBjaGFuZ2VzXG4gICAgICogQHJldHVybiB7QXJyYXk8Kj59IEFycmF5IG9mIGFyZ3VtZW50IHZhbHVlc1xuICAgICAqIEBwcml2YXRlXG4gICAgICovXG4gICAgX21hcnNoYWxBcmdzKGFyZ3MsIHBhdGgsIHByb3BzKSB7XG4gICAgICBjb25zdCBkYXRhID0gdGhpcy5fX2RhdGE7XG4gICAgICBjb25zdCB2YWx1ZXMgPSBbXTtcbiAgICAgIGZvciAobGV0IGk9MCwgbD1hcmdzLmxlbmd0aDsgaTxsOyBpKyspIHtcbiAgICAgICAgbGV0IHtuYW1lLCBzdHJ1Y3R1cmVkLCB3aWxkY2FyZCwgdmFsdWUsIGxpdGVyYWx9ID0gYXJnc1tpXTtcbiAgICAgICAgaWYgKCFsaXRlcmFsKSB7XG4gICAgICAgICAgaWYgKHdpbGRjYXJkKSB7XG4gICAgICAgICAgICBjb25zdCBtYXRjaGVzID0gaXNEZXNjZW5kYW50KG5hbWUsIHBhdGgpO1xuICAgICAgICAgICAgY29uc3QgcGF0aFZhbHVlID0gZ2V0QXJnVmFsdWUoZGF0YSwgcHJvcHMsIG1hdGNoZXMgPyBwYXRoIDogbmFtZSk7XG4gICAgICAgICAgICB2YWx1ZSA9IHtcbiAgICAgICAgICAgICAgcGF0aDogbWF0Y2hlcyA/IHBhdGggOiBuYW1lLFxuICAgICAgICAgICAgICB2YWx1ZTogcGF0aFZhbHVlLFxuICAgICAgICAgICAgICBiYXNlOiBtYXRjaGVzID8gZ2V0KGRhdGEsIG5hbWUpIDogcGF0aFZhbHVlXG4gICAgICAgICAgICB9O1xuICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICB2YWx1ZSA9IHN0cnVjdHVyZWQgPyBnZXRBcmdWYWx1ZShkYXRhLCBwcm9wcywgbmFtZSkgOiBkYXRhW25hbWVdO1xuICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICB2YWx1ZXNbaV0gPSB2YWx1ZTtcbiAgICAgIH1cbiAgICAgIHJldHVybiB2YWx1ZXM7XG4gICAgfVxuXG4gICAgLy8gLS0gc3RhdGljIGNsYXNzIG1ldGhvZHMgLS0tLS0tLS0tLS0tXG5cbiAgICAvKipcbiAgICAgKiBFbnN1cmVzIGFuIGFjY2Vzc29yIGV4aXN0cyBmb3IgdGhlIHNwZWNpZmllZCBwcm9wZXJ0eSwgYW5kIGFkZHNcbiAgICAgKiB0byBhIGxpc3Qgb2YgXCJwcm9wZXJ0eSBlZmZlY3RzXCIgdGhhdCB3aWxsIHJ1biB3aGVuIHRoZSBhY2Nlc3NvciBmb3JcbiAgICAgKiB0aGUgc3BlY2lmaWVkIHByb3BlcnR5IGlzIHNldC4gIEVmZmVjdHMgYXJlIGdyb3VwZWQgYnkgXCJ0eXBlXCIsIHdoaWNoXG4gICAgICogcm91Z2hseSBjb3JyZXNwb25kcyB0byBhIHBoYXNlIGluIGVmZmVjdCBwcm9jZXNzaW5nLiAgVGhlIGVmZmVjdFxuICAgICAqIG1ldGFkYXRhIHNob3VsZCBiZSBpbiB0aGUgZm9sbG93aW5nIGZvcm06XG4gICAgICpcbiAgICAgKiAgICAge1xuICAgICAqICAgICAgIGZuOiBlZmZlY3RGdW5jdGlvbiwgLy8gUmVmZXJlbmNlIHRvIGZ1bmN0aW9uIHRvIGNhbGwgdG8gcGVyZm9ybSBlZmZlY3RcbiAgICAgKiAgICAgICBpbmZvOiB7IC4uLiB9ICAgICAgIC8vIEVmZmVjdCBtZXRhZGF0YSBwYXNzZWQgdG8gZnVuY3Rpb25cbiAgICAgKiAgICAgICB0cmlnZ2VyOiB7ICAgICAgICAgIC8vIE9wdGlvbmFsIHRyaWdnZXJpbmcgbWV0YWRhdGE7IGlmIG5vdCBwcm92aWRlZFxuICAgICAqICAgICAgICAgbmFtZTogc3RyaW5nICAgICAgLy8gdGhlIHByb3BlcnR5IGlzIHRyZWF0ZWQgYXMgYSB3aWxkY2FyZFxuICAgICAqICAgICAgICAgc3RydWN0dXJlZDogYm9vbGVhblxuICAgICAqICAgICAgICAgd2lsZGNhcmQ6IGJvb2xlYW5cbiAgICAgKiAgICAgICB9XG4gICAgICogICAgIH1cbiAgICAgKlxuICAgICAqIEVmZmVjdHMgYXJlIGNhbGxlZCBmcm9tIGBfcHJvcGVydGllc0NoYW5nZWRgIGluIHRoZSBmb2xsb3dpbmcgb3JkZXIgYnlcbiAgICAgKiB0eXBlOlxuICAgICAqXG4gICAgICogMS4gQ09NUFVURVxuICAgICAqIDIuIFBST1BBR0FURVxuICAgICAqIDMuIFJFRkxFQ1RcbiAgICAgKiA0LiBPQlNFUlZFXG4gICAgICogNS4gTk9USUZZXG4gICAgICpcbiAgICAgKiBFZmZlY3QgZnVuY3Rpb25zIGFyZSBjYWxsZWQgd2l0aCB0aGUgZm9sbG93aW5nIHNpZ25hdHVyZTpcbiAgICAgKlxuICAgICAqICAgICBlZmZlY3RGdW5jdGlvbihpbnN0LCBwYXRoLCBwcm9wcywgb2xkUHJvcHMsIGluZm8sIGhhc1BhdGhzKVxuICAgICAqXG4gICAgICogQHBhcmFtIHtzdHJpbmd9IHByb3BlcnR5IFByb3BlcnR5IHRoYXQgc2hvdWxkIHRyaWdnZXIgdGhlIGVmZmVjdFxuICAgICAqIEBwYXJhbSB7c3RyaW5nfSB0eXBlIEVmZmVjdCB0eXBlLCBmcm9tIHRoaXMuUFJPUEVSVFlfRUZGRUNUX1RZUEVTXG4gICAgICogQHBhcmFtIHtPYmplY3Q9fSBlZmZlY3QgRWZmZWN0IG1ldGFkYXRhIG9iamVjdFxuICAgICAqIEByZXR1cm4ge3ZvaWR9XG4gICAgICogQHByb3RlY3RlZFxuICAgICAqL1xuICAgIHN0YXRpYyBhZGRQcm9wZXJ0eUVmZmVjdChwcm9wZXJ0eSwgdHlwZSwgZWZmZWN0KSB7XG4gICAgICB0aGlzLnByb3RvdHlwZS5fYWRkUHJvcGVydHlFZmZlY3QocHJvcGVydHksIHR5cGUsIGVmZmVjdCk7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogQ3JlYXRlcyBhIHNpbmdsZS1wcm9wZXJ0eSBvYnNlcnZlciBmb3IgdGhlIGdpdmVuIHByb3BlcnR5LlxuICAgICAqXG4gICAgICogQHBhcmFtIHtzdHJpbmd9IHByb3BlcnR5IFByb3BlcnR5IG5hbWVcbiAgICAgKiBAcGFyYW0ge3N0cmluZ3xmdW5jdGlvbigqLCopfSBtZXRob2QgRnVuY3Rpb24gb3IgbmFtZSBvZiBvYnNlcnZlciBtZXRob2QgdG8gY2FsbFxuICAgICAqIEBwYXJhbSB7Ym9vbGVhbj19IGR5bmFtaWNGbiBXaGV0aGVyIHRoZSBtZXRob2QgbmFtZSBzaG91bGQgYmUgaW5jbHVkZWQgYXNcbiAgICAgKiAgIGEgZGVwZW5kZW5jeSB0byB0aGUgZWZmZWN0LlxuICAgICAqIEByZXR1cm4ge3ZvaWR9XG4gICAgICogQHByb3RlY3RlZFxuICAgICAqL1xuICAgIHN0YXRpYyBjcmVhdGVQcm9wZXJ0eU9ic2VydmVyKHByb3BlcnR5LCBtZXRob2QsIGR5bmFtaWNGbikge1xuICAgICAgdGhpcy5wcm90b3R5cGUuX2NyZWF0ZVByb3BlcnR5T2JzZXJ2ZXIocHJvcGVydHksIG1ldGhvZCwgZHluYW1pY0ZuKTtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBDcmVhdGVzIGEgbXVsdGktcHJvcGVydHkgXCJtZXRob2Qgb2JzZXJ2ZXJcIiBiYXNlZCBvbiB0aGUgcHJvdmlkZWRcbiAgICAgKiBleHByZXNzaW9uLCB3aGljaCBzaG91bGQgYmUgYSBzdHJpbmcgaW4gdGhlIGZvcm0gb2YgYSBub3JtYWwgSmF2YVNjcmlwdFxuICAgICAqIGZ1bmN0aW9uIHNpZ25hdHVyZTogYCdtZXRob2ROYW1lKGFyZzEsIFsuLi4sIGFyZ25dKSdgLiAgRWFjaCBhcmd1bWVudFxuICAgICAqIHNob3VsZCBjb3JyZXNwb25kIHRvIGEgcHJvcGVydHkgb3IgcGF0aCBpbiB0aGUgY29udGV4dCBvZiB0aGlzXG4gICAgICogcHJvdG90eXBlIChvciBpbnN0YW5jZSksIG9yIG1heSBiZSBhIGxpdGVyYWwgc3RyaW5nIG9yIG51bWJlci5cbiAgICAgKlxuICAgICAqIEBwYXJhbSB7c3RyaW5nfSBleHByZXNzaW9uIE1ldGhvZCBleHByZXNzaW9uXG4gICAgICogQHBhcmFtIHtib29sZWFufE9iamVjdD19IGR5bmFtaWNGbiBCb29sZWFuIG9yIG9iamVjdCBtYXAgaW5kaWNhdGluZ1xuICAgICAqIEByZXR1cm4ge3ZvaWR9XG4gICAgICogICB3aGV0aGVyIG1ldGhvZCBuYW1lcyBzaG91bGQgYmUgaW5jbHVkZWQgYXMgYSBkZXBlbmRlbmN5IHRvIHRoZSBlZmZlY3QuXG4gICAgICogQHByb3RlY3RlZFxuICAgICAqL1xuICAgIHN0YXRpYyBjcmVhdGVNZXRob2RPYnNlcnZlcihleHByZXNzaW9uLCBkeW5hbWljRm4pIHtcbiAgICAgIHRoaXMucHJvdG90eXBlLl9jcmVhdGVNZXRob2RPYnNlcnZlcihleHByZXNzaW9uLCBkeW5hbWljRm4pO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIENhdXNlcyB0aGUgc2V0dGVyIGZvciB0aGUgZ2l2ZW4gcHJvcGVydHkgdG8gZGlzcGF0Y2ggYDxwcm9wZXJ0eT4tY2hhbmdlZGBcbiAgICAgKiBldmVudHMgdG8gbm90aWZ5IG9mIGNoYW5nZXMgdG8gdGhlIHByb3BlcnR5LlxuICAgICAqXG4gICAgICogQHBhcmFtIHtzdHJpbmd9IHByb3BlcnR5IFByb3BlcnR5IG5hbWVcbiAgICAgKiBAcmV0dXJuIHt2b2lkfVxuICAgICAqIEBwcm90ZWN0ZWRcbiAgICAgKi9cbiAgICBzdGF0aWMgY3JlYXRlTm90aWZ5aW5nUHJvcGVydHkocHJvcGVydHkpIHtcbiAgICAgIHRoaXMucHJvdG90eXBlLl9jcmVhdGVOb3RpZnlpbmdQcm9wZXJ0eShwcm9wZXJ0eSk7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogQ3JlYXRlcyBhIHJlYWQtb25seSBhY2Nlc3NvciBmb3IgdGhlIGdpdmVuIHByb3BlcnR5LlxuICAgICAqXG4gICAgICogVG8gc2V0IHRoZSBwcm9wZXJ0eSwgdXNlIHRoZSBwcm90ZWN0ZWQgYF9zZXRQcm9wZXJ0eWAgQVBJLlxuICAgICAqIFRvIGNyZWF0ZSBhIGN1c3RvbSBwcm90ZWN0ZWQgc2V0dGVyIChlLmcuIGBfc2V0TXlQcm9wKClgIGZvclxuICAgICAqIHByb3BlcnR5IGBteVByb3BgKSwgcGFzcyBgdHJ1ZWAgZm9yIGBwcm90ZWN0ZWRTZXR0ZXJgLlxuICAgICAqXG4gICAgICogTm90ZSwgaWYgdGhlIHByb3BlcnR5IHdpbGwgaGF2ZSBvdGhlciBwcm9wZXJ0eSBlZmZlY3RzLCB0aGlzIG1ldGhvZFxuICAgICAqIHNob3VsZCBiZSBjYWxsZWQgZmlyc3QsIGJlZm9yZSBhZGRpbmcgb3RoZXIgZWZmZWN0cy5cbiAgICAgKlxuICAgICAqIEBwYXJhbSB7c3RyaW5nfSBwcm9wZXJ0eSBQcm9wZXJ0eSBuYW1lXG4gICAgICogQHBhcmFtIHtib29sZWFuPX0gcHJvdGVjdGVkU2V0dGVyIENyZWF0ZXMgYSBjdXN0b20gcHJvdGVjdGVkIHNldHRlclxuICAgICAqICAgd2hlbiBgdHJ1ZWAuXG4gICAgICogQHJldHVybiB7dm9pZH1cbiAgICAgKiBAcHJvdGVjdGVkXG4gICAgICovXG4gICAgc3RhdGljIGNyZWF0ZVJlYWRPbmx5UHJvcGVydHkocHJvcGVydHksIHByb3RlY3RlZFNldHRlcikge1xuICAgICAgdGhpcy5wcm90b3R5cGUuX2NyZWF0ZVJlYWRPbmx5UHJvcGVydHkocHJvcGVydHksIHByb3RlY3RlZFNldHRlcik7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogQ2F1c2VzIHRoZSBzZXR0ZXIgZm9yIHRoZSBnaXZlbiBwcm9wZXJ0eSB0byByZWZsZWN0IHRoZSBwcm9wZXJ0eSB2YWx1ZVxuICAgICAqIHRvIGEgKGRhc2gtY2FzZWQpIGF0dHJpYnV0ZSBvZiB0aGUgc2FtZSBuYW1lLlxuICAgICAqXG4gICAgICogQHBhcmFtIHtzdHJpbmd9IHByb3BlcnR5IFByb3BlcnR5IG5hbWVcbiAgICAgKiBAcmV0dXJuIHt2b2lkfVxuICAgICAqIEBwcm90ZWN0ZWRcbiAgICAgKi9cbiAgICBzdGF0aWMgY3JlYXRlUmVmbGVjdGVkUHJvcGVydHkocHJvcGVydHkpIHtcbiAgICAgIHRoaXMucHJvdG90eXBlLl9jcmVhdGVSZWZsZWN0ZWRQcm9wZXJ0eShwcm9wZXJ0eSk7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogQ3JlYXRlcyBhIGNvbXB1dGVkIHByb3BlcnR5IHdob3NlIHZhbHVlIGlzIHNldCB0byB0aGUgcmVzdWx0IG9mIHRoZVxuICAgICAqIG1ldGhvZCBkZXNjcmliZWQgYnkgdGhlIGdpdmVuIGBleHByZXNzaW9uYCBlYWNoIHRpbWUgb25lIG9yIG1vcmVcbiAgICAgKiBhcmd1bWVudHMgdG8gdGhlIG1ldGhvZCBjaGFuZ2VzLiAgVGhlIGV4cHJlc3Npb24gc2hvdWxkIGJlIGEgc3RyaW5nXG4gICAgICogaW4gdGhlIGZvcm0gb2YgYSBub3JtYWwgSmF2YVNjcmlwdCBmdW5jdGlvbiBzaWduYXR1cmU6XG4gICAgICogYCdtZXRob2ROYW1lKGFyZzEsIFsuLi4sIGFyZ25dKSdgXG4gICAgICpcbiAgICAgKiBAcGFyYW0ge3N0cmluZ30gcHJvcGVydHkgTmFtZSBvZiBjb21wdXRlZCBwcm9wZXJ0eSB0byBzZXRcbiAgICAgKiBAcGFyYW0ge3N0cmluZ30gZXhwcmVzc2lvbiBNZXRob2QgZXhwcmVzc2lvblxuICAgICAqIEBwYXJhbSB7Ym9vbGVhbnxPYmplY3Q9fSBkeW5hbWljRm4gQm9vbGVhbiBvciBvYmplY3QgbWFwIGluZGljYXRpbmcgd2hldGhlclxuICAgICAqICAgbWV0aG9kIG5hbWVzIHNob3VsZCBiZSBpbmNsdWRlZCBhcyBhIGRlcGVuZGVuY3kgdG8gdGhlIGVmZmVjdC5cbiAgICAgKiBAcmV0dXJuIHt2b2lkfVxuICAgICAqIEBwcm90ZWN0ZWRcbiAgICAgKi9cbiAgICBzdGF0aWMgY3JlYXRlQ29tcHV0ZWRQcm9wZXJ0eShwcm9wZXJ0eSwgZXhwcmVzc2lvbiwgZHluYW1pY0ZuKSB7XG4gICAgICB0aGlzLnByb3RvdHlwZS5fY3JlYXRlQ29tcHV0ZWRQcm9wZXJ0eShwcm9wZXJ0eSwgZXhwcmVzc2lvbiwgZHluYW1pY0ZuKTtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBQYXJzZXMgdGhlIHByb3ZpZGVkIHRlbXBsYXRlIHRvIGVuc3VyZSBiaW5kaW5nIGVmZmVjdHMgYXJlIGNyZWF0ZWRcbiAgICAgKiBmb3IgdGhlbSwgYW5kIHRoZW4gZW5zdXJlcyBwcm9wZXJ0eSBhY2Nlc3NvcnMgYXJlIGNyZWF0ZWQgZm9yIGFueVxuICAgICAqIGRlcGVuZGVudCBwcm9wZXJ0aWVzIGluIHRoZSB0ZW1wbGF0ZS4gIEJpbmRpbmcgZWZmZWN0cyBmb3IgYm91bmRcbiAgICAgKiB0ZW1wbGF0ZXMgYXJlIHN0b3JlZCBpbiBhIGxpbmtlZCBsaXN0IG9uIHRoZSBpbnN0YW5jZSBzbyB0aGF0XG4gICAgICogdGVtcGxhdGVzIGNhbiBiZSBlZmZpY2llbnRseSBzdGFtcGVkIGFuZCB1bnN0YW1wZWQuXG4gICAgICpcbiAgICAgKiBAcGFyYW0geyFIVE1MVGVtcGxhdGVFbGVtZW50fSB0ZW1wbGF0ZSBUZW1wbGF0ZSBjb250YWluaW5nIGJpbmRpbmdcbiAgICAgKiAgIGJpbmRpbmdzXG4gICAgICogQHJldHVybiB7IVRlbXBsYXRlSW5mb30gVGVtcGxhdGUgbWV0YWRhdGEgb2JqZWN0XG4gICAgICogQHByb3RlY3RlZFxuICAgICAqL1xuICAgIHN0YXRpYyBiaW5kVGVtcGxhdGUodGVtcGxhdGUpIHtcbiAgICAgIHJldHVybiB0aGlzLnByb3RvdHlwZS5fYmluZFRlbXBsYXRlKHRlbXBsYXRlKTtcbiAgICB9XG5cbiAgICAvLyAtLSBiaW5kaW5nIC0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS1cblxuICAgIC8qKlxuICAgICAqIEVxdWl2YWxlbnQgdG8gc3RhdGljIGBiaW5kVGVtcGxhdGVgIEFQSSBidXQgY2FuIGJlIGNhbGxlZCBvblxuICAgICAqIGFuIGluc3RhbmNlIHRvIGFkZCBlZmZlY3RzIGF0IHJ1bnRpbWUuICBTZWUgdGhhdCBtZXRob2QgZm9yXG4gICAgICogZnVsbCBBUEkgZG9jcy5cbiAgICAgKlxuICAgICAqIFRoaXMgbWV0aG9kIG1heSBiZSBjYWxsZWQgb24gdGhlIHByb3RvdHlwZSAoZm9yIHByb3RvdHlwaWNhbCB0ZW1wbGF0ZVxuICAgICAqIGJpbmRpbmcsIHRvIGF2b2lkIGNyZWF0aW5nIGFjY2Vzc29ycyBldmVyeSBpbnN0YW5jZSkgb25jZSBwZXIgcHJvdG90eXBlLFxuICAgICAqIGFuZCB3aWxsIGJlIGNhbGxlZCB3aXRoIGBydW50aW1lQmluZGluZzogdHJ1ZWAgYnkgYF9zdGFtcFRlbXBsYXRlYCB0b1xuICAgICAqIGNyZWF0ZSBhbmQgbGluayBhbiBpbnN0YW5jZSBvZiB0aGUgdGVtcGxhdGUgbWV0YWRhdGEgYXNzb2NpYXRlZCB3aXRoIGFcbiAgICAgKiBwYXJ0aWN1bGFyIHN0YW1waW5nLlxuICAgICAqXG4gICAgICogQG92ZXJyaWRlXG4gICAgICogQHBhcmFtIHshSFRNTFRlbXBsYXRlRWxlbWVudH0gdGVtcGxhdGUgVGVtcGxhdGUgY29udGFpbmluZyBiaW5kaW5nXG4gICAgICogICBiaW5kaW5nc1xuICAgICAqIEBwYXJhbSB7Ym9vbGVhbj19IGluc3RhbmNlQmluZGluZyBXaGVuIGZhbHNlIChkZWZhdWx0KSwgcGVyZm9ybXNcbiAgICAgKiAgIFwicHJvdG90eXBpY2FsXCIgYmluZGluZyBvZiB0aGUgdGVtcGxhdGUgYW5kIG92ZXJ3cml0ZXMgYW55IHByZXZpb3VzbHlcbiAgICAgKiAgIGJvdW5kIHRlbXBsYXRlIGZvciB0aGUgY2xhc3MuIFdoZW4gdHJ1ZSAoYXMgcGFzc2VkIGZyb21cbiAgICAgKiAgIGBfc3RhbXBUZW1wbGF0ZWApLCB0aGUgdGVtcGxhdGUgaW5mbyBpcyBpbnN0YW5jZWQgYW5kIGxpbmtlZCBpbnRvXG4gICAgICogICB0aGUgbGlzdCBvZiBib3VuZCB0ZW1wbGF0ZXMuXG4gICAgICogQHJldHVybiB7IVRlbXBsYXRlSW5mb30gVGVtcGxhdGUgbWV0YWRhdGEgb2JqZWN0OyBmb3IgYHJ1bnRpbWVCaW5kaW5nYCxcbiAgICAgKiAgIHRoaXMgaXMgYW4gaW5zdGFuY2Ugb2YgdGhlIHByb3RvdHlwaWNhbCB0ZW1wbGF0ZSBpbmZvXG4gICAgICogQHByb3RlY3RlZFxuICAgICAqIEBzdXBwcmVzcyB7bWlzc2luZ1Byb3BlcnRpZXN9IGdvL21pc3NpbmdmbnByb3BzXG4gICAgICovXG4gICAgX2JpbmRUZW1wbGF0ZSh0ZW1wbGF0ZSwgaW5zdGFuY2VCaW5kaW5nKSB7XG4gICAgICBsZXQgdGVtcGxhdGVJbmZvID0gdGhpcy5jb25zdHJ1Y3Rvci5fcGFyc2VUZW1wbGF0ZSh0ZW1wbGF0ZSk7XG4gICAgICBsZXQgd2FzUHJlQm91bmQgPSB0aGlzLl9fdGVtcGxhdGVJbmZvID09IHRlbXBsYXRlSW5mbztcbiAgICAgIC8vIE9wdGltaXphdGlvbjogc2luY2UgdGhpcyBpcyBjYWxsZWQgdHdpY2UgZm9yIHByb3RvLWJvdW5kIHRlbXBsYXRlcyxcbiAgICAgIC8vIGRvbid0IGF0dGVtcHQgdG8gcmVjcmVhdGUgYWNjZXNzb3JzIGlmIHRoaXMgdGVtcGxhdGUgd2FzIHByZS1ib3VuZFxuICAgICAgaWYgKCF3YXNQcmVCb3VuZCkge1xuICAgICAgICBmb3IgKGxldCBwcm9wIGluIHRlbXBsYXRlSW5mby5wcm9wZXJ0eUVmZmVjdHMpIHtcbiAgICAgICAgICB0aGlzLl9jcmVhdGVQcm9wZXJ0eUFjY2Vzc29yKHByb3ApO1xuICAgICAgICB9XG4gICAgICB9XG4gICAgICBpZiAoaW5zdGFuY2VCaW5kaW5nKSB7XG4gICAgICAgIC8vIEZvciBpbnN0YW5jZS10aW1lIGJpbmRpbmcsIGNyZWF0ZSBpbnN0YW5jZSBvZiB0ZW1wbGF0ZSBtZXRhZGF0YVxuICAgICAgICAvLyBhbmQgbGluayBpbnRvIGxpc3Qgb2YgdGVtcGxhdGVzIGlmIG5lY2Vzc2FyeVxuICAgICAgICB0ZW1wbGF0ZUluZm8gPSAvKiogQHR5cGUgeyFUZW1wbGF0ZUluZm99ICovKE9iamVjdC5jcmVhdGUodGVtcGxhdGVJbmZvKSk7XG4gICAgICAgIHRlbXBsYXRlSW5mby53YXNQcmVCb3VuZCA9IHdhc1ByZUJvdW5kO1xuICAgICAgICBpZiAoIXdhc1ByZUJvdW5kICYmIHRoaXMuX190ZW1wbGF0ZUluZm8pIHtcbiAgICAgICAgICBsZXQgbGFzdCA9IHRoaXMuX190ZW1wbGF0ZUluZm9MYXN0IHx8IHRoaXMuX190ZW1wbGF0ZUluZm87XG4gICAgICAgICAgdGhpcy5fX3RlbXBsYXRlSW5mb0xhc3QgPSBsYXN0Lm5leHRUZW1wbGF0ZUluZm8gPSB0ZW1wbGF0ZUluZm87XG4gICAgICAgICAgdGVtcGxhdGVJbmZvLnByZXZpb3VzVGVtcGxhdGVJbmZvID0gbGFzdDtcbiAgICAgICAgICByZXR1cm4gdGVtcGxhdGVJbmZvO1xuICAgICAgICB9XG4gICAgICB9XG4gICAgICByZXR1cm4gdGhpcy5fX3RlbXBsYXRlSW5mbyA9IHRlbXBsYXRlSW5mbztcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBBZGRzIGEgcHJvcGVydHkgZWZmZWN0IHRvIHRoZSBnaXZlbiB0ZW1wbGF0ZSBtZXRhZGF0YSwgd2hpY2ggaXMgcnVuXG4gICAgICogYXQgdGhlIFwicHJvcGFnYXRlXCIgc3RhZ2Ugb2YgYF9wcm9wZXJ0aWVzQ2hhbmdlZGAgd2hlbiB0aGUgdGVtcGxhdGVcbiAgICAgKiBoYXMgYmVlbiBib3VuZCB0byB0aGUgZWxlbWVudCB2aWEgYF9iaW5kVGVtcGxhdGVgLlxuICAgICAqXG4gICAgICogVGhlIGBlZmZlY3RgIG9iamVjdCBzaG91bGQgbWF0Y2ggdGhlIGZvcm1hdCBpbiBgX2FkZFByb3BlcnR5RWZmZWN0YC5cbiAgICAgKlxuICAgICAqIEBwYXJhbSB7T2JqZWN0fSB0ZW1wbGF0ZUluZm8gVGVtcGxhdGUgbWV0YWRhdGEgdG8gYWRkIGVmZmVjdCB0b1xuICAgICAqIEBwYXJhbSB7c3RyaW5nfSBwcm9wIFByb3BlcnR5IHRoYXQgc2hvdWxkIHRyaWdnZXIgdGhlIGVmZmVjdFxuICAgICAqIEBwYXJhbSB7T2JqZWN0PX0gZWZmZWN0IEVmZmVjdCBtZXRhZGF0YSBvYmplY3RcbiAgICAgKiBAcmV0dXJuIHt2b2lkfVxuICAgICAqIEBwcm90ZWN0ZWRcbiAgICAgKi9cbiAgICBzdGF0aWMgX2FkZFRlbXBsYXRlUHJvcGVydHlFZmZlY3QodGVtcGxhdGVJbmZvLCBwcm9wLCBlZmZlY3QpIHtcbiAgICAgIGxldCBob3N0UHJvcHMgPSB0ZW1wbGF0ZUluZm8uaG9zdFByb3BzID0gdGVtcGxhdGVJbmZvLmhvc3RQcm9wcyB8fCB7fTtcbiAgICAgIGhvc3RQcm9wc1twcm9wXSA9IHRydWU7XG4gICAgICBsZXQgZWZmZWN0cyA9IHRlbXBsYXRlSW5mby5wcm9wZXJ0eUVmZmVjdHMgPSB0ZW1wbGF0ZUluZm8ucHJvcGVydHlFZmZlY3RzIHx8IHt9O1xuICAgICAgbGV0IHByb3BFZmZlY3RzID0gZWZmZWN0c1twcm9wXSA9IGVmZmVjdHNbcHJvcF0gfHwgW107XG4gICAgICBwcm9wRWZmZWN0cy5wdXNoKGVmZmVjdCk7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogU3RhbXBzIHRoZSBwcm92aWRlZCB0ZW1wbGF0ZSBhbmQgcGVyZm9ybXMgaW5zdGFuY2UtdGltZSBzZXR1cCBmb3JcbiAgICAgKiBQb2x5bWVyIHRlbXBsYXRlIGZlYXR1cmVzLCBpbmNsdWRpbmcgZGF0YSBiaW5kaW5ncywgZGVjbGFyYXRpdmUgZXZlbnRcbiAgICAgKiBsaXN0ZW5lcnMsIGFuZCB0aGUgYHRoaXMuJGAgbWFwIG9mIGBpZGAncyB0byBub2Rlcy4gIEEgZG9jdW1lbnQgZnJhZ21lbnRcbiAgICAgKiBpcyByZXR1cm5lZCBjb250YWluaW5nIHRoZSBzdGFtcGVkIERPTSwgcmVhZHkgZm9yIGluc2VydGlvbiBpbnRvIHRoZVxuICAgICAqIERPTS5cbiAgICAgKlxuICAgICAqIFRoaXMgbWV0aG9kIG1heSBiZSBjYWxsZWQgbW9yZSB0aGFuIG9uY2U7IGhvd2V2ZXIgbm90ZSB0aGF0IGR1ZSB0b1xuICAgICAqIGBzaGFkeWNzc2AgcG9seWZpbGwgbGltaXRhdGlvbnMsIG9ubHkgc3R5bGVzIGZyb20gdGVtcGxhdGVzIHByZXBhcmVkXG4gICAgICogdXNpbmcgYFNoYWR5Q1NTLnByZXBhcmVUZW1wbGF0ZWAgd2lsbCBiZSBjb3JyZWN0bHkgcG9seWZpbGxlZCAoc2NvcGVkXG4gICAgICogdG8gdGhlIHNoYWRvdyByb290IGFuZCBzdXBwb3J0IENTUyBjdXN0b20gcHJvcGVydGllcyksIGFuZCBub3RlIHRoYXRcbiAgICAgKiBgU2hhZHlDU1MucHJlcGFyZVRlbXBsYXRlYCBtYXkgb25seSBiZSBjYWxsZWQgb25jZSBwZXIgZWxlbWVudC4gQXMgc3VjaCxcbiAgICAgKiBhbnkgc3R5bGVzIHJlcXVpcmVkIGJ5IGluIHJ1bnRpbWUtc3RhbXBlZCB0ZW1wbGF0ZXMgbXVzdCBiZSBpbmNsdWRlZFxuICAgICAqIGluIHRoZSBtYWluIGVsZW1lbnQgdGVtcGxhdGUuXG4gICAgICpcbiAgICAgKiBAcGFyYW0geyFIVE1MVGVtcGxhdGVFbGVtZW50fSB0ZW1wbGF0ZSBUZW1wbGF0ZSB0byBzdGFtcFxuICAgICAqIEByZXR1cm4geyFTdGFtcGVkVGVtcGxhdGV9IENsb25lZCB0ZW1wbGF0ZSBjb250ZW50XG4gICAgICogQG92ZXJyaWRlXG4gICAgICogQHByb3RlY3RlZFxuICAgICAqL1xuICAgIF9zdGFtcFRlbXBsYXRlKHRlbXBsYXRlKSB7XG4gICAgICAvLyBFbnN1cmVzIHRoYXQgY3JlYXRlZCBkb20gaXMgYF9lbnF1ZXVlQ2xpZW50YCdkIHRvIHRoaXMgZWxlbWVudCBzb1xuICAgICAgLy8gdGhhdCBpdCBjYW4gYmUgZmx1c2hlZCBvbiBuZXh0IGNhbGwgdG8gYF9mbHVzaFByb3BlcnRpZXNgXG4gICAgICBob3N0U3RhY2suYmVnaW5Ib3N0aW5nKHRoaXMpO1xuICAgICAgbGV0IGRvbSA9IHN1cGVyLl9zdGFtcFRlbXBsYXRlKHRlbXBsYXRlKTtcbiAgICAgIGhvc3RTdGFjay5lbmRIb3N0aW5nKHRoaXMpO1xuICAgICAgbGV0IHRlbXBsYXRlSW5mbyA9IC8qKiBAdHlwZSB7IVRlbXBsYXRlSW5mb30gKi8odGhpcy5fYmluZFRlbXBsYXRlKHRlbXBsYXRlLCB0cnVlKSk7XG4gICAgICAvLyBBZGQgdGVtcGxhdGUtaW5zdGFuY2Utc3BlY2lmaWMgZGF0YSB0byBpbnN0YW5jZWQgdGVtcGxhdGVJbmZvXG4gICAgICB0ZW1wbGF0ZUluZm8ubm9kZUxpc3QgPSBkb20ubm9kZUxpc3Q7XG4gICAgICAvLyBDYXB0dXJlIGNoaWxkIG5vZGVzIHRvIGFsbG93IHVuc3RhbXBpbmcgb2Ygbm9uLXByb3RvdHlwaWNhbCB0ZW1wbGF0ZXNcbiAgICAgIGlmICghdGVtcGxhdGVJbmZvLndhc1ByZUJvdW5kKSB7XG4gICAgICAgIGxldCBub2RlcyA9IHRlbXBsYXRlSW5mby5jaGlsZE5vZGVzID0gW107XG4gICAgICAgIGZvciAobGV0IG49ZG9tLmZpcnN0Q2hpbGQ7IG47IG49bi5uZXh0U2libGluZykge1xuICAgICAgICAgIG5vZGVzLnB1c2gobik7XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICAgIGRvbS50ZW1wbGF0ZUluZm8gPSB0ZW1wbGF0ZUluZm87XG4gICAgICAvLyBTZXR1cCBjb21wb3VuZCBzdG9yYWdlLCAyLXdheSBsaXN0ZW5lcnMsIGFuZCBkYXRhSG9zdCBmb3IgYmluZGluZ3NcbiAgICAgIHNldHVwQmluZGluZ3ModGhpcywgdGVtcGxhdGVJbmZvKTtcbiAgICAgIC8vIEZsdXNoIHByb3BlcnRpZXMgaW50byB0ZW1wbGF0ZSBub2RlcyBpZiBhbHJlYWR5IGJvb3RlZFxuICAgICAgaWYgKHRoaXMuX19kYXRhUmVhZHkpIHtcbiAgICAgICAgcnVuRWZmZWN0cyh0aGlzLCB0ZW1wbGF0ZUluZm8ucHJvcGVydHlFZmZlY3RzLCB0aGlzLl9fZGF0YSwgbnVsbCxcbiAgICAgICAgICBmYWxzZSwgdGVtcGxhdGVJbmZvLm5vZGVMaXN0KTtcbiAgICAgIH1cbiAgICAgIHJldHVybiBkb207XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogUmVtb3ZlcyBhbmQgdW5iaW5kcyB0aGUgbm9kZXMgcHJldmlvdXNseSBjb250YWluZWQgaW4gdGhlIHByb3ZpZGVkXG4gICAgICogRG9jdW1lbnRGcmFnbWVudCByZXR1cm5lZCBmcm9tIGBfc3RhbXBUZW1wbGF0ZWAuXG4gICAgICpcbiAgICAgKiBAb3ZlcnJpZGVcbiAgICAgKiBAcGFyYW0geyFTdGFtcGVkVGVtcGxhdGV9IGRvbSBEb2N1bWVudEZyYWdtZW50IHByZXZpb3VzbHkgcmV0dXJuZWRcbiAgICAgKiAgIGZyb20gYF9zdGFtcFRlbXBsYXRlYCBhc3NvY2lhdGVkIHdpdGggdGhlIG5vZGVzIHRvIGJlIHJlbW92ZWRcbiAgICAgKiBAcmV0dXJuIHt2b2lkfVxuICAgICAqIEBwcm90ZWN0ZWRcbiAgICAgKi9cbiAgICBfcmVtb3ZlQm91bmREb20oZG9tKSB7XG4gICAgICAvLyBVbmxpbmsgdGVtcGxhdGUgaW5mb1xuICAgICAgbGV0IHRlbXBsYXRlSW5mbyA9IGRvbS50ZW1wbGF0ZUluZm87XG4gICAgICBpZiAodGVtcGxhdGVJbmZvLnByZXZpb3VzVGVtcGxhdGVJbmZvKSB7XG4gICAgICAgIHRlbXBsYXRlSW5mby5wcmV2aW91c1RlbXBsYXRlSW5mby5uZXh0VGVtcGxhdGVJbmZvID1cbiAgICAgICAgICB0ZW1wbGF0ZUluZm8ubmV4dFRlbXBsYXRlSW5mbztcbiAgICAgIH1cbiAgICAgIGlmICh0ZW1wbGF0ZUluZm8ubmV4dFRlbXBsYXRlSW5mbykge1xuICAgICAgICB0ZW1wbGF0ZUluZm8ubmV4dFRlbXBsYXRlSW5mby5wcmV2aW91c1RlbXBsYXRlSW5mbyA9XG4gICAgICAgICAgdGVtcGxhdGVJbmZvLnByZXZpb3VzVGVtcGxhdGVJbmZvO1xuICAgICAgfVxuICAgICAgaWYgKHRoaXMuX190ZW1wbGF0ZUluZm9MYXN0ID09IHRlbXBsYXRlSW5mbykge1xuICAgICAgICB0aGlzLl9fdGVtcGxhdGVJbmZvTGFzdCA9IHRlbXBsYXRlSW5mby5wcmV2aW91c1RlbXBsYXRlSW5mbztcbiAgICAgIH1cbiAgICAgIHRlbXBsYXRlSW5mby5wcmV2aW91c1RlbXBsYXRlSW5mbyA9IHRlbXBsYXRlSW5mby5uZXh0VGVtcGxhdGVJbmZvID0gbnVsbDtcbiAgICAgIC8vIFJlbW92ZSBzdGFtcGVkIG5vZGVzXG4gICAgICBsZXQgbm9kZXMgPSB0ZW1wbGF0ZUluZm8uY2hpbGROb2RlcztcbiAgICAgIGZvciAobGV0IGk9MDsgaTxub2Rlcy5sZW5ndGg7IGkrKykge1xuICAgICAgICBsZXQgbm9kZSA9IG5vZGVzW2ldO1xuICAgICAgICBub2RlLnBhcmVudE5vZGUucmVtb3ZlQ2hpbGQobm9kZSk7XG4gICAgICB9XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogT3ZlcnJpZGVzIGRlZmF1bHQgYFRlbXBsYXRlU3RhbXBgIGltcGxlbWVudGF0aW9uIHRvIGFkZCBzdXBwb3J0IGZvclxuICAgICAqIHBhcnNpbmcgYmluZGluZ3MgZnJvbSBgVGV4dE5vZGVgJ3MnIGB0ZXh0Q29udGVudGAuICBBIGBiaW5kaW5nc2BcbiAgICAgKiBhcnJheSBpcyBhZGRlZCB0byBgbm9kZUluZm9gIGFuZCBwb3B1bGF0ZWQgd2l0aCBiaW5kaW5nIG1ldGFkYXRhXG4gICAgICogd2l0aCBpbmZvcm1hdGlvbiBjYXB0dXJpbmcgdGhlIGJpbmRpbmcgdGFyZ2V0LCBhbmQgYSBgcGFydHNgIGFycmF5XG4gICAgICogd2l0aCBvbmUgb3IgbW9yZSBtZXRhZGF0YSBvYmplY3RzIGNhcHR1cmluZyB0aGUgc291cmNlKHMpIG9mIHRoZVxuICAgICAqIGJpbmRpbmcuXG4gICAgICpcbiAgICAgKiBAcGFyYW0ge05vZGV9IG5vZGUgTm9kZSB0byBwYXJzZVxuICAgICAqIEBwYXJhbSB7VGVtcGxhdGVJbmZvfSB0ZW1wbGF0ZUluZm8gVGVtcGxhdGUgbWV0YWRhdGEgZm9yIGN1cnJlbnQgdGVtcGxhdGVcbiAgICAgKiBAcGFyYW0ge05vZGVJbmZvfSBub2RlSW5mbyBOb2RlIG1ldGFkYXRhIGZvciBjdXJyZW50IHRlbXBsYXRlIG5vZGVcbiAgICAgKiBAcmV0dXJuIHtib29sZWFufSBgdHJ1ZWAgaWYgdGhlIHZpc2l0ZWQgbm9kZSBhZGRlZCBub2RlLXNwZWNpZmljXG4gICAgICogICBtZXRhZGF0YSB0byBgbm9kZUluZm9gXG4gICAgICogQHByb3RlY3RlZFxuICAgICAqIEBzdXBwcmVzcyB7bWlzc2luZ1Byb3BlcnRpZXN9IEludGVyZmFjZXMgaW4gY2xvc3VyZSBkbyBub3QgaW5oZXJpdCBzdGF0aWNzLCBidXQgY2xhc3NlcyBkb1xuICAgICAqL1xuICAgIHN0YXRpYyBfcGFyc2VUZW1wbGF0ZU5vZGUobm9kZSwgdGVtcGxhdGVJbmZvLCBub2RlSW5mbykge1xuICAgICAgbGV0IG5vdGVkID0gc3VwZXIuX3BhcnNlVGVtcGxhdGVOb2RlKG5vZGUsIHRlbXBsYXRlSW5mbywgbm9kZUluZm8pO1xuICAgICAgaWYgKG5vZGUubm9kZVR5cGUgPT09IE5vZGUuVEVYVF9OT0RFKSB7XG4gICAgICAgIGxldCBwYXJ0cyA9IHRoaXMuX3BhcnNlQmluZGluZ3Mobm9kZS50ZXh0Q29udGVudCwgdGVtcGxhdGVJbmZvKTtcbiAgICAgICAgaWYgKHBhcnRzKSB7XG4gICAgICAgICAgLy8gSW5pdGlhbGl6ZSB0aGUgdGV4dENvbnRlbnQgd2l0aCBhbnkgbGl0ZXJhbCBwYXJ0c1xuICAgICAgICAgIC8vIE5PVEU6IGRlZmF1bHQgdG8gYSBzcGFjZSBoZXJlIHNvIHRoZSB0ZXh0Tm9kZSByZW1haW5zOyBzb21lIGJyb3dzZXJzXG4gICAgICAgICAgLy8gKElFKSBvbWl0IGFuIGVtcHR5IHRleHROb2RlIGZvbGxvd2luZyBjbG9uZU5vZGUvaW1wb3J0Tm9kZS5cbiAgICAgICAgICBub2RlLnRleHRDb250ZW50ID0gbGl0ZXJhbEZyb21QYXJ0cyhwYXJ0cykgfHwgJyAnO1xuICAgICAgICAgIGFkZEJpbmRpbmcodGhpcywgdGVtcGxhdGVJbmZvLCBub2RlSW5mbywgJ3RleHQnLCAndGV4dENvbnRlbnQnLCBwYXJ0cyk7XG4gICAgICAgICAgbm90ZWQgPSB0cnVlO1xuICAgICAgICB9XG4gICAgICB9XG4gICAgICByZXR1cm4gbm90ZWQ7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogT3ZlcnJpZGVzIGRlZmF1bHQgYFRlbXBsYXRlU3RhbXBgIGltcGxlbWVudGF0aW9uIHRvIGFkZCBzdXBwb3J0IGZvclxuICAgICAqIHBhcnNpbmcgYmluZGluZ3MgZnJvbSBhdHRyaWJ1dGVzLiAgQSBgYmluZGluZ3NgXG4gICAgICogYXJyYXkgaXMgYWRkZWQgdG8gYG5vZGVJbmZvYCBhbmQgcG9wdWxhdGVkIHdpdGggYmluZGluZyBtZXRhZGF0YVxuICAgICAqIHdpdGggaW5mb3JtYXRpb24gY2FwdHVyaW5nIHRoZSBiaW5kaW5nIHRhcmdldCwgYW5kIGEgYHBhcnRzYCBhcnJheVxuICAgICAqIHdpdGggb25lIG9yIG1vcmUgbWV0YWRhdGEgb2JqZWN0cyBjYXB0dXJpbmcgdGhlIHNvdXJjZShzKSBvZiB0aGVcbiAgICAgKiBiaW5kaW5nLlxuICAgICAqXG4gICAgICogQHBhcmFtIHtFbGVtZW50fSBub2RlIE5vZGUgdG8gcGFyc2VcbiAgICAgKiBAcGFyYW0ge1RlbXBsYXRlSW5mb30gdGVtcGxhdGVJbmZvIFRlbXBsYXRlIG1ldGFkYXRhIGZvciBjdXJyZW50IHRlbXBsYXRlXG4gICAgICogQHBhcmFtIHtOb2RlSW5mb30gbm9kZUluZm8gTm9kZSBtZXRhZGF0YSBmb3IgY3VycmVudCB0ZW1wbGF0ZSBub2RlXG4gICAgICogQHBhcmFtIHtzdHJpbmd9IG5hbWUgQXR0cmlidXRlIG5hbWVcbiAgICAgKiBAcGFyYW0ge3N0cmluZ30gdmFsdWUgQXR0cmlidXRlIHZhbHVlXG4gICAgICogQHJldHVybiB7Ym9vbGVhbn0gYHRydWVgIGlmIHRoZSB2aXNpdGVkIG5vZGUgYWRkZWQgbm9kZS1zcGVjaWZpY1xuICAgICAqICAgbWV0YWRhdGEgdG8gYG5vZGVJbmZvYFxuICAgICAqIEBwcm90ZWN0ZWRcbiAgICAgKiBAc3VwcHJlc3Mge21pc3NpbmdQcm9wZXJ0aWVzfSBJbnRlcmZhY2VzIGluIGNsb3N1cmUgZG8gbm90IGluaGVyaXQgc3RhdGljcywgYnV0IGNsYXNzZXMgZG9cbiAgICAgKi9cbiAgICBzdGF0aWMgX3BhcnNlVGVtcGxhdGVOb2RlQXR0cmlidXRlKG5vZGUsIHRlbXBsYXRlSW5mbywgbm9kZUluZm8sIG5hbWUsIHZhbHVlKSB7XG4gICAgICBsZXQgcGFydHMgPSB0aGlzLl9wYXJzZUJpbmRpbmdzKHZhbHVlLCB0ZW1wbGF0ZUluZm8pO1xuICAgICAgaWYgKHBhcnRzKSB7XG4gICAgICAgIC8vIEF0dHJpYnV0ZSBvciBwcm9wZXJ0eVxuICAgICAgICBsZXQgb3JpZ05hbWUgPSBuYW1lO1xuICAgICAgICBsZXQga2luZCA9ICdwcm9wZXJ0eSc7XG4gICAgICAgIC8vIFRoZSBvbmx5IHdheSB3ZSBzZWUgYSBjYXBpdGFsIGxldHRlciBoZXJlIGlzIGlmIHRoZSBhdHRyIGhhc1xuICAgICAgICAvLyBhIGNhcGl0YWwgbGV0dGVyIGluIGl0IHBlciBzcGVjLiBJbiB0aGlzIGNhc2UsIHRvIG1ha2Ugc3VyZVxuICAgICAgICAvLyB0aGlzIGJpbmRpbmcgd29ya3MsIHdlIGdvIGFoZWFkIGFuZCBtYWtlIHRoZSBiaW5kaW5nIHRvIHRoZSBhdHRyaWJ1dGUuXG4gICAgICAgIGlmIChjYXBpdGFsQXR0cmlidXRlUmVnZXgudGVzdChuYW1lKSkge1xuICAgICAgICAgIGtpbmQgPSAnYXR0cmlidXRlJztcbiAgICAgICAgfSBlbHNlIGlmIChuYW1lW25hbWUubGVuZ3RoLTFdID09ICckJykge1xuICAgICAgICAgIG5hbWUgPSBuYW1lLnNsaWNlKDAsIC0xKTtcbiAgICAgICAgICBraW5kID0gJ2F0dHJpYnV0ZSc7XG4gICAgICAgIH1cbiAgICAgICAgLy8gSW5pdGlhbGl6ZSBhdHRyaWJ1dGUgYmluZGluZ3Mgd2l0aCBhbnkgbGl0ZXJhbCBwYXJ0c1xuICAgICAgICBsZXQgbGl0ZXJhbCA9IGxpdGVyYWxGcm9tUGFydHMocGFydHMpO1xuICAgICAgICBpZiAobGl0ZXJhbCAmJiBraW5kID09ICdhdHRyaWJ1dGUnKSB7XG4gICAgICAgICAgLy8gRW5zdXJlIGEgU2hhZHlDU1MgdGVtcGxhdGUgc2NvcGVkIHN0eWxlIGlzIG5vdCByZW1vdmVkXG4gICAgICAgICAgLy8gd2hlbiBhIGNsYXNzJCBiaW5kaW5nJ3MgaW5pdGlhbCBsaXRlcmFsIHZhbHVlIGlzIHNldC5cbiAgICAgICAgICBpZiAobmFtZSA9PSAnY2xhc3MnICYmIG5vZGUuaGFzQXR0cmlidXRlKCdjbGFzcycpKSB7XG4gICAgICAgICAgICBsaXRlcmFsICs9ICcgJyArIG5vZGUuZ2V0QXR0cmlidXRlKG5hbWUpO1xuICAgICAgICAgIH1cbiAgICAgICAgICBub2RlLnNldEF0dHJpYnV0ZShuYW1lLCBsaXRlcmFsKTtcbiAgICAgICAgfVxuICAgICAgICAvLyBDbGVhciBhdHRyaWJ1dGUgYmVmb3JlIHJlbW92aW5nLCBzaW5jZSBJRSB3b24ndCBhbGxvdyByZW1vdmluZ1xuICAgICAgICAvLyBgdmFsdWVgIGF0dHJpYnV0ZSBpZiBpdCBwcmV2aW91c2x5IGhhZCBhIHZhbHVlIChjYW4ndFxuICAgICAgICAvLyB1bmNvbmRpdGlvbmFsbHkgc2V0ICcnIGJlZm9yZSByZW1vdmluZyBzaW5jZSBhdHRyaWJ1dGVzIHdpdGggYCRgXG4gICAgICAgIC8vIGNhbid0IGJlIHNldCB1c2luZyBzZXRBdHRyaWJ1dGUpXG4gICAgICAgIGlmIChub2RlLmxvY2FsTmFtZSA9PT0gJ2lucHV0JyAmJiBvcmlnTmFtZSA9PT0gJ3ZhbHVlJykge1xuICAgICAgICAgIG5vZGUuc2V0QXR0cmlidXRlKG9yaWdOYW1lLCAnJyk7XG4gICAgICAgIH1cbiAgICAgICAgLy8gUmVtb3ZlIGFubm90YXRpb25cbiAgICAgICAgbm9kZS5yZW1vdmVBdHRyaWJ1dGUob3JpZ05hbWUpO1xuICAgICAgICAvLyBDYXNlIGhhY2tlcnk6IGF0dHJpYnV0ZXMgYXJlIGxvd2VyLWNhc2UsIGJ1dCBiaW5kIHRhcmdldHNcbiAgICAgICAgLy8gKHByb3BlcnRpZXMpIGFyZSBjYXNlIHNlbnNpdGl2ZS4gR2FtYml0IGlzIHRvIG1hcCBkYXNoLWNhc2UgdG9cbiAgICAgICAgLy8gY2FtZWwtY2FzZTogYGZvby1iYXJgIGJlY29tZXMgYGZvb0JhcmAuXG4gICAgICAgIC8vIEF0dHJpYnV0ZSBiaW5kaW5ncyBhcmUgZXhjZXB0ZWQuXG4gICAgICAgIGlmIChraW5kID09PSAncHJvcGVydHknKSB7XG4gICAgICAgICAgbmFtZSA9IGRhc2hUb0NhbWVsQ2FzZShuYW1lKTtcbiAgICAgICAgfVxuICAgICAgICBhZGRCaW5kaW5nKHRoaXMsIHRlbXBsYXRlSW5mbywgbm9kZUluZm8sIGtpbmQsIG5hbWUsIHBhcnRzLCBsaXRlcmFsKTtcbiAgICAgICAgcmV0dXJuIHRydWU7XG4gICAgICB9IGVsc2Uge1xuICAgICAgICByZXR1cm4gc3VwZXIuX3BhcnNlVGVtcGxhdGVOb2RlQXR0cmlidXRlKG5vZGUsIHRlbXBsYXRlSW5mbywgbm9kZUluZm8sIG5hbWUsIHZhbHVlKTtcbiAgICAgIH1cbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBPdmVycmlkZXMgZGVmYXVsdCBgVGVtcGxhdGVTdGFtcGAgaW1wbGVtZW50YXRpb24gdG8gYWRkIHN1cHBvcnQgZm9yXG4gICAgICogYmluZGluZyB0aGUgcHJvcGVydGllcyB0aGF0IGEgbmVzdGVkIHRlbXBsYXRlIGRlcGVuZHMgb24gdG8gdGhlIHRlbXBsYXRlXG4gICAgICogYXMgYF9ob3N0Xzxwcm9wZXJ0eT5gLlxuICAgICAqXG4gICAgICogQHBhcmFtIHtOb2RlfSBub2RlIE5vZGUgdG8gcGFyc2VcbiAgICAgKiBAcGFyYW0ge1RlbXBsYXRlSW5mb30gdGVtcGxhdGVJbmZvIFRlbXBsYXRlIG1ldGFkYXRhIGZvciBjdXJyZW50IHRlbXBsYXRlXG4gICAgICogQHBhcmFtIHtOb2RlSW5mb30gbm9kZUluZm8gTm9kZSBtZXRhZGF0YSBmb3IgY3VycmVudCB0ZW1wbGF0ZSBub2RlXG4gICAgICogQHJldHVybiB7Ym9vbGVhbn0gYHRydWVgIGlmIHRoZSB2aXNpdGVkIG5vZGUgYWRkZWQgbm9kZS1zcGVjaWZpY1xuICAgICAqICAgbWV0YWRhdGEgdG8gYG5vZGVJbmZvYFxuICAgICAqIEBwcm90ZWN0ZWRcbiAgICAgKiBAc3VwcHJlc3Mge21pc3NpbmdQcm9wZXJ0aWVzfSBJbnRlcmZhY2VzIGluIGNsb3N1cmUgZG8gbm90IGluaGVyaXQgc3RhdGljcywgYnV0IGNsYXNzZXMgZG9cbiAgICAgKi9cbiAgICBzdGF0aWMgX3BhcnNlVGVtcGxhdGVOZXN0ZWRUZW1wbGF0ZShub2RlLCB0ZW1wbGF0ZUluZm8sIG5vZGVJbmZvKSB7XG4gICAgICBsZXQgbm90ZWQgPSBzdXBlci5fcGFyc2VUZW1wbGF0ZU5lc3RlZFRlbXBsYXRlKG5vZGUsIHRlbXBsYXRlSW5mbywgbm9kZUluZm8pO1xuICAgICAgLy8gTWVyZ2UgaG9zdCBwcm9wcyBpbnRvIG91dGVyIHRlbXBsYXRlIGFuZCBhZGQgYmluZGluZ3NcbiAgICAgIGxldCBob3N0UHJvcHMgPSBub2RlSW5mby50ZW1wbGF0ZUluZm8uaG9zdFByb3BzO1xuICAgICAgbGV0IG1vZGUgPSAneyc7XG4gICAgICBmb3IgKGxldCBzb3VyY2UgaW4gaG9zdFByb3BzKSB7XG4gICAgICAgIGxldCBwYXJ0cyA9IFt7IG1vZGUsIHNvdXJjZSwgZGVwZW5kZW5jaWVzOiBbc291cmNlXSB9XTtcbiAgICAgICAgYWRkQmluZGluZyh0aGlzLCB0ZW1wbGF0ZUluZm8sIG5vZGVJbmZvLCAncHJvcGVydHknLCAnX2hvc3RfJyArIHNvdXJjZSwgcGFydHMpO1xuICAgICAgfVxuICAgICAgcmV0dXJuIG5vdGVkO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIENhbGxlZCB0byBwYXJzZSB0ZXh0IGluIGEgdGVtcGxhdGUgKGVpdGhlciBhdHRyaWJ1dGUgdmFsdWVzIG9yXG4gICAgICogdGV4dENvbnRlbnQpIGludG8gYmluZGluZyBtZXRhZGF0YS5cbiAgICAgKlxuICAgICAqIEFueSBvdmVycmlkZXMgb2YgdGhpcyBtZXRob2Qgc2hvdWxkIHJldHVybiBhbiBhcnJheSBvZiBiaW5kaW5nIHBhcnRcbiAgICAgKiBtZXRhZGF0YSAgcmVwcmVzZW50aW5nIG9uZSBvciBtb3JlIGJpbmRpbmdzIGZvdW5kIGluIHRoZSBwcm92aWRlZCB0ZXh0XG4gICAgICogYW5kIGFueSBcImxpdGVyYWxcIiB0ZXh0IGluIGJldHdlZW4uICBBbnkgbm9uLWxpdGVyYWwgcGFydHMgd2lsbCBiZSBwYXNzZWRcbiAgICAgKiB0byBgX2V2YWx1YXRlQmluZGluZ2Agd2hlbiBhbnkgZGVwZW5kZW5jaWVzIGNoYW5nZS4gIFRoZSBvbmx5IHJlcXVpcmVkXG4gICAgICogZmllbGRzIG9mIGVhY2ggXCJwYXJ0XCIgaW4gdGhlIHJldHVybmVkIGFycmF5IGFyZSBhcyBmb2xsb3dzOlxuICAgICAqXG4gICAgICogLSBgZGVwZW5kZW5jaWVzYCAtIEFycmF5IGNvbnRhaW5pbmcgdHJpZ2dlciBtZXRhZGF0YSBmb3IgZWFjaCBwcm9wZXJ0eVxuICAgICAqICAgdGhhdCBzaG91bGQgdHJpZ2dlciB0aGUgYmluZGluZyB0byB1cGRhdGVcbiAgICAgKiAtIGBsaXRlcmFsYCAtIFN0cmluZyBjb250YWluaW5nIHRleHQgaWYgdGhlIHBhcnQgcmVwcmVzZW50cyBhIGxpdGVyYWw7XG4gICAgICogICBpbiB0aGlzIGNhc2Ugbm8gYGRlcGVuZGVuY2llc2AgYXJlIG5lZWRlZFxuICAgICAqXG4gICAgICogQWRkaXRpb25hbCBtZXRhZGF0YSBmb3IgdXNlIGJ5IGBfZXZhbHVhdGVCaW5kaW5nYCBtYXkgYmUgcHJvdmlkZWQgaW5cbiAgICAgKiBlYWNoIHBhcnQgb2JqZWN0IGFzIG5lZWRlZC5cbiAgICAgKlxuICAgICAqIFRoZSBkZWZhdWx0IGltcGxlbWVudGF0aW9uIGhhbmRsZXMgdGhlIGZvbGxvd2luZyB0eXBlcyBvZiBiaW5kaW5nc1xuICAgICAqIChvbmUgb3IgbW9yZSBtYXkgYmUgaW50ZXJtaXhlZCB3aXRoIGxpdGVyYWwgc3RyaW5ncyk6XG4gICAgICogLSBQcm9wZXJ0eSBiaW5kaW5nOiBgW1twcm9wXV1gXG4gICAgICogLSBQYXRoIGJpbmRpbmc6IGBbW29iamVjdC5wcm9wXV1gXG4gICAgICogLSBOZWdhdGVkIHByb3BlcnR5IG9yIHBhdGggYmluZGluZ3M6IGBbWyFwcm9wXV1gIG9yIGBbWyFvYmplY3QucHJvcF1dYFxuICAgICAqIC0gVHdvLXdheSBwcm9wZXJ0eSBvciBwYXRoIGJpbmRpbmdzIChzdXBwb3J0cyBuZWdhdGlvbik6XG4gICAgICogICBge3twcm9wfX1gLCBge3tvYmplY3QucHJvcH19YCwgYHt7IXByb3B9fWAgb3IgYHt7IW9iamVjdC5wcm9wfX1gXG4gICAgICogLSBJbmxpbmUgY29tcHV0ZWQgbWV0aG9kIChzdXBwb3J0cyBuZWdhdGlvbik6XG4gICAgICogICBgW1tjb21wdXRlKGEsICdsaXRlcmFsJywgYildXWAsIGBbWyFjb21wdXRlKGEsICdsaXRlcmFsJywgYildXWBcbiAgICAgKlxuICAgICAqIFRoZSBkZWZhdWx0IGltcGxlbWVudGF0aW9uIHVzZXMgYSByZWd1bGFyIGV4cHJlc3Npb24gZm9yIGJlc3RcbiAgICAgKiBwZXJmb3JtYW5jZS4gSG93ZXZlciwgdGhlIHJlZ3VsYXIgZXhwcmVzc2lvbiB1c2VzIGEgd2hpdGUtbGlzdCBvZlxuICAgICAqIGFsbG93ZWQgY2hhcmFjdGVycyBpbiBhIGRhdGEtYmluZGluZywgd2hpY2ggY2F1c2VzIHByb2JsZW1zIGZvclxuICAgICAqIGRhdGEtYmluZGluZ3MgdGhhdCBkbyB1c2UgY2hhcmFjdGVycyBub3QgaW4gdGhpcyB3aGl0ZS1saXN0LlxuICAgICAqXG4gICAgICogSW5zdGVhZCBvZiB1cGRhdGluZyB0aGUgd2hpdGUtbGlzdCB3aXRoIGFsbCBhbGxvd2VkIGNoYXJhY3RlcnMsXG4gICAgICogdGhlcmUgaXMgYSBTdHJpY3RCaW5kaW5nUGFyc2VyIChzZWUgbGliL21peGlucy9zdHJpY3QtYmluZGluZy1wYXJzZXIpXG4gICAgICogdGhhdCB1c2VzIGEgc3RhdGUgbWFjaGluZSBpbnN0ZWFkLiBUaGlzIHN0YXRlIG1hY2hpbmUgaXMgYWJsZSB0byBoYW5kbGVcbiAgICAgKiBhbGwgY2hhcmFjdGVycy4gSG93ZXZlciwgaXQgaXMgc2xpZ2h0bHkgbGVzcyBwZXJmb3JtYW50LCB0aGVyZWZvcmUgd2VcbiAgICAgKiBleHRyYWN0ZWQgaXQgaW50byBhIHNlcGFyYXRlIG9wdGlvbmFsIG1peGluLlxuICAgICAqXG4gICAgICogQHBhcmFtIHtzdHJpbmd9IHRleHQgVGV4dCB0byBwYXJzZSBmcm9tIGF0dHJpYnV0ZSBvciB0ZXh0Q29udGVudFxuICAgICAqIEBwYXJhbSB7T2JqZWN0fSB0ZW1wbGF0ZUluZm8gQ3VycmVudCB0ZW1wbGF0ZSBtZXRhZGF0YVxuICAgICAqIEByZXR1cm4ge0FycmF5PCFCaW5kaW5nUGFydD59IEFycmF5IG9mIGJpbmRpbmcgcGFydCBtZXRhZGF0YVxuICAgICAqIEBwcm90ZWN0ZWRcbiAgICAgKi9cbiAgICBzdGF0aWMgX3BhcnNlQmluZGluZ3ModGV4dCwgdGVtcGxhdGVJbmZvKSB7XG4gICAgICBsZXQgcGFydHMgPSBbXTtcbiAgICAgIGxldCBsYXN0SW5kZXggPSAwO1xuICAgICAgbGV0IG07XG4gICAgICAvLyBFeGFtcGxlOiBcImxpdGVyYWwxe3twcm9wfX1saXRlcmFsMltbIWNvbXB1dGUoZm9vLGJhcildXWZpbmFsXCJcbiAgICAgIC8vIFJlZ2V4IG1hdGNoZXM6XG4gICAgICAvLyAgICAgICAgSXRlcmF0aW9uIDE6ICBJdGVyYXRpb24gMjpcbiAgICAgIC8vIG1bMV06ICd7eycgICAgICAgICAgJ1tbJ1xuICAgICAgLy8gbVsyXTogJycgICAgICAgICAgICAnISdcbiAgICAgIC8vIG1bM106ICdwcm9wJyAgICAgICAgJ2NvbXB1dGUoZm9vLGJhciknXG4gICAgICB3aGlsZSAoKG0gPSBiaW5kaW5nUmVnZXguZXhlYyh0ZXh0KSkgIT09IG51bGwpIHtcbiAgICAgICAgLy8gQWRkIGxpdGVyYWwgcGFydFxuICAgICAgICBpZiAobS5pbmRleCA+IGxhc3RJbmRleCkge1xuICAgICAgICAgIHBhcnRzLnB1c2goe2xpdGVyYWw6IHRleHQuc2xpY2UobGFzdEluZGV4LCBtLmluZGV4KX0pO1xuICAgICAgICB9XG4gICAgICAgIC8vIEFkZCBiaW5kaW5nIHBhcnRcbiAgICAgICAgbGV0IG1vZGUgPSBtWzFdWzBdO1xuICAgICAgICBsZXQgbmVnYXRlID0gQm9vbGVhbihtWzJdKTtcbiAgICAgICAgbGV0IHNvdXJjZSA9IG1bM10udHJpbSgpO1xuICAgICAgICBsZXQgY3VzdG9tRXZlbnQgPSBmYWxzZSwgbm90aWZ5RXZlbnQgPSAnJywgY29sb24gPSAtMTtcbiAgICAgICAgaWYgKG1vZGUgPT0gJ3snICYmIChjb2xvbiA9IHNvdXJjZS5pbmRleE9mKCc6OicpKSA+IDApIHtcbiAgICAgICAgICBub3RpZnlFdmVudCA9IHNvdXJjZS5zdWJzdHJpbmcoY29sb24gKyAyKTtcbiAgICAgICAgICBzb3VyY2UgPSBzb3VyY2Uuc3Vic3RyaW5nKDAsIGNvbG9uKTtcbiAgICAgICAgICBjdXN0b21FdmVudCA9IHRydWU7XG4gICAgICAgIH1cbiAgICAgICAgbGV0IHNpZ25hdHVyZSA9IHBhcnNlTWV0aG9kKHNvdXJjZSk7XG4gICAgICAgIGxldCBkZXBlbmRlbmNpZXMgPSBbXTtcbiAgICAgICAgaWYgKHNpZ25hdHVyZSkge1xuICAgICAgICAgIC8vIElubGluZSBjb21wdXRlZCBmdW5jdGlvblxuICAgICAgICAgIGxldCB7YXJncywgbWV0aG9kTmFtZX0gPSBzaWduYXR1cmU7XG4gICAgICAgICAgZm9yIChsZXQgaT0wOyBpPGFyZ3MubGVuZ3RoOyBpKyspIHtcbiAgICAgICAgICAgIGxldCBhcmcgPSBhcmdzW2ldO1xuICAgICAgICAgICAgaWYgKCFhcmcubGl0ZXJhbCkge1xuICAgICAgICAgICAgICBkZXBlbmRlbmNpZXMucHVzaChhcmcpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgIH1cbiAgICAgICAgICBsZXQgZHluYW1pY0ZucyA9IHRlbXBsYXRlSW5mby5keW5hbWljRm5zO1xuICAgICAgICAgIGlmIChkeW5hbWljRm5zICYmIGR5bmFtaWNGbnNbbWV0aG9kTmFtZV0gfHwgc2lnbmF0dXJlLnN0YXRpYykge1xuICAgICAgICAgICAgZGVwZW5kZW5jaWVzLnB1c2gobWV0aG9kTmFtZSk7XG4gICAgICAgICAgICBzaWduYXR1cmUuZHluYW1pY0ZuID0gdHJ1ZTtcbiAgICAgICAgICB9XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgLy8gUHJvcGVydHkgb3IgcGF0aFxuICAgICAgICAgIGRlcGVuZGVuY2llcy5wdXNoKHNvdXJjZSk7XG4gICAgICAgIH1cbiAgICAgICAgcGFydHMucHVzaCh7XG4gICAgICAgICAgc291cmNlLCBtb2RlLCBuZWdhdGUsIGN1c3RvbUV2ZW50LCBzaWduYXR1cmUsIGRlcGVuZGVuY2llcyxcbiAgICAgICAgICBldmVudDogbm90aWZ5RXZlbnRcbiAgICAgICAgfSk7XG4gICAgICAgIGxhc3RJbmRleCA9IGJpbmRpbmdSZWdleC5sYXN0SW5kZXg7XG4gICAgICB9XG4gICAgICAvLyBBZGQgYSBmaW5hbCBsaXRlcmFsIHBhcnRcbiAgICAgIGlmIChsYXN0SW5kZXggJiYgbGFzdEluZGV4IDwgdGV4dC5sZW5ndGgpIHtcbiAgICAgICAgbGV0IGxpdGVyYWwgPSB0ZXh0LnN1YnN0cmluZyhsYXN0SW5kZXgpO1xuICAgICAgICBpZiAobGl0ZXJhbCkge1xuICAgICAgICAgIHBhcnRzLnB1c2goe1xuICAgICAgICAgICAgbGl0ZXJhbDogbGl0ZXJhbFxuICAgICAgICAgIH0pO1xuICAgICAgICB9XG4gICAgICB9XG4gICAgICBpZiAocGFydHMubGVuZ3RoKSB7XG4gICAgICAgIHJldHVybiBwYXJ0cztcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIHJldHVybiBudWxsO1xuICAgICAgfVxuICAgIH1cblxuICAgIC8qKlxuICAgICAqIENhbGxlZCB0byBldmFsdWF0ZSBhIHByZXZpb3VzbHkgcGFyc2VkIGJpbmRpbmcgcGFydCBiYXNlZCBvbiBhIHNldCBvZlxuICAgICAqIG9uZSBvciBtb3JlIGNoYW5nZWQgZGVwZW5kZW5jaWVzLlxuICAgICAqXG4gICAgICogQHBhcmFtIHshUG9seW1lcl9Qcm9wZXJ0eUVmZmVjdHN9IGluc3QgRWxlbWVudCB0aGF0IHNob3VsZCBiZSB1c2VkIGFzXG4gICAgICogICAgIHNjb3BlIGZvciBiaW5kaW5nIGRlcGVuZGVuY2llc1xuICAgICAqIEBwYXJhbSB7QmluZGluZ1BhcnR9IHBhcnQgQmluZGluZyBwYXJ0IG1ldGFkYXRhXG4gICAgICogQHBhcmFtIHtzdHJpbmd9IHBhdGggUHJvcGVydHkvcGF0aCB0aGF0IHRyaWdnZXJlZCB0aGlzIGVmZmVjdFxuICAgICAqIEBwYXJhbSB7T2JqZWN0fSBwcm9wcyBCYWcgb2YgY3VycmVudCBwcm9wZXJ0eSBjaGFuZ2VzXG4gICAgICogQHBhcmFtIHtPYmplY3R9IG9sZFByb3BzIEJhZyBvZiBwcmV2aW91cyB2YWx1ZXMgZm9yIGNoYW5nZWQgcHJvcGVydGllc1xuICAgICAqIEBwYXJhbSB7Ym9vbGVhbn0gaGFzUGF0aHMgVHJ1ZSB3aXRoIGBwcm9wc2AgY29udGFpbnMgb25lIG9yIG1vcmUgcGF0aHNcbiAgICAgKiBAcmV0dXJuIHsqfSBWYWx1ZSB0aGUgYmluZGluZyBwYXJ0IGV2YWx1YXRlZCB0b1xuICAgICAqIEBwcm90ZWN0ZWRcbiAgICAgKi9cbiAgICBzdGF0aWMgX2V2YWx1YXRlQmluZGluZyhpbnN0LCBwYXJ0LCBwYXRoLCBwcm9wcywgb2xkUHJvcHMsIGhhc1BhdGhzKSB7XG4gICAgICBsZXQgdmFsdWU7XG4gICAgICBpZiAocGFydC5zaWduYXR1cmUpIHtcbiAgICAgICAgdmFsdWUgPSBydW5NZXRob2RFZmZlY3QoaW5zdCwgcGF0aCwgcHJvcHMsIG9sZFByb3BzLCBwYXJ0LnNpZ25hdHVyZSk7XG4gICAgICB9IGVsc2UgaWYgKHBhdGggIT0gcGFydC5zb3VyY2UpIHtcbiAgICAgICAgdmFsdWUgPSBnZXQoaW5zdCwgcGFydC5zb3VyY2UpO1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgaWYgKGhhc1BhdGhzICYmIGlzUGF0aChwYXRoKSkge1xuICAgICAgICAgIHZhbHVlID0gZ2V0KGluc3QsIHBhdGgpO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgIHZhbHVlID0gaW5zdC5fX2RhdGFbcGF0aF07XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICAgIGlmIChwYXJ0Lm5lZ2F0ZSkge1xuICAgICAgICB2YWx1ZSA9ICF2YWx1ZTtcbiAgICAgIH1cbiAgICAgIHJldHVybiB2YWx1ZTtcbiAgICB9XG5cbiAgfVxuXG4gIHJldHVybiBQcm9wZXJ0eUVmZmVjdHM7XG59KTtcblxuLyoqXG4gKiBIZWxwZXIgYXBpIGZvciBlbnF1ZXVpbmcgY2xpZW50IGRvbSBjcmVhdGVkIGJ5IGEgaG9zdCBlbGVtZW50LlxuICpcbiAqIEJ5IGRlZmF1bHQgZWxlbWVudHMgYXJlIGZsdXNoZWQgdmlhIGBfZmx1c2hQcm9wZXJ0aWVzYCB3aGVuXG4gKiBgY29ubmVjdGVkQ2FsbGJhY2tgIGlzIGNhbGxlZC4gRWxlbWVudHMgYXR0YWNoIHRoZWlyIGNsaWVudCBkb20gdG9cbiAqIHRoZW1zZWx2ZXMgYXQgYHJlYWR5YCB0aW1lIHdoaWNoIHJlc3VsdHMgZnJvbSB0aGlzIGZpcnN0IGZsdXNoLlxuICogVGhpcyBwcm92aWRlcyBhbiBvcmRlcmluZyBndWFyYW50ZWUgdGhhdCB0aGUgY2xpZW50IGRvbSBhbiBlbGVtZW50XG4gKiBjcmVhdGVzIGlzIGZsdXNoZWQgYmVmb3JlIHRoZSBlbGVtZW50IGl0c2VsZiAoaS5lLiBjbGllbnQgYHJlYWR5YFxuICogZmlyZXMgYmVmb3JlIGhvc3QgYHJlYWR5YCkuXG4gKlxuICogSG93ZXZlciwgaWYgYF9mbHVzaFByb3BlcnRpZXNgIGlzIGNhbGxlZCAqYmVmb3JlKiBhbiBlbGVtZW50IGlzIGNvbm5lY3RlZCxcbiAqIGFzIGZvciBleGFtcGxlIGBUZW1wbGF0aXplYCBkb2VzLCB0aGlzIG9yZGVyaW5nIGd1YXJhbnRlZSBjYW5ub3QgYmVcbiAqIHNhdGlzZmllZCBiZWNhdXNlIG5vIGVsZW1lbnRzIGFyZSBjb25uZWN0ZWQuIChOb3RlOiBCb3VuZCBlbGVtZW50cyB0aGF0XG4gKiByZWNlaXZlIGRhdGEgZG8gYmVjb21lIGVucXVldWVkIGNsaWVudHMgYW5kIGFyZSBwcm9wZXJseSBvcmRlcmVkIGJ1dFxuICogdW5ib3VuZCBlbGVtZW50cyBhcmUgbm90LilcbiAqXG4gKiBUbyBtYWludGFpbiB0aGUgZGVzaXJlZCBcImNsaWVudCBiZWZvcmUgaG9zdFwiIG9yZGVyaW5nIGd1YXJhbnRlZSBmb3IgdGhpc1xuICogY2FzZSB3ZSByZWx5IG9uIHRoZSBcImhvc3Qgc3RhY2suIENsaWVudCBub2RlcyByZWdpc3RlcnMgdGhlbXNlbHZlcyB3aXRoXG4gKiB0aGUgY3JlYXRpbmcgaG9zdCBlbGVtZW50IHdoZW4gY3JlYXRlZC4gVGhpcyBlbnN1cmVzIHRoYXQgYWxsIGNsaWVudCBkb21cbiAqIGlzIHJlYWRpZWQgaW4gdGhlIHByb3BlciBvcmRlciwgbWFpbnRhaW5pbmcgdGhlIGRlc2lyZWQgZ3VhcmFudGVlLlxuICpcbiAqIEBwcml2YXRlXG4gKi9cbmNsYXNzIEhvc3RTdGFjayB7XG4gIGNvbnN0cnVjdG9yKCkge1xuICAgIHRoaXMuc3RhY2sgPSBbXTtcbiAgfVxuXG4gIC8qKlxuICAgKiBAcGFyYW0geyp9IGluc3QgSW5zdGFuY2UgdG8gYWRkIHRvIGhvc3RTdGFja1xuICAgKiBAcmV0dXJuIHt2b2lkfVxuICAgKi9cbiAgcmVnaXN0ZXJIb3N0KGluc3QpIHtcbiAgICBpZiAodGhpcy5zdGFjay5sZW5ndGgpIHtcbiAgICAgIGxldCBob3N0ID0gdGhpcy5zdGFja1t0aGlzLnN0YWNrLmxlbmd0aC0xXTtcbiAgICAgIGhvc3QuX2VucXVldWVDbGllbnQoaW5zdCk7XG4gICAgfVxuICB9XG5cbiAgLyoqXG4gICAqIEBwYXJhbSB7Kn0gaW5zdCBJbnN0YW5jZSB0byBiZWdpbiBob3N0aW5nXG4gICAqIEByZXR1cm4ge3ZvaWR9XG4gICAqL1xuICBiZWdpbkhvc3RpbmcoaW5zdCkge1xuICAgIHRoaXMuc3RhY2sucHVzaChpbnN0KTtcbiAgfVxuXG4gIC8qKlxuICAgKiBAcGFyYW0geyp9IGluc3QgSW5zdGFuY2UgdG8gZW5kIGhvc3RpbmdcbiAgICogQHJldHVybiB7dm9pZH1cbiAgICovXG4gIGVuZEhvc3RpbmcoaW5zdCkge1xuICAgIGxldCBzdGFja0xlbiA9IHRoaXMuc3RhY2subGVuZ3RoO1xuICAgIGlmIChzdGFja0xlbiAmJiB0aGlzLnN0YWNrW3N0YWNrTGVuLTFdID09IGluc3QpIHtcbiAgICAgIHRoaXMuc3RhY2sucG9wKCk7XG4gICAgfVxuICB9XG59XG5jb25zdCBob3N0U3RhY2sgPSBuZXcgSG9zdFN0YWNrKCk7XG4iLCIvKipcbkBsaWNlbnNlXG5Db3B5cmlnaHQgKGMpIDIwMTcgVGhlIFBvbHltZXIgUHJvamVjdCBBdXRob3JzLiBBbGwgcmlnaHRzIHJlc2VydmVkLlxuVGhpcyBjb2RlIG1heSBvbmx5IGJlIHVzZWQgdW5kZXIgdGhlIEJTRCBzdHlsZSBsaWNlbnNlIGZvdW5kIGF0IGh0dHA6Ly9wb2x5bWVyLmdpdGh1Yi5pby9MSUNFTlNFLnR4dFxuVGhlIGNvbXBsZXRlIHNldCBvZiBhdXRob3JzIG1heSBiZSBmb3VuZCBhdCBodHRwOi8vcG9seW1lci5naXRodWIuaW8vQVVUSE9SUy50eHRcblRoZSBjb21wbGV0ZSBzZXQgb2YgY29udHJpYnV0b3JzIG1heSBiZSBmb3VuZCBhdCBodHRwOi8vcG9seW1lci5naXRodWIuaW8vQ09OVFJJQlVUT1JTLnR4dFxuQ29kZSBkaXN0cmlidXRlZCBieSBHb29nbGUgYXMgcGFydCBvZiB0aGUgcG9seW1lciBwcm9qZWN0IGlzIGFsc29cbnN1YmplY3QgdG8gYW4gYWRkaXRpb25hbCBJUCByaWdodHMgZ3JhbnQgZm91bmQgYXQgaHR0cDovL3BvbHltZXIuZ2l0aHViLmlvL1BBVEVOVFMudHh0XG4qL1xuaW1wb3J0ICcuLi91dGlscy9ib290LmpzJztcblxuaW1wb3J0IHsgcmVzb2x2ZVVybCwgcGF0aEZyb21VcmwgfSBmcm9tICcuLi91dGlscy9yZXNvbHZlLXVybC5qcyc7XG5pbXBvcnQgeyBzdHJpY3RUZW1wbGF0ZVBvbGljeSB9IGZyb20gJy4uL3V0aWxzL3NldHRpbmdzLmpzJztcblxubGV0IG1vZHVsZXMgPSB7fTtcbmxldCBsY01vZHVsZXMgPSB7fTtcbi8qKlxuICogU2V0cyBhIGRvbS1tb2R1bGUgaW50byB0aGUgZ2xvYmFsIHJlZ2lzdHJ5IGJ5IGlkLlxuICpcbiAqIEBwYXJhbSB7c3RyaW5nfSBpZCBkb20tbW9kdWxlIGlkXG4gKiBAcGFyYW0ge0RvbU1vZHVsZX0gbW9kdWxlIGRvbS1tb2R1bGUgaW5zdGFuY2VcbiAqIEByZXR1cm4ge3ZvaWR9XG4gKi9cbmZ1bmN0aW9uIHNldE1vZHVsZShpZCwgbW9kdWxlKSB7XG4gIC8vIHN0b3JlIGlkIHNlcGFyYXRlIGZyb20gbG93ZXJjYXNlZCBpZCBzbyB0aGF0XG4gIC8vIGluIGFsbCBjYXNlcyBtaXhlZENhc2UgaWQgd2lsbCBzdG9yZWQgZGlzdGluY3RseVxuICAvLyBhbmQgbG93ZXJjYXNlIHZlcnNpb24gaXMgYSBmYWxsYmFja1xuICBtb2R1bGVzW2lkXSA9IGxjTW9kdWxlc1tpZC50b0xvd2VyQ2FzZSgpXSA9IG1vZHVsZTtcbn1cbi8qKlxuICogUmV0cmlldmVzIGEgZG9tLW1vZHVsZSBmcm9tIHRoZSBnbG9iYWwgcmVnaXN0cnkgYnkgaWQuXG4gKlxuICogQHBhcmFtIHtzdHJpbmd9IGlkIGRvbS1tb2R1bGUgaWRcbiAqIEByZXR1cm4ge0RvbU1vZHVsZSF9IGRvbS1tb2R1bGUgaW5zdGFuY2VcbiAqL1xuZnVuY3Rpb24gZmluZE1vZHVsZShpZCkge1xuICByZXR1cm4gbW9kdWxlc1tpZF0gfHwgbGNNb2R1bGVzW2lkLnRvTG93ZXJDYXNlKCldO1xufVxuXG5mdW5jdGlvbiBzdHlsZU91dHNpZGVUZW1wbGF0ZUNoZWNrKGluc3QpIHtcbiAgaWYgKGluc3QucXVlcnlTZWxlY3Rvcignc3R5bGUnKSkge1xuICAgIGNvbnNvbGUud2FybignZG9tLW1vZHVsZSAlcyBoYXMgc3R5bGUgb3V0c2lkZSB0ZW1wbGF0ZScsIGluc3QuaWQpO1xuICB9XG59XG5cbi8qKlxuICogVGhlIGBkb20tbW9kdWxlYCBlbGVtZW50IHJlZ2lzdGVycyB0aGUgZG9tIGl0IGNvbnRhaW5zIHRvIHRoZSBuYW1lIGdpdmVuXG4gKiBieSB0aGUgbW9kdWxlJ3MgaWQgYXR0cmlidXRlLiBJdCBwcm92aWRlcyBhIHVuaWZpZWQgZGF0YWJhc2Ugb2YgZG9tXG4gKiBhY2Nlc3NpYmxlIHZpYSBpdHMgc3RhdGljIGBpbXBvcnRgIEFQSS5cbiAqXG4gKiBBIGtleSB1c2UgY2FzZSBvZiBgZG9tLW1vZHVsZWAgaXMgZm9yIHByb3ZpZGluZyBjdXN0b20gZWxlbWVudCBgPHRlbXBsYXRlPmBzXG4gKiB2aWEgSFRNTCBpbXBvcnRzIHRoYXQgYXJlIHBhcnNlZCBieSB0aGUgbmF0aXZlIEhUTUwgcGFyc2VyLCB0aGF0IGNhbiBiZVxuICogcmVsb2NhdGVkIGR1cmluZyBhIGJ1bmRsaW5nIHBhc3MgYW5kIHN0aWxsIGxvb2tlZCB1cCBieSBgaWRgLlxuICpcbiAqIEV4YW1wbGU6XG4gKlxuICogICAgIDxkb20tbW9kdWxlIGlkPVwiZm9vXCI+XG4gKiAgICAgICA8aW1nIHNyYz1cInN0dWZmLnBuZ1wiPlxuICogICAgIDwvZG9tLW1vZHVsZT5cbiAqXG4gKiBUaGVuIGluIGNvZGUgaW4gc29tZSBvdGhlciBsb2NhdGlvbiB0aGF0IGNhbm5vdCBhY2Nlc3MgdGhlIGRvbS1tb2R1bGUgYWJvdmVcbiAqXG4gKiAgICAgbGV0IGltZyA9IGN1c3RvbUVsZW1lbnRzLmdldCgnZG9tLW1vZHVsZScpLmltcG9ydCgnZm9vJywgJ2ltZycpO1xuICpcbiAqIEBjdXN0b21FbGVtZW50XG4gKiBAZXh0ZW5kcyBIVE1MRWxlbWVudFxuICogQHN1bW1hcnkgQ3VzdG9tIGVsZW1lbnQgdGhhdCBwcm92aWRlcyBhIHJlZ2lzdHJ5IG9mIHJlbG9jYXRhYmxlIERPTSBjb250ZW50XG4gKiAgIGJ5IGBpZGAgdGhhdCBpcyBhZ25vc3RpYyB0byBidW5kbGluZy5cbiAqIEB1bnJlc3RyaWN0ZWRcbiAqL1xuZXhwb3J0IGNsYXNzIERvbU1vZHVsZSBleHRlbmRzIEhUTUxFbGVtZW50IHtcblxuICBzdGF0aWMgZ2V0IG9ic2VydmVkQXR0cmlidXRlcygpIHsgcmV0dXJuIFsnaWQnXTsgfVxuXG4gIC8qKlxuICAgKiBSZXRyaWV2ZXMgdGhlIGVsZW1lbnQgc3BlY2lmaWVkIGJ5IHRoZSBjc3MgYHNlbGVjdG9yYCBpbiB0aGUgbW9kdWxlXG4gICAqIHJlZ2lzdGVyZWQgYnkgYGlkYC4gRm9yIGV4YW1wbGUsIHRoaXMuaW1wb3J0KCdmb28nLCAnaW1nJyk7XG4gICAqIEBwYXJhbSB7c3RyaW5nfSBpZCBUaGUgaWQgb2YgdGhlIGRvbS1tb2R1bGUgaW4gd2hpY2ggdG8gc2VhcmNoLlxuICAgKiBAcGFyYW0ge3N0cmluZz19IHNlbGVjdG9yIFRoZSBjc3Mgc2VsZWN0b3IgYnkgd2hpY2ggdG8gZmluZCB0aGUgZWxlbWVudC5cbiAgICogQHJldHVybiB7RWxlbWVudH0gUmV0dXJucyB0aGUgZWxlbWVudCB3aGljaCBtYXRjaGVzIGBzZWxlY3RvcmAgaW4gdGhlXG4gICAqIG1vZHVsZSByZWdpc3RlcmVkIGF0IHRoZSBzcGVjaWZpZWQgYGlkYC5cbiAgICpcbiAgICogQGV4cG9ydFxuICAgKiBAbm9jb2xsYXBzZSBSZWZlcnJlZCB0byBpbmRpcmVjdGx5IGluIHN0eWxlLWdhdGhlci5qc1xuICAgKi9cbiAgc3RhdGljIGltcG9ydChpZCwgc2VsZWN0b3IpIHtcbiAgICBpZiAoaWQpIHtcbiAgICAgIGxldCBtID0gZmluZE1vZHVsZShpZCk7XG4gICAgICBpZiAobSAmJiBzZWxlY3Rvcikge1xuICAgICAgICByZXR1cm4gbS5xdWVyeVNlbGVjdG9yKHNlbGVjdG9yKTtcbiAgICAgIH1cbiAgICAgIHJldHVybiBtO1xuICAgIH1cbiAgICByZXR1cm4gbnVsbDtcbiAgfVxuXG4gIC8qIGVzbGludC1kaXNhYmxlIG5vLXVudXNlZC12YXJzICovXG4gIC8qKlxuICAgKiBAcGFyYW0ge3N0cmluZ30gbmFtZSBOYW1lIG9mIGF0dHJpYnV0ZS5cbiAgICogQHBhcmFtIHs/c3RyaW5nfSBvbGQgT2xkIHZhbHVlIG9mIGF0dHJpYnV0ZS5cbiAgICogQHBhcmFtIHs/c3RyaW5nfSB2YWx1ZSBDdXJyZW50IHZhbHVlIG9mIGF0dHJpYnV0ZS5cbiAgICogQHBhcmFtIHs/c3RyaW5nfSBuYW1lc3BhY2UgQXR0cmlidXRlIG5hbWVzcGFjZS5cbiAgICogQHJldHVybiB7dm9pZH1cbiAgICogQG92ZXJyaWRlXG4gICAqL1xuICBhdHRyaWJ1dGVDaGFuZ2VkQ2FsbGJhY2sobmFtZSwgb2xkLCB2YWx1ZSwgbmFtZXNwYWNlKSB7XG4gICAgaWYgKG9sZCAhPT0gdmFsdWUpIHtcbiAgICAgIHRoaXMucmVnaXN0ZXIoKTtcbiAgICB9XG4gIH1cbiAgLyogZXNsaW50LWVuYWJsZSBuby11bnVzZWQtYXJncyAqL1xuXG4gIC8qKlxuICAgKiBUaGUgYWJzb2x1dGUgVVJMIG9mIHRoZSBvcmlnaW5hbCBsb2NhdGlvbiBvZiB0aGlzIGBkb20tbW9kdWxlYC5cbiAgICpcbiAgICogVGhpcyB2YWx1ZSB3aWxsIGRpZmZlciBmcm9tIHRoaXMgZWxlbWVudCdzIGBvd25lckRvY3VtZW50YCBpbiB0aGVcbiAgICogZm9sbG93aW5nIHdheXM6XG4gICAqIC0gVGFrZXMgaW50byBhY2NvdW50IGFueSBgYXNzZXRwYXRoYCBhdHRyaWJ1dGUgYWRkZWQgZHVyaW5nIGJ1bmRsaW5nXG4gICAqICAgdG8gaW5kaWNhdGUgdGhlIG9yaWdpbmFsIGxvY2F0aW9uIHJlbGF0aXZlIHRvIHRoZSBidW5kbGVkIGxvY2F0aW9uXG4gICAqIC0gVXNlcyB0aGUgSFRNTEltcG9ydHMgcG9seWZpbGwncyBgaW1wb3J0Rm9yRWxlbWVudGAgQVBJIHRvIGVuc3VyZVxuICAgKiAgIHRoZSBwYXRoIGlzIHJlbGF0aXZlIHRvIHRoZSBpbXBvcnQgZG9jdW1lbnQncyBsb2NhdGlvbiBzaW5jZVxuICAgKiAgIGBvd25lckRvY3VtZW50YCBpcyBub3QgY3VycmVudGx5IHBvbHlmaWxsZWRcbiAgICovXG4gIGdldCBhc3NldHBhdGgoKSB7XG4gICAgLy8gRG9uJ3Qgb3ZlcnJpZGUgZXhpc3RpbmcgYXNzZXRwYXRoLlxuICAgIGlmICghdGhpcy5fX2Fzc2V0cGF0aCkge1xuICAgICAgLy8gbm90ZTogYXNzZXRwYXRoIHNldCB2aWEgYW4gYXR0cmlidXRlIG11c3QgYmUgcmVsYXRpdmUgdG8gdGhpc1xuICAgICAgLy8gZWxlbWVudCdzIGxvY2F0aW9uOyBhY2NvbW9kYXRlIHBvbHlmaWxsZWQgSFRNTEltcG9ydHNcbiAgICAgIGNvbnN0IG93bmVyID0gd2luZG93LkhUTUxJbXBvcnRzICYmIEhUTUxJbXBvcnRzLmltcG9ydEZvckVsZW1lbnQgP1xuICAgICAgICBIVE1MSW1wb3J0cy5pbXBvcnRGb3JFbGVtZW50KHRoaXMpIHx8IGRvY3VtZW50IDogdGhpcy5vd25lckRvY3VtZW50O1xuICAgICAgY29uc3QgdXJsID0gcmVzb2x2ZVVybChcbiAgICAgICAgdGhpcy5nZXRBdHRyaWJ1dGUoJ2Fzc2V0cGF0aCcpIHx8ICcnLCBvd25lci5iYXNlVVJJKTtcbiAgICAgIHRoaXMuX19hc3NldHBhdGggPSBwYXRoRnJvbVVybCh1cmwpO1xuICAgIH1cbiAgICByZXR1cm4gdGhpcy5fX2Fzc2V0cGF0aDtcbiAgfVxuXG4gIC8qKlxuICAgKiBSZWdpc3RlcnMgdGhlIGRvbS1tb2R1bGUgYXQgYSBnaXZlbiBpZC4gVGhpcyBtZXRob2Qgc2hvdWxkIG9ubHkgYmUgY2FsbGVkXG4gICAqIHdoZW4gYSBkb20tbW9kdWxlIGlzIGltcGVyYXRpdmVseSBjcmVhdGVkLiBGb3JcbiAgICogZXhhbXBsZSwgYGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ2RvbS1tb2R1bGUnKS5yZWdpc3RlcignZm9vJylgLlxuICAgKiBAcGFyYW0ge3N0cmluZz19IGlkIFRoZSBpZCBhdCB3aGljaCB0byByZWdpc3RlciB0aGUgZG9tLW1vZHVsZS5cbiAgICogQHJldHVybiB7dm9pZH1cbiAgICovXG4gIHJlZ2lzdGVyKGlkKSB7XG4gICAgaWQgPSBpZCB8fCB0aGlzLmlkO1xuICAgIGlmIChpZCkge1xuICAgICAgLy8gVW5kZXIgc3RyaWN0VGVtcGxhdGVQb2xpY3ksIHJlamVjdCBhbmQgbnVsbCBvdXQgYW55IHJlLXJlZ2lzdGVyZWRcbiAgICAgIC8vIGRvbS1tb2R1bGUgc2luY2UgaXQgaXMgYW1iaWd1b3VzIHdoZXRoZXIgZmlyc3QtaW4gb3IgbGFzdC1pbiBpcyB0cnVzdGVkXG4gICAgICBpZiAoc3RyaWN0VGVtcGxhdGVQb2xpY3kgJiYgZmluZE1vZHVsZShpZCkgIT09IHVuZGVmaW5lZCkge1xuICAgICAgICBzZXRNb2R1bGUoaWQsIG51bGwpO1xuICAgICAgICB0aHJvdyBuZXcgRXJyb3IoYHN0cmljdFRlbXBsYXRlUG9saWN5OiBkb20tbW9kdWxlICR7aWR9IHJlLXJlZ2lzdGVyZWRgKTtcbiAgICAgIH1cbiAgICAgIHRoaXMuaWQgPSBpZDtcbiAgICAgIHNldE1vZHVsZShpZCwgdGhpcyk7XG4gICAgICBzdHlsZU91dHNpZGVUZW1wbGF0ZUNoZWNrKHRoaXMpO1xuICAgIH1cbiAgfVxufVxuXG5Eb21Nb2R1bGUucHJvdG90eXBlWydtb2R1bGVzJ10gPSBtb2R1bGVzO1xuXG5jdXN0b21FbGVtZW50cy5kZWZpbmUoJ2RvbS1tb2R1bGUnLCBEb21Nb2R1bGUpO1xuIiwiLyoqXG5AbGljZW5zZVxuQ29weXJpZ2h0IChjKSAyMDE3IFRoZSBQb2x5bWVyIFByb2plY3QgQXV0aG9ycy4gQWxsIHJpZ2h0cyByZXNlcnZlZC5cblRoaXMgY29kZSBtYXkgb25seSBiZSB1c2VkIHVuZGVyIHRoZSBCU0Qgc3R5bGUgbGljZW5zZSBmb3VuZCBhdCBodHRwOi8vcG9seW1lci5naXRodWIuaW8vTElDRU5TRS50eHRcblRoZSBjb21wbGV0ZSBzZXQgb2YgYXV0aG9ycyBtYXkgYmUgZm91bmQgYXQgaHR0cDovL3BvbHltZXIuZ2l0aHViLmlvL0FVVEhPUlMudHh0XG5UaGUgY29tcGxldGUgc2V0IG9mIGNvbnRyaWJ1dG9ycyBtYXkgYmUgZm91bmQgYXQgaHR0cDovL3BvbHltZXIuZ2l0aHViLmlvL0NPTlRSSUJVVE9SUy50eHRcbkNvZGUgZGlzdHJpYnV0ZWQgYnkgR29vZ2xlIGFzIHBhcnQgb2YgdGhlIHBvbHltZXIgcHJvamVjdCBpcyBhbHNvXG5zdWJqZWN0IHRvIGFuIGFkZGl0aW9uYWwgSVAgcmlnaHRzIGdyYW50IGZvdW5kIGF0IGh0dHA6Ly9wb2x5bWVyLmdpdGh1Yi5pby9QQVRFTlRTLnR4dFxuKi9cblxuLypcbkV4dHJlbWVseSBzaW1wbGUgY3NzIHBhcnNlci4gSW50ZW5kZWQgdG8gYmUgbm90IG1vcmUgdGhhbiB3aGF0IHdlIG5lZWRcbmFuZCBkZWZpbml0ZWx5IG5vdCBuZWNlc3NhcmlseSBjb3JyZWN0ID0pLlxuKi9cblxuJ3VzZSBzdHJpY3QnO1xuXG4vKiogQHVucmVzdHJpY3RlZCAqL1xuY2xhc3MgU3R5bGVOb2RlIHtcbiAgY29uc3RydWN0b3IoKSB7XG4gICAgLyoqIEB0eXBlIHtudW1iZXJ9ICovXG4gICAgdGhpc1snc3RhcnQnXSA9IDA7XG4gICAgLyoqIEB0eXBlIHtudW1iZXJ9ICovXG4gICAgdGhpc1snZW5kJ10gPSAwO1xuICAgIC8qKiBAdHlwZSB7U3R5bGVOb2RlfSAqL1xuICAgIHRoaXNbJ3ByZXZpb3VzJ10gPSBudWxsO1xuICAgIC8qKiBAdHlwZSB7U3R5bGVOb2RlfSAqL1xuICAgIHRoaXNbJ3BhcmVudCddID0gbnVsbDtcbiAgICAvKiogQHR5cGUge0FycmF5PFN0eWxlTm9kZT59ICovXG4gICAgdGhpc1sncnVsZXMnXSA9IG51bGw7XG4gICAgLyoqIEB0eXBlIHtzdHJpbmd9ICovXG4gICAgdGhpc1sncGFyc2VkQ3NzVGV4dCddID0gJyc7XG4gICAgLyoqIEB0eXBlIHtzdHJpbmd9ICovXG4gICAgdGhpc1snY3NzVGV4dCddID0gJyc7XG4gICAgLyoqIEB0eXBlIHtib29sZWFufSAqL1xuICAgIHRoaXNbJ2F0UnVsZSddID0gZmFsc2U7XG4gICAgLyoqIEB0eXBlIHtudW1iZXJ9ICovXG4gICAgdGhpc1sndHlwZSddID0gMDtcbiAgICAvKiogQHR5cGUge3N0cmluZ30gKi9cbiAgICB0aGlzWydrZXlmcmFtZXNOYW1lJ10gPSAnJztcbiAgICAvKiogQHR5cGUge3N0cmluZ30gKi9cbiAgICB0aGlzWydzZWxlY3RvciddID0gJyc7XG4gICAgLyoqIEB0eXBlIHtzdHJpbmd9ICovXG4gICAgdGhpc1sncGFyc2VkU2VsZWN0b3InXSA9ICcnO1xuICB9XG59XG5cbmV4cG9ydCB7U3R5bGVOb2RlfVxuXG4vLyBnaXZlbiBhIHN0cmluZyBvZiBjc3MsIHJldHVybiBhIHNpbXBsZSBydWxlIHRyZWVcbi8qKlxuICogQHBhcmFtIHtzdHJpbmd9IHRleHRcbiAqIEByZXR1cm4ge1N0eWxlTm9kZX1cbiAqL1xuZXhwb3J0IGZ1bmN0aW9uIHBhcnNlKHRleHQpIHtcbiAgdGV4dCA9IGNsZWFuKHRleHQpO1xuICByZXR1cm4gcGFyc2VDc3MobGV4KHRleHQpLCB0ZXh0KTtcbn1cblxuLy8gcmVtb3ZlIHN0dWZmIHdlIGRvbid0IGNhcmUgYWJvdXQgdGhhdCBtYXkgaGluZGVyIHBhcnNpbmdcbi8qKlxuICogQHBhcmFtIHtzdHJpbmd9IGNzc1RleHRcbiAqIEByZXR1cm4ge3N0cmluZ31cbiAqL1xuZnVuY3Rpb24gY2xlYW4oY3NzVGV4dCkge1xuICByZXR1cm4gY3NzVGV4dC5yZXBsYWNlKFJYLmNvbW1lbnRzLCAnJykucmVwbGFjZShSWC5wb3J0LCAnJyk7XG59XG5cbi8vIHN1cGVyIHNpbXBsZSB7Li4ufSBsZXhlciB0aGF0IHJldHVybnMgYSBub2RlIHRyZWVcbi8qKlxuICogQHBhcmFtIHtzdHJpbmd9IHRleHRcbiAqIEByZXR1cm4ge1N0eWxlTm9kZX1cbiAqL1xuZnVuY3Rpb24gbGV4KHRleHQpIHtcbiAgbGV0IHJvb3QgPSBuZXcgU3R5bGVOb2RlKCk7XG4gIHJvb3RbJ3N0YXJ0J10gPSAwO1xuICByb290WydlbmQnXSA9IHRleHQubGVuZ3RoXG4gIGxldCBuID0gcm9vdDtcbiAgZm9yIChsZXQgaSA9IDAsIGwgPSB0ZXh0Lmxlbmd0aDsgaSA8IGw7IGkrKykge1xuICAgIGlmICh0ZXh0W2ldID09PSBPUEVOX0JSQUNFKSB7XG4gICAgICBpZiAoIW5bJ3J1bGVzJ10pIHtcbiAgICAgICAgblsncnVsZXMnXSA9IFtdO1xuICAgICAgfVxuICAgICAgbGV0IHAgPSBuO1xuICAgICAgbGV0IHByZXZpb3VzID0gcFsncnVsZXMnXVtwWydydWxlcyddLmxlbmd0aCAtIDFdIHx8IG51bGw7XG4gICAgICBuID0gbmV3IFN0eWxlTm9kZSgpO1xuICAgICAgblsnc3RhcnQnXSA9IGkgKyAxO1xuICAgICAgblsncGFyZW50J10gPSBwO1xuICAgICAgblsncHJldmlvdXMnXSA9IHByZXZpb3VzO1xuICAgICAgcFsncnVsZXMnXS5wdXNoKG4pO1xuICAgIH0gZWxzZSBpZiAodGV4dFtpXSA9PT0gQ0xPU0VfQlJBQ0UpIHtcbiAgICAgIG5bJ2VuZCddID0gaSArIDE7XG4gICAgICBuID0gblsncGFyZW50J10gfHwgcm9vdDtcbiAgICB9XG4gIH1cbiAgcmV0dXJuIHJvb3Q7XG59XG5cbi8vIGFkZCBzZWxlY3RvcnMvY3NzVGV4dCB0byBub2RlIHRyZWVcbi8qKlxuICogQHBhcmFtIHtTdHlsZU5vZGV9IG5vZGVcbiAqIEBwYXJhbSB7c3RyaW5nfSB0ZXh0XG4gKiBAcmV0dXJuIHtTdHlsZU5vZGV9XG4gKi9cbmZ1bmN0aW9uIHBhcnNlQ3NzKG5vZGUsIHRleHQpIHtcbiAgbGV0IHQgPSB0ZXh0LnN1YnN0cmluZyhub2RlWydzdGFydCddLCBub2RlWydlbmQnXSAtIDEpO1xuICBub2RlWydwYXJzZWRDc3NUZXh0J10gPSBub2RlWydjc3NUZXh0J10gPSB0LnRyaW0oKTtcbiAgaWYgKG5vZGVbJ3BhcmVudCddKSB7XG4gICAgbGV0IHNzID0gbm9kZVsncHJldmlvdXMnXSA/IG5vZGVbJ3ByZXZpb3VzJ11bJ2VuZCddIDogbm9kZVsncGFyZW50J11bJ3N0YXJ0J107XG4gICAgdCA9IHRleHQuc3Vic3RyaW5nKHNzLCBub2RlWydzdGFydCddIC0gMSk7XG4gICAgdCA9IF9leHBhbmRVbmljb2RlRXNjYXBlcyh0KTtcbiAgICB0ID0gdC5yZXBsYWNlKFJYLm11bHRpcGxlU3BhY2VzLCAnICcpO1xuICAgIC8vIFRPRE8oc29ydmVsbCk6IGFkIGhvYzsgbWFrZSBzZWxlY3RvciBpbmNsdWRlIG9ubHkgYWZ0ZXIgbGFzdCA7XG4gICAgLy8gaGVscHMgd2l0aCBtaXhpbiBzeW50YXhcbiAgICB0ID0gdC5zdWJzdHJpbmcodC5sYXN0SW5kZXhPZignOycpICsgMSk7XG4gICAgbGV0IHMgPSBub2RlWydwYXJzZWRTZWxlY3RvciddID0gbm9kZVsnc2VsZWN0b3InXSA9IHQudHJpbSgpO1xuICAgIG5vZGVbJ2F0UnVsZSddID0gKHMuaW5kZXhPZihBVF9TVEFSVCkgPT09IDApO1xuICAgIC8vIG5vdGUsIHN1cHBvcnQgYSBzdWJzZXQgb2YgcnVsZSB0eXBlcy4uLlxuICAgIGlmIChub2RlWydhdFJ1bGUnXSkge1xuICAgICAgaWYgKHMuaW5kZXhPZihNRURJQV9TVEFSVCkgPT09IDApIHtcbiAgICAgICAgbm9kZVsndHlwZSddID0gdHlwZXMuTUVESUFfUlVMRTtcbiAgICAgIH0gZWxzZSBpZiAocy5tYXRjaChSWC5rZXlmcmFtZXNSdWxlKSkge1xuICAgICAgICBub2RlWyd0eXBlJ10gPSB0eXBlcy5LRVlGUkFNRVNfUlVMRTtcbiAgICAgICAgbm9kZVsna2V5ZnJhbWVzTmFtZSddID1cbiAgICAgICAgICBub2RlWydzZWxlY3RvciddLnNwbGl0KFJYLm11bHRpcGxlU3BhY2VzKS5wb3AoKTtcbiAgICAgIH1cbiAgICB9IGVsc2Uge1xuICAgICAgaWYgKHMuaW5kZXhPZihWQVJfU1RBUlQpID09PSAwKSB7XG4gICAgICAgIG5vZGVbJ3R5cGUnXSA9IHR5cGVzLk1JWElOX1JVTEU7XG4gICAgICB9IGVsc2Uge1xuICAgICAgICBub2RlWyd0eXBlJ10gPSB0eXBlcy5TVFlMRV9SVUxFO1xuICAgICAgfVxuICAgIH1cbiAgfVxuICBsZXQgciQgPSBub2RlWydydWxlcyddO1xuICBpZiAociQpIHtcbiAgICBmb3IgKGxldCBpID0gMCwgbCA9IHIkLmxlbmd0aCwgcjtcbiAgICAgIChpIDwgbCkgJiYgKHIgPSByJFtpXSk7IGkrKykge1xuICAgICAgcGFyc2VDc3MociwgdGV4dCk7XG4gICAgfVxuICB9XG4gIHJldHVybiBub2RlO1xufVxuXG4vKipcbiAqIGNvbnZlcnNpb24gb2Ygc29ydCB1bmljb2RlIGVzY2FwZXMgd2l0aCBzcGFjZXMgbGlrZSBgXFwzMyBgIChhbmQgbG9uZ2VyKSBpbnRvXG4gKiBleHBhbmRlZCBmb3JtIHRoYXQgZG9lc24ndCByZXF1aXJlIHRyYWlsaW5nIHNwYWNlIGBcXDAwMDAzM2BcbiAqIEBwYXJhbSB7c3RyaW5nfSBzXG4gKiBAcmV0dXJuIHtzdHJpbmd9XG4gKi9cbmZ1bmN0aW9uIF9leHBhbmRVbmljb2RlRXNjYXBlcyhzKSB7XG4gIHJldHVybiBzLnJlcGxhY2UoL1xcXFwoWzAtOWEtZl17MSw2fSlcXHMvZ2ksIGZ1bmN0aW9uKCkge1xuICAgIGxldCBjb2RlID0gYXJndW1lbnRzWzFdLFxuICAgICAgcmVwZWF0ID0gNiAtIGNvZGUubGVuZ3RoO1xuICAgIHdoaWxlIChyZXBlYXQtLSkge1xuICAgICAgY29kZSA9ICcwJyArIGNvZGU7XG4gICAgfVxuICAgIHJldHVybiAnXFxcXCcgKyBjb2RlO1xuICB9KTtcbn1cblxuLyoqXG4gKiBzdHJpbmdpZnkgcGFyc2VkIGNzcy5cbiAqIEBwYXJhbSB7U3R5bGVOb2RlfSBub2RlXG4gKiBAcGFyYW0ge2Jvb2xlYW49fSBwcmVzZXJ2ZVByb3BlcnRpZXNcbiAqIEBwYXJhbSB7c3RyaW5nPX0gdGV4dFxuICogQHJldHVybiB7c3RyaW5nfVxuICovXG5leHBvcnQgZnVuY3Rpb24gc3RyaW5naWZ5KG5vZGUsIHByZXNlcnZlUHJvcGVydGllcywgdGV4dCA9ICcnKSB7XG4gIC8vIGNhbGMgcnVsZSBjc3NUZXh0XG4gIGxldCBjc3NUZXh0ID0gJyc7XG4gIGlmIChub2RlWydjc3NUZXh0J10gfHwgbm9kZVsncnVsZXMnXSkge1xuICAgIGxldCByJCA9IG5vZGVbJ3J1bGVzJ107XG4gICAgaWYgKHIkICYmICFfaGFzTWl4aW5SdWxlcyhyJCkpIHtcbiAgICAgIGZvciAobGV0IGkgPSAwLCBsID0gciQubGVuZ3RoLCByO1xuICAgICAgICAoaSA8IGwpICYmIChyID0gciRbaV0pOyBpKyspIHtcbiAgICAgICAgY3NzVGV4dCA9IHN0cmluZ2lmeShyLCBwcmVzZXJ2ZVByb3BlcnRpZXMsIGNzc1RleHQpO1xuICAgICAgfVxuICAgIH0gZWxzZSB7XG4gICAgICBjc3NUZXh0ID0gcHJlc2VydmVQcm9wZXJ0aWVzID8gbm9kZVsnY3NzVGV4dCddIDpcbiAgICAgICAgcmVtb3ZlQ3VzdG9tUHJvcHMobm9kZVsnY3NzVGV4dCddKTtcbiAgICAgIGNzc1RleHQgPSBjc3NUZXh0LnRyaW0oKTtcbiAgICAgIGlmIChjc3NUZXh0KSB7XG4gICAgICAgIGNzc1RleHQgPSAnICAnICsgY3NzVGV4dCArICdcXG4nO1xuICAgICAgfVxuICAgIH1cbiAgfVxuICAvLyBlbWl0IHJ1bGUgaWYgdGhlcmUgaXMgY3NzVGV4dFxuICBpZiAoY3NzVGV4dCkge1xuICAgIGlmIChub2RlWydzZWxlY3RvciddKSB7XG4gICAgICB0ZXh0ICs9IG5vZGVbJ3NlbGVjdG9yJ10gKyAnICcgKyBPUEVOX0JSQUNFICsgJ1xcbic7XG4gICAgfVxuICAgIHRleHQgKz0gY3NzVGV4dDtcbiAgICBpZiAobm9kZVsnc2VsZWN0b3InXSkge1xuICAgICAgdGV4dCArPSBDTE9TRV9CUkFDRSArICdcXG5cXG4nO1xuICAgIH1cbiAgfVxuICByZXR1cm4gdGV4dDtcbn1cblxuLyoqXG4gKiBAcGFyYW0ge0FycmF5PFN0eWxlTm9kZT59IHJ1bGVzXG4gKiBAcmV0dXJuIHtib29sZWFufVxuICovXG5mdW5jdGlvbiBfaGFzTWl4aW5SdWxlcyhydWxlcykge1xuICBsZXQgciA9IHJ1bGVzWzBdO1xuICByZXR1cm4gQm9vbGVhbihyKSAmJiBCb29sZWFuKHJbJ3NlbGVjdG9yJ10pICYmIHJbJ3NlbGVjdG9yJ10uaW5kZXhPZihWQVJfU1RBUlQpID09PSAwO1xufVxuXG4vKipcbiAqIEBwYXJhbSB7c3RyaW5nfSBjc3NUZXh0XG4gKiBAcmV0dXJuIHtzdHJpbmd9XG4gKi9cbmZ1bmN0aW9uIHJlbW92ZUN1c3RvbVByb3BzKGNzc1RleHQpIHtcbiAgY3NzVGV4dCA9IHJlbW92ZUN1c3RvbVByb3BBc3NpZ25tZW50KGNzc1RleHQpO1xuICByZXR1cm4gcmVtb3ZlQ3VzdG9tUHJvcEFwcGx5KGNzc1RleHQpO1xufVxuXG4vKipcbiAqIEBwYXJhbSB7c3RyaW5nfSBjc3NUZXh0XG4gKiBAcmV0dXJuIHtzdHJpbmd9XG4gKi9cbmV4cG9ydCBmdW5jdGlvbiByZW1vdmVDdXN0b21Qcm9wQXNzaWdubWVudChjc3NUZXh0KSB7XG4gIHJldHVybiBjc3NUZXh0XG4gICAgLnJlcGxhY2UoUlguY3VzdG9tUHJvcCwgJycpXG4gICAgLnJlcGxhY2UoUlgubWl4aW5Qcm9wLCAnJyk7XG59XG5cbi8qKlxuICogQHBhcmFtIHtzdHJpbmd9IGNzc1RleHRcbiAqIEByZXR1cm4ge3N0cmluZ31cbiAqL1xuZnVuY3Rpb24gcmVtb3ZlQ3VzdG9tUHJvcEFwcGx5KGNzc1RleHQpIHtcbiAgcmV0dXJuIGNzc1RleHRcbiAgICAucmVwbGFjZShSWC5taXhpbkFwcGx5LCAnJylcbiAgICAucmVwbGFjZShSWC52YXJBcHBseSwgJycpO1xufVxuXG4vKiogQGVudW0ge251bWJlcn0gKi9cbmV4cG9ydCBjb25zdCB0eXBlcyA9IHtcbiAgU1RZTEVfUlVMRTogMSxcbiAgS0VZRlJBTUVTX1JVTEU6IDcsXG4gIE1FRElBX1JVTEU6IDQsXG4gIE1JWElOX1JVTEU6IDEwMDBcbn1cblxuY29uc3QgT1BFTl9CUkFDRSA9ICd7JztcbmNvbnN0IENMT1NFX0JSQUNFID0gJ30nO1xuXG4vLyBoZWxwZXIgcmVnZXhwJ3NcbmNvbnN0IFJYID0ge1xuICBjb21tZW50czogL1xcL1xcKlteKl0qXFwqKyhbXi8qXVteKl0qXFwqKykqXFwvL2dpbSxcbiAgcG9ydDogL0BpbXBvcnRbXjtdKjsvZ2ltLFxuICBjdXN0b21Qcm9wOiAvKD86XlteO1xcLVxcc31dKyk/LS1bXjt7fV0qPzpbXnt9O10qPyg/Ols7XFxuXXwkKS9naW0sXG4gIG1peGluUHJvcDogLyg/Ol5bXjtcXC1cXHN9XSspPy0tW147e31dKj86W157fTtdKj97W159XSo/fSg/Ols7XFxuXXwkKT8vZ2ltLFxuICBtaXhpbkFwcGx5OiAvQGFwcGx5XFxzKlxcKD9bXik7XSpcXCk/XFxzKig/Ols7XFxuXXwkKT8vZ2ltLFxuICB2YXJBcHBseTogL1teOzpdKj86W147XSo/dmFyXFwoW147XSpcXCkoPzpbO1xcbl18JCk/L2dpbSxcbiAga2V5ZnJhbWVzUnVsZTogL15AW15cXHNdKmtleWZyYW1lcy8sXG4gIG11bHRpcGxlU3BhY2VzOiAvXFxzKy9nXG59XG5cbmNvbnN0IFZBUl9TVEFSVCA9ICctLSc7XG5jb25zdCBNRURJQV9TVEFSVCA9ICdAbWVkaWEnO1xuY29uc3QgQVRfU1RBUlQgPSAnQCc7XG4iLCIvKipcbkBsaWNlbnNlXG5Db3B5cmlnaHQgKGMpIDIwMTcgVGhlIFBvbHltZXIgUHJvamVjdCBBdXRob3JzLiBBbGwgcmlnaHRzIHJlc2VydmVkLlxuVGhpcyBjb2RlIG1heSBvbmx5IGJlIHVzZWQgdW5kZXIgdGhlIEJTRCBzdHlsZSBsaWNlbnNlIGZvdW5kIGF0IGh0dHA6Ly9wb2x5bWVyLmdpdGh1Yi5pby9MSUNFTlNFLnR4dFxuVGhlIGNvbXBsZXRlIHNldCBvZiBhdXRob3JzIG1heSBiZSBmb3VuZCBhdCBodHRwOi8vcG9seW1lci5naXRodWIuaW8vQVVUSE9SUy50eHRcblRoZSBjb21wbGV0ZSBzZXQgb2YgY29udHJpYnV0b3JzIG1heSBiZSBmb3VuZCBhdCBodHRwOi8vcG9seW1lci5naXRodWIuaW8vQ09OVFJJQlVUT1JTLnR4dFxuQ29kZSBkaXN0cmlidXRlZCBieSBHb29nbGUgYXMgcGFydCBvZiB0aGUgcG9seW1lciBwcm9qZWN0IGlzIGFsc29cbnN1YmplY3QgdG8gYW4gYWRkaXRpb25hbCBJUCByaWdodHMgZ3JhbnQgZm91bmQgYXQgaHR0cDovL3BvbHltZXIuZ2l0aHViLmlvL1BBVEVOVFMudHh0XG4qL1xuXG4ndXNlIHN0cmljdCc7XG5cbi8qKiBAdHlwZSB7IVNldDxzdHJpbmc+fSAqL1xuY29uc3Qgc3R5bGVUZXh0U2V0ID0gbmV3IFNldCgpO1xuXG5leHBvcnQgY29uc3Qgc2NvcGluZ0F0dHJpYnV0ZSA9ICdzaGFkeS11bnNjb3BlZCc7XG5cbi8qKlxuICogQWRkIGEgc3BlY2lmaWNhbGx5LW1hcmtlZCBzdHlsZSB0byB0aGUgZG9jdW1lbnQgZGlyZWN0bHksIGFuZCBvbmx5IG9uZSBjb3B5IG9mIHRoYXQgc3R5bGUuXG4gKlxuICogQHBhcmFtIHshSFRNTFN0eWxlRWxlbWVudH0gc3R5bGVcbiAqIEByZXR1cm4ge3VuZGVmaW5lZH1cbiAqL1xuZXhwb3J0IGZ1bmN0aW9uIHByb2Nlc3NVbnNjb3BlZFN0eWxlKHN0eWxlKSB7XG4gIGNvbnN0IHRleHQgPSBzdHlsZS50ZXh0Q29udGVudDtcbiAgaWYgKCFzdHlsZVRleHRTZXQuaGFzKHRleHQpKSB7XG4gICAgc3R5bGVUZXh0U2V0LmFkZCh0ZXh0KTtcbiAgICBjb25zdCBuZXdTdHlsZSA9IHN0eWxlLmNsb25lTm9kZSh0cnVlKTtcbiAgICBkb2N1bWVudC5oZWFkLmFwcGVuZENoaWxkKG5ld1N0eWxlKTtcbiAgfVxufVxuXG4vKipcbiAqIENoZWNrIGlmIGEgc3R5bGUgaXMgc3VwcG9zZWQgdG8gYmUgdW5zY29wZWRcbiAqIEBwYXJhbSB7IUhUTUxTdHlsZUVsZW1lbnR9IHN0eWxlXG4gKiBAcmV0dXJuIHtib29sZWFufSB0cnVlIGlmIHRoZSBzdHlsZSBoYXMgdGhlIHVuc2NvcGluZyBhdHRyaWJ1dGVcbiAqL1xuZXhwb3J0IGZ1bmN0aW9uIGlzVW5zY29wZWRTdHlsZShzdHlsZSkge1xuICByZXR1cm4gc3R5bGUuaGFzQXR0cmlidXRlKHNjb3BpbmdBdHRyaWJ1dGUpO1xufSIsIi8qKlxuQGxpY2Vuc2VcbkNvcHlyaWdodCAoYykgMjAxNyBUaGUgUG9seW1lciBQcm9qZWN0IEF1dGhvcnMuIEFsbCByaWdodHMgcmVzZXJ2ZWQuXG5UaGlzIGNvZGUgbWF5IG9ubHkgYmUgdXNlZCB1bmRlciB0aGUgQlNEIHN0eWxlIGxpY2Vuc2UgZm91bmQgYXQgaHR0cDovL3BvbHltZXIuZ2l0aHViLmlvL0xJQ0VOU0UudHh0XG5UaGUgY29tcGxldGUgc2V0IG9mIGF1dGhvcnMgbWF5IGJlIGZvdW5kIGF0IGh0dHA6Ly9wb2x5bWVyLmdpdGh1Yi5pby9BVVRIT1JTLnR4dFxuVGhlIGNvbXBsZXRlIHNldCBvZiBjb250cmlidXRvcnMgbWF5IGJlIGZvdW5kIGF0IGh0dHA6Ly9wb2x5bWVyLmdpdGh1Yi5pby9DT05UUklCVVRPUlMudHh0XG5Db2RlIGRpc3RyaWJ1dGVkIGJ5IEdvb2dsZSBhcyBwYXJ0IG9mIHRoZSBwb2x5bWVyIHByb2plY3QgaXMgYWxzb1xuc3ViamVjdCB0byBhbiBhZGRpdGlvbmFsIElQIHJpZ2h0cyBncmFudCBmb3VuZCBhdCBodHRwOi8vcG9seW1lci5naXRodWIuaW8vUEFURU5UUy50eHRcbiovXG5cbid1c2Ugc3RyaWN0JztcblxuaW1wb3J0IHtuYXRpdmVTaGFkb3csIG5hdGl2ZUNzc1ZhcmlhYmxlcywgY3NzQnVpbGR9IGZyb20gJy4vc3R5bGUtc2V0dGluZ3MuanMnO1xuaW1wb3J0IHtwYXJzZSwgc3RyaW5naWZ5LCB0eXBlcywgU3R5bGVOb2RlfSBmcm9tICcuL2Nzcy1wYXJzZS5qcyc7IC8vIGVzbGludC1kaXNhYmxlLWxpbmUgbm8tdW51c2VkLXZhcnNcbmltcG9ydCB7TUVESUFfTUFUQ0h9IGZyb20gJy4vY29tbW9uLXJlZ2V4LmpzJztcbmltcG9ydCB7cHJvY2Vzc1Vuc2NvcGVkU3R5bGUsIGlzVW5zY29wZWRTdHlsZX0gZnJvbSAnLi91bnNjb3BlZC1zdHlsZS1oYW5kbGVyLmpzJztcblxuLyoqXG4gKiBAcGFyYW0ge3N0cmluZ3xTdHlsZU5vZGV9IHJ1bGVzXG4gKiBAcGFyYW0ge2Z1bmN0aW9uKFN0eWxlTm9kZSk9fSBjYWxsYmFja1xuICogQHJldHVybiB7c3RyaW5nfVxuICovXG5leHBvcnQgZnVuY3Rpb24gdG9Dc3NUZXh0IChydWxlcywgY2FsbGJhY2spIHtcbiAgaWYgKCFydWxlcykge1xuICAgIHJldHVybiAnJztcbiAgfVxuICBpZiAodHlwZW9mIHJ1bGVzID09PSAnc3RyaW5nJykge1xuICAgIHJ1bGVzID0gcGFyc2UocnVsZXMpO1xuICB9XG4gIGlmIChjYWxsYmFjaykge1xuICAgIGZvckVhY2hSdWxlKHJ1bGVzLCBjYWxsYmFjayk7XG4gIH1cbiAgcmV0dXJuIHN0cmluZ2lmeShydWxlcywgbmF0aXZlQ3NzVmFyaWFibGVzKTtcbn1cblxuLyoqXG4gKiBAcGFyYW0ge0hUTUxTdHlsZUVsZW1lbnR9IHN0eWxlXG4gKiBAcmV0dXJuIHtTdHlsZU5vZGV9XG4gKi9cbmV4cG9ydCBmdW5jdGlvbiBydWxlc0ZvclN0eWxlKHN0eWxlKSB7XG4gIGlmICghc3R5bGVbJ19fY3NzUnVsZXMnXSAmJiBzdHlsZS50ZXh0Q29udGVudCkge1xuICAgIHN0eWxlWydfX2Nzc1J1bGVzJ10gPSBwYXJzZShzdHlsZS50ZXh0Q29udGVudCk7XG4gIH1cbiAgcmV0dXJuIHN0eWxlWydfX2Nzc1J1bGVzJ10gfHwgbnVsbDtcbn1cblxuLy8gVGVzdHMgaWYgYSBydWxlIGlzIGEga2V5ZnJhbWVzIHNlbGVjdG9yLCB3aGljaCBsb29rcyBhbG1vc3QgZXhhY3RseVxuLy8gbGlrZSBhIG5vcm1hbCBzZWxlY3RvciBidXQgaXMgbm90IChpdCBoYXMgbm90aGluZyB0byBkbyB3aXRoIHNjb3Bpbmdcbi8vIGZvciBleGFtcGxlKS5cbi8qKlxuICogQHBhcmFtIHtTdHlsZU5vZGV9IHJ1bGVcbiAqIEByZXR1cm4ge2Jvb2xlYW59XG4gKi9cbmV4cG9ydCBmdW5jdGlvbiBpc0tleWZyYW1lc1NlbGVjdG9yKHJ1bGUpIHtcbiAgcmV0dXJuIEJvb2xlYW4ocnVsZVsncGFyZW50J10pICYmXG4gIHJ1bGVbJ3BhcmVudCddWyd0eXBlJ10gPT09IHR5cGVzLktFWUZSQU1FU19SVUxFO1xufVxuXG4vKipcbiAqIEBwYXJhbSB7U3R5bGVOb2RlfSBub2RlXG4gKiBAcGFyYW0ge0Z1bmN0aW9uPX0gc3R5bGVSdWxlQ2FsbGJhY2tcbiAqIEBwYXJhbSB7RnVuY3Rpb249fSBrZXlmcmFtZXNSdWxlQ2FsbGJhY2tcbiAqIEBwYXJhbSB7Ym9vbGVhbj19IG9ubHlBY3RpdmVSdWxlc1xuICovXG5leHBvcnQgZnVuY3Rpb24gZm9yRWFjaFJ1bGUobm9kZSwgc3R5bGVSdWxlQ2FsbGJhY2ssIGtleWZyYW1lc1J1bGVDYWxsYmFjaywgb25seUFjdGl2ZVJ1bGVzKSB7XG4gIGlmICghbm9kZSkge1xuICAgIHJldHVybjtcbiAgfVxuICBsZXQgc2tpcFJ1bGVzID0gZmFsc2U7XG4gIGxldCB0eXBlID0gbm9kZVsndHlwZSddO1xuICBpZiAob25seUFjdGl2ZVJ1bGVzKSB7XG4gICAgaWYgKHR5cGUgPT09IHR5cGVzLk1FRElBX1JVTEUpIHtcbiAgICAgIGxldCBtYXRjaE1lZGlhID0gbm9kZVsnc2VsZWN0b3InXS5tYXRjaChNRURJQV9NQVRDSCk7XG4gICAgICBpZiAobWF0Y2hNZWRpYSkge1xuICAgICAgICAvLyBpZiBydWxlIGlzIGEgbm9uIG1hdGNoaW5nIEBtZWRpYSBydWxlLCBza2lwIHN1YnJ1bGVzXG4gICAgICAgIGlmICghd2luZG93Lm1hdGNoTWVkaWEobWF0Y2hNZWRpYVsxXSkubWF0Y2hlcykge1xuICAgICAgICAgIHNraXBSdWxlcyA9IHRydWU7XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICB9XG4gIH1cbiAgaWYgKHR5cGUgPT09IHR5cGVzLlNUWUxFX1JVTEUpIHtcbiAgICBzdHlsZVJ1bGVDYWxsYmFjayhub2RlKTtcbiAgfSBlbHNlIGlmIChrZXlmcmFtZXNSdWxlQ2FsbGJhY2sgJiZcbiAgICB0eXBlID09PSB0eXBlcy5LRVlGUkFNRVNfUlVMRSkge1xuICAgIGtleWZyYW1lc1J1bGVDYWxsYmFjayhub2RlKTtcbiAgfSBlbHNlIGlmICh0eXBlID09PSB0eXBlcy5NSVhJTl9SVUxFKSB7XG4gICAgc2tpcFJ1bGVzID0gdHJ1ZTtcbiAgfVxuICBsZXQgciQgPSBub2RlWydydWxlcyddO1xuICBpZiAociQgJiYgIXNraXBSdWxlcykge1xuICAgIGZvciAobGV0IGk9MCwgbD1yJC5sZW5ndGgsIHI7IChpPGwpICYmIChyPXIkW2ldKTsgaSsrKSB7XG4gICAgICBmb3JFYWNoUnVsZShyLCBzdHlsZVJ1bGVDYWxsYmFjaywga2V5ZnJhbWVzUnVsZUNhbGxiYWNrLCBvbmx5QWN0aXZlUnVsZXMpO1xuICAgIH1cbiAgfVxufVxuXG4vLyBhZGQgYSBzdHJpbmcgb2YgY3NzVGV4dCB0byB0aGUgZG9jdW1lbnQuXG4vKipcbiAqIEBwYXJhbSB7c3RyaW5nfSBjc3NUZXh0XG4gKiBAcGFyYW0ge3N0cmluZ30gbW9uaWtlclxuICogQHBhcmFtIHtOb2RlfSB0YXJnZXRcbiAqIEBwYXJhbSB7Tm9kZX0gY29udGV4dE5vZGVcbiAqIEByZXR1cm4ge0hUTUxTdHlsZUVsZW1lbnR9XG4gKi9cbmV4cG9ydCBmdW5jdGlvbiBhcHBseUNzcyhjc3NUZXh0LCBtb25pa2VyLCB0YXJnZXQsIGNvbnRleHROb2RlKSB7XG4gIGxldCBzdHlsZSA9IGNyZWF0ZVNjb3BlU3R5bGUoY3NzVGV4dCwgbW9uaWtlcik7XG4gIGFwcGx5U3R5bGUoc3R5bGUsIHRhcmdldCwgY29udGV4dE5vZGUpO1xuICByZXR1cm4gc3R5bGU7XG59XG5cbi8qKlxuICogQHBhcmFtIHtzdHJpbmd9IGNzc1RleHRcbiAqIEBwYXJhbSB7c3RyaW5nfSBtb25pa2VyXG4gKiBAcmV0dXJuIHtIVE1MU3R5bGVFbGVtZW50fVxuICovXG5leHBvcnQgZnVuY3Rpb24gY3JlYXRlU2NvcGVTdHlsZShjc3NUZXh0LCBtb25pa2VyKSB7XG4gIGxldCBzdHlsZSA9IC8qKiBAdHlwZSB7SFRNTFN0eWxlRWxlbWVudH0gKi8oZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnc3R5bGUnKSk7XG4gIGlmIChtb25pa2VyKSB7XG4gICAgc3R5bGUuc2V0QXR0cmlidXRlKCdzY29wZScsIG1vbmlrZXIpO1xuICB9XG4gIHN0eWxlLnRleHRDb250ZW50ID0gY3NzVGV4dDtcbiAgcmV0dXJuIHN0eWxlO1xufVxuXG4vKipcbiAqIFRyYWNrIHRoZSBwb3NpdGlvbiBvZiB0aGUgbGFzdCBhZGRlZCBzdHlsZSBmb3IgcGxhY2luZyBwbGFjZWhvbGRlcnNcbiAqIEB0eXBlIHtOb2RlfVxuICovXG5sZXQgbGFzdEhlYWRBcHBseU5vZGUgPSBudWxsO1xuXG4vLyBpbnNlcnQgYSBjb21tZW50IG5vZGUgYXMgYSBzdHlsaW5nIHBvc2l0aW9uIHBsYWNlaG9sZGVyLlxuLyoqXG4gKiBAcGFyYW0ge3N0cmluZ30gbW9uaWtlclxuICogQHJldHVybiB7IUNvbW1lbnR9XG4gKi9cbmV4cG9ydCBmdW5jdGlvbiBhcHBseVN0eWxlUGxhY2VIb2xkZXIobW9uaWtlcikge1xuICBsZXQgcGxhY2VIb2xkZXIgPSBkb2N1bWVudC5jcmVhdGVDb21tZW50KCcgU2hhZHkgRE9NIHN0eWxlcyBmb3IgJyArXG4gICAgbW9uaWtlciArICcgJyk7XG4gIGxldCBhZnRlciA9IGxhc3RIZWFkQXBwbHlOb2RlID9cbiAgICBsYXN0SGVhZEFwcGx5Tm9kZVsnbmV4dFNpYmxpbmcnXSA6IG51bGw7XG4gIGxldCBzY29wZSA9IGRvY3VtZW50LmhlYWQ7XG4gIHNjb3BlLmluc2VydEJlZm9yZShwbGFjZUhvbGRlciwgYWZ0ZXIgfHwgc2NvcGUuZmlyc3RDaGlsZCk7XG4gIGxhc3RIZWFkQXBwbHlOb2RlID0gcGxhY2VIb2xkZXI7XG4gIHJldHVybiBwbGFjZUhvbGRlcjtcbn1cblxuLyoqXG4gKiBAcGFyYW0ge0hUTUxTdHlsZUVsZW1lbnR9IHN0eWxlXG4gKiBAcGFyYW0gez9Ob2RlfSB0YXJnZXRcbiAqIEBwYXJhbSB7P05vZGV9IGNvbnRleHROb2RlXG4gKi9cbmV4cG9ydCBmdW5jdGlvbiBhcHBseVN0eWxlKHN0eWxlLCB0YXJnZXQsIGNvbnRleHROb2RlKSB7XG4gIHRhcmdldCA9IHRhcmdldCB8fCBkb2N1bWVudC5oZWFkO1xuICBsZXQgYWZ0ZXIgPSAoY29udGV4dE5vZGUgJiYgY29udGV4dE5vZGUubmV4dFNpYmxpbmcpIHx8XG4gICAgdGFyZ2V0LmZpcnN0Q2hpbGQ7XG4gIHRhcmdldC5pbnNlcnRCZWZvcmUoc3R5bGUsIGFmdGVyKTtcbiAgaWYgKCFsYXN0SGVhZEFwcGx5Tm9kZSkge1xuICAgIGxhc3RIZWFkQXBwbHlOb2RlID0gc3R5bGU7XG4gIH0gZWxzZSB7XG4gICAgLy8gb25seSB1cGRhdGUgbGFzdEhlYWRBcHBseU5vZGUgaWYgdGhlIG5ldyBzdHlsZSBpcyBpbnNlcnRlZCBhZnRlciB0aGUgb2xkIGxhc3RIZWFkQXBwbHlOb2RlXG4gICAgbGV0IHBvc2l0aW9uID0gc3R5bGUuY29tcGFyZURvY3VtZW50UG9zaXRpb24obGFzdEhlYWRBcHBseU5vZGUpO1xuICAgIGlmIChwb3NpdGlvbiA9PT0gTm9kZS5ET0NVTUVOVF9QT1NJVElPTl9QUkVDRURJTkcpIHtcbiAgICAgIGxhc3RIZWFkQXBwbHlOb2RlID0gc3R5bGU7XG4gICAgfVxuICB9XG59XG5cbi8qKlxuICogQHBhcmFtIHtzdHJpbmd9IGJ1aWxkVHlwZVxuICogQHJldHVybiB7Ym9vbGVhbn1cbiAqL1xuZXhwb3J0IGZ1bmN0aW9uIGlzVGFyZ2V0ZWRCdWlsZChidWlsZFR5cGUpIHtcbiAgcmV0dXJuIG5hdGl2ZVNoYWRvdyA/IGJ1aWxkVHlwZSA9PT0gJ3NoYWRvdycgOiBidWlsZFR5cGUgPT09ICdzaGFkeSc7XG59XG5cbi8qKlxuICogV2FsayBmcm9tIHRleHRbc3RhcnRdIG1hdGNoaW5nIHBhcmVucyBhbmRcbiAqIHJldHVybnMgcG9zaXRpb24gb2YgdGhlIG91dGVyIGVuZCBwYXJlblxuICogQHBhcmFtIHtzdHJpbmd9IHRleHRcbiAqIEBwYXJhbSB7bnVtYmVyfSBzdGFydFxuICogQHJldHVybiB7bnVtYmVyfVxuICovXG5leHBvcnQgZnVuY3Rpb24gZmluZE1hdGNoaW5nUGFyZW4odGV4dCwgc3RhcnQpIHtcbiAgbGV0IGxldmVsID0gMDtcbiAgZm9yIChsZXQgaT1zdGFydCwgbD10ZXh0Lmxlbmd0aDsgaSA8IGw7IGkrKykge1xuICAgIGlmICh0ZXh0W2ldID09PSAnKCcpIHtcbiAgICAgIGxldmVsKys7XG4gICAgfSBlbHNlIGlmICh0ZXh0W2ldID09PSAnKScpIHtcbiAgICAgIGlmICgtLWxldmVsID09PSAwKSB7XG4gICAgICAgIHJldHVybiBpO1xuICAgICAgfVxuICAgIH1cbiAgfVxuICByZXR1cm4gLTE7XG59XG5cbi8qKlxuICogQHBhcmFtIHtzdHJpbmd9IHN0clxuICogQHBhcmFtIHtmdW5jdGlvbihzdHJpbmcsIHN0cmluZywgc3RyaW5nLCBzdHJpbmcpfSBjYWxsYmFja1xuICovXG5leHBvcnQgZnVuY3Rpb24gcHJvY2Vzc1ZhcmlhYmxlQW5kRmFsbGJhY2soc3RyLCBjYWxsYmFjaykge1xuICAvLyBmaW5kICd2YXIoJ1xuICBsZXQgc3RhcnQgPSBzdHIuaW5kZXhPZigndmFyKCcpO1xuICBpZiAoc3RhcnQgPT09IC0xKSB7XG4gICAgLy8gbm8gdmFyPywgZXZlcnl0aGluZyBpcyBwcmVmaXhcbiAgICByZXR1cm4gY2FsbGJhY2soc3RyLCAnJywgJycsICcnKTtcbiAgfVxuICAvLyR7cHJlZml4fXZhcigke2lubmVyfSkke3N1ZmZpeH1cbiAgbGV0IGVuZCA9IGZpbmRNYXRjaGluZ1BhcmVuKHN0ciwgc3RhcnQgKyAzKTtcbiAgbGV0IGlubmVyID0gc3RyLnN1YnN0cmluZyhzdGFydCArIDQsIGVuZCk7XG4gIGxldCBwcmVmaXggPSBzdHIuc3Vic3RyaW5nKDAsIHN0YXJ0KTtcbiAgLy8gc3VmZml4IG1heSBoYXZlIG90aGVyIHZhcmlhYmxlc1xuICBsZXQgc3VmZml4ID0gcHJvY2Vzc1ZhcmlhYmxlQW5kRmFsbGJhY2soc3RyLnN1YnN0cmluZyhlbmQgKyAxKSwgY2FsbGJhY2spO1xuICBsZXQgY29tbWEgPSBpbm5lci5pbmRleE9mKCcsJyk7XG4gIC8vIHZhbHVlIGFuZCBmYWxsYmFjayBhcmdzIHNob3VsZCBiZSB0cmltbWVkIHRvIG1hdGNoIGluIHByb3BlcnR5IGxvb2t1cFxuICBpZiAoY29tbWEgPT09IC0xKSB7XG4gICAgLy8gdmFyaWFibGUsIG5vIGZhbGxiYWNrXG4gICAgcmV0dXJuIGNhbGxiYWNrKHByZWZpeCwgaW5uZXIudHJpbSgpLCAnJywgc3VmZml4KTtcbiAgfVxuICAvLyB2YXIoJHt2YWx1ZX0sJHtmYWxsYmFja30pXG4gIGxldCB2YWx1ZSA9IGlubmVyLnN1YnN0cmluZygwLCBjb21tYSkudHJpbSgpO1xuICBsZXQgZmFsbGJhY2sgPSBpbm5lci5zdWJzdHJpbmcoY29tbWEgKyAxKS50cmltKCk7XG4gIHJldHVybiBjYWxsYmFjayhwcmVmaXgsIHZhbHVlLCBmYWxsYmFjaywgc3VmZml4KTtcbn1cblxuLyoqXG4gKiBAcGFyYW0ge0VsZW1lbnR9IGVsZW1lbnRcbiAqIEBwYXJhbSB7c3RyaW5nfSB2YWx1ZVxuICovXG5leHBvcnQgZnVuY3Rpb24gc2V0RWxlbWVudENsYXNzUmF3KGVsZW1lbnQsIHZhbHVlKSB7XG4gIC8vIHVzZSBuYXRpdmUgc2V0QXR0cmlidXRlIHByb3ZpZGVkIGJ5IFNoYWR5RE9NIHdoZW4gc2V0QXR0cmlidXRlIGlzIHBhdGNoZWRcbiAgaWYgKG5hdGl2ZVNoYWRvdykge1xuICAgIGVsZW1lbnQuc2V0QXR0cmlidXRlKCdjbGFzcycsIHZhbHVlKTtcbiAgfSBlbHNlIHtcbiAgICB3aW5kb3dbJ1NoYWR5RE9NJ11bJ25hdGl2ZU1ldGhvZHMnXVsnc2V0QXR0cmlidXRlJ10uY2FsbChlbGVtZW50LCAnY2xhc3MnLCB2YWx1ZSk7XG4gIH1cbn1cblxuLyoqXG4gKiBAdHlwZSB7ZnVuY3Rpb24oKik6Kn1cbiAqL1xuZXhwb3J0IGNvbnN0IHdyYXAgPSB3aW5kb3dbJ1NoYWR5RE9NJ10gJiYgd2luZG93WydTaGFkeURPTSddWyd3cmFwJ10gfHwgKChub2RlKSA9PiBub2RlKTtcblxuLyoqXG4gKiBAcGFyYW0ge0VsZW1lbnQgfCB7aXM6IHN0cmluZywgZXh0ZW5kczogc3RyaW5nfX0gZWxlbWVudFxuICogQHJldHVybiB7e2lzOiBzdHJpbmcsIHR5cGVFeHRlbnNpb246IHN0cmluZ319XG4gKi9cbmV4cG9ydCBmdW5jdGlvbiBnZXRJc0V4dGVuZHMoZWxlbWVudCkge1xuICBsZXQgbG9jYWxOYW1lID0gZWxlbWVudFsnbG9jYWxOYW1lJ107XG4gIGxldCBpcyA9ICcnLCB0eXBlRXh0ZW5zaW9uID0gJyc7XG4gIC8qXG4gIE5PVEU6IHRlY2huaWNhbGx5LCB0aGlzIGNhbiBiZSB3cm9uZyBmb3IgY2VydGFpbiBzdmcgZWxlbWVudHNcbiAgd2l0aCBgLWAgaW4gdGhlIG5hbWUgbGlrZSBgPGZvbnQtZmFjZT5gXG4gICovXG4gIGlmIChsb2NhbE5hbWUpIHtcbiAgICBpZiAobG9jYWxOYW1lLmluZGV4T2YoJy0nKSA+IC0xKSB7XG4gICAgICBpcyA9IGxvY2FsTmFtZTtcbiAgICB9IGVsc2Uge1xuICAgICAgdHlwZUV4dGVuc2lvbiA9IGxvY2FsTmFtZTtcbiAgICAgIGlzID0gKGVsZW1lbnQuZ2V0QXR0cmlidXRlICYmIGVsZW1lbnQuZ2V0QXR0cmlidXRlKCdpcycpKSB8fCAnJztcbiAgICB9XG4gIH0gZWxzZSB7XG4gICAgaXMgPSAvKiogQHR5cGUgez99ICovKGVsZW1lbnQpLmlzO1xuICAgIHR5cGVFeHRlbnNpb24gPSAvKiogQHR5cGUgez99ICovKGVsZW1lbnQpLmV4dGVuZHM7XG4gIH1cbiAgcmV0dXJuIHtpcywgdHlwZUV4dGVuc2lvbn07XG59XG5cbi8qKlxuICogQHBhcmFtIHtFbGVtZW50fERvY3VtZW50RnJhZ21lbnR9IGVsZW1lbnRcbiAqIEByZXR1cm4ge3N0cmluZ31cbiAqL1xuZXhwb3J0IGZ1bmN0aW9uIGdhdGhlclN0eWxlVGV4dChlbGVtZW50KSB7XG4gIC8qKiBAdHlwZSB7IUFycmF5PHN0cmluZz59ICovXG4gIGNvbnN0IHN0eWxlVGV4dFBhcnRzID0gW107XG4gIGNvbnN0IHN0eWxlcyA9IC8qKiBAdHlwZSB7IU5vZGVMaXN0PCFIVE1MU3R5bGVFbGVtZW50Pn0gKi8oZWxlbWVudC5xdWVyeVNlbGVjdG9yQWxsKCdzdHlsZScpKTtcbiAgZm9yIChsZXQgaSA9IDA7IGkgPCBzdHlsZXMubGVuZ3RoOyBpKyspIHtcbiAgICBjb25zdCBzdHlsZSA9IHN0eWxlc1tpXTtcbiAgICBpZiAoaXNVbnNjb3BlZFN0eWxlKHN0eWxlKSkge1xuICAgICAgaWYgKCFuYXRpdmVTaGFkb3cpIHtcbiAgICAgICAgcHJvY2Vzc1Vuc2NvcGVkU3R5bGUoc3R5bGUpO1xuICAgICAgICBzdHlsZS5wYXJlbnROb2RlLnJlbW92ZUNoaWxkKHN0eWxlKTtcbiAgICAgIH1cbiAgICB9IGVsc2Uge1xuICAgICAgc3R5bGVUZXh0UGFydHMucHVzaChzdHlsZS50ZXh0Q29udGVudCk7XG4gICAgICBzdHlsZS5wYXJlbnROb2RlLnJlbW92ZUNoaWxkKHN0eWxlKTtcbiAgICB9XG4gIH1cbiAgcmV0dXJuIHN0eWxlVGV4dFBhcnRzLmpvaW4oJycpLnRyaW0oKTtcbn1cblxuLyoqXG4gKiBTcGxpdCBhIHNlbGVjdG9yIHNlcGFyYXRlZCBieSBjb21tYXMgaW50byBhbiBhcnJheSBpbiBhIHNtYXJ0IHdheVxuICogQHBhcmFtIHtzdHJpbmd9IHNlbGVjdG9yXG4gKiBAcmV0dXJuIHshQXJyYXk8c3RyaW5nPn1cbiAqL1xuZXhwb3J0IGZ1bmN0aW9uIHNwbGl0U2VsZWN0b3JMaXN0KHNlbGVjdG9yKSB7XG4gIGNvbnN0IHBhcnRzID0gW107XG4gIGxldCBwYXJ0ID0gJyc7XG4gIGZvciAobGV0IGkgPSAwOyBpID49IDAgJiYgaSA8IHNlbGVjdG9yLmxlbmd0aDsgaSsrKSB7XG4gICAgLy8gQSBzZWxlY3RvciB3aXRoIHBhcmVudGhlc2VzIHdpbGwgYmUgb25lIGNvbXBsZXRlIHBhcnRcbiAgICBpZiAoc2VsZWN0b3JbaV0gPT09ICcoJykge1xuICAgICAgLy8gZmluZCB0aGUgbWF0Y2hpbmcgcGFyZW5cbiAgICAgIGNvbnN0IGVuZCA9IGZpbmRNYXRjaGluZ1BhcmVuKHNlbGVjdG9yLCBpKTtcbiAgICAgIC8vIHB1c2ggdGhlIHBhcmVuIGJsb2NrIGludG8gdGhlIHBhcnRcbiAgICAgIHBhcnQgKz0gc2VsZWN0b3Iuc2xpY2UoaSwgZW5kICsgMSk7XG4gICAgICAvLyBtb3ZlIHRoZSBpbmRleCB0byBhZnRlciB0aGUgcGFyZW4gYmxvY2tcbiAgICAgIGkgPSBlbmQ7XG4gICAgfSBlbHNlIGlmIChzZWxlY3RvcltpXSA9PT0gJywnKSB7XG4gICAgICBwYXJ0cy5wdXNoKHBhcnQpO1xuICAgICAgcGFydCA9ICcnO1xuICAgIH0gZWxzZSB7XG4gICAgICBwYXJ0ICs9IHNlbGVjdG9yW2ldO1xuICAgIH1cbiAgfVxuICAvLyBjYXRjaCBhbnkgcGllY2VzIGFmdGVyIHRoZSBsYXN0IGNvbW1hXG4gIGlmIChwYXJ0KSB7XG4gICAgcGFydHMucHVzaChwYXJ0KTtcbiAgfVxuICByZXR1cm4gcGFydHM7XG59XG5cbmNvbnN0IENTU19CVUlMRF9BVFRSID0gJ2Nzcy1idWlsZCc7XG5cbi8qKlxuICogUmV0dXJuIHRoZSBwb2x5bWVyLWNzcy1idWlsZCBcImJ1aWxkIHR5cGVcIiBhcHBsaWVkIHRvIHRoaXMgZWxlbWVudFxuICpcbiAqIEBwYXJhbSB7IUhUTUxFbGVtZW50fSBlbGVtZW50XG4gKiBAcmV0dXJuIHtzdHJpbmd9IENhbiBiZSBcIlwiLCBcInNoYWR5XCIsIG9yIFwic2hhZG93XCJcbiAqL1xuZXhwb3J0IGZ1bmN0aW9uIGdldENzc0J1aWxkKGVsZW1lbnQpIHtcbiAgaWYgKGNzc0J1aWxkICE9PSB1bmRlZmluZWQpIHtcbiAgICByZXR1cm4gLyoqIEB0eXBlIHtzdHJpbmd9ICovKGNzc0J1aWxkKTtcbiAgfVxuICBpZiAoZWxlbWVudC5fX2Nzc0J1aWxkID09PSB1bmRlZmluZWQpIHtcbiAgICAvLyB0cnkgYXR0cmlidXRlIGZpcnN0LCBhcyBpdCBpcyB0aGUgY29tbW9uIGNhc2VcbiAgICBjb25zdCBhdHRyVmFsdWUgPSBlbGVtZW50LmdldEF0dHJpYnV0ZShDU1NfQlVJTERfQVRUUik7XG4gICAgaWYgKGF0dHJWYWx1ZSkge1xuICAgICAgZWxlbWVudC5fX2Nzc0J1aWxkID0gYXR0clZhbHVlO1xuICAgIH0gZWxzZSB7XG4gICAgICBjb25zdCBidWlsZENvbW1lbnQgPSBnZXRCdWlsZENvbW1lbnQoZWxlbWVudCk7XG4gICAgICBpZiAoYnVpbGRDb21tZW50ICE9PSAnJykge1xuICAgICAgICAvLyByZW1vdmUgYnVpbGQgY29tbWVudCBzbyBpdCBpcyBub3QgbmVlZGxlc3NseSBjb3BpZWQgaW50byBldmVyeSBlbGVtZW50IGluc3RhbmNlXG4gICAgICAgIHJlbW92ZUJ1aWxkQ29tbWVudChlbGVtZW50KTtcbiAgICAgIH1cbiAgICAgIGVsZW1lbnQuX19jc3NCdWlsZCA9IGJ1aWxkQ29tbWVudDtcbiAgICB9XG4gIH1cbiAgcmV0dXJuIGVsZW1lbnQuX19jc3NCdWlsZCB8fCAnJztcbn1cblxuLyoqXG4gKiBDaGVjayBpZiB0aGUgZ2l2ZW4gZWxlbWVudCwgZWl0aGVyIGEgPHRlbXBsYXRlPiBvciA8c3R5bGU+LCBoYXMgYmVlbiBwcm9jZXNzZWRcbiAqIGJ5IHBvbHltZXItY3NzLWJ1aWxkLlxuICpcbiAqIElmIHNvLCB0aGVuIHdlIGNhbiBtYWtlIGEgbnVtYmVyIG9mIG9wdGltaXphdGlvbnM6XG4gKiAtIHBvbHltZXItY3NzLWJ1aWxkIHdpbGwgZGVjb21wb3NlIG1peGlucyBpbnRvIGluZGl2aWR1YWwgQ1NTIEN1c3RvbSBQcm9wZXJ0aWVzLFxuICogc28gdGhlIEFwcGx5U2hpbSBjYW4gYmUgc2tpcHBlZCBlbnRpcmVseS5cbiAqIC0gVW5kZXIgbmF0aXZlIFNoYWRvd0RPTSwgdGhlIHN0eWxlIHRleHQgY2FuIGp1c3QgYmUgY29waWVkIGludG8gZWFjaCBpbnN0YW5jZVxuICogd2l0aG91dCBtb2RpZmljYXRpb25cbiAqIC0gSWYgdGhlIGJ1aWxkIGlzIFwic2hhZHlcIiBhbmQgU2hhZHlET00gaXMgaW4gdXNlLCB0aGUgc3R5bGluZyBkb2VzIG5vdCBuZWVkXG4gKiBzY29waW5nIGJleW9uZCB0aGUgc2hpbW1pbmcgb2YgQ1NTIEN1c3RvbSBQcm9wZXJ0aWVzXG4gKlxuICogQHBhcmFtIHshSFRNTEVsZW1lbnR9IGVsZW1lbnRcbiAqIEByZXR1cm4ge2Jvb2xlYW59XG4gKi9cbmV4cG9ydCBmdW5jdGlvbiBlbGVtZW50SGFzQnVpbHRDc3MoZWxlbWVudCkge1xuICByZXR1cm4gZ2V0Q3NzQnVpbGQoZWxlbWVudCkgIT09ICcnO1xufVxuXG4vKipcbiAqIEZvciB0ZW1wbGF0ZXMgbWFkZSB3aXRoIHRhZ2dlZCB0ZW1wbGF0ZSBsaXRlcmFscywgcG9seW1lci1jc3MtYnVpbGQgd2lsbFxuICogaW5zZXJ0IGEgY29tbWVudCBvZiB0aGUgZm9ybSBgPCEtLWNzcy1idWlsZDpzaGFkb3ctLT5gXG4gKlxuICogQHBhcmFtIHshSFRNTEVsZW1lbnR9IGVsZW1lbnRcbiAqIEByZXR1cm4ge3N0cmluZ31cbiAqL1xuZXhwb3J0IGZ1bmN0aW9uIGdldEJ1aWxkQ29tbWVudChlbGVtZW50KSB7XG4gIGNvbnN0IGJ1aWxkQ29tbWVudCA9IGVsZW1lbnQubG9jYWxOYW1lID09PSAndGVtcGxhdGUnID9cbiAgICAgIC8qKiBAdHlwZSB7IUhUTUxUZW1wbGF0ZUVsZW1lbnR9ICovIChlbGVtZW50KS5jb250ZW50LmZpcnN0Q2hpbGQgOlxuICAgICAgZWxlbWVudC5maXJzdENoaWxkO1xuICBpZiAoYnVpbGRDb21tZW50IGluc3RhbmNlb2YgQ29tbWVudCkge1xuICAgIGNvbnN0IGNvbW1lbnRQYXJ0cyA9IGJ1aWxkQ29tbWVudC50ZXh0Q29udGVudC50cmltKCkuc3BsaXQoJzonKTtcbiAgICBpZiAoY29tbWVudFBhcnRzWzBdID09PSBDU1NfQlVJTERfQVRUUikge1xuICAgICAgcmV0dXJuIGNvbW1lbnRQYXJ0c1sxXTtcbiAgICB9XG4gIH1cbiAgcmV0dXJuICcnO1xufVxuXG4vKipcbiAqIENoZWNrIGlmIHRoZSBjc3MgYnVpbGQgc3RhdHVzIGlzIG9wdGltYWwsIGFuZCBkbyBubyB1bm5lZWRlZCB3b3JrLlxuICpcbiAqIEBwYXJhbSB7c3RyaW5nPX0gY3NzQnVpbGQgQ1NTIGJ1aWxkIHN0YXR1c1xuICogQHJldHVybiB7Ym9vbGVhbn0gY3NzIGJ1aWxkIGlzIG9wdGltYWwgb3Igbm90XG4gKi9cbmV4cG9ydCBmdW5jdGlvbiBpc09wdGltYWxDc3NCdWlsZChjc3NCdWlsZCA9ICcnKSB7XG4gIC8vIENTUyBjdXN0b20gcHJvcGVydHkgc2hpbSBhbHdheXMgcmVxdWlyZXMgd29ya1xuICBpZiAoY3NzQnVpbGQgPT09ICcnIHx8ICFuYXRpdmVDc3NWYXJpYWJsZXMpIHtcbiAgICByZXR1cm4gZmFsc2U7XG4gIH1cbiAgcmV0dXJuIG5hdGl2ZVNoYWRvdyA/IGNzc0J1aWxkID09PSAnc2hhZG93JyA6IGNzc0J1aWxkID09PSAnc2hhZHknO1xufVxuXG4vKipcbiAqIEBwYXJhbSB7IUhUTUxFbGVtZW50fSBlbGVtZW50XG4gKi9cbmZ1bmN0aW9uIHJlbW92ZUJ1aWxkQ29tbWVudChlbGVtZW50KSB7XG4gIGNvbnN0IGJ1aWxkQ29tbWVudCA9IGVsZW1lbnQubG9jYWxOYW1lID09PSAndGVtcGxhdGUnID9cbiAgICAgIC8qKiBAdHlwZSB7IUhUTUxUZW1wbGF0ZUVsZW1lbnR9ICovIChlbGVtZW50KS5jb250ZW50LmZpcnN0Q2hpbGQgOlxuICAgICAgZWxlbWVudC5maXJzdENoaWxkO1xuICBidWlsZENvbW1lbnQucGFyZW50Tm9kZS5yZW1vdmVDaGlsZChidWlsZENvbW1lbnQpO1xufVxuIiwiLyoqXG5AbGljZW5zZVxuQ29weXJpZ2h0IChjKSAyMDE3IFRoZSBQb2x5bWVyIFByb2plY3QgQXV0aG9ycy4gQWxsIHJpZ2h0cyByZXNlcnZlZC5cblRoaXMgY29kZSBtYXkgb25seSBiZSB1c2VkIHVuZGVyIHRoZSBCU0Qgc3R5bGUgbGljZW5zZSBmb3VuZCBhdCBodHRwOi8vcG9seW1lci5naXRodWIuaW8vTElDRU5TRS50eHRcblRoZSBjb21wbGV0ZSBzZXQgb2YgYXV0aG9ycyBtYXkgYmUgZm91bmQgYXQgaHR0cDovL3BvbHltZXIuZ2l0aHViLmlvL0FVVEhPUlMudHh0XG5UaGUgY29tcGxldGUgc2V0IG9mIGNvbnRyaWJ1dG9ycyBtYXkgYmUgZm91bmQgYXQgaHR0cDovL3BvbHltZXIuZ2l0aHViLmlvL0NPTlRSSUJVVE9SUy50eHRcbkNvZGUgZGlzdHJpYnV0ZWQgYnkgR29vZ2xlIGFzIHBhcnQgb2YgdGhlIHBvbHltZXIgcHJvamVjdCBpcyBhbHNvXG5zdWJqZWN0IHRvIGFuIGFkZGl0aW9uYWwgSVAgcmlnaHRzIGdyYW50IGZvdW5kIGF0IGh0dHA6Ly9wb2x5bWVyLmdpdGh1Yi5pby9QQVRFTlRTLnR4dFxuKi9cbi8qXG4gKiBUaGUgYXBwbHkgc2hpbSBzaW11bGF0ZXMgdGhlIGJlaGF2aW9yIG9mIGBAYXBwbHlgIHByb3Bvc2VkIGF0XG4gKiBodHRwczovL3RhYmF0a2lucy5naXRodWIuaW8vc3BlY3MvY3NzLWFwcGx5LXJ1bGUvLlxuICogVGhlIGFwcHJvYWNoIGlzIHRvIGNvbnZlcnQgYSBwcm9wZXJ0eSBsaWtlIHRoaXM6XG4gKlxuICogICAgLS1mb286IHtjb2xvcjogcmVkOyBiYWNrZ3JvdW5kOiBibHVlO31cbiAqXG4gKiB0byB0aGlzOlxuICpcbiAqICAgIC0tZm9vXy1fY29sb3I6IHJlZDtcbiAqICAgIC0tZm9vXy1fYmFja2dyb3VuZDogYmx1ZTtcbiAqXG4gKiBUaGVuIHdoZXJlIGBAYXBwbHkgLS1mb29gIGlzIHVzZWQsIHRoYXQgaXMgY29udmVydGVkIHRvOlxuICpcbiAqICAgIGNvbG9yOiB2YXIoLS1mb29fLV9jb2xvcik7XG4gKiAgICBiYWNrZ3JvdW5kOiB2YXIoLS1mb29fLV9iYWNrZ3JvdW5kKTtcbiAqXG4gKiBUaGlzIGFwcHJvYWNoIGdlbmVyYWxseSB3b3JrcyBidXQgdGhlcmUgYXJlIHNvbWUgaXNzdWVzIGFuZCBsaW1pdGF0aW9ucy5cbiAqIENvbnNpZGVyLCBmb3IgZXhhbXBsZSwgdGhhdCBzb21ld2hlcmUgKmJldHdlZW4qIHdoZXJlIGAtLWZvb2AgaXMgc2V0IGFuZCB1c2VkLFxuICogYW5vdGhlciBlbGVtZW50IHNldHMgaXQgdG86XG4gKlxuICogICAgLS1mb286IHsgYm9yZGVyOiAycHggc29saWQgcmVkOyB9XG4gKlxuICogV2UgbXVzdCBub3cgZW5zdXJlIHRoYXQgdGhlIGNvbG9yIGFuZCBiYWNrZ3JvdW5kIGZyb20gdGhlIHByZXZpb3VzIHNldHRpbmdcbiAqIGRvIG5vdCBhcHBseS4gVGhpcyBpcyBhY2NvbXBsaXNoZWQgYnkgY2hhbmdpbmcgdGhlIHByb3BlcnR5IHNldCB0byB0aGlzOlxuICpcbiAqICAgIC0tZm9vXy1fYm9yZGVyOiAycHggc29saWQgcmVkO1xuICogICAgLS1mb29fLV9jb2xvcjogaW5pdGlhbDtcbiAqICAgIC0tZm9vXy1fYmFja2dyb3VuZDogaW5pdGlhbDtcbiAqXG4gKiBUaGlzIHdvcmtzIGJ1dCBpbnRyb2R1Y2VzIG9uZSBuZXcgaXNzdWUuXG4gKiBDb25zaWRlciB0aGlzIHNldHVwIGF0IHRoZSBwb2ludCB3aGVyZSB0aGUgYEBhcHBseWAgaXMgdXNlZDpcbiAqXG4gKiAgICBiYWNrZ3JvdW5kOiBvcmFuZ2U7XG4gKiAgICBgQGFwcGx5YCAtLWZvbztcbiAqXG4gKiBJbiB0aGlzIGNhc2UgdGhlIGJhY2tncm91bmQgd2lsbCBiZSB1bnNldCAoaW5pdGlhbCkgcmF0aGVyIHRoYW4gdGhlIGRlc2lyZWRcbiAqIGBvcmFuZ2VgLiBXZSBhZGRyZXNzIHRoaXMgYnkgYWx0ZXJpbmcgdGhlIHByb3BlcnR5IHNldCB0byB1c2UgYSBmYWxsYmFja1xuICogdmFsdWUgbGlrZSB0aGlzOlxuICpcbiAqICAgIGNvbG9yOiB2YXIoLS1mb29fLV9jb2xvcik7XG4gKiAgICBiYWNrZ3JvdW5kOiB2YXIoLS1mb29fLV9iYWNrZ3JvdW5kLCBvcmFuZ2UpO1xuICogICAgYm9yZGVyOiB2YXIoLS1mb29fLV9ib3JkZXIpO1xuICpcbiAqIE5vdGUgdGhhdCB0aGUgZGVmYXVsdCBpcyByZXRhaW5lZCBpbiB0aGUgcHJvcGVydHkgc2V0IGFuZCB0aGUgYGJhY2tncm91bmRgIGlzXG4gKiB0aGUgZGVzaXJlZCBgb3JhbmdlYC4gVGhpcyBsZWFkcyB1cyB0byBhIGxpbWl0YXRpb24uXG4gKlxuICogTGltaXRhdGlvbiAxOlxuXG4gKiBPbmx5IHByb3BlcnRpZXMgaW4gdGhlIHJ1bGUgd2hlcmUgdGhlIGBAYXBwbHlgXG4gKiBpcyB1c2VkIGFyZSBjb25zaWRlcmVkIGFzIGRlZmF1bHQgdmFsdWVzLlxuICogSWYgYW5vdGhlciBydWxlIG1hdGNoZXMgdGhlIGVsZW1lbnQgYW5kIHNldHMgYGJhY2tncm91bmRgIHdpdGhcbiAqIGxlc3Mgc3BlY2lmaWNpdHkgdGhhbiB0aGUgcnVsZSBpbiB3aGljaCBgQGFwcGx5YCBhcHBlYXJzLFxuICogdGhlIGBiYWNrZ3JvdW5kYCB3aWxsIG5vdCBiZSBzZXQuXG4gKlxuICogTGltaXRhdGlvbiAyOlxuICpcbiAqIFdoZW4gdXNpbmcgUG9seW1lcidzIGB1cGRhdGVTdHlsZXNgIGFwaSwgbmV3IHByb3BlcnRpZXMgbWF5IG5vdCBiZSBzZXQgZm9yXG4gKiBgQGFwcGx5YCBwcm9wZXJ0aWVzLlxuXG4qL1xuXG4ndXNlIHN0cmljdCc7XG5cbmltcG9ydCB7Zm9yRWFjaFJ1bGUsIHByb2Nlc3NWYXJpYWJsZUFuZEZhbGxiYWNrLCBydWxlc0ZvclN0eWxlLCB0b0Nzc1RleHQsIGdhdGhlclN0eWxlVGV4dH0gZnJvbSAnLi9zdHlsZS11dGlsLmpzJztcbmltcG9ydCB7TUlYSU5fTUFUQ0gsIFZBUl9BU1NJR059IGZyb20gJy4vY29tbW9uLXJlZ2V4LmpzJztcbmltcG9ydCB7ZGV0ZWN0TWl4aW59IGZyb20gJy4vY29tbW9uLXV0aWxzLmpzJztcbmltcG9ydCB7U3R5bGVOb2RlfSBmcm9tICcuL2Nzcy1wYXJzZS5qcyc7IC8vIGVzbGludC1kaXNhYmxlLWxpbmUgbm8tdW51c2VkLXZhcnNcblxuY29uc3QgQVBQTFlfTkFNRV9DTEVBTiA9IC87XFxzKi9tO1xuY29uc3QgSU5JVElBTF9JTkhFUklUID0gL15cXHMqKGluaXRpYWwpfChpbmhlcml0KVxccyokLztcbmNvbnN0IElNUE9SVEFOVCA9IC9cXHMqIWltcG9ydGFudC87XG5cbi8vIHNlcGFyYXRvciB1c2VkIGJldHdlZW4gbWl4aW4tbmFtZSBhbmQgbWl4aW4tcHJvcGVydHktbmFtZSB3aGVuIHByb2R1Y2luZyBwcm9wZXJ0aWVzXG4vLyBOT1RFOiBwbGFpbiAnLScgbWF5IGNhdXNlIGNvbGxpc2lvbnMgaW4gdXNlciBzdHlsZXNcbmNvbnN0IE1JWElOX1ZBUl9TRVAgPSAnXy1fJztcblxuLyoqXG4gKiBAdHlwZWRlZiB7IU9iamVjdDxzdHJpbmcsIHN0cmluZz59XG4gKi9cbmxldCBQcm9wZXJ0eUVudHJ5OyAvLyBlc2xpbnQtZGlzYWJsZS1saW5lIG5vLXVudXNlZC12YXJzXG5cbi8qKlxuICogQHR5cGVkZWYgeyFPYmplY3Q8c3RyaW5nLCBib29sZWFuPn1cbiAqL1xubGV0IERlcGVuZGFudHNFbnRyeTsgLy8gZXNsaW50LWRpc2FibGUtbGluZSBuby11bnVzZWQtdmFyc1xuXG4vKiogQHR5cGVkZWYge3tcbiAqICAgIHByb3BlcnRpZXM6IFByb3BlcnR5RW50cnksXG4gKiAgICBkZXBlbmRhbnRzOiBEZXBlbmRhbnRzRW50cnlcbiAqIH19XG4gKi9cbmxldCBNaXhpbk1hcEVudHJ5OyAvLyBlc2xpbnQtZGlzYWJsZS1saW5lIG5vLXVudXNlZC12YXJzXG5cbi8vIG1hcCBvZiBtaXhpbiB0byBwcm9wZXJ0eSBuYW1lc1xuLy8gLS1mb286IHtib3JkZXI6IDJweH0gLT4ge3Byb3BlcnRpZXM6IHsoLS1mb28sIFsnYm9yZGVyJ10pfSwgZGVwZW5kYW50czogeydlbGVtZW50LW5hbWUnOiBwcm90b319XG5jbGFzcyBNaXhpbk1hcCB7XG4gIGNvbnN0cnVjdG9yKCkge1xuICAgIC8qKiBAdHlwZSB7IU9iamVjdDxzdHJpbmcsICFNaXhpbk1hcEVudHJ5Pn0gKi9cbiAgICB0aGlzLl9tYXAgPSB7fTtcbiAgfVxuICAvKipcbiAgICogQHBhcmFtIHtzdHJpbmd9IG5hbWVcbiAgICogQHBhcmFtIHshUHJvcGVydHlFbnRyeX0gcHJvcHNcbiAgICovXG4gIHNldChuYW1lLCBwcm9wcykge1xuICAgIG5hbWUgPSBuYW1lLnRyaW0oKTtcbiAgICB0aGlzLl9tYXBbbmFtZV0gPSB7XG4gICAgICBwcm9wZXJ0aWVzOiBwcm9wcyxcbiAgICAgIGRlcGVuZGFudHM6IHt9XG4gICAgfVxuICB9XG4gIC8qKlxuICAgKiBAcGFyYW0ge3N0cmluZ30gbmFtZVxuICAgKiBAcmV0dXJuIHtNaXhpbk1hcEVudHJ5fVxuICAgKi9cbiAgZ2V0KG5hbWUpIHtcbiAgICBuYW1lID0gbmFtZS50cmltKCk7XG4gICAgcmV0dXJuIHRoaXMuX21hcFtuYW1lXSB8fCBudWxsO1xuICB9XG59XG5cbi8qKlxuICogQ2FsbGJhY2sgZm9yIHdoZW4gYW4gZWxlbWVudCBpcyBtYXJrZWQgaW52YWxpZFxuICogQHR5cGUgez9mdW5jdGlvbihzdHJpbmcpfVxuICovXG5sZXQgaW52YWxpZENhbGxiYWNrID0gbnVsbDtcblxuLyoqIEB1bnJlc3RyaWN0ZWQgKi9cbmNsYXNzIEFwcGx5U2hpbSB7XG4gIGNvbnN0cnVjdG9yKCkge1xuICAgIC8qKiBAdHlwZSB7P3N0cmluZ30gKi9cbiAgICB0aGlzLl9jdXJyZW50RWxlbWVudCA9IG51bGw7XG4gICAgLyoqIEB0eXBlIHtIVE1MTWV0YUVsZW1lbnR9ICovXG4gICAgdGhpcy5fbWVhc3VyZUVsZW1lbnQgPSBudWxsO1xuICAgIHRoaXMuX21hcCA9IG5ldyBNaXhpbk1hcCgpO1xuICB9XG4gIC8qKlxuICAgKiByZXR1cm4gdHJ1ZSBpZiBgY3NzVGV4dGAgY29udGFpbnMgYSBtaXhpbiBkZWZpbml0aW9uIG9yIGNvbnN1bXB0aW9uXG4gICAqIEBwYXJhbSB7c3RyaW5nfSBjc3NUZXh0XG4gICAqIEByZXR1cm4ge2Jvb2xlYW59XG4gICAqL1xuICBkZXRlY3RNaXhpbihjc3NUZXh0KSB7XG4gICAgcmV0dXJuIGRldGVjdE1peGluKGNzc1RleHQpO1xuICB9XG5cbiAgLyoqXG4gICAqIEdhdGhlciBzdHlsZXMgaW50byBvbmUgc3R5bGUgZm9yIGVhc2llciBwcm9jZXNzaW5nXG4gICAqIEBwYXJhbSB7IUhUTUxUZW1wbGF0ZUVsZW1lbnR9IHRlbXBsYXRlXG4gICAqIEByZXR1cm4ge0hUTUxTdHlsZUVsZW1lbnR9XG4gICAqL1xuICBnYXRoZXJTdHlsZXModGVtcGxhdGUpIHtcbiAgICBjb25zdCBzdHlsZVRleHQgPSBnYXRoZXJTdHlsZVRleHQodGVtcGxhdGUuY29udGVudCk7XG4gICAgaWYgKHN0eWxlVGV4dCkge1xuICAgICAgY29uc3Qgc3R5bGUgPSAvKiogQHR5cGUgeyFIVE1MU3R5bGVFbGVtZW50fSAqLyhkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdzdHlsZScpKTtcbiAgICAgIHN0eWxlLnRleHRDb250ZW50ID0gc3R5bGVUZXh0O1xuICAgICAgdGVtcGxhdGUuY29udGVudC5pbnNlcnRCZWZvcmUoc3R5bGUsIHRlbXBsYXRlLmNvbnRlbnQuZmlyc3RDaGlsZCk7XG4gICAgICByZXR1cm4gc3R5bGU7XG4gICAgfVxuICAgIHJldHVybiBudWxsO1xuICB9XG4gIC8qKlxuICAgKiBAcGFyYW0geyFIVE1MVGVtcGxhdGVFbGVtZW50fSB0ZW1wbGF0ZVxuICAgKiBAcGFyYW0ge3N0cmluZ30gZWxlbWVudE5hbWVcbiAgICogQHJldHVybiB7U3R5bGVOb2RlfVxuICAgKi9cbiAgdHJhbnNmb3JtVGVtcGxhdGUodGVtcGxhdGUsIGVsZW1lbnROYW1lKSB7XG4gICAgaWYgKHRlbXBsYXRlLl9nYXRoZXJlZFN0eWxlID09PSB1bmRlZmluZWQpIHtcbiAgICAgIHRlbXBsYXRlLl9nYXRoZXJlZFN0eWxlID0gdGhpcy5nYXRoZXJTdHlsZXModGVtcGxhdGUpO1xuICAgIH1cbiAgICAvKiogQHR5cGUge0hUTUxTdHlsZUVsZW1lbnR9ICovXG4gICAgY29uc3Qgc3R5bGUgPSB0ZW1wbGF0ZS5fZ2F0aGVyZWRTdHlsZTtcbiAgICByZXR1cm4gc3R5bGUgPyB0aGlzLnRyYW5zZm9ybVN0eWxlKHN0eWxlLCBlbGVtZW50TmFtZSkgOiBudWxsO1xuICB9XG4gIC8qKlxuICAgKiBAcGFyYW0geyFIVE1MU3R5bGVFbGVtZW50fSBzdHlsZVxuICAgKiBAcGFyYW0ge3N0cmluZ30gZWxlbWVudE5hbWVcbiAgICogQHJldHVybiB7U3R5bGVOb2RlfVxuICAgKi9cbiAgdHJhbnNmb3JtU3R5bGUoc3R5bGUsIGVsZW1lbnROYW1lID0gJycpIHtcbiAgICBsZXQgYXN0ID0gcnVsZXNGb3JTdHlsZShzdHlsZSk7XG4gICAgdGhpcy50cmFuc2Zvcm1SdWxlcyhhc3QsIGVsZW1lbnROYW1lKTtcbiAgICBzdHlsZS50ZXh0Q29udGVudCA9IHRvQ3NzVGV4dChhc3QpO1xuICAgIHJldHVybiBhc3Q7XG4gIH1cbiAgLyoqXG4gICAqIEBwYXJhbSB7IUhUTUxTdHlsZUVsZW1lbnR9IHN0eWxlXG4gICAqIEByZXR1cm4ge1N0eWxlTm9kZX1cbiAgICovXG4gIHRyYW5zZm9ybUN1c3RvbVN0eWxlKHN0eWxlKSB7XG4gICAgbGV0IGFzdCA9IHJ1bGVzRm9yU3R5bGUoc3R5bGUpO1xuICAgIGZvckVhY2hSdWxlKGFzdCwgKHJ1bGUpID0+IHtcbiAgICAgIGlmIChydWxlWydzZWxlY3RvciddID09PSAnOnJvb3QnKSB7XG4gICAgICAgIHJ1bGVbJ3NlbGVjdG9yJ10gPSAnaHRtbCc7XG4gICAgICB9XG4gICAgICB0aGlzLnRyYW5zZm9ybVJ1bGUocnVsZSk7XG4gICAgfSlcbiAgICBzdHlsZS50ZXh0Q29udGVudCA9IHRvQ3NzVGV4dChhc3QpO1xuICAgIHJldHVybiBhc3Q7XG4gIH1cbiAgLyoqXG4gICAqIEBwYXJhbSB7U3R5bGVOb2RlfSBydWxlc1xuICAgKiBAcGFyYW0ge3N0cmluZ30gZWxlbWVudE5hbWVcbiAgICovXG4gIHRyYW5zZm9ybVJ1bGVzKHJ1bGVzLCBlbGVtZW50TmFtZSkge1xuICAgIHRoaXMuX2N1cnJlbnRFbGVtZW50ID0gZWxlbWVudE5hbWU7XG4gICAgZm9yRWFjaFJ1bGUocnVsZXMsIChyKSA9PiB7XG4gICAgICB0aGlzLnRyYW5zZm9ybVJ1bGUocik7XG4gICAgfSk7XG4gICAgdGhpcy5fY3VycmVudEVsZW1lbnQgPSBudWxsO1xuICB9XG4gIC8qKlxuICAgKiBAcGFyYW0geyFTdHlsZU5vZGV9IHJ1bGVcbiAgICovXG4gIHRyYW5zZm9ybVJ1bGUocnVsZSkge1xuICAgIHJ1bGVbJ2Nzc1RleHQnXSA9IHRoaXMudHJhbnNmb3JtQ3NzVGV4dChydWxlWydwYXJzZWRDc3NUZXh0J10sIHJ1bGUpO1xuICAgIC8vIDpyb290IHdhcyBvbmx5IHVzZWQgZm9yIHZhcmlhYmxlIGFzc2lnbm1lbnQgaW4gcHJvcGVydHkgc2hpbSxcbiAgICAvLyBidXQgZ2VuZXJhdGVzIGludmFsaWQgc2VsZWN0b3JzIHdpdGggcmVhbCBwcm9wZXJ0aWVzLlxuICAgIC8vIHJlcGxhY2Ugd2l0aCBgOmhvc3QgPiAqYCwgd2hpY2ggc2VydmVzIHRoZSBzYW1lIGVmZmVjdFxuICAgIGlmIChydWxlWydzZWxlY3RvciddID09PSAnOnJvb3QnKSB7XG4gICAgICBydWxlWydzZWxlY3RvciddID0gJzpob3N0ID4gKic7XG4gICAgfVxuICB9XG4gIC8qKlxuICAgKiBAcGFyYW0ge3N0cmluZ30gY3NzVGV4dFxuICAgKiBAcGFyYW0geyFTdHlsZU5vZGV9IHJ1bGVcbiAgICogQHJldHVybiB7c3RyaW5nfVxuICAgKi9cbiAgdHJhbnNmb3JtQ3NzVGV4dChjc3NUZXh0LCBydWxlKSB7XG4gICAgLy8gcHJvZHVjZSB2YXJpYWJsZXNcbiAgICBjc3NUZXh0ID0gY3NzVGV4dC5yZXBsYWNlKFZBUl9BU1NJR04sIChtYXRjaFRleHQsIHByb3BlcnR5TmFtZSwgdmFsdWVQcm9wZXJ0eSwgdmFsdWVNaXhpbikgPT5cbiAgICAgIHRoaXMuX3Byb2R1Y2VDc3NQcm9wZXJ0aWVzKG1hdGNoVGV4dCwgcHJvcGVydHlOYW1lLCB2YWx1ZVByb3BlcnR5LCB2YWx1ZU1peGluLCBydWxlKSk7XG4gICAgLy8gY29uc3VtZSBtaXhpbnNcbiAgICByZXR1cm4gdGhpcy5fY29uc3VtZUNzc1Byb3BlcnRpZXMoY3NzVGV4dCwgcnVsZSk7XG4gIH1cbiAgLyoqXG4gICAqIEBwYXJhbSB7c3RyaW5nfSBwcm9wZXJ0eVxuICAgKiBAcmV0dXJuIHtzdHJpbmd9XG4gICAqL1xuICBfZ2V0SW5pdGlhbFZhbHVlRm9yUHJvcGVydHkocHJvcGVydHkpIHtcbiAgICBpZiAoIXRoaXMuX21lYXN1cmVFbGVtZW50KSB7XG4gICAgICB0aGlzLl9tZWFzdXJlRWxlbWVudCA9IC8qKiBAdHlwZSB7SFRNTE1ldGFFbGVtZW50fSAqLyhkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdtZXRhJykpO1xuICAgICAgdGhpcy5fbWVhc3VyZUVsZW1lbnQuc2V0QXR0cmlidXRlKCdhcHBseS1zaGltLW1lYXN1cmUnLCAnJyk7XG4gICAgICB0aGlzLl9tZWFzdXJlRWxlbWVudC5zdHlsZS5hbGwgPSAnaW5pdGlhbCc7XG4gICAgICBkb2N1bWVudC5oZWFkLmFwcGVuZENoaWxkKHRoaXMuX21lYXN1cmVFbGVtZW50KTtcbiAgICB9XG4gICAgcmV0dXJuIHdpbmRvdy5nZXRDb21wdXRlZFN0eWxlKHRoaXMuX21lYXN1cmVFbGVtZW50KS5nZXRQcm9wZXJ0eVZhbHVlKHByb3BlcnR5KTtcbiAgfVxuICAvKipcbiAgICogV2FsayBvdmVyIGFsbCBydWxlcyBiZWZvcmUgdGhpcyBydWxlIHRvIGZpbmQgZmFsbGJhY2tzIGZvciBtaXhpbnNcbiAgICpcbiAgICogQHBhcmFtIHshU3R5bGVOb2RlfSBzdGFydFJ1bGVcbiAgICogQHJldHVybiB7IU9iamVjdH1cbiAgICovXG4gIF9mYWxsYmFja3NGcm9tUHJldmlvdXNSdWxlcyhzdGFydFJ1bGUpIHtcbiAgICAvLyBmaW5kIHRoZSBcInRvcFwiIHJ1bGVcbiAgICBsZXQgdG9wUnVsZSA9IHN0YXJ0UnVsZTtcbiAgICB3aGlsZSAodG9wUnVsZVsncGFyZW50J10pIHtcbiAgICAgIHRvcFJ1bGUgPSB0b3BSdWxlWydwYXJlbnQnXTtcbiAgICB9XG4gICAgY29uc3QgZmFsbGJhY2tzID0ge307XG4gICAgbGV0IHNlZW5TdGFydFJ1bGUgPSBmYWxzZTtcbiAgICBmb3JFYWNoUnVsZSh0b3BSdWxlLCAocikgPT4ge1xuICAgICAgLy8gc3RvcCB3aGVuIHdlIGhpdCB0aGUgaW5wdXQgcnVsZVxuICAgICAgc2VlblN0YXJ0UnVsZSA9IHNlZW5TdGFydFJ1bGUgfHwgciA9PT0gc3RhcnRSdWxlO1xuICAgICAgaWYgKHNlZW5TdGFydFJ1bGUpIHtcbiAgICAgICAgcmV0dXJuO1xuICAgICAgfVxuICAgICAgLy8gTk9URTogT25seSBtYXRjaGluZyBzZWxlY3RvcnMgYXJlIFwic2FmZVwiIGZvciB0aGlzIGZhbGxiYWNrIHByb2Nlc3NpbmdcbiAgICAgIC8vIEl0IHdvdWxkIGJlIHByb2hpYml0aXZlIHRvIHJ1biBgbWF0Y2hlc1NlbGVjdG9yKClgIG9uIGVhY2ggc2VsZWN0b3IsXG4gICAgICAvLyBzbyB3ZSBjaGVhdCBhbmQgb25seSBjaGVjayBpZiB0aGUgc2FtZSBzZWxlY3RvciBzdHJpbmcgaXMgdXNlZCwgd2hpY2hcbiAgICAgIC8vIGd1YXJhbnRlZXMgdGhpbmdzIGxpa2Ugc3BlY2lmaWNpdHkgbWF0Y2hpbmdcbiAgICAgIGlmIChyWydzZWxlY3RvciddID09PSBzdGFydFJ1bGVbJ3NlbGVjdG9yJ10pIHtcbiAgICAgICAgT2JqZWN0LmFzc2lnbihmYWxsYmFja3MsIHRoaXMuX2Nzc1RleHRUb01hcChyWydwYXJzZWRDc3NUZXh0J10pKTtcbiAgICAgIH1cbiAgICB9KTtcbiAgICByZXR1cm4gZmFsbGJhY2tzO1xuICB9XG4gIC8qKlxuICAgKiByZXBsYWNlIG1peGluIGNvbnN1bXB0aW9uIHdpdGggdmFyaWFibGUgY29uc3VtcHRpb25cbiAgICogQHBhcmFtIHtzdHJpbmd9IHRleHRcbiAgICogQHBhcmFtIHshU3R5bGVOb2RlPX0gcnVsZVxuICAgKiBAcmV0dXJuIHtzdHJpbmd9XG4gICAqL1xuICBfY29uc3VtZUNzc1Byb3BlcnRpZXModGV4dCwgcnVsZSkge1xuICAgIC8qKiBAdHlwZSB7QXJyYXl9ICovXG4gICAgbGV0IG0gPSBudWxsO1xuICAgIC8vIGxvb3Agb3ZlciB0ZXh0IHVudGlsIGFsbCBtaXhpbnMgd2l0aCBkZWZpbnRpb25zIGhhdmUgYmVlbiBhcHBsaWVkXG4gICAgd2hpbGUoKG0gPSBNSVhJTl9NQVRDSC5leGVjKHRleHQpKSkge1xuICAgICAgbGV0IG1hdGNoVGV4dCA9IG1bMF07XG4gICAgICBsZXQgbWl4aW5OYW1lID0gbVsxXTtcbiAgICAgIGxldCBpZHggPSBtLmluZGV4O1xuICAgICAgLy8gY29sbGVjdCBwcm9wZXJ0aWVzIGJlZm9yZSBhcHBseSB0byBiZSBcImRlZmF1bHRzXCIgaWYgbWl4aW4gbWlnaHQgb3ZlcnJpZGUgdGhlbVxuICAgICAgLy8gbWF0Y2ggaW5jbHVkZXMgYSBcInByZWZpeFwiLCBzbyBmaW5kIHRoZSBzdGFydCBhbmQgZW5kIHBvc2l0aW9ucyBvZiBAYXBwbHlcbiAgICAgIGxldCBhcHBseVBvcyA9IGlkeCArIG1hdGNoVGV4dC5pbmRleE9mKCdAYXBwbHknKTtcbiAgICAgIGxldCBhZnRlckFwcGx5UG9zID0gaWR4ICsgbWF0Y2hUZXh0Lmxlbmd0aDtcbiAgICAgIC8vIGZpbmQgcHJvcHMgZGVmaW5lZCBiZWZvcmUgdGhpcyBAYXBwbHlcbiAgICAgIGxldCB0ZXh0QmVmb3JlQXBwbHkgPSB0ZXh0LnNsaWNlKDAsIGFwcGx5UG9zKTtcbiAgICAgIGxldCB0ZXh0QWZ0ZXJBcHBseSA9IHRleHQuc2xpY2UoYWZ0ZXJBcHBseVBvcyk7XG4gICAgICBsZXQgZGVmYXVsdHMgPSBydWxlID8gdGhpcy5fZmFsbGJhY2tzRnJvbVByZXZpb3VzUnVsZXMocnVsZSkgOiB7fTtcbiAgICAgIE9iamVjdC5hc3NpZ24oZGVmYXVsdHMsIHRoaXMuX2Nzc1RleHRUb01hcCh0ZXh0QmVmb3JlQXBwbHkpKTtcbiAgICAgIGxldCByZXBsYWNlbWVudCA9IHRoaXMuX2F0QXBwbHlUb0Nzc1Byb3BlcnRpZXMobWl4aW5OYW1lLCBkZWZhdWx0cyk7XG4gICAgICAvLyB1c2UgcmVnZXggbWF0Y2ggcG9zaXRpb24gdG8gcmVwbGFjZSBtaXhpbiwga2VlcCBsaW5lYXIgcHJvY2Vzc2luZyB0aW1lXG4gICAgICB0ZXh0ID0gYCR7dGV4dEJlZm9yZUFwcGx5fSR7cmVwbGFjZW1lbnR9JHt0ZXh0QWZ0ZXJBcHBseX1gO1xuICAgICAgLy8gbW92ZSByZWdleCBzZWFyY2ggdG8gX2FmdGVyXyByZXBsYWNlbWVudFxuICAgICAgTUlYSU5fTUFUQ0gubGFzdEluZGV4ID0gaWR4ICsgcmVwbGFjZW1lbnQubGVuZ3RoO1xuICAgIH1cbiAgICByZXR1cm4gdGV4dDtcbiAgfVxuICAvKipcbiAgICogcHJvZHVjZSB2YXJpYWJsZSBjb25zdW1wdGlvbiBhdCB0aGUgc2l0ZSBvZiBtaXhpbiBjb25zdW1wdGlvblxuICAgKiBgQGFwcGx5YCAtLWZvbzsgLT4gZm9yIGFsbCBwcm9wcyAoJHtwcm9wbmFtZX06IHZhcigtLWZvb18tXyR7cHJvcG5hbWV9LCAke2ZhbGxiYWNrW3Byb3BuYW1lXX19KSlcbiAgICogRXhhbXBsZTpcbiAgICogIGJvcmRlcjogdmFyKC0tZm9vXy1fYm9yZGVyKTsgcGFkZGluZzogdmFyKC0tZm9vXy1fcGFkZGluZywgMnB4KVxuICAgKlxuICAgKiBAcGFyYW0ge3N0cmluZ30gbWl4aW5OYW1lXG4gICAqIEBwYXJhbSB7T2JqZWN0fSBmYWxsYmFja3NcbiAgICogQHJldHVybiB7c3RyaW5nfVxuICAgKi9cbiAgX2F0QXBwbHlUb0Nzc1Byb3BlcnRpZXMobWl4aW5OYW1lLCBmYWxsYmFja3MpIHtcbiAgICBtaXhpbk5hbWUgPSBtaXhpbk5hbWUucmVwbGFjZShBUFBMWV9OQU1FX0NMRUFOLCAnJyk7XG4gICAgbGV0IHZhcnMgPSBbXTtcbiAgICBsZXQgbWl4aW5FbnRyeSA9IHRoaXMuX21hcC5nZXQobWl4aW5OYW1lKTtcbiAgICAvLyBpZiB3ZSBkZXBlbmQgb24gYSBtaXhpbiBiZWZvcmUgaXQgaXMgY3JlYXRlZFxuICAgIC8vIG1ha2UgYSBzZW50aW5lbCBlbnRyeSBpbiB0aGUgbWFwIHRvIGFkZCB0aGlzIGVsZW1lbnQgYXMgYSBkZXBlbmRlbmN5IGZvciB3aGVuIGl0IGlzIGRlZmluZWQuXG4gICAgaWYgKCFtaXhpbkVudHJ5KSB7XG4gICAgICB0aGlzLl9tYXAuc2V0KG1peGluTmFtZSwge30pO1xuICAgICAgbWl4aW5FbnRyeSA9IHRoaXMuX21hcC5nZXQobWl4aW5OYW1lKTtcbiAgICB9XG4gICAgaWYgKG1peGluRW50cnkpIHtcbiAgICAgIGlmICh0aGlzLl9jdXJyZW50RWxlbWVudCkge1xuICAgICAgICBtaXhpbkVudHJ5LmRlcGVuZGFudHNbdGhpcy5fY3VycmVudEVsZW1lbnRdID0gdHJ1ZTtcbiAgICAgIH1cbiAgICAgIGxldCBwLCBwYXJ0cywgZjtcbiAgICAgIGNvbnN0IHByb3BlcnRpZXMgPSBtaXhpbkVudHJ5LnByb3BlcnRpZXM7XG4gICAgICBmb3IgKHAgaW4gcHJvcGVydGllcykge1xuICAgICAgICBmID0gZmFsbGJhY2tzICYmIGZhbGxiYWNrc1twXTtcbiAgICAgICAgcGFydHMgPSBbcCwgJzogdmFyKCcsIG1peGluTmFtZSwgTUlYSU5fVkFSX1NFUCwgcF07XG4gICAgICAgIGlmIChmKSB7XG4gICAgICAgICAgcGFydHMucHVzaCgnLCcsIGYucmVwbGFjZShJTVBPUlRBTlQsICcnKSk7XG4gICAgICAgIH1cbiAgICAgICAgcGFydHMucHVzaCgnKScpO1xuICAgICAgICBpZiAoSU1QT1JUQU5ULnRlc3QocHJvcGVydGllc1twXSkpIHtcbiAgICAgICAgICBwYXJ0cy5wdXNoKCcgIWltcG9ydGFudCcpO1xuICAgICAgICB9XG4gICAgICAgIHZhcnMucHVzaChwYXJ0cy5qb2luKCcnKSk7XG4gICAgICB9XG4gICAgfVxuICAgIHJldHVybiB2YXJzLmpvaW4oJzsgJyk7XG4gIH1cblxuICAvKipcbiAgICogQHBhcmFtIHtzdHJpbmd9IHByb3BlcnR5XG4gICAqIEBwYXJhbSB7c3RyaW5nfSB2YWx1ZVxuICAgKiBAcmV0dXJuIHtzdHJpbmd9XG4gICAqL1xuICBfcmVwbGFjZUluaXRpYWxPckluaGVyaXQocHJvcGVydHksIHZhbHVlKSB7XG4gICAgbGV0IG1hdGNoID0gSU5JVElBTF9JTkhFUklULmV4ZWModmFsdWUpO1xuICAgIGlmIChtYXRjaCkge1xuICAgICAgaWYgKG1hdGNoWzFdKSB7XG4gICAgICAgIC8vIGluaXRpYWxcbiAgICAgICAgLy8gcmVwbGFjZSBgaW5pdGlhbGAgd2l0aCB0aGUgY29uY3JldGUgaW5pdGlhbCB2YWx1ZSBmb3IgdGhpcyBwcm9wZXJ0eVxuICAgICAgICB2YWx1ZSA9IHRoaXMuX2dldEluaXRpYWxWYWx1ZUZvclByb3BlcnR5KHByb3BlcnR5KTtcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIC8vIGluaGVyaXRcbiAgICAgICAgLy8gd2l0aCB0aGlzIHB1cnBvc2Z1bGx5IGlsbGVnYWwgdmFsdWUsIHRoZSB2YXJpYWJsZSB3aWxsIGJlIGludmFsaWQgYXRcbiAgICAgICAgLy8gY29tcHV0ZSB0aW1lIChodHRwczovL3d3dy53My5vcmcvVFIvY3NzLXZhcmlhYmxlcy8jaW52YWxpZC1hdC1jb21wdXRlZC12YWx1ZS10aW1lKVxuICAgICAgICAvLyBhbmQgZm9yIGluaGVyaXRpbmcgdmFsdWVzLCB3aWxsIGJlaGF2ZSBzaW1pbGFybHlcbiAgICAgICAgLy8gd2UgY2Fubm90IHN1cHBvcnQgdGhlIHNhbWUgYmVoYXZpb3IgZm9yIG5vbiBpbmhlcml0aW5nIHZhbHVlcyBsaWtlICdib3JkZXInXG4gICAgICAgIHZhbHVlID0gJ2FwcGx5LXNoaW0taW5oZXJpdCc7XG4gICAgICB9XG4gICAgfVxuICAgIHJldHVybiB2YWx1ZTtcbiAgfVxuXG4gIC8qKlxuICAgKiBcInBhcnNlXCIgYSBtaXhpbiBkZWZpbml0aW9uIGludG8gYSBtYXAgb2YgcHJvcGVydGllcyBhbmQgdmFsdWVzXG4gICAqIGNzc1RleHRUb01hcCgnYm9yZGVyOiAycHggc29saWQgYmxhY2snKSAtPiAoJ2JvcmRlcicsICcycHggc29saWQgYmxhY2snKVxuICAgKiBAcGFyYW0ge3N0cmluZ30gdGV4dFxuICAgKiBAcGFyYW0ge2Jvb2xlYW49fSByZXBsYWNlSW5pdGlhbE9ySW5oZXJpdFxuICAgKiBAcmV0dXJuIHshT2JqZWN0PHN0cmluZywgc3RyaW5nPn1cbiAgICovXG4gIF9jc3NUZXh0VG9NYXAodGV4dCwgcmVwbGFjZUluaXRpYWxPckluaGVyaXQgPSBmYWxzZSkge1xuICAgIGxldCBwcm9wcyA9IHRleHQuc3BsaXQoJzsnKTtcbiAgICBsZXQgcHJvcGVydHksIHZhbHVlO1xuICAgIGxldCBvdXQgPSB7fTtcbiAgICBmb3IgKGxldCBpID0gMCwgcCwgc3A7IGkgPCBwcm9wcy5sZW5ndGg7IGkrKykge1xuICAgICAgcCA9IHByb3BzW2ldO1xuICAgICAgaWYgKHApIHtcbiAgICAgICAgc3AgPSBwLnNwbGl0KCc6Jyk7XG4gICAgICAgIC8vIGlnbm9yZSBsaW5lcyB0aGF0IGFyZW4ndCBkZWZpbml0aW9ucyBsaWtlIEBtZWRpYVxuICAgICAgICBpZiAoc3AubGVuZ3RoID4gMSkge1xuICAgICAgICAgIHByb3BlcnR5ID0gc3BbMF0udHJpbSgpO1xuICAgICAgICAgIC8vIHNvbWUgcHJvcGVydGllcyBtYXkgaGF2ZSAnOicgaW4gdGhlIHZhbHVlLCBsaWtlIGRhdGEgdXJsc1xuICAgICAgICAgIHZhbHVlID0gc3Auc2xpY2UoMSkuam9pbignOicpO1xuICAgICAgICAgIGlmIChyZXBsYWNlSW5pdGlhbE9ySW5oZXJpdCkge1xuICAgICAgICAgICAgdmFsdWUgPSB0aGlzLl9yZXBsYWNlSW5pdGlhbE9ySW5oZXJpdChwcm9wZXJ0eSwgdmFsdWUpO1xuICAgICAgICAgIH1cbiAgICAgICAgICBvdXRbcHJvcGVydHldID0gdmFsdWU7XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICB9XG4gICAgcmV0dXJuIG91dDtcbiAgfVxuXG4gIC8qKlxuICAgKiBAcGFyYW0ge01peGluTWFwRW50cnl9IG1peGluRW50cnlcbiAgICovXG4gIF9pbnZhbGlkYXRlTWl4aW5FbnRyeShtaXhpbkVudHJ5KSB7XG4gICAgaWYgKCFpbnZhbGlkQ2FsbGJhY2spIHtcbiAgICAgIHJldHVybjtcbiAgICB9XG4gICAgZm9yIChsZXQgZWxlbWVudE5hbWUgaW4gbWl4aW5FbnRyeS5kZXBlbmRhbnRzKSB7XG4gICAgICBpZiAoZWxlbWVudE5hbWUgIT09IHRoaXMuX2N1cnJlbnRFbGVtZW50KSB7XG4gICAgICAgIGludmFsaWRDYWxsYmFjayhlbGVtZW50TmFtZSk7XG4gICAgICB9XG4gICAgfVxuICB9XG5cbiAgLyoqXG4gICAqIEBwYXJhbSB7c3RyaW5nfSBtYXRjaFRleHRcbiAgICogQHBhcmFtIHtzdHJpbmd9IHByb3BlcnR5TmFtZVxuICAgKiBAcGFyYW0gez9zdHJpbmd9IHZhbHVlUHJvcGVydHlcbiAgICogQHBhcmFtIHs/c3RyaW5nfSB2YWx1ZU1peGluXG4gICAqIEBwYXJhbSB7IVN0eWxlTm9kZX0gcnVsZVxuICAgKiBAcmV0dXJuIHtzdHJpbmd9XG4gICAqL1xuICBfcHJvZHVjZUNzc1Byb3BlcnRpZXMobWF0Y2hUZXh0LCBwcm9wZXJ0eU5hbWUsIHZhbHVlUHJvcGVydHksIHZhbHVlTWl4aW4sIHJ1bGUpIHtcbiAgICAvLyBoYW5kbGUgY2FzZSB3aGVyZSBwcm9wZXJ0eSB2YWx1ZSBpcyBhIG1peGluXG4gICAgaWYgKHZhbHVlUHJvcGVydHkpIHtcbiAgICAgIC8vIGZvcm06IC0tbWl4aW4yOiB2YXIoLS1taXhpbjEpLCB3aGVyZSAtLW1peGluMSBpcyBpbiB0aGUgbWFwXG4gICAgICBwcm9jZXNzVmFyaWFibGVBbmRGYWxsYmFjayh2YWx1ZVByb3BlcnR5LCAocHJlZml4LCB2YWx1ZSkgPT4ge1xuICAgICAgICBpZiAodmFsdWUgJiYgdGhpcy5fbWFwLmdldCh2YWx1ZSkpIHtcbiAgICAgICAgICB2YWx1ZU1peGluID0gYEBhcHBseSAke3ZhbHVlfTtgXG4gICAgICAgIH1cbiAgICAgIH0pO1xuICAgIH1cbiAgICBpZiAoIXZhbHVlTWl4aW4pIHtcbiAgICAgIHJldHVybiBtYXRjaFRleHQ7XG4gICAgfVxuICAgIGxldCBtaXhpbkFzUHJvcGVydGllcyA9IHRoaXMuX2NvbnN1bWVDc3NQcm9wZXJ0aWVzKCcnICsgdmFsdWVNaXhpbiwgcnVsZSk7XG4gICAgbGV0IHByZWZpeCA9IG1hdGNoVGV4dC5zbGljZSgwLCBtYXRjaFRleHQuaW5kZXhPZignLS0nKSk7XG4gICAgLy8gYGluaXRpYWxgIGFuZCBgaW5oZXJpdGAgYXMgcHJvcGVydGllcyBpbiBhIG1hcCBzaG91bGQgYmUgcmVwbGFjZWQgYmVjYXVzZVxuICAgIC8vIHRoZXNlIGtleXdvcmRzIGFyZSBlYWdlcmx5IGV2YWx1YXRlZCB3aGVuIHRoZSBtaXhpbiBiZWNvbWVzIENTUyBDdXN0b20gUHJvcGVydGllcyxcbiAgICAvLyBhbmQgd291bGQgc2V0IHRoZSB2YXJpYWJsZSB2YWx1ZSwgcmF0aGVyIHRoYW4gY2FycnkgdGhlIGtleXdvcmQgdG8gdGhlIGB2YXIoKWAgdXNhZ2UuXG4gICAgbGV0IG1peGluVmFsdWVzID0gdGhpcy5fY3NzVGV4dFRvTWFwKG1peGluQXNQcm9wZXJ0aWVzLCB0cnVlKTtcbiAgICBsZXQgY29tYmluZWRQcm9wcyA9IG1peGluVmFsdWVzO1xuICAgIGxldCBtaXhpbkVudHJ5ID0gdGhpcy5fbWFwLmdldChwcm9wZXJ0eU5hbWUpO1xuICAgIGxldCBvbGRQcm9wcyA9IG1peGluRW50cnkgJiYgbWl4aW5FbnRyeS5wcm9wZXJ0aWVzO1xuICAgIGlmIChvbGRQcm9wcykge1xuICAgICAgLy8gTk9URTogc2luY2Ugd2UgdXNlIG1peGluLCB0aGUgbWFwIG9mIHByb3BlcnRpZXMgaXMgdXBkYXRlZCBoZXJlXG4gICAgICAvLyBhbmQgdGhpcyBpcyB3aGF0IHdlIHdhbnQuXG4gICAgICBjb21iaW5lZFByb3BzID0gT2JqZWN0LmFzc2lnbihPYmplY3QuY3JlYXRlKG9sZFByb3BzKSwgbWl4aW5WYWx1ZXMpO1xuICAgIH0gZWxzZSB7XG4gICAgICB0aGlzLl9tYXAuc2V0KHByb3BlcnR5TmFtZSwgY29tYmluZWRQcm9wcyk7XG4gICAgfVxuICAgIGxldCBvdXQgPSBbXTtcbiAgICBsZXQgcCwgdjtcbiAgICAvLyBzZXQgdmFyaWFibGVzIGRlZmluZWQgYnkgY3VycmVudCBtaXhpblxuICAgIGxldCBuZWVkVG9JbnZhbGlkYXRlID0gZmFsc2U7XG4gICAgZm9yIChwIGluIGNvbWJpbmVkUHJvcHMpIHtcbiAgICAgIHYgPSBtaXhpblZhbHVlc1twXTtcbiAgICAgIC8vIGlmIHByb3BlcnR5IG5vdCBkZWZpbmVkIGJ5IGN1cnJlbnQgbWl4aW4sIHNldCBpbml0aWFsXG4gICAgICBpZiAodiA9PT0gdW5kZWZpbmVkKSB7XG4gICAgICAgIHYgPSAnaW5pdGlhbCc7XG4gICAgICB9XG4gICAgICBpZiAob2xkUHJvcHMgJiYgIShwIGluIG9sZFByb3BzKSkge1xuICAgICAgICBuZWVkVG9JbnZhbGlkYXRlID0gdHJ1ZTtcbiAgICAgIH1cbiAgICAgIG91dC5wdXNoKGAke3Byb3BlcnR5TmFtZX0ke01JWElOX1ZBUl9TRVB9JHtwfTogJHt2fWApO1xuICAgIH1cbiAgICBpZiAobmVlZFRvSW52YWxpZGF0ZSkge1xuICAgICAgdGhpcy5faW52YWxpZGF0ZU1peGluRW50cnkobWl4aW5FbnRyeSk7XG4gICAgfVxuICAgIGlmIChtaXhpbkVudHJ5KSB7XG4gICAgICBtaXhpbkVudHJ5LnByb3BlcnRpZXMgPSBjb21iaW5lZFByb3BzO1xuICAgIH1cbiAgICAvLyBiZWNhdXNlIHRoZSBtaXhpbk1hcCBpcyBnbG9iYWwsIHRoZSBtaXhpbiBtaWdodCBjb25mbGljdCB3aXRoXG4gICAgLy8gYSBkaWZmZXJlbnQgc2NvcGUncyBzaW1wbGUgdmFyaWFibGUgZGVmaW5pdGlvbjpcbiAgICAvLyBFeGFtcGxlOlxuICAgIC8vIHNvbWUgc3R5bGUgc29tZXdoZXJlOlxuICAgIC8vIC0tbWl4aW4xOnsgLi4uIH1cbiAgICAvLyAtLW1peGluMjogdmFyKC0tbWl4aW4xKTtcbiAgICAvLyBzb21lIG90aGVyIGVsZW1lbnQ6XG4gICAgLy8gLS1taXhpbjE6IDEwcHggc29saWQgcmVkO1xuICAgIC8vIC0tZm9vOiB2YXIoLS1taXhpbjEpO1xuICAgIC8vIEluIHRoaXMgY2FzZSwgd2UgbGVhdmUgdGhlIG9yaWdpbmFsIHZhcmlhYmxlIGRlZmluaXRpb24gaW4gcGxhY2UuXG4gICAgaWYgKHZhbHVlUHJvcGVydHkpIHtcbiAgICAgIHByZWZpeCA9IGAke21hdGNoVGV4dH07JHtwcmVmaXh9YDtcbiAgICB9XG4gICAgcmV0dXJuIGAke3ByZWZpeH0ke291dC5qb2luKCc7ICcpfTtgO1xuICB9XG59XG5cbi8qIGV4cG9ydHMgKi9cbi8qIGVzbGludC1kaXNhYmxlIG5vLXNlbGYtYXNzaWduICovXG5BcHBseVNoaW0ucHJvdG90eXBlWydkZXRlY3RNaXhpbiddID0gQXBwbHlTaGltLnByb3RvdHlwZS5kZXRlY3RNaXhpbjtcbkFwcGx5U2hpbS5wcm90b3R5cGVbJ3RyYW5zZm9ybVN0eWxlJ10gPSBBcHBseVNoaW0ucHJvdG90eXBlLnRyYW5zZm9ybVN0eWxlO1xuQXBwbHlTaGltLnByb3RvdHlwZVsndHJhbnNmb3JtQ3VzdG9tU3R5bGUnXSA9IEFwcGx5U2hpbS5wcm90b3R5cGUudHJhbnNmb3JtQ3VzdG9tU3R5bGU7XG5BcHBseVNoaW0ucHJvdG90eXBlWyd0cmFuc2Zvcm1SdWxlcyddID0gQXBwbHlTaGltLnByb3RvdHlwZS50cmFuc2Zvcm1SdWxlcztcbkFwcGx5U2hpbS5wcm90b3R5cGVbJ3RyYW5zZm9ybVJ1bGUnXSA9IEFwcGx5U2hpbS5wcm90b3R5cGUudHJhbnNmb3JtUnVsZTtcbkFwcGx5U2hpbS5wcm90b3R5cGVbJ3RyYW5zZm9ybVRlbXBsYXRlJ10gPSBBcHBseVNoaW0ucHJvdG90eXBlLnRyYW5zZm9ybVRlbXBsYXRlO1xuQXBwbHlTaGltLnByb3RvdHlwZVsnX3NlcGFyYXRvciddID0gTUlYSU5fVkFSX1NFUDtcbi8qIGVzbGludC1lbmFibGUgbm8tc2VsZi1hc3NpZ24gKi9cbk9iamVjdC5kZWZpbmVQcm9wZXJ0eShBcHBseVNoaW0ucHJvdG90eXBlLCAnaW52YWxpZENhbGxiYWNrJywge1xuICAvKiogQHJldHVybiB7P2Z1bmN0aW9uKHN0cmluZyl9ICovXG4gIGdldCgpIHtcbiAgICByZXR1cm4gaW52YWxpZENhbGxiYWNrO1xuICB9LFxuICAvKiogQHBhcmFtIHs/ZnVuY3Rpb24oc3RyaW5nKX0gY2IgKi9cbiAgc2V0KGNiKSB7XG4gICAgaW52YWxpZENhbGxiYWNrID0gY2I7XG4gIH1cbn0pO1xuXG5leHBvcnQgZGVmYXVsdCBBcHBseVNoaW07XG4iLCIvKipcbkBsaWNlbnNlXG5Db3B5cmlnaHQgKGMpIDIwMTcgVGhlIFBvbHltZXIgUHJvamVjdCBBdXRob3JzLiBBbGwgcmlnaHRzIHJlc2VydmVkLlxuVGhpcyBjb2RlIG1heSBvbmx5IGJlIHVzZWQgdW5kZXIgdGhlIEJTRCBzdHlsZSBsaWNlbnNlIGZvdW5kIGF0IGh0dHA6Ly9wb2x5bWVyLmdpdGh1Yi5pby9MSUNFTlNFLnR4dFxuVGhlIGNvbXBsZXRlIHNldCBvZiBhdXRob3JzIG1heSBiZSBmb3VuZCBhdCBodHRwOi8vcG9seW1lci5naXRodWIuaW8vQVVUSE9SUy50eHRcblRoZSBjb21wbGV0ZSBzZXQgb2YgY29udHJpYnV0b3JzIG1heSBiZSBmb3VuZCBhdCBodHRwOi8vcG9seW1lci5naXRodWIuaW8vQ09OVFJJQlVUT1JTLnR4dFxuQ29kZSBkaXN0cmlidXRlZCBieSBHb29nbGUgYXMgcGFydCBvZiB0aGUgcG9seW1lciBwcm9qZWN0IGlzIGFsc29cbnN1YmplY3QgdG8gYW4gYWRkaXRpb25hbCBJUCByaWdodHMgZ3JhbnQgZm91bmQgYXQgaHR0cDovL3BvbHltZXIuZ2l0aHViLmlvL1BBVEVOVFMudHh0XG4qL1xuXG4ndXNlIHN0cmljdCc7XG5cbi8qKlxuICogQGNvbnN0IHshT2JqZWN0PHN0cmluZywgIUhUTUxUZW1wbGF0ZUVsZW1lbnQ+fVxuICovXG5jb25zdCB0ZW1wbGF0ZU1hcCA9IHt9O1xuZXhwb3J0IGRlZmF1bHQgdGVtcGxhdGVNYXA7XG4iLCIvKipcbkBsaWNlbnNlXG5Db3B5cmlnaHQgKGMpIDIwMTcgVGhlIFBvbHltZXIgUHJvamVjdCBBdXRob3JzLiBBbGwgcmlnaHRzIHJlc2VydmVkLlxuVGhpcyBjb2RlIG1heSBvbmx5IGJlIHVzZWQgdW5kZXIgdGhlIEJTRCBzdHlsZSBsaWNlbnNlIGZvdW5kIGF0IGh0dHA6Ly9wb2x5bWVyLmdpdGh1Yi5pby9MSUNFTlNFLnR4dFxuVGhlIGNvbXBsZXRlIHNldCBvZiBhdXRob3JzIG1heSBiZSBmb3VuZCBhdCBodHRwOi8vcG9seW1lci5naXRodWIuaW8vQVVUSE9SUy50eHRcblRoZSBjb21wbGV0ZSBzZXQgb2YgY29udHJpYnV0b3JzIG1heSBiZSBmb3VuZCBhdCBodHRwOi8vcG9seW1lci5naXRodWIuaW8vQ09OVFJJQlVUT1JTLnR4dFxuQ29kZSBkaXN0cmlidXRlZCBieSBHb29nbGUgYXMgcGFydCBvZiB0aGUgcG9seW1lciBwcm9qZWN0IGlzIGFsc29cbnN1YmplY3QgdG8gYW4gYWRkaXRpb25hbCBJUCByaWdodHMgZ3JhbnQgZm91bmQgYXQgaHR0cDovL3BvbHltZXIuZ2l0aHViLmlvL1BBVEVOVFMudHh0XG4qL1xuXG4ndXNlIHN0cmljdCc7XG5pbXBvcnQgdGVtcGxhdGVNYXAgZnJvbSAnLi90ZW1wbGF0ZS1tYXAuanMnO1xuaW1wb3J0IHtTdHlsZU5vZGV9IGZyb20gJy4vY3NzLXBhcnNlLmpzJzsgLy8gZXNsaW50LWRpc2FibGUtbGluZSBuby11bnVzZWQtdmFyc1xuXG4vKlxuICogVXRpbGl0aWVzIGZvciBoYW5kbGluZyBpbnZhbGlkYXRpbmcgYXBwbHktc2hpbSBtaXhpbnMgZm9yIGEgZ2l2ZW4gdGVtcGxhdGUuXG4gKlxuICogVGhlIGludmFsaWRhdGlvbiBzdHJhdGVneSBpbnZvbHZlcyBrZWVwaW5nIHRyYWNrIG9mIHRoZSBcImN1cnJlbnRcIiB2ZXJzaW9uIG9mIGEgdGVtcGxhdGUncyBtaXhpbnMsIGFuZCB1cGRhdGluZyB0aGF0IGNvdW50IHdoZW4gYSBtaXhpbiBpcyBpbnZhbGlkYXRlZC5cbiAqIFRoZSB0ZW1wbGF0ZVxuICovXG5cbi8qKiBAY29uc3Qge3N0cmluZ30gKi9cbmNvbnN0IENVUlJFTlRfVkVSU0lPTiA9ICdfYXBwbHlTaGltQ3VycmVudFZlcnNpb24nO1xuXG4vKiogQGNvbnN0IHtzdHJpbmd9ICovXG5jb25zdCBORVhUX1ZFUlNJT04gPSAnX2FwcGx5U2hpbU5leHRWZXJzaW9uJztcblxuLyoqIEBjb25zdCB7c3RyaW5nfSAqL1xuY29uc3QgVkFMSURBVElOR19WRVJTSU9OID0gJ19hcHBseVNoaW1WYWxpZGF0aW5nVmVyc2lvbic7XG5cbi8qKlxuICogQGNvbnN0IHtQcm9taXNlPHZvaWQ+fVxuICovXG5jb25zdCBwcm9taXNlID0gUHJvbWlzZS5yZXNvbHZlKCk7XG5cbi8qKlxuICogQHBhcmFtIHtzdHJpbmd9IGVsZW1lbnROYW1lXG4gKi9cbmV4cG9ydCBmdW5jdGlvbiBpbnZhbGlkYXRlKGVsZW1lbnROYW1lKXtcbiAgbGV0IHRlbXBsYXRlID0gdGVtcGxhdGVNYXBbZWxlbWVudE5hbWVdO1xuICBpZiAodGVtcGxhdGUpIHtcbiAgICBpbnZhbGlkYXRlVGVtcGxhdGUodGVtcGxhdGUpO1xuICB9XG59XG5cbi8qKlxuICogVGhpcyBmdW5jdGlvbiBjYW4gYmUgY2FsbGVkIG11bHRpcGxlIHRpbWVzIHRvIG1hcmsgYSB0ZW1wbGF0ZSBpbnZhbGlkXG4gKiBhbmQgc2lnbmFsIHRoYXQgdGhlIHN0eWxlIGluc2lkZSBtdXN0IGJlIHJlZ2VuZXJhdGVkLlxuICpcbiAqIFVzZSBgc3RhcnRWYWxpZGF0aW5nVGVtcGxhdGVgIHRvIGJlZ2luIGFuIGFzeW5jaHJvbm91cyB2YWxpZGF0aW9uIGN5Y2xlLlxuICogRHVyaW5nIHRoYXQgY3ljbGUsIGNhbGwgYHRlbXBsYXRlSXNWYWxpZGF0aW5nYCB0byBzZWUgaWYgdGhlIHRlbXBsYXRlIG11c3RcbiAqIGJlIHJldmFsaWRhdGVkXG4gKiBAcGFyYW0ge0hUTUxUZW1wbGF0ZUVsZW1lbnR9IHRlbXBsYXRlXG4gKi9cbmV4cG9ydCBmdW5jdGlvbiBpbnZhbGlkYXRlVGVtcGxhdGUodGVtcGxhdGUpIHtcbiAgLy8gZGVmYXVsdCB0aGUgY3VycmVudCB2ZXJzaW9uIHRvIDBcbiAgdGVtcGxhdGVbQ1VSUkVOVF9WRVJTSU9OXSA9IHRlbXBsYXRlW0NVUlJFTlRfVkVSU0lPTl0gfHwgMDtcbiAgLy8gZW5zdXJlIHRoZSBcInZhbGlkYXRpbmcgZm9yXCIgZmxhZyBleGlzdHNcbiAgdGVtcGxhdGVbVkFMSURBVElOR19WRVJTSU9OXSA9IHRlbXBsYXRlW1ZBTElEQVRJTkdfVkVSU0lPTl0gfHwgMDtcbiAgLy8gaW5jcmVtZW50IHRoZSBuZXh0IHZlcnNpb25cbiAgdGVtcGxhdGVbTkVYVF9WRVJTSU9OXSA9ICh0ZW1wbGF0ZVtORVhUX1ZFUlNJT05dIHx8IDApICsgMTtcbn1cblxuLyoqXG4gKiBAcGFyYW0ge3N0cmluZ30gZWxlbWVudE5hbWVcbiAqIEByZXR1cm4ge2Jvb2xlYW59XG4gKi9cbmV4cG9ydCBmdW5jdGlvbiBpc1ZhbGlkKGVsZW1lbnROYW1lKSB7XG4gIGxldCB0ZW1wbGF0ZSA9IHRlbXBsYXRlTWFwW2VsZW1lbnROYW1lXTtcbiAgaWYgKHRlbXBsYXRlKSB7XG4gICAgcmV0dXJuIHRlbXBsYXRlSXNWYWxpZCh0ZW1wbGF0ZSk7XG4gIH1cbiAgcmV0dXJuIHRydWU7XG59XG5cbi8qKlxuICogQHBhcmFtIHtIVE1MVGVtcGxhdGVFbGVtZW50fSB0ZW1wbGF0ZVxuICogQHJldHVybiB7Ym9vbGVhbn1cbiAqL1xuZXhwb3J0IGZ1bmN0aW9uIHRlbXBsYXRlSXNWYWxpZCh0ZW1wbGF0ZSkge1xuICByZXR1cm4gdGVtcGxhdGVbQ1VSUkVOVF9WRVJTSU9OXSA9PT0gdGVtcGxhdGVbTkVYVF9WRVJTSU9OXTtcbn1cblxuLyoqXG4gKiBAcGFyYW0ge3N0cmluZ30gZWxlbWVudE5hbWVcbiAqIEByZXR1cm4ge2Jvb2xlYW59XG4gKi9cbmV4cG9ydCBmdW5jdGlvbiBpc1ZhbGlkYXRpbmcoZWxlbWVudE5hbWUpIHtcbiAgbGV0IHRlbXBsYXRlID0gdGVtcGxhdGVNYXBbZWxlbWVudE5hbWVdO1xuICBpZiAodGVtcGxhdGUpIHtcbiAgICByZXR1cm4gdGVtcGxhdGVJc1ZhbGlkYXRpbmcodGVtcGxhdGUpO1xuICB9XG4gIHJldHVybiBmYWxzZTtcbn1cblxuLyoqXG4gKiBSZXR1cm5zIHRydWUgaWYgdGhlIHRlbXBsYXRlIGlzIGN1cnJlbnRseSBpbnZhbGlkIGFuZCBgc3RhcnRWYWxpZGF0aW5nYCBoYXMgYmVlbiBjYWxsZWQgc2luY2UgdGhlIGxhc3QgaW52YWxpZGF0aW9uLlxuICogSWYgZmFsc2UsIHRoZSB0ZW1wbGF0ZSBtdXN0IGJlIHZhbGlkYXRlZC5cbiAqIEBwYXJhbSB7SFRNTFRlbXBsYXRlRWxlbWVudH0gdGVtcGxhdGVcbiAqIEByZXR1cm4ge2Jvb2xlYW59XG4gKi9cbmV4cG9ydCBmdW5jdGlvbiB0ZW1wbGF0ZUlzVmFsaWRhdGluZyh0ZW1wbGF0ZSkge1xuICByZXR1cm4gIXRlbXBsYXRlSXNWYWxpZCh0ZW1wbGF0ZSkgJiYgdGVtcGxhdGVbVkFMSURBVElOR19WRVJTSU9OXSA9PT0gdGVtcGxhdGVbTkVYVF9WRVJTSU9OXTtcbn1cblxuLyoqXG4gKiB0aGUgdGVtcGxhdGUgaXMgbWFya2VkIGFzIGB2YWxpZGF0aW5nYCBmb3Igb25lIG1pY3JvdGFzayBzbyB0aGF0IGFsbCBpbnN0YW5jZXNcbiAqIGZvdW5kIGluIHRoZSB0cmVlIGNyYXdsIG9mIGBhcHBseVN0eWxlYCB3aWxsIHVwZGF0ZSB0aGVtc2VsdmVzLFxuICogYnV0IHRoZSB0ZW1wbGF0ZSB3aWxsIG9ubHkgYmUgdXBkYXRlZCBvbmNlLlxuICogQHBhcmFtIHtzdHJpbmd9IGVsZW1lbnROYW1lXG4qL1xuZXhwb3J0IGZ1bmN0aW9uIHN0YXJ0VmFsaWRhdGluZyhlbGVtZW50TmFtZSkge1xuICBsZXQgdGVtcGxhdGUgPSB0ZW1wbGF0ZU1hcFtlbGVtZW50TmFtZV07XG4gIHN0YXJ0VmFsaWRhdGluZ1RlbXBsYXRlKHRlbXBsYXRlKTtcbn1cblxuLyoqXG4gKiBCZWdpbiBhbiBhc3luY2hyb25vdXMgaW52YWxpZGF0aW9uIGN5Y2xlLlxuICogVGhpcyBzaG91bGQgYmUgY2FsbGVkIGFmdGVyIGV2ZXJ5IHZhbGlkYXRpb24gb2YgYSB0ZW1wbGF0ZVxuICpcbiAqIEFmdGVyIG9uZSBtaWNyb3Rhc2ssIHRoZSB0ZW1wbGF0ZSB3aWxsIGJlIG1hcmtlZCBhcyB2YWxpZCB1bnRpbCB0aGUgbmV4dCBjYWxsIHRvIGBpbnZhbGlkYXRlVGVtcGxhdGVgXG4gKiBAcGFyYW0ge0hUTUxUZW1wbGF0ZUVsZW1lbnR9IHRlbXBsYXRlXG4gKi9cbmV4cG9ydCBmdW5jdGlvbiBzdGFydFZhbGlkYXRpbmdUZW1wbGF0ZSh0ZW1wbGF0ZSkge1xuICAvLyByZW1lbWJlciB0aGF0IHRoZSBjdXJyZW50IFwibmV4dCB2ZXJzaW9uXCIgaXMgdGhlIHJlYXNvbiBmb3IgdGhpcyB2YWxpZGF0aW9uIGN5Y2xlXG4gIHRlbXBsYXRlW1ZBTElEQVRJTkdfVkVSU0lPTl0gPSB0ZW1wbGF0ZVtORVhUX1ZFUlNJT05dO1xuICAvLyBob3dldmVyLCB0aGVyZSBvbmx5IG5lZWRzIHRvIGJlIG9uZSBhc3luYyB0YXNrIHRvIGNsZWFyIHRoZSBjb3VudGVyc1xuICBpZiAoIXRlbXBsYXRlLl92YWxpZGF0aW5nKSB7XG4gICAgdGVtcGxhdGUuX3ZhbGlkYXRpbmcgPSB0cnVlO1xuICAgIHByb21pc2UudGhlbihmdW5jdGlvbigpIHtcbiAgICAgIC8vIHN5bmMgdGhlIGN1cnJlbnQgdmVyc2lvbiB0byBsZXQgZnV0dXJlIGludmFsaWRhdGlvbnMgY2F1c2UgYSByZWZyZXNoIGN5Y2xlXG4gICAgICB0ZW1wbGF0ZVtDVVJSRU5UX1ZFUlNJT05dID0gdGVtcGxhdGVbTkVYVF9WRVJTSU9OXTtcbiAgICAgIHRlbXBsYXRlLl92YWxpZGF0aW5nID0gZmFsc2U7XG4gICAgfSk7XG4gIH1cbn1cblxuLyoqXG4gKiBAcmV0dXJuIHtib29sZWFufVxuICovXG5leHBvcnQgZnVuY3Rpb24gZWxlbWVudHNBcmVJbnZhbGlkKCkge1xuICBmb3IgKGxldCBlbGVtZW50TmFtZSBpbiB0ZW1wbGF0ZU1hcCkge1xuICAgIGxldCB0ZW1wbGF0ZSA9IHRlbXBsYXRlTWFwW2VsZW1lbnROYW1lXTtcbiAgICBpZiAoIXRlbXBsYXRlSXNWYWxpZCh0ZW1wbGF0ZSkpIHtcbiAgICAgIHJldHVybiB0cnVlO1xuICAgIH1cbiAgfVxuICByZXR1cm4gZmFsc2U7XG59XG4iLCIvKipcbkBsaWNlbnNlXG5Db3B5cmlnaHQgKGMpIDIwMTcgVGhlIFBvbHltZXIgUHJvamVjdCBBdXRob3JzLiBBbGwgcmlnaHRzIHJlc2VydmVkLlxuVGhpcyBjb2RlIG1heSBvbmx5IGJlIHVzZWQgdW5kZXIgdGhlIEJTRCBzdHlsZSBsaWNlbnNlIGZvdW5kIGF0IGh0dHA6Ly9wb2x5bWVyLmdpdGh1Yi5pby9MSUNFTlNFLnR4dFxuVGhlIGNvbXBsZXRlIHNldCBvZiBhdXRob3JzIG1heSBiZSBmb3VuZCBhdCBodHRwOi8vcG9seW1lci5naXRodWIuaW8vQVVUSE9SUy50eHRcblRoZSBjb21wbGV0ZSBzZXQgb2YgY29udHJpYnV0b3JzIG1heSBiZSBmb3VuZCBhdCBodHRwOi8vcG9seW1lci5naXRodWIuaW8vQ09OVFJJQlVUT1JTLnR4dFxuQ29kZSBkaXN0cmlidXRlZCBieSBHb29nbGUgYXMgcGFydCBvZiB0aGUgcG9seW1lciBwcm9qZWN0IGlzIGFsc29cbnN1YmplY3QgdG8gYW4gYWRkaXRpb25hbCBJUCByaWdodHMgZ3JhbnQgZm91bmQgYXQgaHR0cDovL3BvbHltZXIuZ2l0aHViLmlvL1BBVEVOVFMudHh0XG4qL1xuXG4ndXNlIHN0cmljdCc7XG5cbmltcG9ydCBBcHBseVNoaW0gZnJvbSAnLi4vc3JjL2FwcGx5LXNoaW0uanMnO1xuaW1wb3J0IHRlbXBsYXRlTWFwIGZyb20gJy4uL3NyYy90ZW1wbGF0ZS1tYXAuanMnO1xuaW1wb3J0IHtnZXRJc0V4dGVuZHMsIHRvQ3NzVGV4dCwgZWxlbWVudEhhc0J1aWx0Q3NzfSBmcm9tICcuLi9zcmMvc3R5bGUtdXRpbC5qcyc7XG5pbXBvcnQgKiBhcyBBcHBseVNoaW1VdGlscyBmcm9tICcuLi9zcmMvYXBwbHktc2hpbS11dGlscy5qcyc7XG5pbXBvcnQge2dldENvbXB1dGVkU3R5bGVWYWx1ZSwgdXBkYXRlTmF0aXZlUHJvcGVydGllc30gZnJvbSAnLi4vc3JjL2NvbW1vbi11dGlscy5qcyc7XG5pbXBvcnQge0N1c3RvbVN0eWxlSW50ZXJmYWNlSW50ZXJmYWNlfSBmcm9tICcuLi9zcmMvY3VzdG9tLXN0eWxlLWludGVyZmFjZS5qcyc7IC8vIGVzbGludC1kaXNhYmxlLWxpbmUgbm8tdW51c2VkLXZhcnNcbmltcG9ydCB7bmF0aXZlQ3NzVmFyaWFibGVzLCBuYXRpdmVTaGFkb3csIGNzc0J1aWxkLCBkaXNhYmxlUnVudGltZX0gZnJvbSAnLi4vc3JjL3N0eWxlLXNldHRpbmdzLmpzJztcblxuLyoqIEBjb25zdCB7QXBwbHlTaGltfSAqL1xuY29uc3QgYXBwbHlTaGltID0gbmV3IEFwcGx5U2hpbSgpO1xuXG5jbGFzcyBBcHBseVNoaW1JbnRlcmZhY2Uge1xuICBjb25zdHJ1Y3RvcigpIHtcbiAgICAvKiogQHR5cGUgez9DdXN0b21TdHlsZUludGVyZmFjZUludGVyZmFjZX0gKi9cbiAgICB0aGlzLmN1c3RvbVN0eWxlSW50ZXJmYWNlID0gbnVsbDtcbiAgICBhcHBseVNoaW1bJ2ludmFsaWRDYWxsYmFjayddID0gQXBwbHlTaGltVXRpbHMuaW52YWxpZGF0ZTtcbiAgfVxuICBlbnN1cmUoKSB7XG4gICAgaWYgKHRoaXMuY3VzdG9tU3R5bGVJbnRlcmZhY2UpIHtcbiAgICAgIHJldHVybjtcbiAgICB9XG4gICAgaWYgKHdpbmRvdy5TaGFkeUNTUy5DdXN0b21TdHlsZUludGVyZmFjZSkge1xuICAgICAgdGhpcy5jdXN0b21TdHlsZUludGVyZmFjZSA9XG4gICAgICAgICAgLyoqIEB0eXBlIHshQ3VzdG9tU3R5bGVJbnRlcmZhY2VJbnRlcmZhY2V9ICovIChcbiAgICAgICAgICAgICAgd2luZG93LlNoYWR5Q1NTLkN1c3RvbVN0eWxlSW50ZXJmYWNlKTtcbiAgICAgIHRoaXMuY3VzdG9tU3R5bGVJbnRlcmZhY2VbJ3RyYW5zZm9ybUNhbGxiYWNrJ10gPSAoc3R5bGUpID0+IHtcbiAgICAgICAgYXBwbHlTaGltLnRyYW5zZm9ybUN1c3RvbVN0eWxlKHN0eWxlKTtcbiAgICAgIH07XG4gICAgICB0aGlzLmN1c3RvbVN0eWxlSW50ZXJmYWNlWyd2YWxpZGF0ZUNhbGxiYWNrJ10gPSAoKSA9PiB7XG4gICAgICAgIHJlcXVlc3RBbmltYXRpb25GcmFtZSgoKSA9PiB7XG4gICAgICAgICAgaWYgKHRoaXMuY3VzdG9tU3R5bGVJbnRlcmZhY2VbJ2VucXVldWVkJ10pIHtcbiAgICAgICAgICAgIHRoaXMuZmx1c2hDdXN0b21TdHlsZXMoKTtcbiAgICAgICAgICB9XG4gICAgICAgIH0pO1xuICAgICAgfVxuICAgIH1cbiAgfVxuICAvKipcbiAgICogQHBhcmFtIHshSFRNTFRlbXBsYXRlRWxlbWVudH0gdGVtcGxhdGVcbiAgICogQHBhcmFtIHtzdHJpbmd9IGVsZW1lbnROYW1lXG4gICAqL1xuICBwcmVwYXJlVGVtcGxhdGUodGVtcGxhdGUsIGVsZW1lbnROYW1lKSB7XG4gICAgdGhpcy5lbnN1cmUoKTtcbiAgICBpZiAoZWxlbWVudEhhc0J1aWx0Q3NzKHRlbXBsYXRlKSkge1xuICAgICAgcmV0dXJuO1xuICAgIH1cbiAgICB0ZW1wbGF0ZU1hcFtlbGVtZW50TmFtZV0gPSB0ZW1wbGF0ZTtcbiAgICBsZXQgYXN0ID0gYXBwbHlTaGltLnRyYW5zZm9ybVRlbXBsYXRlKHRlbXBsYXRlLCBlbGVtZW50TmFtZSk7XG4gICAgLy8gc2F2ZSBvcmlnaW5hbCBzdHlsZSBhc3QgdG8gdXNlIGZvciByZXZhbGlkYXRpbmcgaW5zdGFuY2VzXG4gICAgdGVtcGxhdGVbJ19zdHlsZUFzdCddID0gYXN0O1xuICB9XG4gIGZsdXNoQ3VzdG9tU3R5bGVzKCkge1xuICAgIHRoaXMuZW5zdXJlKCk7XG4gICAgaWYgKCF0aGlzLmN1c3RvbVN0eWxlSW50ZXJmYWNlKSB7XG4gICAgICByZXR1cm47XG4gICAgfVxuICAgIGxldCBzdHlsZXMgPSB0aGlzLmN1c3RvbVN0eWxlSW50ZXJmYWNlWydwcm9jZXNzU3R5bGVzJ10oKTtcbiAgICBpZiAoIXRoaXMuY3VzdG9tU3R5bGVJbnRlcmZhY2VbJ2VucXVldWVkJ10pIHtcbiAgICAgIHJldHVybjtcbiAgICB9XG4gICAgZm9yIChsZXQgaSA9IDA7IGkgPCBzdHlsZXMubGVuZ3RoOyBpKysgKSB7XG4gICAgICBsZXQgY3MgPSBzdHlsZXNbaV07XG4gICAgICBsZXQgc3R5bGUgPSB0aGlzLmN1c3RvbVN0eWxlSW50ZXJmYWNlWydnZXRTdHlsZUZvckN1c3RvbVN0eWxlJ10oY3MpO1xuICAgICAgaWYgKHN0eWxlKSB7XG4gICAgICAgIGFwcGx5U2hpbS50cmFuc2Zvcm1DdXN0b21TdHlsZShzdHlsZSk7XG4gICAgICB9XG4gICAgfVxuICAgIHRoaXMuY3VzdG9tU3R5bGVJbnRlcmZhY2VbJ2VucXVldWVkJ10gPSBmYWxzZTtcbiAgfVxuICAvKipcbiAgICogQHBhcmFtIHtIVE1MRWxlbWVudH0gZWxlbWVudFxuICAgKiBAcGFyYW0ge09iamVjdD19IHByb3BlcnRpZXNcbiAgICovXG4gIHN0eWxlU3VidHJlZShlbGVtZW50LCBwcm9wZXJ0aWVzKSB7XG4gICAgdGhpcy5lbnN1cmUoKTtcbiAgICBpZiAocHJvcGVydGllcykge1xuICAgICAgdXBkYXRlTmF0aXZlUHJvcGVydGllcyhlbGVtZW50LCBwcm9wZXJ0aWVzKTtcbiAgICB9XG4gICAgaWYgKGVsZW1lbnQuc2hhZG93Um9vdCkge1xuICAgICAgdGhpcy5zdHlsZUVsZW1lbnQoZWxlbWVudCk7XG4gICAgICBsZXQgc2hhZG93Q2hpbGRyZW4gPVxuICAgICAgICAgIC8qKiBAdHlwZSB7IVBhcmVudE5vZGV9ICovIChlbGVtZW50LnNoYWRvd1Jvb3QpLmNoaWxkcmVuIHx8XG4gICAgICAgICAgZWxlbWVudC5zaGFkb3dSb290LmNoaWxkTm9kZXM7XG4gICAgICBmb3IgKGxldCBpID0gMDsgaSA8IHNoYWRvd0NoaWxkcmVuLmxlbmd0aDsgaSsrKSB7XG4gICAgICAgIHRoaXMuc3R5bGVTdWJ0cmVlKC8qKiBAdHlwZSB7SFRNTEVsZW1lbnR9ICovKHNoYWRvd0NoaWxkcmVuW2ldKSk7XG4gICAgICB9XG4gICAgfSBlbHNlIHtcbiAgICAgIGxldCBjaGlsZHJlbiA9IGVsZW1lbnQuY2hpbGRyZW4gfHwgZWxlbWVudC5jaGlsZE5vZGVzO1xuICAgICAgZm9yIChsZXQgaSA9IDA7IGkgPCBjaGlsZHJlbi5sZW5ndGg7IGkrKykge1xuICAgICAgICB0aGlzLnN0eWxlU3VidHJlZSgvKiogQHR5cGUge0hUTUxFbGVtZW50fSAqLyhjaGlsZHJlbltpXSkpO1xuICAgICAgfVxuICAgIH1cbiAgfVxuICAvKipcbiAgICogQHBhcmFtIHtIVE1MRWxlbWVudH0gZWxlbWVudFxuICAgKi9cbiAgc3R5bGVFbGVtZW50KGVsZW1lbnQpIHtcbiAgICB0aGlzLmVuc3VyZSgpO1xuICAgIGxldCB7aXN9ID0gZ2V0SXNFeHRlbmRzKGVsZW1lbnQpO1xuICAgIGxldCB0ZW1wbGF0ZSA9IHRlbXBsYXRlTWFwW2lzXTtcbiAgICBpZiAodGVtcGxhdGUgJiYgZWxlbWVudEhhc0J1aWx0Q3NzKHRlbXBsYXRlKSkge1xuICAgICAgcmV0dXJuO1xuICAgIH1cbiAgICBpZiAodGVtcGxhdGUgJiYgIUFwcGx5U2hpbVV0aWxzLnRlbXBsYXRlSXNWYWxpZCh0ZW1wbGF0ZSkpIHtcbiAgICAgIC8vIG9ubHkgcmV2YWxpZGF0ZSB0ZW1wbGF0ZSBvbmNlXG4gICAgICBpZiAoIUFwcGx5U2hpbVV0aWxzLnRlbXBsYXRlSXNWYWxpZGF0aW5nKHRlbXBsYXRlKSkge1xuICAgICAgICB0aGlzLnByZXBhcmVUZW1wbGF0ZSh0ZW1wbGF0ZSwgaXMpO1xuICAgICAgICBBcHBseVNoaW1VdGlscy5zdGFydFZhbGlkYXRpbmdUZW1wbGF0ZSh0ZW1wbGF0ZSk7XG4gICAgICB9XG4gICAgICAvLyB1cGRhdGUgdGhpcyBlbGVtZW50IGluc3RhbmNlXG4gICAgICBsZXQgcm9vdCA9IGVsZW1lbnQuc2hhZG93Um9vdDtcbiAgICAgIGlmIChyb290KSB7XG4gICAgICAgIGxldCBzdHlsZSA9IC8qKiBAdHlwZSB7SFRNTFN0eWxlRWxlbWVudH0gKi8ocm9vdC5xdWVyeVNlbGVjdG9yKCdzdHlsZScpKTtcbiAgICAgICAgaWYgKHN0eWxlKSB7XG4gICAgICAgICAgLy8gcmV1c2UgdGhlIHRlbXBsYXRlJ3Mgc3R5bGUgYXN0LCBpdCBoYXMgYWxsIHRoZSBvcmlnaW5hbCBjc3MgdGV4dFxuICAgICAgICAgIHN0eWxlWydfX2Nzc1J1bGVzJ10gPSB0ZW1wbGF0ZVsnX3N0eWxlQXN0J107XG4gICAgICAgICAgc3R5bGUudGV4dENvbnRlbnQgPSB0b0Nzc1RleHQodGVtcGxhdGVbJ19zdHlsZUFzdCddKVxuICAgICAgICB9XG4gICAgICB9XG4gICAgfVxuICB9XG4gIC8qKlxuICAgKiBAcGFyYW0ge09iamVjdD19IHByb3BlcnRpZXNcbiAgICovXG4gIHN0eWxlRG9jdW1lbnQocHJvcGVydGllcykge1xuICAgIHRoaXMuZW5zdXJlKCk7XG4gICAgdGhpcy5zdHlsZVN1YnRyZWUoZG9jdW1lbnQuYm9keSwgcHJvcGVydGllcyk7XG4gIH1cbn1cblxuaWYgKCF3aW5kb3cuU2hhZHlDU1MgfHwgIXdpbmRvdy5TaGFkeUNTUy5TY29waW5nU2hpbSkge1xuICBjb25zdCBhcHBseVNoaW1JbnRlcmZhY2UgPSBuZXcgQXBwbHlTaGltSW50ZXJmYWNlKCk7XG4gIGxldCBDdXN0b21TdHlsZUludGVyZmFjZSA9IHdpbmRvdy5TaGFkeUNTUyAmJiB3aW5kb3cuU2hhZHlDU1MuQ3VzdG9tU3R5bGVJbnRlcmZhY2U7XG5cbiAgLyoqIEBzdXBwcmVzcyB7ZHVwbGljYXRlfSAqL1xuICB3aW5kb3cuU2hhZHlDU1MgPSB7XG4gICAgLyoqXG4gICAgICogQHBhcmFtIHshSFRNTFRlbXBsYXRlRWxlbWVudH0gdGVtcGxhdGVcbiAgICAgKiBAcGFyYW0ge3N0cmluZ30gZWxlbWVudE5hbWVcbiAgICAgKiBAcGFyYW0ge3N0cmluZz19IGVsZW1lbnRFeHRlbmRzXG4gICAgICovXG4gICAgcHJlcGFyZVRlbXBsYXRlKHRlbXBsYXRlLCBlbGVtZW50TmFtZSwgZWxlbWVudEV4dGVuZHMpIHsgLy8gZXNsaW50LWRpc2FibGUtbGluZSBuby11bnVzZWQtdmFyc1xuICAgICAgYXBwbHlTaGltSW50ZXJmYWNlLmZsdXNoQ3VzdG9tU3R5bGVzKCk7XG4gICAgICBhcHBseVNoaW1JbnRlcmZhY2UucHJlcGFyZVRlbXBsYXRlKHRlbXBsYXRlLCBlbGVtZW50TmFtZSk7XG4gICAgfSxcblxuICAgIC8qKlxuICAgICAqIEBwYXJhbSB7IUhUTUxUZW1wbGF0ZUVsZW1lbnR9IHRlbXBsYXRlXG4gICAgICogQHBhcmFtIHtzdHJpbmd9IGVsZW1lbnROYW1lXG4gICAgICogQHBhcmFtIHtzdHJpbmc9fSBlbGVtZW50RXh0ZW5kc1xuICAgICAqL1xuICAgIHByZXBhcmVUZW1wbGF0ZVN0eWxlcyh0ZW1wbGF0ZSwgZWxlbWVudE5hbWUsIGVsZW1lbnRFeHRlbmRzKSB7XG4gICAgICB3aW5kb3cuU2hhZHlDU1MucHJlcGFyZVRlbXBsYXRlKHRlbXBsYXRlLCBlbGVtZW50TmFtZSwgZWxlbWVudEV4dGVuZHMpO1xuICAgIH0sXG5cbiAgICAvKipcbiAgICAgKiBAcGFyYW0geyFIVE1MVGVtcGxhdGVFbGVtZW50fSB0ZW1wbGF0ZVxuICAgICAqIEBwYXJhbSB7c3RyaW5nfSBlbGVtZW50TmFtZVxuICAgICAqL1xuICAgIHByZXBhcmVUZW1wbGF0ZURvbSh0ZW1wbGF0ZSwgZWxlbWVudE5hbWUpIHt9LCAvLyBlc2xpbnQtZGlzYWJsZS1saW5lIG5vLXVudXNlZC12YXJzXG5cbiAgICAvKipcbiAgICAgKiBAcGFyYW0geyFIVE1MRWxlbWVudH0gZWxlbWVudFxuICAgICAqIEBwYXJhbSB7T2JqZWN0PX0gcHJvcGVydGllc1xuICAgICAqL1xuICAgIHN0eWxlU3VidHJlZShlbGVtZW50LCBwcm9wZXJ0aWVzKSB7XG4gICAgICBhcHBseVNoaW1JbnRlcmZhY2UuZmx1c2hDdXN0b21TdHlsZXMoKTtcbiAgICAgIGFwcGx5U2hpbUludGVyZmFjZS5zdHlsZVN1YnRyZWUoZWxlbWVudCwgcHJvcGVydGllcyk7XG4gICAgfSxcblxuICAgIC8qKlxuICAgICAqIEBwYXJhbSB7IUhUTUxFbGVtZW50fSBlbGVtZW50XG4gICAgICovXG4gICAgc3R5bGVFbGVtZW50KGVsZW1lbnQpIHtcbiAgICAgIGFwcGx5U2hpbUludGVyZmFjZS5mbHVzaEN1c3RvbVN0eWxlcygpO1xuICAgICAgYXBwbHlTaGltSW50ZXJmYWNlLnN0eWxlRWxlbWVudChlbGVtZW50KTtcbiAgICB9LFxuXG4gICAgLyoqXG4gICAgICogQHBhcmFtIHtPYmplY3Q9fSBwcm9wZXJ0aWVzXG4gICAgICovXG4gICAgc3R5bGVEb2N1bWVudChwcm9wZXJ0aWVzKSB7XG4gICAgICBhcHBseVNoaW1JbnRlcmZhY2UuZmx1c2hDdXN0b21TdHlsZXMoKTtcbiAgICAgIGFwcGx5U2hpbUludGVyZmFjZS5zdHlsZURvY3VtZW50KHByb3BlcnRpZXMpO1xuICAgIH0sXG5cbiAgICAvKipcbiAgICAgKiBAcGFyYW0ge0VsZW1lbnR9IGVsZW1lbnRcbiAgICAgKiBAcGFyYW0ge3N0cmluZ30gcHJvcGVydHlcbiAgICAgKiBAcmV0dXJuIHtzdHJpbmd9XG4gICAgICovXG4gICAgZ2V0Q29tcHV0ZWRTdHlsZVZhbHVlKGVsZW1lbnQsIHByb3BlcnR5KSB7XG4gICAgICByZXR1cm4gZ2V0Q29tcHV0ZWRTdHlsZVZhbHVlKGVsZW1lbnQsIHByb3BlcnR5KTtcbiAgICB9LFxuXG4gICAgZmx1c2hDdXN0b21TdHlsZXMoKSB7XG4gICAgICBhcHBseVNoaW1JbnRlcmZhY2UuZmx1c2hDdXN0b21TdHlsZXMoKTtcbiAgICB9LFxuXG4gICAgbmF0aXZlQ3NzOiBuYXRpdmVDc3NWYXJpYWJsZXMsXG4gICAgbmF0aXZlU2hhZG93OiBuYXRpdmVTaGFkb3csXG4gICAgY3NzQnVpbGQ6IGNzc0J1aWxkLFxuICAgIGRpc2FibGVSdW50aW1lOiBkaXNhYmxlUnVudGltZSxcbiAgfTtcblxuICBpZiAoQ3VzdG9tU3R5bGVJbnRlcmZhY2UpIHtcbiAgICB3aW5kb3cuU2hhZHlDU1MuQ3VzdG9tU3R5bGVJbnRlcmZhY2UgPSBDdXN0b21TdHlsZUludGVyZmFjZTtcbiAgfVxufVxuXG53aW5kb3cuU2hhZHlDU1MuQXBwbHlTaGltID0gYXBwbHlTaGltO1xuIiwiLyoqXG4gKiBAZmlsZW92ZXJ2aWV3XG4gKiBAc3VwcHJlc3Mge2NoZWNrUHJvdG90eXBhbFR5cGVzfVxuICogQGxpY2Vuc2UgQ29weXJpZ2h0IChjKSAyMDE3IFRoZSBQb2x5bWVyIFByb2plY3QgQXV0aG9ycy4gQWxsIHJpZ2h0cyByZXNlcnZlZC5cbiAqIFRoaXMgY29kZSBtYXkgb25seSBiZSB1c2VkIHVuZGVyIHRoZSBCU0Qgc3R5bGUgbGljZW5zZSBmb3VuZCBhdFxuICogaHR0cDovL3BvbHltZXIuZ2l0aHViLmlvL0xJQ0VOU0UudHh0IFRoZSBjb21wbGV0ZSBzZXQgb2YgYXV0aG9ycyBtYXkgYmUgZm91bmRcbiAqIGF0IGh0dHA6Ly9wb2x5bWVyLmdpdGh1Yi5pby9BVVRIT1JTLnR4dCBUaGUgY29tcGxldGUgc2V0IG9mIGNvbnRyaWJ1dG9ycyBtYXlcbiAqIGJlIGZvdW5kIGF0IGh0dHA6Ly9wb2x5bWVyLmdpdGh1Yi5pby9DT05UUklCVVRPUlMudHh0IENvZGUgZGlzdHJpYnV0ZWQgYnlcbiAqIEdvb2dsZSBhcyBwYXJ0IG9mIHRoZSBwb2x5bWVyIHByb2plY3QgaXMgYWxzbyBzdWJqZWN0IHRvIGFuIGFkZGl0aW9uYWwgSVBcbiAqIHJpZ2h0cyBncmFudCBmb3VuZCBhdCBodHRwOi8vcG9seW1lci5naXRodWIuaW8vUEFURU5UUy50eHRcbiAqL1xuaW1wb3J0IHsgUHJvcGVydHlBY2Nlc3NvcnMgfSBmcm9tICcuL3Byb3BlcnR5LWFjY2Vzc29ycy5qcyc7XG5cbmltcG9ydCB7IGRlZHVwaW5nTWl4aW4gfSBmcm9tICcuLi91dGlscy9taXhpbi5qcyc7XG5cbmNvbnN0IEhPU1RfRElSID0gLzpob3N0XFwoOmRpclxcKChsdHJ8cnRsKVxcKVxcKS9nO1xuY29uc3QgSE9TVF9ESVJfUkVQTEFDTUVOVCA9ICc6aG9zdChbZGlyPVwiJDFcIl0pJztcblxuY29uc3QgRUxfRElSID0gLyhbXFxzXFx3LSNcXC5cXFtcXF1cXCpdKik6ZGlyXFwoKGx0cnxydGwpXFwpL2c7XG5jb25zdCBFTF9ESVJfUkVQTEFDTUVOVCA9ICc6aG9zdChbZGlyPVwiJDJcIl0pICQxJztcblxuY29uc3QgRElSX0NIRUNLID0gLzpkaXJcXCgoPzpsdHJ8cnRsKVxcKS87XG5cbmNvbnN0IFNISU1fU0hBRE9XID0gQm9vbGVhbih3aW5kb3dbJ1NoYWR5RE9NJ10gJiYgd2luZG93WydTaGFkeURPTSddWydpblVzZSddKTtcblxuLyoqXG4gKiBAdHlwZSB7IUFycmF5PCFQb2x5bWVyX0Rpck1peGluPn1cbiAqL1xuY29uc3QgRElSX0lOU1RBTkNFUyA9IFtdO1xuXG4vKiogQHR5cGUgez9NdXRhdGlvbk9ic2VydmVyfSAqL1xubGV0IG9ic2VydmVyID0gbnVsbDtcblxubGV0IERPQ1VNRU5UX0RJUiA9ICcnO1xuXG5mdW5jdGlvbiBnZXRSVEwoKSB7XG4gIERPQ1VNRU5UX0RJUiA9IGRvY3VtZW50LmRvY3VtZW50RWxlbWVudC5nZXRBdHRyaWJ1dGUoJ2RpcicpO1xufVxuXG4vKipcbiAqIEBwYXJhbSB7IVBvbHltZXJfRGlyTWl4aW59IGluc3RhbmNlIEluc3RhbmNlIHRvIHNldCBSVEwgc3RhdHVzIG9uXG4gKi9cbmZ1bmN0aW9uIHNldFJUTChpbnN0YW5jZSkge1xuICBpZiAoIWluc3RhbmNlLl9fYXV0b0Rpck9wdE91dCkge1xuICAgIGNvbnN0IGVsID0gLyoqIEB0eXBlIHshSFRNTEVsZW1lbnR9ICovKGluc3RhbmNlKTtcbiAgICBlbC5zZXRBdHRyaWJ1dGUoJ2RpcicsIERPQ1VNRU5UX0RJUik7XG4gIH1cbn1cblxuZnVuY3Rpb24gdXBkYXRlRGlyZWN0aW9uKCkge1xuICBnZXRSVEwoKTtcbiAgRE9DVU1FTlRfRElSID0gZG9jdW1lbnQuZG9jdW1lbnRFbGVtZW50LmdldEF0dHJpYnV0ZSgnZGlyJyk7XG4gIGZvciAobGV0IGkgPSAwOyBpIDwgRElSX0lOU1RBTkNFUy5sZW5ndGg7IGkrKykge1xuICAgIHNldFJUTChESVJfSU5TVEFOQ0VTW2ldKTtcbiAgfVxufVxuXG5mdW5jdGlvbiB0YWtlUmVjb3JkcygpIHtcbiAgaWYgKG9ic2VydmVyICYmIG9ic2VydmVyLnRha2VSZWNvcmRzKCkubGVuZ3RoKSB7XG4gICAgdXBkYXRlRGlyZWN0aW9uKCk7XG4gIH1cbn1cblxuLyoqXG4gKiBFbGVtZW50IGNsYXNzIG1peGluIHRoYXQgYWxsb3dzIGVsZW1lbnRzIHRvIHVzZSB0aGUgYDpkaXJgIENTUyBTZWxlY3RvciB0b1xuICogaGF2ZSB0ZXh0IGRpcmVjdGlvbiBzcGVjaWZpYyBzdHlsaW5nLlxuICpcbiAqIFdpdGggdGhpcyBtaXhpbiwgYW55IHN0eWxlc2hlZXQgcHJvdmlkZWQgaW4gdGhlIHRlbXBsYXRlIHdpbGwgdHJhbnNmb3JtXG4gKiBgOmRpcmAgaW50byBgOmhvc3QoW2Rpcl0pYCBhbmQgc3luYyBkaXJlY3Rpb24gd2l0aCB0aGUgcGFnZSB2aWEgdGhlXG4gKiBlbGVtZW50J3MgYGRpcmAgYXR0cmlidXRlLlxuICpcbiAqIEVsZW1lbnRzIGNhbiBvcHQgb3V0IG9mIHRoZSBnbG9iYWwgcGFnZSB0ZXh0IGRpcmVjdGlvbiBieSBzZXR0aW5nIHRoZSBgZGlyYFxuICogYXR0cmlidXRlIGRpcmVjdGx5IGluIGByZWFkeSgpYCBvciBpbiBIVE1MLlxuICpcbiAqIENhdmVhdHM6XG4gKiAtIEFwcGxpY2F0aW9ucyBtdXN0IHNldCBgPGh0bWwgZGlyPVwibHRyXCI+YCBvciBgPGh0bWwgZGlyPVwicnRsXCI+YCB0byBzeW5jXG4gKiAgIGRpcmVjdGlvblxuICogLSBBdXRvbWF0aWMgbGVmdC10by1yaWdodCBvciByaWdodC10by1sZWZ0IHN0eWxpbmcgaXMgc3luYydkIHdpdGggdGhlXG4gKiAgIGA8aHRtbD5gIGVsZW1lbnQgb25seS5cbiAqIC0gQ2hhbmdpbmcgYGRpcmAgYXQgcnVudGltZSBpcyBzdXBwb3J0ZWQuXG4gKiAtIE9wdGluZyBvdXQgb2YgdGhlIGdsb2JhbCBkaXJlY3Rpb24gc3R5bGluZyBpcyBwZXJtYW5lbnRcbiAqXG4gKiBAbWl4aW5GdW5jdGlvblxuICogQHBvbHltZXJcbiAqIEBhcHBsaWVzTWl4aW4gUHJvcGVydHlBY2Nlc3NvcnNcbiAqL1xuZXhwb3J0IGNvbnN0IERpck1peGluID0gZGVkdXBpbmdNaXhpbigoYmFzZSkgPT4ge1xuXG4gIGlmICghU0hJTV9TSEFET1cpIHtcbiAgICBpZiAoIW9ic2VydmVyKSB7XG4gICAgICBnZXRSVEwoKTtcbiAgICAgIG9ic2VydmVyID0gbmV3IE11dGF0aW9uT2JzZXJ2ZXIodXBkYXRlRGlyZWN0aW9uKTtcbiAgICAgIG9ic2VydmVyLm9ic2VydmUoZG9jdW1lbnQuZG9jdW1lbnRFbGVtZW50LCB7YXR0cmlidXRlczogdHJ1ZSwgYXR0cmlidXRlRmlsdGVyOiBbJ2RpciddfSk7XG4gICAgfVxuICB9XG5cbiAgLyoqXG4gICAqIEBjb25zdHJ1Y3RvclxuICAgKiBAaW1wbGVtZW50cyB7UG9seW1lcl9Qcm9wZXJ0eUFjY2Vzc29yc31cbiAgICogQHByaXZhdGVcbiAgICovXG4gIGNvbnN0IGVsZW1lbnRCYXNlID0gUHJvcGVydHlBY2Nlc3NvcnMoYmFzZSk7XG5cbiAgLyoqXG4gICAqIEBwb2x5bWVyXG4gICAqIEBtaXhpbkNsYXNzXG4gICAqIEBpbXBsZW1lbnRzIHtQb2x5bWVyX0Rpck1peGlufVxuICAgKi9cbiAgY2xhc3MgRGlyIGV4dGVuZHMgZWxlbWVudEJhc2Uge1xuXG4gICAgLyoqXG4gICAgICogQHBhcmFtIHtzdHJpbmd9IGNzc1RleHQgLlxuICAgICAqIEBwYXJhbSB7c3RyaW5nfSBiYXNlVVJJIC5cbiAgICAgKiBAcmV0dXJuIHtzdHJpbmd9IC5cbiAgICAgKiBAc3VwcHJlc3Mge21pc3NpbmdQcm9wZXJ0aWVzfSBJbnRlcmZhY2VzIGluIGNsb3N1cmUgZG8gbm90IGluaGVyaXQgc3RhdGljcywgYnV0IGNsYXNzZXMgZG9cbiAgICAgKi9cbiAgICBzdGF0aWMgX3Byb2Nlc3NTdHlsZVRleHQoY3NzVGV4dCwgYmFzZVVSSSkge1xuICAgICAgY3NzVGV4dCA9IHN1cGVyLl9wcm9jZXNzU3R5bGVUZXh0KGNzc1RleHQsIGJhc2VVUkkpO1xuICAgICAgaWYgKCFTSElNX1NIQURPVyAmJiBESVJfQ0hFQ0sudGVzdChjc3NUZXh0KSkge1xuICAgICAgICBjc3NUZXh0ID0gdGhpcy5fcmVwbGFjZURpckluQ3NzVGV4dChjc3NUZXh0KTtcbiAgICAgICAgdGhpcy5fX2FjdGl2YXRlRGlyID0gdHJ1ZTtcbiAgICAgIH1cbiAgICAgIHJldHVybiBjc3NUZXh0O1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIFJlcGxhY2UgYDpkaXJgIGluIHRoZSBnaXZlbiBDU1MgdGV4dFxuICAgICAqXG4gICAgICogQHBhcmFtIHtzdHJpbmd9IHRleHQgQ1NTIHRleHQgdG8gcmVwbGFjZSBESVJcbiAgICAgKiBAcmV0dXJuIHtzdHJpbmd9IE1vZGlmaWVkIENTU1xuICAgICAqL1xuICAgIHN0YXRpYyBfcmVwbGFjZURpckluQ3NzVGV4dCh0ZXh0KSB7XG4gICAgICBsZXQgcmVwbGFjZWRUZXh0ID0gdGV4dDtcbiAgICAgIHJlcGxhY2VkVGV4dCA9IHJlcGxhY2VkVGV4dC5yZXBsYWNlKEhPU1RfRElSLCBIT1NUX0RJUl9SRVBMQUNNRU5UKTtcbiAgICAgIHJlcGxhY2VkVGV4dCA9IHJlcGxhY2VkVGV4dC5yZXBsYWNlKEVMX0RJUiwgRUxfRElSX1JFUExBQ01FTlQpO1xuICAgICAgcmV0dXJuIHJlcGxhY2VkVGV4dDtcbiAgICB9XG5cbiAgICBjb25zdHJ1Y3RvcigpIHtcbiAgICAgIHN1cGVyKCk7XG4gICAgICAvKiogQHR5cGUge2Jvb2xlYW59ICovXG4gICAgICB0aGlzLl9fYXV0b0Rpck9wdE91dCA9IGZhbHNlO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIEBvdmVycmlkZVxuICAgICAqIEBzdXBwcmVzcyB7aW52YWxpZENhc3RzfSBDbG9zdXJlIGRvZXNuJ3QgdW5kZXJzdGFuZCB0aGF0IGB0aGlzYCBpcyBhblxuICAgICAqICAgICBIVE1MRWxlbWVudFxuICAgICAqIEByZXR1cm4ge3ZvaWR9XG4gICAgICovXG4gICAgcmVhZHkoKSB7XG4gICAgICBzdXBlci5yZWFkeSgpO1xuICAgICAgdGhpcy5fX2F1dG9EaXJPcHRPdXQgPSAvKiogQHR5cGUgeyFIVE1MRWxlbWVudH0gKi8odGhpcykuaGFzQXR0cmlidXRlKCdkaXInKTtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBAb3ZlcnJpZGVcbiAgICAgKiBAc3VwcHJlc3Mge21pc3NpbmdQcm9wZXJ0aWVzfSBJZiBpdCBleGlzdHMgb24gZWxlbWVudEJhc2UsIGl0IGNhbiBiZVxuICAgICAqICAgc3VwZXInZFxuICAgICAqIEByZXR1cm4ge3ZvaWR9XG4gICAgICovXG4gICAgY29ubmVjdGVkQ2FsbGJhY2soKSB7XG4gICAgICBpZiAoZWxlbWVudEJhc2UucHJvdG90eXBlLmNvbm5lY3RlZENhbGxiYWNrKSB7XG4gICAgICAgIHN1cGVyLmNvbm5lY3RlZENhbGxiYWNrKCk7XG4gICAgICB9XG4gICAgICBpZiAodGhpcy5jb25zdHJ1Y3Rvci5fX2FjdGl2YXRlRGlyKSB7XG4gICAgICAgIHRha2VSZWNvcmRzKCk7XG4gICAgICAgIERJUl9JTlNUQU5DRVMucHVzaCh0aGlzKTtcbiAgICAgICAgc2V0UlRMKHRoaXMpO1xuICAgICAgfVxuICAgIH1cblxuICAgIC8qKlxuICAgICAqIEBvdmVycmlkZVxuICAgICAqIEBzdXBwcmVzcyB7bWlzc2luZ1Byb3BlcnRpZXN9IElmIGl0IGV4aXN0cyBvbiBlbGVtZW50QmFzZSwgaXQgY2FuIGJlXG4gICAgICogICBzdXBlcidkXG4gICAgICogQHJldHVybiB7dm9pZH1cbiAgICAgKi9cbiAgICBkaXNjb25uZWN0ZWRDYWxsYmFjaygpIHtcbiAgICAgIGlmIChlbGVtZW50QmFzZS5wcm90b3R5cGUuZGlzY29ubmVjdGVkQ2FsbGJhY2spIHtcbiAgICAgICAgc3VwZXIuZGlzY29ubmVjdGVkQ2FsbGJhY2soKTtcbiAgICAgIH1cbiAgICAgIGlmICh0aGlzLmNvbnN0cnVjdG9yLl9fYWN0aXZhdGVEaXIpIHtcbiAgICAgICAgY29uc3QgaWR4ID0gRElSX0lOU1RBTkNFUy5pbmRleE9mKHRoaXMpO1xuICAgICAgICBpZiAoaWR4ID4gLTEpIHtcbiAgICAgICAgICBESVJfSU5TVEFOQ0VTLnNwbGljZShpZHgsIDEpO1xuICAgICAgICB9XG4gICAgICB9XG4gICAgfVxuICB9XG5cbiAgRGlyLl9fYWN0aXZhdGVEaXIgPSBmYWxzZTtcblxuICByZXR1cm4gRGlyO1xufSk7XG4iLCIvKipcbkBsaWNlbnNlXG5Db3B5cmlnaHQgKGMpIDIwMTcgVGhlIFBvbHltZXIgUHJvamVjdCBBdXRob3JzLiBBbGwgcmlnaHRzIHJlc2VydmVkLlxuVGhpcyBjb2RlIG1heSBvbmx5IGJlIHVzZWQgdW5kZXIgdGhlIEJTRCBzdHlsZSBsaWNlbnNlIGZvdW5kIGF0IGh0dHA6Ly9wb2x5bWVyLmdpdGh1Yi5pby9MSUNFTlNFLnR4dFxuVGhlIGNvbXBsZXRlIHNldCBvZiBhdXRob3JzIG1heSBiZSBmb3VuZCBhdCBodHRwOi8vcG9seW1lci5naXRodWIuaW8vQVVUSE9SUy50eHRcblRoZSBjb21wbGV0ZSBzZXQgb2YgY29udHJpYnV0b3JzIG1heSBiZSBmb3VuZCBhdCBodHRwOi8vcG9seW1lci5naXRodWIuaW8vQ09OVFJJQlVUT1JTLnR4dFxuQ29kZSBkaXN0cmlidXRlZCBieSBHb29nbGUgYXMgcGFydCBvZiB0aGUgcG9seW1lciBwcm9qZWN0IGlzIGFsc29cbnN1YmplY3QgdG8gYW4gYWRkaXRpb25hbCBJUCByaWdodHMgZ3JhbnQgZm91bmQgYXQgaHR0cDovL3BvbHltZXIuZ2l0aHViLmlvL1BBVEVOVFMudHh0XG4qL1xuXG5mdW5jdGlvbiByZXNvbHZlKCkge1xuICBkb2N1bWVudC5ib2R5LnJlbW92ZUF0dHJpYnV0ZSgndW5yZXNvbHZlZCcpO1xufVxuXG5pZiAoZG9jdW1lbnQucmVhZHlTdGF0ZSA9PT0gJ2ludGVyYWN0aXZlJyB8fCBkb2N1bWVudC5yZWFkeVN0YXRlID09PSAnY29tcGxldGUnKSB7XG4gIHJlc29sdmUoKTtcbn0gZWxzZSB7XG4gIHdpbmRvdy5hZGRFdmVudExpc3RlbmVyKCdET01Db250ZW50TG9hZGVkJywgcmVzb2x2ZSk7XG59XG5cbmV4cG9ydCB7fTtcbiIsIi8qKlxuQGxpY2Vuc2VcbkNvcHlyaWdodCAoYykgMjAxNyBUaGUgUG9seW1lciBQcm9qZWN0IEF1dGhvcnMuIEFsbCByaWdodHMgcmVzZXJ2ZWQuXG5UaGlzIGNvZGUgbWF5IG9ubHkgYmUgdXNlZCB1bmRlciB0aGUgQlNEIHN0eWxlIGxpY2Vuc2UgZm91bmQgYXQgaHR0cDovL3BvbHltZXIuZ2l0aHViLmlvL0xJQ0VOU0UudHh0XG5UaGUgY29tcGxldGUgc2V0IG9mIGF1dGhvcnMgbWF5IGJlIGZvdW5kIGF0IGh0dHA6Ly9wb2x5bWVyLmdpdGh1Yi5pby9BVVRIT1JTLnR4dFxuVGhlIGNvbXBsZXRlIHNldCBvZiBjb250cmlidXRvcnMgbWF5IGJlIGZvdW5kIGF0IGh0dHA6Ly9wb2x5bWVyLmdpdGh1Yi5pby9DT05UUklCVVRPUlMudHh0XG5Db2RlIGRpc3RyaWJ1dGVkIGJ5IEdvb2dsZSBhcyBwYXJ0IG9mIHRoZSBwb2x5bWVyIHByb2plY3QgaXMgYWxzb1xuc3ViamVjdCB0byBhbiBhZGRpdGlvbmFsIElQIHJpZ2h0cyBncmFudCBmb3VuZCBhdCBodHRwOi8vcG9seW1lci5naXRodWIuaW8vUEFURU5UUy50eHRcbiovXG5pbXBvcnQgJ0B3ZWJjb21wb25lbnRzL3NoYWR5Y3NzL2VudHJ5cG9pbnRzL2FwcGx5LXNoaW0uanMnO1xuaW1wb3J0IHsgRWxlbWVudE1peGluIH0gZnJvbSAnLi4vbWl4aW5zL2VsZW1lbnQtbWl4aW4uanMnO1xuaW1wb3J0IHsgR2VzdHVyZUV2ZW50TGlzdGVuZXJzIH0gZnJvbSAnLi4vbWl4aW5zL2dlc3R1cmUtZXZlbnQtbGlzdGVuZXJzLmpzJztcbmltcG9ydCB7IERpck1peGluIH0gZnJvbSAnLi4vbWl4aW5zL2Rpci1taXhpbi5qcyc7XG5pbXBvcnQgeyBkZWR1cGluZ01peGluIH0gZnJvbSAnLi4vdXRpbHMvbWl4aW4uanMnO1xuaW1wb3J0ICcuLi91dGlscy9yZW5kZXItc3RhdHVzLmpzJztcbmltcG9ydCAnLi4vdXRpbHMvdW5yZXNvbHZlZC5qcyc7XG5pbXBvcnQgeyBkb20sIG1hdGNoZXNTZWxlY3RvciB9IGZyb20gJy4vcG9seW1lci5kb20uanMnO1xuaW1wb3J0IHsgc2V0VG91Y2hBY3Rpb24gfSBmcm9tICcuLi91dGlscy9nZXN0dXJlcy5qcyc7XG5pbXBvcnQgeyBEZWJvdW5jZXIgfSBmcm9tICcuLi91dGlscy9kZWJvdW5jZS5qcyc7XG5pbXBvcnQgeyB0aW1lT3V0LCBtaWNyb1Rhc2sgfSBmcm9tICcuLi91dGlscy9hc3luYy5qcyc7XG5pbXBvcnQgeyBnZXQgfSBmcm9tICcuLi91dGlscy9wYXRoLmpzJztcbmltcG9ydCB7IHdyYXAgfSBmcm9tICcuLi91dGlscy93cmFwLmpzJztcblxubGV0IHN0eWxlSW50ZXJmYWNlID0gd2luZG93LlNoYWR5Q1NTO1xuXG4vKipcbiAqIEVsZW1lbnQgY2xhc3MgbWl4aW4gdGhhdCBwcm92aWRlcyBQb2x5bWVyJ3MgXCJsZWdhY3lcIiBBUEkgaW50ZW5kZWQgdG8gYmVcbiAqIGJhY2t3YXJkLWNvbXBhdGlibGUgdG8gdGhlIGdyZWF0ZXN0IGV4dGVudCBwb3NzaWJsZSB3aXRoIHRoZSBBUElcbiAqIGZvdW5kIG9uIHRoZSBQb2x5bWVyIDEueCBgUG9seW1lci5CYXNlYCBwcm90b3R5cGUgYXBwbGllZCB0byBhbGwgZWxlbWVudHNcbiAqIGRlZmluZWQgdXNpbmcgdGhlIGBQb2x5bWVyKHsuLi59KWAgZnVuY3Rpb24uXG4gKlxuICogQG1peGluRnVuY3Rpb25cbiAqIEBwb2x5bWVyXG4gKiBAYXBwbGllc01peGluIEVsZW1lbnRNaXhpblxuICogQGFwcGxpZXNNaXhpbiBHZXN0dXJlRXZlbnRMaXN0ZW5lcnNcbiAqIEBwcm9wZXJ0eSBpc0F0dGFjaGVkIHtib29sZWFufSBTZXQgdG8gYHRydWVgIGluIHRoaXMgZWxlbWVudCdzXG4gKiAgIGBjb25uZWN0ZWRDYWxsYmFja2AgYW5kIGBmYWxzZWAgaW4gYGRpc2Nvbm5lY3RlZENhbGxiYWNrYFxuICogQHN1bW1hcnkgRWxlbWVudCBjbGFzcyBtaXhpbiB0aGF0IHByb3ZpZGVzIFBvbHltZXIncyBcImxlZ2FjeVwiIEFQSVxuICovXG5leHBvcnQgY29uc3QgTGVnYWN5RWxlbWVudE1peGluID0gZGVkdXBpbmdNaXhpbigoYmFzZSkgPT4ge1xuICAvKipcbiAgICogQGNvbnN0cnVjdG9yXG4gICAqIEBpbXBsZW1lbnRzIHtQb2x5bWVyX0VsZW1lbnRNaXhpbn1cbiAgICogQGltcGxlbWVudHMge1BvbHltZXJfR2VzdHVyZUV2ZW50TGlzdGVuZXJzfVxuICAgKiBAaW1wbGVtZW50cyB7UG9seW1lcl9EaXJNaXhpbn1cbiAgICogQGV4dGVuZHMge0hUTUxFbGVtZW50fVxuICAgKiBAcHJpdmF0ZVxuICAgKi9cbiAgY29uc3QgbGVnYWN5RWxlbWVudEJhc2UgPSBEaXJNaXhpbihHZXN0dXJlRXZlbnRMaXN0ZW5lcnMoRWxlbWVudE1peGluKGJhc2UpKSk7XG5cbiAgLyoqXG4gICAqIE1hcCBvZiBzaW1wbGUgbmFtZXMgdG8gdG91Y2ggYWN0aW9uIG5hbWVzXG4gICAqIEBkaWN0XG4gICAqL1xuICBjb25zdCBESVJFQ1RJT05fTUFQID0ge1xuICAgICd4JzogJ3Bhbi14JyxcbiAgICAneSc6ICdwYW4teScsXG4gICAgJ25vbmUnOiAnbm9uZScsXG4gICAgJ2FsbCc6ICdhdXRvJ1xuICB9O1xuXG4gIC8qKlxuICAgKiBAcG9seW1lclxuICAgKiBAbWl4aW5DbGFzc1xuICAgKiBAZXh0ZW5kcyB7bGVnYWN5RWxlbWVudEJhc2V9XG4gICAqIEBpbXBsZW1lbnRzIHtQb2x5bWVyX0xlZ2FjeUVsZW1lbnRNaXhpbn1cbiAgICogQHVucmVzdHJpY3RlZFxuICAgKi9cbiAgY2xhc3MgTGVnYWN5RWxlbWVudCBleHRlbmRzIGxlZ2FjeUVsZW1lbnRCYXNlIHtcblxuICAgIGNvbnN0cnVjdG9yKCkge1xuICAgICAgc3VwZXIoKTtcbiAgICAgIC8qKiBAdHlwZSB7Ym9vbGVhbn0gKi9cbiAgICAgIHRoaXMuaXNBdHRhY2hlZDtcbiAgICAgIC8qKiBAdHlwZSB7P1dlYWtNYXA8IUVsZW1lbnQsICFPYmplY3Q8c3RyaW5nLCAhRnVuY3Rpb24+Pn0gKi9cbiAgICAgIHRoaXMuX19ib3VuZExpc3RlbmVycztcbiAgICAgIC8qKiBAdHlwZSB7P09iamVjdDxzdHJpbmcsID9GdW5jdGlvbj59ICovXG4gICAgICB0aGlzLl9kZWJvdW5jZXJzO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIEZvcndhcmRzIGBpbXBvcnRNZXRhYCBmcm9tIHRoZSBwcm90b3R5cGUgKGkuZS4gZnJvbSB0aGUgaW5mbyBvYmplY3RcbiAgICAgKiBwYXNzZWQgdG8gYFBvbHltZXIoey4uLn0pYCkgdG8gdGhlIHN0YXRpYyBBUEkuXG4gICAgICpcbiAgICAgKiBAcmV0dXJuIHshT2JqZWN0fSBUaGUgYGltcG9ydC5tZXRhYCBvYmplY3Qgc2V0IG9uIHRoZSBwcm90b3R5cGVcbiAgICAgKiBAc3VwcHJlc3Mge21pc3NpbmdQcm9wZXJ0aWVzfSBgdGhpc2AgaXMgYWx3YXlzIGluIHRoZSBpbnN0YW5jZSBpblxuICAgICAqICBjbG9zdXJlIGZvciBzb21lIHJlYXNvbiBldmVuIGluIGEgc3RhdGljIG1ldGhvZCwgcmF0aGVyIHRoYW4gdGhlIGNsYXNzXG4gICAgICovXG4gICAgc3RhdGljIGdldCBpbXBvcnRNZXRhKCkge1xuICAgICAgcmV0dXJuIHRoaXMucHJvdG90eXBlLmltcG9ydE1ldGE7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogTGVnYWN5IGNhbGxiYWNrIGNhbGxlZCBkdXJpbmcgdGhlIGBjb25zdHJ1Y3RvcmAsIGZvciBvdmVycmlkaW5nXG4gICAgICogYnkgdGhlIHVzZXIuXG4gICAgICogQG92ZXJyaWRlXG4gICAgICogQHJldHVybiB7dm9pZH1cbiAgICAgKi9cbiAgICBjcmVhdGVkKCkge31cblxuICAgIC8qKlxuICAgICAqIFByb3ZpZGVzIGFuIGltcGxlbWVudGF0aW9uIG9mIGBjb25uZWN0ZWRDYWxsYmFja2BcbiAgICAgKiB3aGljaCBhZGRzIFBvbHltZXIgbGVnYWN5IEFQSSdzIGBhdHRhY2hlZGAgbWV0aG9kLlxuICAgICAqIEByZXR1cm4ge3ZvaWR9XG4gICAgICogQG92ZXJyaWRlXG4gICAgICovXG4gICAgY29ubmVjdGVkQ2FsbGJhY2soKSB7XG4gICAgICBzdXBlci5jb25uZWN0ZWRDYWxsYmFjaygpO1xuICAgICAgdGhpcy5pc0F0dGFjaGVkID0gdHJ1ZTtcbiAgICAgIHRoaXMuYXR0YWNoZWQoKTtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBMZWdhY3kgY2FsbGJhY2sgY2FsbGVkIGR1cmluZyBgY29ubmVjdGVkQ2FsbGJhY2tgLCBmb3Igb3ZlcnJpZGluZ1xuICAgICAqIGJ5IHRoZSB1c2VyLlxuICAgICAqIEBvdmVycmlkZVxuICAgICAqIEByZXR1cm4ge3ZvaWR9XG4gICAgICovXG4gICAgYXR0YWNoZWQoKSB7fVxuXG4gICAgLyoqXG4gICAgICogUHJvdmlkZXMgYW4gaW1wbGVtZW50YXRpb24gb2YgYGRpc2Nvbm5lY3RlZENhbGxiYWNrYFxuICAgICAqIHdoaWNoIGFkZHMgUG9seW1lciBsZWdhY3kgQVBJJ3MgYGRldGFjaGVkYCBtZXRob2QuXG4gICAgICogQHJldHVybiB7dm9pZH1cbiAgICAgKiBAb3ZlcnJpZGVcbiAgICAgKi9cbiAgICBkaXNjb25uZWN0ZWRDYWxsYmFjaygpIHtcbiAgICAgIHN1cGVyLmRpc2Nvbm5lY3RlZENhbGxiYWNrKCk7XG4gICAgICB0aGlzLmlzQXR0YWNoZWQgPSBmYWxzZTtcbiAgICAgIHRoaXMuZGV0YWNoZWQoKTtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBMZWdhY3kgY2FsbGJhY2sgY2FsbGVkIGR1cmluZyBgZGlzY29ubmVjdGVkQ2FsbGJhY2tgLCBmb3Igb3ZlcnJpZGluZ1xuICAgICAqIGJ5IHRoZSB1c2VyLlxuICAgICAqIEBvdmVycmlkZVxuICAgICAqIEByZXR1cm4ge3ZvaWR9XG4gICAgICovXG4gICAgZGV0YWNoZWQoKSB7fVxuXG4gICAgLyoqXG4gICAgICogUHJvdmlkZXMgYW4gb3ZlcnJpZGUgaW1wbGVtZW50YXRpb24gb2YgYGF0dHJpYnV0ZUNoYW5nZWRDYWxsYmFja2BcbiAgICAgKiB3aGljaCBhZGRzIHRoZSBQb2x5bWVyIGxlZ2FjeSBBUEkncyBgYXR0cmlidXRlQ2hhbmdlZGAgbWV0aG9kLlxuICAgICAqIEBwYXJhbSB7c3RyaW5nfSBuYW1lIE5hbWUgb2YgYXR0cmlidXRlLlxuICAgICAqIEBwYXJhbSB7P3N0cmluZ30gb2xkIE9sZCB2YWx1ZSBvZiBhdHRyaWJ1dGUuXG4gICAgICogQHBhcmFtIHs/c3RyaW5nfSB2YWx1ZSBDdXJyZW50IHZhbHVlIG9mIGF0dHJpYnV0ZS5cbiAgICAgKiBAcGFyYW0gez9zdHJpbmd9IG5hbWVzcGFjZSBBdHRyaWJ1dGUgbmFtZXNwYWNlLlxuICAgICAqIEByZXR1cm4ge3ZvaWR9XG4gICAgICogQG92ZXJyaWRlXG4gICAgICovXG4gICAgYXR0cmlidXRlQ2hhbmdlZENhbGxiYWNrKG5hbWUsIG9sZCwgdmFsdWUsIG5hbWVzcGFjZSkge1xuICAgICAgaWYgKG9sZCAhPT0gdmFsdWUpIHtcbiAgICAgICAgc3VwZXIuYXR0cmlidXRlQ2hhbmdlZENhbGxiYWNrKG5hbWUsIG9sZCwgdmFsdWUsIG5hbWVzcGFjZSk7XG4gICAgICAgIHRoaXMuYXR0cmlidXRlQ2hhbmdlZChuYW1lLCBvbGQsIHZhbHVlKTtcbiAgICAgIH1cbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBMZWdhY3kgY2FsbGJhY2sgY2FsbGVkIGR1cmluZyBgYXR0cmlidXRlQ2hhbmdlZENoYWxsYmFja2AsIGZvciBvdmVycmlkaW5nXG4gICAgICogYnkgdGhlIHVzZXIuXG4gICAgICogQHBhcmFtIHtzdHJpbmd9IG5hbWUgTmFtZSBvZiBhdHRyaWJ1dGUuXG4gICAgICogQHBhcmFtIHs/c3RyaW5nfSBvbGQgT2xkIHZhbHVlIG9mIGF0dHJpYnV0ZS5cbiAgICAgKiBAcGFyYW0gez9zdHJpbmd9IHZhbHVlIEN1cnJlbnQgdmFsdWUgb2YgYXR0cmlidXRlLlxuICAgICAqIEByZXR1cm4ge3ZvaWR9XG4gICAgICogQG92ZXJyaWRlXG4gICAgICovXG4gICAgYXR0cmlidXRlQ2hhbmdlZChuYW1lLCBvbGQsIHZhbHVlKSB7fSAvLyBlc2xpbnQtZGlzYWJsZS1saW5lIG5vLXVudXNlZC12YXJzXG5cbiAgICAvKipcbiAgICAgKiBPdmVycmlkZXMgdGhlIGRlZmF1bHQgYFBvbHltZXIuUHJvcGVydHlFZmZlY3RzYCBpbXBsZW1lbnRhdGlvbiB0b1xuICAgICAqIGFkZCBzdXBwb3J0IGZvciBjbGFzcyBpbml0aWFsaXphdGlvbiB2aWEgdGhlIGBfcmVnaXN0ZXJlZGAgY2FsbGJhY2suXG4gICAgICogVGhpcyBpcyBjYWxsZWQgb25seSB3aGVuIHRoZSBmaXJzdCBpbnN0YW5jZSBvZiB0aGUgZWxlbWVudCBpcyBjcmVhdGVkLlxuICAgICAqXG4gICAgICogQHJldHVybiB7dm9pZH1cbiAgICAgKiBAb3ZlcnJpZGVcbiAgICAgKiBAc3VwcHJlc3Mge2ludmFsaWRDYXN0c31cbiAgICAgKi9cbiAgICBfaW5pdGlhbGl6ZVByb3BlcnRpZXMoKSB7XG4gICAgICBsZXQgcHJvdG8gPSBPYmplY3QuZ2V0UHJvdG90eXBlT2YodGhpcyk7XG4gICAgICBpZiAoIXByb3RvLmhhc093blByb3BlcnR5KCdfX2hhc1JlZ2lzdGVyRmluaXNoZWQnKSkge1xuICAgICAgICB0aGlzLl9yZWdpc3RlcmVkKCk7XG4gICAgICAgIC8vIGJhY2tzdG9wIGluIGNhc2UgdGhlIGBfcmVnaXN0ZXJlZGAgaW1wbGVtZW50YXRpb24gZG9lcyBub3Qgc2V0IHRoaXNcbiAgICAgICAgcHJvdG8uX19oYXNSZWdpc3RlckZpbmlzaGVkID0gdHJ1ZTtcbiAgICAgIH1cbiAgICAgIHN1cGVyLl9pbml0aWFsaXplUHJvcGVydGllcygpO1xuICAgICAgdGhpcy5yb290ID0gLyoqIEB0eXBlIHtIVE1MRWxlbWVudH0gKi8odGhpcyk7XG4gICAgICB0aGlzLmNyZWF0ZWQoKTtcbiAgICAgIC8vIEVuc3VyZSBsaXN0ZW5lcnMgYXJlIGFwcGxpZWQgaW1tZWRpYXRlbHkgc28gdGhhdCB0aGV5IGFyZVxuICAgICAgLy8gYWRkZWQgYmVmb3JlIGRlY2xhcmF0aXZlIGV2ZW50IGxpc3RlbmVycy4gVGhpcyBhbGxvd3MgYW4gZWxlbWVudCB0b1xuICAgICAgLy8gZGVjb3JhdGUgaXRzZWxmIHZpYSBhbiBldmVudCBwcmlvciB0byBhbnkgZGVjbGFyYXRpdmUgbGlzdGVuZXJzXG4gICAgICAvLyBzZWVpbmcgdGhlIGV2ZW50LiBOb3RlLCB0aGlzIGVuc3VyZXMgY29tcGF0aWJpbGl0eSB3aXRoIDEueCBvcmRlcmluZy5cbiAgICAgIHRoaXMuX2FwcGx5TGlzdGVuZXJzKCk7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogQ2FsbGVkIGF1dG9tYXRpY2FsbHkgd2hlbiBhbiBlbGVtZW50IGlzIGluaXRpYWxpemluZy5cbiAgICAgKiBVc2VycyBtYXkgb3ZlcnJpZGUgdGhpcyBtZXRob2QgdG8gcGVyZm9ybSBjbGFzcyByZWdpc3RyYXRpb24gdGltZVxuICAgICAqIHdvcmsuIFRoZSBpbXBsZW1lbnRhdGlvbiBzaG91bGQgZW5zdXJlIHRoZSB3b3JrIGlzIHBlcmZvcm1lZFxuICAgICAqIG9ubHkgb25jZSBmb3IgdGhlIGNsYXNzLlxuICAgICAqIEBwcm90ZWN0ZWRcbiAgICAgKiBAcmV0dXJuIHt2b2lkfVxuICAgICAqIEBvdmVycmlkZVxuICAgICAqL1xuICAgIF9yZWdpc3RlcmVkKCkge31cblxuICAgIC8qKlxuICAgICAqIE92ZXJyaWRlcyB0aGUgZGVmYXVsdCBgUG9seW1lci5Qcm9wZXJ0eUVmZmVjdHNgIGltcGxlbWVudGF0aW9uIHRvXG4gICAgICogYWRkIHN1cHBvcnQgZm9yIGluc3RhbGxpbmcgYGhvc3RBdHRyaWJ1dGVzYCBhbmQgYGxpc3RlbmVyc2AuXG4gICAgICpcbiAgICAgKiBAcmV0dXJuIHt2b2lkfVxuICAgICAqIEBvdmVycmlkZVxuICAgICAqL1xuICAgIHJlYWR5KCkge1xuICAgICAgdGhpcy5fZW5zdXJlQXR0cmlidXRlcygpO1xuICAgICAgc3VwZXIucmVhZHkoKTtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBFbnN1cmVzIGFuIGVsZW1lbnQgaGFzIHJlcXVpcmVkIGF0dHJpYnV0ZXMuIENhbGxlZCB3aGVuIHRoZSBlbGVtZW50XG4gICAgICogaXMgYmVpbmcgcmVhZGllZCB2aWEgYHJlYWR5YC4gVXNlcnMgc2hvdWxkIG92ZXJyaWRlIHRvIHNldCB0aGVcbiAgICAgKiBlbGVtZW50J3MgcmVxdWlyZWQgYXR0cmlidXRlcy4gVGhlIGltcGxlbWVudGF0aW9uIHNob3VsZCBiZSBzdXJlXG4gICAgICogdG8gY2hlY2sgYW5kIG5vdCBvdmVycmlkZSBleGlzdGluZyBhdHRyaWJ1dGVzIGFkZGVkIGJ5XG4gICAgICogdGhlIHVzZXIgb2YgdGhlIGVsZW1lbnQuIFR5cGljYWxseSwgc2V0dGluZyBhdHRyaWJ1dGVzIHNob3VsZCBiZSBsZWZ0XG4gICAgICogdG8gdGhlIGVsZW1lbnQgdXNlciBhbmQgbm90IGRvbmUgaGVyZTsgcmVhc29uYWJsZSBleGNlcHRpb25zIGluY2x1ZGVcbiAgICAgKiBzZXR0aW5nIGFyaWEgcm9sZXMgYW5kIGZvY3VzYWJpbGl0eS5cbiAgICAgKiBAcHJvdGVjdGVkXG4gICAgICogQHJldHVybiB7dm9pZH1cbiAgICAgKiBAb3ZlcnJpZGVcbiAgICAgKi9cbiAgICBfZW5zdXJlQXR0cmlidXRlcygpIHt9XG5cbiAgICAvKipcbiAgICAgKiBBZGRzIGVsZW1lbnQgZXZlbnQgbGlzdGVuZXJzLiBDYWxsZWQgd2hlbiB0aGUgZWxlbWVudFxuICAgICAqIGlzIGJlaW5nIHJlYWRpZWQgdmlhIGByZWFkeWAuIFVzZXJzIHNob3VsZCBvdmVycmlkZSB0b1xuICAgICAqIGFkZCBhbnkgcmVxdWlyZWQgZWxlbWVudCBldmVudCBsaXN0ZW5lcnMuXG4gICAgICogSW4gcGVyZm9ybWFuY2UgY3JpdGljYWwgZWxlbWVudHMsIHRoZSB3b3JrIGRvbmUgaGVyZSBzaG91bGQgYmUga2VwdFxuICAgICAqIHRvIGEgbWluaW11bSBzaW5jZSBpdCBpcyBkb25lIGJlZm9yZSB0aGUgZWxlbWVudCBpcyByZW5kZXJlZC4gSW5cbiAgICAgKiB0aGVzZSBlbGVtZW50cywgY29uc2lkZXIgYWRkaW5nIGxpc3RlbmVycyBhc3luY2hyb25vdXNseSBzbyBhcyBub3QgdG9cbiAgICAgKiBibG9jayByZW5kZXIuXG4gICAgICogQHByb3RlY3RlZFxuICAgICAqIEByZXR1cm4ge3ZvaWR9XG4gICAgICogQG92ZXJyaWRlXG4gICAgICovXG4gICAgX2FwcGx5TGlzdGVuZXJzKCkge31cblxuICAgIC8qKlxuICAgICAqIENvbnZlcnRzIGEgdHlwZWQgSmF2YVNjcmlwdCB2YWx1ZSB0byBhIHN0cmluZy5cbiAgICAgKlxuICAgICAqIE5vdGUgdGhpcyBtZXRob2QgaXMgcHJvdmlkZWQgYXMgYmFja3dhcmQtY29tcGF0aWJsZSBsZWdhY3kgQVBJXG4gICAgICogb25seS4gIEl0IGlzIG5vdCBkaXJlY3RseSBjYWxsZWQgYnkgYW55IFBvbHltZXIgZmVhdHVyZXMuIFRvIGN1c3RvbWl6ZVxuICAgICAqIGhvdyBwcm9wZXJ0aWVzIGFyZSBzZXJpYWxpemVkIHRvIGF0dHJpYnV0ZXMgZm9yIGF0dHJpYnV0ZSBiaW5kaW5ncyBhbmRcbiAgICAgKiBgcmVmbGVjdFRvQXR0cmlidXRlOiB0cnVlYCBwcm9wZXJ0aWVzIGFzIHdlbGwgYXMgdGhpcyBtZXRob2QsIG92ZXJyaWRlXG4gICAgICogdGhlIGBfc2VyaWFsaXplVmFsdWVgIG1ldGhvZCBwcm92aWRlZCBieSBgUG9seW1lci5Qcm9wZXJ0eUFjY2Vzc29yc2AuXG4gICAgICpcbiAgICAgKiBAcGFyYW0geyp9IHZhbHVlIFZhbHVlIHRvIGRlc2VyaWFsaXplXG4gICAgICogQHJldHVybiB7c3RyaW5nIHwgdW5kZWZpbmVkfSBTZXJpYWxpemVkIHZhbHVlXG4gICAgICogQG92ZXJyaWRlXG4gICAgICovXG4gICAgc2VyaWFsaXplKHZhbHVlKSB7XG4gICAgICByZXR1cm4gdGhpcy5fc2VyaWFsaXplVmFsdWUodmFsdWUpO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIENvbnZlcnRzIGEgc3RyaW5nIHRvIGEgdHlwZWQgSmF2YVNjcmlwdCB2YWx1ZS5cbiAgICAgKlxuICAgICAqIE5vdGUgdGhpcyBtZXRob2QgaXMgcHJvdmlkZWQgYXMgYmFja3dhcmQtY29tcGF0aWJsZSBsZWdhY3kgQVBJXG4gICAgICogb25seS4gIEl0IGlzIG5vdCBkaXJlY3RseSBjYWxsZWQgYnkgYW55IFBvbHltZXIgZmVhdHVyZXMuICBUbyBjdXN0b21pemVcbiAgICAgKiBob3cgYXR0cmlidXRlcyBhcmUgZGVzZXJpYWxpemVkIHRvIHByb3BlcnRpZXMgZm9yIGluXG4gICAgICogYGF0dHJpYnV0ZUNoYW5nZWRDYWxsYmFja2AsIG92ZXJyaWRlIGBfZGVzZXJpYWxpemVWYWx1ZWAgbWV0aG9kXG4gICAgICogcHJvdmlkZWQgYnkgYFBvbHltZXIuUHJvcGVydHlBY2Nlc3NvcnNgLlxuICAgICAqXG4gICAgICogQHBhcmFtIHtzdHJpbmd9IHZhbHVlIFN0cmluZyB0byBkZXNlcmlhbGl6ZVxuICAgICAqIEBwYXJhbSB7Kn0gdHlwZSBUeXBlIHRvIGRlc2VyaWFsaXplIHRoZSBzdHJpbmcgdG9cbiAgICAgKiBAcmV0dXJuIHsqfSBSZXR1cm5zIHRoZSBkZXNlcmlhbGl6ZWQgdmFsdWUgaW4gdGhlIGB0eXBlYCBnaXZlbi5cbiAgICAgKiBAb3ZlcnJpZGVcbiAgICAgKi9cbiAgICBkZXNlcmlhbGl6ZSh2YWx1ZSwgdHlwZSkge1xuICAgICAgcmV0dXJuIHRoaXMuX2Rlc2VyaWFsaXplVmFsdWUodmFsdWUsIHR5cGUpO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIFNlcmlhbGl6ZXMgYSBwcm9wZXJ0eSB0byBpdHMgYXNzb2NpYXRlZCBhdHRyaWJ1dGUuXG4gICAgICpcbiAgICAgKiBOb3RlIHRoaXMgbWV0aG9kIGlzIHByb3ZpZGVkIGFzIGJhY2t3YXJkLWNvbXBhdGlibGUgbGVnYWN5IEFQSVxuICAgICAqIG9ubHkuICBJdCBpcyBub3QgZGlyZWN0bHkgY2FsbGVkIGJ5IGFueSBQb2x5bWVyIGZlYXR1cmVzLlxuICAgICAqXG4gICAgICogQHBhcmFtIHtzdHJpbmd9IHByb3BlcnR5IFByb3BlcnR5IG5hbWUgdG8gcmVmbGVjdC5cbiAgICAgKiBAcGFyYW0ge3N0cmluZz19IGF0dHJpYnV0ZSBBdHRyaWJ1dGUgbmFtZSB0byByZWZsZWN0LlxuICAgICAqIEBwYXJhbSB7Kj19IHZhbHVlIFByb3BlcnR5IHZhbHVlIHRvIHJlZmxlY3QuXG4gICAgICogQHJldHVybiB7dm9pZH1cbiAgICAgKiBAb3ZlcnJpZGVcbiAgICAgKi9cbiAgICByZWZsZWN0UHJvcGVydHlUb0F0dHJpYnV0ZShwcm9wZXJ0eSwgYXR0cmlidXRlLCB2YWx1ZSkge1xuICAgICAgdGhpcy5fcHJvcGVydHlUb0F0dHJpYnV0ZShwcm9wZXJ0eSwgYXR0cmlidXRlLCB2YWx1ZSk7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogU2V0cyBhIHR5cGVkIHZhbHVlIHRvIGFuIEhUTUwgYXR0cmlidXRlIG9uIGEgbm9kZS5cbiAgICAgKlxuICAgICAqIE5vdGUgdGhpcyBtZXRob2QgaXMgcHJvdmlkZWQgYXMgYmFja3dhcmQtY29tcGF0aWJsZSBsZWdhY3kgQVBJXG4gICAgICogb25seS4gIEl0IGlzIG5vdCBkaXJlY3RseSBjYWxsZWQgYnkgYW55IFBvbHltZXIgZmVhdHVyZXMuXG4gICAgICpcbiAgICAgKiBAcGFyYW0geyp9IHZhbHVlIFZhbHVlIHRvIHNlcmlhbGl6ZS5cbiAgICAgKiBAcGFyYW0ge3N0cmluZ30gYXR0cmlidXRlIEF0dHJpYnV0ZSBuYW1lIHRvIHNlcmlhbGl6ZSB0by5cbiAgICAgKiBAcGFyYW0ge0VsZW1lbnR9IG5vZGUgRWxlbWVudCB0byBzZXQgYXR0cmlidXRlIHRvLlxuICAgICAqIEByZXR1cm4ge3ZvaWR9XG4gICAgICogQG92ZXJyaWRlXG4gICAgICovXG4gICAgc2VyaWFsaXplVmFsdWVUb0F0dHJpYnV0ZSh2YWx1ZSwgYXR0cmlidXRlLCBub2RlKSB7XG4gICAgICB0aGlzLl92YWx1ZVRvTm9kZUF0dHJpYnV0ZSgvKiogQHR5cGUge0VsZW1lbnR9ICovIChub2RlIHx8IHRoaXMpLCB2YWx1ZSwgYXR0cmlidXRlKTtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBDb3BpZXMgb3duIHByb3BlcnRpZXMgKGluY2x1ZGluZyBhY2Nlc3NvciBkZXNjcmlwdG9ycykgZnJvbSBhIHNvdXJjZVxuICAgICAqIG9iamVjdCB0byBhIHRhcmdldCBvYmplY3QuXG4gICAgICpcbiAgICAgKiBAcGFyYW0ge09iamVjdH0gcHJvdG90eXBlIFRhcmdldCBvYmplY3QgdG8gY29weSBwcm9wZXJ0aWVzIHRvLlxuICAgICAqIEBwYXJhbSB7T2JqZWN0fSBhcGkgU291cmNlIG9iamVjdCB0byBjb3B5IHByb3BlcnRpZXMgZnJvbS5cbiAgICAgKiBAcmV0dXJuIHtPYmplY3R9IHByb3RvdHlwZSBvYmplY3QgdGhhdCB3YXMgcGFzc2VkIGFzIGZpcnN0IGFyZ3VtZW50LlxuICAgICAqIEBvdmVycmlkZVxuICAgICAqL1xuICAgIGV4dGVuZChwcm90b3R5cGUsIGFwaSkge1xuICAgICAgaWYgKCEocHJvdG90eXBlICYmIGFwaSkpIHtcbiAgICAgICAgcmV0dXJuIHByb3RvdHlwZSB8fCBhcGk7XG4gICAgICB9XG4gICAgICBsZXQgbiQgPSBPYmplY3QuZ2V0T3duUHJvcGVydHlOYW1lcyhhcGkpO1xuICAgICAgZm9yIChsZXQgaT0wLCBuOyAoaTxuJC5sZW5ndGgpICYmIChuPW4kW2ldKTsgaSsrKSB7XG4gICAgICAgIGxldCBwZCA9IE9iamVjdC5nZXRPd25Qcm9wZXJ0eURlc2NyaXB0b3IoYXBpLCBuKTtcbiAgICAgICAgaWYgKHBkKSB7XG4gICAgICAgICAgT2JqZWN0LmRlZmluZVByb3BlcnR5KHByb3RvdHlwZSwgbiwgcGQpO1xuICAgICAgICB9XG4gICAgICB9XG4gICAgICByZXR1cm4gcHJvdG90eXBlO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIENvcGllcyBwcm9wcyBmcm9tIGEgc291cmNlIG9iamVjdCB0byBhIHRhcmdldCBvYmplY3QuXG4gICAgICpcbiAgICAgKiBOb3RlLCB0aGlzIG1ldGhvZCB1c2VzIGEgc2ltcGxlIGBmb3IuLi5pbmAgc3RyYXRlZ3kgZm9yIGVudW1lcmF0aW5nXG4gICAgICogcHJvcGVydGllcy4gIFRvIGVuc3VyZSBvbmx5IGBvd25Qcm9wZXJ0aWVzYCBhcmUgY29waWVkIGZyb20gc291cmNlXG4gICAgICogdG8gdGFyZ2V0IGFuZCB0aGF0IGFjY2Vzc29yIGltcGxlbWVudGF0aW9ucyBhcmUgY29waWVkLCB1c2UgYGV4dGVuZGAuXG4gICAgICpcbiAgICAgKiBAcGFyYW0geyFPYmplY3R9IHRhcmdldCBUYXJnZXQgb2JqZWN0IHRvIGNvcHkgcHJvcGVydGllcyB0by5cbiAgICAgKiBAcGFyYW0geyFPYmplY3R9IHNvdXJjZSBTb3VyY2Ugb2JqZWN0IHRvIGNvcHkgcHJvcGVydGllcyBmcm9tLlxuICAgICAqIEByZXR1cm4geyFPYmplY3R9IFRhcmdldCBvYmplY3QgdGhhdCB3YXMgcGFzc2VkIGFzIGZpcnN0IGFyZ3VtZW50LlxuICAgICAqIEBvdmVycmlkZVxuICAgICAqL1xuICAgIG1peGluKHRhcmdldCwgc291cmNlKSB7XG4gICAgICBmb3IgKGxldCBpIGluIHNvdXJjZSkge1xuICAgICAgICB0YXJnZXRbaV0gPSBzb3VyY2VbaV07XG4gICAgICB9XG4gICAgICByZXR1cm4gdGFyZ2V0O1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIFNldHMgdGhlIHByb3RvdHlwZSBvZiBhbiBvYmplY3QuXG4gICAgICpcbiAgICAgKiBOb3RlIHRoaXMgbWV0aG9kIGlzIHByb3ZpZGVkIGFzIGJhY2t3YXJkLWNvbXBhdGlibGUgbGVnYWN5IEFQSVxuICAgICAqIG9ubHkuICBJdCBpcyBub3QgZGlyZWN0bHkgY2FsbGVkIGJ5IGFueSBQb2x5bWVyIGZlYXR1cmVzLlxuICAgICAqIEBwYXJhbSB7T2JqZWN0fSBvYmplY3QgVGhlIG9iamVjdCBvbiB3aGljaCB0byBzZXQgdGhlIHByb3RvdHlwZS5cbiAgICAgKiBAcGFyYW0ge09iamVjdH0gcHJvdG90eXBlIFRoZSBwcm90b3R5cGUgdGhhdCB3aWxsIGJlIHNldCBvbiB0aGUgZ2l2ZW5cbiAgICAgKiBgb2JqZWN0YC5cbiAgICAgKiBAcmV0dXJuIHtPYmplY3R9IFJldHVybnMgdGhlIGdpdmVuIGBvYmplY3RgIHdpdGggaXRzIHByb3RvdHlwZSBzZXRcbiAgICAgKiB0byB0aGUgZ2l2ZW4gYHByb3RvdHlwZWAgb2JqZWN0LlxuICAgICAqIEBvdmVycmlkZVxuICAgICAqL1xuICAgIGNoYWluT2JqZWN0KG9iamVjdCwgcHJvdG90eXBlKSB7XG4gICAgICBpZiAob2JqZWN0ICYmIHByb3RvdHlwZSAmJiBvYmplY3QgIT09IHByb3RvdHlwZSkge1xuICAgICAgICBvYmplY3QuX19wcm90b19fID0gcHJvdG90eXBlO1xuICAgICAgfVxuICAgICAgcmV0dXJuIG9iamVjdDtcbiAgICB9XG5cbiAgICAvKiAqKioqIEJlZ2luIFRlbXBsYXRlICoqKiogKi9cblxuICAgIC8qKlxuICAgICAqIENhbGxzIGBpbXBvcnROb2RlYCBvbiB0aGUgYGNvbnRlbnRgIG9mIHRoZSBgdGVtcGxhdGVgIHNwZWNpZmllZCBhbmRcbiAgICAgKiByZXR1cm5zIGEgZG9jdW1lbnQgZnJhZ21lbnQgY29udGFpbmluZyB0aGUgaW1wb3J0ZWQgY29udGVudC5cbiAgICAgKlxuICAgICAqIEBwYXJhbSB7SFRNTFRlbXBsYXRlRWxlbWVudH0gdGVtcGxhdGUgSFRNTCB0ZW1wbGF0ZSBlbGVtZW50IHRvIGluc3RhbmNlLlxuICAgICAqIEByZXR1cm4geyFEb2N1bWVudEZyYWdtZW50fSBEb2N1bWVudCBmcmFnbWVudCBjb250YWluaW5nIHRoZSBpbXBvcnRlZFxuICAgICAqICAgdGVtcGxhdGUgY29udGVudC5cbiAgICAgKiBAb3ZlcnJpZGVcbiAgICAgKiBAc3VwcHJlc3Mge21pc3NpbmdQcm9wZXJ0aWVzfSBnby9taXNzaW5nZm5wcm9wc1xuICAgICAqL1xuICAgIGluc3RhbmNlVGVtcGxhdGUodGVtcGxhdGUpIHtcbiAgICAgIGxldCBjb250ZW50ID0gdGhpcy5jb25zdHJ1Y3Rvci5fY29udGVudEZvclRlbXBsYXRlKHRlbXBsYXRlKTtcbiAgICAgIGxldCBkb20gPSAvKiogQHR5cGUgeyFEb2N1bWVudEZyYWdtZW50fSAqL1xuICAgICAgICAoZG9jdW1lbnQuaW1wb3J0Tm9kZShjb250ZW50LCB0cnVlKSk7XG4gICAgICByZXR1cm4gZG9tO1xuICAgIH1cblxuICAgIC8qICoqKiogQmVnaW4gRXZlbnRzICoqKiogKi9cblxuXG5cbiAgICAvKipcbiAgICAgKiBEaXNwYXRjaGVzIGEgY3VzdG9tIGV2ZW50IHdpdGggYW4gb3B0aW9uYWwgZGV0YWlsIHZhbHVlLlxuICAgICAqXG4gICAgICogQHBhcmFtIHtzdHJpbmd9IHR5cGUgTmFtZSBvZiBldmVudCB0eXBlLlxuICAgICAqIEBwYXJhbSB7Kj19IGRldGFpbCBEZXRhaWwgdmFsdWUgY29udGFpbmluZyBldmVudC1zcGVjaWZpY1xuICAgICAqICAgcGF5bG9hZC5cbiAgICAgKiBAcGFyYW0ge3sgYnViYmxlczogKGJvb2xlYW58dW5kZWZpbmVkKSwgY2FuY2VsYWJsZTogKGJvb2xlYW58dW5kZWZpbmVkKSxcbiAgICAgKiAgICAgY29tcG9zZWQ6IChib29sZWFufHVuZGVmaW5lZCkgfT19XG4gICAgICogIG9wdGlvbnMgT2JqZWN0IHNwZWNpZnlpbmcgb3B0aW9ucy4gIFRoZXNlIG1heSBpbmNsdWRlOlxuICAgICAqICBgYnViYmxlc2AgKGJvb2xlYW4sIGRlZmF1bHRzIHRvIGB0cnVlYCksXG4gICAgICogIGBjYW5jZWxhYmxlYCAoYm9vbGVhbiwgZGVmYXVsdHMgdG8gZmFsc2UpLCBhbmRcbiAgICAgKiAgYG5vZGVgIG9uIHdoaWNoIHRvIGZpcmUgdGhlIGV2ZW50IChIVE1MRWxlbWVudCwgZGVmYXVsdHMgdG8gYHRoaXNgKS5cbiAgICAgKiBAcmV0dXJuIHshRXZlbnR9IFRoZSBuZXcgZXZlbnQgdGhhdCB3YXMgZmlyZWQuXG4gICAgICogQG92ZXJyaWRlXG4gICAgICovXG4gICAgZmlyZSh0eXBlLCBkZXRhaWwsIG9wdGlvbnMpIHtcbiAgICAgIG9wdGlvbnMgPSBvcHRpb25zIHx8IHt9O1xuICAgICAgZGV0YWlsID0gKGRldGFpbCA9PT0gbnVsbCB8fCBkZXRhaWwgPT09IHVuZGVmaW5lZCkgPyB7fSA6IGRldGFpbDtcbiAgICAgIGxldCBldmVudCA9IG5ldyBFdmVudCh0eXBlLCB7XG4gICAgICAgIGJ1YmJsZXM6IG9wdGlvbnMuYnViYmxlcyA9PT0gdW5kZWZpbmVkID8gdHJ1ZSA6IG9wdGlvbnMuYnViYmxlcyxcbiAgICAgICAgY2FuY2VsYWJsZTogQm9vbGVhbihvcHRpb25zLmNhbmNlbGFibGUpLFxuICAgICAgICBjb21wb3NlZDogb3B0aW9ucy5jb21wb3NlZCA9PT0gdW5kZWZpbmVkID8gdHJ1ZTogb3B0aW9ucy5jb21wb3NlZFxuICAgICAgfSk7XG4gICAgICBldmVudC5kZXRhaWwgPSBkZXRhaWw7XG4gICAgICBsZXQgbm9kZSA9IG9wdGlvbnMubm9kZSB8fCB0aGlzO1xuICAgICAgd3JhcChub2RlKS5kaXNwYXRjaEV2ZW50KGV2ZW50KTtcbiAgICAgIHJldHVybiBldmVudDtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBDb252ZW5pZW5jZSBtZXRob2QgdG8gYWRkIGFuIGV2ZW50IGxpc3RlbmVyIG9uIGEgZ2l2ZW4gZWxlbWVudCxcbiAgICAgKiBsYXRlIGJvdW5kIHRvIGEgbmFtZWQgbWV0aG9kIG9uIHRoaXMgZWxlbWVudC5cbiAgICAgKlxuICAgICAqIEBwYXJhbSB7P0V2ZW50VGFyZ2V0fSBub2RlIEVsZW1lbnQgdG8gYWRkIGV2ZW50IGxpc3RlbmVyIHRvLlxuICAgICAqIEBwYXJhbSB7c3RyaW5nfSBldmVudE5hbWUgTmFtZSBvZiBldmVudCB0byBsaXN0ZW4gZm9yLlxuICAgICAqIEBwYXJhbSB7c3RyaW5nfSBtZXRob2ROYW1lIE5hbWUgb2YgaGFuZGxlciBtZXRob2Qgb24gYHRoaXNgIHRvIGNhbGwuXG4gICAgICogQHJldHVybiB7dm9pZH1cbiAgICAgKiBAb3ZlcnJpZGVcbiAgICAgKi9cbiAgICBsaXN0ZW4obm9kZSwgZXZlbnROYW1lLCBtZXRob2ROYW1lKSB7XG4gICAgICBub2RlID0gLyoqIEB0eXBlIHshRXZlbnRUYXJnZXR9ICovIChub2RlIHx8IHRoaXMpO1xuICAgICAgbGV0IGhibCA9IHRoaXMuX19ib3VuZExpc3RlbmVycyB8fFxuICAgICAgICAodGhpcy5fX2JvdW5kTGlzdGVuZXJzID0gbmV3IFdlYWtNYXAoKSk7XG4gICAgICBsZXQgYmwgPSBoYmwuZ2V0KG5vZGUpO1xuICAgICAgaWYgKCFibCkge1xuICAgICAgICBibCA9IHt9O1xuICAgICAgICBoYmwuc2V0KG5vZGUsIGJsKTtcbiAgICAgIH1cbiAgICAgIGxldCBrZXkgPSBldmVudE5hbWUgKyBtZXRob2ROYW1lO1xuICAgICAgaWYgKCFibFtrZXldKSB7XG4gICAgICAgIGJsW2tleV0gPSB0aGlzLl9hZGRNZXRob2RFdmVudExpc3RlbmVyVG9Ob2RlKFxuICAgICAgICAgICAgLyoqIEB0eXBlIHshTm9kZX0gKi8gKG5vZGUpLCBldmVudE5hbWUsIG1ldGhvZE5hbWUsIHRoaXMpO1xuICAgICAgfVxuICAgIH1cblxuICAgIC8qKlxuICAgICAqIENvbnZlbmllbmNlIG1ldGhvZCB0byByZW1vdmUgYW4gZXZlbnQgbGlzdGVuZXIgZnJvbSBhIGdpdmVuIGVsZW1lbnQsXG4gICAgICogbGF0ZSBib3VuZCB0byBhIG5hbWVkIG1ldGhvZCBvbiB0aGlzIGVsZW1lbnQuXG4gICAgICpcbiAgICAgKiBAcGFyYW0gez9FdmVudFRhcmdldH0gbm9kZSBFbGVtZW50IHRvIHJlbW92ZSBldmVudCBsaXN0ZW5lciBmcm9tLlxuICAgICAqIEBwYXJhbSB7c3RyaW5nfSBldmVudE5hbWUgTmFtZSBvZiBldmVudCB0byBzdG9wIGxpc3RlbmluZyB0by5cbiAgICAgKiBAcGFyYW0ge3N0cmluZ30gbWV0aG9kTmFtZSBOYW1lIG9mIGhhbmRsZXIgbWV0aG9kIG9uIGB0aGlzYCB0byBub3QgY2FsbFxuICAgICBhbnltb3JlLlxuICAgICAqIEByZXR1cm4ge3ZvaWR9XG4gICAgICogQG92ZXJyaWRlXG4gICAgICovXG4gICAgdW5saXN0ZW4obm9kZSwgZXZlbnROYW1lLCBtZXRob2ROYW1lKSB7XG4gICAgICBub2RlID0gLyoqIEB0eXBlIHshRXZlbnRUYXJnZXR9ICovIChub2RlIHx8IHRoaXMpO1xuICAgICAgbGV0IGJsID0gdGhpcy5fX2JvdW5kTGlzdGVuZXJzICYmXG4gICAgICAgICAgdGhpcy5fX2JvdW5kTGlzdGVuZXJzLmdldCgvKiogQHR5cGUgeyFFbGVtZW50fSAqLyAobm9kZSkpO1xuICAgICAgbGV0IGtleSA9IGV2ZW50TmFtZSArIG1ldGhvZE5hbWU7XG4gICAgICBsZXQgaGFuZGxlciA9IGJsICYmIGJsW2tleV07XG4gICAgICBpZiAoaGFuZGxlcikge1xuICAgICAgICB0aGlzLl9yZW1vdmVFdmVudExpc3RlbmVyRnJvbU5vZGUoXG4gICAgICAgICAgICAvKiogQHR5cGUgeyFOb2RlfSAqLyAobm9kZSksIGV2ZW50TmFtZSwgaGFuZGxlcik7XG4gICAgICAgIGJsW2tleV0gPSAvKiogQHR5cGUgez99ICovIChudWxsKTtcbiAgICAgIH1cbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBPdmVycmlkZSBzY3JvbGxpbmcgYmVoYXZpb3IgdG8gYWxsIGRpcmVjdGlvbiwgb25lIGRpcmVjdGlvbiwgb3Igbm9uZS5cbiAgICAgKlxuICAgICAqIFZhbGlkIHNjcm9sbCBkaXJlY3Rpb25zOlxuICAgICAqICAgLSAnYWxsJzogc2Nyb2xsIGluIGFueSBkaXJlY3Rpb25cbiAgICAgKiAgIC0gJ3gnOiBzY3JvbGwgb25seSBpbiB0aGUgJ3gnIGRpcmVjdGlvblxuICAgICAqICAgLSAneSc6IHNjcm9sbCBvbmx5IGluIHRoZSAneScgZGlyZWN0aW9uXG4gICAgICogICAtICdub25lJzogZGlzYWJsZSBzY3JvbGxpbmcgZm9yIHRoaXMgbm9kZVxuICAgICAqXG4gICAgICogQHBhcmFtIHtzdHJpbmc9fSBkaXJlY3Rpb24gRGlyZWN0aW9uIHRvIGFsbG93IHNjcm9sbGluZ1xuICAgICAqIERlZmF1bHRzIHRvIGBhbGxgLlxuICAgICAqIEBwYXJhbSB7RWxlbWVudD19IG5vZGUgRWxlbWVudCB0byBhcHBseSBzY3JvbGwgZGlyZWN0aW9uIHNldHRpbmcuXG4gICAgICogRGVmYXVsdHMgdG8gYHRoaXNgLlxuICAgICAqIEByZXR1cm4ge3ZvaWR9XG4gICAgICogQG92ZXJyaWRlXG4gICAgICovXG4gICAgc2V0U2Nyb2xsRGlyZWN0aW9uKGRpcmVjdGlvbiwgbm9kZSkge1xuICAgICAgc2V0VG91Y2hBY3Rpb24oXG4gICAgICAgICAgLyoqIEB0eXBlIHshRWxlbWVudH0gKi8gKG5vZGUgfHwgdGhpcyksXG4gICAgICAgICAgRElSRUNUSU9OX01BUFtkaXJlY3Rpb25dIHx8ICdhdXRvJyk7XG4gICAgfVxuICAgIC8qICoqKiogRW5kIEV2ZW50cyAqKioqICovXG5cbiAgICAvKipcbiAgICAgKiBDb252ZW5pZW5jZSBtZXRob2QgdG8gcnVuIGBxdWVyeVNlbGVjdG9yYCBvbiB0aGlzIGxvY2FsIERPTSBzY29wZS5cbiAgICAgKlxuICAgICAqIFRoaXMgZnVuY3Rpb24gY2FsbHMgYFBvbHltZXIuZG9tKHRoaXMucm9vdCkucXVlcnlTZWxlY3RvcihzbGN0cilgLlxuICAgICAqXG4gICAgICogQHBhcmFtIHtzdHJpbmd9IHNsY3RyIFNlbGVjdG9yIHRvIHJ1biBvbiB0aGlzIGxvY2FsIERPTSBzY29wZVxuICAgICAqIEByZXR1cm4ge0VsZW1lbnR9IEVsZW1lbnQgZm91bmQgYnkgdGhlIHNlbGVjdG9yLCBvciBudWxsIGlmIG5vdCBmb3VuZC5cbiAgICAgKiBAb3ZlcnJpZGVcbiAgICAgKi9cbiAgICAkJChzbGN0cikge1xuICAgICAgLy8gTm90ZSwgbm8gbmVlZCB0byBgd3JhcGAgdGhpcyBiZWNhdXNlIHJvb3QgaXMgYWx3YXlzIHBhdGNoZWRcbiAgICAgIHJldHVybiB0aGlzLnJvb3QucXVlcnlTZWxlY3RvcihzbGN0cik7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogUmV0dXJuIHRoZSBlbGVtZW50IHdob3NlIGxvY2FsIGRvbSB3aXRoaW4gd2hpY2ggdGhpcyBlbGVtZW50XG4gICAgICogaXMgY29udGFpbmVkLiBUaGlzIGlzIGEgc2hvcnRoYW5kIGZvclxuICAgICAqIGB0aGlzLmdldFJvb3ROb2RlKCkuaG9zdGAuXG4gICAgICogQHRoaXMge0VsZW1lbnR9XG4gICAgICovXG4gICAgZ2V0IGRvbUhvc3QoKSB7XG4gICAgICBsZXQgcm9vdCA9IHdyYXAodGhpcykuZ2V0Um9vdE5vZGUoKTtcbiAgICAgIHJldHVybiAocm9vdCBpbnN0YW5jZW9mIERvY3VtZW50RnJhZ21lbnQpID8gLyoqIEB0eXBlIHtTaGFkb3dSb290fSAqLyAocm9vdCkuaG9zdCA6IHJvb3Q7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogRm9yY2UgdGhpcyBlbGVtZW50IHRvIGRpc3RyaWJ1dGUgaXRzIGNoaWxkcmVuIHRvIGl0cyBsb2NhbCBkb20uXG4gICAgICogVGhpcyBzaG91bGQgbm90IGJlIG5lY2Vzc2FyeSBhcyBvZiBQb2x5bWVyIDIuMC4yIGFuZCBpcyBwcm92aWRlZCBvbmx5XG4gICAgICogZm9yIGJhY2t3YXJkcyBjb21wYXRpYmlsaXR5LlxuICAgICAqIEByZXR1cm4ge3ZvaWR9XG4gICAgICogQG92ZXJyaWRlXG4gICAgICovXG4gICAgZGlzdHJpYnV0ZUNvbnRlbnQoKSB7XG4gICAgICBjb25zdCB0aGlzRWwgPSAvKiogQHR5cGUge0VsZW1lbnR9ICovICh0aGlzKTtcbiAgICAgIGNvbnN0IGRvbUFwaSA9IC8qKiBAdHlwZSB7UG9seW1lckRvbUFwaX0gKi8oZG9tKHRoaXNFbCkpO1xuICAgICAgaWYgKHdpbmRvdy5TaGFkeURPTSAmJiBkb21BcGkuc2hhZG93Um9vdCkge1xuICAgICAgICBTaGFkeURPTS5mbHVzaCgpO1xuICAgICAgfVxuICAgIH1cblxuICAgIC8qKlxuICAgICAqIFJldHVybnMgYSBsaXN0IG9mIG5vZGVzIHRoYXQgYXJlIHRoZSBlZmZlY3RpdmUgY2hpbGROb2Rlcy4gVGhlIGVmZmVjdGl2ZVxuICAgICAqIGNoaWxkTm9kZXMgbGlzdCBpcyB0aGUgc2FtZSBhcyB0aGUgZWxlbWVudCdzIGNoaWxkTm9kZXMgZXhjZXB0IHRoYXRcbiAgICAgKiBhbnkgYDxjb250ZW50PmAgZWxlbWVudHMgYXJlIHJlcGxhY2VkIHdpdGggdGhlIGxpc3Qgb2Ygbm9kZXMgZGlzdHJpYnV0ZWRcbiAgICAgKiB0byB0aGUgYDxjb250ZW50PmAsIHRoZSByZXN1bHQgb2YgaXRzIGBnZXREaXN0cmlidXRlZE5vZGVzYCBtZXRob2QuXG4gICAgICogQHJldHVybiB7IUFycmF5PCFOb2RlPn0gTGlzdCBvZiBlZmZlY3RpdmUgY2hpbGQgbm9kZXMuXG4gICAgICogQHN1cHByZXNzIHtpbnZhbGlkQ2FzdHN9IExlZ2FjeUVsZW1lbnRNaXhpbiBtdXN0IGJlIGFwcGxpZWQgdG8gYW5cbiAgICAgKiAgICAgSFRNTEVsZW1lbnRcbiAgICAgKiBAb3ZlcnJpZGVcbiAgICAgKi9cbiAgICBnZXRFZmZlY3RpdmVDaGlsZE5vZGVzKCkge1xuICAgICAgY29uc3QgdGhpc0VsID0gLyoqIEB0eXBlIHtFbGVtZW50fSAqLyAodGhpcyk7XG4gICAgICBjb25zdCBkb21BcGkgPSAvKiogQHR5cGUge1BvbHltZXJEb21BcGl9ICovIChkb20odGhpc0VsKSk7XG4gICAgICByZXR1cm4gZG9tQXBpLmdldEVmZmVjdGl2ZUNoaWxkTm9kZXMoKTtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBSZXR1cm5zIGEgbGlzdCBvZiBub2RlcyBkaXN0cmlidXRlZCB3aXRoaW4gdGhpcyBlbGVtZW50IHRoYXQgbWF0Y2hcbiAgICAgKiBgc2VsZWN0b3JgLiBUaGVzZSBjYW4gYmUgZG9tIGNoaWxkcmVuIG9yIGVsZW1lbnRzIGRpc3RyaWJ1dGVkIHRvXG4gICAgICogY2hpbGRyZW4gdGhhdCBhcmUgaW5zZXJ0aW9uIHBvaW50cy5cbiAgICAgKiBAcGFyYW0ge3N0cmluZ30gc2VsZWN0b3IgU2VsZWN0b3IgdG8gcnVuLlxuICAgICAqIEByZXR1cm4geyFBcnJheTwhTm9kZT59IExpc3Qgb2YgZGlzdHJpYnV0ZWQgZWxlbWVudHMgdGhhdCBtYXRjaCBzZWxlY3Rvci5cbiAgICAgKiBAc3VwcHJlc3Mge2ludmFsaWRDYXN0c30gTGVnYWN5RWxlbWVudE1peGluIG11c3QgYmUgYXBwbGllZCB0byBhblxuICAgICAqIEhUTUxFbGVtZW50XG4gICAgICogQG92ZXJyaWRlXG4gICAgICovXG4gICAgcXVlcnlEaXN0cmlidXRlZEVsZW1lbnRzKHNlbGVjdG9yKSB7XG4gICAgICBjb25zdCB0aGlzRWwgPSAvKiogQHR5cGUge0VsZW1lbnR9ICovICh0aGlzKTtcbiAgICAgIGNvbnN0IGRvbUFwaSA9IC8qKiBAdHlwZSB7UG9seW1lckRvbUFwaX0gKi8gKGRvbSh0aGlzRWwpKTtcbiAgICAgIHJldHVybiBkb21BcGkucXVlcnlEaXN0cmlidXRlZEVsZW1lbnRzKHNlbGVjdG9yKTtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBSZXR1cm5zIGEgbGlzdCBvZiBlbGVtZW50cyB0aGF0IGFyZSB0aGUgZWZmZWN0aXZlIGNoaWxkcmVuLiBUaGUgZWZmZWN0aXZlXG4gICAgICogY2hpbGRyZW4gbGlzdCBpcyB0aGUgc2FtZSBhcyB0aGUgZWxlbWVudCdzIGNoaWxkcmVuIGV4Y2VwdCB0aGF0XG4gICAgICogYW55IGA8Y29udGVudD5gIGVsZW1lbnRzIGFyZSByZXBsYWNlZCB3aXRoIHRoZSBsaXN0IG9mIGVsZW1lbnRzXG4gICAgICogZGlzdHJpYnV0ZWQgdG8gdGhlIGA8Y29udGVudD5gLlxuICAgICAqXG4gICAgICogQHJldHVybiB7IUFycmF5PCFOb2RlPn0gTGlzdCBvZiBlZmZlY3RpdmUgY2hpbGRyZW4uXG4gICAgICogQG92ZXJyaWRlXG4gICAgICovXG4gICAgZ2V0RWZmZWN0aXZlQ2hpbGRyZW4oKSB7XG4gICAgICBsZXQgbGlzdCA9IHRoaXMuZ2V0RWZmZWN0aXZlQ2hpbGROb2RlcygpO1xuICAgICAgcmV0dXJuIGxpc3QuZmlsdGVyKGZ1bmN0aW9uKC8qKiBAdHlwZSB7IU5vZGV9ICovIG4pIHtcbiAgICAgICAgcmV0dXJuIChuLm5vZGVUeXBlID09PSBOb2RlLkVMRU1FTlRfTk9ERSk7XG4gICAgICB9KTtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBSZXR1cm5zIGEgc3RyaW5nIG9mIHRleHQgY29udGVudCB0aGF0IGlzIHRoZSBjb25jYXRlbmF0aW9uIG9mIHRoZVxuICAgICAqIHRleHQgY29udGVudCdzIG9mIHRoZSBlbGVtZW50J3MgZWZmZWN0aXZlIGNoaWxkTm9kZXMgKHRoZSBlbGVtZW50c1xuICAgICAqIHJldHVybmVkIGJ5IDxhIGhyZWY9XCIjZ2V0RWZmZWN0aXZlQ2hpbGROb2Rlcz5nZXRFZmZlY3RpdmVDaGlsZE5vZGVzPC9hPi5cbiAgICAgKlxuICAgICAqIEByZXR1cm4ge3N0cmluZ30gTGlzdCBvZiBlZmZlY3RpdmUgY2hpbGRyZW4uXG4gICAgICogQG92ZXJyaWRlXG4gICAgICovXG4gICAgZ2V0RWZmZWN0aXZlVGV4dENvbnRlbnQoKSB7XG4gICAgICBsZXQgY24gPSB0aGlzLmdldEVmZmVjdGl2ZUNoaWxkTm9kZXMoKTtcbiAgICAgIGxldCB0YyA9IFtdO1xuICAgICAgZm9yIChsZXQgaT0wLCBjOyAoYyA9IGNuW2ldKTsgaSsrKSB7XG4gICAgICAgIGlmIChjLm5vZGVUeXBlICE9PSBOb2RlLkNPTU1FTlRfTk9ERSkge1xuICAgICAgICAgIHRjLnB1c2goYy50ZXh0Q29udGVudCk7XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICAgIHJldHVybiB0Yy5qb2luKCcnKTtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBSZXR1cm5zIHRoZSBmaXJzdCBlZmZlY3RpdmUgY2hpbGROb2RlIHdpdGhpbiB0aGlzIGVsZW1lbnQgdGhhdFxuICAgICAqIG1hdGNoIGBzZWxlY3RvcmAuIFRoZXNlIGNhbiBiZSBkb20gY2hpbGQgbm9kZXMgb3IgZWxlbWVudHMgZGlzdHJpYnV0ZWRcbiAgICAgKiB0byBjaGlsZHJlbiB0aGF0IGFyZSBpbnNlcnRpb24gcG9pbnRzLlxuICAgICAqIEBwYXJhbSB7c3RyaW5nfSBzZWxlY3RvciBTZWxlY3RvciB0byBydW4uXG4gICAgICogQHJldHVybiB7Tm9kZX0gRmlyc3QgZWZmZWN0aXZlIGNoaWxkIG5vZGUgdGhhdCBtYXRjaGVzIHNlbGVjdG9yLlxuICAgICAqIEBvdmVycmlkZVxuICAgICAqL1xuICAgIHF1ZXJ5RWZmZWN0aXZlQ2hpbGRyZW4oc2VsZWN0b3IpIHtcbiAgICAgIGxldCBlJCA9IHRoaXMucXVlcnlEaXN0cmlidXRlZEVsZW1lbnRzKHNlbGVjdG9yKTtcbiAgICAgIHJldHVybiBlJCAmJiBlJFswXTtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBSZXR1cm5zIGEgbGlzdCBvZiBlZmZlY3RpdmUgY2hpbGROb2RlcyB3aXRoaW4gdGhpcyBlbGVtZW50IHRoYXRcbiAgICAgKiBtYXRjaCBgc2VsZWN0b3JgLiBUaGVzZSBjYW4gYmUgZG9tIGNoaWxkIG5vZGVzIG9yIGVsZW1lbnRzIGRpc3RyaWJ1dGVkXG4gICAgICogdG8gY2hpbGRyZW4gdGhhdCBhcmUgaW5zZXJ0aW9uIHBvaW50cy5cbiAgICAgKiBAcGFyYW0ge3N0cmluZ30gc2VsZWN0b3IgU2VsZWN0b3IgdG8gcnVuLlxuICAgICAqIEByZXR1cm4geyFBcnJheTwhTm9kZT59IExpc3Qgb2YgZWZmZWN0aXZlIGNoaWxkIG5vZGVzIHRoYXQgbWF0Y2hcbiAgICAgKiAgICAgc2VsZWN0b3IuXG4gICAgICogQG92ZXJyaWRlXG4gICAgICovXG4gICAgcXVlcnlBbGxFZmZlY3RpdmVDaGlsZHJlbihzZWxlY3Rvcikge1xuICAgICAgcmV0dXJuIHRoaXMucXVlcnlEaXN0cmlidXRlZEVsZW1lbnRzKHNlbGVjdG9yKTtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBSZXR1cm5zIGEgbGlzdCBvZiBub2RlcyBkaXN0cmlidXRlZCB0byB0aGlzIGVsZW1lbnQncyBgPHNsb3Q+YC5cbiAgICAgKlxuICAgICAqIElmIHRoaXMgZWxlbWVudCBjb250YWlucyBtb3JlIHRoYW4gb25lIGA8c2xvdD5gIGluIGl0cyBsb2NhbCBET00sXG4gICAgICogYW4gb3B0aW9uYWwgc2VsZWN0b3IgbWF5IGJlIHBhc3NlZCB0byBjaG9vc2UgdGhlIGRlc2lyZWQgY29udGVudC5cbiAgICAgKlxuICAgICAqIEBwYXJhbSB7c3RyaW5nPX0gc2xjdHIgQ1NTIHNlbGVjdG9yIHRvIGNob29zZSB0aGUgZGVzaXJlZFxuICAgICAqICAgYDxzbG90PmAuICBEZWZhdWx0cyB0byBgY29udGVudGAuXG4gICAgICogQHJldHVybiB7IUFycmF5PCFOb2RlPn0gTGlzdCBvZiBkaXN0cmlidXRlZCBub2RlcyBmb3IgdGhlIGA8c2xvdD5gLlxuICAgICAqIEBvdmVycmlkZVxuICAgICAqL1xuICAgIGdldENvbnRlbnRDaGlsZE5vZGVzKHNsY3RyKSB7XG4gICAgICAvLyBOb3RlLCBubyBuZWVkIHRvIGB3cmFwYCB0aGlzIGJlY2F1c2Ugcm9vdCBpcyBhbHdheXNcbiAgICAgIGxldCBjb250ZW50ID0gdGhpcy5yb290LnF1ZXJ5U2VsZWN0b3Ioc2xjdHIgfHwgJ3Nsb3QnKTtcbiAgICAgIHJldHVybiBjb250ZW50ID9cbiAgICAgICAgICAvKiogQHR5cGUge1BvbHltZXJEb21BcGl9ICovIChkb20oY29udGVudCkpLmdldERpc3RyaWJ1dGVkTm9kZXMoKSA6XG4gICAgICAgICAgW107XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogUmV0dXJucyBhIGxpc3Qgb2YgZWxlbWVudCBjaGlsZHJlbiBkaXN0cmlidXRlZCB0byB0aGlzIGVsZW1lbnQnc1xuICAgICAqIGA8c2xvdD5gLlxuICAgICAqXG4gICAgICogSWYgdGhpcyBlbGVtZW50IGNvbnRhaW5zIG1vcmUgdGhhbiBvbmUgYDxzbG90PmAgaW4gaXRzXG4gICAgICogbG9jYWwgRE9NLCBhbiBvcHRpb25hbCBzZWxlY3RvciBtYXkgYmUgcGFzc2VkIHRvIGNob29zZSB0aGUgZGVzaXJlZFxuICAgICAqIGNvbnRlbnQuICBUaGlzIG1ldGhvZCBkaWZmZXJzIGZyb20gYGdldENvbnRlbnRDaGlsZE5vZGVzYCBpbiB0aGF0IG9ubHlcbiAgICAgKiBlbGVtZW50cyBhcmUgcmV0dXJuZWQuXG4gICAgICpcbiAgICAgKiBAcGFyYW0ge3N0cmluZz19IHNsY3RyIENTUyBzZWxlY3RvciB0byBjaG9vc2UgdGhlIGRlc2lyZWRcbiAgICAgKiAgIGA8Y29udGVudD5gLiAgRGVmYXVsdHMgdG8gYGNvbnRlbnRgLlxuICAgICAqIEByZXR1cm4geyFBcnJheTwhSFRNTEVsZW1lbnQ+fSBMaXN0IG9mIGRpc3RyaWJ1dGVkIG5vZGVzIGZvciB0aGVcbiAgICAgKiAgIGA8c2xvdD5gLlxuICAgICAqIEBzdXBwcmVzcyB7aW52YWxpZENhc3RzfVxuICAgICAqIEBvdmVycmlkZVxuICAgICAqL1xuICAgIGdldENvbnRlbnRDaGlsZHJlbihzbGN0cikge1xuICAgICAgbGV0IGNoaWxkcmVuID0gLyoqIEB0eXBlIHshQXJyYXk8IUhUTUxFbGVtZW50Pn0gKi8odGhpcy5nZXRDb250ZW50Q2hpbGROb2RlcyhzbGN0cikuZmlsdGVyKGZ1bmN0aW9uKG4pIHtcbiAgICAgICAgcmV0dXJuIChuLm5vZGVUeXBlID09PSBOb2RlLkVMRU1FTlRfTk9ERSk7XG4gICAgICB9KSk7XG4gICAgICByZXR1cm4gY2hpbGRyZW47XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogQ2hlY2tzIHdoZXRoZXIgYW4gZWxlbWVudCBpcyBpbiB0aGlzIGVsZW1lbnQncyBsaWdodCBET00gdHJlZS5cbiAgICAgKlxuICAgICAqIEBwYXJhbSB7P05vZGV9IG5vZGUgVGhlIGVsZW1lbnQgdG8gYmUgY2hlY2tlZC5cbiAgICAgKiBAcmV0dXJuIHtib29sZWFufSB0cnVlIGlmIG5vZGUgaXMgaW4gdGhpcyBlbGVtZW50J3MgbGlnaHQgRE9NIHRyZWUuXG4gICAgICogQHN1cHByZXNzIHtpbnZhbGlkQ2FzdHN9IExlZ2FjeUVsZW1lbnRNaXhpbiBtdXN0IGJlIGFwcGxpZWQgdG8gYW5cbiAgICAgKiBIVE1MRWxlbWVudFxuICAgICAqIEBvdmVycmlkZVxuICAgICAqL1xuICAgIGlzTGlnaHREZXNjZW5kYW50KG5vZGUpIHtcbiAgICAgIGNvbnN0IHRoaXNOb2RlID0gLyoqIEB0eXBlIHtOb2RlfSAqLyAodGhpcyk7XG4gICAgICByZXR1cm4gdGhpc05vZGUgIT09IG5vZGUgJiYgd3JhcCh0aGlzTm9kZSkuY29udGFpbnMobm9kZSkgJiZcbiAgICAgICAgd3JhcCh0aGlzTm9kZSkuZ2V0Um9vdE5vZGUoKSA9PT0gd3JhcChub2RlKS5nZXRSb290Tm9kZSgpO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIENoZWNrcyB3aGV0aGVyIGFuIGVsZW1lbnQgaXMgaW4gdGhpcyBlbGVtZW50J3MgbG9jYWwgRE9NIHRyZWUuXG4gICAgICpcbiAgICAgKiBAcGFyYW0geyFFbGVtZW50fSBub2RlIFRoZSBlbGVtZW50IHRvIGJlIGNoZWNrZWQuXG4gICAgICogQHJldHVybiB7Ym9vbGVhbn0gdHJ1ZSBpZiBub2RlIGlzIGluIHRoaXMgZWxlbWVudCdzIGxvY2FsIERPTSB0cmVlLlxuICAgICAqIEBvdmVycmlkZVxuICAgICAqL1xuICAgIGlzTG9jYWxEZXNjZW5kYW50KG5vZGUpIHtcbiAgICAgIHJldHVybiB0aGlzLnJvb3QgPT09IHdyYXAobm9kZSkuZ2V0Um9vdE5vZGUoKTtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBOby1vcCBmb3IgYmFja3dhcmRzIGNvbXBhdGliaWxpdHkuIFRoaXMgc2hvdWxkIG5vdyBiZSBoYW5kbGVkIGJ5XG4gICAgICogU2hhZHlDc3MgbGlicmFyeS5cbiAgICAgKiBAcGFyYW0gIHsqfSBjb250YWluZXIgVW51c2VkXG4gICAgICogQHBhcmFtICB7Kn0gc2hvdWxkT2JzZXJ2ZSBVbnVzZWRcbiAgICAgKiBAcmV0dXJuIHt2b2lkfVxuICAgICAqIEBvdmVycmlkZVxuICAgICAqL1xuICAgIHNjb3BlU3VidHJlZShjb250YWluZXIsIHNob3VsZE9ic2VydmUpIHsgLy8gZXNsaW50LWRpc2FibGUtbGluZSBuby11bnVzZWQtdmFyc1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIFJldHVybnMgdGhlIGNvbXB1dGVkIHN0eWxlIHZhbHVlIGZvciB0aGUgZ2l2ZW4gcHJvcGVydHkuXG4gICAgICogQHBhcmFtIHtzdHJpbmd9IHByb3BlcnR5IFRoZSBjc3MgcHJvcGVydHkgbmFtZS5cbiAgICAgKiBAcmV0dXJuIHtzdHJpbmd9IFJldHVybnMgdGhlIGNvbXB1dGVkIGNzcyBwcm9wZXJ0eSB2YWx1ZSBmb3IgdGhlIGdpdmVuXG4gICAgICogYHByb3BlcnR5YC5cbiAgICAgKiBAc3VwcHJlc3Mge2ludmFsaWRDYXN0c30gTGVnYWN5RWxlbWVudE1peGluIG11c3QgYmUgYXBwbGllZCB0byBhblxuICAgICAqICAgICBIVE1MRWxlbWVudFxuICAgICAqIEBvdmVycmlkZVxuICAgICAqL1xuICAgIGdldENvbXB1dGVkU3R5bGVWYWx1ZShwcm9wZXJ0eSkge1xuICAgICAgcmV0dXJuIHN0eWxlSW50ZXJmYWNlLmdldENvbXB1dGVkU3R5bGVWYWx1ZSgvKiogQHR5cGUgeyFFbGVtZW50fSAqLyh0aGlzKSwgcHJvcGVydHkpO1xuICAgIH1cblxuICAgIC8vIGRlYm91bmNlXG5cbiAgICAvKipcbiAgICAgKiBDYWxsIGBkZWJvdW5jZWAgdG8gY29sbGFwc2UgbXVsdGlwbGUgcmVxdWVzdHMgZm9yIGEgbmFtZWQgdGFzayBpbnRvXG4gICAgICogb25lIGludm9jYXRpb24gd2hpY2ggaXMgbWFkZSBhZnRlciB0aGUgd2FpdCB0aW1lIGhhcyBlbGFwc2VkIHdpdGhcbiAgICAgKiBubyBuZXcgcmVxdWVzdC4gIElmIG5vIHdhaXQgdGltZSBpcyBnaXZlbiwgdGhlIGNhbGxiYWNrIHdpbGwgYmUgY2FsbGVkXG4gICAgICogYXQgbWljcm90YXNrIHRpbWluZyAoZ3VhcmFudGVlZCBiZWZvcmUgcGFpbnQpLlxuICAgICAqXG4gICAgICogICAgIGRlYm91bmNlZENsaWNrQWN0aW9uKGUpIHtcbiAgICAgKiAgICAgICAvLyB3aWxsIG5vdCBjYWxsIGBwcm9jZXNzQ2xpY2tgIG1vcmUgdGhhbiBvbmNlIHBlciAxMDBtc1xuICAgICAqICAgICAgIHRoaXMuZGVib3VuY2UoJ2NsaWNrJywgZnVuY3Rpb24oKSB7XG4gICAgICogICAgICAgIHRoaXMucHJvY2Vzc0NsaWNrKCk7XG4gICAgICogICAgICAgfSAxMDApO1xuICAgICAqICAgICB9XG4gICAgICpcbiAgICAgKiBAcGFyYW0ge3N0cmluZ30gam9iTmFtZSBTdHJpbmcgdG8gaWRlbnRpZnkgdGhlIGRlYm91bmNlIGpvYi5cbiAgICAgKiBAcGFyYW0ge2Z1bmN0aW9uKCk6dm9pZH0gY2FsbGJhY2sgRnVuY3Rpb24gdGhhdCBpcyBjYWxsZWQgKHdpdGggYHRoaXNgXG4gICAgICogICBjb250ZXh0KSB3aGVuIHRoZSB3YWl0IHRpbWUgZWxhcHNlcy5cbiAgICAgKiBAcGFyYW0ge251bWJlcj19IHdhaXQgT3B0aW9uYWwgd2FpdCB0aW1lIGluIG1pbGxpc2Vjb25kcyAobXMpIGFmdGVyIHRoZVxuICAgICAqICAgbGFzdCBzaWduYWwgdGhhdCBtdXN0IGVsYXBzZSBiZWZvcmUgaW52b2tpbmcgYGNhbGxiYWNrYFxuICAgICAqIEByZXR1cm4geyFPYmplY3R9IFJldHVybnMgYSBkZWJvdW5jZXIgb2JqZWN0IG9uIHdoaWNoIGV4aXN0cyB0aGVcbiAgICAgKiBmb2xsb3dpbmcgbWV0aG9kczogYGlzQWN0aXZlKClgIHJldHVybnMgdHJ1ZSBpZiB0aGUgZGVib3VuY2VyIGlzXG4gICAgICogYWN0aXZlOyBgY2FuY2VsKClgIGNhbmNlbHMgdGhlIGRlYm91bmNlciBpZiBpdCBpcyBhY3RpdmU7XG4gICAgICogYGZsdXNoKClgIGltbWVkaWF0ZWx5IGludm9rZXMgdGhlIGRlYm91bmNlZCBjYWxsYmFjayBpZiB0aGUgZGVib3VuY2VyXG4gICAgICogaXMgYWN0aXZlLlxuICAgICAqIEBvdmVycmlkZVxuICAgICAqL1xuICAgIGRlYm91bmNlKGpvYk5hbWUsIGNhbGxiYWNrLCB3YWl0KSB7XG4gICAgICB0aGlzLl9kZWJvdW5jZXJzID0gdGhpcy5fZGVib3VuY2VycyB8fCB7fTtcbiAgICAgIHJldHVybiB0aGlzLl9kZWJvdW5jZXJzW2pvYk5hbWVdID0gRGVib3VuY2VyLmRlYm91bmNlKFxuICAgICAgICAgICAgdGhpcy5fZGVib3VuY2Vyc1tqb2JOYW1lXVxuICAgICAgICAgICwgd2FpdCA+IDAgPyB0aW1lT3V0LmFmdGVyKHdhaXQpIDogbWljcm9UYXNrXG4gICAgICAgICAgLCBjYWxsYmFjay5iaW5kKHRoaXMpKTtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBSZXR1cm5zIHdoZXRoZXIgYSBuYW1lZCBkZWJvdW5jZXIgaXMgYWN0aXZlLlxuICAgICAqXG4gICAgICogQHBhcmFtIHtzdHJpbmd9IGpvYk5hbWUgVGhlIG5hbWUgb2YgdGhlIGRlYm91bmNlciBzdGFydGVkIHdpdGggYGRlYm91bmNlYFxuICAgICAqIEByZXR1cm4ge2Jvb2xlYW59IFdoZXRoZXIgdGhlIGRlYm91bmNlciBpcyBhY3RpdmUgKGhhcyBub3QgeWV0IGZpcmVkKS5cbiAgICAgKiBAb3ZlcnJpZGVcbiAgICAgKi9cbiAgICBpc0RlYm91bmNlckFjdGl2ZShqb2JOYW1lKSB7XG4gICAgICB0aGlzLl9kZWJvdW5jZXJzID0gdGhpcy5fZGVib3VuY2VycyB8fCB7fTtcbiAgICAgIGxldCBkZWJvdW5jZXIgPSB0aGlzLl9kZWJvdW5jZXJzW2pvYk5hbWVdO1xuICAgICAgcmV0dXJuICEhKGRlYm91bmNlciAmJiBkZWJvdW5jZXIuaXNBY3RpdmUoKSk7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogSW1tZWRpYXRlbHkgY2FsbHMgdGhlIGRlYm91bmNlciBgY2FsbGJhY2tgIGFuZCBpbmFjdGl2YXRlcyBpdC5cbiAgICAgKlxuICAgICAqIEBwYXJhbSB7c3RyaW5nfSBqb2JOYW1lIFRoZSBuYW1lIG9mIHRoZSBkZWJvdW5jZXIgc3RhcnRlZCB3aXRoIGBkZWJvdW5jZWBcbiAgICAgKiBAcmV0dXJuIHt2b2lkfVxuICAgICAqIEBvdmVycmlkZVxuICAgICAqL1xuICAgIGZsdXNoRGVib3VuY2VyKGpvYk5hbWUpIHtcbiAgICAgIHRoaXMuX2RlYm91bmNlcnMgPSB0aGlzLl9kZWJvdW5jZXJzIHx8IHt9O1xuICAgICAgbGV0IGRlYm91bmNlciA9IHRoaXMuX2RlYm91bmNlcnNbam9iTmFtZV07XG4gICAgICBpZiAoZGVib3VuY2VyKSB7XG4gICAgICAgIGRlYm91bmNlci5mbHVzaCgpO1xuICAgICAgfVxuICAgIH1cblxuICAgIC8qKlxuICAgICAqIENhbmNlbHMgYW4gYWN0aXZlIGRlYm91bmNlci4gIFRoZSBgY2FsbGJhY2tgIHdpbGwgbm90IGJlIGNhbGxlZC5cbiAgICAgKlxuICAgICAqIEBwYXJhbSB7c3RyaW5nfSBqb2JOYW1lIFRoZSBuYW1lIG9mIHRoZSBkZWJvdW5jZXIgc3RhcnRlZCB3aXRoIGBkZWJvdW5jZWBcbiAgICAgKiBAcmV0dXJuIHt2b2lkfVxuICAgICAqIEBvdmVycmlkZVxuICAgICAqL1xuICAgIGNhbmNlbERlYm91bmNlcihqb2JOYW1lKSB7XG4gICAgICB0aGlzLl9kZWJvdW5jZXJzID0gdGhpcy5fZGVib3VuY2VycyB8fCB7fTtcbiAgICAgIGxldCBkZWJvdW5jZXIgPSB0aGlzLl9kZWJvdW5jZXJzW2pvYk5hbWVdO1xuICAgICAgaWYgKGRlYm91bmNlcikge1xuICAgICAgICBkZWJvdW5jZXIuY2FuY2VsKCk7XG4gICAgICB9XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogUnVucyBhIGNhbGxiYWNrIGZ1bmN0aW9uIGFzeW5jaHJvbm91c2x5LlxuICAgICAqXG4gICAgICogQnkgZGVmYXVsdCAoaWYgbm8gd2FpdFRpbWUgaXMgc3BlY2lmaWVkKSwgYXN5bmMgY2FsbGJhY2tzIGFyZSBydW4gYXRcbiAgICAgKiBtaWNyb3Rhc2sgdGltaW5nLCB3aGljaCB3aWxsIG9jY3VyIGJlZm9yZSBwYWludC5cbiAgICAgKlxuICAgICAqIEBwYXJhbSB7IUZ1bmN0aW9ufSBjYWxsYmFjayBUaGUgY2FsbGJhY2sgZnVuY3Rpb24gdG8gcnVuLCBib3VuZCB0b1xuICAgICAqICAgICBgdGhpc2AuXG4gICAgICogQHBhcmFtIHtudW1iZXI9fSB3YWl0VGltZSBUaW1lIHRvIHdhaXQgYmVmb3JlIGNhbGxpbmcgdGhlXG4gICAgICogICBgY2FsbGJhY2tgLiAgSWYgdW5zcGVjaWZpZWQgb3IgMCwgdGhlIGNhbGxiYWNrIHdpbGwgYmUgcnVuIGF0IG1pY3JvdGFza1xuICAgICAqICAgdGltaW5nIChiZWZvcmUgcGFpbnQpLlxuICAgICAqIEByZXR1cm4ge251bWJlcn0gSGFuZGxlIHRoYXQgbWF5IGJlIHVzZWQgdG8gY2FuY2VsIHRoZSBhc3luYyBqb2IuXG4gICAgICogQG92ZXJyaWRlXG4gICAgICovXG4gICAgYXN5bmMoY2FsbGJhY2ssIHdhaXRUaW1lKSB7XG4gICAgICByZXR1cm4gd2FpdFRpbWUgPiAwID8gdGltZU91dC5ydW4oY2FsbGJhY2suYmluZCh0aGlzKSwgd2FpdFRpbWUpIDpcbiAgICAgICAgICB+bWljcm9UYXNrLnJ1bihjYWxsYmFjay5iaW5kKHRoaXMpKTtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBDYW5jZWxzIGFuIGFzeW5jIG9wZXJhdGlvbiBzdGFydGVkIHdpdGggYGFzeW5jYC5cbiAgICAgKlxuICAgICAqIEBwYXJhbSB7bnVtYmVyfSBoYW5kbGUgSGFuZGxlIHJldHVybmVkIGZyb20gb3JpZ2luYWwgYGFzeW5jYCBjYWxsIHRvXG4gICAgICogICBjYW5jZWwuXG4gICAgICogQHJldHVybiB7dm9pZH1cbiAgICAgKiBAb3ZlcnJpZGVcbiAgICAgKi9cbiAgICBjYW5jZWxBc3luYyhoYW5kbGUpIHtcbiAgICAgIGhhbmRsZSA8IDAgPyBtaWNyb1Rhc2suY2FuY2VsKH5oYW5kbGUpIDpcbiAgICAgICAgICB0aW1lT3V0LmNhbmNlbChoYW5kbGUpO1xuICAgIH1cblxuICAgIC8vIG90aGVyXG5cbiAgICAvKipcbiAgICAgKiBDb252ZW5pZW5jZSBtZXRob2QgZm9yIGNyZWF0aW5nIGFuIGVsZW1lbnQgYW5kIGNvbmZpZ3VyaW5nIGl0LlxuICAgICAqXG4gICAgICogQHBhcmFtIHtzdHJpbmd9IHRhZyBIVE1MIGVsZW1lbnQgdGFnIHRvIGNyZWF0ZS5cbiAgICAgKiBAcGFyYW0ge09iamVjdD19IHByb3BzIE9iamVjdCBvZiBwcm9wZXJ0aWVzIHRvIGNvbmZpZ3VyZSBvbiB0aGVcbiAgICAgKiAgICBpbnN0YW5jZS5cbiAgICAgKiBAcmV0dXJuIHshRWxlbWVudH0gTmV3bHkgY3JlYXRlZCBhbmQgY29uZmlndXJlZCBlbGVtZW50LlxuICAgICAqIEBvdmVycmlkZVxuICAgICAqL1xuICAgIGNyZWF0ZSh0YWcsIHByb3BzKSB7XG4gICAgICBsZXQgZWx0ID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCh0YWcpO1xuICAgICAgaWYgKHByb3BzKSB7XG4gICAgICAgIGlmIChlbHQuc2V0UHJvcGVydGllcykge1xuICAgICAgICAgIGVsdC5zZXRQcm9wZXJ0aWVzKHByb3BzKTtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICBmb3IgKGxldCBuIGluIHByb3BzKSB7XG4gICAgICAgICAgICBlbHRbbl0gPSBwcm9wc1tuXTtcbiAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICAgIHJldHVybiBlbHQ7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogUG9seWZpbGwgZm9yIEVsZW1lbnQucHJvdG90eXBlLm1hdGNoZXMsIHdoaWNoIGlzIHNvbWV0aW1lcyBzdGlsbFxuICAgICAqIHByZWZpeGVkLlxuICAgICAqXG4gICAgICogQHBhcmFtIHtzdHJpbmd9IHNlbGVjdG9yIFNlbGVjdG9yIHRvIHRlc3QuXG4gICAgICogQHBhcmFtIHshRWxlbWVudD19IG5vZGUgRWxlbWVudCB0byB0ZXN0IHRoZSBzZWxlY3RvciBhZ2FpbnN0LlxuICAgICAqIEByZXR1cm4ge2Jvb2xlYW59IFdoZXRoZXIgdGhlIGVsZW1lbnQgbWF0Y2hlcyB0aGUgc2VsZWN0b3IuXG4gICAgICogQG92ZXJyaWRlXG4gICAgICovXG4gICAgZWxlbWVudE1hdGNoZXMoc2VsZWN0b3IsIG5vZGUpIHtcbiAgICAgIHJldHVybiBtYXRjaGVzU2VsZWN0b3IoIChub2RlIHx8IHRoaXMpLCBzZWxlY3Rvcik7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogVG9nZ2xlcyBhbiBIVE1MIGF0dHJpYnV0ZSBvbiBvciBvZmYuXG4gICAgICpcbiAgICAgKiBAcGFyYW0ge3N0cmluZ30gbmFtZSBIVE1MIGF0dHJpYnV0ZSBuYW1lXG4gICAgICogQHBhcmFtIHtib29sZWFuPX0gYm9vbCBCb29sZWFuIHRvIGZvcmNlIHRoZSBhdHRyaWJ1dGUgb24gb3Igb2ZmLlxuICAgICAqICAgIFdoZW4gdW5zcGVjaWZpZWQsIHRoZSBzdGF0ZSBvZiB0aGUgYXR0cmlidXRlIHdpbGwgYmUgcmV2ZXJzZWQuXG4gICAgICogQHJldHVybiB7Ym9vbGVhbn0gdHJ1ZSBpZiB0aGUgYXR0cmlidXRlIG5vdyBleGlzdHNcbiAgICAgKiBAb3ZlcnJpZGVcbiAgICAgKi9cbiAgICB0b2dnbGVBdHRyaWJ1dGUobmFtZSwgYm9vbCkge1xuICAgICAgbGV0IG5vZGUgPSAvKiogQHR5cGUge0VsZW1lbnR9ICovKHRoaXMpO1xuICAgICAgaWYgKGFyZ3VtZW50cy5sZW5ndGggPT09IDMpIHtcbiAgICAgICAgbm9kZSA9IC8qKiBAdHlwZSB7RWxlbWVudH0gKi8oYXJndW1lbnRzWzJdKTtcbiAgICAgIH1cbiAgICAgIGlmIChhcmd1bWVudHMubGVuZ3RoID09IDEpIHtcbiAgICAgICAgYm9vbCA9ICFub2RlLmhhc0F0dHJpYnV0ZShuYW1lKTtcbiAgICAgIH1cbiAgICAgIGlmIChib29sKSB7XG4gICAgICAgIHdyYXAobm9kZSkuc2V0QXR0cmlidXRlKG5hbWUsICcnKTtcbiAgICAgICAgcmV0dXJuIHRydWU7XG4gICAgICB9IGVsc2Uge1xuICAgICAgICB3cmFwKG5vZGUpLnJlbW92ZUF0dHJpYnV0ZShuYW1lKTtcbiAgICAgICAgcmV0dXJuIGZhbHNlO1xuICAgICAgfVxuICAgIH1cblxuXG4gICAgLyoqXG4gICAgICogVG9nZ2xlcyBhIENTUyBjbGFzcyBvbiBvciBvZmYuXG4gICAgICpcbiAgICAgKiBAcGFyYW0ge3N0cmluZ30gbmFtZSBDU1MgY2xhc3MgbmFtZVxuICAgICAqIEBwYXJhbSB7Ym9vbGVhbj19IGJvb2wgQm9vbGVhbiB0byBmb3JjZSB0aGUgY2xhc3Mgb24gb3Igb2ZmLlxuICAgICAqICAgIFdoZW4gdW5zcGVjaWZpZWQsIHRoZSBzdGF0ZSBvZiB0aGUgY2xhc3Mgd2lsbCBiZSByZXZlcnNlZC5cbiAgICAgKiBAcGFyYW0ge0VsZW1lbnQ9fSBub2RlIE5vZGUgdG8gdGFyZ2V0LiAgRGVmYXVsdHMgdG8gYHRoaXNgLlxuICAgICAqIEByZXR1cm4ge3ZvaWR9XG4gICAgICogQG92ZXJyaWRlXG4gICAgICovXG4gICAgdG9nZ2xlQ2xhc3MobmFtZSwgYm9vbCwgbm9kZSkge1xuICAgICAgbm9kZSA9IC8qKiBAdHlwZSB7RWxlbWVudH0gKi8gKG5vZGUgfHwgdGhpcyk7XG4gICAgICBpZiAoYXJndW1lbnRzLmxlbmd0aCA9PSAxKSB7XG4gICAgICAgIGJvb2wgPSAhbm9kZS5jbGFzc0xpc3QuY29udGFpbnMobmFtZSk7XG4gICAgICB9XG4gICAgICBpZiAoYm9vbCkge1xuICAgICAgICBub2RlLmNsYXNzTGlzdC5hZGQobmFtZSk7XG4gICAgICB9IGVsc2Uge1xuICAgICAgICBub2RlLmNsYXNzTGlzdC5yZW1vdmUobmFtZSk7XG4gICAgICB9XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogQ3Jvc3MtcGxhdGZvcm0gaGVscGVyIGZvciBzZXR0aW5nIGFuIGVsZW1lbnQncyBDU1MgYHRyYW5zZm9ybWAgcHJvcGVydHkuXG4gICAgICpcbiAgICAgKiBAcGFyYW0ge3N0cmluZ30gdHJhbnNmb3JtVGV4dCBUcmFuc2Zvcm0gc2V0dGluZy5cbiAgICAgKiBAcGFyYW0ge0VsZW1lbnQ9fSBub2RlIEVsZW1lbnQgdG8gYXBwbHkgdGhlIHRyYW5zZm9ybSB0by5cbiAgICAgKiBEZWZhdWx0cyB0byBgdGhpc2BcbiAgICAgKiBAcmV0dXJuIHt2b2lkfVxuICAgICAqIEBvdmVycmlkZVxuICAgICAqL1xuICAgIHRyYW5zZm9ybSh0cmFuc2Zvcm1UZXh0LCBub2RlKSB7XG4gICAgICBub2RlID0gLyoqIEB0eXBlIHtFbGVtZW50fSAqLyAobm9kZSB8fCB0aGlzKTtcbiAgICAgIG5vZGUuc3R5bGUud2Via2l0VHJhbnNmb3JtID0gdHJhbnNmb3JtVGV4dDtcbiAgICAgIG5vZGUuc3R5bGUudHJhbnNmb3JtID0gdHJhbnNmb3JtVGV4dDtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBDcm9zcy1wbGF0Zm9ybSBoZWxwZXIgZm9yIHNldHRpbmcgYW4gZWxlbWVudCdzIENTUyBgdHJhbnNsYXRlM2RgXG4gICAgICogcHJvcGVydHkuXG4gICAgICpcbiAgICAgKiBAcGFyYW0ge251bWJlcn0geCBYIG9mZnNldC5cbiAgICAgKiBAcGFyYW0ge251bWJlcn0geSBZIG9mZnNldC5cbiAgICAgKiBAcGFyYW0ge251bWJlcn0geiBaIG9mZnNldC5cbiAgICAgKiBAcGFyYW0ge0VsZW1lbnQ9fSBub2RlIEVsZW1lbnQgdG8gYXBwbHkgdGhlIHRyYW5zZm9ybSB0by5cbiAgICAgKiBEZWZhdWx0cyB0byBgdGhpc2AuXG4gICAgICogQHJldHVybiB7dm9pZH1cbiAgICAgKiBAb3ZlcnJpZGVcbiAgICAgKi9cbiAgICB0cmFuc2xhdGUzZCh4LCB5LCB6LCBub2RlKSB7XG4gICAgICBub2RlID0gLyoqIEB0eXBlIHtFbGVtZW50fSAqLyAobm9kZSB8fCB0aGlzKTtcbiAgICAgIHRoaXMudHJhbnNmb3JtKCd0cmFuc2xhdGUzZCgnICsgeCArICcsJyArIHkgKyAnLCcgKyB6ICsgJyknLCBub2RlKTtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBSZW1vdmVzIGFuIGl0ZW0gZnJvbSBhbiBhcnJheSwgaWYgaXQgZXhpc3RzLlxuICAgICAqXG4gICAgICogSWYgdGhlIGFycmF5IGlzIHNwZWNpZmllZCBieSBwYXRoLCBhIGNoYW5nZSBub3RpZmljYXRpb24gaXNcbiAgICAgKiBnZW5lcmF0ZWQsIHNvIHRoYXQgb2JzZXJ2ZXJzLCBkYXRhIGJpbmRpbmdzIGFuZCBjb21wdXRlZFxuICAgICAqIHByb3BlcnRpZXMgd2F0Y2hpbmcgdGhhdCBwYXRoIGNhbiB1cGRhdGUuXG4gICAgICpcbiAgICAgKiBJZiB0aGUgYXJyYXkgaXMgcGFzc2VkIGRpcmVjdGx5LCAqKm5vIGNoYW5nZVxuICAgICAqIG5vdGlmaWNhdGlvbiBpcyBnZW5lcmF0ZWQqKi5cbiAgICAgKlxuICAgICAqIEBwYXJhbSB7c3RyaW5nIHwgIUFycmF5PG51bWJlcnxzdHJpbmc+fSBhcnJheU9yUGF0aCBQYXRoIHRvIGFycmF5IGZyb21cbiAgICAgKiAgICAgd2hpY2ggdG8gcmVtb3ZlIHRoZSBpdGVtXG4gICAgICogICAob3IgdGhlIGFycmF5IGl0c2VsZikuXG4gICAgICogQHBhcmFtIHsqfSBpdGVtIEl0ZW0gdG8gcmVtb3ZlLlxuICAgICAqIEByZXR1cm4ge0FycmF5fSBBcnJheSBjb250YWluaW5nIGl0ZW0gcmVtb3ZlZC5cbiAgICAgKiBAb3ZlcnJpZGVcbiAgICAgKi9cbiAgICBhcnJheURlbGV0ZShhcnJheU9yUGF0aCwgaXRlbSkge1xuICAgICAgbGV0IGluZGV4O1xuICAgICAgaWYgKEFycmF5LmlzQXJyYXkoYXJyYXlPclBhdGgpKSB7XG4gICAgICAgIGluZGV4ID0gYXJyYXlPclBhdGguaW5kZXhPZihpdGVtKTtcbiAgICAgICAgaWYgKGluZGV4ID49IDApIHtcbiAgICAgICAgICByZXR1cm4gYXJyYXlPclBhdGguc3BsaWNlKGluZGV4LCAxKTtcbiAgICAgICAgfVxuICAgICAgfSBlbHNlIHtcbiAgICAgICAgbGV0IGFyciA9IGdldCh0aGlzLCBhcnJheU9yUGF0aCk7XG4gICAgICAgIGluZGV4ID0gYXJyLmluZGV4T2YoaXRlbSk7XG4gICAgICAgIGlmIChpbmRleCA+PSAwKSB7XG4gICAgICAgICAgcmV0dXJuIHRoaXMuc3BsaWNlKGFycmF5T3JQYXRoLCBpbmRleCwgMSk7XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICAgIHJldHVybiBudWxsO1xuICAgIH1cblxuICAgIC8vIGxvZ2dpbmdcblxuICAgIC8qKlxuICAgICAqIEZhY2FkZXMgYGNvbnNvbGUubG9nYC9gd2FybmAvYGVycm9yYCBhcyBvdmVycmlkZSBwb2ludC5cbiAgICAgKlxuICAgICAqIEBwYXJhbSB7c3RyaW5nfSBsZXZlbCBPbmUgb2YgJ2xvZycsICd3YXJuJywgJ2Vycm9yJ1xuICAgICAqIEBwYXJhbSB7QXJyYXl9IGFyZ3MgQXJyYXkgb2Ygc3RyaW5ncyBvciBvYmplY3RzIHRvIGxvZ1xuICAgICAqIEByZXR1cm4ge3ZvaWR9XG4gICAgICogQG92ZXJyaWRlXG4gICAgICovXG4gICAgX2xvZ2dlcihsZXZlbCwgYXJncykge1xuICAgICAgLy8gYWNjZXB0IFsnZm9vJywgJ2JhciddIGFuZCBbWydmb28nLCAnYmFyJ11dXG4gICAgICBpZiAoQXJyYXkuaXNBcnJheShhcmdzKSAmJiBhcmdzLmxlbmd0aCA9PT0gMSAmJiBBcnJheS5pc0FycmF5KGFyZ3NbMF0pKSB7XG4gICAgICAgIGFyZ3MgPSBhcmdzWzBdO1xuICAgICAgfVxuICAgICAgc3dpdGNoKGxldmVsKSB7XG4gICAgICAgIGNhc2UgJ2xvZyc6XG4gICAgICAgIGNhc2UgJ3dhcm4nOlxuICAgICAgICBjYXNlICdlcnJvcic6XG4gICAgICAgICAgY29uc29sZVtsZXZlbF0oLi4uYXJncyk7XG4gICAgICB9XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogRmFjYWRlcyBgY29uc29sZS5sb2dgIGFzIGFuIG92ZXJyaWRlIHBvaW50LlxuICAgICAqXG4gICAgICogQHBhcmFtIHsuLi4qfSBhcmdzIEFycmF5IG9mIHN0cmluZ3Mgb3Igb2JqZWN0cyB0byBsb2dcbiAgICAgKiBAcmV0dXJuIHt2b2lkfVxuICAgICAqIEBvdmVycmlkZVxuICAgICAqL1xuICAgIF9sb2coLi4uYXJncykge1xuICAgICAgdGhpcy5fbG9nZ2VyKCdsb2cnLCBhcmdzKTtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBGYWNhZGVzIGBjb25zb2xlLndhcm5gIGFzIGFuIG92ZXJyaWRlIHBvaW50LlxuICAgICAqXG4gICAgICogQHBhcmFtIHsuLi4qfSBhcmdzIEFycmF5IG9mIHN0cmluZ3Mgb3Igb2JqZWN0cyB0byBsb2dcbiAgICAgKiBAcmV0dXJuIHt2b2lkfVxuICAgICAqIEBvdmVycmlkZVxuICAgICAqL1xuICAgIF93YXJuKC4uLmFyZ3MpIHtcbiAgICAgIHRoaXMuX2xvZ2dlcignd2FybicsIGFyZ3MpO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIEZhY2FkZXMgYGNvbnNvbGUuZXJyb3JgIGFzIGFuIG92ZXJyaWRlIHBvaW50LlxuICAgICAqXG4gICAgICogQHBhcmFtIHsuLi4qfSBhcmdzIEFycmF5IG9mIHN0cmluZ3Mgb3Igb2JqZWN0cyB0byBsb2dcbiAgICAgKiBAcmV0dXJuIHt2b2lkfVxuICAgICAqIEBvdmVycmlkZVxuICAgICAqL1xuICAgIF9lcnJvciguLi5hcmdzKSB7XG4gICAgICB0aGlzLl9sb2dnZXIoJ2Vycm9yJywgYXJncyk7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogRm9ybWF0cyBhIG1lc3NhZ2UgdXNpbmcgdGhlIGVsZW1lbnQgdHlwZSBhbiBhIG1ldGhvZCBuYW1lLlxuICAgICAqXG4gICAgICogQHBhcmFtIHtzdHJpbmd9IG1ldGhvZE5hbWUgTWV0aG9kIG5hbWUgdG8gYXNzb2NpYXRlIHdpdGggbWVzc2FnZVxuICAgICAqIEBwYXJhbSB7Li4uKn0gYXJncyBBcnJheSBvZiBzdHJpbmdzIG9yIG9iamVjdHMgdG8gbG9nXG4gICAgICogQHJldHVybiB7QXJyYXl9IEFycmF5IHdpdGggZm9ybWF0dGluZyBpbmZvcm1hdGlvbiBmb3IgYGNvbnNvbGVgXG4gICAgICogICBsb2dnaW5nLlxuICAgICAqIEBvdmVycmlkZVxuICAgICAqL1xuICAgIF9sb2dmKG1ldGhvZE5hbWUsIC4uLmFyZ3MpIHtcbiAgICAgIHJldHVybiBbJ1slczo6JXNdJywgdGhpcy5pcywgbWV0aG9kTmFtZSwgLi4uYXJnc107XG4gICAgfVxuXG4gIH1cblxuICBMZWdhY3lFbGVtZW50LnByb3RvdHlwZS5pcyA9ICcnO1xuXG4gIHJldHVybiBMZWdhY3lFbGVtZW50O1xufSk7XG4iLCIvKipcbkBsaWNlbnNlXG5Db3B5cmlnaHQgKGMpIDIwMTUgVGhlIFBvbHltZXIgUHJvamVjdCBBdXRob3JzLiBBbGwgcmlnaHRzIHJlc2VydmVkLlxuVGhpcyBjb2RlIG1heSBvbmx5IGJlIHVzZWQgdW5kZXIgdGhlIEJTRCBzdHlsZSBsaWNlbnNlIGZvdW5kIGF0XG5odHRwOi8vcG9seW1lci5naXRodWIuaW8vTElDRU5TRS50eHQgVGhlIGNvbXBsZXRlIHNldCBvZiBhdXRob3JzIG1heSBiZSBmb3VuZCBhdFxuaHR0cDovL3BvbHltZXIuZ2l0aHViLmlvL0FVVEhPUlMudHh0IFRoZSBjb21wbGV0ZSBzZXQgb2YgY29udHJpYnV0b3JzIG1heSBiZVxuZm91bmQgYXQgaHR0cDovL3BvbHltZXIuZ2l0aHViLmlvL0NPTlRSSUJVVE9SUy50eHQgQ29kZSBkaXN0cmlidXRlZCBieSBHb29nbGUgYXNcbnBhcnQgb2YgdGhlIHBvbHltZXIgcHJvamVjdCBpcyBhbHNvIHN1YmplY3QgdG8gYW4gYWRkaXRpb25hbCBJUCByaWdodHMgZ3JhbnRcbmZvdW5kIGF0IGh0dHA6Ly9wb2x5bWVyLmdpdGh1Yi5pby9QQVRFTlRTLnR4dFxuKi9cbmltcG9ydCAnQHBvbHltZXIvcG9seW1lci9wb2x5bWVyLWxlZ2FjeS5qcyc7XG5pbXBvcnQge2h0bWx9IGZyb20gJ0Bwb2x5bWVyL3BvbHltZXIvbGliL3V0aWxzL2h0bWwtdGFnLmpzJztcblxuLyoqXG5UaGUgYDxpcm9uLWZsZXgtbGF5b3V0PmAgY29tcG9uZW50IHByb3ZpZGVzIHNpbXBsZSB3YXlzIHRvIHVzZVxuW0NTUyBmbGV4aWJsZSBib3hcbmxheW91dF0oaHR0cHM6Ly9kZXZlbG9wZXIubW96aWxsYS5vcmcvZW4tVVMvZG9jcy9XZWIvR3VpZGUvQ1NTL0ZsZXhpYmxlX2JveGVzKSxcbmFsc28ga25vd24gYXMgZmxleGJveC4gTm90ZSB0aGF0IHRoaXMgaXMgYW4gb2xkIGVsZW1lbnQsIHRoYXQgd2FzIHdyaXR0ZW5cbmJlZm9yZSBhbGwgbW9kZXJuIGJyb3dzZXJzIGhhZCBub24tcHJlZml4ZWQgZmxleCBzdHlsZXMuIEFzIHN1Y2gsIG5vd2FkYXlzIHlvdVxuZG9uJ3QgcmVhbGx5IG5lZWQgdG8gdXNlIHRoaXMgZWxlbWVudCBhbnltb3JlLCBhbmQgY2FuIHVzZSBDU1MgZmxleCBzdHlsZXNcbmRpcmVjdGx5IGluIHlvdXIgY29kZS5cblxuVGhpcyBjb21wb25lbnQgcHJvdmlkZXMgdHdvIGRpZmZlcmVudCB3YXlzIHRvIHVzZSBmbGV4Ym94OlxuXG4xLiBbTGF5b3V0XG5jbGFzc2VzXShodHRwczovL2dpdGh1Yi5jb20vUG9seW1lckVsZW1lbnRzL2lyb24tZmxleC1sYXlvdXQvdHJlZS9tYXN0ZXIvaXJvbi1mbGV4LWxheW91dC1jbGFzc2VzLmh0bWwpLlxuVGhlIGxheW91dCBjbGFzcyBzdHlsZXNoZWV0IHByb3ZpZGVzIGEgc2ltcGxlIHNldCBvZiBjbGFzcy1iYXNlZCBmbGV4Ym94IHJ1bGVzLFxudGhhdCBsZXQgeW91IHNwZWNpZnkgbGF5b3V0IHByb3BlcnRpZXMgZGlyZWN0bHkgaW4gbWFya3VwLiBZb3UgbXVzdCBpbmNsdWRlIHRoaXNcbmZpbGUgaW4gZXZlcnkgZWxlbWVudCB0aGF0IG5lZWRzIHRvIHVzZSB0aGVtLlxuXG4gICAgU2FtcGxlIHVzZTpcblxuICAgIGBgYFxuICAgIDxjdXN0b20tZWxlbWVudC1kZW1vPlxuICAgICAgPHRlbXBsYXRlPlxuICAgICAgICA8c2NyaXB0IHNyYz1cIi4uL3dlYmNvbXBvbmVudHNqcy93ZWJjb21wb25lbnRzLWxpdGUuanNcIj48L3NjcmlwdD5cbiAgICAgICAgPG5leHQtY29kZS1ibG9jaz48L25leHQtY29kZS1ibG9jaz5cbiAgICAgIDwvdGVtcGxhdGU+XG4gICAgPC9jdXN0b20tZWxlbWVudC1kZW1vPlxuICAgIGBgYFxuXG4gICAgYGBganNcbiAgICBpbXBvcnQge2h0bWx9IGZyb20gJ0Bwb2x5bWVyL3BvbHltZXIvbGliL3V0aWxzL2h0bWwtdGFnLmpzJztcbiAgICBpbXBvcnQgJ0Bwb2x5bWVyL2lyb24tZmxleC1sYXlvdXQvaXJvbi1mbGV4LWxheW91dC1jbGFzc2VzLmpzJztcblxuICAgIGNvbnN0IHRlbXBsYXRlID0gaHRtbGBcbiAgICAgIDxzdHlsZSBpcz1cImN1c3RvbS1zdHlsZVwiIGluY2x1ZGU9XCJpcm9uLWZsZXggaXJvbi1mbGV4LWFsaWdubWVudFwiPjwvc3R5bGU+XG4gICAgICA8c3R5bGU+XG4gICAgICAgIC50ZXN0IHsgd2lkdGg6IDEwMHB4OyB9XG4gICAgICA8L3N0eWxlPlxuICAgICAgPGRpdiBjbGFzcz1cImxheW91dCBob3Jpem9udGFsIGNlbnRlci1jZW50ZXJcIj5cbiAgICAgICAgPGRpdiBjbGFzcz1cInRlc3RcIj5ob3Jpem9udGFsIGxheW91dCBjZW50ZXIgYWxpZ25tZW50PC9kaXY+XG4gICAgICA8L2Rpdj5cbiAgICBgO1xuICAgIGRvY3VtZW50LmJvZHkuYXBwZW5kQ2hpbGQodGVtcGxhdGUuY29udGVudCk7XG4gICAgYGBgXG5cbjIuIFtDdXN0b20gQ1NTXG5taXhpbnNdKGh0dHBzOi8vZ2l0aHViLmNvbS9Qb2x5bWVyRWxlbWVudHMvaXJvbi1mbGV4LWxheW91dC9ibG9iL21hc3Rlci9pcm9uLWZsZXgtbGF5b3V0Lmh0bWwpLlxuVGhlIG1peGluIHN0eWxlc2hlZXQgaW5jbHVkZXMgY3VzdG9tIENTUyBtaXhpbnMgdGhhdCBjYW4gYmUgYXBwbGllZCBpbnNpZGUgYSBDU1NcbnJ1bGUgdXNpbmcgdGhlIGBAYXBwbHlgIGZ1bmN0aW9uLlxuXG5QbGVhc2Ugbm90ZSB0aGF0IHRoZSBvbGQgWy9kZWVwLyBsYXlvdXRcbmNsYXNzZXNdKGh0dHBzOi8vZ2l0aHViLmNvbS9Qb2x5bWVyRWxlbWVudHMvaXJvbi1mbGV4LWxheW91dC90cmVlL21hc3Rlci9jbGFzc2VzKVxuYXJlIGRlcHJlY2F0ZWQsIGFuZCBzaG91bGQgbm90IGJlIHVzZWQuIFRvIGNvbnRpbnVlIHVzaW5nIGxheW91dCBwcm9wZXJ0aWVzXG5kaXJlY3RseSBpbiBtYXJrdXAsIHBsZWFzZSBzd2l0Y2ggdG8gdXNpbmcgdGhlIG5ldyBgZG9tLW1vZHVsZWAtYmFzZWRcbltsYXlvdXRcbmNsYXNzZXNdKGh0dHBzOi8vZ2l0aHViLmNvbS9Qb2x5bWVyRWxlbWVudHMvaXJvbi1mbGV4LWxheW91dC90cmVlL21hc3Rlci9pcm9uLWZsZXgtbGF5b3V0LWNsYXNzZXMuaHRtbCkuXG5QbGVhc2Ugbm90ZSB0aGF0IHRoZSBuZXcgdmVyc2lvbiBkb2VzIG5vdCB1c2UgYC9kZWVwL2AsIGFuZCB0aGVyZWZvcmUgcmVxdWlyZXNcbnlvdSB0byBpbXBvcnQgdGhlIGBkb20tbW9kdWxlc2AgaW4gZXZlcnkgZWxlbWVudCB0aGF0IG5lZWRzIHRvIHVzZSB0aGVtLlxuXG5AZ3JvdXAgSXJvbiBFbGVtZW50c1xuQHBzZXVkb0VsZW1lbnQgaXJvbi1mbGV4LWxheW91dFxuQGRlbW8gZGVtby9pbmRleC5odG1sXG4qL1xuY29uc3QgdGVtcGxhdGUgPSBodG1sYFxuPGN1c3RvbS1zdHlsZT5cbiAgPHN0eWxlIGlzPVwiY3VzdG9tLXN0eWxlXCI+XG4gICAgW2hpZGRlbl0ge1xuICAgICAgZGlzcGxheTogbm9uZSAhaW1wb3J0YW50O1xuICAgIH1cbiAgPC9zdHlsZT5cbjwvY3VzdG9tLXN0eWxlPlxuPGN1c3RvbS1zdHlsZT5cbiAgPHN0eWxlIGlzPVwiY3VzdG9tLXN0eWxlXCI+XG4gICAgaHRtbCB7XG5cbiAgICAgIC0tbGF5b3V0OiB7XG4gICAgICAgIGRpc3BsYXk6IC1tcy1mbGV4Ym94O1xuICAgICAgICBkaXNwbGF5OiAtd2Via2l0LWZsZXg7XG4gICAgICAgIGRpc3BsYXk6IGZsZXg7XG4gICAgICB9O1xuXG4gICAgICAtLWxheW91dC1pbmxpbmU6IHtcbiAgICAgICAgZGlzcGxheTogLW1zLWlubGluZS1mbGV4Ym94O1xuICAgICAgICBkaXNwbGF5OiAtd2Via2l0LWlubGluZS1mbGV4O1xuICAgICAgICBkaXNwbGF5OiBpbmxpbmUtZmxleDtcbiAgICAgIH07XG5cbiAgICAgIC0tbGF5b3V0LWhvcml6b250YWw6IHtcbiAgICAgICAgQGFwcGx5IC0tbGF5b3V0O1xuXG4gICAgICAgIC1tcy1mbGV4LWRpcmVjdGlvbjogcm93O1xuICAgICAgICAtd2Via2l0LWZsZXgtZGlyZWN0aW9uOiByb3c7XG4gICAgICAgIGZsZXgtZGlyZWN0aW9uOiByb3c7XG4gICAgICB9O1xuXG4gICAgICAtLWxheW91dC1ob3Jpem9udGFsLXJldmVyc2U6IHtcbiAgICAgICAgQGFwcGx5IC0tbGF5b3V0O1xuXG4gICAgICAgIC1tcy1mbGV4LWRpcmVjdGlvbjogcm93LXJldmVyc2U7XG4gICAgICAgIC13ZWJraXQtZmxleC1kaXJlY3Rpb246IHJvdy1yZXZlcnNlO1xuICAgICAgICBmbGV4LWRpcmVjdGlvbjogcm93LXJldmVyc2U7XG4gICAgICB9O1xuXG4gICAgICAtLWxheW91dC12ZXJ0aWNhbDoge1xuICAgICAgICBAYXBwbHkgLS1sYXlvdXQ7XG5cbiAgICAgICAgLW1zLWZsZXgtZGlyZWN0aW9uOiBjb2x1bW47XG4gICAgICAgIC13ZWJraXQtZmxleC1kaXJlY3Rpb246IGNvbHVtbjtcbiAgICAgICAgZmxleC1kaXJlY3Rpb246IGNvbHVtbjtcbiAgICAgIH07XG5cbiAgICAgIC0tbGF5b3V0LXZlcnRpY2FsLXJldmVyc2U6IHtcbiAgICAgICAgQGFwcGx5IC0tbGF5b3V0O1xuXG4gICAgICAgIC1tcy1mbGV4LWRpcmVjdGlvbjogY29sdW1uLXJldmVyc2U7XG4gICAgICAgIC13ZWJraXQtZmxleC1kaXJlY3Rpb246IGNvbHVtbi1yZXZlcnNlO1xuICAgICAgICBmbGV4LWRpcmVjdGlvbjogY29sdW1uLXJldmVyc2U7XG4gICAgICB9O1xuXG4gICAgICAtLWxheW91dC13cmFwOiB7XG4gICAgICAgIC1tcy1mbGV4LXdyYXA6IHdyYXA7XG4gICAgICAgIC13ZWJraXQtZmxleC13cmFwOiB3cmFwO1xuICAgICAgICBmbGV4LXdyYXA6IHdyYXA7XG4gICAgICB9O1xuXG4gICAgICAtLWxheW91dC13cmFwLXJldmVyc2U6IHtcbiAgICAgICAgLW1zLWZsZXgtd3JhcDogd3JhcC1yZXZlcnNlO1xuICAgICAgICAtd2Via2l0LWZsZXgtd3JhcDogd3JhcC1yZXZlcnNlO1xuICAgICAgICBmbGV4LXdyYXA6IHdyYXAtcmV2ZXJzZTtcbiAgICAgIH07XG5cbiAgICAgIC0tbGF5b3V0LWZsZXgtYXV0bzoge1xuICAgICAgICAtbXMtZmxleDogMSAxIGF1dG87XG4gICAgICAgIC13ZWJraXQtZmxleDogMSAxIGF1dG87XG4gICAgICAgIGZsZXg6IDEgMSBhdXRvO1xuICAgICAgfTtcblxuICAgICAgLS1sYXlvdXQtZmxleC1ub25lOiB7XG4gICAgICAgIC1tcy1mbGV4OiBub25lO1xuICAgICAgICAtd2Via2l0LWZsZXg6IG5vbmU7XG4gICAgICAgIGZsZXg6IG5vbmU7XG4gICAgICB9O1xuXG4gICAgICAtLWxheW91dC1mbGV4OiB7XG4gICAgICAgIC1tcy1mbGV4OiAxIDEgMC4wMDAwMDAwMDFweDtcbiAgICAgICAgLXdlYmtpdC1mbGV4OiAxO1xuICAgICAgICBmbGV4OiAxO1xuICAgICAgICAtd2Via2l0LWZsZXgtYmFzaXM6IDAuMDAwMDAwMDAxcHg7XG4gICAgICAgIGZsZXgtYmFzaXM6IDAuMDAwMDAwMDAxcHg7XG4gICAgICB9O1xuXG4gICAgICAtLWxheW91dC1mbGV4LTI6IHtcbiAgICAgICAgLW1zLWZsZXg6IDI7XG4gICAgICAgIC13ZWJraXQtZmxleDogMjtcbiAgICAgICAgZmxleDogMjtcbiAgICAgIH07XG5cbiAgICAgIC0tbGF5b3V0LWZsZXgtMzoge1xuICAgICAgICAtbXMtZmxleDogMztcbiAgICAgICAgLXdlYmtpdC1mbGV4OiAzO1xuICAgICAgICBmbGV4OiAzO1xuICAgICAgfTtcblxuICAgICAgLS1sYXlvdXQtZmxleC00OiB7XG4gICAgICAgIC1tcy1mbGV4OiA0O1xuICAgICAgICAtd2Via2l0LWZsZXg6IDQ7XG4gICAgICAgIGZsZXg6IDQ7XG4gICAgICB9O1xuXG4gICAgICAtLWxheW91dC1mbGV4LTU6IHtcbiAgICAgICAgLW1zLWZsZXg6IDU7XG4gICAgICAgIC13ZWJraXQtZmxleDogNTtcbiAgICAgICAgZmxleDogNTtcbiAgICAgIH07XG5cbiAgICAgIC0tbGF5b3V0LWZsZXgtNjoge1xuICAgICAgICAtbXMtZmxleDogNjtcbiAgICAgICAgLXdlYmtpdC1mbGV4OiA2O1xuICAgICAgICBmbGV4OiA2O1xuICAgICAgfTtcblxuICAgICAgLS1sYXlvdXQtZmxleC03OiB7XG4gICAgICAgIC1tcy1mbGV4OiA3O1xuICAgICAgICAtd2Via2l0LWZsZXg6IDc7XG4gICAgICAgIGZsZXg6IDc7XG4gICAgICB9O1xuXG4gICAgICAtLWxheW91dC1mbGV4LTg6IHtcbiAgICAgICAgLW1zLWZsZXg6IDg7XG4gICAgICAgIC13ZWJraXQtZmxleDogODtcbiAgICAgICAgZmxleDogODtcbiAgICAgIH07XG5cbiAgICAgIC0tbGF5b3V0LWZsZXgtOToge1xuICAgICAgICAtbXMtZmxleDogOTtcbiAgICAgICAgLXdlYmtpdC1mbGV4OiA5O1xuICAgICAgICBmbGV4OiA5O1xuICAgICAgfTtcblxuICAgICAgLS1sYXlvdXQtZmxleC0xMDoge1xuICAgICAgICAtbXMtZmxleDogMTA7XG4gICAgICAgIC13ZWJraXQtZmxleDogMTA7XG4gICAgICAgIGZsZXg6IDEwO1xuICAgICAgfTtcblxuICAgICAgLS1sYXlvdXQtZmxleC0xMToge1xuICAgICAgICAtbXMtZmxleDogMTE7XG4gICAgICAgIC13ZWJraXQtZmxleDogMTE7XG4gICAgICAgIGZsZXg6IDExO1xuICAgICAgfTtcblxuICAgICAgLS1sYXlvdXQtZmxleC0xMjoge1xuICAgICAgICAtbXMtZmxleDogMTI7XG4gICAgICAgIC13ZWJraXQtZmxleDogMTI7XG4gICAgICAgIGZsZXg6IDEyO1xuICAgICAgfTtcblxuICAgICAgLyogYWxpZ25tZW50IGluIGNyb3NzIGF4aXMgKi9cblxuICAgICAgLS1sYXlvdXQtc3RhcnQ6IHtcbiAgICAgICAgLW1zLWZsZXgtYWxpZ246IHN0YXJ0O1xuICAgICAgICAtd2Via2l0LWFsaWduLWl0ZW1zOiBmbGV4LXN0YXJ0O1xuICAgICAgICBhbGlnbi1pdGVtczogZmxleC1zdGFydDtcbiAgICAgIH07XG5cbiAgICAgIC0tbGF5b3V0LWNlbnRlcjoge1xuICAgICAgICAtbXMtZmxleC1hbGlnbjogY2VudGVyO1xuICAgICAgICAtd2Via2l0LWFsaWduLWl0ZW1zOiBjZW50ZXI7XG4gICAgICAgIGFsaWduLWl0ZW1zOiBjZW50ZXI7XG4gICAgICB9O1xuXG4gICAgICAtLWxheW91dC1lbmQ6IHtcbiAgICAgICAgLW1zLWZsZXgtYWxpZ246IGVuZDtcbiAgICAgICAgLXdlYmtpdC1hbGlnbi1pdGVtczogZmxleC1lbmQ7XG4gICAgICAgIGFsaWduLWl0ZW1zOiBmbGV4LWVuZDtcbiAgICAgIH07XG5cbiAgICAgIC0tbGF5b3V0LWJhc2VsaW5lOiB7XG4gICAgICAgIC1tcy1mbGV4LWFsaWduOiBiYXNlbGluZTtcbiAgICAgICAgLXdlYmtpdC1hbGlnbi1pdGVtczogYmFzZWxpbmU7XG4gICAgICAgIGFsaWduLWl0ZW1zOiBiYXNlbGluZTtcbiAgICAgIH07XG5cbiAgICAgIC8qIGFsaWdubWVudCBpbiBtYWluIGF4aXMgKi9cblxuICAgICAgLS1sYXlvdXQtc3RhcnQtanVzdGlmaWVkOiB7XG4gICAgICAgIC1tcy1mbGV4LXBhY2s6IHN0YXJ0O1xuICAgICAgICAtd2Via2l0LWp1c3RpZnktY29udGVudDogZmxleC1zdGFydDtcbiAgICAgICAganVzdGlmeS1jb250ZW50OiBmbGV4LXN0YXJ0O1xuICAgICAgfTtcblxuICAgICAgLS1sYXlvdXQtY2VudGVyLWp1c3RpZmllZDoge1xuICAgICAgICAtbXMtZmxleC1wYWNrOiBjZW50ZXI7XG4gICAgICAgIC13ZWJraXQtanVzdGlmeS1jb250ZW50OiBjZW50ZXI7XG4gICAgICAgIGp1c3RpZnktY29udGVudDogY2VudGVyO1xuICAgICAgfTtcblxuICAgICAgLS1sYXlvdXQtZW5kLWp1c3RpZmllZDoge1xuICAgICAgICAtbXMtZmxleC1wYWNrOiBlbmQ7XG4gICAgICAgIC13ZWJraXQtanVzdGlmeS1jb250ZW50OiBmbGV4LWVuZDtcbiAgICAgICAganVzdGlmeS1jb250ZW50OiBmbGV4LWVuZDtcbiAgICAgIH07XG5cbiAgICAgIC0tbGF5b3V0LWFyb3VuZC1qdXN0aWZpZWQ6IHtcbiAgICAgICAgLW1zLWZsZXgtcGFjazogZGlzdHJpYnV0ZTtcbiAgICAgICAgLXdlYmtpdC1qdXN0aWZ5LWNvbnRlbnQ6IHNwYWNlLWFyb3VuZDtcbiAgICAgICAganVzdGlmeS1jb250ZW50OiBzcGFjZS1hcm91bmQ7XG4gICAgICB9O1xuXG4gICAgICAtLWxheW91dC1qdXN0aWZpZWQ6IHtcbiAgICAgICAgLW1zLWZsZXgtcGFjazoganVzdGlmeTtcbiAgICAgICAgLXdlYmtpdC1qdXN0aWZ5LWNvbnRlbnQ6IHNwYWNlLWJldHdlZW47XG4gICAgICAgIGp1c3RpZnktY29udGVudDogc3BhY2UtYmV0d2VlbjtcbiAgICAgIH07XG5cbiAgICAgIC0tbGF5b3V0LWNlbnRlci1jZW50ZXI6IHtcbiAgICAgICAgQGFwcGx5IC0tbGF5b3V0LWNlbnRlcjtcbiAgICAgICAgQGFwcGx5IC0tbGF5b3V0LWNlbnRlci1qdXN0aWZpZWQ7XG4gICAgICB9O1xuXG4gICAgICAvKiBzZWxmIGFsaWdubWVudCAqL1xuXG4gICAgICAtLWxheW91dC1zZWxmLXN0YXJ0OiB7XG4gICAgICAgIC1tcy1hbGlnbi1zZWxmOiBmbGV4LXN0YXJ0O1xuICAgICAgICAtd2Via2l0LWFsaWduLXNlbGY6IGZsZXgtc3RhcnQ7XG4gICAgICAgIGFsaWduLXNlbGY6IGZsZXgtc3RhcnQ7XG4gICAgICB9O1xuXG4gICAgICAtLWxheW91dC1zZWxmLWNlbnRlcjoge1xuICAgICAgICAtbXMtYWxpZ24tc2VsZjogY2VudGVyO1xuICAgICAgICAtd2Via2l0LWFsaWduLXNlbGY6IGNlbnRlcjtcbiAgICAgICAgYWxpZ24tc2VsZjogY2VudGVyO1xuICAgICAgfTtcblxuICAgICAgLS1sYXlvdXQtc2VsZi1lbmQ6IHtcbiAgICAgICAgLW1zLWFsaWduLXNlbGY6IGZsZXgtZW5kO1xuICAgICAgICAtd2Via2l0LWFsaWduLXNlbGY6IGZsZXgtZW5kO1xuICAgICAgICBhbGlnbi1zZWxmOiBmbGV4LWVuZDtcbiAgICAgIH07XG5cbiAgICAgIC0tbGF5b3V0LXNlbGYtc3RyZXRjaDoge1xuICAgICAgICAtbXMtYWxpZ24tc2VsZjogc3RyZXRjaDtcbiAgICAgICAgLXdlYmtpdC1hbGlnbi1zZWxmOiBzdHJldGNoO1xuICAgICAgICBhbGlnbi1zZWxmOiBzdHJldGNoO1xuICAgICAgfTtcblxuICAgICAgLS1sYXlvdXQtc2VsZi1iYXNlbGluZToge1xuICAgICAgICAtbXMtYWxpZ24tc2VsZjogYmFzZWxpbmU7XG4gICAgICAgIC13ZWJraXQtYWxpZ24tc2VsZjogYmFzZWxpbmU7XG4gICAgICAgIGFsaWduLXNlbGY6IGJhc2VsaW5lO1xuICAgICAgfTtcblxuICAgICAgLyogbXVsdGktbGluZSBhbGlnbm1lbnQgaW4gbWFpbiBheGlzICovXG5cbiAgICAgIC0tbGF5b3V0LXN0YXJ0LWFsaWduZWQ6IHtcbiAgICAgICAgLW1zLWZsZXgtbGluZS1wYWNrOiBzdGFydDsgIC8qIElFMTAgKi9cbiAgICAgICAgLW1zLWFsaWduLWNvbnRlbnQ6IGZsZXgtc3RhcnQ7XG4gICAgICAgIC13ZWJraXQtYWxpZ24tY29udGVudDogZmxleC1zdGFydDtcbiAgICAgICAgYWxpZ24tY29udGVudDogZmxleC1zdGFydDtcbiAgICAgIH07XG5cbiAgICAgIC0tbGF5b3V0LWVuZC1hbGlnbmVkOiB7XG4gICAgICAgIC1tcy1mbGV4LWxpbmUtcGFjazogZW5kOyAgLyogSUUxMCAqL1xuICAgICAgICAtbXMtYWxpZ24tY29udGVudDogZmxleC1lbmQ7XG4gICAgICAgIC13ZWJraXQtYWxpZ24tY29udGVudDogZmxleC1lbmQ7XG4gICAgICAgIGFsaWduLWNvbnRlbnQ6IGZsZXgtZW5kO1xuICAgICAgfTtcblxuICAgICAgLS1sYXlvdXQtY2VudGVyLWFsaWduZWQ6IHtcbiAgICAgICAgLW1zLWZsZXgtbGluZS1wYWNrOiBjZW50ZXI7ICAvKiBJRTEwICovXG4gICAgICAgIC1tcy1hbGlnbi1jb250ZW50OiBjZW50ZXI7XG4gICAgICAgIC13ZWJraXQtYWxpZ24tY29udGVudDogY2VudGVyO1xuICAgICAgICBhbGlnbi1jb250ZW50OiBjZW50ZXI7XG4gICAgICB9O1xuXG4gICAgICAtLWxheW91dC1iZXR3ZWVuLWFsaWduZWQ6IHtcbiAgICAgICAgLW1zLWZsZXgtbGluZS1wYWNrOiBqdXN0aWZ5OyAgLyogSUUxMCAqL1xuICAgICAgICAtbXMtYWxpZ24tY29udGVudDogc3BhY2UtYmV0d2VlbjtcbiAgICAgICAgLXdlYmtpdC1hbGlnbi1jb250ZW50OiBzcGFjZS1iZXR3ZWVuO1xuICAgICAgICBhbGlnbi1jb250ZW50OiBzcGFjZS1iZXR3ZWVuO1xuICAgICAgfTtcblxuICAgICAgLS1sYXlvdXQtYXJvdW5kLWFsaWduZWQ6IHtcbiAgICAgICAgLW1zLWZsZXgtbGluZS1wYWNrOiBkaXN0cmlidXRlOyAgLyogSUUxMCAqL1xuICAgICAgICAtbXMtYWxpZ24tY29udGVudDogc3BhY2UtYXJvdW5kO1xuICAgICAgICAtd2Via2l0LWFsaWduLWNvbnRlbnQ6IHNwYWNlLWFyb3VuZDtcbiAgICAgICAgYWxpZ24tY29udGVudDogc3BhY2UtYXJvdW5kO1xuICAgICAgfTtcblxuICAgICAgLyoqKioqKioqKioqKioqKioqKioqKioqKioqKioqKipcbiAgICAgICAgICAgICAgICBPdGhlciBMYXlvdXRcbiAgICAgICoqKioqKioqKioqKioqKioqKioqKioqKioqKioqKiovXG5cbiAgICAgIC0tbGF5b3V0LWJsb2NrOiB7XG4gICAgICAgIGRpc3BsYXk6IGJsb2NrO1xuICAgICAgfTtcblxuICAgICAgLS1sYXlvdXQtaW52aXNpYmxlOiB7XG4gICAgICAgIHZpc2liaWxpdHk6IGhpZGRlbiAhaW1wb3J0YW50O1xuICAgICAgfTtcblxuICAgICAgLS1sYXlvdXQtcmVsYXRpdmU6IHtcbiAgICAgICAgcG9zaXRpb246IHJlbGF0aXZlO1xuICAgICAgfTtcblxuICAgICAgLS1sYXlvdXQtZml0OiB7XG4gICAgICAgIHBvc2l0aW9uOiBhYnNvbHV0ZTtcbiAgICAgICAgdG9wOiAwO1xuICAgICAgICByaWdodDogMDtcbiAgICAgICAgYm90dG9tOiAwO1xuICAgICAgICBsZWZ0OiAwO1xuICAgICAgfTtcblxuICAgICAgLS1sYXlvdXQtc2Nyb2xsOiB7XG4gICAgICAgIC13ZWJraXQtb3ZlcmZsb3ctc2Nyb2xsaW5nOiB0b3VjaDtcbiAgICAgICAgb3ZlcmZsb3c6IGF1dG87XG4gICAgICB9O1xuXG4gICAgICAtLWxheW91dC1mdWxsYmxlZWQ6IHtcbiAgICAgICAgbWFyZ2luOiAwO1xuICAgICAgICBoZWlnaHQ6IDEwMHZoO1xuICAgICAgfTtcblxuICAgICAgLyogZml4ZWQgcG9zaXRpb24gKi9cblxuICAgICAgLS1sYXlvdXQtZml4ZWQtdG9wOiB7XG4gICAgICAgIHBvc2l0aW9uOiBmaXhlZDtcbiAgICAgICAgdG9wOiAwO1xuICAgICAgICBsZWZ0OiAwO1xuICAgICAgICByaWdodDogMDtcbiAgICAgIH07XG5cbiAgICAgIC0tbGF5b3V0LWZpeGVkLXJpZ2h0OiB7XG4gICAgICAgIHBvc2l0aW9uOiBmaXhlZDtcbiAgICAgICAgdG9wOiAwO1xuICAgICAgICByaWdodDogMDtcbiAgICAgICAgYm90dG9tOiAwO1xuICAgICAgfTtcblxuICAgICAgLS1sYXlvdXQtZml4ZWQtYm90dG9tOiB7XG4gICAgICAgIHBvc2l0aW9uOiBmaXhlZDtcbiAgICAgICAgcmlnaHQ6IDA7XG4gICAgICAgIGJvdHRvbTogMDtcbiAgICAgICAgbGVmdDogMDtcbiAgICAgIH07XG5cbiAgICAgIC0tbGF5b3V0LWZpeGVkLWxlZnQ6IHtcbiAgICAgICAgcG9zaXRpb246IGZpeGVkO1xuICAgICAgICB0b3A6IDA7XG4gICAgICAgIGJvdHRvbTogMDtcbiAgICAgICAgbGVmdDogMDtcbiAgICAgIH07XG5cbiAgICB9XG4gIDwvc3R5bGU+XG48L2N1c3RvbS1zdHlsZT5gO1xuXG50ZW1wbGF0ZS5zZXRBdHRyaWJ1dGUoJ3N0eWxlJywgJ2Rpc3BsYXk6IG5vbmU7Jyk7XG5kb2N1bWVudC5oZWFkLmFwcGVuZENoaWxkKHRlbXBsYXRlLmNvbnRlbnQpO1xuXG52YXIgc3R5bGUgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdzdHlsZScpO1xuc3R5bGUudGV4dENvbnRlbnQgPSAnW2hpZGRlbl0geyBkaXNwbGF5OiBub25lICFpbXBvcnRhbnQ7IH0nO1xuZG9jdW1lbnQuaGVhZC5hcHBlbmRDaGlsZChzdHlsZSk7XG4iLCIvKipcbkBsaWNlbnNlXG5Db3B5cmlnaHQgKGMpIDIwMTcgVGhlIFBvbHltZXIgUHJvamVjdCBBdXRob3JzLiBBbGwgcmlnaHRzIHJlc2VydmVkLlxuVGhpcyBjb2RlIG1heSBvbmx5IGJlIHVzZWQgdW5kZXIgdGhlIEJTRCBzdHlsZSBsaWNlbnNlIGZvdW5kIGF0IGh0dHA6Ly9wb2x5bWVyLmdpdGh1Yi5pby9MSUNFTlNFLnR4dFxuVGhlIGNvbXBsZXRlIHNldCBvZiBhdXRob3JzIG1heSBiZSBmb3VuZCBhdCBodHRwOi8vcG9seW1lci5naXRodWIuaW8vQVVUSE9SUy50eHRcblRoZSBjb21wbGV0ZSBzZXQgb2YgY29udHJpYnV0b3JzIG1heSBiZSBmb3VuZCBhdCBodHRwOi8vcG9seW1lci5naXRodWIuaW8vQ09OVFJJQlVUT1JTLnR4dFxuQ29kZSBkaXN0cmlidXRlZCBieSBHb29nbGUgYXMgcGFydCBvZiB0aGUgcG9seW1lciBwcm9qZWN0IGlzIGFsc29cbnN1YmplY3QgdG8gYW4gYWRkaXRpb25hbCBJUCByaWdodHMgZ3JhbnQgZm91bmQgYXQgaHR0cDovL3BvbHltZXIuZ2l0aHViLmlvL1BBVEVOVFMudHh0XG4qL1xuXG4vKipcbiAqIE1vZHVsZSB3aXRoIHV0aWxpdGllcyBmb3IgY29sbGVjdGlvbiBDU1MgdGV4dCBmcm9tIGA8dGVtcGxhdGVzPmAsIGV4dGVybmFsXG4gKiBzdHlsZXNoZWV0cywgYW5kIGBkb20tbW9kdWxlYHMuXG4gKlxuICogQHN1bW1hcnkgTW9kdWxlIHdpdGggdXRpbGl0aWVzIGZvciBjb2xsZWN0aW9uIENTUyB0ZXh0IGZyb20gdmFyaW91cyBzb3VyY2VzLlxuICovXG5cbmltcG9ydCB7IERvbU1vZHVsZSB9IGZyb20gJy4uL2VsZW1lbnRzL2RvbS1tb2R1bGUuanMnO1xuaW1wb3J0IHsgcmVzb2x2ZUNzcyB9IGZyb20gJy4vcmVzb2x2ZS11cmwuanMnO1xuXG5jb25zdCBNT0RVTEVfU1RZTEVfTElOS19TRUxFQ1RPUiA9ICdsaW5rW3JlbD1pbXBvcnRdW3R5cGV+PWNzc10nO1xuY29uc3QgSU5DTFVERV9BVFRSID0gJ2luY2x1ZGUnO1xuY29uc3QgU0hBRFlfVU5TQ09QRURfQVRUUiA9ICdzaGFkeS11bnNjb3BlZCc7XG5cbi8qKlxuICogQHBhcmFtIHtzdHJpbmd9IG1vZHVsZUlkIC5cbiAqIEByZXR1cm4gez9Eb21Nb2R1bGV9IC5cbiAqL1xuZnVuY3Rpb24gaW1wb3J0TW9kdWxlKG1vZHVsZUlkKSB7XG4gIHJldHVybiAvKiogQHR5cGUgez9Eb21Nb2R1bGV9ICovKERvbU1vZHVsZS5pbXBvcnQobW9kdWxlSWQpKTtcbn1cblxuZnVuY3Rpb24gc3R5bGVGb3JJbXBvcnQoaW1wb3J0RG9jKSB7XG4gIC8vIE5PVEU6IHBvbHlmaWxsIGFmZm9yZGFuY2UuXG4gIC8vIHVuZGVyIHRoZSBIVE1MSW1wb3J0cyBwb2x5ZmlsbCwgdGhlcmUgd2lsbCBiZSBubyAnYm9keScsXG4gIC8vIGJ1dCB0aGUgaW1wb3J0IHBzZXVkby1kb2MgY2FuIGJlIHVzZWQgZGlyZWN0bHkuXG4gIGxldCBjb250YWluZXIgPSBpbXBvcnREb2MuYm9keSA/IGltcG9ydERvYy5ib2R5IDogaW1wb3J0RG9jO1xuICBjb25zdCBpbXBvcnRDc3MgPSByZXNvbHZlQ3NzKGNvbnRhaW5lci50ZXh0Q29udGVudCxcbiAgICBpbXBvcnREb2MuYmFzZVVSSSk7XG4gIGNvbnN0IHN0eWxlID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnc3R5bGUnKTtcbiAgc3R5bGUudGV4dENvbnRlbnQgPSBpbXBvcnRDc3M7XG4gIHJldHVybiBzdHlsZTtcbn1cblxuLyoqIEB0eXBlZGVmIHt7YXNzZXRwYXRoOiBzdHJpbmd9fSAqL1xubGV0IHRlbXBsYXRlV2l0aEFzc2V0UGF0aDsgLy8gZXNsaW50LWRpc2FibGUtbGluZSBuby11bnVzZWQtdmFyc1xuXG5cbi8qKlxuICogUmV0dXJucyBhIGxpc3Qgb2YgPHN0eWxlPiBlbGVtZW50cyBpbiBhIHNwYWNlLXNlcGFyYXRlZCBsaXN0IG9mIGBkb20tbW9kdWxlYHMuXG4gKlxuICogQGZ1bmN0aW9uXG4gKiBAcGFyYW0ge3N0cmluZ30gbW9kdWxlSWRzIExpc3Qgb2YgZG9tLW1vZHVsZSBpZCdzIHdpdGhpbiB3aGljaCB0b1xuICogc2VhcmNoIGZvciBjc3MuXG4gKiBAcmV0dXJuIHshQXJyYXk8IUhUTUxTdHlsZUVsZW1lbnQ+fSBBcnJheSBvZiBjb250YWluZWQgPHN0eWxlPiBlbGVtZW50c1xuICovXG5leHBvcnQgZnVuY3Rpb24gc3R5bGVzRnJvbU1vZHVsZXMobW9kdWxlSWRzKSB7XG4gY29uc3QgbW9kdWxlcyA9IG1vZHVsZUlkcy50cmltKCkuc3BsaXQoL1xccysvKTtcbiBjb25zdCBzdHlsZXMgPSBbXTtcbiBmb3IgKGxldCBpPTA7IGkgPCBtb2R1bGVzLmxlbmd0aDsgaSsrKSB7XG4gICBzdHlsZXMucHVzaCguLi5zdHlsZXNGcm9tTW9kdWxlKG1vZHVsZXNbaV0pKTtcbiB9XG4gcmV0dXJuIHN0eWxlcztcbn1cblxuLyoqXG4gKiBSZXR1cm5zIGEgbGlzdCBvZiA8c3R5bGU+IGVsZW1lbnRzIGluIGEgZ2l2ZW4gYGRvbS1tb2R1bGVgLlxuICogU3R5bGVzIGluIGEgYGRvbS1tb2R1bGVgIGNhbiBjb21lIGVpdGhlciBmcm9tIGA8c3R5bGU+YHMgd2l0aGluIHRoZVxuICogZmlyc3QgYDx0ZW1wbGF0ZT5gLCBvciBlbHNlIGZyb20gb25lIG9yIG1vcmVcbiAqIGA8bGluayByZWw9XCJpbXBvcnRcIiB0eXBlPVwiY3NzXCI+YCBsaW5rcyBvdXRzaWRlIHRoZSB0ZW1wbGF0ZS5cbiAqXG4gKiBAcGFyYW0ge3N0cmluZ30gbW9kdWxlSWQgZG9tLW1vZHVsZSBpZCB0byBnYXRoZXIgc3R5bGVzIGZyb21cbiAqIEByZXR1cm4geyFBcnJheTwhSFRNTFN0eWxlRWxlbWVudD59IEFycmF5IG9mIGNvbnRhaW5lZCBzdHlsZXMuXG4gKi9cbmV4cG9ydCBmdW5jdGlvbiBzdHlsZXNGcm9tTW9kdWxlKG1vZHVsZUlkKSB7XG4gIGNvbnN0IG0gPSBpbXBvcnRNb2R1bGUobW9kdWxlSWQpO1xuXG4gIGlmICghbSkge1xuICAgIGNvbnNvbGUud2FybignQ291bGQgbm90IGZpbmQgc3R5bGUgZGF0YSBpbiBtb2R1bGUgbmFtZWQnLCBtb2R1bGVJZCk7XG4gICAgcmV0dXJuIFtdO1xuICB9XG5cbiAgaWYgKG0uX3N0eWxlcyA9PT0gdW5kZWZpbmVkKSB7XG4gICAgY29uc3Qgc3R5bGVzID0gW107XG4gICAgLy8gbW9kdWxlIGltcG9ydHM6IDxsaW5rIHJlbD1cImltcG9ydFwiIHR5cGU9XCJjc3NcIj5cbiAgICBzdHlsZXMucHVzaCguLi5fc3R5bGVzRnJvbU1vZHVsZUltcG9ydHMobSkpO1xuICAgIC8vIGluY2x1ZGUgY3NzIGZyb20gdGhlIGZpcnN0IHRlbXBsYXRlIGluIHRoZSBtb2R1bGVcbiAgICBjb25zdCB0ZW1wbGF0ZSA9IC8qKiBAdHlwZSB7P0hUTUxUZW1wbGF0ZUVsZW1lbnR9ICovKFxuICAgICAgICBtLnF1ZXJ5U2VsZWN0b3IoJ3RlbXBsYXRlJykpO1xuICAgIGlmICh0ZW1wbGF0ZSkge1xuICAgICAgc3R5bGVzLnB1c2goLi4uc3R5bGVzRnJvbVRlbXBsYXRlKHRlbXBsYXRlLFxuICAgICAgICAvKiogQHR5cGUge3RlbXBsYXRlV2l0aEFzc2V0UGF0aH0gKi8obSkuYXNzZXRwYXRoKSk7XG4gICAgfVxuXG4gICAgbS5fc3R5bGVzID0gc3R5bGVzO1xuICB9XG5cbiAgcmV0dXJuIG0uX3N0eWxlcztcbn1cblxuLyoqXG4gKiBSZXR1cm5zIHRoZSBgPHN0eWxlPmAgZWxlbWVudHMgd2l0aGluIGEgZ2l2ZW4gdGVtcGxhdGUuXG4gKlxuICogQHBhcmFtIHshSFRNTFRlbXBsYXRlRWxlbWVudH0gdGVtcGxhdGUgVGVtcGxhdGUgdG8gZ2F0aGVyIHN0eWxlcyBmcm9tXG4gKiBAcGFyYW0ge3N0cmluZz19IGJhc2VVUkkgYmFzZVVSSSBmb3Igc3R5bGUgY29udGVudFxuICogQHJldHVybiB7IUFycmF5PCFIVE1MU3R5bGVFbGVtZW50Pn0gQXJyYXkgb2Ygc3R5bGVzXG4gKi9cbmV4cG9ydCBmdW5jdGlvbiBzdHlsZXNGcm9tVGVtcGxhdGUodGVtcGxhdGUsIGJhc2VVUkkpIHtcbiAgaWYgKCF0ZW1wbGF0ZS5fc3R5bGVzKSB7XG4gICAgY29uc3Qgc3R5bGVzID0gW107XG4gICAgLy8gaWYgZWxlbWVudCBpcyBhIHRlbXBsYXRlLCBnZXQgY29udGVudCBmcm9tIGl0cyAuY29udGVudFxuICAgIGNvbnN0IGUkID0gdGVtcGxhdGUuY29udGVudC5xdWVyeVNlbGVjdG9yQWxsKCdzdHlsZScpO1xuICAgIGZvciAobGV0IGk9MDsgaSA8IGUkLmxlbmd0aDsgaSsrKSB7XG4gICAgICBsZXQgZSA9IGUkW2ldO1xuICAgICAgLy8gc3VwcG9ydCBzdHlsZSBzaGFyaW5nIGJ5IGFsbG93aW5nIHN0eWxlcyB0byBcImluY2x1ZGVcIlxuICAgICAgLy8gb3RoZXIgZG9tLW1vZHVsZXMgdGhhdCBjb250YWluIHN0eWxpbmdcbiAgICAgIGxldCBpbmNsdWRlID0gZS5nZXRBdHRyaWJ1dGUoSU5DTFVERV9BVFRSKTtcbiAgICAgIGlmIChpbmNsdWRlKSB7XG4gICAgICAgIHN0eWxlcy5wdXNoKC4uLnN0eWxlc0Zyb21Nb2R1bGVzKGluY2x1ZGUpLmZpbHRlcihmdW5jdGlvbihpdGVtLCBpbmRleCwgc2VsZikge1xuICAgICAgICAgIHJldHVybiBzZWxmLmluZGV4T2YoaXRlbSkgPT09IGluZGV4O1xuICAgICAgICB9KSk7XG4gICAgICB9XG4gICAgICBpZiAoYmFzZVVSSSkge1xuICAgICAgICBlLnRleHRDb250ZW50ID1cbiAgICAgICAgICAgIHJlc29sdmVDc3MoZS50ZXh0Q29udGVudCwgLyoqIEB0eXBlIHtzdHJpbmd9ICovIChiYXNlVVJJKSk7XG4gICAgICB9XG4gICAgICBzdHlsZXMucHVzaChlKTtcbiAgICB9XG4gICAgdGVtcGxhdGUuX3N0eWxlcyA9IHN0eWxlcztcbiAgfVxuICByZXR1cm4gdGVtcGxhdGUuX3N0eWxlcztcbn1cblxuLyoqXG4gKiBSZXR1cm5zIGEgbGlzdCBvZiA8c3R5bGU+IGVsZW1lbnRzICBmcm9tIHN0eWxlc2hlZXRzIGxvYWRlZCB2aWEgYDxsaW5rIHJlbD1cImltcG9ydFwiIHR5cGU9XCJjc3NcIj5gIGxpbmtzIHdpdGhpbiB0aGUgc3BlY2lmaWVkIGBkb20tbW9kdWxlYC5cbiAqXG4gKiBAcGFyYW0ge3N0cmluZ30gbW9kdWxlSWQgSWQgb2YgYGRvbS1tb2R1bGVgIHRvIGdhdGhlciBDU1MgZnJvbVxuICogQHJldHVybiB7IUFycmF5PCFIVE1MU3R5bGVFbGVtZW50Pn0gQXJyYXkgb2YgY29udGFpbmVkIHN0eWxlcy5cbiAqL1xuZXhwb3J0IGZ1bmN0aW9uIHN0eWxlc0Zyb21Nb2R1bGVJbXBvcnRzKG1vZHVsZUlkKSB7XG4gbGV0IG0gPSBpbXBvcnRNb2R1bGUobW9kdWxlSWQpO1xuIHJldHVybiBtID8gX3N0eWxlc0Zyb21Nb2R1bGVJbXBvcnRzKG0pIDogW107XG59XG5cbi8qKlxuICogQHBhcmFtIHshSFRNTEVsZW1lbnR9IG1vZHVsZSBkb20tbW9kdWxlIGVsZW1lbnQgdGhhdCBjb3VsZCBjb250YWluIGA8bGluayByZWw9XCJpbXBvcnRcIiB0eXBlPVwiY3NzXCI+YCBzdHlsZXNcbiAqIEByZXR1cm4geyFBcnJheTwhSFRNTFN0eWxlRWxlbWVudD59IEFycmF5IG9mIGNvbnRhaW5lZCBzdHlsZXNcbiAqL1xuZnVuY3Rpb24gX3N0eWxlc0Zyb21Nb2R1bGVJbXBvcnRzKG1vZHVsZSkge1xuICBjb25zdCBzdHlsZXMgPSBbXTtcbiAgY29uc3QgcCQgPSBtb2R1bGUucXVlcnlTZWxlY3RvckFsbChNT0RVTEVfU1RZTEVfTElOS19TRUxFQ1RPUik7XG4gIGZvciAobGV0IGk9MDsgaSA8IHAkLmxlbmd0aDsgaSsrKSB7XG4gICAgbGV0IHAgPSBwJFtpXTtcbiAgICBpZiAocC5pbXBvcnQpIHtcbiAgICAgIGNvbnN0IGltcG9ydERvYyA9IHAuaW1wb3J0O1xuICAgICAgY29uc3QgdW5zY29wZWQgPSBwLmhhc0F0dHJpYnV0ZShTSEFEWV9VTlNDT1BFRF9BVFRSKTtcbiAgICAgIGlmICh1bnNjb3BlZCAmJiAhaW1wb3J0RG9jLl91bnNjb3BlZFN0eWxlKSB7XG4gICAgICAgIGNvbnN0IHN0eWxlID0gc3R5bGVGb3JJbXBvcnQoaW1wb3J0RG9jKTtcbiAgICAgICAgc3R5bGUuc2V0QXR0cmlidXRlKFNIQURZX1VOU0NPUEVEX0FUVFIsICcnKTtcbiAgICAgICAgaW1wb3J0RG9jLl91bnNjb3BlZFN0eWxlID0gc3R5bGU7XG4gICAgICB9IGVsc2UgaWYgKCFpbXBvcnREb2MuX3N0eWxlKSB7XG4gICAgICAgIGltcG9ydERvYy5fc3R5bGUgPSBzdHlsZUZvckltcG9ydChpbXBvcnREb2MpO1xuICAgICAgfVxuICAgICAgc3R5bGVzLnB1c2godW5zY29wZWQgPyBpbXBvcnREb2MuX3Vuc2NvcGVkU3R5bGUgOiBpbXBvcnREb2MuX3N0eWxlKTtcbiAgICB9XG4gIH1cbiAgcmV0dXJuIHN0eWxlcztcbn1cblxuLyoqXG4gKlxuICogUmV0dXJucyBDU1MgdGV4dCBvZiBzdHlsZXMgaW4gYSBzcGFjZS1zZXBhcmF0ZWQgbGlzdCBvZiBgZG9tLW1vZHVsZWBzLlxuICogTm90ZTogVGhpcyBtZXRob2QgaXMgZGVwcmVjYXRlZCwgdXNlIGBzdHlsZXNGcm9tTW9kdWxlc2AgaW5zdGVhZC5cbiAqXG4gKiBAZGVwcmVjYXRlZFxuICogQHBhcmFtIHtzdHJpbmd9IG1vZHVsZUlkcyBMaXN0IG9mIGRvbS1tb2R1bGUgaWQncyB3aXRoaW4gd2hpY2ggdG9cbiAqIHNlYXJjaCBmb3IgY3NzLlxuICogQHJldHVybiB7c3RyaW5nfSBDb25jYXRlbmF0ZWQgQ1NTIGNvbnRlbnQgZnJvbSBzcGVjaWZpZWQgYGRvbS1tb2R1bGVgc1xuICovXG5leHBvcnQgZnVuY3Rpb24gY3NzRnJvbU1vZHVsZXMobW9kdWxlSWRzKSB7XG4gbGV0IG1vZHVsZXMgPSBtb2R1bGVJZHMudHJpbSgpLnNwbGl0KC9cXHMrLyk7XG4gbGV0IGNzc1RleHQgPSAnJztcbiBmb3IgKGxldCBpPTA7IGkgPCBtb2R1bGVzLmxlbmd0aDsgaSsrKSB7XG4gICBjc3NUZXh0ICs9IGNzc0Zyb21Nb2R1bGUobW9kdWxlc1tpXSk7XG4gfVxuIHJldHVybiBjc3NUZXh0O1xufVxuXG4vKipcbiAqIFJldHVybnMgQ1NTIHRleHQgb2Ygc3R5bGVzIGluIGEgZ2l2ZW4gYGRvbS1tb2R1bGVgLiAgQ1NTIGluIGEgYGRvbS1tb2R1bGVgXG4gKiBjYW4gY29tZSBlaXRoZXIgZnJvbSBgPHN0eWxlPmBzIHdpdGhpbiB0aGUgZmlyc3QgYDx0ZW1wbGF0ZT5gLCBvciBlbHNlXG4gKiBmcm9tIG9uZSBvciBtb3JlIGA8bGluayByZWw9XCJpbXBvcnRcIiB0eXBlPVwiY3NzXCI+YCBsaW5rcyBvdXRzaWRlIHRoZVxuICogdGVtcGxhdGUuXG4gKlxuICogQW55IGA8c3R5bGVzPmAgcHJvY2Vzc2VkIGFyZSByZW1vdmVkIGZyb20gdGhlaXIgb3JpZ2luYWwgbG9jYXRpb24uXG4gKiBOb3RlOiBUaGlzIG1ldGhvZCBpcyBkZXByZWNhdGVkLCB1c2UgYHN0eWxlRnJvbU1vZHVsZWAgaW5zdGVhZC5cbiAqXG4gKiBAZGVwcmVjYXRlZFxuICogQHBhcmFtIHtzdHJpbmd9IG1vZHVsZUlkIGRvbS1tb2R1bGUgaWQgdG8gZ2F0aGVyIHN0eWxlcyBmcm9tXG4gKiBAcmV0dXJuIHtzdHJpbmd9IENvbmNhdGVuYXRlZCBDU1MgY29udGVudCBmcm9tIHNwZWNpZmllZCBgZG9tLW1vZHVsZWBcbiAqL1xuZXhwb3J0IGZ1bmN0aW9uIGNzc0Zyb21Nb2R1bGUobW9kdWxlSWQpIHtcbiAgbGV0IG0gPSBpbXBvcnRNb2R1bGUobW9kdWxlSWQpO1xuICBpZiAobSAmJiBtLl9jc3NUZXh0ID09PSB1bmRlZmluZWQpIHtcbiAgICAvLyBtb2R1bGUgaW1wb3J0czogPGxpbmsgcmVsPVwiaW1wb3J0XCIgdHlwZT1cImNzc1wiPlxuICAgIGxldCBjc3NUZXh0ID0gX2Nzc0Zyb21Nb2R1bGVJbXBvcnRzKG0pO1xuICAgIC8vIGluY2x1ZGUgY3NzIGZyb20gdGhlIGZpcnN0IHRlbXBsYXRlIGluIHRoZSBtb2R1bGVcbiAgICBsZXQgdCA9IC8qKiBAdHlwZSB7P0hUTUxUZW1wbGF0ZUVsZW1lbnR9ICovKG0ucXVlcnlTZWxlY3RvcigndGVtcGxhdGUnKSk7XG4gICAgaWYgKHQpIHtcbiAgICAgIGNzc1RleHQgKz0gY3NzRnJvbVRlbXBsYXRlKHQsXG4gICAgICAgIC8qKiBAdHlwZSB7dGVtcGxhdGVXaXRoQXNzZXRQYXRofSAqLyhtKS5hc3NldHBhdGgpO1xuICAgIH1cbiAgICBtLl9jc3NUZXh0ID0gY3NzVGV4dCB8fCBudWxsO1xuICB9XG4gIGlmICghbSkge1xuICAgIGNvbnNvbGUud2FybignQ291bGQgbm90IGZpbmQgc3R5bGUgZGF0YSBpbiBtb2R1bGUgbmFtZWQnLCBtb2R1bGVJZCk7XG4gIH1cbiAgcmV0dXJuIG0gJiYgbS5fY3NzVGV4dCB8fCAnJztcbn1cblxuLyoqXG4gKiBSZXR1cm5zIENTUyB0ZXh0IG9mIGA8c3R5bGVzPmAgd2l0aGluIGEgZ2l2ZW4gdGVtcGxhdGUuXG4gKlxuICogQW55IGA8c3R5bGVzPmAgcHJvY2Vzc2VkIGFyZSByZW1vdmVkIGZyb20gdGhlaXIgb3JpZ2luYWwgbG9jYXRpb24uXG4gKiBOb3RlOiBUaGlzIG1ldGhvZCBpcyBkZXByZWNhdGVkLCB1c2UgYHN0eWxlRnJvbVRlbXBsYXRlYCBpbnN0ZWFkLlxuICpcbiAqIEBkZXByZWNhdGVkXG4gKiBAcGFyYW0geyFIVE1MVGVtcGxhdGVFbGVtZW50fSB0ZW1wbGF0ZSBUZW1wbGF0ZSB0byBnYXRoZXIgc3R5bGVzIGZyb21cbiAqIEBwYXJhbSB7c3RyaW5nfSBiYXNlVVJJIEJhc2UgVVJJIHRvIHJlc29sdmUgdGhlIFVSTCBhZ2FpbnN0XG4gKiBAcmV0dXJuIHtzdHJpbmd9IENvbmNhdGVuYXRlZCBDU1MgY29udGVudCBmcm9tIHNwZWNpZmllZCB0ZW1wbGF0ZVxuICovXG5leHBvcnQgZnVuY3Rpb24gY3NzRnJvbVRlbXBsYXRlKHRlbXBsYXRlLCBiYXNlVVJJKSB7XG4gIGxldCBjc3NUZXh0ID0gJyc7XG4gIGNvbnN0IGUkID0gc3R5bGVzRnJvbVRlbXBsYXRlKHRlbXBsYXRlLCBiYXNlVVJJKTtcbiAgLy8gaWYgZWxlbWVudCBpcyBhIHRlbXBsYXRlLCBnZXQgY29udGVudCBmcm9tIGl0cyAuY29udGVudFxuICBmb3IgKGxldCBpPTA7IGkgPCBlJC5sZW5ndGg7IGkrKykge1xuICAgIGxldCBlID0gZSRbaV07XG4gICAgaWYgKGUucGFyZW50Tm9kZSkge1xuICAgICAgZS5wYXJlbnROb2RlLnJlbW92ZUNoaWxkKGUpO1xuICAgIH1cbiAgICBjc3NUZXh0ICs9IGUudGV4dENvbnRlbnQ7XG4gIH1cbiAgcmV0dXJuIGNzc1RleHQ7XG59XG5cbi8qKlxuICogUmV0dXJucyBDU1MgdGV4dCBmcm9tIHN0eWxlc2hlZXRzIGxvYWRlZCB2aWEgYDxsaW5rIHJlbD1cImltcG9ydFwiIHR5cGU9XCJjc3NcIj5gXG4gKiBsaW5rcyB3aXRoaW4gdGhlIHNwZWNpZmllZCBgZG9tLW1vZHVsZWAuXG4gKlxuICogTm90ZTogVGhpcyBtZXRob2QgaXMgZGVwcmVjYXRlZCwgdXNlIGBzdHlsZXNGcm9tTW9kdWxlSW1wb3J0c2AgaW5zdGVhZC5cbiAqXG4gKiBAZGVwcmVjYXRlZFxuICpcbiAqIEBwYXJhbSB7c3RyaW5nfSBtb2R1bGVJZCBJZCBvZiBgZG9tLW1vZHVsZWAgdG8gZ2F0aGVyIENTUyBmcm9tXG4gKiBAcmV0dXJuIHtzdHJpbmd9IENvbmNhdGVuYXRlZCBDU1MgY29udGVudCBmcm9tIGxpbmtzIGluIHNwZWNpZmllZCBgZG9tLW1vZHVsZWBcbiAqL1xuZXhwb3J0IGZ1bmN0aW9uIGNzc0Zyb21Nb2R1bGVJbXBvcnRzKG1vZHVsZUlkKSB7XG4gIGxldCBtID0gaW1wb3J0TW9kdWxlKG1vZHVsZUlkKTtcbiAgcmV0dXJuIG0gPyBfY3NzRnJvbU1vZHVsZUltcG9ydHMobSkgOiAnJztcbn1cblxuLyoqXG4gKiBAZGVwcmVjYXRlZFxuICogQHBhcmFtIHshSFRNTEVsZW1lbnR9IG1vZHVsZSBkb20tbW9kdWxlIGVsZW1lbnQgdGhhdCBjb3VsZCBjb250YWluIGA8bGluayByZWw9XCJpbXBvcnRcIiB0eXBlPVwiY3NzXCI+YCBzdHlsZXNcbiAqIEByZXR1cm4ge3N0cmluZ30gQ29uY2F0ZW5hdGVkIENTUyBjb250ZW50IGZyb20gbGlua3MgaW4gdGhlIGRvbS1tb2R1bGVcbiAqL1xuZnVuY3Rpb24gX2Nzc0Zyb21Nb2R1bGVJbXBvcnRzKG1vZHVsZSkge1xuICBsZXQgY3NzVGV4dCA9ICcnO1xuICBsZXQgc3R5bGVzID0gX3N0eWxlc0Zyb21Nb2R1bGVJbXBvcnRzKG1vZHVsZSk7XG4gIGZvciAobGV0IGk9MDsgaSA8IHN0eWxlcy5sZW5ndGg7IGkrKykge1xuICAgIGNzc1RleHQgKz0gc3R5bGVzW2ldLnRleHRDb250ZW50O1xuICB9XG4gIHJldHVybiBjc3NUZXh0O1xufVxuIiwiLyoqXG5AbGljZW5zZVxuQ29weXJpZ2h0IChjKSAyMDE3IFRoZSBQb2x5bWVyIFByb2plY3QgQXV0aG9ycy4gQWxsIHJpZ2h0cyByZXNlcnZlZC5cblRoaXMgY29kZSBtYXkgb25seSBiZSB1c2VkIHVuZGVyIHRoZSBCU0Qgc3R5bGUgbGljZW5zZSBmb3VuZCBhdCBodHRwOi8vcG9seW1lci5naXRodWIuaW8vTElDRU5TRS50eHRcblRoZSBjb21wbGV0ZSBzZXQgb2YgYXV0aG9ycyBtYXkgYmUgZm91bmQgYXQgaHR0cDovL3BvbHltZXIuZ2l0aHViLmlvL0FVVEhPUlMudHh0XG5UaGUgY29tcGxldGUgc2V0IG9mIGNvbnRyaWJ1dG9ycyBtYXkgYmUgZm91bmQgYXQgaHR0cDovL3BvbHltZXIuZ2l0aHViLmlvL0NPTlRSSUJVVE9SUy50eHRcbkNvZGUgZGlzdHJpYnV0ZWQgYnkgR29vZ2xlIGFzIHBhcnQgb2YgdGhlIHBvbHltZXIgcHJvamVjdCBpcyBhbHNvXG5zdWJqZWN0IHRvIGFuIGFkZGl0aW9uYWwgSVAgcmlnaHRzIGdyYW50IGZvdW5kIGF0IGh0dHA6Ly9wb2x5bWVyLmdpdGh1Yi5pby9QQVRFTlRTLnR4dFxuKi9cblxuLyoqXG4gKiBAZmlsZW92ZXJ2aWV3XG4gKlxuICogTW9kdWxlIGZvciBhZGRpbmcgbGlzdGVuZXJzIHRvIGEgbm9kZSBmb3IgdGhlIGZvbGxvd2luZyBub3JtYWxpemVkXG4gKiBjcm9zcy1wbGF0Zm9ybSBcImdlc3R1cmVcIiBldmVudHM6XG4gKiAtIGBkb3duYCAtIG1vdXNlIG9yIHRvdWNoIHdlbnQgZG93blxuICogLSBgdXBgIC0gbW91c2Ugb3IgdG91Y2ggd2VudCB1cFxuICogLSBgdGFwYCAtIG1vdXNlIGNsaWNrIG9yIGZpbmdlciB0YXBcbiAqIC0gYHRyYWNrYCAtIG1vdXNlIGRyYWcgb3IgdG91Y2ggbW92ZVxuICpcbiAqIEBzdW1tYXJ5IE1vZHVsZSBmb3IgYWRkaW5nIGNyb3NzLXBsYXRmb3JtIGdlc3R1cmUgZXZlbnQgbGlzdGVuZXJzLlxuICovXG5cbmltcG9ydCAnLi9ib290LmpzJztcblxuaW1wb3J0IHsgdGltZU91dCwgbWljcm9UYXNrIH0gZnJvbSAnLi9hc3luYy5qcyc7XG5pbXBvcnQgeyBEZWJvdW5jZXIgfSBmcm9tICcuL2RlYm91bmNlLmpzJztcbmltcG9ydCB7IHBhc3NpdmVUb3VjaEdlc3R1cmVzIH0gZnJvbSAnLi9zZXR0aW5ncy5qcyc7XG5pbXBvcnQgeyB3cmFwIH0gZnJvbSAnLi93cmFwLmpzJztcblxuLy8gZGV0ZWN0IG5hdGl2ZSB0b3VjaCBhY3Rpb24gc3VwcG9ydFxubGV0IEhBU19OQVRJVkVfVEEgPSB0eXBlb2YgZG9jdW1lbnQuaGVhZC5zdHlsZS50b3VjaEFjdGlvbiA9PT0gJ3N0cmluZyc7XG5sZXQgR0VTVFVSRV9LRVkgPSAnX19wb2x5bWVyR2VzdHVyZXMnO1xubGV0IEhBTkRMRURfT0JKID0gJ19fcG9seW1lckdlc3R1cmVzSGFuZGxlZCc7XG5sZXQgVE9VQ0hfQUNUSU9OID0gJ19fcG9seW1lckdlc3R1cmVzVG91Y2hBY3Rpb24nO1xuLy8gcmFkaXVzIGZvciB0YXAgYW5kIHRyYWNrXG5sZXQgVEFQX0RJU1RBTkNFID0gMjU7XG5sZXQgVFJBQ0tfRElTVEFOQ0UgPSA1O1xuLy8gbnVtYmVyIG9mIGxhc3QgTiB0cmFjayBwb3NpdGlvbnMgdG8ga2VlcFxubGV0IFRSQUNLX0xFTkdUSCA9IDI7XG5cbi8vIERpc2FibGluZyBcIm1vdXNlXCIgaGFuZGxlcnMgZm9yIDI1MDBtcyBpcyBlbm91Z2hcbmxldCBNT1VTRV9USU1FT1VUID0gMjUwMDtcbmxldCBNT1VTRV9FVkVOVFMgPSBbJ21vdXNlZG93bicsICdtb3VzZW1vdmUnLCAnbW91c2V1cCcsICdjbGljayddO1xuLy8gYW4gYXJyYXkgb2YgYml0bWFzayB2YWx1ZXMgZm9yIG1hcHBpbmcgTW91c2VFdmVudC53aGljaCB0byBNb3VzZUV2ZW50LmJ1dHRvbnNcbmxldCBNT1VTRV9XSElDSF9UT19CVVRUT05TID0gWzAsIDEsIDQsIDJdO1xubGV0IE1PVVNFX0hBU19CVVRUT05TID0gKGZ1bmN0aW9uKCkge1xuICB0cnkge1xuICAgIHJldHVybiBuZXcgTW91c2VFdmVudCgndGVzdCcsIHtidXR0b25zOiAxfSkuYnV0dG9ucyA9PT0gMTtcbiAgfSBjYXRjaCAoZSkge1xuICAgIHJldHVybiBmYWxzZTtcbiAgfVxufSkoKTtcblxuLyoqXG4gKiBAcGFyYW0ge3N0cmluZ30gbmFtZSBQb3NzaWJsZSBtb3VzZSBldmVudCBuYW1lXG4gKiBAcmV0dXJuIHtib29sZWFufSB0cnVlIGlmIG1vdXNlIGV2ZW50LCBmYWxzZSBpZiBub3RcbiAqL1xuZnVuY3Rpb24gaXNNb3VzZUV2ZW50KG5hbWUpIHtcbiAgcmV0dXJuIE1PVVNFX0VWRU5UUy5pbmRleE9mKG5hbWUpID4gLTE7XG59XG5cbi8qIGVzbGludCBuby1lbXB0eTogW1wiZXJyb3JcIiwgeyBcImFsbG93RW1wdHlDYXRjaFwiOiB0cnVlIH1dICovXG4vLyBjaGVjayBmb3IgcGFzc2l2ZSBldmVudCBsaXN0ZW5lcnNcbmxldCBTVVBQT1JUU19QQVNTSVZFID0gZmFsc2U7XG4oZnVuY3Rpb24oKSB7XG4gIHRyeSB7XG4gICAgbGV0IG9wdHMgPSBPYmplY3QuZGVmaW5lUHJvcGVydHkoe30sICdwYXNzaXZlJywge2dldCgpIHtTVVBQT1JUU19QQVNTSVZFID0gdHJ1ZTt9fSk7XG4gICAgd2luZG93LmFkZEV2ZW50TGlzdGVuZXIoJ3Rlc3QnLCBudWxsLCBvcHRzKTtcbiAgICB3aW5kb3cucmVtb3ZlRXZlbnRMaXN0ZW5lcigndGVzdCcsIG51bGwsIG9wdHMpO1xuICB9IGNhdGNoKGUpIHt9XG59KSgpO1xuXG4vKipcbiAqIEdlbmVyYXRlIHNldHRpbmdzIGZvciBldmVudCBsaXN0ZW5lcnMsIGRlcGVuZGFudCBvbiBgcGFzc2l2ZVRvdWNoR2VzdHVyZXNgXG4gKlxuICogQHBhcmFtIHtzdHJpbmd9IGV2ZW50TmFtZSBFdmVudCBuYW1lIHRvIGRldGVybWluZSBpZiBge3Bhc3NpdmV9YCBvcHRpb24gaXNcbiAqICAgbmVlZGVkXG4gKiBAcmV0dXJuIHt7cGFzc2l2ZTogYm9vbGVhbn0gfCB1bmRlZmluZWR9IE9wdGlvbnMgdG8gdXNlIGZvciBhZGRFdmVudExpc3RlbmVyXG4gKiAgIGFuZCByZW1vdmVFdmVudExpc3RlbmVyXG4gKi9cbmZ1bmN0aW9uIFBBU1NJVkVfVE9VQ0goZXZlbnROYW1lKSB7XG4gIGlmIChpc01vdXNlRXZlbnQoZXZlbnROYW1lKSB8fCBldmVudE5hbWUgPT09ICd0b3VjaGVuZCcpIHtcbiAgICByZXR1cm47XG4gIH1cbiAgaWYgKEhBU19OQVRJVkVfVEEgJiYgU1VQUE9SVFNfUEFTU0lWRSAmJiBwYXNzaXZlVG91Y2hHZXN0dXJlcykge1xuICAgIHJldHVybiB7cGFzc2l2ZTogdHJ1ZX07XG4gIH0gZWxzZSB7XG4gICAgcmV0dXJuO1xuICB9XG59XG5cbi8vIENoZWNrIGZvciB0b3VjaC1vbmx5IGRldmljZXNcbmxldCBJU19UT1VDSF9PTkxZID0gbmF2aWdhdG9yLnVzZXJBZ2VudC5tYXRjaCgvaVAoPzpbb2FdZHxob25lKXxBbmRyb2lkLyk7XG5cbi8vIGtlZXAgdHJhY2sgb2YgYW55IGxhYmVscyBoaXQgYnkgdGhlIG1vdXNlQ2FuY2VsbGVyXG4vKiogQHR5cGUgeyFBcnJheTwhSFRNTExhYmVsRWxlbWVudD59ICovXG5jb25zdCBjbGlja2VkTGFiZWxzID0gW107XG5cbi8qKiBAdHlwZSB7IU9iamVjdDxib29sZWFuPn0gKi9cbmNvbnN0IGxhYmVsbGFibGUgPSB7XG4gICdidXR0b24nOiB0cnVlLFxuICAnaW5wdXQnOiB0cnVlLFxuICAna2V5Z2VuJzogdHJ1ZSxcbiAgJ21ldGVyJzogdHJ1ZSxcbiAgJ291dHB1dCc6IHRydWUsXG4gICd0ZXh0YXJlYSc6IHRydWUsXG4gICdwcm9ncmVzcyc6IHRydWUsXG4gICdzZWxlY3QnOiB0cnVlXG59O1xuXG4vLyBEZWZpbmVkIGF0IGh0dHBzOi8vaHRtbC5zcGVjLndoYXR3Zy5vcmcvbXVsdGlwYWdlL2Zvcm0tY29udHJvbC1pbmZyYXN0cnVjdHVyZS5odG1sI2VuYWJsaW5nLWFuZC1kaXNhYmxpbmctZm9ybS1jb250cm9sczotdGhlLWRpc2FibGVkLWF0dHJpYnV0ZVxuLyoqIEB0eXBlIHshT2JqZWN0PGJvb2xlYW4+fSAqL1xuY29uc3QgY2FuQmVEaXNhYmxlZCA9IHtcbiAgJ2J1dHRvbic6IHRydWUsXG4gICdjb21tYW5kJzogdHJ1ZSxcbiAgJ2ZpZWxkc2V0JzogdHJ1ZSxcbiAgJ2lucHV0JzogdHJ1ZSxcbiAgJ2tleWdlbic6IHRydWUsXG4gICdvcHRncm91cCc6IHRydWUsXG4gICdvcHRpb24nOiB0cnVlLFxuICAnc2VsZWN0JzogdHJ1ZSxcbiAgJ3RleHRhcmVhJzogdHJ1ZVxufTtcblxuLyoqXG4gKiBAcGFyYW0ge0hUTUxFbGVtZW50fSBlbCBFbGVtZW50IHRvIGNoZWNrIGxhYmVsbGluZyBzdGF0dXNcbiAqIEByZXR1cm4ge2Jvb2xlYW59IGVsZW1lbnQgY2FuIGhhdmUgbGFiZWxzXG4gKi9cbmZ1bmN0aW9uIGNhbkJlTGFiZWxsZWQoZWwpIHtcbiAgcmV0dXJuIGxhYmVsbGFibGVbZWwubG9jYWxOYW1lXSB8fCBmYWxzZTtcbn1cblxuLyoqXG4gKiBAcGFyYW0ge0hUTUxFbGVtZW50fSBlbCBFbGVtZW50IHRoYXQgbWF5IGJlIGxhYmVsbGVkLlxuICogQHJldHVybiB7IUFycmF5PCFIVE1MTGFiZWxFbGVtZW50Pn0gUmVsZXZhbnQgbGFiZWwgZm9yIGBlbGBcbiAqL1xuZnVuY3Rpb24gbWF0Y2hpbmdMYWJlbHMoZWwpIHtcbiAgbGV0IGxhYmVscyA9IEFycmF5LnByb3RvdHlwZS5zbGljZS5jYWxsKC8qKiBAdHlwZSB7SFRNTElucHV0RWxlbWVudH0gKi8oZWwpLmxhYmVscyB8fCBbXSk7XG4gIC8vIElFIGRvZXNuJ3QgaGF2ZSBgbGFiZWxzYCBhbmQgU2FmYXJpIGRvZXNuJ3QgcG9wdWxhdGUgYGxhYmVsc2BcbiAgLy8gaWYgZWxlbWVudCBpcyBpbiBhIHNoYWRvd3Jvb3QuXG4gIC8vIEluIHRoaXMgaW5zdGFuY2UsIGZpbmRpbmcgdGhlIG5vbi1hbmNlc3RvciBsYWJlbHMgaXMgZW5vdWdoLFxuICAvLyBhcyB0aGUgbW91c2VDYW5jZWxsb3IgY29kZSB3aWxsIGhhbmRsZSBhbmNzdG9yIGxhYmVsc1xuICBpZiAoIWxhYmVscy5sZW5ndGgpIHtcbiAgICBsYWJlbHMgPSBbXTtcbiAgICBsZXQgcm9vdCA9IGVsLmdldFJvb3ROb2RlKCk7XG4gICAgLy8gaWYgdGhlcmUgaXMgYW4gaWQgb24gYGVsYCwgY2hlY2sgZm9yIGFsbCBsYWJlbHMgd2l0aCBhIG1hdGNoaW5nIGBmb3JgIGF0dHJpYnV0ZVxuICAgIGlmIChlbC5pZCkge1xuICAgICAgbGV0IG1hdGNoaW5nID0gcm9vdC5xdWVyeVNlbGVjdG9yQWxsKGBsYWJlbFtmb3IgPSAke2VsLmlkfV1gKTtcbiAgICAgIGZvciAobGV0IGkgPSAwOyBpIDwgbWF0Y2hpbmcubGVuZ3RoOyBpKyspIHtcbiAgICAgICAgbGFiZWxzLnB1c2goLyoqIEB0eXBlIHshSFRNTExhYmVsRWxlbWVudH0gKi8obWF0Y2hpbmdbaV0pKTtcbiAgICAgIH1cbiAgICB9XG4gIH1cbiAgcmV0dXJuIGxhYmVscztcbn1cblxuLy8gdG91Y2ggd2lsbCBtYWtlIHN5bnRoZXRpYyBtb3VzZSBldmVudHNcbi8vIGBwcmV2ZW50RGVmYXVsdGAgb24gdG91Y2hlbmQgd2lsbCBjYW5jZWwgdGhlbSxcbi8vIGJ1dCB0aGlzIGJyZWFrcyBgPGlucHV0PmAgZm9jdXMgYW5kIGxpbmsgY2xpY2tzXG4vLyBkaXNhYmxlIG1vdXNlIGhhbmRsZXJzIGZvciBNT1VTRV9USU1FT1VUIG1zIGFmdGVyXG4vLyBhIHRvdWNoZW5kIHRvIGlnbm9yZSBzeW50aGV0aWMgbW91c2UgZXZlbnRzXG5sZXQgbW91c2VDYW5jZWxsZXIgPSBmdW5jdGlvbihtb3VzZUV2ZW50KSB7XG4gIC8vIENoZWNrIGZvciBzb3VyY2VDYXBhYmlsaXRpZXMsIHVzZWQgdG8gZGlzdGluZ3Vpc2ggc3ludGhldGljIGV2ZW50c1xuICAvLyBpZiBtb3VzZUV2ZW50IGRpZCBub3QgY29tZSBmcm9tIGEgZGV2aWNlIHRoYXQgZmlyZXMgdG91Y2ggZXZlbnRzLFxuICAvLyBpdCB3YXMgbWFkZSBieSBhIHJlYWwgbW91c2UgYW5kIHNob3VsZCBiZSBjb3VudGVkXG4gIC8vIGh0dHA6Ly93aWNnLmdpdGh1Yi5pby9JbnB1dERldmljZUNhcGFiaWxpdGllcy8jZG9tLWlucHV0ZGV2aWNlY2FwYWJpbGl0aWVzLWZpcmVzdG91Y2hldmVudHNcbiAgbGV0IHNjID0gbW91c2VFdmVudC5zb3VyY2VDYXBhYmlsaXRpZXM7XG4gIGlmIChzYyAmJiAhc2MuZmlyZXNUb3VjaEV2ZW50cykge1xuICAgIHJldHVybjtcbiAgfVxuICAvLyBza2lwIHN5bnRoZXRpYyBtb3VzZSBldmVudHNcbiAgbW91c2VFdmVudFtIQU5ETEVEX09CSl0gPSB7c2tpcDogdHJ1ZX07XG4gIC8vIGRpc2FibGUgXCJnaG9zdCBjbGlja3NcIlxuICBpZiAobW91c2VFdmVudC50eXBlID09PSAnY2xpY2snKSB7XG4gICAgbGV0IGNsaWNrRnJvbUxhYmVsID0gZmFsc2U7XG4gICAgbGV0IHBhdGggPSBnZXRDb21wb3NlZFBhdGgobW91c2VFdmVudCk7XG4gICAgZm9yIChsZXQgaSA9IDA7IGkgPCBwYXRoLmxlbmd0aDsgaSsrKSB7XG4gICAgICBpZiAocGF0aFtpXS5ub2RlVHlwZSA9PT0gTm9kZS5FTEVNRU5UX05PREUpIHtcbiAgICAgICAgaWYgKHBhdGhbaV0ubG9jYWxOYW1lID09PSAnbGFiZWwnKSB7XG4gICAgICAgICAgY2xpY2tlZExhYmVscy5wdXNoKC8qKiBAdHlwZSB7IUhUTUxMYWJlbEVsZW1lbnR9ICovIChwYXRoW2ldKSk7XG4gICAgICAgIH0gZWxzZSBpZiAoY2FuQmVMYWJlbGxlZCgvKiogQHR5cGUgeyFIVE1MRWxlbWVudH0gKi8gKHBhdGhbaV0pKSkge1xuICAgICAgICAgIGxldCBvd25lckxhYmVscyA9XG4gICAgICAgICAgICAgIG1hdGNoaW5nTGFiZWxzKC8qKiBAdHlwZSB7IUhUTUxFbGVtZW50fSAqLyAocGF0aFtpXSkpO1xuICAgICAgICAgIC8vIGNoZWNrIGlmIG9uZSBvZiB0aGUgY2xpY2tlZCBsYWJlbHMgaXMgbGFiZWxsaW5nIHRoaXMgZWxlbWVudFxuICAgICAgICAgIGZvciAobGV0IGogPSAwOyBqIDwgb3duZXJMYWJlbHMubGVuZ3RoOyBqKyspIHtcbiAgICAgICAgICAgIGNsaWNrRnJvbUxhYmVsID0gY2xpY2tGcm9tTGFiZWwgfHwgY2xpY2tlZExhYmVscy5pbmRleE9mKG93bmVyTGFiZWxzW2pdKSA+IC0xO1xuICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgfVxuICAgICAgaWYgKHBhdGhbaV0gPT09IFBPSU5URVJTVEFURS5tb3VzZS50YXJnZXQpIHtcbiAgICAgICAgcmV0dXJuO1xuICAgICAgfVxuICAgIH1cbiAgICAvLyBpZiBvbmUgb2YgdGhlIGNsaWNrZWQgbGFiZWxzIHdhcyBsYWJlbGxpbmcgdGhlIHRhcmdldCBlbGVtZW50LFxuICAgIC8vIHRoaXMgaXMgbm90IGEgZ2hvc3QgY2xpY2tcbiAgICBpZiAoY2xpY2tGcm9tTGFiZWwpIHtcbiAgICAgIHJldHVybjtcbiAgICB9XG4gICAgbW91c2VFdmVudC5wcmV2ZW50RGVmYXVsdCgpO1xuICAgIG1vdXNlRXZlbnQuc3RvcFByb3BhZ2F0aW9uKCk7XG4gIH1cbn07XG5cbi8qKlxuICogQHBhcmFtIHtib29sZWFuPX0gc2V0dXAgVHJ1ZSB0byBhZGQsIGZhbHNlIHRvIHJlbW92ZS5cbiAqIEByZXR1cm4ge3ZvaWR9XG4gKi9cbmZ1bmN0aW9uIHNldHVwVGVhcmRvd25Nb3VzZUNhbmNlbGxlcihzZXR1cCkge1xuICBsZXQgZXZlbnRzID0gSVNfVE9VQ0hfT05MWSA/IFsnY2xpY2snXSA6IE1PVVNFX0VWRU5UUztcbiAgZm9yIChsZXQgaSA9IDAsIGVuOyBpIDwgZXZlbnRzLmxlbmd0aDsgaSsrKSB7XG4gICAgZW4gPSBldmVudHNbaV07XG4gICAgaWYgKHNldHVwKSB7XG4gICAgICAvLyByZXNldCBjbGlja0xhYmVscyBhcnJheVxuICAgICAgY2xpY2tlZExhYmVscy5sZW5ndGggPSAwO1xuICAgICAgZG9jdW1lbnQuYWRkRXZlbnRMaXN0ZW5lcihlbiwgbW91c2VDYW5jZWxsZXIsIHRydWUpO1xuICAgIH0gZWxzZSB7XG4gICAgICBkb2N1bWVudC5yZW1vdmVFdmVudExpc3RlbmVyKGVuLCBtb3VzZUNhbmNlbGxlciwgdHJ1ZSk7XG4gICAgfVxuICB9XG59XG5cbmZ1bmN0aW9uIGlnbm9yZU1vdXNlKGUpIHtcbiAgaWYgKCFQT0lOVEVSU1RBVEUubW91c2UubW91c2VJZ25vcmVKb2IpIHtcbiAgICBzZXR1cFRlYXJkb3duTW91c2VDYW5jZWxsZXIodHJ1ZSk7XG4gIH1cbiAgbGV0IHVuc2V0ID0gZnVuY3Rpb24oKSB7XG4gICAgc2V0dXBUZWFyZG93bk1vdXNlQ2FuY2VsbGVyKCk7XG4gICAgUE9JTlRFUlNUQVRFLm1vdXNlLnRhcmdldCA9IG51bGw7XG4gICAgUE9JTlRFUlNUQVRFLm1vdXNlLm1vdXNlSWdub3JlSm9iID0gbnVsbDtcbiAgfTtcbiAgUE9JTlRFUlNUQVRFLm1vdXNlLnRhcmdldCA9IGdldENvbXBvc2VkUGF0aChlKVswXTtcbiAgUE9JTlRFUlNUQVRFLm1vdXNlLm1vdXNlSWdub3JlSm9iID0gRGVib3VuY2VyLmRlYm91bmNlKFxuICAgICAgICBQT0lOVEVSU1RBVEUubW91c2UubW91c2VJZ25vcmVKb2JcbiAgICAgICwgdGltZU91dC5hZnRlcihNT1VTRV9USU1FT1VUKVxuICAgICAgLCB1bnNldCk7XG59XG5cbi8qKlxuICogQHBhcmFtIHtNb3VzZUV2ZW50fSBldiBldmVudCB0byB0ZXN0IGZvciBsZWZ0IG1vdXNlIGJ1dHRvbiBkb3duXG4gKiBAcmV0dXJuIHtib29sZWFufSBoYXMgbGVmdCBtb3VzZSBidXR0b24gZG93blxuICovXG5mdW5jdGlvbiBoYXNMZWZ0TW91c2VCdXR0b24oZXYpIHtcbiAgbGV0IHR5cGUgPSBldi50eXBlO1xuICAvLyBleGl0IGVhcmx5IGlmIHRoZSBldmVudCBpcyBub3QgYSBtb3VzZSBldmVudFxuICBpZiAoIWlzTW91c2VFdmVudCh0eXBlKSkge1xuICAgIHJldHVybiBmYWxzZTtcbiAgfVxuICAvLyBldi5idXR0b24gaXMgbm90IHJlbGlhYmxlIGZvciBtb3VzZW1vdmUgKDAgaXMgb3ZlcmxvYWRlZCBhcyBib3RoIGxlZnQgYnV0dG9uIGFuZCBubyBidXR0b25zKVxuICAvLyBpbnN0ZWFkIHdlIHVzZSBldi5idXR0b25zIChiaXRtYXNrIG9mIGJ1dHRvbnMpIG9yIGZhbGwgYmFjayB0byBldi53aGljaCAoZGVwcmVjYXRlZCwgMCBmb3Igbm8gYnV0dG9ucywgMSBmb3IgbGVmdCBidXR0b24pXG4gIGlmICh0eXBlID09PSAnbW91c2Vtb3ZlJykge1xuICAgIC8vIGFsbG93IHVuZGVmaW5lZCBmb3IgdGVzdGluZyBldmVudHNcbiAgICBsZXQgYnV0dG9ucyA9IGV2LmJ1dHRvbnMgPT09IHVuZGVmaW5lZCA/IDEgOiBldi5idXR0b25zO1xuICAgIGlmICgoZXYgaW5zdGFuY2VvZiB3aW5kb3cuTW91c2VFdmVudCkgJiYgIU1PVVNFX0hBU19CVVRUT05TKSB7XG4gICAgICBidXR0b25zID0gTU9VU0VfV0hJQ0hfVE9fQlVUVE9OU1tldi53aGljaF0gfHwgMDtcbiAgICB9XG4gICAgLy8gYnV0dG9ucyBpcyBhIGJpdG1hc2ssIGNoZWNrIHRoYXQgdGhlIGxlZnQgYnV0dG9uIGJpdCBpcyBzZXQgKDEpXG4gICAgcmV0dXJuIEJvb2xlYW4oYnV0dG9ucyAmIDEpO1xuICB9IGVsc2Uge1xuICAgIC8vIGFsbG93IHVuZGVmaW5lZCBmb3IgdGVzdGluZyBldmVudHNcbiAgICBsZXQgYnV0dG9uID0gZXYuYnV0dG9uID09PSB1bmRlZmluZWQgPyAwIDogZXYuYnV0dG9uO1xuICAgIC8vIGV2LmJ1dHRvbiBpcyAwIGluIG1vdXNlZG93bi9tb3VzZXVwL2NsaWNrIGZvciBsZWZ0IGJ1dHRvbiBhY3RpdmF0aW9uXG4gICAgcmV0dXJuIGJ1dHRvbiA9PT0gMDtcbiAgfVxufVxuXG5mdW5jdGlvbiBpc1N5bnRoZXRpY0NsaWNrKGV2KSB7XG4gIGlmIChldi50eXBlID09PSAnY2xpY2snKSB7XG4gICAgLy8gZXYuZGV0YWlsIGlzIDAgZm9yIEhUTUxFbGVtZW50LmNsaWNrIGluIG1vc3QgYnJvd3NlcnNcbiAgICBpZiAoZXYuZGV0YWlsID09PSAwKSB7XG4gICAgICByZXR1cm4gdHJ1ZTtcbiAgICB9XG4gICAgLy8gaW4gdGhlIHdvcnN0IGNhc2UsIGNoZWNrIHRoYXQgdGhlIHgveSBwb3NpdGlvbiBvZiB0aGUgY2xpY2sgaXMgd2l0aGluXG4gICAgLy8gdGhlIGJvdW5kaW5nIGJveCBvZiB0aGUgdGFyZ2V0IG9mIHRoZSBldmVudFxuICAgIC8vIFRoYW5rcyBJRSAxMCA+OihcbiAgICBsZXQgdCA9IF9maW5kT3JpZ2luYWxUYXJnZXQoZXYpO1xuICAgIC8vIG1ha2Ugc3VyZSB0aGUgdGFyZ2V0IG9mIHRoZSBldmVudCBpcyBhbiBlbGVtZW50IHNvIHdlIGNhbiB1c2UgZ2V0Qm91bmRpbmdDbGllbnRSZWN0LFxuICAgIC8vIGlmIG5vdCwganVzdCBhc3N1bWUgaXQgaXMgYSBzeW50aGV0aWMgY2xpY2tcbiAgICBpZiAoIXQubm9kZVR5cGUgfHwgLyoqIEB0eXBlIHtFbGVtZW50fSAqLyh0KS5ub2RlVHlwZSAhPT0gTm9kZS5FTEVNRU5UX05PREUpIHtcbiAgICAgIHJldHVybiB0cnVlO1xuICAgIH1cbiAgICBsZXQgYmNyID0gLyoqIEB0eXBlIHtFbGVtZW50fSAqLyh0KS5nZXRCb3VuZGluZ0NsaWVudFJlY3QoKTtcbiAgICAvLyB1c2UgcGFnZSB4L3kgdG8gYWNjb3VudCBmb3Igc2Nyb2xsaW5nXG4gICAgbGV0IHggPSBldi5wYWdlWCwgeSA9IGV2LnBhZ2VZO1xuICAgIC8vIGV2IGlzIGEgc3ludGhldGljIGNsaWNrIGlmIHRoZSBwb3NpdGlvbiBpcyBvdXRzaWRlIHRoZSBib3VuZGluZyBib3ggb2YgdGhlIHRhcmdldFxuICAgIHJldHVybiAhKCh4ID49IGJjci5sZWZ0ICYmIHggPD0gYmNyLnJpZ2h0KSAmJiAoeSA+PSBiY3IudG9wICYmIHkgPD0gYmNyLmJvdHRvbSkpO1xuICB9XG4gIHJldHVybiBmYWxzZTtcbn1cblxubGV0IFBPSU5URVJTVEFURSA9IHtcbiAgbW91c2U6IHtcbiAgICB0YXJnZXQ6IG51bGwsXG4gICAgbW91c2VJZ25vcmVKb2I6IG51bGxcbiAgfSxcbiAgdG91Y2g6IHtcbiAgICB4OiAwLFxuICAgIHk6IDAsXG4gICAgaWQ6IC0xLFxuICAgIHNjcm9sbERlY2lkZWQ6IGZhbHNlXG4gIH1cbn07XG5cbmZ1bmN0aW9uIGZpcnN0VG91Y2hBY3Rpb24oZXYpIHtcbiAgbGV0IHRhID0gJ2F1dG8nO1xuICBsZXQgcGF0aCA9IGdldENvbXBvc2VkUGF0aChldik7XG4gIGZvciAobGV0IGkgPSAwLCBuOyBpIDwgcGF0aC5sZW5ndGg7IGkrKykge1xuICAgIG4gPSBwYXRoW2ldO1xuICAgIGlmIChuW1RPVUNIX0FDVElPTl0pIHtcbiAgICAgIHRhID0gbltUT1VDSF9BQ1RJT05dO1xuICAgICAgYnJlYWs7XG4gICAgfVxuICB9XG4gIHJldHVybiB0YTtcbn1cblxuZnVuY3Rpb24gdHJhY2tEb2N1bWVudChzdGF0ZU9iaiwgbW92ZWZuLCB1cGZuKSB7XG4gIHN0YXRlT2JqLm1vdmVmbiA9IG1vdmVmbjtcbiAgc3RhdGVPYmoudXBmbiA9IHVwZm47XG4gIGRvY3VtZW50LmFkZEV2ZW50TGlzdGVuZXIoJ21vdXNlbW92ZScsIG1vdmVmbik7XG4gIGRvY3VtZW50LmFkZEV2ZW50TGlzdGVuZXIoJ21vdXNldXAnLCB1cGZuKTtcbn1cblxuZnVuY3Rpb24gdW50cmFja0RvY3VtZW50KHN0YXRlT2JqKSB7XG4gIGRvY3VtZW50LnJlbW92ZUV2ZW50TGlzdGVuZXIoJ21vdXNlbW92ZScsIHN0YXRlT2JqLm1vdmVmbik7XG4gIGRvY3VtZW50LnJlbW92ZUV2ZW50TGlzdGVuZXIoJ21vdXNldXAnLCBzdGF0ZU9iai51cGZuKTtcbiAgc3RhdGVPYmoubW92ZWZuID0gbnVsbDtcbiAgc3RhdGVPYmoudXBmbiA9IG51bGw7XG59XG5cbi8vIHVzZSBhIGRvY3VtZW50LXdpZGUgdG91Y2hlbmQgbGlzdGVuZXIgdG8gc3RhcnQgdGhlIGdob3N0LWNsaWNrIHByZXZlbnRpb24gbWVjaGFuaXNtXG4vLyBVc2UgcGFzc2l2ZSBldmVudCBsaXN0ZW5lcnMsIGlmIHN1cHBvcnRlZCwgdG8gbm90IGFmZmVjdCBzY3JvbGxpbmcgcGVyZm9ybWFuY2VcbmRvY3VtZW50LmFkZEV2ZW50TGlzdGVuZXIoJ3RvdWNoZW5kJywgaWdub3JlTW91c2UsIFNVUFBPUlRTX1BBU1NJVkUgPyB7cGFzc2l2ZTogdHJ1ZX0gOiBmYWxzZSk7XG5cbi8qKlxuICogUmV0dXJucyB0aGUgY29tcG9zZWRQYXRoIGZvciB0aGUgZ2l2ZW4gZXZlbnQuXG4gKiBAcGFyYW0ge0V2ZW50fSBldmVudCB0byBwcm9jZXNzXG4gKiBAcmV0dXJuIHshQXJyYXk8IUV2ZW50VGFyZ2V0Pn0gUGF0aCBvZiB0aGUgZXZlbnRcbiAqL1xuY29uc3QgZ2V0Q29tcG9zZWRQYXRoID0gd2luZG93LlNoYWR5RE9NICYmIHdpbmRvdy5TaGFkeURPTS5ub1BhdGNoID9cbiAgd2luZG93LlNoYWR5RE9NLmNvbXBvc2VkUGF0aCA6XG4gIChldmVudCkgPT4gZXZlbnQuY29tcG9zZWRQYXRoICYmIGV2ZW50LmNvbXBvc2VkUGF0aCgpIHx8IFtdO1xuXG4vKiogQHR5cGUgeyFPYmplY3Q8c3RyaW5nLCAhR2VzdHVyZVJlY29nbml6ZXI+fSAqL1xuZXhwb3J0IGNvbnN0IGdlc3R1cmVzID0ge307XG5cbi8qKiBAdHlwZSB7IUFycmF5PCFHZXN0dXJlUmVjb2duaXplcj59ICovXG5leHBvcnQgY29uc3QgcmVjb2duaXplcnMgPSBbXTtcblxuLyoqXG4gKiBGaW5kcyB0aGUgZWxlbWVudCByZW5kZXJlZCBvbiB0aGUgc2NyZWVuIGF0IHRoZSBwcm92aWRlZCBjb29yZGluYXRlcy5cbiAqXG4gKiBTaW1pbGFyIHRvIGBkb2N1bWVudC5lbGVtZW50RnJvbVBvaW50YCwgYnV0IHBpZXJjZXMgdGhyb3VnaFxuICogc2hhZG93IHJvb3RzLlxuICpcbiAqIEBwYXJhbSB7bnVtYmVyfSB4IEhvcml6b250YWwgcGl4ZWwgY29vcmRpbmF0ZVxuICogQHBhcmFtIHtudW1iZXJ9IHkgVmVydGljYWwgcGl4ZWwgY29vcmRpbmF0ZVxuICogQHJldHVybiB7RWxlbWVudH0gUmV0dXJucyB0aGUgZGVlcGVzdCBzaGFkb3dSb290IGluY2x1c2l2ZSBlbGVtZW50XG4gKiBmb3VuZCBhdCB0aGUgc2NyZWVuIHBvc2l0aW9uIGdpdmVuLlxuICovXG5leHBvcnQgZnVuY3Rpb24gZGVlcFRhcmdldEZpbmQoeCwgeSkge1xuICBsZXQgbm9kZSA9IGRvY3VtZW50LmVsZW1lbnRGcm9tUG9pbnQoeCwgeSk7XG4gIGxldCBuZXh0ID0gbm9kZTtcbiAgLy8gdGhpcyBjb2RlIHBhdGggaXMgb25seSB0YWtlbiB3aGVuIG5hdGl2ZSBTaGFkb3dET00gaXMgdXNlZFxuICAvLyBpZiB0aGVyZSBpcyBhIHNoYWRvd3Jvb3QsIGl0IG1heSBoYXZlIGEgbm9kZSBhdCB4L3lcbiAgLy8gaWYgdGhlcmUgaXMgbm90IGEgc2hhZG93cm9vdCwgZXhpdCB0aGUgbG9vcFxuICB3aGlsZSAobmV4dCAmJiBuZXh0LnNoYWRvd1Jvb3QgJiYgIXdpbmRvdy5TaGFkeURPTSkge1xuICAgIC8vIGlmIHRoZXJlIGlzIGEgbm9kZSBhdCB4L3kgaW4gdGhlIHNoYWRvd3Jvb3QsIGxvb2sgZGVlcGVyXG4gICAgbGV0IG9sZE5leHQgPSBuZXh0O1xuICAgIG5leHQgPSBuZXh0LnNoYWRvd1Jvb3QuZWxlbWVudEZyb21Qb2ludCh4LCB5KTtcbiAgICAvLyBvbiBTYWZhcmksIGVsZW1lbnRGcm9tUG9pbnQgbWF5IHJldHVybiB0aGUgc2hhZG93Um9vdCBob3N0XG4gICAgaWYgKG9sZE5leHQgPT09IG5leHQpIHtcbiAgICAgIGJyZWFrO1xuICAgIH1cbiAgICBpZiAobmV4dCkge1xuICAgICAgbm9kZSA9IG5leHQ7XG4gICAgfVxuICB9XG4gIHJldHVybiBub2RlO1xufVxuXG4vKipcbiAqIGEgY2hlYXBlciBjaGVjayB0aGFuIGV2LmNvbXBvc2VkUGF0aCgpWzBdO1xuICpcbiAqIEBwcml2YXRlXG4gKiBAcGFyYW0ge0V2ZW50fFRvdWNofSBldiBFdmVudC5cbiAqIEByZXR1cm4ge0V2ZW50VGFyZ2V0fSBSZXR1cm5zIHRoZSBldmVudCB0YXJnZXQuXG4gKi9cbmZ1bmN0aW9uIF9maW5kT3JpZ2luYWxUYXJnZXQoZXYpIHtcbiAgY29uc3QgcGF0aCA9IGdldENvbXBvc2VkUGF0aCgvKiogQHR5cGUgez9FdmVudH0gKi8gKGV2KSk7XG4gIC8vIEl0IHNob3VsZG4ndCBiZSwgYnV0IHNvbWV0aW1lcyBwYXRoIGlzIGVtcHR5ICh3aW5kb3cgb24gU2FmYXJpKS5cbiAgcmV0dXJuIHBhdGgubGVuZ3RoID4gMCA/IHBhdGhbMF0gOiBldi50YXJnZXQ7XG59XG5cbi8qKlxuICogQHByaXZhdGVcbiAqIEBwYXJhbSB7RXZlbnR9IGV2IEV2ZW50LlxuICogQHJldHVybiB7dm9pZH1cbiAqL1xuZnVuY3Rpb24gX2hhbmRsZU5hdGl2ZShldikge1xuICBsZXQgaGFuZGxlZDtcbiAgbGV0IHR5cGUgPSBldi50eXBlO1xuICBsZXQgbm9kZSA9IGV2LmN1cnJlbnRUYXJnZXQ7XG4gIGxldCBnb2JqID0gbm9kZVtHRVNUVVJFX0tFWV07XG4gIGlmICghZ29iaikge1xuICAgIHJldHVybjtcbiAgfVxuICBsZXQgZ3MgPSBnb2JqW3R5cGVdO1xuICBpZiAoIWdzKSB7XG4gICAgcmV0dXJuO1xuICB9XG4gIGlmICghZXZbSEFORExFRF9PQkpdKSB7XG4gICAgZXZbSEFORExFRF9PQkpdID0ge307XG4gICAgaWYgKHR5cGUuc2xpY2UoMCwgNSkgPT09ICd0b3VjaCcpIHtcbiAgICAgIGV2ID0gLyoqIEB0eXBlIHtUb3VjaEV2ZW50fSAqLyhldik7IC8vIGVzbGludC1kaXNhYmxlLWxpbmUgbm8tc2VsZi1hc3NpZ25cbiAgICAgIGxldCB0ID0gZXYuY2hhbmdlZFRvdWNoZXNbMF07XG4gICAgICBpZiAodHlwZSA9PT0gJ3RvdWNoc3RhcnQnKSB7XG4gICAgICAgIC8vIG9ubHkgaGFuZGxlIHRoZSBmaXJzdCBmaW5nZXJcbiAgICAgICAgaWYgKGV2LnRvdWNoZXMubGVuZ3RoID09PSAxKSB7XG4gICAgICAgICAgUE9JTlRFUlNUQVRFLnRvdWNoLmlkID0gdC5pZGVudGlmaWVyO1xuICAgICAgICB9XG4gICAgICB9XG4gICAgICBpZiAoUE9JTlRFUlNUQVRFLnRvdWNoLmlkICE9PSB0LmlkZW50aWZpZXIpIHtcbiAgICAgICAgcmV0dXJuO1xuICAgICAgfVxuICAgICAgaWYgKCFIQVNfTkFUSVZFX1RBKSB7XG4gICAgICAgIGlmICh0eXBlID09PSAndG91Y2hzdGFydCcgfHwgdHlwZSA9PT0gJ3RvdWNobW92ZScpIHtcbiAgICAgICAgICBfaGFuZGxlVG91Y2hBY3Rpb24oZXYpO1xuICAgICAgICB9XG4gICAgICB9XG4gICAgfVxuICB9XG4gIGhhbmRsZWQgPSBldltIQU5ETEVEX09CSl07XG4gIC8vIHVzZWQgdG8gaWdub3JlIHN5bnRoZXRpYyBtb3VzZSBldmVudHNcbiAgaWYgKGhhbmRsZWQuc2tpcCkge1xuICAgIHJldHVybjtcbiAgfVxuICAvLyByZXNldCByZWNvZ25pemVyIHN0YXRlXG4gIGZvciAobGV0IGkgPSAwLCByOyBpIDwgcmVjb2duaXplcnMubGVuZ3RoOyBpKyspIHtcbiAgICByID0gcmVjb2duaXplcnNbaV07XG4gICAgaWYgKGdzW3IubmFtZV0gJiYgIWhhbmRsZWRbci5uYW1lXSkge1xuICAgICAgaWYgKHIuZmxvdyAmJiByLmZsb3cuc3RhcnQuaW5kZXhPZihldi50eXBlKSA+IC0xICYmIHIucmVzZXQpIHtcbiAgICAgICAgci5yZXNldCgpO1xuICAgICAgfVxuICAgIH1cbiAgfVxuICAvLyBlbmZvcmNlIGdlc3R1cmUgcmVjb2duaXplciBvcmRlclxuICBmb3IgKGxldCBpID0gMCwgcjsgaSA8IHJlY29nbml6ZXJzLmxlbmd0aDsgaSsrKSB7XG4gICAgciA9IHJlY29nbml6ZXJzW2ldO1xuICAgIGlmIChnc1tyLm5hbWVdICYmICFoYW5kbGVkW3IubmFtZV0pIHtcbiAgICAgIGhhbmRsZWRbci5uYW1lXSA9IHRydWU7XG4gICAgICByW3R5cGVdKGV2KTtcbiAgICB9XG4gIH1cbn1cblxuLyoqXG4gKiBAcHJpdmF0ZVxuICogQHBhcmFtIHtUb3VjaEV2ZW50fSBldiBFdmVudC5cbiAqIEByZXR1cm4ge3ZvaWR9XG4gKi9cbmZ1bmN0aW9uIF9oYW5kbGVUb3VjaEFjdGlvbihldikge1xuICBsZXQgdCA9IGV2LmNoYW5nZWRUb3VjaGVzWzBdO1xuICBsZXQgdHlwZSA9IGV2LnR5cGU7XG4gIGlmICh0eXBlID09PSAndG91Y2hzdGFydCcpIHtcbiAgICBQT0lOVEVSU1RBVEUudG91Y2gueCA9IHQuY2xpZW50WDtcbiAgICBQT0lOVEVSU1RBVEUudG91Y2gueSA9IHQuY2xpZW50WTtcbiAgICBQT0lOVEVSU1RBVEUudG91Y2guc2Nyb2xsRGVjaWRlZCA9IGZhbHNlO1xuICB9IGVsc2UgaWYgKHR5cGUgPT09ICd0b3VjaG1vdmUnKSB7XG4gICAgaWYgKFBPSU5URVJTVEFURS50b3VjaC5zY3JvbGxEZWNpZGVkKSB7XG4gICAgICByZXR1cm47XG4gICAgfVxuICAgIFBPSU5URVJTVEFURS50b3VjaC5zY3JvbGxEZWNpZGVkID0gdHJ1ZTtcbiAgICBsZXQgdGEgPSBmaXJzdFRvdWNoQWN0aW9uKGV2KTtcbiAgICBsZXQgc2hvdWxkUHJldmVudCA9IGZhbHNlO1xuICAgIGxldCBkeCA9IE1hdGguYWJzKFBPSU5URVJTVEFURS50b3VjaC54IC0gdC5jbGllbnRYKTtcbiAgICBsZXQgZHkgPSBNYXRoLmFicyhQT0lOVEVSU1RBVEUudG91Y2gueSAtIHQuY2xpZW50WSk7XG4gICAgaWYgKCFldi5jYW5jZWxhYmxlKSB7XG4gICAgICAvLyBzY3JvbGxpbmcgaXMgaGFwcGVuaW5nXG4gICAgfSBlbHNlIGlmICh0YSA9PT0gJ25vbmUnKSB7XG4gICAgICBzaG91bGRQcmV2ZW50ID0gdHJ1ZTtcbiAgICB9IGVsc2UgaWYgKHRhID09PSAncGFuLXgnKSB7XG4gICAgICBzaG91bGRQcmV2ZW50ID0gZHkgPiBkeDtcbiAgICB9IGVsc2UgaWYgKHRhID09PSAncGFuLXknKSB7XG4gICAgICBzaG91bGRQcmV2ZW50ID0gZHggPiBkeTtcbiAgICB9XG4gICAgaWYgKHNob3VsZFByZXZlbnQpIHtcbiAgICAgIGV2LnByZXZlbnREZWZhdWx0KCk7XG4gICAgfSBlbHNlIHtcbiAgICAgIHByZXZlbnQoJ3RyYWNrJyk7XG4gICAgfVxuICB9XG59XG5cbi8qKlxuICogQWRkcyBhbiBldmVudCBsaXN0ZW5lciB0byBhIG5vZGUgZm9yIHRoZSBnaXZlbiBnZXN0dXJlIHR5cGUuXG4gKlxuICogQHBhcmFtIHshRXZlbnRUYXJnZXR9IG5vZGUgTm9kZSB0byBhZGQgbGlzdGVuZXIgb25cbiAqIEBwYXJhbSB7c3RyaW5nfSBldlR5cGUgR2VzdHVyZSB0eXBlOiBgZG93bmAsIGB1cGAsIGB0cmFja2AsIG9yIGB0YXBgXG4gKiBAcGFyYW0geyFmdW5jdGlvbighRXZlbnQpOnZvaWR9IGhhbmRsZXIgRXZlbnQgbGlzdGVuZXIgZnVuY3Rpb24gdG8gY2FsbFxuICogQHJldHVybiB7Ym9vbGVhbn0gUmV0dXJucyB0cnVlIGlmIGEgZ2VzdHVyZSBldmVudCBsaXN0ZW5lciB3YXMgYWRkZWQuXG4gKi9cbmV4cG9ydCBmdW5jdGlvbiBhZGRMaXN0ZW5lcihub2RlLCBldlR5cGUsIGhhbmRsZXIpIHtcbiAgaWYgKGdlc3R1cmVzW2V2VHlwZV0pIHtcbiAgICBfYWRkKG5vZGUsIGV2VHlwZSwgaGFuZGxlcik7XG4gICAgcmV0dXJuIHRydWU7XG4gIH1cbiAgcmV0dXJuIGZhbHNlO1xufVxuXG4vKipcbiAqIFJlbW92ZXMgYW4gZXZlbnQgbGlzdGVuZXIgZnJvbSBhIG5vZGUgZm9yIHRoZSBnaXZlbiBnZXN0dXJlIHR5cGUuXG4gKlxuICogQHBhcmFtIHshRXZlbnRUYXJnZXR9IG5vZGUgTm9kZSB0byByZW1vdmUgbGlzdGVuZXIgZnJvbVxuICogQHBhcmFtIHtzdHJpbmd9IGV2VHlwZSBHZXN0dXJlIHR5cGU6IGBkb3duYCwgYHVwYCwgYHRyYWNrYCwgb3IgYHRhcGBcbiAqIEBwYXJhbSB7IWZ1bmN0aW9uKCFFdmVudCk6dm9pZH0gaGFuZGxlciBFdmVudCBsaXN0ZW5lciBmdW5jdGlvbiBwcmV2aW91c2x5IHBhc3NlZCB0b1xuICogIGBhZGRMaXN0ZW5lcmAuXG4gKiBAcmV0dXJuIHtib29sZWFufSBSZXR1cm5zIHRydWUgaWYgYSBnZXN0dXJlIGV2ZW50IGxpc3RlbmVyIHdhcyByZW1vdmVkLlxuICovXG5leHBvcnQgZnVuY3Rpb24gcmVtb3ZlTGlzdGVuZXIobm9kZSwgZXZUeXBlLCBoYW5kbGVyKSB7XG4gIGlmIChnZXN0dXJlc1tldlR5cGVdKSB7XG4gICAgX3JlbW92ZShub2RlLCBldlR5cGUsIGhhbmRsZXIpO1xuICAgIHJldHVybiB0cnVlO1xuICB9XG4gIHJldHVybiBmYWxzZTtcbn1cblxuLyoqXG4gKiBhdXRvbWF0ZSB0aGUgZXZlbnQgbGlzdGVuZXJzIGZvciB0aGUgbmF0aXZlIGV2ZW50c1xuICpcbiAqIEBwcml2YXRlXG4gKiBAcGFyYW0geyFFdmVudFRhcmdldH0gbm9kZSBOb2RlIG9uIHdoaWNoIHRvIGFkZCB0aGUgZXZlbnQuXG4gKiBAcGFyYW0ge3N0cmluZ30gZXZUeXBlIEV2ZW50IHR5cGUgdG8gYWRkLlxuICogQHBhcmFtIHtmdW5jdGlvbighRXZlbnQpfSBoYW5kbGVyIEV2ZW50IGhhbmRsZXIgZnVuY3Rpb24uXG4gKiBAcmV0dXJuIHt2b2lkfVxuICovXG5mdW5jdGlvbiBfYWRkKG5vZGUsIGV2VHlwZSwgaGFuZGxlcikge1xuICBsZXQgcmVjb2duaXplciA9IGdlc3R1cmVzW2V2VHlwZV07XG4gIGxldCBkZXBzID0gcmVjb2duaXplci5kZXBzO1xuICBsZXQgbmFtZSA9IHJlY29nbml6ZXIubmFtZTtcbiAgbGV0IGdvYmogPSBub2RlW0dFU1RVUkVfS0VZXTtcbiAgaWYgKCFnb2JqKSB7XG4gICAgbm9kZVtHRVNUVVJFX0tFWV0gPSBnb2JqID0ge307XG4gIH1cbiAgZm9yIChsZXQgaSA9IDAsIGRlcCwgZ2Q7IGkgPCBkZXBzLmxlbmd0aDsgaSsrKSB7XG4gICAgZGVwID0gZGVwc1tpXTtcbiAgICAvLyBkb24ndCBhZGQgbW91c2UgaGFuZGxlcnMgb24gaU9TIGJlY2F1c2UgdGhleSBjYXVzZSBncmF5IHNlbGVjdGlvbiBvdmVybGF5c1xuICAgIGlmIChJU19UT1VDSF9PTkxZICYmIGlzTW91c2VFdmVudChkZXApICYmIGRlcCAhPT0gJ2NsaWNrJykge1xuICAgICAgY29udGludWU7XG4gICAgfVxuICAgIGdkID0gZ29ialtkZXBdO1xuICAgIGlmICghZ2QpIHtcbiAgICAgIGdvYmpbZGVwXSA9IGdkID0ge19jb3VudDogMH07XG4gICAgfVxuICAgIGlmIChnZC5fY291bnQgPT09IDApIHtcbiAgICAgIG5vZGUuYWRkRXZlbnRMaXN0ZW5lcihkZXAsIF9oYW5kbGVOYXRpdmUsIFBBU1NJVkVfVE9VQ0goZGVwKSk7XG4gICAgfVxuICAgIGdkW25hbWVdID0gKGdkW25hbWVdIHx8IDApICsgMTtcbiAgICBnZC5fY291bnQgPSAoZ2QuX2NvdW50IHx8IDApICsgMTtcbiAgfVxuICBub2RlLmFkZEV2ZW50TGlzdGVuZXIoZXZUeXBlLCBoYW5kbGVyKTtcbiAgaWYgKHJlY29nbml6ZXIudG91Y2hBY3Rpb24pIHtcbiAgICBzZXRUb3VjaEFjdGlvbihub2RlLCByZWNvZ25pemVyLnRvdWNoQWN0aW9uKTtcbiAgfVxufVxuXG4vKipcbiAqIGF1dG9tYXRlIGV2ZW50IGxpc3RlbmVyIHJlbW92YWwgZm9yIG5hdGl2ZSBldmVudHNcbiAqXG4gKiBAcHJpdmF0ZVxuICogQHBhcmFtIHshRXZlbnRUYXJnZXR9IG5vZGUgTm9kZSBvbiB3aGljaCB0byByZW1vdmUgdGhlIGV2ZW50LlxuICogQHBhcmFtIHtzdHJpbmd9IGV2VHlwZSBFdmVudCB0eXBlIHRvIHJlbW92ZS5cbiAqIEBwYXJhbSB7ZnVuY3Rpb24oIUV2ZW50KTogdm9pZH0gaGFuZGxlciBFdmVudCBoYW5kbGVyIGZ1bmN0aW9uLlxuICogQHJldHVybiB7dm9pZH1cbiAqL1xuZnVuY3Rpb24gX3JlbW92ZShub2RlLCBldlR5cGUsIGhhbmRsZXIpIHtcbiAgbGV0IHJlY29nbml6ZXIgPSBnZXN0dXJlc1tldlR5cGVdO1xuICBsZXQgZGVwcyA9IHJlY29nbml6ZXIuZGVwcztcbiAgbGV0IG5hbWUgPSByZWNvZ25pemVyLm5hbWU7XG4gIGxldCBnb2JqID0gbm9kZVtHRVNUVVJFX0tFWV07XG4gIGlmIChnb2JqKSB7XG4gICAgZm9yIChsZXQgaSA9IDAsIGRlcCwgZ2Q7IGkgPCBkZXBzLmxlbmd0aDsgaSsrKSB7XG4gICAgICBkZXAgPSBkZXBzW2ldO1xuICAgICAgZ2QgPSBnb2JqW2RlcF07XG4gICAgICBpZiAoZ2QgJiYgZ2RbbmFtZV0pIHtcbiAgICAgICAgZ2RbbmFtZV0gPSAoZ2RbbmFtZV0gfHwgMSkgLSAxO1xuICAgICAgICBnZC5fY291bnQgPSAoZ2QuX2NvdW50IHx8IDEpIC0gMTtcbiAgICAgICAgaWYgKGdkLl9jb3VudCA9PT0gMCkge1xuICAgICAgICAgIG5vZGUucmVtb3ZlRXZlbnRMaXN0ZW5lcihkZXAsIF9oYW5kbGVOYXRpdmUsIFBBU1NJVkVfVE9VQ0goZGVwKSk7XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICB9XG4gIH1cbiAgbm9kZS5yZW1vdmVFdmVudExpc3RlbmVyKGV2VHlwZSwgaGFuZGxlcik7XG59XG5cbi8qKlxuICogUmVnaXN0ZXJzIGEgbmV3IGdlc3R1cmUgZXZlbnQgcmVjb2duaXplciBmb3IgYWRkaW5nIG5ldyBjdXN0b21cbiAqIGdlc3R1cmUgZXZlbnQgdHlwZXMuXG4gKlxuICogQHBhcmFtIHshR2VzdHVyZVJlY29nbml6ZXJ9IHJlY29nIEdlc3R1cmUgcmVjb2duaXplciBkZXNjcmlwdG9yXG4gKiBAcmV0dXJuIHt2b2lkfVxuICovXG5leHBvcnQgZnVuY3Rpb24gcmVnaXN0ZXIocmVjb2cpIHtcbiAgcmVjb2duaXplcnMucHVzaChyZWNvZyk7XG4gIGZvciAobGV0IGkgPSAwOyBpIDwgcmVjb2cuZW1pdHMubGVuZ3RoOyBpKyspIHtcbiAgICBnZXN0dXJlc1tyZWNvZy5lbWl0c1tpXV0gPSByZWNvZztcbiAgfVxufVxuXG4vKipcbiAqIEBwcml2YXRlXG4gKiBAcGFyYW0ge3N0cmluZ30gZXZOYW1lIEV2ZW50IG5hbWUuXG4gKiBAcmV0dXJuIHtPYmplY3R9IFJldHVybnMgdGhlIGdlc3R1cmUgZm9yIHRoZSBnaXZlbiBldmVudCBuYW1lLlxuICovXG5mdW5jdGlvbiBfZmluZFJlY29nbml6ZXJCeUV2ZW50KGV2TmFtZSkge1xuICBmb3IgKGxldCBpID0gMCwgcjsgaSA8IHJlY29nbml6ZXJzLmxlbmd0aDsgaSsrKSB7XG4gICAgciA9IHJlY29nbml6ZXJzW2ldO1xuICAgIGZvciAobGV0IGogPSAwLCBuOyBqIDwgci5lbWl0cy5sZW5ndGg7IGorKykge1xuICAgICAgbiA9IHIuZW1pdHNbal07XG4gICAgICBpZiAobiA9PT0gZXZOYW1lKSB7XG4gICAgICAgIHJldHVybiByO1xuICAgICAgfVxuICAgIH1cbiAgfVxuICByZXR1cm4gbnVsbDtcbn1cblxuLyoqXG4gKiBTZXRzIHNjcm9sbGluZyBkaXJlY3Rpb24gb24gbm9kZS5cbiAqXG4gKiBUaGlzIHZhbHVlIGlzIGNoZWNrZWQgb24gZmlyc3QgbW92ZSwgdGh1cyBpdCBzaG91bGQgYmUgY2FsbGVkIHByaW9yIHRvXG4gKiBhZGRpbmcgZXZlbnQgbGlzdGVuZXJzLlxuICpcbiAqIEBwYXJhbSB7IUV2ZW50VGFyZ2V0fSBub2RlIE5vZGUgdG8gc2V0IHRvdWNoIGFjdGlvbiBzZXR0aW5nIG9uXG4gKiBAcGFyYW0ge3N0cmluZ30gdmFsdWUgVG91Y2ggYWN0aW9uIHZhbHVlXG4gKiBAcmV0dXJuIHt2b2lkfVxuICovXG5leHBvcnQgZnVuY3Rpb24gc2V0VG91Y2hBY3Rpb24obm9kZSwgdmFsdWUpIHtcbiAgaWYgKEhBU19OQVRJVkVfVEEgJiYgbm9kZSBpbnN0YW5jZW9mIEhUTUxFbGVtZW50KSB7XG4gICAgLy8gTk9URTogYWRkIHRvdWNoQWN0aW9uIGFzeW5jIHNvIHRoYXQgZXZlbnRzIGNhbiBiZSBhZGRlZCBpblxuICAgIC8vIGN1c3RvbSBlbGVtZW50IGNvbnN0cnVjdG9ycy4gT3RoZXJ3aXNlIHdlIHJ1biBhZm91bCBvZiBjdXN0b21cbiAgICAvLyBlbGVtZW50cyByZXN0cmljdGlvbiBhZ2FpbnN0IHNldHRpbmdzIGF0dHJpYnV0ZXMgKHN0eWxlKSBpbiB0aGVcbiAgICAvLyBjb25zdHJ1Y3Rvci5cbiAgICBtaWNyb1Rhc2sucnVuKCgpID0+IHtcbiAgICAgIG5vZGUuc3R5bGUudG91Y2hBY3Rpb24gPSB2YWx1ZTtcbiAgICB9KTtcbiAgfVxuICBub2RlW1RPVUNIX0FDVElPTl0gPSB2YWx1ZTtcbn1cblxuLyoqXG4gKiBEaXNwYXRjaGVzIGFuIGV2ZW50IG9uIHRoZSBgdGFyZ2V0YCBlbGVtZW50IG9mIGB0eXBlYCB3aXRoIHRoZSBnaXZlblxuICogYGRldGFpbGAuXG4gKiBAcHJpdmF0ZVxuICogQHBhcmFtIHshRXZlbnRUYXJnZXR9IHRhcmdldCBUaGUgZWxlbWVudCBvbiB3aGljaCB0byBmaXJlIGFuIGV2ZW50LlxuICogQHBhcmFtIHtzdHJpbmd9IHR5cGUgVGhlIHR5cGUgb2YgZXZlbnQgdG8gZmlyZS5cbiAqIEBwYXJhbSB7IU9iamVjdD19IGRldGFpbCBUaGUgZGV0YWlsIG9iamVjdCB0byBwb3B1bGF0ZSBvbiB0aGUgZXZlbnQuXG4gKiBAcmV0dXJuIHt2b2lkfVxuICovXG5mdW5jdGlvbiBfZmlyZSh0YXJnZXQsIHR5cGUsIGRldGFpbCkge1xuICBsZXQgZXYgPSBuZXcgRXZlbnQodHlwZSwgeyBidWJibGVzOiB0cnVlLCBjYW5jZWxhYmxlOiB0cnVlLCBjb21wb3NlZDogdHJ1ZSB9KTtcbiAgZXYuZGV0YWlsID0gZGV0YWlsO1xuICB3cmFwKC8qKiBAdHlwZSB7IU5vZGV9ICovKHRhcmdldCkpLmRpc3BhdGNoRXZlbnQoZXYpO1xuICAvLyBmb3J3YXJkIGBwcmV2ZW50RGVmYXVsdGAgaW4gYSBjbGVhbiB3YXlcbiAgaWYgKGV2LmRlZmF1bHRQcmV2ZW50ZWQpIHtcbiAgICBsZXQgcHJldmVudGVyID0gZGV0YWlsLnByZXZlbnRlciB8fCBkZXRhaWwuc291cmNlRXZlbnQ7XG4gICAgaWYgKHByZXZlbnRlciAmJiBwcmV2ZW50ZXIucHJldmVudERlZmF1bHQpIHtcbiAgICAgIHByZXZlbnRlci5wcmV2ZW50RGVmYXVsdCgpO1xuICAgIH1cbiAgfVxufVxuXG4vKipcbiAqIFByZXZlbnRzIHRoZSBkaXNwYXRjaCBhbmQgZGVmYXVsdCBhY3Rpb24gb2YgdGhlIGdpdmVuIGV2ZW50IG5hbWUuXG4gKlxuICogQHBhcmFtIHtzdHJpbmd9IGV2TmFtZSBFdmVudCBuYW1lLlxuICogQHJldHVybiB7dm9pZH1cbiAqL1xuZXhwb3J0IGZ1bmN0aW9uIHByZXZlbnQoZXZOYW1lKSB7XG4gIGxldCByZWNvZ25pemVyID0gX2ZpbmRSZWNvZ25pemVyQnlFdmVudChldk5hbWUpO1xuICBpZiAocmVjb2duaXplci5pbmZvKSB7XG4gICAgcmVjb2duaXplci5pbmZvLnByZXZlbnQgPSB0cnVlO1xuICB9XG59XG5cbi8qKlxuICogUmVzZXQgdGhlIDI1MDBtcyB0aW1lb3V0IG9uIHByb2Nlc3NpbmcgbW91c2UgaW5wdXQgYWZ0ZXIgZGV0ZWN0aW5nIHRvdWNoIGlucHV0LlxuICpcbiAqIFRvdWNoIGlucHV0cyBjcmVhdGUgc3ludGhlc2l6ZWQgbW91c2UgaW5wdXRzIGFueXdoZXJlIGZyb20gMCB0byAyMDAwbXMgYWZ0ZXIgdGhlIHRvdWNoLlxuICogVGhpcyBtZXRob2Qgc2hvdWxkIG9ubHkgYmUgY2FsbGVkIGR1cmluZyB0ZXN0aW5nIHdpdGggc2ltdWxhdGVkIHRvdWNoIGlucHV0cy5cbiAqIENhbGxpbmcgdGhpcyBtZXRob2QgaW4gcHJvZHVjdGlvbiBtYXkgY2F1c2UgZHVwbGljYXRlIHRhcHMgb3Igb3RoZXIgR2VzdHVyZXMuXG4gKlxuICogQHJldHVybiB7dm9pZH1cbiAqL1xuZXhwb3J0IGZ1bmN0aW9uIHJlc2V0TW91c2VDYW5jZWxsZXIoKSB7XG4gIGlmIChQT0lOVEVSU1RBVEUubW91c2UubW91c2VJZ25vcmVKb2IpIHtcbiAgICBQT0lOVEVSU1RBVEUubW91c2UubW91c2VJZ25vcmVKb2IuZmx1c2goKTtcbiAgfVxufVxuXG4vKiBlc2xpbnQtZGlzYWJsZSB2YWxpZC1qc2RvYyAqL1xuXG5yZWdpc3Rlcih7XG4gIG5hbWU6ICdkb3dudXAnLFxuICBkZXBzOiBbJ21vdXNlZG93bicsICd0b3VjaHN0YXJ0JywgJ3RvdWNoZW5kJ10sXG4gIGZsb3c6IHtcbiAgICBzdGFydDogWydtb3VzZWRvd24nLCAndG91Y2hzdGFydCddLFxuICAgIGVuZDogWydtb3VzZXVwJywgJ3RvdWNoZW5kJ11cbiAgfSxcbiAgZW1pdHM6IFsnZG93bicsICd1cCddLFxuXG4gIGluZm86IHtcbiAgICBtb3ZlZm46IG51bGwsXG4gICAgdXBmbjogbnVsbFxuICB9LFxuXG4gIC8qKlxuICAgKiBAdGhpcyB7R2VzdHVyZVJlY29nbml6ZXJ9XG4gICAqIEByZXR1cm4ge3ZvaWR9XG4gICAqL1xuICByZXNldDogZnVuY3Rpb24oKSB7XG4gICAgdW50cmFja0RvY3VtZW50KHRoaXMuaW5mbyk7XG4gIH0sXG5cbiAgLyoqXG4gICAqIEB0aGlzIHtHZXN0dXJlUmVjb2duaXplcn1cbiAgICogQHBhcmFtIHtNb3VzZUV2ZW50fSBlXG4gICAqIEByZXR1cm4ge3ZvaWR9XG4gICAqL1xuICBtb3VzZWRvd246IGZ1bmN0aW9uKGUpIHtcbiAgICBpZiAoIWhhc0xlZnRNb3VzZUJ1dHRvbihlKSkge1xuICAgICAgcmV0dXJuO1xuICAgIH1cbiAgICBsZXQgdCA9IF9maW5kT3JpZ2luYWxUYXJnZXQoZSk7XG4gICAgbGV0IHNlbGYgPSB0aGlzO1xuICAgIGxldCBtb3ZlZm4gPSBmdW5jdGlvbiBtb3ZlZm4oZSkge1xuICAgICAgaWYgKCFoYXNMZWZ0TW91c2VCdXR0b24oZSkpIHtcbiAgICAgICAgZG93bnVwRmlyZSgndXAnLCB0LCBlKTtcbiAgICAgICAgdW50cmFja0RvY3VtZW50KHNlbGYuaW5mbyk7XG4gICAgICB9XG4gICAgfTtcbiAgICBsZXQgdXBmbiA9IGZ1bmN0aW9uIHVwZm4oZSkge1xuICAgICAgaWYgKGhhc0xlZnRNb3VzZUJ1dHRvbihlKSkge1xuICAgICAgICBkb3dudXBGaXJlKCd1cCcsIHQsIGUpO1xuICAgICAgfVxuICAgICAgdW50cmFja0RvY3VtZW50KHNlbGYuaW5mbyk7XG4gICAgfTtcbiAgICB0cmFja0RvY3VtZW50KHRoaXMuaW5mbywgbW92ZWZuLCB1cGZuKTtcbiAgICBkb3dudXBGaXJlKCdkb3duJywgdCwgZSk7XG4gIH0sXG4gIC8qKlxuICAgKiBAdGhpcyB7R2VzdHVyZVJlY29nbml6ZXJ9XG4gICAqIEBwYXJhbSB7VG91Y2hFdmVudH0gZVxuICAgKiBAcmV0dXJuIHt2b2lkfVxuICAgKi9cbiAgdG91Y2hzdGFydDogZnVuY3Rpb24oZSkge1xuICAgIGRvd251cEZpcmUoJ2Rvd24nLCBfZmluZE9yaWdpbmFsVGFyZ2V0KGUpLCBlLmNoYW5nZWRUb3VjaGVzWzBdLCBlKTtcbiAgfSxcbiAgLyoqXG4gICAqIEB0aGlzIHtHZXN0dXJlUmVjb2duaXplcn1cbiAgICogQHBhcmFtIHtUb3VjaEV2ZW50fSBlXG4gICAqIEByZXR1cm4ge3ZvaWR9XG4gICAqL1xuICB0b3VjaGVuZDogZnVuY3Rpb24oZSkge1xuICAgIGRvd251cEZpcmUoJ3VwJywgX2ZpbmRPcmlnaW5hbFRhcmdldChlKSwgZS5jaGFuZ2VkVG91Y2hlc1swXSwgZSk7XG4gIH1cbn0pO1xuXG4vKipcbiAqIEBwYXJhbSB7c3RyaW5nfSB0eXBlXG4gKiBAcGFyYW0ge0V2ZW50VGFyZ2V0fSB0YXJnZXRcbiAqIEBwYXJhbSB7RXZlbnR8VG91Y2h9IGV2ZW50XG4gKiBAcGFyYW0ge0V2ZW50PX0gcHJldmVudGVyXG4gKiBAcmV0dXJuIHt2b2lkfVxuICovXG5mdW5jdGlvbiBkb3dudXBGaXJlKHR5cGUsIHRhcmdldCwgZXZlbnQsIHByZXZlbnRlcikge1xuICBpZiAoIXRhcmdldCkge1xuICAgIHJldHVybjtcbiAgfVxuICBfZmlyZSh0YXJnZXQsIHR5cGUsIHtcbiAgICB4OiBldmVudC5jbGllbnRYLFxuICAgIHk6IGV2ZW50LmNsaWVudFksXG4gICAgc291cmNlRXZlbnQ6IGV2ZW50LFxuICAgIHByZXZlbnRlcjogcHJldmVudGVyLFxuICAgIHByZXZlbnQ6IGZ1bmN0aW9uKGUpIHtcbiAgICAgIHJldHVybiBwcmV2ZW50KGUpO1xuICAgIH1cbiAgfSk7XG59XG5cbnJlZ2lzdGVyKHtcbiAgbmFtZTogJ3RyYWNrJyxcbiAgdG91Y2hBY3Rpb246ICdub25lJyxcbiAgZGVwczogWydtb3VzZWRvd24nLCAndG91Y2hzdGFydCcsICd0b3VjaG1vdmUnLCAndG91Y2hlbmQnXSxcbiAgZmxvdzoge1xuICAgIHN0YXJ0OiBbJ21vdXNlZG93bicsICd0b3VjaHN0YXJ0J10sXG4gICAgZW5kOiBbJ21vdXNldXAnLCAndG91Y2hlbmQnXVxuICB9LFxuICBlbWl0czogWyd0cmFjayddLFxuXG4gIGluZm86IHtcbiAgICB4OiAwLFxuICAgIHk6IDAsXG4gICAgc3RhdGU6ICdzdGFydCcsXG4gICAgc3RhcnRlZDogZmFsc2UsXG4gICAgbW92ZXM6IFtdLFxuICAgIC8qKiBAdGhpcyB7R2VzdHVyZUluZm99ICovXG4gICAgYWRkTW92ZTogZnVuY3Rpb24obW92ZSkge1xuICAgICAgaWYgKHRoaXMubW92ZXMubGVuZ3RoID4gVFJBQ0tfTEVOR1RIKSB7XG4gICAgICAgIHRoaXMubW92ZXMuc2hpZnQoKTtcbiAgICAgIH1cbiAgICAgIHRoaXMubW92ZXMucHVzaChtb3ZlKTtcbiAgICB9LFxuICAgIG1vdmVmbjogbnVsbCxcbiAgICB1cGZuOiBudWxsLFxuICAgIHByZXZlbnQ6IGZhbHNlXG4gIH0sXG5cbiAgLyoqXG4gICAqIEB0aGlzIHtHZXN0dXJlUmVjb2duaXplcn1cbiAgICogQHJldHVybiB7dm9pZH1cbiAgICovXG4gIHJlc2V0OiBmdW5jdGlvbigpIHtcbiAgICB0aGlzLmluZm8uc3RhdGUgPSAnc3RhcnQnO1xuICAgIHRoaXMuaW5mby5zdGFydGVkID0gZmFsc2U7XG4gICAgdGhpcy5pbmZvLm1vdmVzID0gW107XG4gICAgdGhpcy5pbmZvLnggPSAwO1xuICAgIHRoaXMuaW5mby55ID0gMDtcbiAgICB0aGlzLmluZm8ucHJldmVudCA9IGZhbHNlO1xuICAgIHVudHJhY2tEb2N1bWVudCh0aGlzLmluZm8pO1xuICB9LFxuXG4gIC8qKlxuICAgKiBAdGhpcyB7R2VzdHVyZVJlY29nbml6ZXJ9XG4gICAqIEBwYXJhbSB7TW91c2VFdmVudH0gZVxuICAgKiBAcmV0dXJuIHt2b2lkfVxuICAgKi9cbiAgbW91c2Vkb3duOiBmdW5jdGlvbihlKSB7XG4gICAgaWYgKCFoYXNMZWZ0TW91c2VCdXR0b24oZSkpIHtcbiAgICAgIHJldHVybjtcbiAgICB9XG4gICAgbGV0IHQgPSBfZmluZE9yaWdpbmFsVGFyZ2V0KGUpO1xuICAgIGxldCBzZWxmID0gdGhpcztcbiAgICBsZXQgbW92ZWZuID0gZnVuY3Rpb24gbW92ZWZuKGUpIHtcbiAgICAgIGxldCB4ID0gZS5jbGllbnRYLCB5ID0gZS5jbGllbnRZO1xuICAgICAgaWYgKHRyYWNrSGFzTW92ZWRFbm91Z2goc2VsZi5pbmZvLCB4LCB5KSkge1xuICAgICAgICAvLyBmaXJzdCBtb3ZlIGlzICdzdGFydCcsIHN1YnNlcXVlbnQgbW92ZXMgYXJlICdtb3ZlJywgbW91c2V1cCBpcyAnZW5kJ1xuICAgICAgICBzZWxmLmluZm8uc3RhdGUgPSBzZWxmLmluZm8uc3RhcnRlZCA/IChlLnR5cGUgPT09ICdtb3VzZXVwJyA/ICdlbmQnIDogJ3RyYWNrJykgOiAnc3RhcnQnO1xuICAgICAgICBpZiAoc2VsZi5pbmZvLnN0YXRlID09PSAnc3RhcnQnKSB7XG4gICAgICAgICAgLy8gaWYgYW5kIG9ubHkgaWYgdHJhY2tpbmcsIGFsd2F5cyBwcmV2ZW50IHRhcFxuICAgICAgICAgIHByZXZlbnQoJ3RhcCcpO1xuICAgICAgICB9XG4gICAgICAgIHNlbGYuaW5mby5hZGRNb3ZlKHt4OiB4LCB5OiB5fSk7XG4gICAgICAgIGlmICghaGFzTGVmdE1vdXNlQnV0dG9uKGUpKSB7XG4gICAgICAgICAgLy8gYWx3YXlzIGZpcmUgXCJlbmRcIlxuICAgICAgICAgIHNlbGYuaW5mby5zdGF0ZSA9ICdlbmQnO1xuICAgICAgICAgIHVudHJhY2tEb2N1bWVudChzZWxmLmluZm8pO1xuICAgICAgICB9XG4gICAgICAgIGlmICh0KSB7XG4gICAgICAgICAgdHJhY2tGaXJlKHNlbGYuaW5mbywgdCwgZSk7XG4gICAgICAgIH1cbiAgICAgICAgc2VsZi5pbmZvLnN0YXJ0ZWQgPSB0cnVlO1xuICAgICAgfVxuICAgIH07XG4gICAgbGV0IHVwZm4gPSBmdW5jdGlvbiB1cGZuKGUpIHtcbiAgICAgIGlmIChzZWxmLmluZm8uc3RhcnRlZCkge1xuICAgICAgICBtb3ZlZm4oZSk7XG4gICAgICB9XG5cbiAgICAgIC8vIHJlbW92ZSB0aGUgdGVtcG9yYXJ5IGxpc3RlbmVyc1xuICAgICAgdW50cmFja0RvY3VtZW50KHNlbGYuaW5mbyk7XG4gICAgfTtcbiAgICAvLyBhZGQgdGVtcG9yYXJ5IGRvY3VtZW50IGxpc3RlbmVycyBhcyBtb3VzZSByZXRhcmdldHNcbiAgICB0cmFja0RvY3VtZW50KHRoaXMuaW5mbywgbW92ZWZuLCB1cGZuKTtcbiAgICB0aGlzLmluZm8ueCA9IGUuY2xpZW50WDtcbiAgICB0aGlzLmluZm8ueSA9IGUuY2xpZW50WTtcbiAgfSxcbiAgLyoqXG4gICAqIEB0aGlzIHtHZXN0dXJlUmVjb2duaXplcn1cbiAgICogQHBhcmFtIHtUb3VjaEV2ZW50fSBlXG4gICAqIEByZXR1cm4ge3ZvaWR9XG4gICAqL1xuICB0b3VjaHN0YXJ0OiBmdW5jdGlvbihlKSB7XG4gICAgbGV0IGN0ID0gZS5jaGFuZ2VkVG91Y2hlc1swXTtcbiAgICB0aGlzLmluZm8ueCA9IGN0LmNsaWVudFg7XG4gICAgdGhpcy5pbmZvLnkgPSBjdC5jbGllbnRZO1xuICB9LFxuICAvKipcbiAgICogQHRoaXMge0dlc3R1cmVSZWNvZ25pemVyfVxuICAgKiBAcGFyYW0ge1RvdWNoRXZlbnR9IGVcbiAgICogQHJldHVybiB7dm9pZH1cbiAgICovXG4gIHRvdWNobW92ZTogZnVuY3Rpb24oZSkge1xuICAgIGxldCB0ID0gX2ZpbmRPcmlnaW5hbFRhcmdldChlKTtcbiAgICBsZXQgY3QgPSBlLmNoYW5nZWRUb3VjaGVzWzBdO1xuICAgIGxldCB4ID0gY3QuY2xpZW50WCwgeSA9IGN0LmNsaWVudFk7XG4gICAgaWYgKHRyYWNrSGFzTW92ZWRFbm91Z2godGhpcy5pbmZvLCB4LCB5KSkge1xuICAgICAgaWYgKHRoaXMuaW5mby5zdGF0ZSA9PT0gJ3N0YXJ0Jykge1xuICAgICAgICAvLyBpZiBhbmQgb25seSBpZiB0cmFja2luZywgYWx3YXlzIHByZXZlbnQgdGFwXG4gICAgICAgIHByZXZlbnQoJ3RhcCcpO1xuICAgICAgfVxuICAgICAgdGhpcy5pbmZvLmFkZE1vdmUoe3g6IHgsIHk6IHl9KTtcbiAgICAgIHRyYWNrRmlyZSh0aGlzLmluZm8sIHQsIGN0KTtcbiAgICAgIHRoaXMuaW5mby5zdGF0ZSA9ICd0cmFjayc7XG4gICAgICB0aGlzLmluZm8uc3RhcnRlZCA9IHRydWU7XG4gICAgfVxuICB9LFxuICAvKipcbiAgICogQHRoaXMge0dlc3R1cmVSZWNvZ25pemVyfVxuICAgKiBAcGFyYW0ge1RvdWNoRXZlbnR9IGVcbiAgICogQHJldHVybiB7dm9pZH1cbiAgICovXG4gIHRvdWNoZW5kOiBmdW5jdGlvbihlKSB7XG4gICAgbGV0IHQgPSBfZmluZE9yaWdpbmFsVGFyZ2V0KGUpO1xuICAgIGxldCBjdCA9IGUuY2hhbmdlZFRvdWNoZXNbMF07XG4gICAgLy8gb25seSB0cmFja2VuZCBpZiB0cmFjayB3YXMgc3RhcnRlZCBhbmQgbm90IGFib3J0ZWRcbiAgICBpZiAodGhpcy5pbmZvLnN0YXJ0ZWQpIHtcbiAgICAgIC8vIHJlc2V0IHN0YXJ0ZWQgc3RhdGUgb24gdXBcbiAgICAgIHRoaXMuaW5mby5zdGF0ZSA9ICdlbmQnO1xuICAgICAgdGhpcy5pbmZvLmFkZE1vdmUoe3g6IGN0LmNsaWVudFgsIHk6IGN0LmNsaWVudFl9KTtcbiAgICAgIHRyYWNrRmlyZSh0aGlzLmluZm8sIHQsIGN0KTtcbiAgICB9XG4gIH1cbn0pO1xuXG4vKipcbiAqIEBwYXJhbSB7IUdlc3R1cmVJbmZvfSBpbmZvXG4gKiBAcGFyYW0ge251bWJlcn0geFxuICogQHBhcmFtIHtudW1iZXJ9IHlcbiAqIEByZXR1cm4ge2Jvb2xlYW59XG4gKi9cbmZ1bmN0aW9uIHRyYWNrSGFzTW92ZWRFbm91Z2goaW5mbywgeCwgeSkge1xuICBpZiAoaW5mby5wcmV2ZW50KSB7XG4gICAgcmV0dXJuIGZhbHNlO1xuICB9XG4gIGlmIChpbmZvLnN0YXJ0ZWQpIHtcbiAgICByZXR1cm4gdHJ1ZTtcbiAgfVxuICBsZXQgZHggPSBNYXRoLmFicyhpbmZvLnggLSB4KTtcbiAgbGV0IGR5ID0gTWF0aC5hYnMoaW5mby55IC0geSk7XG4gIHJldHVybiAoZHggPj0gVFJBQ0tfRElTVEFOQ0UgfHwgZHkgPj0gVFJBQ0tfRElTVEFOQ0UpO1xufVxuXG4vKipcbiAqIEBwYXJhbSB7IUdlc3R1cmVJbmZvfSBpbmZvXG4gKiBAcGFyYW0gez9FdmVudFRhcmdldH0gdGFyZ2V0XG4gKiBAcGFyYW0ge1RvdWNofSB0b3VjaFxuICogQHJldHVybiB7dm9pZH1cbiAqL1xuZnVuY3Rpb24gdHJhY2tGaXJlKGluZm8sIHRhcmdldCwgdG91Y2gpIHtcbiAgaWYgKCF0YXJnZXQpIHtcbiAgICByZXR1cm47XG4gIH1cbiAgbGV0IHNlY29uZGxhc3QgPSBpbmZvLm1vdmVzW2luZm8ubW92ZXMubGVuZ3RoIC0gMl07XG4gIGxldCBsYXN0bW92ZSA9IGluZm8ubW92ZXNbaW5mby5tb3Zlcy5sZW5ndGggLSAxXTtcbiAgbGV0IGR4ID0gbGFzdG1vdmUueCAtIGluZm8ueDtcbiAgbGV0IGR5ID0gbGFzdG1vdmUueSAtIGluZm8ueTtcbiAgbGV0IGRkeCwgZGR5ID0gMDtcbiAgaWYgKHNlY29uZGxhc3QpIHtcbiAgICBkZHggPSBsYXN0bW92ZS54IC0gc2Vjb25kbGFzdC54O1xuICAgIGRkeSA9IGxhc3Rtb3ZlLnkgLSBzZWNvbmRsYXN0Lnk7XG4gIH1cbiAgX2ZpcmUodGFyZ2V0LCAndHJhY2snLCB7XG4gICAgc3RhdGU6IGluZm8uc3RhdGUsXG4gICAgeDogdG91Y2guY2xpZW50WCxcbiAgICB5OiB0b3VjaC5jbGllbnRZLFxuICAgIGR4OiBkeCxcbiAgICBkeTogZHksXG4gICAgZGR4OiBkZHgsXG4gICAgZGR5OiBkZHksXG4gICAgc291cmNlRXZlbnQ6IHRvdWNoLFxuICAgIGhvdmVyOiBmdW5jdGlvbigpIHtcbiAgICAgIHJldHVybiBkZWVwVGFyZ2V0RmluZCh0b3VjaC5jbGllbnRYLCB0b3VjaC5jbGllbnRZKTtcbiAgICB9XG4gIH0pO1xufVxuXG5yZWdpc3Rlcih7XG4gIG5hbWU6ICd0YXAnLFxuICBkZXBzOiBbJ21vdXNlZG93bicsICdjbGljaycsICd0b3VjaHN0YXJ0JywgJ3RvdWNoZW5kJ10sXG4gIGZsb3c6IHtcbiAgICBzdGFydDogWydtb3VzZWRvd24nLCAndG91Y2hzdGFydCddLFxuICAgIGVuZDogWydjbGljaycsICd0b3VjaGVuZCddXG4gIH0sXG4gIGVtaXRzOiBbJ3RhcCddLFxuICBpbmZvOiB7XG4gICAgeDogTmFOLFxuICAgIHk6IE5hTixcbiAgICBwcmV2ZW50OiBmYWxzZVxuICB9LFxuICAvKipcbiAgICogQHRoaXMge0dlc3R1cmVSZWNvZ25pemVyfVxuICAgKiBAcmV0dXJuIHt2b2lkfVxuICAgKi9cbiAgcmVzZXQ6IGZ1bmN0aW9uKCkge1xuICAgIHRoaXMuaW5mby54ID0gTmFOO1xuICAgIHRoaXMuaW5mby55ID0gTmFOO1xuICAgIHRoaXMuaW5mby5wcmV2ZW50ID0gZmFsc2U7XG4gIH0sXG4gIC8qKlxuICAgKiBAdGhpcyB7R2VzdHVyZVJlY29nbml6ZXJ9XG4gICAqIEBwYXJhbSB7TW91c2VFdmVudH0gZVxuICAgKiBAcmV0dXJuIHt2b2lkfVxuICAgKi9cbiAgbW91c2Vkb3duOiBmdW5jdGlvbihlKSB7XG4gICAgaWYgKGhhc0xlZnRNb3VzZUJ1dHRvbihlKSkge1xuICAgICAgdGhpcy5pbmZvLnggPSBlLmNsaWVudFg7XG4gICAgICB0aGlzLmluZm8ueSA9IGUuY2xpZW50WTtcbiAgICB9XG4gIH0sXG4gIC8qKlxuICAgKiBAdGhpcyB7R2VzdHVyZVJlY29nbml6ZXJ9XG4gICAqIEBwYXJhbSB7TW91c2VFdmVudH0gZVxuICAgKiBAcmV0dXJuIHt2b2lkfVxuICAgKi9cbiAgY2xpY2s6IGZ1bmN0aW9uKGUpIHtcbiAgICBpZiAoaGFzTGVmdE1vdXNlQnV0dG9uKGUpKSB7XG4gICAgICB0cmFja0ZvcndhcmQodGhpcy5pbmZvLCBlKTtcbiAgICB9XG4gIH0sXG4gIC8qKlxuICAgKiBAdGhpcyB7R2VzdHVyZVJlY29nbml6ZXJ9XG4gICAqIEBwYXJhbSB7VG91Y2hFdmVudH0gZVxuICAgKiBAcmV0dXJuIHt2b2lkfVxuICAgKi9cbiAgdG91Y2hzdGFydDogZnVuY3Rpb24oZSkge1xuICAgIGNvbnN0IHRvdWNoID0gZS5jaGFuZ2VkVG91Y2hlc1swXTtcbiAgICB0aGlzLmluZm8ueCA9IHRvdWNoLmNsaWVudFg7XG4gICAgdGhpcy5pbmZvLnkgPSB0b3VjaC5jbGllbnRZO1xuICB9LFxuICAvKipcbiAgICogQHRoaXMge0dlc3R1cmVSZWNvZ25pemVyfVxuICAgKiBAcGFyYW0ge1RvdWNoRXZlbnR9IGVcbiAgICogQHJldHVybiB7dm9pZH1cbiAgICovXG4gIHRvdWNoZW5kOiBmdW5jdGlvbihlKSB7XG4gICAgdHJhY2tGb3J3YXJkKHRoaXMuaW5mbywgZS5jaGFuZ2VkVG91Y2hlc1swXSwgZSk7XG4gIH1cbn0pO1xuXG4vKipcbiAqIEBwYXJhbSB7IUdlc3R1cmVJbmZvfSBpbmZvXG4gKiBAcGFyYW0ge0V2ZW50IHwgVG91Y2h9IGVcbiAqIEBwYXJhbSB7RXZlbnQ9fSBwcmV2ZW50ZXJcbiAqIEByZXR1cm4ge3ZvaWR9XG4gKi9cbmZ1bmN0aW9uIHRyYWNrRm9yd2FyZChpbmZvLCBlLCBwcmV2ZW50ZXIpIHtcbiAgbGV0IGR4ID0gTWF0aC5hYnMoZS5jbGllbnRYIC0gaW5mby54KTtcbiAgbGV0IGR5ID0gTWF0aC5hYnMoZS5jbGllbnRZIC0gaW5mby55KTtcbiAgLy8gZmluZCBvcmlnaW5hbCB0YXJnZXQgZnJvbSBgcHJldmVudGVyYCBmb3IgVG91Y2hFdmVudHMsIG9yIGBlYCBmb3IgTW91c2VFdmVudHNcbiAgbGV0IHQgPSBfZmluZE9yaWdpbmFsVGFyZ2V0KChwcmV2ZW50ZXIgfHwgZSkpO1xuICBpZiAoIXQgfHwgKGNhbkJlRGlzYWJsZWRbLyoqIEB0eXBlIHshSFRNTEVsZW1lbnR9ICovKHQpLmxvY2FsTmFtZV0gJiYgdC5oYXNBdHRyaWJ1dGUoJ2Rpc2FibGVkJykpKSB7XG4gICAgcmV0dXJuO1xuICB9XG4gIC8vIGR4LGR5IGNhbiBiZSBOYU4gaWYgYGNsaWNrYCBoYXMgYmVlbiBzaW11bGF0ZWQgYW5kIHRoZXJlIHdhcyBubyBgZG93bmAgZm9yIGBzdGFydGBcbiAgaWYgKGlzTmFOKGR4KSB8fCBpc05hTihkeSkgfHwgKGR4IDw9IFRBUF9ESVNUQU5DRSAmJiBkeSA8PSBUQVBfRElTVEFOQ0UpIHx8IGlzU3ludGhldGljQ2xpY2soZSkpIHtcbiAgICAvLyBwcmV2ZW50IHRhcHMgZnJvbSBiZWluZyBnZW5lcmF0ZWQgaWYgYW4gZXZlbnQgaGFzIGNhbmNlbGVkIHRoZW1cbiAgICBpZiAoIWluZm8ucHJldmVudCkge1xuICAgICAgX2ZpcmUodCwgJ3RhcCcsIHtcbiAgICAgICAgeDogZS5jbGllbnRYLFxuICAgICAgICB5OiBlLmNsaWVudFksXG4gICAgICAgIHNvdXJjZUV2ZW50OiBlLFxuICAgICAgICBwcmV2ZW50ZXI6IHByZXZlbnRlclxuICAgICAgfSk7XG4gICAgfVxuICB9XG59XG5cbi8qIGVzbGludC1lbmFibGUgdmFsaWQtanNkb2MgKi9cblxuLyoqIEBkZXByZWNhdGVkICovXG5leHBvcnQgY29uc3QgZmluZE9yaWdpbmFsVGFyZ2V0ID0gX2ZpbmRPcmlnaW5hbFRhcmdldDtcblxuLyoqIEBkZXByZWNhdGVkICovXG5leHBvcnQgY29uc3QgYWRkID0gYWRkTGlzdGVuZXI7XG5cbi8qKiBAZGVwcmVjYXRlZCAqL1xuZXhwb3J0IGNvbnN0IHJlbW92ZSA9IHJlbW92ZUxpc3RlbmVyO1xuIiwiLyoqXG5AbGljZW5zZVxuQ29weXJpZ2h0IChjKSAyMDE3IFRoZSBQb2x5bWVyIFByb2plY3QgQXV0aG9ycy4gQWxsIHJpZ2h0cyByZXNlcnZlZC5cblRoaXMgY29kZSBtYXkgb25seSBiZSB1c2VkIHVuZGVyIHRoZSBCU0Qgc3R5bGUgbGljZW5zZSBmb3VuZCBhdCBodHRwOi8vcG9seW1lci5naXRodWIuaW8vTElDRU5TRS50eHRcblRoZSBjb21wbGV0ZSBzZXQgb2YgYXV0aG9ycyBtYXkgYmUgZm91bmQgYXQgaHR0cDovL3BvbHltZXIuZ2l0aHViLmlvL0FVVEhPUlMudHh0XG5UaGUgY29tcGxldGUgc2V0IG9mIGNvbnRyaWJ1dG9ycyBtYXkgYmUgZm91bmQgYXQgaHR0cDovL3BvbHltZXIuZ2l0aHViLmlvL0NPTlRSSUJVVE9SUy50eHRcbkNvZGUgZGlzdHJpYnV0ZWQgYnkgR29vZ2xlIGFzIHBhcnQgb2YgdGhlIHBvbHltZXIgcHJvamVjdCBpcyBhbHNvXG5zdWJqZWN0IHRvIGFuIGFkZGl0aW9uYWwgSVAgcmlnaHRzIGdyYW50IGZvdW5kIGF0IGh0dHA6Ly9wb2x5bWVyLmdpdGh1Yi5pby9QQVRFTlRTLnR4dFxuKi9cbmltcG9ydCAnLi4vdXRpbHMvYm9vdC5qcyc7XG5cbmltcG9ydCB7IGRlZHVwaW5nTWl4aW4gfSBmcm9tICcuLi91dGlscy9taXhpbi5qcyc7XG5pbXBvcnQgeyBjYW1lbFRvRGFzaENhc2UsIGRhc2hUb0NhbWVsQ2FzZSB9IGZyb20gJy4uL3V0aWxzL2Nhc2UtbWFwLmpzJztcbmltcG9ydCB7IFByb3BlcnRpZXNDaGFuZ2VkIH0gZnJvbSAnLi9wcm9wZXJ0aWVzLWNoYW5nZWQuanMnO1xuXG4vLyBTYXZlIG1hcCBvZiBuYXRpdmUgcHJvcGVydGllczsgdGhpcyBmb3JtcyBhIGJsYWNrbGlzdCBvciBwcm9wZXJ0aWVzXG4vLyB0aGF0IHdvbid0IGhhdmUgdGhlaXIgdmFsdWVzIFwic2F2ZWRcIiBieSBgc2F2ZUFjY2Vzc29yVmFsdWVgLCBzaW5jZVxuLy8gcmVhZGluZyBmcm9tIGFuIEhUTUxFbGVtZW50IGFjY2Vzc29yIGZyb20gdGhlIGNvbnRleHQgb2YgYSBwcm90b3R5cGUgdGhyb3dzXG5jb25zdCBuYXRpdmVQcm9wZXJ0aWVzID0ge307XG5sZXQgcHJvdG8gPSBIVE1MRWxlbWVudC5wcm90b3R5cGU7XG53aGlsZSAocHJvdG8pIHtcbiAgbGV0IHByb3BzID0gT2JqZWN0LmdldE93blByb3BlcnR5TmFtZXMocHJvdG8pO1xuICBmb3IgKGxldCBpPTA7IGk8cHJvcHMubGVuZ3RoOyBpKyspIHtcbiAgICBuYXRpdmVQcm9wZXJ0aWVzW3Byb3BzW2ldXSA9IHRydWU7XG4gIH1cbiAgcHJvdG8gPSBPYmplY3QuZ2V0UHJvdG90eXBlT2YocHJvdG8pO1xufVxuXG4vKipcbiAqIFVzZWQgdG8gc2F2ZSB0aGUgdmFsdWUgb2YgYSBwcm9wZXJ0eSB0aGF0IHdpbGwgYmUgb3ZlcnJpZGRlbiB3aXRoXG4gKiBhbiBhY2Nlc3Nvci4gSWYgdGhlIGBtb2RlbGAgaXMgYSBwcm90b3R5cGUsIHRoZSB2YWx1ZXMgd2lsbCBiZSBzYXZlZFxuICogaW4gYF9fZGF0YVByb3RvYCwgYW5kIGl0J3MgdXAgdG8gdGhlIHVzZXIgKG9yIGRvd25zdHJlYW0gbWl4aW4pIHRvXG4gKiBkZWNpZGUgaG93L3doZW4gdG8gc2V0IHRoZXNlIHZhbHVlcyBiYWNrIGludG8gdGhlIGFjY2Vzc29ycy5cbiAqIElmIGBtb2RlbGAgaXMgYWxyZWFkeSBhbiBpbnN0YW5jZSAoaXQgaGFzIGEgYF9fZGF0YWAgcHJvcGVydHkpLCB0aGVuXG4gKiB0aGUgdmFsdWUgd2lsbCBiZSBzZXQgYXMgYSBwZW5kaW5nIHByb3BlcnR5LCBtZWFuaW5nIHRoZSB1c2VyIHNob3VsZFxuICogY2FsbCBgX2ludmFsaWRhdGVQcm9wZXJ0aWVzYCBvciBgX2ZsdXNoUHJvcGVydGllc2AgdG8gdGFrZSBlZmZlY3RcbiAqXG4gKiBAcGFyYW0ge09iamVjdH0gbW9kZWwgUHJvdG90eXBlIG9yIGluc3RhbmNlXG4gKiBAcGFyYW0ge3N0cmluZ30gcHJvcGVydHkgTmFtZSBvZiBwcm9wZXJ0eVxuICogQHJldHVybiB7dm9pZH1cbiAqIEBwcml2YXRlXG4gKi9cbmZ1bmN0aW9uIHNhdmVBY2Nlc3NvclZhbHVlKG1vZGVsLCBwcm9wZXJ0eSkge1xuICAvLyBEb24ndCByZWFkL3N0b3JlIHZhbHVlIGZvciBhbnkgbmF0aXZlIHByb3BlcnRpZXMgc2luY2UgdGhleSBjb3VsZCB0aHJvd1xuICBpZiAoIW5hdGl2ZVByb3BlcnRpZXNbcHJvcGVydHldKSB7XG4gICAgbGV0IHZhbHVlID0gbW9kZWxbcHJvcGVydHldO1xuICAgIGlmICh2YWx1ZSAhPT0gdW5kZWZpbmVkKSB7XG4gICAgICBpZiAobW9kZWwuX19kYXRhKSB7XG4gICAgICAgIC8vIEFkZGluZyBhY2Nlc3NvciB0byBpbnN0YW5jZTsgdXBkYXRlIHRoZSBwcm9wZXJ0eVxuICAgICAgICAvLyBJdCBpcyB0aGUgdXNlcidzIHJlc3BvbnNpYmlsaXR5IHRvIGNhbGwgX2ZsdXNoUHJvcGVydGllc1xuICAgICAgICBtb2RlbC5fc2V0UGVuZGluZ1Byb3BlcnR5KHByb3BlcnR5LCB2YWx1ZSk7XG4gICAgICB9IGVsc2Uge1xuICAgICAgICAvLyBBZGRpbmcgYWNjZXNzb3IgdG8gcHJvdG87IHNhdmUgcHJvdG8ncyB2YWx1ZSBmb3IgaW5zdGFuY2UtdGltZSB1c2VcbiAgICAgICAgaWYgKCFtb2RlbC5fX2RhdGFQcm90bykge1xuICAgICAgICAgIG1vZGVsLl9fZGF0YVByb3RvID0ge307XG4gICAgICAgIH0gZWxzZSBpZiAoIW1vZGVsLmhhc093blByb3BlcnR5KEpTQ29tcGlsZXJfcmVuYW1lUHJvcGVydHkoJ19fZGF0YVByb3RvJywgbW9kZWwpKSkge1xuICAgICAgICAgIG1vZGVsLl9fZGF0YVByb3RvID0gT2JqZWN0LmNyZWF0ZShtb2RlbC5fX2RhdGFQcm90byk7XG4gICAgICAgIH1cbiAgICAgICAgbW9kZWwuX19kYXRhUHJvdG9bcHJvcGVydHldID0gdmFsdWU7XG4gICAgICB9XG4gICAgfVxuICB9XG59XG5cbi8qKlxuICogRWxlbWVudCBjbGFzcyBtaXhpbiB0aGF0IHByb3ZpZGVzIGJhc2ljIG1ldGEtcHJvZ3JhbW1pbmcgZm9yIGNyZWF0aW5nIG9uZVxuICogb3IgbW9yZSBwcm9wZXJ0eSBhY2Nlc3NvcnMgKGdldHRlci9zZXR0ZXIgcGFpcikgdGhhdCBlbnF1ZXVlIGFuIGFzeW5jXG4gKiAoYmF0Y2hlZCkgYF9wcm9wZXJ0aWVzQ2hhbmdlZGAgY2FsbGJhY2suXG4gKlxuICogRm9yIGJhc2ljIHVzYWdlIG9mIHRoaXMgbWl4aW46XG4gKlxuICogLSAgIERlY2xhcmUgYXR0cmlidXRlcyB0byBvYnNlcnZlIHZpYSB0aGUgc3RhbmRhcmQgYHN0YXRpYyBnZXRcbiAqICAgICBvYnNlcnZlZEF0dHJpYnV0ZXMoKWAuIFVzZSBgZGFzaC1jYXNlYCBhdHRyaWJ1dGUgbmFtZXMgdG8gcmVwcmVzZW50XG4gKiAgICAgYGNhbWVsQ2FzZWAgcHJvcGVydHkgbmFtZXMuXG4gKiAtICAgSW1wbGVtZW50IHRoZSBgX3Byb3BlcnRpZXNDaGFuZ2VkYCBjYWxsYmFjayBvbiB0aGUgY2xhc3MuXG4gKiAtICAgQ2FsbCBgTXlDbGFzcy5jcmVhdGVQcm9wZXJ0aWVzRm9yQXR0cmlidXRlcygpYCAqKm9uY2UqKiBvbiB0aGUgY2xhc3MgdG9cbiAqICAgICBnZW5lcmF0ZSBwcm9wZXJ0eSBhY2Nlc3NvcnMgZm9yIGVhY2ggb2JzZXJ2ZWQgYXR0cmlidXRlLiBUaGlzIG11c3QgYmVcbiAqICAgICBjYWxsZWQgYmVmb3JlIHRoZSBmaXJzdCBpbnN0YW5jZSBpcyBjcmVhdGVkLCBmb3IgZXhhbXBsZSwgYnkgY2FsbGluZyBpdFxuICogICAgIGJlZm9yZSBjYWxsaW5nIGBjdXN0b21FbGVtZW50cy5kZWZpbmVgLiBJdCBjYW4gYWxzbyBiZSBjYWxsZWQgbGF6aWx5IGZyb21cbiAqICAgICB0aGUgZWxlbWVudCdzIGBjb25zdHJ1Y3RvcmAsIGFzIGxvbmcgYXMgaXQncyBndWFyZGVkIHNvIHRoYXQgdGhlIGNhbGwgaXNcbiAqICAgICBvbmx5IG1hZGUgb25jZSwgd2hlbiB0aGUgZmlyc3QgaW5zdGFuY2UgaXMgY3JlYXRlZC5cbiAqIC0gICBDYWxsIGB0aGlzLl9lbmFibGVQcm9wZXJ0aWVzKClgIGluIHRoZSBlbGVtZW50J3MgYGNvbm5lY3RlZENhbGxiYWNrYCB0b1xuICogICAgIGVuYWJsZSB0aGUgYWNjZXNzb3JzLlxuICpcbiAqIEFueSBgb2JzZXJ2ZWRBdHRyaWJ1dGVzYCB3aWxsIGF1dG9tYXRpY2FsbHkgYmVcbiAqIGRlc2VyaWFsaXplZCB2aWEgYGF0dHJpYnV0ZUNoYW5nZWRDYWxsYmFja2AgYW5kIHNldCB0byB0aGUgYXNzb2NpYXRlZFxuICogcHJvcGVydHkgdXNpbmcgYGRhc2gtY2FzZWAtdG8tYGNhbWVsQ2FzZWAgY29udmVudGlvbi5cbiAqXG4gKiBAbWl4aW5GdW5jdGlvblxuICogQHBvbHltZXJcbiAqIEBhcHBsaWVzTWl4aW4gUHJvcGVydGllc0NoYW5nZWRcbiAqIEBzdW1tYXJ5IEVsZW1lbnQgY2xhc3MgbWl4aW4gZm9yIHJlYWN0aW5nIHRvIHByb3BlcnR5IGNoYW5nZXMgZnJvbVxuICogICBnZW5lcmF0ZWQgcHJvcGVydHkgYWNjZXNzb3JzLlxuICovXG5leHBvcnQgY29uc3QgUHJvcGVydHlBY2Nlc3NvcnMgPSBkZWR1cGluZ01peGluKHN1cGVyQ2xhc3MgPT4ge1xuXG4gIC8qKlxuICAgKiBAY29uc3RydWN0b3JcbiAgICogQGltcGxlbWVudHMge1BvbHltZXJfUHJvcGVydGllc0NoYW5nZWR9XG4gICAqIEB1bnJlc3RyaWN0ZWRcbiAgICogQHByaXZhdGVcbiAgICovXG4gICBjb25zdCBiYXNlID0gUHJvcGVydGllc0NoYW5nZWQoc3VwZXJDbGFzcyk7XG5cbiAgLyoqXG4gICAqIEBwb2x5bWVyXG4gICAqIEBtaXhpbkNsYXNzXG4gICAqIEBpbXBsZW1lbnRzIHtQb2x5bWVyX1Byb3BlcnR5QWNjZXNzb3JzfVxuICAgKiBAZXh0ZW5kcyB7YmFzZX1cbiAgICogQHVucmVzdHJpY3RlZFxuICAgKi9cbiAgY2xhc3MgUHJvcGVydHlBY2Nlc3NvcnMgZXh0ZW5kcyBiYXNlIHtcblxuICAgIC8qKlxuICAgICAqIEdlbmVyYXRlcyBwcm9wZXJ0eSBhY2Nlc3NvcnMgZm9yIGFsbCBhdHRyaWJ1dGVzIGluIHRoZSBzdGFuZGFyZFxuICAgICAqIHN0YXRpYyBgb2JzZXJ2ZWRBdHRyaWJ1dGVzYCBhcnJheS5cbiAgICAgKlxuICAgICAqIEF0dHJpYnV0ZSBuYW1lcyBhcmUgbWFwcGVkIHRvIHByb3BlcnR5IG5hbWVzIHVzaW5nIHRoZSBgZGFzaC1jYXNlYCB0b1xuICAgICAqIGBjYW1lbENhc2VgIGNvbnZlbnRpb25cbiAgICAgKlxuICAgICAqIEByZXR1cm4ge3ZvaWR9XG4gICAgICovXG4gICAgc3RhdGljIGNyZWF0ZVByb3BlcnRpZXNGb3JBdHRyaWJ1dGVzKCkge1xuICAgICAgbGV0IGEkID0gdGhpcy5vYnNlcnZlZEF0dHJpYnV0ZXM7XG4gICAgICBmb3IgKGxldCBpPTA7IGkgPCBhJC5sZW5ndGg7IGkrKykge1xuICAgICAgICB0aGlzLnByb3RvdHlwZS5fY3JlYXRlUHJvcGVydHlBY2Nlc3NvcihkYXNoVG9DYW1lbENhc2UoYSRbaV0pKTtcbiAgICAgIH1cbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBSZXR1cm5zIGFuIGF0dHJpYnV0ZSBuYW1lIHRoYXQgY29ycmVzcG9uZHMgdG8gdGhlIGdpdmVuIHByb3BlcnR5LlxuICAgICAqIEJ5IGRlZmF1bHQsIGNvbnZlcnRzIGNhbWVsIHRvIGRhc2ggY2FzZSwgZS5nLiBgZm9vQmFyYCB0byBgZm9vLWJhcmAuXG4gICAgICogQHBhcmFtIHtzdHJpbmd9IHByb3BlcnR5IFByb3BlcnR5IHRvIGNvbnZlcnRcbiAgICAgKiBAcmV0dXJuIHtzdHJpbmd9IEF0dHJpYnV0ZSBuYW1lIGNvcnJlc3BvbmRpbmcgdG8gdGhlIGdpdmVuIHByb3BlcnR5LlxuICAgICAqXG4gICAgICogQHByb3RlY3RlZFxuICAgICAqL1xuICAgIHN0YXRpYyBhdHRyaWJ1dGVOYW1lRm9yUHJvcGVydHkocHJvcGVydHkpIHtcbiAgICAgIHJldHVybiBjYW1lbFRvRGFzaENhc2UocHJvcGVydHkpO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIE92ZXJyaWRlcyBQcm9wZXJ0aWVzQ2hhbmdlZCBpbXBsZW1lbnRhdGlvbiB0byBpbml0aWFsaXplIHZhbHVlcyBmb3JcbiAgICAgKiBhY2Nlc3NvcnMgY3JlYXRlZCBmb3IgdmFsdWVzIHRoYXQgYWxyZWFkeSBleGlzdGVkIG9uIHRoZSBlbGVtZW50XG4gICAgICogcHJvdG90eXBlLlxuICAgICAqXG4gICAgICogQHJldHVybiB7dm9pZH1cbiAgICAgKiBAcHJvdGVjdGVkXG4gICAgICogQG92ZXJyaWRlXG4gICAgICovXG4gICAgX2luaXRpYWxpemVQcm9wZXJ0aWVzKCkge1xuICAgICAgaWYgKHRoaXMuX19kYXRhUHJvdG8pIHtcbiAgICAgICAgdGhpcy5faW5pdGlhbGl6ZVByb3RvUHJvcGVydGllcyh0aGlzLl9fZGF0YVByb3RvKTtcbiAgICAgICAgdGhpcy5fX2RhdGFQcm90byA9IG51bGw7XG4gICAgICB9XG4gICAgICBzdXBlci5faW5pdGlhbGl6ZVByb3BlcnRpZXMoKTtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBDYWxsZWQgYXQgaW5zdGFuY2UgdGltZSB3aXRoIGJhZyBvZiBwcm9wZXJ0aWVzIHRoYXQgd2VyZSBvdmVyd3JpdHRlblxuICAgICAqIGJ5IGFjY2Vzc29ycyBvbiB0aGUgcHJvdG90eXBlIHdoZW4gYWNjZXNzb3JzIHdlcmUgY3JlYXRlZC5cbiAgICAgKlxuICAgICAqIFRoZSBkZWZhdWx0IGltcGxlbWVudGF0aW9uIHNldHMgdGhlc2UgcHJvcGVydGllcyBiYWNrIGludG8gdGhlXG4gICAgICogc2V0dGVyIGF0IGluc3RhbmNlIHRpbWUuICBUaGlzIG1ldGhvZCBpcyBwcm92aWRlZCBhcyBhbiBvdmVycmlkZVxuICAgICAqIHBvaW50IGZvciBjdXN0b21pemluZyBvciBwcm92aWRpbmcgbW9yZSBlZmZpY2llbnQgaW5pdGlhbGl6YXRpb24uXG4gICAgICpcbiAgICAgKiBAcGFyYW0ge09iamVjdH0gcHJvcHMgQmFnIG9mIHByb3BlcnR5IHZhbHVlcyB0aGF0IHdlcmUgb3ZlcndyaXR0ZW5cbiAgICAgKiAgIHdoZW4gY3JlYXRpbmcgcHJvcGVydHkgYWNjZXNzb3JzLlxuICAgICAqIEByZXR1cm4ge3ZvaWR9XG4gICAgICogQHByb3RlY3RlZFxuICAgICAqIEBvdmVycmlkZVxuICAgICAqL1xuICAgIF9pbml0aWFsaXplUHJvdG9Qcm9wZXJ0aWVzKHByb3BzKSB7XG4gICAgICBmb3IgKGxldCBwIGluIHByb3BzKSB7XG4gICAgICAgIHRoaXMuX3NldFByb3BlcnR5KHAsIHByb3BzW3BdKTtcbiAgICAgIH1cbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBFbnN1cmVzIHRoZSBlbGVtZW50IGhhcyB0aGUgZ2l2ZW4gYXR0cmlidXRlLiBJZiBpdCBkb2VzIG5vdCxcbiAgICAgKiBhc3NpZ25zIHRoZSBnaXZlbiB2YWx1ZSB0byB0aGUgYXR0cmlidXRlLlxuICAgICAqXG4gICAgICogQHN1cHByZXNzIHtpbnZhbGlkQ2FzdHN9IENsb3N1cmUgY2FuJ3QgZmlndXJlIG91dCBgdGhpc2AgaXMgaW5mYWN0IGFuXG4gICAgICogICAgIGVsZW1lbnRcbiAgICAgKlxuICAgICAqIEBwYXJhbSB7c3RyaW5nfSBhdHRyaWJ1dGUgTmFtZSBvZiBhdHRyaWJ1dGUgdG8gZW5zdXJlIGlzIHNldC5cbiAgICAgKiBAcGFyYW0ge3N0cmluZ30gdmFsdWUgb2YgdGhlIGF0dHJpYnV0ZS5cbiAgICAgKiBAcmV0dXJuIHt2b2lkfVxuICAgICAqIEBvdmVycmlkZVxuICAgICAqL1xuICAgIF9lbnN1cmVBdHRyaWJ1dGUoYXR0cmlidXRlLCB2YWx1ZSkge1xuICAgICAgY29uc3QgZWwgPSAvKiogQHR5cGUgeyFIVE1MRWxlbWVudH0gKi8odGhpcyk7XG4gICAgICBpZiAoIWVsLmhhc0F0dHJpYnV0ZShhdHRyaWJ1dGUpKSB7XG4gICAgICAgIHRoaXMuX3ZhbHVlVG9Ob2RlQXR0cmlidXRlKGVsLCB2YWx1ZSwgYXR0cmlidXRlKTtcbiAgICAgIH1cbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBPdmVycmlkZXMgUHJvcGVydGllc0NoYW5nZWQgaW1wbGVtZW50aW9uIHRvIHNlcmlhbGl6ZSBvYmplY3RzIGFzIEpTT04uXG4gICAgICpcbiAgICAgKiBAcGFyYW0geyp9IHZhbHVlIFByb3BlcnR5IHZhbHVlIHRvIHNlcmlhbGl6ZS5cbiAgICAgKiBAcmV0dXJuIHtzdHJpbmcgfCB1bmRlZmluZWR9IFN0cmluZyBzZXJpYWxpemVkIGZyb20gdGhlIHByb3ZpZGVkIHByb3BlcnR5XG4gICAgICogICAgIHZhbHVlLlxuICAgICAqIEBvdmVycmlkZVxuICAgICAqL1xuICAgIF9zZXJpYWxpemVWYWx1ZSh2YWx1ZSkge1xuICAgICAgLyogZXNsaW50LWRpc2FibGUgbm8tZmFsbHRocm91Z2ggKi9cbiAgICAgIHN3aXRjaCAodHlwZW9mIHZhbHVlKSB7XG4gICAgICAgIGNhc2UgJ29iamVjdCc6XG4gICAgICAgICAgaWYgKHZhbHVlIGluc3RhbmNlb2YgRGF0ZSkge1xuICAgICAgICAgICAgcmV0dXJuIHZhbHVlLnRvU3RyaW5nKCk7XG4gICAgICAgICAgfSBlbHNlIGlmICh2YWx1ZSkge1xuICAgICAgICAgICAgdHJ5IHtcbiAgICAgICAgICAgICAgcmV0dXJuIEpTT04uc3RyaW5naWZ5KHZhbHVlKTtcbiAgICAgICAgICAgIH0gY2F0Y2goeCkge1xuICAgICAgICAgICAgICByZXR1cm4gJyc7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgfVxuXG4gICAgICAgIGRlZmF1bHQ6XG4gICAgICAgICAgcmV0dXJuIHN1cGVyLl9zZXJpYWxpemVWYWx1ZSh2YWx1ZSk7XG4gICAgICB9XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogQ29udmVydHMgYSBzdHJpbmcgdG8gYSB0eXBlZCBKYXZhU2NyaXB0IHZhbHVlLlxuICAgICAqXG4gICAgICogVGhpcyBtZXRob2QgaXMgY2FsbGVkIGJ5IFBvbHltZXIgd2hlbiByZWFkaW5nIEhUTUwgYXR0cmlidXRlIHZhbHVlcyB0b1xuICAgICAqIEpTIHByb3BlcnRpZXMuICBVc2VycyBtYXkgb3ZlcnJpZGUgdGhpcyBtZXRob2Qgb24gUG9seW1lciBlbGVtZW50XG4gICAgICogcHJvdG90eXBlcyB0byBwcm92aWRlIGRlc2VyaWFsaXphdGlvbiBmb3IgY3VzdG9tIGB0eXBlYHMuICBOb3RlLFxuICAgICAqIHRoZSBgdHlwZWAgYXJndW1lbnQgaXMgdGhlIHZhbHVlIG9mIHRoZSBgdHlwZWAgZmllbGQgcHJvdmlkZWQgaW4gdGhlXG4gICAgICogYHByb3BlcnRpZXNgIGNvbmZpZ3VyYXRpb24gb2JqZWN0IGZvciBhIGdpdmVuIHByb3BlcnR5LCBhbmQgaXNcbiAgICAgKiBieSBjb252ZW50aW9uIHRoZSBjb25zdHJ1Y3RvciBmb3IgdGhlIHR5cGUgdG8gZGVzZXJpYWxpemUuXG4gICAgICpcbiAgICAgKlxuICAgICAqIEBwYXJhbSB7P3N0cmluZ30gdmFsdWUgQXR0cmlidXRlIHZhbHVlIHRvIGRlc2VyaWFsaXplLlxuICAgICAqIEBwYXJhbSB7Kj19IHR5cGUgVHlwZSB0byBkZXNlcmlhbGl6ZSB0aGUgc3RyaW5nIHRvLlxuICAgICAqIEByZXR1cm4geyp9IFR5cGVkIHZhbHVlIGRlc2VyaWFsaXplZCBmcm9tIHRoZSBwcm92aWRlZCBzdHJpbmcuXG4gICAgICogQG92ZXJyaWRlXG4gICAgICovXG4gICAgX2Rlc2VyaWFsaXplVmFsdWUodmFsdWUsIHR5cGUpIHtcbiAgICAgIC8qKlxuICAgICAgICogQHR5cGUgeyp9XG4gICAgICAgKi9cbiAgICAgIGxldCBvdXRWYWx1ZTtcbiAgICAgIHN3aXRjaCAodHlwZSkge1xuICAgICAgICBjYXNlIE9iamVjdDpcbiAgICAgICAgICB0cnkge1xuICAgICAgICAgICAgb3V0VmFsdWUgPSBKU09OLnBhcnNlKC8qKiBAdHlwZSB7c3RyaW5nfSAqLyh2YWx1ZSkpO1xuICAgICAgICAgIH0gY2F0Y2goeCkge1xuICAgICAgICAgICAgLy8gYWxsb3cgbm9uLUpTT04gbGl0ZXJhbHMgbGlrZSBTdHJpbmdzIGFuZCBOdW1iZXJzXG4gICAgICAgICAgICBvdXRWYWx1ZSA9IHZhbHVlO1xuICAgICAgICAgIH1cbiAgICAgICAgICBicmVhaztcbiAgICAgICAgY2FzZSBBcnJheTpcbiAgICAgICAgICB0cnkge1xuICAgICAgICAgICAgb3V0VmFsdWUgPSBKU09OLnBhcnNlKC8qKiBAdHlwZSB7c3RyaW5nfSAqLyh2YWx1ZSkpO1xuICAgICAgICAgIH0gY2F0Y2goeCkge1xuICAgICAgICAgICAgb3V0VmFsdWUgPSBudWxsO1xuICAgICAgICAgICAgY29uc29sZS53YXJuKGBQb2x5bWVyOjpBdHRyaWJ1dGVzOiBjb3VsZG4ndCBkZWNvZGUgQXJyYXkgYXMgSlNPTjogJHt2YWx1ZX1gKTtcbiAgICAgICAgICB9XG4gICAgICAgICAgYnJlYWs7XG4gICAgICAgIGNhc2UgRGF0ZTpcbiAgICAgICAgICBvdXRWYWx1ZSA9IGlzTmFOKHZhbHVlKSA/IFN0cmluZyh2YWx1ZSkgOiBOdW1iZXIodmFsdWUpO1xuICAgICAgICAgIG91dFZhbHVlID0gbmV3IERhdGUob3V0VmFsdWUpO1xuICAgICAgICAgIGJyZWFrO1xuICAgICAgICBkZWZhdWx0OlxuICAgICAgICAgIG91dFZhbHVlID0gc3VwZXIuX2Rlc2VyaWFsaXplVmFsdWUodmFsdWUsIHR5cGUpO1xuICAgICAgICAgIGJyZWFrO1xuICAgICAgfVxuICAgICAgcmV0dXJuIG91dFZhbHVlO1xuICAgIH1cbiAgICAvKiBlc2xpbnQtZW5hYmxlIG5vLWZhbGx0aHJvdWdoICovXG5cbiAgICAvKipcbiAgICAgKiBPdmVycmlkZXMgUHJvcGVydGllc0NoYW5nZWQgaW1wbGVtZW50YXRpb24gdG8gc2F2ZSBleGlzdGluZyBwcm90b3R5cGVcbiAgICAgKiBwcm9wZXJ0eSB2YWx1ZSBzbyB0aGF0IGl0IGNhbiBiZSByZXNldC5cbiAgICAgKiBAcGFyYW0ge3N0cmluZ30gcHJvcGVydHkgTmFtZSBvZiB0aGUgcHJvcGVydHlcbiAgICAgKiBAcGFyYW0ge2Jvb2xlYW49fSByZWFkT25seSBXaGVuIHRydWUsIG5vIHNldHRlciBpcyBjcmVhdGVkXG4gICAgICpcbiAgICAgKiBXaGVuIGNhbGxpbmcgb24gYSBwcm90b3R5cGUsIGFueSBvdmVyd3JpdHRlbiB2YWx1ZXMgYXJlIHNhdmVkIGluXG4gICAgICogYF9fZGF0YVByb3RvYCwgYW5kIGl0IGlzIHVwIHRvIHRoZSBzdWJjbGFzc2VyIHRvIGRlY2lkZSBob3cvd2hlblxuICAgICAqIHRvIHNldCB0aG9zZSBwcm9wZXJ0aWVzIGJhY2sgaW50byB0aGUgYWNjZXNzb3IuICBXaGVuIGNhbGxpbmcgb24gYW5cbiAgICAgKiBpbnN0YW5jZSwgdGhlIG92ZXJ3cml0dGVuIHZhbHVlIGlzIHNldCB2aWEgYF9zZXRQZW5kaW5nUHJvcGVydHlgLFxuICAgICAqIGFuZCB0aGUgdXNlciBzaG91bGQgY2FsbCBgX2ludmFsaWRhdGVQcm9wZXJ0aWVzYCBvciBgX2ZsdXNoUHJvcGVydGllc2BcbiAgICAgKiBmb3IgdGhlIHZhbHVlcyB0byB0YWtlIGVmZmVjdC5cbiAgICAgKiBAcHJvdGVjdGVkXG4gICAgICogQHJldHVybiB7dm9pZH1cbiAgICAgKiBAb3ZlcnJpZGVcbiAgICAgKi9cbiAgICBfZGVmaW5lUHJvcGVydHlBY2Nlc3Nvcihwcm9wZXJ0eSwgcmVhZE9ubHkpIHtcbiAgICAgIHNhdmVBY2Nlc3NvclZhbHVlKHRoaXMsIHByb3BlcnR5KTtcbiAgICAgIHN1cGVyLl9kZWZpbmVQcm9wZXJ0eUFjY2Vzc29yKHByb3BlcnR5LCByZWFkT25seSk7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogUmV0dXJucyB0cnVlIGlmIHRoaXMgbGlicmFyeSBjcmVhdGVkIGFuIGFjY2Vzc29yIGZvciB0aGUgZ2l2ZW4gcHJvcGVydHkuXG4gICAgICpcbiAgICAgKiBAcGFyYW0ge3N0cmluZ30gcHJvcGVydHkgUHJvcGVydHkgbmFtZVxuICAgICAqIEByZXR1cm4ge2Jvb2xlYW59IFRydWUgaWYgYW4gYWNjZXNzb3Igd2FzIGNyZWF0ZWRcbiAgICAgKiBAb3ZlcnJpZGVcbiAgICAgKi9cbiAgICBfaGFzQWNjZXNzb3IocHJvcGVydHkpIHtcbiAgICAgIHJldHVybiB0aGlzLl9fZGF0YUhhc0FjY2Vzc29yICYmIHRoaXMuX19kYXRhSGFzQWNjZXNzb3JbcHJvcGVydHldO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIFJldHVybnMgdHJ1ZSBpZiB0aGUgc3BlY2lmaWVkIHByb3BlcnR5IGhhcyBhIHBlbmRpbmcgY2hhbmdlLlxuICAgICAqXG4gICAgICogQHBhcmFtIHtzdHJpbmd9IHByb3AgUHJvcGVydHkgbmFtZVxuICAgICAqIEByZXR1cm4ge2Jvb2xlYW59IFRydWUgaWYgcHJvcGVydHkgaGFzIGEgcGVuZGluZyBjaGFuZ2VcbiAgICAgKiBAcHJvdGVjdGVkXG4gICAgICogQG92ZXJyaWRlXG4gICAgICovXG4gICAgX2lzUHJvcGVydHlQZW5kaW5nKHByb3ApIHtcbiAgICAgIHJldHVybiBCb29sZWFuKHRoaXMuX19kYXRhUGVuZGluZyAmJiAocHJvcCBpbiB0aGlzLl9fZGF0YVBlbmRpbmcpKTtcbiAgICB9XG5cbiAgfVxuXG4gIHJldHVybiBQcm9wZXJ0eUFjY2Vzc29ycztcblxufSk7XG4iLCIvKipcbkBsaWNlbnNlXG5Db3B5cmlnaHQgKGMpIDIwMTcgVGhlIFBvbHltZXIgUHJvamVjdCBBdXRob3JzLiBBbGwgcmlnaHRzIHJlc2VydmVkLlxuVGhpcyBjb2RlIG1heSBvbmx5IGJlIHVzZWQgdW5kZXIgdGhlIEJTRCBzdHlsZSBsaWNlbnNlIGZvdW5kIGF0IGh0dHA6Ly9wb2x5bWVyLmdpdGh1Yi5pby9MSUNFTlNFLnR4dFxuVGhlIGNvbXBsZXRlIHNldCBvZiBhdXRob3JzIG1heSBiZSBmb3VuZCBhdCBodHRwOi8vcG9seW1lci5naXRodWIuaW8vQVVUSE9SUy50eHRcblRoZSBjb21wbGV0ZSBzZXQgb2YgY29udHJpYnV0b3JzIG1heSBiZSBmb3VuZCBhdCBodHRwOi8vcG9seW1lci5naXRodWIuaW8vQ09OVFJJQlVUT1JTLnR4dFxuQ29kZSBkaXN0cmlidXRlZCBieSBHb29nbGUgYXMgcGFydCBvZiB0aGUgcG9seW1lciBwcm9qZWN0IGlzIGFsc29cbnN1YmplY3QgdG8gYW4gYWRkaXRpb25hbCBJUCByaWdodHMgZ3JhbnQgZm91bmQgYXQgaHR0cDovL3BvbHltZXIuZ2l0aHViLmlvL1BBVEVOVFMudHh0XG4qL1xuaW1wb3J0ICcuLi91dGlscy9ib290LmpzJztcblxuaW1wb3J0IHsgZGVkdXBpbmdNaXhpbiB9IGZyb20gJy4uL3V0aWxzL21peGluLmpzJztcbmltcG9ydCB7IG1pY3JvVGFzayB9IGZyb20gJy4uL3V0aWxzL2FzeW5jLmpzJztcbmltcG9ydCB7IHdyYXAgfSBmcm9tICcuLi91dGlscy93cmFwLmpzJztcblxuLyoqIEBjb25zdCB7IUFzeW5jSW50ZXJmYWNlfSAqL1xuY29uc3QgbWljcm90YXNrID0gbWljcm9UYXNrO1xuXG4vKipcbiAqIEVsZW1lbnQgY2xhc3MgbWl4aW4gdGhhdCBwcm92aWRlcyBiYXNpYyBtZXRhLXByb2dyYW1taW5nIGZvciBjcmVhdGluZyBvbmVcbiAqIG9yIG1vcmUgcHJvcGVydHkgYWNjZXNzb3JzIChnZXR0ZXIvc2V0dGVyIHBhaXIpIHRoYXQgZW5xdWV1ZSBhbiBhc3luY1xuICogKGJhdGNoZWQpIGBfcHJvcGVydGllc0NoYW5nZWRgIGNhbGxiYWNrLlxuICpcbiAqIEZvciBiYXNpYyB1c2FnZSBvZiB0aGlzIG1peGluLCBjYWxsIGBNeUNsYXNzLmNyZWF0ZVByb3BlcnRpZXMocHJvcHMpYFxuICogb25jZSBhdCBjbGFzcyBkZWZpbml0aW9uIHRpbWUgdG8gY3JlYXRlIHByb3BlcnR5IGFjY2Vzc29ycyBmb3IgcHJvcGVydGllc1xuICogbmFtZWQgaW4gcHJvcHMsIGltcGxlbWVudCBgX3Byb3BlcnRpZXNDaGFuZ2VkYCB0byByZWFjdCBhcyBkZXNpcmVkIHRvXG4gKiBwcm9wZXJ0eSBjaGFuZ2VzLCBhbmQgaW1wbGVtZW50IGBzdGF0aWMgZ2V0IG9ic2VydmVkQXR0cmlidXRlcygpYCBhbmRcbiAqIGluY2x1ZGUgbG93ZXJjYXNlIHZlcnNpb25zIG9mIGFueSBwcm9wZXJ0eSBuYW1lcyB0aGF0IHNob3VsZCBiZSBzZXQgZnJvbVxuICogYXR0cmlidXRlcy4gTGFzdCwgY2FsbCBgdGhpcy5fZW5hYmxlUHJvcGVydGllcygpYCBpbiB0aGUgZWxlbWVudCdzXG4gKiBgY29ubmVjdGVkQ2FsbGJhY2tgIHRvIGVuYWJsZSB0aGUgYWNjZXNzb3JzLlxuICpcbiAqIEBtaXhpbkZ1bmN0aW9uXG4gKiBAcG9seW1lclxuICogQHN1bW1hcnkgRWxlbWVudCBjbGFzcyBtaXhpbiBmb3IgcmVhY3RpbmcgdG8gcHJvcGVydHkgY2hhbmdlcyBmcm9tXG4gKiAgIGdlbmVyYXRlZCBwcm9wZXJ0eSBhY2Nlc3NvcnMuXG4gKi9cbmV4cG9ydCBjb25zdCBQcm9wZXJ0aWVzQ2hhbmdlZCA9IGRlZHVwaW5nTWl4aW4oXG4gICAgLyoqXG4gICAgICogQHRlbXBsYXRlIFRcbiAgICAgKiBAcGFyYW0ge2Z1bmN0aW9uKG5ldzpUKX0gc3VwZXJDbGFzcyBDbGFzcyB0byBhcHBseSBtaXhpbiB0by5cbiAgICAgKiBAcmV0dXJuIHtmdW5jdGlvbihuZXc6VCl9IHN1cGVyQ2xhc3Mgd2l0aCBtaXhpbiBhcHBsaWVkLlxuICAgICAqL1xuICAgIChzdXBlckNsYXNzKSA9PiB7XG5cbiAgLyoqXG4gICAqIEBwb2x5bWVyXG4gICAqIEBtaXhpbkNsYXNzXG4gICAqIEBpbXBsZW1lbnRzIHtQb2x5bWVyX1Byb3BlcnRpZXNDaGFuZ2VkfVxuICAgKiBAdW5yZXN0cmljdGVkXG4gICAqL1xuICBjbGFzcyBQcm9wZXJ0aWVzQ2hhbmdlZCBleHRlbmRzIHN1cGVyQ2xhc3Mge1xuXG4gICAgLyoqXG4gICAgICogQ3JlYXRlcyBwcm9wZXJ0eSBhY2Nlc3NvcnMgZm9yIHRoZSBnaXZlbiBwcm9wZXJ0eSBuYW1lcy5cbiAgICAgKiBAcGFyYW0geyFPYmplY3R9IHByb3BzIE9iamVjdCB3aG9zZSBrZXlzIGFyZSBuYW1lcyBvZiBhY2Nlc3NvcnMuXG4gICAgICogQHJldHVybiB7dm9pZH1cbiAgICAgKiBAcHJvdGVjdGVkXG4gICAgICovXG4gICAgc3RhdGljIGNyZWF0ZVByb3BlcnRpZXMocHJvcHMpIHtcbiAgICAgIGNvbnN0IHByb3RvID0gdGhpcy5wcm90b3R5cGU7XG4gICAgICBmb3IgKGxldCBwcm9wIGluIHByb3BzKSB7XG4gICAgICAgIC8vIGRvbid0IHN0b21wIGFuIGV4aXN0aW5nIGFjY2Vzc29yXG4gICAgICAgIGlmICghKHByb3AgaW4gcHJvdG8pKSB7XG4gICAgICAgICAgcHJvdG8uX2NyZWF0ZVByb3BlcnR5QWNjZXNzb3IocHJvcCk7XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBSZXR1cm5zIGFuIGF0dHJpYnV0ZSBuYW1lIHRoYXQgY29ycmVzcG9uZHMgdG8gdGhlIGdpdmVuIHByb3BlcnR5LlxuICAgICAqIFRoZSBhdHRyaWJ1dGUgbmFtZSBpcyB0aGUgbG93ZXJjYXNlZCBwcm9wZXJ0eSBuYW1lLiBPdmVycmlkZSB0b1xuICAgICAqIGN1c3RvbWl6ZSB0aGlzIG1hcHBpbmcuXG4gICAgICogQHBhcmFtIHtzdHJpbmd9IHByb3BlcnR5IFByb3BlcnR5IHRvIGNvbnZlcnRcbiAgICAgKiBAcmV0dXJuIHtzdHJpbmd9IEF0dHJpYnV0ZSBuYW1lIGNvcnJlc3BvbmRpbmcgdG8gdGhlIGdpdmVuIHByb3BlcnR5LlxuICAgICAqXG4gICAgICogQHByb3RlY3RlZFxuICAgICAqL1xuICAgIHN0YXRpYyBhdHRyaWJ1dGVOYW1lRm9yUHJvcGVydHkocHJvcGVydHkpIHtcbiAgICAgIHJldHVybiBwcm9wZXJ0eS50b0xvd2VyQ2FzZSgpO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIE92ZXJyaWRlIHBvaW50IHRvIHByb3ZpZGUgYSB0eXBlIHRvIHdoaWNoIHRvIGRlc2VyaWFsaXplIGEgdmFsdWUgdG9cbiAgICAgKiBhIGdpdmVuIHByb3BlcnR5LlxuICAgICAqIEBwYXJhbSB7c3RyaW5nfSBuYW1lIE5hbWUgb2YgcHJvcGVydHlcbiAgICAgKlxuICAgICAqIEBwcm90ZWN0ZWRcbiAgICAgKi9cbiAgICBzdGF0aWMgdHlwZUZvclByb3BlcnR5KG5hbWUpIHsgfSAvL2VzbGludC1kaXNhYmxlLWxpbmUgbm8tdW51c2VkLXZhcnNcblxuICAgIC8qKlxuICAgICAqIENyZWF0ZXMgYSBzZXR0ZXIvZ2V0dGVyIHBhaXIgZm9yIHRoZSBuYW1lZCBwcm9wZXJ0eSB3aXRoIGl0cyBvd25cbiAgICAgKiBsb2NhbCBzdG9yYWdlLiAgVGhlIGdldHRlciByZXR1cm5zIHRoZSB2YWx1ZSBpbiB0aGUgbG9jYWwgc3RvcmFnZSxcbiAgICAgKiBhbmQgdGhlIHNldHRlciBjYWxscyBgX3NldFByb3BlcnR5YCwgd2hpY2ggdXBkYXRlcyB0aGUgbG9jYWwgc3RvcmFnZVxuICAgICAqIGZvciB0aGUgcHJvcGVydHkgYW5kIGVucXVldWVzIGEgYF9wcm9wZXJ0aWVzQ2hhbmdlZGAgY2FsbGJhY2suXG4gICAgICpcbiAgICAgKiBUaGlzIG1ldGhvZCBtYXkgYmUgY2FsbGVkIG9uIGEgcHJvdG90eXBlIG9yIGFuIGluc3RhbmNlLiAgQ2FsbGluZ1xuICAgICAqIHRoaXMgbWV0aG9kIG1heSBvdmVyd3JpdGUgYSBwcm9wZXJ0eSB2YWx1ZSB0aGF0IGFscmVhZHkgZXhpc3RzIG9uXG4gICAgICogdGhlIHByb3RvdHlwZS9pbnN0YW5jZSBieSBjcmVhdGluZyB0aGUgYWNjZXNzb3IuXG4gICAgICpcbiAgICAgKiBAcGFyYW0ge3N0cmluZ30gcHJvcGVydHkgTmFtZSBvZiB0aGUgcHJvcGVydHlcbiAgICAgKiBAcGFyYW0ge2Jvb2xlYW49fSByZWFkT25seSBXaGVuIHRydWUsIG5vIHNldHRlciBpcyBjcmVhdGVkOyB0aGVcbiAgICAgKiAgIHByb3RlY3RlZCBgX3NldFByb3BlcnR5YCBmdW5jdGlvbiBtdXN0IGJlIHVzZWQgdG8gc2V0IHRoZSBwcm9wZXJ0eVxuICAgICAqIEByZXR1cm4ge3ZvaWR9XG4gICAgICogQHByb3RlY3RlZFxuICAgICAqIEBvdmVycmlkZVxuICAgICAqL1xuICAgIF9jcmVhdGVQcm9wZXJ0eUFjY2Vzc29yKHByb3BlcnR5LCByZWFkT25seSkge1xuICAgICAgdGhpcy5fYWRkUHJvcGVydHlUb0F0dHJpYnV0ZU1hcChwcm9wZXJ0eSk7XG4gICAgICBpZiAoIXRoaXMuaGFzT3duUHJvcGVydHkoJ19fZGF0YUhhc0FjY2Vzc29yJykpIHtcbiAgICAgICAgdGhpcy5fX2RhdGFIYXNBY2Nlc3NvciA9IE9iamVjdC5hc3NpZ24oe30sIHRoaXMuX19kYXRhSGFzQWNjZXNzb3IpO1xuICAgICAgfVxuICAgICAgaWYgKCF0aGlzLl9fZGF0YUhhc0FjY2Vzc29yW3Byb3BlcnR5XSkge1xuICAgICAgICB0aGlzLl9fZGF0YUhhc0FjY2Vzc29yW3Byb3BlcnR5XSA9IHRydWU7XG4gICAgICAgIHRoaXMuX2RlZmluZVByb3BlcnR5QWNjZXNzb3IocHJvcGVydHksIHJlYWRPbmx5KTtcbiAgICAgIH1cbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBBZGRzIHRoZSBnaXZlbiBgcHJvcGVydHlgIHRvIGEgbWFwIG1hdGNoaW5nIGF0dHJpYnV0ZSBuYW1lc1xuICAgICAqIHRvIHByb3BlcnR5IG5hbWVzLCB1c2luZyBgYXR0cmlidXRlTmFtZUZvclByb3BlcnR5YC4gVGhpcyBtYXAgaXNcbiAgICAgKiB1c2VkIHdoZW4gZGVzZXJpYWxpemluZyBhdHRyaWJ1dGUgdmFsdWVzIHRvIHByb3BlcnRpZXMuXG4gICAgICpcbiAgICAgKiBAcGFyYW0ge3N0cmluZ30gcHJvcGVydHkgTmFtZSBvZiB0aGUgcHJvcGVydHlcbiAgICAgKiBAb3ZlcnJpZGVcbiAgICAgKi9cbiAgICBfYWRkUHJvcGVydHlUb0F0dHJpYnV0ZU1hcChwcm9wZXJ0eSkge1xuICAgICAgaWYgKCF0aGlzLmhhc093blByb3BlcnR5KCdfX2RhdGFBdHRyaWJ1dGVzJykpIHtcbiAgICAgICAgdGhpcy5fX2RhdGFBdHRyaWJ1dGVzID0gT2JqZWN0LmFzc2lnbih7fSwgdGhpcy5fX2RhdGFBdHRyaWJ1dGVzKTtcbiAgICAgIH1cbiAgICAgIGlmICghdGhpcy5fX2RhdGFBdHRyaWJ1dGVzW3Byb3BlcnR5XSkge1xuICAgICAgICBjb25zdCBhdHRyID0gdGhpcy5jb25zdHJ1Y3Rvci5hdHRyaWJ1dGVOYW1lRm9yUHJvcGVydHkocHJvcGVydHkpO1xuICAgICAgICB0aGlzLl9fZGF0YUF0dHJpYnV0ZXNbYXR0cl0gPSBwcm9wZXJ0eTtcbiAgICAgIH1cbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBEZWZpbmVzIGEgcHJvcGVydHkgYWNjZXNzb3IgZm9yIHRoZSBnaXZlbiBwcm9wZXJ0eS5cbiAgICAgKiBAcGFyYW0ge3N0cmluZ30gcHJvcGVydHkgTmFtZSBvZiB0aGUgcHJvcGVydHlcbiAgICAgKiBAcGFyYW0ge2Jvb2xlYW49fSByZWFkT25seSBXaGVuIHRydWUsIG5vIHNldHRlciBpcyBjcmVhdGVkXG4gICAgICogQHJldHVybiB7dm9pZH1cbiAgICAgKiBAb3ZlcnJpZGVcbiAgICAgKi9cbiAgICAgX2RlZmluZVByb3BlcnR5QWNjZXNzb3IocHJvcGVydHksIHJlYWRPbmx5KSB7XG4gICAgICBPYmplY3QuZGVmaW5lUHJvcGVydHkodGhpcywgcHJvcGVydHksIHtcbiAgICAgICAgLyogZXNsaW50LWRpc2FibGUgdmFsaWQtanNkb2MgKi9cbiAgICAgICAgLyoqIEB0aGlzIHtQcm9wZXJ0aWVzQ2hhbmdlZH0gKi9cbiAgICAgICAgZ2V0KCkge1xuICAgICAgICAgIHJldHVybiB0aGlzLl9nZXRQcm9wZXJ0eShwcm9wZXJ0eSk7XG4gICAgICAgIH0sXG4gICAgICAgIC8qKiBAdGhpcyB7UHJvcGVydGllc0NoYW5nZWR9ICovXG4gICAgICAgIHNldDogcmVhZE9ubHkgPyBmdW5jdGlvbiAoKSB7fSA6IGZ1bmN0aW9uICh2YWx1ZSkge1xuICAgICAgICAgIHRoaXMuX3NldFByb3BlcnR5KHByb3BlcnR5LCB2YWx1ZSk7XG4gICAgICAgIH1cbiAgICAgICAgLyogZXNsaW50LWVuYWJsZSAqL1xuICAgICAgfSk7XG4gICAgfVxuXG4gICAgY29uc3RydWN0b3IoKSB7XG4gICAgICBzdXBlcigpO1xuICAgICAgLyoqIEBwcm90ZWN0ZWQge2Jvb2xlYW59ICovXG4gICAgICB0aGlzLl9fZGF0YUVuYWJsZWQgPSBmYWxzZTtcbiAgICAgIHRoaXMuX19kYXRhUmVhZHkgPSBmYWxzZTtcbiAgICAgIHRoaXMuX19kYXRhSW52YWxpZCA9IGZhbHNlO1xuICAgICAgdGhpcy5fX2RhdGEgPSB7fTtcbiAgICAgIHRoaXMuX19kYXRhUGVuZGluZyA9IG51bGw7XG4gICAgICB0aGlzLl9fZGF0YU9sZCA9IG51bGw7XG4gICAgICB0aGlzLl9fZGF0YUluc3RhbmNlUHJvcHMgPSBudWxsO1xuICAgICAgdGhpcy5fX3NlcmlhbGl6aW5nID0gZmFsc2U7XG4gICAgICB0aGlzLl9pbml0aWFsaXplUHJvcGVydGllcygpO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIExpZmVjeWNsZSBjYWxsYmFjayBjYWxsZWQgd2hlbiBwcm9wZXJ0aWVzIGFyZSBlbmFibGVkIHZpYVxuICAgICAqIGBfZW5hYmxlUHJvcGVydGllc2AuXG4gICAgICpcbiAgICAgKiBVc2VycyBtYXkgb3ZlcnJpZGUgdGhpcyBmdW5jdGlvbiB0byBpbXBsZW1lbnQgYmVoYXZpb3IgdGhhdCBpc1xuICAgICAqIGRlcGVuZGVudCBvbiB0aGUgZWxlbWVudCBoYXZpbmcgaXRzIHByb3BlcnR5IGRhdGEgaW5pdGlhbGl6ZWQsIGUuZy5cbiAgICAgKiBmcm9tIGRlZmF1bHRzIChpbml0aWFsaXplZCBmcm9tIGBjb25zdHJ1Y3RvcmAsIGBfaW5pdGlhbGl6ZVByb3BlcnRpZXNgKSxcbiAgICAgKiBgYXR0cmlidXRlQ2hhbmdlZENhbGxiYWNrYCwgb3IgdmFsdWVzIHByb3BhZ2F0ZWQgZnJvbSBob3N0IGUuZy4gdmlhXG4gICAgICogYmluZGluZ3MuICBgc3VwZXIucmVhZHkoKWAgbXVzdCBiZSBjYWxsZWQgdG8gZW5zdXJlIHRoZSBkYXRhIHN5c3RlbVxuICAgICAqIGJlY29tZXMgZW5hYmxlZC5cbiAgICAgKlxuICAgICAqIEByZXR1cm4ge3ZvaWR9XG4gICAgICogQHB1YmxpY1xuICAgICAqIEBvdmVycmlkZVxuICAgICAqL1xuICAgIHJlYWR5KCkge1xuICAgICAgdGhpcy5fX2RhdGFSZWFkeSA9IHRydWU7XG4gICAgICB0aGlzLl9mbHVzaFByb3BlcnRpZXMoKTtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBJbml0aWFsaXplcyB0aGUgbG9jYWwgc3RvcmFnZSBmb3IgcHJvcGVydHkgYWNjZXNzb3JzLlxuICAgICAqXG4gICAgICogUHJvdmlkZWQgYXMgYW4gb3ZlcnJpZGUgcG9pbnQgZm9yIHBlcmZvcm1pbmcgYW55IHNldHVwIHdvcmsgcHJpb3JcbiAgICAgKiB0byBpbml0aWFsaXppbmcgdGhlIHByb3BlcnR5IGFjY2Vzc29yIHN5c3RlbS5cbiAgICAgKlxuICAgICAqIEByZXR1cm4ge3ZvaWR9XG4gICAgICogQHByb3RlY3RlZFxuICAgICAqIEBvdmVycmlkZVxuICAgICAqL1xuICAgIF9pbml0aWFsaXplUHJvcGVydGllcygpIHtcbiAgICAgIC8vIENhcHR1cmUgaW5zdGFuY2UgcHJvcGVydGllczsgdGhlc2Ugd2lsbCBiZSBzZXQgaW50byBhY2Nlc3NvcnNcbiAgICAgIC8vIGR1cmluZyBmaXJzdCBmbHVzaC4gRG9uJ3Qgc2V0IHRoZW0gaGVyZSwgc2luY2Ugd2Ugd2FudFxuICAgICAgLy8gdGhlc2UgdG8gb3ZlcndyaXRlIGRlZmF1bHRzL2NvbnN0cnVjdG9yIGFzc2lnbm1lbnRzXG4gICAgICBmb3IgKGxldCBwIGluIHRoaXMuX19kYXRhSGFzQWNjZXNzb3IpIHtcbiAgICAgICAgaWYgKHRoaXMuaGFzT3duUHJvcGVydHkocCkpIHtcbiAgICAgICAgICB0aGlzLl9fZGF0YUluc3RhbmNlUHJvcHMgPSB0aGlzLl9fZGF0YUluc3RhbmNlUHJvcHMgfHwge307XG4gICAgICAgICAgdGhpcy5fX2RhdGFJbnN0YW5jZVByb3BzW3BdID0gdGhpc1twXTtcbiAgICAgICAgICBkZWxldGUgdGhpc1twXTtcbiAgICAgICAgfVxuICAgICAgfVxuICAgIH1cblxuICAgIC8qKlxuICAgICAqIENhbGxlZCBhdCByZWFkeSB0aW1lIHdpdGggYmFnIG9mIGluc3RhbmNlIHByb3BlcnRpZXMgdGhhdCBvdmVyd3JvdGVcbiAgICAgKiBhY2Nlc3NvcnMgd2hlbiB0aGUgZWxlbWVudCB1cGdyYWRlZC5cbiAgICAgKlxuICAgICAqIFRoZSBkZWZhdWx0IGltcGxlbWVudGF0aW9uIHNldHMgdGhlc2UgcHJvcGVydGllcyBiYWNrIGludG8gdGhlXG4gICAgICogc2V0dGVyIGF0IHJlYWR5IHRpbWUuICBUaGlzIG1ldGhvZCBpcyBwcm92aWRlZCBhcyBhbiBvdmVycmlkZVxuICAgICAqIHBvaW50IGZvciBjdXN0b21pemluZyBvciBwcm92aWRpbmcgbW9yZSBlZmZpY2llbnQgaW5pdGlhbGl6YXRpb24uXG4gICAgICpcbiAgICAgKiBAcGFyYW0ge09iamVjdH0gcHJvcHMgQmFnIG9mIHByb3BlcnR5IHZhbHVlcyB0aGF0IHdlcmUgb3ZlcndyaXR0ZW5cbiAgICAgKiAgIHdoZW4gY3JlYXRpbmcgcHJvcGVydHkgYWNjZXNzb3JzLlxuICAgICAqIEByZXR1cm4ge3ZvaWR9XG4gICAgICogQHByb3RlY3RlZFxuICAgICAqIEBvdmVycmlkZVxuICAgICAqL1xuICAgIF9pbml0aWFsaXplSW5zdGFuY2VQcm9wZXJ0aWVzKHByb3BzKSB7XG4gICAgICBPYmplY3QuYXNzaWduKHRoaXMsIHByb3BzKTtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBVcGRhdGVzIHRoZSBsb2NhbCBzdG9yYWdlIGZvciBhIHByb3BlcnR5ICh2aWEgYF9zZXRQZW5kaW5nUHJvcGVydHlgKVxuICAgICAqIGFuZCBlbnF1ZXVlcyBhIGBfcHJvZXBydGllc0NoYW5nZWRgIGNhbGxiYWNrLlxuICAgICAqXG4gICAgICogQHBhcmFtIHtzdHJpbmd9IHByb3BlcnR5IE5hbWUgb2YgdGhlIHByb3BlcnR5XG4gICAgICogQHBhcmFtIHsqfSB2YWx1ZSBWYWx1ZSB0byBzZXRcbiAgICAgKiBAcmV0dXJuIHt2b2lkfVxuICAgICAqIEBwcm90ZWN0ZWRcbiAgICAgKiBAb3ZlcnJpZGVcbiAgICAgKi9cbiAgICBfc2V0UHJvcGVydHkocHJvcGVydHksIHZhbHVlKSB7XG4gICAgICBpZiAodGhpcy5fc2V0UGVuZGluZ1Byb3BlcnR5KHByb3BlcnR5LCB2YWx1ZSkpIHtcbiAgICAgICAgdGhpcy5faW52YWxpZGF0ZVByb3BlcnRpZXMoKTtcbiAgICAgIH1cbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBSZXR1cm5zIHRoZSB2YWx1ZSBmb3IgdGhlIGdpdmVuIHByb3BlcnR5LlxuICAgICAqIEBwYXJhbSB7c3RyaW5nfSBwcm9wZXJ0eSBOYW1lIG9mIHByb3BlcnR5XG4gICAgICogQHJldHVybiB7Kn0gVmFsdWUgZm9yIHRoZSBnaXZlbiBwcm9wZXJ0eVxuICAgICAqIEBwcm90ZWN0ZWRcbiAgICAgKiBAb3ZlcnJpZGVcbiAgICAgKi9cbiAgICBfZ2V0UHJvcGVydHkocHJvcGVydHkpIHtcbiAgICAgIHJldHVybiB0aGlzLl9fZGF0YVtwcm9wZXJ0eV07XG4gICAgfVxuXG4gICAgLyogZXNsaW50LWRpc2FibGUgbm8tdW51c2VkLXZhcnMgKi9cbiAgICAvKipcbiAgICAgKiBVcGRhdGVzIHRoZSBsb2NhbCBzdG9yYWdlIGZvciBhIHByb3BlcnR5LCByZWNvcmRzIHRoZSBwcmV2aW91cyB2YWx1ZSxcbiAgICAgKiBhbmQgYWRkcyBpdCB0byB0aGUgc2V0IG9mIFwicGVuZGluZyBjaGFuZ2VzXCIgdGhhdCB3aWxsIGJlIHBhc3NlZCB0byB0aGVcbiAgICAgKiBgX3Byb3BlcnRpZXNDaGFuZ2VkYCBjYWxsYmFjay4gIFRoaXMgbWV0aG9kIGRvZXMgbm90IGVucXVldWUgdGhlXG4gICAgICogYF9wcm9wZXJ0aWVzQ2hhbmdlZGAgY2FsbGJhY2suXG4gICAgICpcbiAgICAgKiBAcGFyYW0ge3N0cmluZ30gcHJvcGVydHkgTmFtZSBvZiB0aGUgcHJvcGVydHlcbiAgICAgKiBAcGFyYW0geyp9IHZhbHVlIFZhbHVlIHRvIHNldFxuICAgICAqIEBwYXJhbSB7Ym9vbGVhbj19IGV4dCBOb3QgdXNlZCBoZXJlOyBhZmZvcmRhbmNlIGZvciBjbG9zdXJlXG4gICAgICogQHJldHVybiB7Ym9vbGVhbn0gUmV0dXJucyB0cnVlIGlmIHRoZSBwcm9wZXJ0eSBjaGFuZ2VkXG4gICAgICogQHByb3RlY3RlZFxuICAgICAqIEBvdmVycmlkZVxuICAgICAqL1xuICAgIF9zZXRQZW5kaW5nUHJvcGVydHkocHJvcGVydHksIHZhbHVlLCBleHQpIHtcbiAgICAgIGxldCBvbGQgPSB0aGlzLl9fZGF0YVtwcm9wZXJ0eV07XG4gICAgICBsZXQgY2hhbmdlZCA9IHRoaXMuX3Nob3VsZFByb3BlcnR5Q2hhbmdlKHByb3BlcnR5LCB2YWx1ZSwgb2xkKTtcbiAgICAgIGlmIChjaGFuZ2VkKSB7XG4gICAgICAgIGlmICghdGhpcy5fX2RhdGFQZW5kaW5nKSB7XG4gICAgICAgICAgdGhpcy5fX2RhdGFQZW5kaW5nID0ge307XG4gICAgICAgICAgdGhpcy5fX2RhdGFPbGQgPSB7fTtcbiAgICAgICAgfVxuICAgICAgICAvLyBFbnN1cmUgb2xkIGlzIGNhcHR1cmVkIGZyb20gdGhlIGxhc3QgdHVyblxuICAgICAgICBpZiAodGhpcy5fX2RhdGFPbGQgJiYgIShwcm9wZXJ0eSBpbiB0aGlzLl9fZGF0YU9sZCkpIHtcbiAgICAgICAgICB0aGlzLl9fZGF0YU9sZFtwcm9wZXJ0eV0gPSBvbGQ7XG4gICAgICAgIH1cbiAgICAgICAgdGhpcy5fX2RhdGFbcHJvcGVydHldID0gdmFsdWU7XG4gICAgICAgIHRoaXMuX19kYXRhUGVuZGluZ1twcm9wZXJ0eV0gPSB2YWx1ZTtcbiAgICAgIH1cbiAgICAgIHJldHVybiBjaGFuZ2VkO1xuICAgIH1cbiAgICAvKiBlc2xpbnQtZW5hYmxlICovXG5cbiAgICAvKipcbiAgICAgKiBNYXJrcyB0aGUgcHJvcGVydGllcyBhcyBpbnZhbGlkLCBhbmQgZW5xdWV1ZXMgYW4gYXN5bmNcbiAgICAgKiBgX3Byb3BlcnRpZXNDaGFuZ2VkYCBjYWxsYmFjay5cbiAgICAgKlxuICAgICAqIEByZXR1cm4ge3ZvaWR9XG4gICAgICogQHByb3RlY3RlZFxuICAgICAqIEBvdmVycmlkZVxuICAgICAqL1xuICAgIF9pbnZhbGlkYXRlUHJvcGVydGllcygpIHtcbiAgICAgIGlmICghdGhpcy5fX2RhdGFJbnZhbGlkICYmIHRoaXMuX19kYXRhUmVhZHkpIHtcbiAgICAgICAgdGhpcy5fX2RhdGFJbnZhbGlkID0gdHJ1ZTtcbiAgICAgICAgbWljcm90YXNrLnJ1bigoKSA9PiB7XG4gICAgICAgICAgaWYgKHRoaXMuX19kYXRhSW52YWxpZCkge1xuICAgICAgICAgICAgdGhpcy5fX2RhdGFJbnZhbGlkID0gZmFsc2U7XG4gICAgICAgICAgICB0aGlzLl9mbHVzaFByb3BlcnRpZXMoKTtcbiAgICAgICAgICB9XG4gICAgICAgIH0pO1xuICAgICAgfVxuICAgIH1cblxuICAgIC8qKlxuICAgICAqIENhbGwgdG8gZW5hYmxlIHByb3BlcnR5IGFjY2Vzc29yIHByb2Nlc3NpbmcuIEJlZm9yZSB0aGlzIG1ldGhvZCBpc1xuICAgICAqIGNhbGxlZCBhY2Nlc3NvciB2YWx1ZXMgd2lsbCBiZSBzZXQgYnV0IHNpZGUgZWZmZWN0cyBhcmVcbiAgICAgKiBxdWV1ZWQuIFdoZW4gY2FsbGVkLCBhbnkgcGVuZGluZyBzaWRlIGVmZmVjdHMgb2NjdXIgaW1tZWRpYXRlbHkuXG4gICAgICogRm9yIGVsZW1lbnRzLCBnZW5lcmFsbHkgYGNvbm5lY3RlZENhbGxiYWNrYCBpcyBhIG5vcm1hbCBzcG90IHRvIGRvIHNvLlxuICAgICAqIEl0IGlzIHNhZmUgdG8gY2FsbCB0aGlzIG1ldGhvZCBtdWx0aXBsZSB0aW1lcyBhcyBpdCBvbmx5IHR1cm5zIG9uXG4gICAgICogcHJvcGVydHkgYWNjZXNzb3JzIG9uY2UuXG4gICAgICpcbiAgICAgKiBAcmV0dXJuIHt2b2lkfVxuICAgICAqIEBwcm90ZWN0ZWRcbiAgICAgKiBAb3ZlcnJpZGVcbiAgICAgKi9cbiAgICBfZW5hYmxlUHJvcGVydGllcygpIHtcbiAgICAgIGlmICghdGhpcy5fX2RhdGFFbmFibGVkKSB7XG4gICAgICAgIHRoaXMuX19kYXRhRW5hYmxlZCA9IHRydWU7XG4gICAgICAgIGlmICh0aGlzLl9fZGF0YUluc3RhbmNlUHJvcHMpIHtcbiAgICAgICAgICB0aGlzLl9pbml0aWFsaXplSW5zdGFuY2VQcm9wZXJ0aWVzKHRoaXMuX19kYXRhSW5zdGFuY2VQcm9wcyk7XG4gICAgICAgICAgdGhpcy5fX2RhdGFJbnN0YW5jZVByb3BzID0gbnVsbDtcbiAgICAgICAgfVxuICAgICAgICB0aGlzLnJlYWR5KCk7XG4gICAgICB9XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogQ2FsbHMgdGhlIGBfcHJvcGVydGllc0NoYW5nZWRgIGNhbGxiYWNrIHdpdGggdGhlIGN1cnJlbnQgc2V0IG9mXG4gICAgICogcGVuZGluZyBjaGFuZ2VzIChhbmQgb2xkIHZhbHVlcyByZWNvcmRlZCB3aGVuIHBlbmRpbmcgY2hhbmdlcyB3ZXJlXG4gICAgICogc2V0KSwgYW5kIHJlc2V0cyB0aGUgcGVuZGluZyBzZXQgb2YgY2hhbmdlcy4gR2VuZXJhbGx5LCB0aGlzIG1ldGhvZFxuICAgICAqIHNob3VsZCBub3QgYmUgY2FsbGVkIGluIHVzZXIgY29kZS5cbiAgICAgKlxuICAgICAqIEByZXR1cm4ge3ZvaWR9XG4gICAgICogQHByb3RlY3RlZFxuICAgICAqIEBvdmVycmlkZVxuICAgICAqL1xuICAgIF9mbHVzaFByb3BlcnRpZXMoKSB7XG4gICAgICBjb25zdCBwcm9wcyA9IHRoaXMuX19kYXRhO1xuICAgICAgY29uc3QgY2hhbmdlZFByb3BzID0gdGhpcy5fX2RhdGFQZW5kaW5nO1xuICAgICAgY29uc3Qgb2xkID0gdGhpcy5fX2RhdGFPbGQ7XG4gICAgICBpZiAodGhpcy5fc2hvdWxkUHJvcGVydGllc0NoYW5nZShwcm9wcywgY2hhbmdlZFByb3BzLCBvbGQpKSB7XG4gICAgICAgIHRoaXMuX19kYXRhUGVuZGluZyA9IG51bGw7XG4gICAgICAgIHRoaXMuX19kYXRhT2xkID0gbnVsbDtcbiAgICAgICAgdGhpcy5fcHJvcGVydGllc0NoYW5nZWQocHJvcHMsIGNoYW5nZWRQcm9wcywgb2xkKTtcbiAgICAgIH1cbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBDYWxsZWQgaW4gYF9mbHVzaFByb3BlcnRpZXNgIHRvIGRldGVybWluZSBpZiBgX3Byb3BlcnRpZXNDaGFuZ2VkYFxuICAgICAqIHNob3VsZCBiZSBjYWxsZWQuIFRoZSBkZWZhdWx0IGltcGxlbWVudGF0aW9uIHJldHVybnMgdHJ1ZSBpZlxuICAgICAqIHByb3BlcnRpZXMgYXJlIHBlbmRpbmcuIE92ZXJyaWRlIHRvIGN1c3RvbWl6ZSB3aGVuXG4gICAgICogYF9wcm9wZXJ0aWVzQ2hhbmdlZGAgaXMgY2FsbGVkLlxuICAgICAqIEBwYXJhbSB7IU9iamVjdH0gY3VycmVudFByb3BzIEJhZyBvZiBhbGwgY3VycmVudCBhY2Nlc3NvciB2YWx1ZXNcbiAgICAgKiBAcGFyYW0gez9PYmplY3R9IGNoYW5nZWRQcm9wcyBCYWcgb2YgcHJvcGVydGllcyBjaGFuZ2VkIHNpbmNlIHRoZSBsYXN0XG4gICAgICogICBjYWxsIHRvIGBfcHJvcGVydGllc0NoYW5nZWRgXG4gICAgICogQHBhcmFtIHs/T2JqZWN0fSBvbGRQcm9wcyBCYWcgb2YgcHJldmlvdXMgdmFsdWVzIGZvciBlYWNoIHByb3BlcnR5XG4gICAgICogICBpbiBgY2hhbmdlZFByb3BzYFxuICAgICAqIEByZXR1cm4ge2Jvb2xlYW59IHRydWUgaWYgY2hhbmdlZFByb3BzIGlzIHRydXRoeVxuICAgICAqIEBvdmVycmlkZVxuICAgICAqL1xuICAgIF9zaG91bGRQcm9wZXJ0aWVzQ2hhbmdlKGN1cnJlbnRQcm9wcywgY2hhbmdlZFByb3BzLCBvbGRQcm9wcykgeyAvLyBlc2xpbnQtZGlzYWJsZS1saW5lIG5vLXVudXNlZC12YXJzXG4gICAgICByZXR1cm4gQm9vbGVhbihjaGFuZ2VkUHJvcHMpO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIENhbGxiYWNrIGNhbGxlZCB3aGVuIGFueSBwcm9wZXJ0aWVzIHdpdGggYWNjZXNzb3JzIGNyZWF0ZWQgdmlhXG4gICAgICogYF9jcmVhdGVQcm9wZXJ0eUFjY2Vzc29yYCBoYXZlIGJlZW4gc2V0LlxuICAgICAqXG4gICAgICogQHBhcmFtIHshT2JqZWN0fSBjdXJyZW50UHJvcHMgQmFnIG9mIGFsbCBjdXJyZW50IGFjY2Vzc29yIHZhbHVlc1xuICAgICAqIEBwYXJhbSB7P09iamVjdH0gY2hhbmdlZFByb3BzIEJhZyBvZiBwcm9wZXJ0aWVzIGNoYW5nZWQgc2luY2UgdGhlIGxhc3RcbiAgICAgKiAgIGNhbGwgdG8gYF9wcm9wZXJ0aWVzQ2hhbmdlZGBcbiAgICAgKiBAcGFyYW0gez9PYmplY3R9IG9sZFByb3BzIEJhZyBvZiBwcmV2aW91cyB2YWx1ZXMgZm9yIGVhY2ggcHJvcGVydHlcbiAgICAgKiAgIGluIGBjaGFuZ2VkUHJvcHNgXG4gICAgICogQHJldHVybiB7dm9pZH1cbiAgICAgKiBAcHJvdGVjdGVkXG4gICAgICogQG92ZXJyaWRlXG4gICAgICovXG4gICAgX3Byb3BlcnRpZXNDaGFuZ2VkKGN1cnJlbnRQcm9wcywgY2hhbmdlZFByb3BzLCBvbGRQcm9wcykgeyAvLyBlc2xpbnQtZGlzYWJsZS1saW5lIG5vLXVudXNlZC12YXJzXG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogTWV0aG9kIGNhbGxlZCB0byBkZXRlcm1pbmUgd2hldGhlciBhIHByb3BlcnR5IHZhbHVlIHNob3VsZCBiZVxuICAgICAqIGNvbnNpZGVyZWQgYXMgYSBjaGFuZ2UgYW5kIGNhdXNlIHRoZSBgX3Byb3BlcnRpZXNDaGFuZ2VkYCBjYWxsYmFja1xuICAgICAqIHRvIGJlIGVucXVldWVkLlxuICAgICAqXG4gICAgICogVGhlIGRlZmF1bHQgaW1wbGVtZW50YXRpb24gcmV0dXJucyBgdHJ1ZWAgaWYgYSBzdHJpY3QgZXF1YWxpdHlcbiAgICAgKiBjaGVjayBmYWlscy4gVGhlIG1ldGhvZCBhbHdheXMgcmV0dXJucyBmYWxzZSBmb3IgYE5hTmAuXG4gICAgICpcbiAgICAgKiBPdmVycmlkZSB0aGlzIG1ldGhvZCB0byBlLmcuIHByb3ZpZGUgc3RyaWN0ZXIgY2hlY2tpbmcgZm9yXG4gICAgICogT2JqZWN0cy9BcnJheXMgd2hlbiB1c2luZyBpbW11dGFibGUgcGF0dGVybnMuXG4gICAgICpcbiAgICAgKiBAcGFyYW0ge3N0cmluZ30gcHJvcGVydHkgUHJvcGVydHkgbmFtZVxuICAgICAqIEBwYXJhbSB7Kn0gdmFsdWUgTmV3IHByb3BlcnR5IHZhbHVlXG4gICAgICogQHBhcmFtIHsqfSBvbGQgUHJldmlvdXMgcHJvcGVydHkgdmFsdWVcbiAgICAgKiBAcmV0dXJuIHtib29sZWFufSBXaGV0aGVyIHRoZSBwcm9wZXJ0eSBzaG91bGQgYmUgY29uc2lkZXJlZCBhIGNoYW5nZVxuICAgICAqICAgYW5kIGVucXVldWUgYSBgX3Byb2VwcnRpZXNDaGFuZ2VkYCBjYWxsYmFja1xuICAgICAqIEBwcm90ZWN0ZWRcbiAgICAgKiBAb3ZlcnJpZGVcbiAgICAgKi9cbiAgICBfc2hvdWxkUHJvcGVydHlDaGFuZ2UocHJvcGVydHksIHZhbHVlLCBvbGQpIHtcbiAgICAgIHJldHVybiAoXG4gICAgICAgIC8vIFN0cmljdCBlcXVhbGl0eSBjaGVja1xuICAgICAgICAob2xkICE9PSB2YWx1ZSAmJlxuICAgICAgICAgIC8vIFRoaXMgZW5zdXJlcyAob2xkPT1OYU4sIHZhbHVlPT1OYU4pIGFsd2F5cyByZXR1cm5zIGZhbHNlXG4gICAgICAgICAgKG9sZCA9PT0gb2xkIHx8IHZhbHVlID09PSB2YWx1ZSkpXG4gICAgICApO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIEltcGxlbWVudHMgbmF0aXZlIEN1c3RvbSBFbGVtZW50cyBgYXR0cmlidXRlQ2hhbmdlZENhbGxiYWNrYCB0b1xuICAgICAqIHNldCBhbiBhdHRyaWJ1dGUgdmFsdWUgdG8gYSBwcm9wZXJ0eSB2aWEgYF9hdHRyaWJ1dGVUb1Byb3BlcnR5YC5cbiAgICAgKlxuICAgICAqIEBwYXJhbSB7c3RyaW5nfSBuYW1lIE5hbWUgb2YgYXR0cmlidXRlIHRoYXQgY2hhbmdlZFxuICAgICAqIEBwYXJhbSB7P3N0cmluZ30gb2xkIE9sZCBhdHRyaWJ1dGUgdmFsdWVcbiAgICAgKiBAcGFyYW0gez9zdHJpbmd9IHZhbHVlIE5ldyBhdHRyaWJ1dGUgdmFsdWVcbiAgICAgKiBAcGFyYW0gez9zdHJpbmc9fSBuYW1lc3BhY2UgQXR0cmlidXRlIG5hbWVzcGFjZS5cbiAgICAgKiBAcmV0dXJuIHt2b2lkfVxuICAgICAqIEBzdXBwcmVzcyB7bWlzc2luZ1Byb3BlcnRpZXN9IFN1cGVyIG1heSBvciBtYXkgbm90IGltcGxlbWVudCB0aGUgY2FsbGJhY2tcbiAgICAgKiBAb3ZlcnJpZGVcbiAgICAgKi9cbiAgICBhdHRyaWJ1dGVDaGFuZ2VkQ2FsbGJhY2sobmFtZSwgb2xkLCB2YWx1ZSwgbmFtZXNwYWNlKSB7XG4gICAgICBpZiAob2xkICE9PSB2YWx1ZSkge1xuICAgICAgICB0aGlzLl9hdHRyaWJ1dGVUb1Byb3BlcnR5KG5hbWUsIHZhbHVlKTtcbiAgICAgIH1cbiAgICAgIGlmIChzdXBlci5hdHRyaWJ1dGVDaGFuZ2VkQ2FsbGJhY2spIHtcbiAgICAgICAgc3VwZXIuYXR0cmlidXRlQ2hhbmdlZENhbGxiYWNrKG5hbWUsIG9sZCwgdmFsdWUsIG5hbWVzcGFjZSk7XG4gICAgICB9XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogRGVzZXJpYWxpemVzIGFuIGF0dHJpYnV0ZSB0byBpdHMgYXNzb2NpYXRlZCBwcm9wZXJ0eS5cbiAgICAgKlxuICAgICAqIFRoaXMgbWV0aG9kIGNhbGxzIHRoZSBgX2Rlc2VyaWFsaXplVmFsdWVgIG1ldGhvZCB0byBjb252ZXJ0IHRoZSBzdHJpbmcgdG9cbiAgICAgKiBhIHR5cGVkIHZhbHVlLlxuICAgICAqXG4gICAgICogQHBhcmFtIHtzdHJpbmd9IGF0dHJpYnV0ZSBOYW1lIG9mIGF0dHJpYnV0ZSB0byBkZXNlcmlhbGl6ZS5cbiAgICAgKiBAcGFyYW0gez9zdHJpbmd9IHZhbHVlIG9mIHRoZSBhdHRyaWJ1dGUuXG4gICAgICogQHBhcmFtIHsqPX0gdHlwZSB0eXBlIHRvIGRlc2VyaWFsaXplIHRvLCBkZWZhdWx0cyB0byB0aGUgdmFsdWVcbiAgICAgKiByZXR1cm5lZCBmcm9tIGB0eXBlRm9yUHJvcGVydHlgXG4gICAgICogQHJldHVybiB7dm9pZH1cbiAgICAgKiBAb3ZlcnJpZGVcbiAgICAgKi9cbiAgICBfYXR0cmlidXRlVG9Qcm9wZXJ0eShhdHRyaWJ1dGUsIHZhbHVlLCB0eXBlKSB7XG4gICAgICBpZiAoIXRoaXMuX19zZXJpYWxpemluZykge1xuICAgICAgICBjb25zdCBtYXAgPSB0aGlzLl9fZGF0YUF0dHJpYnV0ZXM7XG4gICAgICAgIGNvbnN0IHByb3BlcnR5ID0gbWFwICYmIG1hcFthdHRyaWJ1dGVdIHx8IGF0dHJpYnV0ZTtcbiAgICAgICAgdGhpc1twcm9wZXJ0eV0gPSB0aGlzLl9kZXNlcmlhbGl6ZVZhbHVlKHZhbHVlLCB0eXBlIHx8XG4gICAgICAgICAgdGhpcy5jb25zdHJ1Y3Rvci50eXBlRm9yUHJvcGVydHkocHJvcGVydHkpKTtcbiAgICAgIH1cbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBTZXJpYWxpemVzIGEgcHJvcGVydHkgdG8gaXRzIGFzc29jaWF0ZWQgYXR0cmlidXRlLlxuICAgICAqXG4gICAgICogQHN1cHByZXNzIHtpbnZhbGlkQ2FzdHN9IENsb3N1cmUgY2FuJ3QgZmlndXJlIG91dCBgdGhpc2AgaXMgYW4gZWxlbWVudC5cbiAgICAgKlxuICAgICAqIEBwYXJhbSB7c3RyaW5nfSBwcm9wZXJ0eSBQcm9wZXJ0eSBuYW1lIHRvIHJlZmxlY3QuXG4gICAgICogQHBhcmFtIHtzdHJpbmc9fSBhdHRyaWJ1dGUgQXR0cmlidXRlIG5hbWUgdG8gcmVmbGVjdCB0by5cbiAgICAgKiBAcGFyYW0geyo9fSB2YWx1ZSBQcm9wZXJ0eSB2YWx1ZSB0byByZWZlY3QuXG4gICAgICogQHJldHVybiB7dm9pZH1cbiAgICAgKiBAb3ZlcnJpZGVcbiAgICAgKi9cbiAgICBfcHJvcGVydHlUb0F0dHJpYnV0ZShwcm9wZXJ0eSwgYXR0cmlidXRlLCB2YWx1ZSkge1xuICAgICAgdGhpcy5fX3NlcmlhbGl6aW5nID0gdHJ1ZTtcbiAgICAgIHZhbHVlID0gKGFyZ3VtZW50cy5sZW5ndGggPCAzKSA/IHRoaXNbcHJvcGVydHldIDogdmFsdWU7XG4gICAgICB0aGlzLl92YWx1ZVRvTm9kZUF0dHJpYnV0ZSgvKiogQHR5cGUgeyFIVE1MRWxlbWVudH0gKi8odGhpcyksIHZhbHVlLFxuICAgICAgICBhdHRyaWJ1dGUgfHwgdGhpcy5jb25zdHJ1Y3Rvci5hdHRyaWJ1dGVOYW1lRm9yUHJvcGVydHkocHJvcGVydHkpKTtcbiAgICAgIHRoaXMuX19zZXJpYWxpemluZyA9IGZhbHNlO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIFNldHMgYSB0eXBlZCB2YWx1ZSB0byBhbiBIVE1MIGF0dHJpYnV0ZSBvbiBhIG5vZGUuXG4gICAgICpcbiAgICAgKiBUaGlzIG1ldGhvZCBjYWxscyB0aGUgYF9zZXJpYWxpemVWYWx1ZWAgbWV0aG9kIHRvIGNvbnZlcnQgdGhlIHR5cGVkXG4gICAgICogdmFsdWUgdG8gYSBzdHJpbmcuICBJZiB0aGUgYF9zZXJpYWxpemVWYWx1ZWAgbWV0aG9kIHJldHVybnMgYHVuZGVmaW5lZGAsXG4gICAgICogdGhlIGF0dHJpYnV0ZSB3aWxsIGJlIHJlbW92ZWQgKHRoaXMgaXMgdGhlIGRlZmF1bHQgZm9yIGJvb2xlYW5cbiAgICAgKiB0eXBlIGBmYWxzZWApLlxuICAgICAqXG4gICAgICogQHBhcmFtIHtFbGVtZW50fSBub2RlIEVsZW1lbnQgdG8gc2V0IGF0dHJpYnV0ZSB0by5cbiAgICAgKiBAcGFyYW0geyp9IHZhbHVlIFZhbHVlIHRvIHNlcmlhbGl6ZS5cbiAgICAgKiBAcGFyYW0ge3N0cmluZ30gYXR0cmlidXRlIEF0dHJpYnV0ZSBuYW1lIHRvIHNlcmlhbGl6ZSB0by5cbiAgICAgKiBAcmV0dXJuIHt2b2lkfVxuICAgICAqIEBvdmVycmlkZVxuICAgICAqL1xuICAgIF92YWx1ZVRvTm9kZUF0dHJpYnV0ZShub2RlLCB2YWx1ZSwgYXR0cmlidXRlKSB7XG4gICAgICBjb25zdCBzdHIgPSB0aGlzLl9zZXJpYWxpemVWYWx1ZSh2YWx1ZSk7XG4gICAgICBpZiAoc3RyID09PSB1bmRlZmluZWQpIHtcbiAgICAgICAgbm9kZS5yZW1vdmVBdHRyaWJ1dGUoYXR0cmlidXRlKTtcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIGlmIChhdHRyaWJ1dGUgPT09ICdjbGFzcycgfHwgYXR0cmlidXRlID09PSAnbmFtZScgfHwgYXR0cmlidXRlID09PSAnc2xvdCcpIHtcbiAgICAgICAgICBub2RlID0gLyoqIEB0eXBlIHs/RWxlbWVudH0gKi8od3JhcChub2RlKSk7XG4gICAgICAgIH1cbiAgICAgICAgbm9kZS5zZXRBdHRyaWJ1dGUoYXR0cmlidXRlLCBzdHIpO1xuICAgICAgfVxuICAgIH1cblxuICAgIC8qKlxuICAgICAqIENvbnZlcnRzIGEgdHlwZWQgSmF2YVNjcmlwdCB2YWx1ZSB0byBhIHN0cmluZy5cbiAgICAgKlxuICAgICAqIFRoaXMgbWV0aG9kIGlzIGNhbGxlZCB3aGVuIHNldHRpbmcgSlMgcHJvcGVydHkgdmFsdWVzIHRvXG4gICAgICogSFRNTCBhdHRyaWJ1dGVzLiAgVXNlcnMgbWF5IG92ZXJyaWRlIHRoaXMgbWV0aG9kIHRvIHByb3ZpZGVcbiAgICAgKiBzZXJpYWxpemF0aW9uIGZvciBjdXN0b20gdHlwZXMuXG4gICAgICpcbiAgICAgKiBAcGFyYW0geyp9IHZhbHVlIFByb3BlcnR5IHZhbHVlIHRvIHNlcmlhbGl6ZS5cbiAgICAgKiBAcmV0dXJuIHtzdHJpbmcgfCB1bmRlZmluZWR9IFN0cmluZyBzZXJpYWxpemVkIGZyb20gdGhlIHByb3ZpZGVkXG4gICAgICogcHJvcGVydHkgIHZhbHVlLlxuICAgICAqIEBvdmVycmlkZVxuICAgICAqL1xuICAgIF9zZXJpYWxpemVWYWx1ZSh2YWx1ZSkge1xuICAgICAgc3dpdGNoICh0eXBlb2YgdmFsdWUpIHtcbiAgICAgICAgY2FzZSAnYm9vbGVhbic6XG4gICAgICAgICAgcmV0dXJuIHZhbHVlID8gJycgOiB1bmRlZmluZWQ7XG4gICAgICAgIGRlZmF1bHQ6XG4gICAgICAgICAgcmV0dXJuIHZhbHVlICE9IG51bGwgPyB2YWx1ZS50b1N0cmluZygpIDogdW5kZWZpbmVkO1xuICAgICAgfVxuICAgIH1cblxuICAgIC8qKlxuICAgICAqIENvbnZlcnRzIGEgc3RyaW5nIHRvIGEgdHlwZWQgSmF2YVNjcmlwdCB2YWx1ZS5cbiAgICAgKlxuICAgICAqIFRoaXMgbWV0aG9kIGlzIGNhbGxlZCB3aGVuIHJlYWRpbmcgSFRNTCBhdHRyaWJ1dGUgdmFsdWVzIHRvXG4gICAgICogSlMgcHJvcGVydGllcy4gIFVzZXJzIG1heSBvdmVycmlkZSB0aGlzIG1ldGhvZCB0byBwcm92aWRlXG4gICAgICogZGVzZXJpYWxpemF0aW9uIGZvciBjdXN0b20gYHR5cGVgcy4gVHlwZXMgZm9yIGBCb29sZWFuYCwgYFN0cmluZ2AsXG4gICAgICogYW5kIGBOdW1iZXJgIGNvbnZlcnQgYXR0cmlidXRlcyB0byB0aGUgZXhwZWN0ZWQgdHlwZXMuXG4gICAgICpcbiAgICAgKiBAcGFyYW0gez9zdHJpbmd9IHZhbHVlIFZhbHVlIHRvIGRlc2VyaWFsaXplLlxuICAgICAqIEBwYXJhbSB7Kj19IHR5cGUgVHlwZSB0byBkZXNlcmlhbGl6ZSB0aGUgc3RyaW5nIHRvLlxuICAgICAqIEByZXR1cm4geyp9IFR5cGVkIHZhbHVlIGRlc2VyaWFsaXplZCBmcm9tIHRoZSBwcm92aWRlZCBzdHJpbmcuXG4gICAgICogQG92ZXJyaWRlXG4gICAgICovXG4gICAgX2Rlc2VyaWFsaXplVmFsdWUodmFsdWUsIHR5cGUpIHtcbiAgICAgIHN3aXRjaCAodHlwZSkge1xuICAgICAgICBjYXNlIEJvb2xlYW46XG4gICAgICAgICAgcmV0dXJuICh2YWx1ZSAhPT0gbnVsbCk7XG4gICAgICAgIGNhc2UgTnVtYmVyOlxuICAgICAgICAgIHJldHVybiBOdW1iZXIodmFsdWUpO1xuICAgICAgICBkZWZhdWx0OlxuICAgICAgICAgIHJldHVybiB2YWx1ZTtcbiAgICAgIH1cbiAgICB9XG5cbiAgfVxuXG4gIHJldHVybiBQcm9wZXJ0aWVzQ2hhbmdlZDtcbn0pO1xuIiwiLyoqXG5AbGljZW5zZVxuQ29weXJpZ2h0IChjKSAyMDE3IFRoZSBQb2x5bWVyIFByb2plY3QgQXV0aG9ycy4gQWxsIHJpZ2h0cyByZXNlcnZlZC5cblRoaXMgY29kZSBtYXkgb25seSBiZSB1c2VkIHVuZGVyIHRoZSBCU0Qgc3R5bGUgbGljZW5zZSBmb3VuZCBhdCBodHRwOi8vcG9seW1lci5naXRodWIuaW8vTElDRU5TRS50eHRcblRoZSBjb21wbGV0ZSBzZXQgb2YgYXV0aG9ycyBtYXkgYmUgZm91bmQgYXQgaHR0cDovL3BvbHltZXIuZ2l0aHViLmlvL0FVVEhPUlMudHh0XG5UaGUgY29tcGxldGUgc2V0IG9mIGNvbnRyaWJ1dG9ycyBtYXkgYmUgZm91bmQgYXQgaHR0cDovL3BvbHltZXIuZ2l0aHViLmlvL0NPTlRSSUJVVE9SUy50eHRcbkNvZGUgZGlzdHJpYnV0ZWQgYnkgR29vZ2xlIGFzIHBhcnQgb2YgdGhlIHBvbHltZXIgcHJvamVjdCBpcyBhbHNvXG5zdWJqZWN0IHRvIGFuIGFkZGl0aW9uYWwgSVAgcmlnaHRzIGdyYW50IGZvdW5kIGF0IGh0dHA6Ly9wb2x5bWVyLmdpdGh1Yi5pby9QQVRFTlRTLnR4dFxuKi9cbmltcG9ydCAnLi4vdXRpbHMvYm9vdC5qcyc7XG5cbmltcG9ydCB7IGRlZHVwaW5nTWl4aW4gfSBmcm9tICcuLi91dGlscy9taXhpbi5qcyc7XG5pbXBvcnQgeyBhZGRMaXN0ZW5lciwgcmVtb3ZlTGlzdGVuZXIgfSBmcm9tICcuLi91dGlscy9nZXN0dXJlcy5qcyc7XG5cbi8qKlxuICogRWxlbWVudCBjbGFzcyBtaXhpbiB0aGF0IHByb3ZpZGVzIEFQSSBmb3IgYWRkaW5nIFBvbHltZXIncyBjcm9zcy1wbGF0Zm9ybVxuICogZ2VzdHVyZSBldmVudHMgdG8gbm9kZXMuXG4gKlxuICogVGhlIEFQSSBpcyBkZXNpZ25lZCB0byBiZSBjb21wYXRpYmxlIHdpdGggb3ZlcnJpZGUgcG9pbnRzIGltcGxlbWVudGVkXG4gKiBpbiBgVGVtcGxhdGVTdGFtcGAgc3VjaCB0aGF0IGRlY2xhcmF0aXZlIGV2ZW50IGxpc3RlbmVycyBpblxuICogdGVtcGxhdGVzIHdpbGwgc3VwcG9ydCBnZXN0dXJlIGV2ZW50cyB3aGVuIHRoaXMgbWl4aW4gaXMgYXBwbGllZCBhbG9uZyB3aXRoXG4gKiBgVGVtcGxhdGVTdGFtcGAuXG4gKlxuICogQG1peGluRnVuY3Rpb25cbiAqIEBwb2x5bWVyXG4gKiBAc3VtbWFyeSBFbGVtZW50IGNsYXNzIG1peGluIHRoYXQgcHJvdmlkZXMgQVBJIGZvciBhZGRpbmcgUG9seW1lcidzXG4gKiAgIGNyb3NzLXBsYXRmb3JtXG4gKiBnZXN0dXJlIGV2ZW50cyB0byBub2Rlc1xuICovXG5leHBvcnQgY29uc3QgR2VzdHVyZUV2ZW50TGlzdGVuZXJzID0gZGVkdXBpbmdNaXhpbihcbiAgICAvKipcbiAgICAgKiBAdGVtcGxhdGUgVFxuICAgICAqIEBwYXJhbSB7ZnVuY3Rpb24obmV3OlQpfSBzdXBlckNsYXNzIENsYXNzIHRvIGFwcGx5IG1peGluIHRvLlxuICAgICAqIEByZXR1cm4ge2Z1bmN0aW9uKG5ldzpUKX0gc3VwZXJDbGFzcyB3aXRoIG1peGluIGFwcGxpZWQuXG4gICAgICovXG4gICAgKHN1cGVyQ2xhc3MpID0+IHtcbiAgICAgIC8qKlxuICAgICAgICogQHBvbHltZXJcbiAgICAgICAqIEBtaXhpbkNsYXNzXG4gICAgICAgKiBAaW1wbGVtZW50cyB7UG9seW1lcl9HZXN0dXJlRXZlbnRMaXN0ZW5lcnN9XG4gICAgICAgKi9cbiAgICAgIGNsYXNzIEdlc3R1cmVFdmVudExpc3RlbmVycyBleHRlbmRzIHN1cGVyQ2xhc3Mge1xuICAgICAgICAvKipcbiAgICAgICAgICogQWRkIHRoZSBldmVudCBsaXN0ZW5lciB0byB0aGUgbm9kZSBpZiBpdCBpcyBhIGdlc3R1cmVzIGV2ZW50LlxuICAgICAgICAgKlxuICAgICAgICAgKiBAcGFyYW0geyFFdmVudFRhcmdldH0gbm9kZSBOb2RlIHRvIGFkZCBldmVudCBsaXN0ZW5lciB0b1xuICAgICAgICAgKiBAcGFyYW0ge3N0cmluZ30gZXZlbnROYW1lIE5hbWUgb2YgZXZlbnRcbiAgICAgICAgICogQHBhcmFtIHtmdW5jdGlvbighRXZlbnQpOnZvaWR9IGhhbmRsZXIgTGlzdGVuZXIgZnVuY3Rpb24gdG8gYWRkXG4gICAgICAgICAqIEByZXR1cm4ge3ZvaWR9XG4gICAgICAgICAqIEBvdmVycmlkZVxuICAgICAgICAgKi9cbiAgICAgICAgX2FkZEV2ZW50TGlzdGVuZXJUb05vZGUobm9kZSwgZXZlbnROYW1lLCBoYW5kbGVyKSB7XG4gICAgICAgICAgaWYgKCFhZGRMaXN0ZW5lcihub2RlLCBldmVudE5hbWUsIGhhbmRsZXIpKSB7XG4gICAgICAgICAgICBzdXBlci5fYWRkRXZlbnRMaXN0ZW5lclRvTm9kZShub2RlLCBldmVudE5hbWUsIGhhbmRsZXIpO1xuICAgICAgICAgIH1cbiAgICAgICAgfVxuXG4gICAgICAgIC8qKlxuICAgICAgICAgKiBSZW1vdmUgdGhlIGV2ZW50IGxpc3RlbmVyIHRvIHRoZSBub2RlIGlmIGl0IGlzIGEgZ2VzdHVyZXMgZXZlbnQuXG4gICAgICAgICAqXG4gICAgICAgICAqIEBwYXJhbSB7IUV2ZW50VGFyZ2V0fSBub2RlIE5vZGUgdG8gcmVtb3ZlIGV2ZW50IGxpc3RlbmVyIGZyb21cbiAgICAgICAgICogQHBhcmFtIHtzdHJpbmd9IGV2ZW50TmFtZSBOYW1lIG9mIGV2ZW50XG4gICAgICAgICAqIEBwYXJhbSB7ZnVuY3Rpb24oIUV2ZW50KTp2b2lkfSBoYW5kbGVyIExpc3RlbmVyIGZ1bmN0aW9uIHRvIHJlbW92ZVxuICAgICAgICAgKiBAcmV0dXJuIHt2b2lkfVxuICAgICAgICAgKiBAb3ZlcnJpZGVcbiAgICAgICAgICovXG4gICAgICAgIF9yZW1vdmVFdmVudExpc3RlbmVyRnJvbU5vZGUobm9kZSwgZXZlbnROYW1lLCBoYW5kbGVyKSB7XG4gICAgICAgICAgaWYgKCFyZW1vdmVMaXN0ZW5lcihub2RlLCBldmVudE5hbWUsIGhhbmRsZXIpKSB7XG4gICAgICAgICAgICBzdXBlci5fcmVtb3ZlRXZlbnRMaXN0ZW5lckZyb21Ob2RlKG5vZGUsIGV2ZW50TmFtZSwgaGFuZGxlcik7XG4gICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICB9XG5cbiAgICAgIHJldHVybiBHZXN0dXJlRXZlbnRMaXN0ZW5lcnM7XG4gICAgfSk7XG4iLCIvKipcbkBsaWNlbnNlXG5Db3B5cmlnaHQgKGMpIDIwMTcgVGhlIFBvbHltZXIgUHJvamVjdCBBdXRob3JzLiBBbGwgcmlnaHRzIHJlc2VydmVkLlxuVGhpcyBjb2RlIG1heSBvbmx5IGJlIHVzZWQgdW5kZXIgdGhlIEJTRCBzdHlsZSBsaWNlbnNlIGZvdW5kIGF0IGh0dHA6Ly9wb2x5bWVyLmdpdGh1Yi5pby9MSUNFTlNFLnR4dFxuVGhlIGNvbXBsZXRlIHNldCBvZiBhdXRob3JzIG1heSBiZSBmb3VuZCBhdCBodHRwOi8vcG9seW1lci5naXRodWIuaW8vQVVUSE9SUy50eHRcblRoZSBjb21wbGV0ZSBzZXQgb2YgY29udHJpYnV0b3JzIG1heSBiZSBmb3VuZCBhdCBodHRwOi8vcG9seW1lci5naXRodWIuaW8vQ09OVFJJQlVUT1JTLnR4dFxuQ29kZSBkaXN0cmlidXRlZCBieSBHb29nbGUgYXMgcGFydCBvZiB0aGUgcG9seW1lciBwcm9qZWN0IGlzIGFsc29cbnN1YmplY3QgdG8gYW4gYWRkaXRpb25hbCBJUCByaWdodHMgZ3JhbnQgZm91bmQgYXQgaHR0cDovL3BvbHltZXIuZ2l0aHViLmlvL1BBVEVOVFMudHh0XG4qL1xuaW1wb3J0ICcuL2Jvb3QuanMnO1xuXG5mdW5jdGlvbiBuZXdTcGxpY2UoaW5kZXgsIHJlbW92ZWQsIGFkZGVkQ291bnQpIHtcbiAgcmV0dXJuIHtcbiAgICBpbmRleDogaW5kZXgsXG4gICAgcmVtb3ZlZDogcmVtb3ZlZCxcbiAgICBhZGRlZENvdW50OiBhZGRlZENvdW50XG4gIH07XG59XG5cbmNvbnN0IEVESVRfTEVBVkUgPSAwO1xuY29uc3QgRURJVF9VUERBVEUgPSAxO1xuY29uc3QgRURJVF9BREQgPSAyO1xuY29uc3QgRURJVF9ERUxFVEUgPSAzO1xuXG4vLyBOb3RlOiBUaGlzIGZ1bmN0aW9uIGlzICpiYXNlZCogb24gdGhlIGNvbXB1dGF0aW9uIG9mIHRoZSBMZXZlbnNodGVpblxuLy8gXCJlZGl0XCIgZGlzdGFuY2UuIFRoZSBvbmUgY2hhbmdlIGlzIHRoYXQgXCJ1cGRhdGVzXCIgYXJlIHRyZWF0ZWQgYXMgdHdvXG4vLyBlZGl0cyAtIG5vdCBvbmUuIFdpdGggQXJyYXkgc3BsaWNlcywgYW4gdXBkYXRlIGlzIHJlYWxseSBhIGRlbGV0ZVxuLy8gZm9sbG93ZWQgYnkgYW4gYWRkLiBCeSByZXRhaW5pbmcgdGhpcywgd2Ugb3B0aW1pemUgZm9yIFwia2VlcGluZ1wiIHRoZVxuLy8gbWF4aW11bSBhcnJheSBpdGVtcyBpbiB0aGUgb3JpZ2luYWwgYXJyYXkuIEZvciBleGFtcGxlOlxuLy9cbi8vICAgJ3h4eHgxMjMnIC0+ICcxMjN5eXl5J1xuLy9cbi8vIFdpdGggMS1lZGl0IHVwZGF0ZXMsIHRoZSBzaG9ydGVzdCBwYXRoIHdvdWxkIGJlIGp1c3QgdG8gdXBkYXRlIGFsbCBzZXZlblxuLy8gY2hhcmFjdGVycy4gV2l0aCAyLWVkaXQgdXBkYXRlcywgd2UgZGVsZXRlIDQsIGxlYXZlIDMsIGFuZCBhZGQgNC4gVGhpc1xuLy8gbGVhdmVzIHRoZSBzdWJzdHJpbmcgJzEyMycgaW50YWN0LlxuZnVuY3Rpb24gY2FsY0VkaXREaXN0YW5jZXMoY3VycmVudCwgY3VycmVudFN0YXJ0LCBjdXJyZW50RW5kLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIG9sZCwgb2xkU3RhcnQsIG9sZEVuZCkge1xuICAvLyBcIkRlbGV0aW9uXCIgY29sdW1uc1xuICBsZXQgcm93Q291bnQgPSBvbGRFbmQgLSBvbGRTdGFydCArIDE7XG4gIGxldCBjb2x1bW5Db3VudCA9IGN1cnJlbnRFbmQgLSBjdXJyZW50U3RhcnQgKyAxO1xuICBsZXQgZGlzdGFuY2VzID0gbmV3IEFycmF5KHJvd0NvdW50KTtcblxuICAvLyBcIkFkZGl0aW9uXCIgcm93cy4gSW5pdGlhbGl6ZSBudWxsIGNvbHVtbi5cbiAgZm9yIChsZXQgaSA9IDA7IGkgPCByb3dDb3VudDsgaSsrKSB7XG4gICAgZGlzdGFuY2VzW2ldID0gbmV3IEFycmF5KGNvbHVtbkNvdW50KTtcbiAgICBkaXN0YW5jZXNbaV1bMF0gPSBpO1xuICB9XG5cbiAgLy8gSW5pdGlhbGl6ZSBudWxsIHJvd1xuICBmb3IgKGxldCBqID0gMDsgaiA8IGNvbHVtbkNvdW50OyBqKyspXG4gICAgZGlzdGFuY2VzWzBdW2pdID0gajtcblxuICBmb3IgKGxldCBpID0gMTsgaSA8IHJvd0NvdW50OyBpKyspIHtcbiAgICBmb3IgKGxldCBqID0gMTsgaiA8IGNvbHVtbkNvdW50OyBqKyspIHtcbiAgICAgIGlmIChlcXVhbHMoY3VycmVudFtjdXJyZW50U3RhcnQgKyBqIC0gMV0sIG9sZFtvbGRTdGFydCArIGkgLSAxXSkpXG4gICAgICAgIGRpc3RhbmNlc1tpXVtqXSA9IGRpc3RhbmNlc1tpIC0gMV1baiAtIDFdO1xuICAgICAgZWxzZSB7XG4gICAgICAgIGxldCBub3J0aCA9IGRpc3RhbmNlc1tpIC0gMV1bal0gKyAxO1xuICAgICAgICBsZXQgd2VzdCA9IGRpc3RhbmNlc1tpXVtqIC0gMV0gKyAxO1xuICAgICAgICBkaXN0YW5jZXNbaV1bal0gPSBub3J0aCA8IHdlc3QgPyBub3J0aCA6IHdlc3Q7XG4gICAgICB9XG4gICAgfVxuICB9XG5cbiAgcmV0dXJuIGRpc3RhbmNlcztcbn1cblxuLy8gVGhpcyBzdGFydHMgYXQgdGhlIGZpbmFsIHdlaWdodCwgYW5kIHdhbGtzIFwiYmFja3dhcmRcIiBieSBmaW5kaW5nXG4vLyB0aGUgbWluaW11bSBwcmV2aW91cyB3ZWlnaHQgcmVjdXJzaXZlbHkgdW50aWwgdGhlIG9yaWdpbiBvZiB0aGUgd2VpZ2h0XG4vLyBtYXRyaXguXG5mdW5jdGlvbiBzcGxpY2VPcGVyYXRpb25zRnJvbUVkaXREaXN0YW5jZXMoZGlzdGFuY2VzKSB7XG4gIGxldCBpID0gZGlzdGFuY2VzLmxlbmd0aCAtIDE7XG4gIGxldCBqID0gZGlzdGFuY2VzWzBdLmxlbmd0aCAtIDE7XG4gIGxldCBjdXJyZW50ID0gZGlzdGFuY2VzW2ldW2pdO1xuICBsZXQgZWRpdHMgPSBbXTtcbiAgd2hpbGUgKGkgPiAwIHx8IGogPiAwKSB7XG4gICAgaWYgKGkgPT0gMCkge1xuICAgICAgZWRpdHMucHVzaChFRElUX0FERCk7XG4gICAgICBqLS07XG4gICAgICBjb250aW51ZTtcbiAgICB9XG4gICAgaWYgKGogPT0gMCkge1xuICAgICAgZWRpdHMucHVzaChFRElUX0RFTEVURSk7XG4gICAgICBpLS07XG4gICAgICBjb250aW51ZTtcbiAgICB9XG4gICAgbGV0IG5vcnRoV2VzdCA9IGRpc3RhbmNlc1tpIC0gMV1baiAtIDFdO1xuICAgIGxldCB3ZXN0ID0gZGlzdGFuY2VzW2kgLSAxXVtqXTtcbiAgICBsZXQgbm9ydGggPSBkaXN0YW5jZXNbaV1baiAtIDFdO1xuXG4gICAgbGV0IG1pbjtcbiAgICBpZiAod2VzdCA8IG5vcnRoKVxuICAgICAgbWluID0gd2VzdCA8IG5vcnRoV2VzdCA/IHdlc3QgOiBub3J0aFdlc3Q7XG4gICAgZWxzZVxuICAgICAgbWluID0gbm9ydGggPCBub3J0aFdlc3QgPyBub3J0aCA6IG5vcnRoV2VzdDtcblxuICAgIGlmIChtaW4gPT0gbm9ydGhXZXN0KSB7XG4gICAgICBpZiAobm9ydGhXZXN0ID09IGN1cnJlbnQpIHtcbiAgICAgICAgZWRpdHMucHVzaChFRElUX0xFQVZFKTtcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIGVkaXRzLnB1c2goRURJVF9VUERBVEUpO1xuICAgICAgICBjdXJyZW50ID0gbm9ydGhXZXN0O1xuICAgICAgfVxuICAgICAgaS0tO1xuICAgICAgai0tO1xuICAgIH0gZWxzZSBpZiAobWluID09IHdlc3QpIHtcbiAgICAgIGVkaXRzLnB1c2goRURJVF9ERUxFVEUpO1xuICAgICAgaS0tO1xuICAgICAgY3VycmVudCA9IHdlc3Q7XG4gICAgfSBlbHNlIHtcbiAgICAgIGVkaXRzLnB1c2goRURJVF9BREQpO1xuICAgICAgai0tO1xuICAgICAgY3VycmVudCA9IG5vcnRoO1xuICAgIH1cbiAgfVxuXG4gIGVkaXRzLnJldmVyc2UoKTtcbiAgcmV0dXJuIGVkaXRzO1xufVxuXG4vKipcbiAqIFNwbGljZSBQcm9qZWN0aW9uIGZ1bmN0aW9uczpcbiAqXG4gKiBBIHNwbGljZSBtYXAgaXMgYSByZXByZXNlbnRhdGlvbiBvZiBob3cgYSBwcmV2aW91cyBhcnJheSBvZiBpdGVtc1xuICogd2FzIHRyYW5zZm9ybWVkIGludG8gYSBuZXcgYXJyYXkgb2YgaXRlbXMuIENvbmNlcHR1YWxseSBpdCBpcyBhIGxpc3Qgb2ZcbiAqIHR1cGxlcyBvZlxuICpcbiAqICAgPGluZGV4LCByZW1vdmVkLCBhZGRlZENvdW50PlxuICpcbiAqIHdoaWNoIGFyZSBrZXB0IGluIGFzY2VuZGluZyBpbmRleCBvcmRlciBvZi4gVGhlIHR1cGxlIHJlcHJlc2VudHMgdGhhdCBhdFxuICogdGhlIHxpbmRleHwsIHxyZW1vdmVkfCBzZXF1ZW5jZSBvZiBpdGVtcyB3ZXJlIHJlbW92ZWQsIGFuZCBjb3VudGluZyBmb3J3YXJkXG4gKiBmcm9tIHxpbmRleHwsIHxhZGRlZENvdW50fCBpdGVtcyB3ZXJlIGFkZGVkLlxuICovXG5cbi8qKlxuICogTGFja2luZyBpbmRpdmlkdWFsIHNwbGljZSBtdXRhdGlvbiBpbmZvcm1hdGlvbiwgdGhlIG1pbmltYWwgc2V0IG9mXG4gKiBzcGxpY2VzIGNhbiBiZSBzeW50aGVzaXplZCBnaXZlbiB0aGUgcHJldmlvdXMgc3RhdGUgYW5kIGZpbmFsIHN0YXRlIG9mIGFuXG4gKiBhcnJheS4gVGhlIGJhc2ljIGFwcHJvYWNoIGlzIHRvIGNhbGN1bGF0ZSB0aGUgZWRpdCBkaXN0YW5jZSBtYXRyaXggYW5kXG4gKiBjaG9vc2UgdGhlIHNob3J0ZXN0IHBhdGggdGhyb3VnaCBpdC5cbiAqXG4gKiBDb21wbGV4aXR5OiBPKGwgKiBwKVxuICogICBsOiBUaGUgbGVuZ3RoIG9mIHRoZSBjdXJyZW50IGFycmF5XG4gKiAgIHA6IFRoZSBsZW5ndGggb2YgdGhlIG9sZCBhcnJheVxuICpcbiAqIEBwYXJhbSB7IUFycmF5fSBjdXJyZW50IFRoZSBjdXJyZW50IFwiY2hhbmdlZFwiIGFycmF5IGZvciB3aGljaCB0b1xuICogY2FsY3VsYXRlIHNwbGljZXMuXG4gKiBAcGFyYW0ge251bWJlcn0gY3VycmVudFN0YXJ0IFN0YXJ0aW5nIGluZGV4IGluIHRoZSBgY3VycmVudGAgYXJyYXkgZm9yXG4gKiB3aGljaCBzcGxpY2VzIGFyZSBjYWxjdWxhdGVkLlxuICogQHBhcmFtIHtudW1iZXJ9IGN1cnJlbnRFbmQgRW5kaW5nIGluZGV4IGluIHRoZSBgY3VycmVudGAgYXJyYXkgZm9yXG4gKiB3aGljaCBzcGxpY2VzIGFyZSBjYWxjdWxhdGVkLlxuICogQHBhcmFtIHshQXJyYXl9IG9sZCBUaGUgb3JpZ2luYWwgXCJ1bmNoYW5nZWRcIiBhcnJheSB0byBjb21wYXJlIGBjdXJyZW50YFxuICogYWdhaW5zdCB0byBkZXRlcm1pbmUgc3BsaWNlcy5cbiAqIEBwYXJhbSB7bnVtYmVyfSBvbGRTdGFydCBTdGFydGluZyBpbmRleCBpbiB0aGUgYG9sZGAgYXJyYXkgZm9yXG4gKiB3aGljaCBzcGxpY2VzIGFyZSBjYWxjdWxhdGVkLlxuICogQHBhcmFtIHtudW1iZXJ9IG9sZEVuZCBFbmRpbmcgaW5kZXggaW4gdGhlIGBvbGRgIGFycmF5IGZvclxuICogd2hpY2ggc3BsaWNlcyBhcmUgY2FsY3VsYXRlZC5cbiAqIEByZXR1cm4geyFBcnJheX0gUmV0dXJucyBhbiBhcnJheSBvZiBzcGxpY2UgcmVjb3JkIG9iamVjdHMuIEVhY2ggb2YgdGhlc2VcbiAqIGNvbnRhaW5zOiBgaW5kZXhgIHRoZSBsb2NhdGlvbiB3aGVyZSB0aGUgc3BsaWNlIG9jY3VycmVkOyBgcmVtb3ZlZGBcbiAqIHRoZSBhcnJheSBvZiByZW1vdmVkIGl0ZW1zIGZyb20gdGhpcyBsb2NhdGlvbjsgYGFkZGVkQ291bnRgIHRoZSBudW1iZXJcbiAqIG9mIGl0ZW1zIGFkZGVkIGF0IHRoaXMgbG9jYXRpb24uXG4gKi9cbmZ1bmN0aW9uIGNhbGNTcGxpY2VzKGN1cnJlbnQsIGN1cnJlbnRTdGFydCwgY3VycmVudEVuZCxcbiAgICAgICAgICAgICAgICAgICAgICBvbGQsIG9sZFN0YXJ0LCBvbGRFbmQpIHtcbiAgbGV0IHByZWZpeENvdW50ID0gMDtcbiAgbGV0IHN1ZmZpeENvdW50ID0gMDtcbiAgbGV0IHNwbGljZTtcblxuICBsZXQgbWluTGVuZ3RoID0gTWF0aC5taW4oY3VycmVudEVuZCAtIGN1cnJlbnRTdGFydCwgb2xkRW5kIC0gb2xkU3RhcnQpO1xuICBpZiAoY3VycmVudFN0YXJ0ID09IDAgJiYgb2xkU3RhcnQgPT0gMClcbiAgICBwcmVmaXhDb3VudCA9IHNoYXJlZFByZWZpeChjdXJyZW50LCBvbGQsIG1pbkxlbmd0aCk7XG5cbiAgaWYgKGN1cnJlbnRFbmQgPT0gY3VycmVudC5sZW5ndGggJiYgb2xkRW5kID09IG9sZC5sZW5ndGgpXG4gICAgc3VmZml4Q291bnQgPSBzaGFyZWRTdWZmaXgoY3VycmVudCwgb2xkLCBtaW5MZW5ndGggLSBwcmVmaXhDb3VudCk7XG5cbiAgY3VycmVudFN0YXJ0ICs9IHByZWZpeENvdW50O1xuICBvbGRTdGFydCArPSBwcmVmaXhDb3VudDtcbiAgY3VycmVudEVuZCAtPSBzdWZmaXhDb3VudDtcbiAgb2xkRW5kIC09IHN1ZmZpeENvdW50O1xuXG4gIGlmIChjdXJyZW50RW5kIC0gY3VycmVudFN0YXJ0ID09IDAgJiYgb2xkRW5kIC0gb2xkU3RhcnQgPT0gMClcbiAgICByZXR1cm4gW107XG5cbiAgaWYgKGN1cnJlbnRTdGFydCA9PSBjdXJyZW50RW5kKSB7XG4gICAgc3BsaWNlID0gbmV3U3BsaWNlKGN1cnJlbnRTdGFydCwgW10sIDApO1xuICAgIHdoaWxlIChvbGRTdGFydCA8IG9sZEVuZClcbiAgICAgIHNwbGljZS5yZW1vdmVkLnB1c2gob2xkW29sZFN0YXJ0KytdKTtcblxuICAgIHJldHVybiBbIHNwbGljZSBdO1xuICB9IGVsc2UgaWYgKG9sZFN0YXJ0ID09IG9sZEVuZClcbiAgICByZXR1cm4gWyBuZXdTcGxpY2UoY3VycmVudFN0YXJ0LCBbXSwgY3VycmVudEVuZCAtIGN1cnJlbnRTdGFydCkgXTtcblxuICBsZXQgb3BzID0gc3BsaWNlT3BlcmF0aW9uc0Zyb21FZGl0RGlzdGFuY2VzKFxuICAgICAgY2FsY0VkaXREaXN0YW5jZXMoY3VycmVudCwgY3VycmVudFN0YXJ0LCBjdXJyZW50RW5kLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICBvbGQsIG9sZFN0YXJ0LCBvbGRFbmQpKTtcblxuICBzcGxpY2UgPSB1bmRlZmluZWQ7XG4gIGxldCBzcGxpY2VzID0gW107XG4gIGxldCBpbmRleCA9IGN1cnJlbnRTdGFydDtcbiAgbGV0IG9sZEluZGV4ID0gb2xkU3RhcnQ7XG4gIGZvciAobGV0IGkgPSAwOyBpIDwgb3BzLmxlbmd0aDsgaSsrKSB7XG4gICAgc3dpdGNoKG9wc1tpXSkge1xuICAgICAgY2FzZSBFRElUX0xFQVZFOlxuICAgICAgICBpZiAoc3BsaWNlKSB7XG4gICAgICAgICAgc3BsaWNlcy5wdXNoKHNwbGljZSk7XG4gICAgICAgICAgc3BsaWNlID0gdW5kZWZpbmVkO1xuICAgICAgICB9XG5cbiAgICAgICAgaW5kZXgrKztcbiAgICAgICAgb2xkSW5kZXgrKztcbiAgICAgICAgYnJlYWs7XG4gICAgICBjYXNlIEVESVRfVVBEQVRFOlxuICAgICAgICBpZiAoIXNwbGljZSlcbiAgICAgICAgICBzcGxpY2UgPSBuZXdTcGxpY2UoaW5kZXgsIFtdLCAwKTtcblxuICAgICAgICBzcGxpY2UuYWRkZWRDb3VudCsrO1xuICAgICAgICBpbmRleCsrO1xuXG4gICAgICAgIHNwbGljZS5yZW1vdmVkLnB1c2gob2xkW29sZEluZGV4XSk7XG4gICAgICAgIG9sZEluZGV4Kys7XG4gICAgICAgIGJyZWFrO1xuICAgICAgY2FzZSBFRElUX0FERDpcbiAgICAgICAgaWYgKCFzcGxpY2UpXG4gICAgICAgICAgc3BsaWNlID0gbmV3U3BsaWNlKGluZGV4LCBbXSwgMCk7XG5cbiAgICAgICAgc3BsaWNlLmFkZGVkQ291bnQrKztcbiAgICAgICAgaW5kZXgrKztcbiAgICAgICAgYnJlYWs7XG4gICAgICBjYXNlIEVESVRfREVMRVRFOlxuICAgICAgICBpZiAoIXNwbGljZSlcbiAgICAgICAgICBzcGxpY2UgPSBuZXdTcGxpY2UoaW5kZXgsIFtdLCAwKTtcblxuICAgICAgICBzcGxpY2UucmVtb3ZlZC5wdXNoKG9sZFtvbGRJbmRleF0pO1xuICAgICAgICBvbGRJbmRleCsrO1xuICAgICAgICBicmVhaztcbiAgICB9XG4gIH1cblxuICBpZiAoc3BsaWNlKSB7XG4gICAgc3BsaWNlcy5wdXNoKHNwbGljZSk7XG4gIH1cbiAgcmV0dXJuIHNwbGljZXM7XG59XG5cbmZ1bmN0aW9uIHNoYXJlZFByZWZpeChjdXJyZW50LCBvbGQsIHNlYXJjaExlbmd0aCkge1xuICBmb3IgKGxldCBpID0gMDsgaSA8IHNlYXJjaExlbmd0aDsgaSsrKVxuICAgIGlmICghZXF1YWxzKGN1cnJlbnRbaV0sIG9sZFtpXSkpXG4gICAgICByZXR1cm4gaTtcbiAgcmV0dXJuIHNlYXJjaExlbmd0aDtcbn1cblxuZnVuY3Rpb24gc2hhcmVkU3VmZml4KGN1cnJlbnQsIG9sZCwgc2VhcmNoTGVuZ3RoKSB7XG4gIGxldCBpbmRleDEgPSBjdXJyZW50Lmxlbmd0aDtcbiAgbGV0IGluZGV4MiA9IG9sZC5sZW5ndGg7XG4gIGxldCBjb3VudCA9IDA7XG4gIHdoaWxlIChjb3VudCA8IHNlYXJjaExlbmd0aCAmJiBlcXVhbHMoY3VycmVudFstLWluZGV4MV0sIG9sZFstLWluZGV4Ml0pKVxuICAgIGNvdW50Kys7XG5cbiAgcmV0dXJuIGNvdW50O1xufVxuXG4vKipcbiAqIFJldHVybnMgYW4gYXJyYXkgb2Ygc3BsaWNlIHJlY29yZHMgaW5kaWNhdGluZyB0aGUgbWluaW11bSBlZGl0cyByZXF1aXJlZFxuICogdG8gdHJhbnNmb3JtIHRoZSBgcHJldmlvdXNgIGFycmF5IGludG8gdGhlIGBjdXJyZW50YCBhcnJheS5cbiAqXG4gKiBTcGxpY2UgcmVjb3JkcyBhcmUgb3JkZXJlZCBieSBpbmRleCBhbmQgY29udGFpbiB0aGUgZm9sbG93aW5nIGZpZWxkczpcbiAqIC0gYGluZGV4YDogaW5kZXggd2hlcmUgZWRpdCBzdGFydGVkXG4gKiAtIGByZW1vdmVkYDogYXJyYXkgb2YgcmVtb3ZlZCBpdGVtcyBmcm9tIHRoaXMgaW5kZXhcbiAqIC0gYGFkZGVkQ291bnRgOiBudW1iZXIgb2YgaXRlbXMgYWRkZWQgYXQgdGhpcyBpbmRleFxuICpcbiAqIFRoaXMgZnVuY3Rpb24gaXMgYmFzZWQgb24gdGhlIExldmVuc2h0ZWluIFwibWluaW11bSBlZGl0IGRpc3RhbmNlXCJcbiAqIGFsZ29yaXRobS4gTm90ZSB0aGF0IHVwZGF0ZXMgYXJlIHRyZWF0ZWQgYXMgcmVtb3ZhbCBmb2xsb3dlZCBieSBhZGRpdGlvbi5cbiAqXG4gKiBUaGUgd29yc3QtY2FzZSB0aW1lIGNvbXBsZXhpdHkgb2YgdGhpcyBhbGdvcml0aG0gaXMgYE8obCAqIHApYFxuICogICBsOiBUaGUgbGVuZ3RoIG9mIHRoZSBjdXJyZW50IGFycmF5XG4gKiAgIHA6IFRoZSBsZW5ndGggb2YgdGhlIHByZXZpb3VzIGFycmF5XG4gKlxuICogSG93ZXZlciwgdGhlIHdvcnN0LWNhc2UgY29tcGxleGl0eSBpcyByZWR1Y2VkIGJ5IGFuIGBPKG4pYCBvcHRpbWl6YXRpb25cbiAqIHRvIGRldGVjdCBhbnkgc2hhcmVkIHByZWZpeCAmIHN1ZmZpeCBiZXR3ZWVuIHRoZSB0d28gYXJyYXlzIGFuZCBvbmx5XG4gKiBwZXJmb3JtIHRoZSBtb3JlIGV4cGVuc2l2ZSBtaW5pbXVtIGVkaXQgZGlzdGFuY2UgY2FsY3VsYXRpb24gb3ZlciB0aGVcbiAqIG5vbi1zaGFyZWQgcG9ydGlvbnMgb2YgdGhlIGFycmF5cy5cbiAqXG4gKiBAZnVuY3Rpb25cbiAqIEBwYXJhbSB7IUFycmF5fSBjdXJyZW50IFRoZSBcImNoYW5nZWRcIiBhcnJheSBmb3Igd2hpY2ggc3BsaWNlcyB3aWxsIGJlXG4gKiBjYWxjdWxhdGVkLlxuICogQHBhcmFtIHshQXJyYXl9IHByZXZpb3VzIFRoZSBcInVuY2hhbmdlZFwiIG9yaWdpbmFsIGFycmF5IHRvIGNvbXBhcmVcbiAqIGBjdXJyZW50YCBhZ2FpbnN0IHRvIGRldGVybWluZSB0aGUgc3BsaWNlcy5cbiAqIEByZXR1cm4geyFBcnJheX0gUmV0dXJucyBhbiBhcnJheSBvZiBzcGxpY2UgcmVjb3JkIG9iamVjdHMuIEVhY2ggb2YgdGhlc2VcbiAqIGNvbnRhaW5zOiBgaW5kZXhgIHRoZSBsb2NhdGlvbiB3aGVyZSB0aGUgc3BsaWNlIG9jY3VycmVkOyBgcmVtb3ZlZGBcbiAqIHRoZSBhcnJheSBvZiByZW1vdmVkIGl0ZW1zIGZyb20gdGhpcyBsb2NhdGlvbjsgYGFkZGVkQ291bnRgIHRoZSBudW1iZXJcbiAqIG9mIGl0ZW1zIGFkZGVkIGF0IHRoaXMgbG9jYXRpb24uXG4gKi9cbmV4cG9ydCBmdW5jdGlvbiBjYWxjdWxhdGVTcGxpY2VzKGN1cnJlbnQsIHByZXZpb3VzKSB7XG4gIHJldHVybiBjYWxjU3BsaWNlcyhjdXJyZW50LCAwLCBjdXJyZW50Lmxlbmd0aCwgcHJldmlvdXMsIDAsXG4gICAgICAgICAgICAgICAgICAgICAgICAgIHByZXZpb3VzLmxlbmd0aCk7XG59XG5cbmZ1bmN0aW9uIGVxdWFscyhjdXJyZW50VmFsdWUsIHByZXZpb3VzVmFsdWUpIHtcbiAgcmV0dXJuIGN1cnJlbnRWYWx1ZSA9PT0gcHJldmlvdXNWYWx1ZTtcbn1cbiIsImltcG9ydCB7IGNzcyB9IGZyb20gJy4uL2Jhc2UtZWxlbWVudCdcblxuZXhwb3J0IGNvbnN0IEZvcm1TaGFyZWRTdHlsZSA9IGNzc2BcblxuICAqIHtcbiAgICBib3gtc2l6aW5nOiBib3JkZXItYm94O1xuICB9XG5cbiAgOmhvc3Qge1xuICAgIGRpc3BsYXk6YmxvY2s7XG4gICAgd2lkdGg6IDEwMCU7XG4gIH1cblxuICBjdXN0b20tYWNjb3JkaW9ue1xuICAgIHdpZHRoOiAxMDAlO1xuICAgIGJhY2tncm91bmQ6IHZhcigtLXByaW1hcnktYmFja2dyb3VuZC1jb2xvcik7XG4gIH1cblxuICBjdXN0b20tYWNjb3JkaW9uOm5vdCg6bGFzdC1vZi10eXBlKXtcbiAgICBib3JkZXItYm90dG9tOiAxcHggc29saWQgdmFyKC0tZGl2aWRlci1jb2xvcik7XG4gIH1cblxuICBjdXN0b20tYWNjb3JkaW9uOmZpcnN0LW9mLXR5cGV7XG4gICAgYm9yZGVyLXRvcC1sZWZ0LXJhZGl1czogNXB4O1xuICAgIGJvcmRlci10b3AtcmlnaHQtcmFkaXVzOiA1cHg7XG4gIH1cblxuICBjdXN0b20tYWNjb3JkaW9uOmxhc3Qtb2YtdHlwZSB7XG4gICAgYm9yZGVyLWJvdHRvbS1sZWZ0LXJhZGl1czogNXB4O1xuICAgIGJvcmRlci1ib3R0b20tcmlnaHQtcmFkaXVzOiA1cHg7XG4gIH1cblxuXG5cbiAgY3VzdG9tLWFjY29yZGlvbi5hY3RpdmUsIGN1c3RvbS1hY2NvcmRpb246aG92ZXIge1xuICAgIGJvcmRlci1ib3R0b206IG5vbmU7XG4gIH1cblxuXG4gIC8qcGFwZXItaW5wdXQscGFwZXItZHJvcGRvd24tbWVudSwgcGFwZXItdGV4dGFyZWF7XG4gICAgLS1wYXBlci1pbnB1dC1jb250YWluZXItZm9jdXMtY29sb3I6IHZhciggLS1hcHAtcHJpbWFyeS1jb2xvcik7XG4gIH0qL1xuXG4gIHBhcGVyLWlucHV0LCBwYXBlci1kcm9wZG93bi1tZW51IHtcbiAgICB3aWR0aDogNDUlO1xuICB9XG5cbiAgZm9ybSB7XG4gICAgZGlzcGxheTogZmxleDtcbiAgICBmbGV4LWRpcmVjdGlvbjogcm93O1xuICAgIGZsZXgtd3JhcDogd3JhcDtcbiAgICBhbGlnbi1pdGVtczogY2VudGVyO1xuICAgIGFsaWduLWNvbnRlbnQ6IGNlbnRlcjtcbiAgICBqdXN0aWZ5LWNvbnRlbnQ6IHNwYWNlLWJldHdlZW47XG4gICAgcGFkZGluZzogMCAyNXB4IDEyLjVweDtcbiAgICBoZWlnaHQ6IDEwMCU7XG4gICAgd2lkdGg6IGF1dG87XG4gICAgLXdlYmtpdC1vdmVyZmxvdy1zY3JvbGxpbmc6IHRvdWNoO1xuICB9XG5cbiAgcGFwZXItdGV4dGFyZWF7XG4gICAgd2lkdGg6IGF1dG87XG4gICAgZmxleC1ncm93OiAxO1xuICAgIG1heC13aWR0aDogMTAwJTtcbiAgICB3aWR0aDogOTAlO1xuICB9XG5cbiAgY3VzdG9tLXJhZGlvLWdyb3Vwe1xuICAgIHdpZHRoOiAxMDAlO1xuICB9XG5cbiAgLmgtaGFja3tcbiAgICBmbGV4OiAwIDEgMjUlO1xuICAgIG1pbi13aWR0aDogMDtcbiAgfVxuXG5cbiAgLmgtbGF5b3V0IHtcbiAgICBmbGV4OiAwIDEgNDUlO1xuICAgIG1pbi13aWR0aDogMDtcbiAgICBiYWNrZ3JvdW5kOiBibHVlO1xuICB9XG5cbiAgLypcbiAgcGFwZXItaW5wdXQ6bnRoLWNoaWxkKG4rMSksIHBhcGVyLWRyb3Bkb3duLW1lbnU6bnRoLWNoaWxkKG4rMSkge1xuICAgIG1hcmdpbi1sZWZ0OjQuNSU7XG4gIH0qL1xuXG4gIC5jb250cm9scyB7XG4gICAgZGlzcGxheTogYmxvY2s7XG4gICAgd2lkdGg6IDEwMCU7XG4gICAgdGV4dC1hbGlnbjogY2VudGVyO1xuICAgIG1hcmdpbi10b3A6IDI1cHg7XG4gIH1cblxuICAuY29udHJvbHMgYnV0dG9ue1xuICAgIHdpZHRoOjI1JTtcbiAgICBtYXJnaW46YXV0bztcbiAgICBwYWRkaW5nLXRvcDoxLjVlbTtcbiAgICBib3JkZXItcmFkaXVzOiA4cHg7XG4gIH1cblxuICBzcGFuIHtcbiAgICB3aWR0aDogMjRweDtcbiAgICBoZWlnaHQ6IDI0cHg7XG4gIH1cblxuICAuY29udGFjdG9ze1xuICAgIHdpZHRoOiA3NSU7XG4gICAgbWFyZ2luOiAxMHB4IGF1dG87XG4gICAgYm94LXNoYWRvdzogdmFyKC0tc2hhZG93LWVsZXZhdGlvbi00ZHBfLV9ib3gtc2hhZG93KTtcbiAgICBtaW4taGVpZ2h0OiAwO1xuICAgIGJvcmRlci1yYWRpdXM6IDVweDtcbiAgfVxuXG4gIC5jb250YWN0b3MgZGl2e1xuICAgIGhlaWdodDogNDBweDtcbiAgICBiYWNrZ3JvdW5kOiB2YXIoLS1zZWNvbmRhcnktYmFja2dyb3VuZC1jb2xvcik7XG4gIH1cblxuICAuY29udGFjdG9zIGRpdjpmaXJzdC1vZi10eXBle1xuICAgIGJvcmRlci10b3AtbGVmdC1yYWRpdXM6IDVweDtcbiAgICBib3JkZXItdG9wLXJpZ2h0LXJhZGl1czogNXB4O1xuICB9XG5cbiAgLmNvbnRhY3RvcyBkaXY6bGFzdC1vZi10eXBle1xuICAgIGJvcmRlci1ib3R0b20tbGVmdC1yYWRpdXM6IDVweDtcbiAgICBib3JkZXItYm90dG9tLXJpZ2h0LXJhZGl1czogNXB4O1xuICB9XG5cbiAgLmNvbnRhY3RvcyBkaXY6bm90KDpsYXN0LW9mLXR5cGUpe1xuICAgIGJvcmRlci1ib3R0b206IDFweCBzb2xpZCB2YXIoLS1kaXZpZGVyLWNvbG9yKTtcbiAgfVxuXG4gIC5jb250YWN0b3MgZGl2OmhvdmVye1xuICAgIGJveC1zaGFkb3c6IHZhcigtLXNoYWRvdy1lbGV2YXRpb24tNGRwXy1fYm94LXNoYWRvdyk7XG4gICAgYmFja2dyb3VuZC1jb2xvcjp3aGl0ZTtcbiAgfVxuXG4gIC5jb250YWN0b3MgZGl2IGJ1dHRvbntcbiAgICBib3gtc2hhZG93OiB2YXIoLS1zaGFkb3ctZWxldmF0aW9uLTJkcF8tX2JveC1zaGFkb3cpO1xuICAgIGZvbnQtc2l6ZTogMC44ZW07XG4gICAgYm9yZGVyLXJhZGl1czogMTVweDtcbiAgICBoZWlnaHQ6IDIwcHg7XG4gICAgd2lkdGg6IDIwcHg7XG4gIH1cblxuICBsYWJlbCB7XG4gICAgcGFkZGluZzogOHB4O1xuICAgIGxpbmUtaGVpZ2h0OiAxLjc0O1xuICAgIGRpc3BsYXk6IGlubGluZS1ibG9jaztcbiAgICB3aWR0aDogYXV0bztcbiAgfVxuXG4gIGJ1dHRvbiB7XG4gICAgZmxvYXQ6IHJpZ2h0O1xuICAgIG1hcmdpbjogMTBweDtcbiAgICBib3gtc2hhZG93OiB2YXIoLS1zaGFkb3ctZWxldmF0aW9uLTJkcF8tX2JveC1zaGFkb3cpO1xuICB9XG5cbiAgYnV0dG9uOmhvdmVye1xuICAgIGNvbG9yOiB2YXIoLS1wcmltYXJ5LXRleHQtY29sb3IpO1xuICB9XG5cbiAgLnByaW1hcnkge1xuICAgIGJhY2tncm91bmQtY29sb3I6dmFyKC0tZGFyay1wcmltYXJ5LWNvbG9yKTtcbiAgICBjb2xvcjp3aGl0ZTtcbiAgICBmb250LXdlaWdodDogNjAwO1xuICB9XG5cbiAgLnByaW1hcnkgc3BhbiBzdmd7XG4gICAgZmlsbDp3aGl0ZTtcbiAgfVxuXG4gIC5oaWRkZW57XG4gICAgZGlzcGxheTogbm9uZTtcbiAgfVxuXG4gIEBtZWRpYSAobWF4LXdpZHRoOjg0MHB4KXtcbiAgICBmb3JtIHtcbiAgICAgIGZsZXgtZGlyZWN0aW9uOiBjb2x1bW47XG4gICAgfVxuXG4gICAgcGFwZXItaW5wdXQsIHBhcGVyLWRyb3Bkb3duLW1lbnUsIGN1c3RvbS1yYWRpby1ncm91cCB7XG4gICAgICBmbGV4OiAxO1xuICAgICAgd2lkdGg6IDkwJTtcbiAgICAgIG1heC13aWR0aDogOTAlO1xuICAgIH1cblxuICAgIC5jb250YWN0b3N7XG4gICAgICB3aWR0aDogMTAwJTtcbiAgICB9XG4gIH1cbiAgYDtcblxuZXhwb3J0IGNvbnN0IFNoYXJlZFN0eWxlcyA9IGNzc2BcbiAgaDEsaDIsaDMsaDQsaDUsaDYge1xuICAgIGZvbnQtZmFtaWx5OiAnSm9zZWZpbiBTbGFiJywgc2VyaWY7XG4gICAgd2lkdGg6IDEwMCU7XG4gICAgdGV4dC1hbGlnbjogY2VudGVyO1xuICAgIG1hcmdpbjogMCBhdXRvIDEwcHggYXV0bztcbiAgICBwYWRkaW5nOiAwO1xuICAgIGZvbnQtd2VpZ2h0OiAxMDA7XG4gICAgY29sb3I6IHZhcigtLWRhcmstcHJpbWFyeS1jb2xvcik7XG4gICAgcGFkZGluZzogOHB4O1xuICB9XG5cbiAgaDEgeyBmb250LXNpemU6IDZlbTsgfVxuICBoMiB7IGZvbnQtc2l6ZTogMy43NWVtOyB9XG4gIGgzIHsgZm9udC1zaXplOiAzZW07IH1cbiAgaDQgeyBmb250LXNpemU6IDIuMTI1ZW07IH1cbiAgaDUgeyBmb250LXNpemU6IDEuNWVtOyB9XG4gIGg2IHsgZm9udC1zaXplOiAxLjI1ZW07IH1cbiAgLnN1YnRpdGxlLTEgeyBmb250LXNpemU6IDFlbTsgfVxuICAuc3VidGl0bGUtMiB7IGZvbnQtc2l6ZTogMC44NzVlbTsgfVxuXG4gIDpob3N0IHtcbiAgICBkaXNwbGF5OiBibG9jaztcbiAgICBib3gtc2l6aW5nOiBib3JkZXItYm94O1xuICB9XG5cbiAgKiB7XG4gICAgICBib3gtc2l6aW5nOiBib3JkZXItYm94O1xuICB9XG5cbiAgc2VjdGlvbiB7XG4gICAgcGFkZGluZzogMjRweDtcbiAgICBiYWNrZ3JvdW5kOiBjb250ZW50LWJveDtcbiAgICB0ZXh0LWFsaWduOiBqdXN0aWZ5O1xuICAgIGRpc3BsYXk6IGZsZXg7XG4gICAgZmxleC1kaXJlY3Rpb246IHJvdztcbiAgICBmbGV4LXdyYXA6IHdyYXA7XG4gICAganVzdGlmeS1jb250ZW50OiBzcGFjZS1hcm91bmQ7XG4gICAgbWFyZ2luOiBhdXRvO1xuICAgfVxuXG4gIHNlY3Rpb24gPiAqIHtcbiAgICBtYXJnaW4tcmlnaHQ6IGF1dG87XG4gICAgbWFyZ2luLWxlZnQ6IGF1dG87XG4gIH1cblxuICBAbWVkaWEgKG1heC13aWR0aDogODQwcHgpIHtcblxuICAgIGgxIHtcbiAgICAgIGZvbnQtc2l6ZTogNS42MjVlbTtcbiAgICB9XG5cbiAgICBoMiB7XG4gICAgICBmb250LXNpemU6IDMuNzUwZW07XG4gICAgfVxuXG4gICAgc2VjdGlvbiB7XG4gICAgICBtYXgtd2lkdGg6IDEwMHZ3O1xuICAgIH1cblxuICAgIHNlY3Rpb24gPiAqIHtcbiAgICAgIHdpZHRoOiA4MCU7XG4gICAgICBtYXJnaW46YXV0bztcbiAgICB9XG4gIH1cblxuICBAbWVkaWEgKG1heC13aWR0aDogNDYwcHgpe1xuXG4gICAgc2VjdGlvbiB7XG4gICAgICBtYXgtd2lkdGg6IDk1dnc7XG4gICAgICBtYXJnaW46IGF1dG87XG4gICAgICBwYWRkaW5nOiAwO1xuICAgIH1cblxuICB9XG5cbiAgQG1lZGlhIHNjcmVlbiBhbmQgKG1heC13aWR0aDo0NjApe1xuXG4gICAgc2VjdGlvbiwgc2VjdGlvbiA+ICoge1xuICAgICAgbWF4LXdpZHRoOiA0NjBweDtcbiAgICB9XG5cbiAgfVxuXG4gIC5jaXJjbGUge1xuICAgIGRpc3BsYXk6IGJsb2NrO1xuICAgIHdpZHRoOiA2NHB4O1xuICAgIGhlaWdodDogNjRweDtcbiAgICBtYXJnaW46IDAgYXV0bztcbiAgICB0ZXh0LWFsaWduOiBjZW50ZXI7XG4gICAgYm9yZGVyLXJhZGl1czogNTAlO1xuICAgIGJhY2tncm91bmQ6IHZhcigtLXNlY29uZGFyeS1iYWNrZ3JvdW5kLWNvbG9yKTtcbiAgICBjb2xvcjogdmFyKC0tYWNjZW50LWNvbG9yKTtcbiAgICBmb250LXNpemU6IDMwcHg7XG4gICAgbGluZS1oZWlnaHQ6IDY0cHg7XG4gIH1cbiAgYDtcblxuZXhwb3J0IGNvbnN0IFByaW50YWJsZU9yZGVyU3R5bGUgPSBjc3NgXG5cbiAgKiB7IGJveC1zaXppbmc6IGJvcmRlci1ib3g7IH1cblxuICA6aG9zdHtcbiAgICBkaXNwbGF5OiBibG9jaztcbiAgICB3aWR0aDogOTUlO1xuICAgIGhlaWdodDogYXV0bztcbiAgICBtYXJnaW46IGF1dG87XG4gICAgbWFyZ2luLWJvdHRvbTogMTIuNXB4O1xuICB9XG5cbiAgbWFpbiB7XG4gICAgYmFja2dyb3VuZDp3aGl0ZTtcbiAgICB3aWR0aDogMTAwJTtcbiAgICBoZWlnaHQ6IDEwMCU7XG4gICAgcG9zaXRpb246IHJlbGF0aXZlO1xuICAgIHBhZGRpbmc6IDEwcHg7XG4gICAgYm94LXNoYWRvdzogdmFyKC0tc2hhZG93LWVsZXZhdGlvbi00ZHBfLV9ib3gtc2hhZG93KTtcbiAgfVxuXG4gIHNwYW4ge1xuICAgIHdpZHRoOiAxNTBweDtcbiAgICBoZWlnaHQ6IDEwMHB4O1xuICAgIHBvc2l0aW9uOiBhYnNvbHV0ZTtcbiAgICB0b3A6IDA7XG4gICAgbGVmdDogMDtcbiAgfVxuICAuY29kaWdvIHtcbiAgICBwb3NpdGlvbjogYWJzb2x1dGU7XG4gICAgdG9wOiAyMHB4O1xuICAgIHJpZ2h0OiA0MHB4O1xuICAgIGNvbG9yOiByZWQ7XG4gICAgZm9udC1zaXplOiAxLjc1ZW07XG4gICAgZm9udC13ZWlnaHQ6IDkwMDtcbiAgfVxuXG4gIC5pbmZvcm1hdGlvbiB7XG4gICAgd2lkdGg6IDEwMCU7XG4gICAgZGlzcGxheTogZmxleDtcbiAgICBwYWRkaW5nLXRvcDogOHB4O1xuICB9XG5cbiAgLmluZm9ybWF0aW9uIGxhYmVse1xuICAgIGZvbnQtc2l6ZTogMTRweDtcbiAgICB0ZXh0LWFsaWduOiBsZWZ0ICFpbXBvcnRhbnQ7XG4gICAgcGFkZGluZy10b3A6IDIwcHg7XG4gICAgZGlzcGxheTogYmxvY2s7XG4gICAgZm9udC1mYW1pbHk6ICdKb3NlZmluIFNhbnMnLCBzYW5zLXNlcmlmO1xuICAgIGZvbnQtd2VpZ2h0OiBib2xkO1xuICB9XG5cbiAgLmluZm9ybWF0aW9uIHBhcGVyLWlucHV0LCAuaW5mb3JtYXRpb24gbGFiZWx7XG4gICAgd2lkdGg6IDMwJTtcbiAgICBtYXJnaW4tbGVmdDogYXV0bztcbiAgICB0ZXh0LWFsaWduOmNlbnRlcjtcbiAgfVxuXG4gIC5pbmZvcm1hdGlvbiBwYXBlci1pbnB1dDpudGgtY2hpbGQobisyKSwuaW5mb3JtYXRpb24gbGFiZWw6bnRoLWNoaWxkKG4rMil7XG4gICAgd2lkdGg6IDMwJTtcbiAgfVxuXG4gIGRpdiA+IHAge1xuICBtYXJnaW46IDA7XG4gIHBhZGRpbmc6IDA7XG4gIGZvbnQtc2l6ZTogMTBweDtcbiAgdGV4dC1hbGlnbjogY2VudGVyO1xuICB9XG5cbiAgcCA+IHN0cm9uZ3tcbiAgICBwYWRkaW5nOiAwIDZweCAwIDJweDtcbiAgfVxuXG4gIGg0e1xuICAgIHBvc2l0aW9uOiBhYnNvbHV0ZTtcbiAgICB0b3A6IDA7XG4gICAgbGVmdDogMjVweDtcbiAgICBtYXJnaW46IDA7XG4gICAgZm9udC1zaXplOiAxNnB4O1xuICAgIGZvbnQtZmFtaWx5OnZhcigtLWFwcC1mb250LWZhbWlseSk7XG4gIH1cblxuICBAbWVkaWEgcHJpbnR7XG4gICAgbWFpbiB7IGJveC1zaGFkb3c6IDAgMCAwIDAgdHJhbnNwYXJlbnQ7IH1cbiAgfWA7XG5cbmV4cG9ydCBjb25zdCBPcHRpb25TdHlsZSA9IGNzc2BcbiAgOmhvc3Qge1xuICAgIGRpc3BsYXk6YmxvY2s7XG4gICAgcG9zaXRpb246cmVsYXRpdmU7XG4gICAgd2lkdGg6IDc1JTtcbiAgICBib3JkZXItcmFkaXVzOiA1cHg7XG4gICAgYmFja2dyb3VuZDogdmFyKC0tbGlnaHQtc2Vjb25kYXJ5LWNvbG9yKTtcbiAgICAvKmJhY2tncm91bmQ6IHZhcigtLXNlY29uZGFyeS1iYWNrZ3JvdW5kLWNvbG9yKTsgIzAwNTY2MlxuICAgIGJhY2tncm91bmQ6IHZhcigtLXNlY29uZGFyeS1iYWNrZ3JvdW5kLWNvbG9yKTsqL1xuICAgIG1hcmdpbjogMjVweCBhdXRvIDEyLjVweCBhdXRvO1xuICAgIHBhZGRpbmc6IDEyLjVweCAwO1xuICAgIGJveC1zaGFkb3c6IHZhcigtLXNoYWRvdy1ib3gtNGRwLWN1c3RvbSk7XG4gICAgdHJhbnNpdGlvbjogdHJhbnNmb3JtIDI1MG1zLCBib3gtc2hhZG93IDUwMG1zO1xuICB9XG5cbiAgOmhvc3QoOmhvdmVyKXtcbiAgICBib3gtc2hhZG93OiB2YXIoLS1zaGFkb3ctYm94LThkcC1jdXN0b20pO1xuICAgIHRyYW5zZm9ybTogdHJhbnNsYXRlWSgtNXB4KTtcbiAgfVxuXG4gIDpob3N0KDpob3ZlcltzZWxlY3RlZD1cInRydWVcIl0pIHtcbiAgICB0cmFuc2Zvcm06IG5vbmU7XG4gIH1cblxuICBAbWVkaWEgKG1heC13aWR0aDo4NDBweCl7XG5cbiAgICA6aG9zdCB7XG4gICAgICBtYXJnaW46IDEyLjVweCBhdXRvO1xuICAgICAgd2lkdGg6IDk3LjUlO1xuICAgIH1cbiAgfVxuXG4gIGJ1dHRvbiB7XG4gICAgYmFja2dyb3VuZC1jb2xvcjogIzAyOTE5MjtcbiAgICBib3JkZXItcmFkaXVzOiA1MHB4O1xuICB9XG5cbiAgLnN1Ym1pdC1idG4sIC5jYW5jZWwtYnRue1xuICAgIGJhY2tncm91bmQtY29sb3I6IHZhcigtLWRhcmstcHJpbWFyeS1jb2xvcik7XG4gICAgYm9yZGVyOiAxcHggc29saWQgdmFyKC0tZGFyay1wcmltYXJ5LWNvbG9yKTtcbiAgICBjb2xvcjogd2hpdGU7XG4gICAgZGlzcGxheTogbm9uZTtcbiAgICB3aWR0aDogMTgwcHg7XG4gICAgbWFyZ2luOiBhdXRvO1xuICAgIGZvbnQtc2l6ZTogMS41ZW07XG4gICAgZm9udC13ZWlnaHQ6IGJvbGQ7XG4gICAgbGluZS1oZWlnaHQ6IDEuMjU7XG4gICAgdmVydGljYWwtYWxpZ246IHRvcDtcbiAgfVxuXG4gIC5jYW5jZWwtYnRuIHtcbiAgICBiYWNrZ3JvdW5kOiB3aGl0ZTtcbiAgICBkaXNwbGF5OiBpbmxpbmUtYmxvY2s7XG4gICAgY29sb3I6IHZhcigtLWRhcmstcHJpbWFyeS1jb2xvcik7XG4gICAgd2lkdGg6YXV0bztcbiAgfVxuXG4gIC5jYW5jZWwtYnRuIHNwYW4sIC5zdWJtaXQtYnRuIHNwYW57XG4gICAgZmlsbDogdmFyKC0tZGFyay1wcmltYXJ5LWNvbG9yKTtcbiAgICBwYWRkaW5nOiAwIDRweDtcbiAgICB2ZXJ0aWNhbC1hbGlnbjogdGV4dC1ib3R0b207XG4gICAgZGlzcGxheTogaW5saW5lLWJsb2NrO1xuICB9XG5cbiAgLnN1Ym1pdC1idG4gc3BhbiB7IGZpbGw6IHZhcigtLXRleHQtcHJpbWFyeS1jb2xvcik7IH1cblxuICBzZWN0aW9uIHtcbiAgICBwb3NpdGlvbjogcmVsYXRpdmU7XG4gICAgei1pbmRleDogMTA7XG4gICAgcGFkZGluZzogMTIuNXB4O1xuICAgIG1hcmdpbi1sZWZ0OiAyNSU7XG4gICAgd2lkdGg6IDYwJTtcbiAgfVxuXG4gIHNlY3Rpb24gPiAqIHtcbiAgICB3aWR0aDogMTAwJTtcbiAgICB0ZXh0LWFsaWduOmxlZnQ7XG4gIH1cblxuICBzZWN0aW9uID4gKjpub3QoZGl2KXtcbiAgICBkaXNwbGF5Om5vbmU7XG4gIH1cblxuICBzZWN0aW9uLmFjdGl2ZSBsYWJlbHtcbiAgICBkaXNwbGF5Om5vbmU7XG4gIH1cblxuICBzZWN0aW9uLmFjdGl2ZSBjdXN0b20tYWNjb3JkaW9uIGxhYmVse1xuICAgIGRpc3BsYXk6YmxvY2s7XG4gIH1cblxuICBzZWN0aW9uLmFjdGl2ZSAqOm5vdChsYWJlbCl7XG4gICAgZGlzcGxheTogYmxvY2s7XG4gIH1cblxuICBzZWN0aW9uLmFjdGl2ZSB7XG4gICAgYm9yZGVyLXRvcDogMi41cHggc29saWQgdmFyKC0tZGFyay1wcmltYXJ5LWNvbG9yKTtcbiAgICBoZWlnaHQ6IGF1dG87XG4gICAgd2lkdGg6IDc1JTtcbiAgICBtYXJnaW4tbGVmdDogNTAlO1xuICAgIG1hcmdpbi10b3A6IDI1cHg7XG4gICAgbWFyZ2luLWJvdHRvbTogMjVweDtcbiAgICB0cmFuc2Zvcm06IHRyYW5zbGF0ZVgoLTUwJSk7XG4gICAgYm94LXNoYWRvdzogdmFyKC0tc2hhZG93LWVsZXZhdGlvbi0zZHBfLV9ib3gtc2hhZG93KTtcbiAgICBiYWNrZ3JvdW5kOiB2YXIoLS1wcmltYXJ5LWJhY2tncm91bmQtY29sb3IpO1xuICAgIGJvcmRlci1yYWRpdXM6IDVweDtcbiAgICB0cmFuc2l0aW9uLXByb3BlcnR5OiB0cmFuc2Zvcm0sIGJhY2tncm91bmQ7XG4gICAgdHJhbnNpdGlvbjogYWxsIGxpbmVhciAyNTBtcztcbiAgfVxuXG4gIC8qXG4gIGxhYmVsLmluZGV4OmhvdmVye1xuICAgIHRyYW5zZm9ybTogcm90YXRlM2QoMSwwLDAsNjBkZWcpO1xuICB9Ki9cblxuICBzZWN0aW9uID4gZGl2ICosIHNlY3Rpb24gPiBkaXYge1xuICAgIGN1cnNvcjogcG9pbnRlcjtcbiAgICBjb2xvcjogdmFyKC0tc2Vjb25kYXJ5LXRleHQtY29sb3IpO1xuICB9XG5cbiAgc2VjdGlvbiA+IGRpdi5hY3RpdmUge1xuICAgIGNvbG9yOiB2YXIoLS1hY2NlbnQtY29sb3IpO1xuICB9XG5cbiAgbGFiZWwuaW5kZXgsLmNsb3Nle1xuICAgIGJhY2tncm91bmQ6IHZhcigtLXNlY29uZGFyeS10ZXh0LWNvbG9yKTtcbiAgICBjb2xvcjogd2hpdGU7XG4gICAgYm9yZGVyLXJhZGl1czogNTBweDtcbiAgICB3aWR0aDogNDBweDtcbiAgICBoZWlnaHQ6IDQwcHg7XG4gICAgZm9udC1zaXplOiAxLjVlbTtcbiAgICB2ZXJ0aWNhbC1hbGlnbjogdG9wO1xuICAgIG91dGxpbmU6IG5vbmU7XG4gICAgYm9yZGVyOiBub25lO1xuICAgIGRpc3BsYXk6IGlubGluZS1ibG9jaztcbiAgICB0ZXh0LWFsaWduOiBjZW50ZXI7XG4gICAgYm94LXNoYWRvdzogdmFyKC0tc2hhZG93LWVsZXZhdGlvbi0yZHBfLV9ib3gtc2hhZG93KTtcbiAgICBsaW5lLWhlaWdodDogMjtcbiAgICBwb3NpdGlvbjogcmVsYXRpdmU7XG4gICAgei1pbmRleDogMTA7XG4gIH1cblxuICBsYWJlbC5pbmRleDphZnRlcntcbiAgICBjb250ZW50IDogXCJcIjtcbiAgICBkaXNwbGF5OiBibG9jaztcbiAgICBwb3NpdGlvbjogYWJzb2x1dGU7XG4gICAgbGVmdDogMTlweDtcbiAgICBoZWlnaHQ6IDQ4cHg7XG4gICAgd2lkdGg6IDJweDtcbiAgICBib3JkZXItcmFkaXVzOiA1cHg7XG4gICAgYmFja2dyb3VuZDogaW5oZXJpdDtcbiAgICB6LWluZGV4OiA1O1xuICB9XG5cbiAgLnZpc2l0ZWQgPiBsYWJlbC5pbmRleCwgLnZpc2l0ZWQgYnV0dG9uLmNsb3NlIHtcbiAgICBiYWNrZ3JvdW5kOiB2YXIoLS1hY2NlbnQtY29sb3IpO1xuICB9XG5cbiAgLnZpc2l0ZWR7XG4gICAgY29sb3I6IHZhcigtLWFjY2VudC1jb2xvcik7XG4gIH1cblxuICBsYWJlbC5pbmRleC5sYXN0OmFmdGVye1xuICAgIGNvbnRlbnQ6IG5vbmU7XG4gIH1cblxuICBsYWJlbCB7XG4gICAgZGlzcGxheTogaW5saW5lLWJsb2NrO1xuICB9XG5cbiAgbGFiZWwuaW5kZXggKyBsYWJlbCB7XG4gICAgZm9udC1zaXplOiAyLjEyNWVtO1xuICAgIGZvbnQtZmFtaWx5OiAnSm9zZWZpbiBTYW5zJywgc2Fucy1zZXJpZjtcbiAgICBwYWRkaW5nOiAwIDE2cHg7XG4gICAgY29sb3I6IGluaGVyaXQ7XG4gICAgZm9udC13ZWlnaHQ6IDIwMDtcbiAgfVxuXG5cbiAgYnV0dG9uLmNsb3NlIHtcbiAgICBtYXJnaW4tbGVmdDo5MCU7XG4gICAgZmlsbDogd2hpdGU7XG4gICAgcGFkZGluZzogMnB4IDhweDtcbiAgICBkaXNwbGF5Om5vbmU7XG4gIH1cblxuICBzcGFuIHsgd2lkdGg6IDI0cHg7IGhlaWdodDogMjRweDsgfVxuXG4gIEBtZWRpYSAobWF4LXdpZHRoOjg0MHB4KXtcblxuICAgIHNlY3Rpb24uYWN0aXZle1xuICAgICAgd2lkdGg6IDkwJTtcbiAgICB9XG5cbiAgICBzZWN0aW9uIHtcbiAgICAgIHBhZGRpbmc6IDVweDtcbiAgICAgIHBvc2l0aW9uOiByZWxhdGl2ZTtcbiAgICAgIHotaW5kZXg6IDEwO1xuICAgICAgd2lkdGg6IDkyLjUlO1xuICAgICAgdGV4dC1hbGlnbjpjZW50ZXI7XG4gICAgICBtYXJnaW46IDEyLjVweCBhdXRvO1xuICAgIH1cblxuICAgIHNlY3Rpb24gPiAqIHtcbiAgICAgIHRleHQtYWxpZ246bGVmdDtcbiAgICAgIG1hcmdpbjogYXV0bztcbiAgICB9XG5cbiAgICBidXR0b24uY2xvc2Uge1xuICAgICAgbWFyZ2luLWxlZnQ6IDg3LjUlO1xuICAgIH1cblxuICAgIGxhYmVsLmluZGV4LC5jbG9zZXtcbiAgICAgIHdpZHRoOiA0NXB4O1xuICAgICAgaGVpZ2h0OiA0NXB4O1xuICAgICAgbGluZS1oZWlnaHQ6IDI7XG4gICAgfVxuICB9YDtcblxuZXhwb3J0IGNvbnN0IEhvc3RFZGl0U3R5bGUgPSBjc3NgXG4gIDpob3N0KFtlZGl0LWZvcm1dKXtcbiAgICB3aWR0aDogODV2dztcbiAgfVxuICA6aG9zdChbZWRpdC1mb3JtXSkgcGFwZXItYnV0dG9ue1xuICAgIGRpc3BsYXk6bm9uZTtcbiAgfVxuXG4gIDpob3N0KFtlZGl0LWZvcm1dKSBwYXBlci1pbnB1dCwgOmhvc3QoW2VkaXQtZm9ybV0pIC5jb250YWN0b3N7XG4gICAgd2lkdGg6IDQ1JTtcbiAgICBkaXNwbGF5OiBpbmxpbmUtYmxvY2s7XG4gIH1cblxuICA6aG9zdChbZWRpdC1mb3JtXSkgZm9ybSwgOmhvc3QoW2VkaXQtZm9ybV0pIGgxIHtcbiAgICBwYWRkaW5nOiAwO1xuICAgIG1hcmdpbjogMDtcbiAgfVxuYFxuXG5leHBvcnQgY29uc3QgQ3VzdG9tQ2hlY2tib3hTdHlsZSA9IGNzc2BcbiAgKnsgYm94LXNpemluZzogYm9yZGVyLWJveDsgfVxuXG4gIC5jYm94LWNvbnRhaW5lciB7XG4gICAgZGlzcGxheTogaW5saW5lLWJsb2NrO1xuICAgIHBvc2l0aW9uOiByZWxhdGl2ZTtcbiAgICBwYWRkaW5nOiAyLjVweCAwIDAgMzVweDtcbiAgICBtYXJnaW46IDEwcHg7XG4gICAgbWFyZ2luLXRvcDogMDtcbiAgICBjdXJzb3I6IHBvaW50ZXI7XG4gICAgZm9udC1zaXplOiAxLjE0M2VtO1xuICAgIC13ZWJraXQtdXNlci1zZWxlY3Q6IG5vbmU7XG4gICAgLW1vei11c2VyLXNlbGVjdDogbm9uZTtcbiAgICAtbXMtdXNlci1zZWxlY3Q6IG5vbmU7XG4gICAgdXNlci1zZWxlY3Q6IG5vbmU7XG4gICAgY29sb3I6IHZhcigtLXNlY29uZGFyeS10ZXh0LWNvbG9yKTtcbiAgfVxuXG4gIC5jYm94LWNvbnRhaW5lciBpbnB1dCB7XG4gICAgcG9zaXRpb246IGFic29sdXRlO1xuICAgIG9wYWNpdHk6IDA7XG4gICAgY3Vyc29yOiBwb2ludGVyO1xuICAgIGhlaWdodDogMDtcbiAgICB3aWR0aDogMDtcbiAgfVxuXG4gIC5jaGVja21hcmsge1xuICAgIHBvc2l0aW9uOiBhYnNvbHV0ZTtcbiAgICB0b3A6IDA7XG4gICAgbGVmdDogMDtcbiAgICBoZWlnaHQ6IDI1cHg7XG4gICAgd2lkdGg6IDI1cHg7XG4gICAgYm9yZGVyLXJhZGl1czogMi41cHg7XG4gICAgYm9yZGVyOiAycHggc29saWQgdmFyKC0tZGFyay1wcmltYXJ5LWNvbG9yKTtcbiAgICBiYWNrZ3JvdW5kLWNvbG9yOiB2YXIoLS1saWdodC1zZWNvbmRhcnktY29sb3IpO1xuICAgIHRyYW5zaXRpb246IGJhY2tncm91bmQgMC4yNXMgbGluZWFyLCBib3JkZXIgMC4yNSBsaW5lYXI7XG4gIH1cblxuICAuY2JveC1jb250YWluZXI6aG92ZXIgaW5wdXQgfiAuY2hlY2ttYXJrIHtcbiAgICBiYWNrZ3JvdW5kLWNvbG9yOiB2YXIoLS1saWdodC1zZWNvbmRhcnktY29sb3IpO1xuICB9XG5cblxuICAuY2JveC1jb250YWluZXIgaW5wdXQ6Y2hlY2tlZCB+IC5jaGVja21hcmsge1xuICAgIGJhY2tncm91bmQtY29sb3I6IHZhciggLS1kYXJrLXByaW1hcnktY29sb3IpO1xuICAgIGFuaW1hdGlvbjogcmlwcGxlIDAuM3MgbGluZWFyIG5vcm1hbDtcbiAgfVxuXG4gIC5jaGVja21hcms6YWZ0ZXIge1xuICAgIGNvbnRlbnQ6IFwiXCI7XG4gICAgcG9zaXRpb246IGFic29sdXRlO1xuICAgIGRpc3BsYXk6IG5vbmU7XG4gIH1cblxuICAuY2JveC1jb250YWluZXIgaW5wdXQ6Y2hlY2tlZCB+IC5jaGVja21hcms6YWZ0ZXIge1xuICAgIGRpc3BsYXk6IGJsb2NrO1xuICB9XG5cbiAgLmNib3gtY29udGFpbmVyIC5jaGVja21hcms6YWZ0ZXIge1xuICAgIGxlZnQ6IDYuNXB4O1xuICAgIHRvcDogMi41cHg7XG4gICAgd2lkdGg6IDVweDtcbiAgICBoZWlnaHQ6IDEwcHg7XG4gICAgYm9yZGVyOiBzb2xpZCB3aGl0ZTtcbiAgICBib3JkZXItd2lkdGg6IDAgM3B4IDNweCAwO1xuICAgIC13ZWJraXQtdHJhbnNmb3JtOiByb3RhdGUoNDVkZWcpO1xuICAgIC1tcy10cmFuc2Zvcm06IHJvdGF0ZSg0NWRlZyk7XG4gICAgdHJhbnNmb3JtOiByb3RhdGUoNDVkZWcpO1xuICAgIHRyYW5zaXRpb246IGFsbCAyNTBtcyBlYXNlO1xuICB9YDtcblxuZXhwb3J0IGNvbnN0IHBhcGVyRGFya1RoZW1lID0gY3NzYFxuICAuZGFyay10aGVtZSBwYXBlci1pbnB1dCwgLmRhcmstdGhlbWUgcGFwZXItZHJvcGRvd24tbWVudSB7XG4gICAgbWFyZ2luLWJvdHRvbTogMTRweDtcbiAgICAtLXByaW1hcnktdGV4dC1jb2xvcjogI2Y2ZjZmNjtcbiAgICAtLXBhcGVyLWlucHV0LWNvbnRhaW5lci1jb2xvcjogI2ZmZjtcbiAgICAtLXBhcGVyLWlucHV0LWNvbnRhaW5lci1mb2N1cy1jb2xvcjogI2ZmZjtcbiAgICAtLXBhcGVyLWlucHV0LWNvbnRhaW5lci1pbnZhbGlkLWNvbG9yOiByZWQ7XG4gICAgLS1wYXBlci1pbnB1dC1jb250YWluZXItbGFiZWwtZmxvYXRpbmc6ICNmNmY2ZjY7XG4gICAgLS1wYXBlci1pbnB1dC1jb250YWluZXItbGFiZWwtZm9jdXM6ICNmZmY7XG4gICAgLS1wYXBlci1pbnB1dC1jb250YWluZXItbGFiZWwtZmxvYXRpbmcgOiAjZmZmO1xuICAgIC0tcGFwZXItaW5wdXQtY29udGFpbmVyLXVuZGVybGluZS1mb2N1czogI2ZmZjtcbiAgICAtLXBhcGVyLWZvbnQtY2FwdGlvbl8tX2ZvbnQtZmFtaWx5IDogdmFyKC0tYXBwLWZvbnQtZmFtaWx5KTtcbiAgICAtLXByaW1hcnktYmFja2dyb3VuZC1jb2xvcjogdmFyKC0tYXBwLXNlY29uZGFyeS1jb2xvciwgYmxhY2spO1xuICAgIC0tcHJpbWFyeS10ZXh0LWNvbG9yOiAjZmZmO1xuICB9XG5cbiAgcGFwZXItYnV0dG9uIHNwYW4gc3ZnIHtcbiAgICBmaWxsOiB3aGl0ZTtcbiAgfWA7XG5cbmV4cG9ydCBjb25zdCBDb2xsYXBzaWJsZVN0eWxlID0gY3NzYFxuXG46aG9zdHtcbiAgLS1hY2NvcmRpb24tYmFja2dyb3VuZC1jb2xvcjogdmFyKC0tZGFyay1wcmltYXJ5LWNvbG9yKTtcbiAgZGlzcGxheTogYmxvY2s7XG59XG5cbiogeyBib3gtc2l6aW5nOiBib3JkZXItYm94OyB9XG5cbi5hY2NvcmRpb24ge1xuICBiYWNrZ3JvdW5kLWNvbG9yOiB0cmFuc3BhcmVudDtcbiAgY29sb3I6IHZhcigtLWRpc2FibGVkLWNvbG9yKTtcbiAgLypwYWRkaW5nOiAxOHB4IDA7Ki9cbiAgd2lkdGg6IDEwMCU7XG4gIGJvcmRlcjogbm9uZTtcbiAgdGV4dC1hbGlnbjogbGVmdDtcbiAgb3V0bGluZTogbm9uZTtcbiAgZm9udC1zaXplOiAxLjI1ZW07XG4gIHRyYW5zaXRpb246IDAuNXM7XG4gIHBhZGRpbmc6IDhweCAwO1xuICBkaXNwbGF5OiBibG9jaztcbiAgYm9yZGVyLXJhZGl1czogNXB4IDVweCAwIDA7XG59XG5cbi5hY3RpdmUsIC5hY2NvcmRpb246aG92ZXIge1xuICBiYWNrZ3JvdW5kLWNvbG9yOiB2YXIoLS1hY2NvcmRpb24tYmFja2dyb3VuZC1jb2xvcik7XG4gIGNvbG9yOiB3aGl0ZTtcbiAgYm94LXNoYWRvdzogdmFyKC0tc2hhZG93LWVsZXZhdGlvbi02ZHBfLV9ib3gtc2hhZG93KTtcbiAgcG9zaXRpb246IHJlbGF0aXZlO1xuICB6LWluZGV4OiAxMDA7XG59XG5cbi5hY3RpdmUuYWNjb3JkaW9uOmhvdmVyIHtcbiAgYm9yZGVyLXJhZGl1czogNXB4IDVweCAwIDA7XG59XG5cbi5hY2NvcmRpb246aG92ZXIge1xuICBib3JkZXItcmFkaXVzOiA1cHg7XG59XG5cbi5wYW5lbC5jaG9zZW57XG4gIHRyYW5zZm9ybTogc2NhbGVZKDApO1xuICBtYXJnaW46IDA7XG59XG5cbi5wYW5lbC5oaWRlIHtcbiAgbWF4LWhlaWdodDogMDtcbn1cblxuLmFjY29yZGlvbjpob3ZlciBidXR0b24sIC5hY3RpdmUgYnV0dG9ue1xuICBmaWxsOiAjZmZmO1xufVxuXG4uYWNjb3JkaW9uID4gKiB7XG4gIG1hcmdpbi1sZWZ0OiA1JTtcbn1cblxuOmhvc3QoW2NsYXNzPVwiZnVsbCBhY3RpdmVcIl0pIC5wYW5lbCB7XG4gIHBhZGRpbmc6IDhweDtcbiAgZmxleC1kaXJlY3Rpb246IGNvbHVtbjtcbiAgYm94LXNoYWRvdzogdmFyKC0tc2hhZG93LWVsZXZhdGlvbi0yZHBfLV9ib3gtc2hhZG93KTtcbn1cblxuLnBhbmVsIHtcbiAgcGFkZGluZzogMCA1MHB4O1xuICBtYXJnaW46IDVweCBhdXRvO1xuICBiYWNrZ3JvdW5kLWNvbG9yOiB3aGl0ZTtcbiAgbWF4LWhlaWdodDogbWF4LWNvbnRlbnQ7XG4gIHRyYW5zZm9ybTogc2NhbGVZKDEpO1xuICB0cmFuc2l0aW9uOiB0cmFuc2Zvcm0gNTAwbXMgZWFzZTtcbiAgYm94LXNoYWRvdzogdmFyKC0tc2hhZG93LWVsZXZhdGlvbi0yZHBfLV9ib3gtc2hhZG93KTtcbiAgYmFja2dyb3VuZDogdmFyKC0tc2Vjb25kYXJ5LWJhY2tncm91bmQtY29sb3IpO1xuICBib3JkZXItcmFkaXVzOiAwIDAgNXB4IDVweDtcbn1cblxuLmFjY29yZGlvbntcbiAgY3Vyc29yOiBwb2ludGVyO1xufVxuXG4uYWNjb3JkaW9uOmhvdmVyIHNwYW4sLmFjdGl2ZSBzcGFuIHtcbiAgZmlsbDogd2hpdGU7XG59XG5cbi5wYW5lbCA+ICoge1xuICBtYXJnaW46IGF1dG87XG59XG5cbi5oaWRkZW57XG4gIGRpc3BsYXk6IG5vbmU7XG59YDtcblxuZXhwb3J0IGNvbnN0IGNoYXJ0U3R5bGVzID0gY3NzYFxuXG4qIHsgYm94LXNpemluZzogYm9yZGVyLWJveDsgfVxuXG46aG9zdHtcbiAgd2lkdGg6IDk1JTtcbiAgaGVpZ2h0OiBhdXRvO1xuICBwYWRkaW5nOiAyLjVweDtcbiAgY29sb3I6YmxhY2s7XG59XG5cbjpob3N0KC5ncmFwaC1vbmx5KSAuY29udGFpbmVye1xuICBoZWlnaHQ6IGF1dG87XG4gIHBhZGRpbmc6IDA7XG4gIG1hcmdpbjogMDtcbiAgYm94LXNoYWRvdzogbm9uZTtcbn1cblxuOmhvc3QoLmdyYXBoLW9ubHkpIC5jb250YWluZXIgPiBkaXYge1xuICBiYWNrZ3JvdW5kOiB0cmFuc3BhcmVudDtcbiAgYm94LXNoYWRvdzogbm9uZTtcbn1cblxuOmhvc3QoLmdyYXBoLW9ubHkpIGgxIHsgZGlzcGxheTogbm9uZTsgfVxuXG46aG9zdCguZ3JhcGgtb25seTpob3ZlcikgLmNvbnRhaW5lcntcbiAgYm94LXNoYWRvdzogbm9uZTtcbn1cblxuOmhvc3QoOmhvdmVyKSAuY29udGFpbmVye1xuICBib3gtc2hhZG93OiB2YXIoLS1zaGFkb3ctZWxldmF0aW9uLTRkcF8tX2JveC1zaGFkb3cpO1xufVxuXG4uY29udGFpbmVyIHtcbiAgbWFyZ2luOiBhdXRvO1xuICBib3gtc2hhZG93OiB2YXIoLS1zaGFkb3ctZWxldmF0aW9uLTJkcF8tX2JveC1zaGFkb3cpO1xuICB3aWR0aDogMTAwJTtcbiAgaGVpZ2h0OiA0NTBweDtcbiAgcGFkZGluZzogMCAyNXB4O1xuICBib3JkZXItcmFkaXVzOiA1cHg7XG4gIGRpc3BsYXk6IG5vbmU7XG4gIC8qYmFja2dyb3VuZC1jb2xvcjogdmFyKC0tZGFyay1wcmltYXJ5LWNvbG9yKTsqL1xufVxuXG5oMSB7XG4gIHRleHQtYWxpZ246IGNlbnRlcjtcbiAgbWFyZ2luLXRvcDogMDtcbiAgZm9udC13ZWlnaHQ6IDQwMDtcbiAgY29sb3I6IHZhcigtLWRhcmstcHJpbWFyeS1jb2xvcik7XG4gIGZvbnQtZmFtaWx5OiB2YXIoLS1hcHAtZm9udC1mYW1pbHkpO1xuICBtYXJnaW46IDA7XG4gIHBhZGRpbmc6IDhweDtcbiAgZm9udC1zaXplOiAyZW07XG59XG5cbi5jb250YWluZXIgPiBkaXYge1xuICBsZWZ0OiBjYWxjKDUwJSArIC0zMDBweCk7XG4gIGJveC1zaGFkb3c6IHZhcigtLXNoYWRvdy1lbGV2YXRpb24tMmRwXy1fYm94LXNoYWRvdyk7XG4gIGJhY2tncm91bmQ6ICMwMjFCMkI7XG59XG5cbkBtZWRpYSAobWF4LXdpZHRoOjg0MHB4KXtcblxuICAuY29udGFpbmVyID4gZGl2IHtcbiAgICBsZWZ0OiBjYWxjKDUwJSArIC0xNzVweCk7XG4gIH1cblxuICAuY29udGFpbmVye1xuICAgIGhlaWdodDogYXV0bztcbiAgfVxufVxuXG5AbWVkaWEgKG1heC13aWR0aDo0NDBweCl7XG5cbi5jb250YWluZXIgPiBkaXYge1xuICBsZWZ0OiBjYWxjKDUwJSArIC0xNjIuNXB4KTtcbn1cblxufWA7XG5cbmV4cG9ydCBjb25zdCBNYWluU2hhcmVkU3R5bGUgPSBjc3NgXG5cbiAgI21haW4tY29udGVudDo6LXdlYmtpdC1zY3JvbGxiYXIsIC5vdmVyZmxvd2FibGU6Oi13ZWJraXQtc2Nyb2xsYmFyIHtcbiAgICBoZWlnaHQ6IDZweDtcbiAgICB3aWR0aDogNnB4O1xuICAgIGJhY2tncm91bmQtY29sb3I6ICNmZmY7XG4gIH1cblxuICAjbWFpbi1jb250ZW50Ojotd2Via2l0LXNjcm9sbGJhci10aHVtYiwgLm92ZXJmbG93YWJsZTo6LXdlYmtpdC1zY3JvbGxiYXItdGh1bWIge1xuICAgIGJhY2tncm91bmQtY29sb3I6ICMwMDk3QTc7XG4gIH1cblxuICAjbWFpbi1jb250ZW50Ojotd2Via2l0LXNjcm9sbGJhci10cmFjaywgLm92ZXJmbG93YWJsZTo6LXdlYmtpdC1zY3JvbGxiYXItdHJhY2sge1xuICAgIC13ZWJraXQtYm94LXNoYWRvdzogaW5zZXQgMCAwIDZweCByZ2JhKDAsMCwwLDAuMyk7XG4gICAgYmFja2dyb3VuZC1jb2xvcjogI2ZmZjtcbiAgfWBcblxuZXhwb3J0IGNvbnN0IE9yZGVyU3R5bGUgPSBjc3NgXG5cbiAgb3JkZXItYmFzZS1wcmludCB7XG4gICAgYm9yZGVyLXRvcDogMnB4IHNvbGlkIHZhcigtLWRpdmlkZXItY29sb3IpO1xuICAgIG1hcmdpbi10b3A6IDUwcHg7XG4gICAgbWFyZ2luLWJvdHRvbTogMjVweDtcbiAgfVxuXG5cbiAgQG1lZGlhIHByaW50e1xuXG4gICAgKjpub3Qob3JkZXItcHJpbnQtZnVsbCwgb3JkZXItcHJpbnQtZ2xhc3Nlcyl7XG4gICAgICBkaXNwbGF5OiBub25lO1xuICAgIH1cblxuICAgIDpob3N0e1xuICAgICAgYm94LXNoYWRvdzogbm9uZSAhaW1wb3J0YW50O1xuICAgICAgYmFja2dyb3VuZDogd2hpdGU7XG4gICAgfVxuICB9XG5cbiAgQG1lZGlhIChtYXgtd2lkdGg6ODQwcHgpe1xuICAgIDpob3N0e1xuICAgICAgICBtYXgtd2lkdGg6IDk5dnc7XG4gICAgfVxuICB9XG5cbiAgQG1lZGlhIChtYXgtd2lkdGg6NDQwcHgpe1xuICAgIGN1c3RvbS1wcm9ncmVzc2lvbi1iYXIgKyAudW5kZXJsaW5lIHtcbiAgICAgICAgZGlzcGxheTpub25lO1xuICAgIH1cbiAgfVxuXG4gIC5zdWJtaXQtY29udGFpbmVye1xuICAgIHRleHQtYWxpZ246Y2VudGVyO1xuICAgIG1hcmdpbi10b3A6IDEyLjVweDtcbiAgfWA7XG5cbmV4cG9ydCBjb25zdCBEaXZpZGVyU3R5bGUgPSBjc3NgXG4gICAgLnVuZGVybGluZXtcbiAgICAgICAgLS1kaXZpZGVyLWNvbG9yIDogdmFyKC0tZGFyay10aGVtZS1zZWNvbmRhcnktY29sb3IsICNjNmM2YzYpO1xuICAgICAgICBtYXJnaW46IDEyLjVweCBhdXRvO1xuICAgICAgICBoZWlnaHQ6IDFweDtcbiAgICAgICAgd2lkdGg6IDkwJTtcbiAgICAgICAgYmFja2dyb3VuZC1jb2xvcjogdmFyKC0tZGl2aWRlci1jb2xvcik7XG4gICAgfVxuXG4gICAgLnVuZGVybGluZS1kYXJre1xuICAgICAgICBtYXJnaW46IGF1dG87XG4gICAgICAgIGhlaWdodDogMXB4O1xuICAgICAgICB3aWR0aDogOTAlO1xuICAgICAgICBiYWNrZ3JvdW5kLWNvbG9yOiB2YXIoLS1zZWNvbmRhcnktdGV4dC1jb2xvcik7XG4gICAgfVxuXG4gICAgQG1lZGlhIChtYXgtd2lkdGg6IDU0MHB4KXtcbiAgICAgIC51bmRlcmxpbmUuaGlkZXtcbiAgICAgICAgZGlzcGxheTpub25lO1xuICAgICAgfVxuICAgIH1cbmA7XG5cbmV4cG9ydCBjb25zdCBIb21lVmlld1N0eWxlID0gY3NzYFxuICAgIGgyIHsgY29sb3I6IHZhcigtLWRlZmF1bHQtcHJpbWFyeS1jb2xvcik7IGZvbnQtd2VpZ2h0OjIwMDsgfVxuICAgIGgxLGgyIHsgcGFkZGluZzogMDttYXJnaW46IDA7fVxuXG4gICAgY2FyZC1lbGVtZW50IHtcbiAgICAgICAgbWFyZ2luOiAyNXB4IDEwcHggMjVweCAxMHB4O1xuICAgICAgICB3aWR0aDogMzEwcHg7XG4gICAgICAgIGRpc3BsYXk6IGlubGluZS1ibG9jaztcbiAgICB9XG5cbiAgICBzcGFuIHtcbiAgICAgICAgd2lkdGg6IDEzMHB4O1xuICAgICAgICBoZWlnaHQ6IDEzMHB4O1xuICAgICAgICBib3JkZXItcmFkaXVzOjEwMCU7XG4gICAgICAgIGRpc3BsYXk6IGlubGluZS1ibG9jaztcbiAgICAgICAgYmFja2dyb3VuZDogIzk5ZGNmZmNmO1xuICAgICAgICBwYWRkaW5nOiAxcHg7XG4gICAgfVxuXG4gICAgc3BhbiBzdmcge1xuICAgICAgICB3aWR0aDogMTI1cHg7XG4gICAgICAgIGhlaWdodDogMTI1cHg7XG4gICAgICAgIGZpbGw6IHZhcigtLWRhcmstcHJpbWFyeS1jb2xvcik7XG4gICAgfVxuXG4gICAgcCB7XG4gICAgICAgIHRleHQtYWxpZ246Y2VudGVyO1xuICAgICAgICBoZWlnaHQ6IDUwcHg7XG4gICAgICAgIHBhZGRpbmc6IDhweDtcbiAgICAgICAgZm9udC1zaXplOiAxLjE0M2VtO1xuICAgICAgICBjb2xvcjogdmFyKC0tZGVmYXVsdC1wcmltYXJ5LWNvbG9yKTtcbiAgICB9XG5cbiAgICBhLnN0eWxlZC1idXR0b24ge1xuICAgICAgICB3aWR0aDogMTUwcHg7XG4gICAgICAgIGJvcmRlci1yYWRpdXM6IDcuNXB4O1xuICAgICAgICBwYWRkaW5nOiAxMHB4O1xuICAgICAgICBtYXJnaW46IDAgMCAxMHB4IDUwcHg7XG4gICAgICAgIHRyYW5zaXRpb246IGNvbG9yIDI1MG1zO1xuICAgIH1cbmA7XG5cbmV4cG9ydCBjb25zdCBGaWx0ZXJTaGFyZWRTdHlsZXMgPSBjc3NgXG4gIDpob3N0e1xuICAgIHdpZHRoOiAxMDAlO1xuICAgIGRpc3BsYXk6IGJsb2NrO1xuICB9XG5cbiAgLmFjY29yZGlvbntcbiAgICBkaXNwbGF5OiBibG9jaztcbiAgICBjb2xvcjogdmFyKC0tZGFyay1wcmltYXJ5LWNvbG9yKTtcbiAgfVxuXG4gIHBhcGVyLWRyb3Bkb3duLW1lbnUsIHBhcGVyLWlucHV0e1xuICAgIHdpZHRoOiBhdXRvO1xuICAgIHZlcnRpY2FsLWFsaWduOiBtaWRkbGU7XG4gIH1cblxuICBmb3JtIHtcbiAgICBib3gtc2hhZG93OiB2YXIoLS1zaGFkb3ctZWxldmF0aW9uLTRkcF8tX2JveC1zaGFkb3cpO1xuICAgIHdpZHRoOiAxMDAlO1xuICAgIGJhY2tncm91bmQ6IHRyYW5zcGFyZW50O1xuICAgIHBhZGRpbmc6IDA7XG4gICAgYm9yZGVyLXJhZGl1czogNXB4IDVweCAwIDA7XG4gIH1cblxuICBpcm9uLXNlbGVjdG9yIGRpdiB7XG4gICAgb3BhY2l0eTogMDtcbiAgICB2aXNpYmlsaXR5OiBoaWRkZW47XG4gICAgbWF4LWhlaWdodDogMDtcbiAgICB0ZXh0LWFsaWduOmNlbnRlcjtcbiAgfVxuXG4gIC5pcm9uLXNlbGVjdGVkIHtcbiAgICBvcGFjaXR5OiAxO1xuICAgIHZpc2liaWxpdHk6IHZpc2libGU7XG4gICAgbWF4LWhlaWdodDogZml0LWNvbnRlbnQ7XG4gIH1cblxuICAuZnVsbC1ncmlkIHtcbiAgICBncmlkLWNvbHVtbjogMSAvIDM7XG4gIH1cblxuICAuYWNjb3JkaW9uOmhvdmVye1xuICAgIGJhY2tncm91bmQ6IHdoaXRlO1xuICAgIGNvbG9yOiB2YXIoLS1kYXJrLXByaW1hcnktY29sb3IpO1xuICAgIGJvcmRlci1yYWRpdXM6IDVweCA1cHggMCAwO1xuICB9XG5cbiAgLmFjY29yZGlvbjpob3ZlciBzcGFue1xuICAgIGZpbGw6IHZhciggLS1kZWZhdWx0LXByaW1hcnktY29sb3IpO1xuICB9XG5cbiAgLnBhbmVsIHtcbiAgICBiYWNrZ3JvdW5kOiB2YXIoLS1zZWNvbmRhcnktYmFja2dyb3VuZC1jb2xvcik7XG4gIH1cbmA7XG5cbmV4cG9ydCBjb25zdCBEYXRlUGlja2VyU3R5bGUgPSBjc3NgXG5cbi5kYXRlLXJhbmdlIHtcbiAgICBkaXNwbGF5OiBub25lO1xuICAgIHBvc2l0aW9uOiBhYnNvbHV0ZTtcbiAgICB3aWR0aDogNTAwcHg7XG4gICAgaGVpZ2h0OiAyMDBweDtcbiAgICBiYWNrZ3JvdW5kOiB3aGl0ZTtcbiAgICBwYWRkaW5nOiAyNXB4O1xuICAgIHotaW5kZXg6IDE1MDtcbiAgICBsZWZ0OiA0OHB4O1xuICAgIHRvcDogNDBweDtcbiAgICBib3gtc2hhZG93OiB2YXIoLS1zaGFkb3ctZWxldmF0aW9uLTE2ZHBfLV9ib3gtc2hhZG93KTtcblxuICAgIEBtZWRpYSAobWF4LXdpZHRoOjg0MHB4KXtcbiAgICAgICAgd2lkdGg6IDQwMHB4O1xuICAgIH1cbiAgfVxuXG4gIEBtZWRpYSAobWF4LXdpZHRoOjg0MHB4KXtcblxuICAgIC5kYXRlLXJhbmdle1xuICAgICAgd2lkdGg6IDMwMHB4O1xuICAgIH1cblxuICAgIHBhcGVyLWRyb3Bkb3duLW1lbnV7XG4gICAgICAgIHdpZHRoOiA5MCU7XG4gICAgfVxuICB9XG5cbiAgYnV0dG9uIHtcbiAgICBwb3NpdGlvbjogYWJzb2x1dGU7XG4gICAgdG9wOiAtMjJweDtcbiAgICBsZWZ0Oi0yMnB4O1xuICB9XG5cbiAgLnJhbmdlIHtcbiAgICBwb3NpdGlvbjogcmVsYXRpdmU7XG4gIH1cblxuICAucmFuZ2V7XG4gICAgbWFyZ2luLWxlZnQ6IDA7XG4gICAgYmFja2dyb3VuZDogdmFyKC0tZGFyay1wcmltYXJ5LWNvbG9yKTtcbiAgICBjb2xvcjogd2hpdGU7XG4gICAgbWluLXdpZHRoOiA2MHB4O1xuICB9XG5cbiAgLnJvdW5kZWQge1xuICAgIGJhY2tncm91bmQ6d2hpdGU7XG4gICAgZmlsbDogdmFyKC0tZGFyay1wcmltYXJ5LWNvbG9yKTtcbiAgICBwYWRkaW5nOiAwIDEwcHggMCAwO1xuICB9XG5cbiAgLnJvdW5kZWQgc3BhbiB7XG4gICAgcGFkZGluZy1sZWZ0OiA5cHg7XG4gICAgZGlzcGxheTogYmxvY2s7XG4gIH1cblxuICAuZHItY29udGFpbmVye1xuICAgIHBvc2l0aW9uOiByZWxhdGl2ZTtcbiAgICBkaXNwbGF5OiBpbmxpbmUtYmxvY2s7XG4gICAgcGFkZGluZzogMCAxNnB4O1xuICB9XG5cblxuICAuZHItY29udGFpbmVyID4gcGFwZXItYnV0dG9uIHNwYW57XG4gICAgZmlsbDogdmFyKC0tdGV4dC1wcmltYXJ5LWNvbG9yKTtcbiAgfVxuYFxuZXhwb3J0IGNvbnN0IFJlcGFpckdsYXNzZXNTdHlsZSA9IGNzc2Bcbi5hcm8taW5mbyB7XG4gIGJvcmRlcjogMnB4IHNvbGlkICMwMTIyNTc7XG4gIGJvcmRlci1yYWRpdXM6IDVweDtcbiAgbWFyZ2luOiAxMi41cHg7XG4gIHBhZGRpbmc6IDhweCAxNnB4O1xuICBtYXgtaGVpZ2h0OiA5MCU7XG4gIGhlaWdodDogOTAlO1xuICBkaXNwbGF5OiBncmlkO1xuICBncmlkLXRlbXBsYXRlLXJvd3M6IHJlcGVhdCgzLDFmcik7XG59XG5cbi5hcm8taW5mbyA+IGRpdiB7XG4gIHBhZGRpbmc6IDhweCAwO1xufVxuXG4uYXJvLWluZm8gPiBkaXY6bm90KC5jYm94LW9wdCkge1xuICBwb3NpdGlvbjogcmVsYXRpdmU7XG4gIGZvbnQtc2l6ZTogMS41ZW07XG59XG5cbi5hcm8taW5mbyA+IGRpdjpub3QoLmNib3gtb3B0KS51bmRlcmxpbmU6OmFmdGVye1xuICBjb250ZW50OiBcIlwiO1xuICBwb3NpdGlvbjogYWJzb2x1dGU7XG4gIGxlZnQ6IDEwJTtcbiAgYm90dG9tOiAyNSU7XG4gIHdpZHRoOiA4MCU7XG4gIGhlaWdodDogMXB4O1xuICBiYWNrZ3JvdW5kLWNvbG9yOiAjMDEyMjU3O1xufWAiLCIvKipcbkBsaWNlbnNlXG5Db3B5cmlnaHQgKGMpIDIwMTUgVGhlIFBvbHltZXIgUHJvamVjdCBBdXRob3JzLiBBbGwgcmlnaHRzIHJlc2VydmVkLlxuVGhpcyBjb2RlIG1heSBvbmx5IGJlIHVzZWQgdW5kZXIgdGhlIEJTRCBzdHlsZSBsaWNlbnNlIGZvdW5kIGF0XG5odHRwOi8vcG9seW1lci5naXRodWIuaW8vTElDRU5TRS50eHQgVGhlIGNvbXBsZXRlIHNldCBvZiBhdXRob3JzIG1heSBiZSBmb3VuZCBhdFxuaHR0cDovL3BvbHltZXIuZ2l0aHViLmlvL0FVVEhPUlMudHh0IFRoZSBjb21wbGV0ZSBzZXQgb2YgY29udHJpYnV0b3JzIG1heSBiZVxuZm91bmQgYXQgaHR0cDovL3BvbHltZXIuZ2l0aHViLmlvL0NPTlRSSUJVVE9SUy50eHQgQ29kZSBkaXN0cmlidXRlZCBieSBHb29nbGUgYXNcbnBhcnQgb2YgdGhlIHBvbHltZXIgcHJvamVjdCBpcyBhbHNvIHN1YmplY3QgdG8gYW4gYWRkaXRpb25hbCBJUCByaWdodHMgZ3JhbnRcbmZvdW5kIGF0IGh0dHA6Ly9wb2x5bWVyLmdpdGh1Yi5pby9QQVRFTlRTLnR4dFxuKi9cbmltcG9ydCAnQHBvbHltZXIvcG9seW1lci9wb2x5bWVyLWxlZ2FjeS5qcyc7XG5cbmltcG9ydCB7ZG9tfSBmcm9tICdAcG9seW1lci9wb2x5bWVyL2xpYi9sZWdhY3kvcG9seW1lci5kb20uanMnO1xuXG4vKipcbiAqIEBkZW1vIGRlbW8vaW5kZXguaHRtbFxuICogQHBvbHltZXJCZWhhdmlvclxuICovXG5leHBvcnQgY29uc3QgSXJvbkNvbnRyb2xTdGF0ZSA9IHtcblxuICBwcm9wZXJ0aWVzOiB7XG5cbiAgICAvKipcbiAgICAgKiBJZiB0cnVlLCB0aGUgZWxlbWVudCBjdXJyZW50bHkgaGFzIGZvY3VzLlxuICAgICAqL1xuICAgIGZvY3VzZWQ6IHtcbiAgICAgIHR5cGU6IEJvb2xlYW4sXG4gICAgICB2YWx1ZTogZmFsc2UsXG4gICAgICBub3RpZnk6IHRydWUsXG4gICAgICByZWFkT25seTogdHJ1ZSxcbiAgICAgIHJlZmxlY3RUb0F0dHJpYnV0ZTogdHJ1ZVxuICAgIH0sXG5cbiAgICAvKipcbiAgICAgKiBJZiB0cnVlLCB0aGUgdXNlciBjYW5ub3QgaW50ZXJhY3Qgd2l0aCB0aGlzIGVsZW1lbnQuXG4gICAgICovXG4gICAgZGlzYWJsZWQ6IHtcbiAgICAgIHR5cGU6IEJvb2xlYW4sXG4gICAgICB2YWx1ZTogZmFsc2UsXG4gICAgICBub3RpZnk6IHRydWUsXG4gICAgICBvYnNlcnZlcjogJ19kaXNhYmxlZENoYW5nZWQnLFxuICAgICAgcmVmbGVjdFRvQXR0cmlidXRlOiB0cnVlXG4gICAgfSxcblxuICAgIC8qKlxuICAgICAqIFZhbHVlIG9mIHRoZSBgdGFiaW5kZXhgIGF0dHJpYnV0ZSBiZWZvcmUgYGRpc2FibGVkYCB3YXMgYWN0aXZhdGVkLlxuICAgICAqIGBudWxsYCBtZWFucyB0aGUgYXR0cmlidXRlIHdhcyBub3QgcHJlc2VudC5cbiAgICAgKiBAdHlwZSB7P3N0cmluZ3x1bmRlZmluZWR9XG4gICAgICovXG4gICAgX29sZFRhYkluZGV4OiB7dHlwZTogU3RyaW5nfSxcblxuICAgIF9ib3VuZEZvY3VzQmx1ckhhbmRsZXI6IHtcbiAgICAgIHR5cGU6IEZ1bmN0aW9uLFxuICAgICAgdmFsdWU6IGZ1bmN0aW9uKCkge1xuICAgICAgICByZXR1cm4gdGhpcy5fZm9jdXNCbHVySGFuZGxlci5iaW5kKHRoaXMpO1xuICAgICAgfVxuICAgIH1cbiAgfSxcblxuICBvYnNlcnZlcnM6IFsnX2NoYW5nZWRDb250cm9sU3RhdGUoZm9jdXNlZCwgZGlzYWJsZWQpJ10sXG5cbiAgLyoqXG4gICAqIEByZXR1cm4ge3ZvaWR9XG4gICAqL1xuICByZWFkeTogZnVuY3Rpb24oKSB7XG4gICAgdGhpcy5hZGRFdmVudExpc3RlbmVyKCdmb2N1cycsIHRoaXMuX2JvdW5kRm9jdXNCbHVySGFuZGxlciwgdHJ1ZSk7XG4gICAgdGhpcy5hZGRFdmVudExpc3RlbmVyKCdibHVyJywgdGhpcy5fYm91bmRGb2N1c0JsdXJIYW5kbGVyLCB0cnVlKTtcbiAgfSxcblxuICBfZm9jdXNCbHVySGFuZGxlcjogZnVuY3Rpb24oZXZlbnQpIHtcbiAgICAvLyBQb2x5bWVyIHRha2VzIGNhcmUgb2YgcmV0YXJnZXRpbmcgZXZlbnRzLlxuICAgIHRoaXMuX3NldEZvY3VzZWQoZXZlbnQudHlwZSA9PT0gJ2ZvY3VzJyk7XG4gICAgcmV0dXJuO1xuICB9LFxuXG4gIF9kaXNhYmxlZENoYW5nZWQ6IGZ1bmN0aW9uKGRpc2FibGVkLCBvbGQpIHtcbiAgICB0aGlzLnNldEF0dHJpYnV0ZSgnYXJpYS1kaXNhYmxlZCcsIGRpc2FibGVkID8gJ3RydWUnIDogJ2ZhbHNlJyk7XG4gICAgdGhpcy5zdHlsZS5wb2ludGVyRXZlbnRzID0gZGlzYWJsZWQgPyAnbm9uZScgOiAnJztcbiAgICBpZiAoZGlzYWJsZWQpIHtcbiAgICAgIC8vIFJlYWQgdGhlIGB0YWJpbmRleGAgYXR0cmlidXRlIGluc3RlYWQgb2YgdGhlIGB0YWJJbmRleGAgcHJvcGVydHkuXG4gICAgICAvLyBUaGUgcHJvcGVydHkgcmV0dXJucyBgLTFgIGlmIHRoZXJlIGlzIG5vIGB0YWJpbmRleGAgYXR0cmlidXRlLlxuICAgICAgLy8gVGhpcyBkaXN0aW5jdGlvbiBpcyBpbXBvcnRhbnQgd2hlbiByZXN0b3JpbmcgdGhlIHZhbHVlIGJlY2F1c2VcbiAgICAgIC8vIGxlYXZpbmcgYC0xYCBoaWRlcyBzaGFkb3cgcm9vdCBjaGlsZHJlbiBmcm9tIHRoZSB0YWIgb3JkZXIuXG4gICAgICB0aGlzLl9vbGRUYWJJbmRleCA9IHRoaXMuZ2V0QXR0cmlidXRlKCd0YWJpbmRleCcpO1xuICAgICAgdGhpcy5fc2V0Rm9jdXNlZChmYWxzZSk7XG4gICAgICB0aGlzLnRhYkluZGV4ID0gLTE7XG4gICAgICB0aGlzLmJsdXIoKTtcbiAgICB9IGVsc2UgaWYgKHRoaXMuX29sZFRhYkluZGV4ICE9PSB1bmRlZmluZWQpIHtcbiAgICAgIGlmICh0aGlzLl9vbGRUYWJJbmRleCA9PT0gbnVsbCkge1xuICAgICAgICB0aGlzLnJlbW92ZUF0dHJpYnV0ZSgndGFiaW5kZXgnKTtcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIHRoaXMuc2V0QXR0cmlidXRlKCd0YWJpbmRleCcsIHRoaXMuX29sZFRhYkluZGV4KTtcbiAgICAgIH1cbiAgICB9XG4gIH0sXG5cbiAgX2NoYW5nZWRDb250cm9sU3RhdGU6IGZ1bmN0aW9uKCkge1xuICAgIC8vIF9jb250cm9sU3RhdGVDaGFuZ2VkIGlzIGFic3RyYWN0LCBmb2xsb3ctb24gYmVoYXZpb3JzIG1heSBpbXBsZW1lbnQgaXRcbiAgICBpZiAodGhpcy5fY29udHJvbFN0YXRlQ2hhbmdlZCkge1xuICAgICAgdGhpcy5fY29udHJvbFN0YXRlQ2hhbmdlZCgpO1xuICAgIH1cbiAgfVxuXG59O1xuIiwiLyoqXG5AbGljZW5zZVxuQ29weXJpZ2h0IChjKSAyMDE1IFRoZSBQb2x5bWVyIFByb2plY3QgQXV0aG9ycy4gQWxsIHJpZ2h0cyByZXNlcnZlZC5cblRoaXMgY29kZSBtYXkgb25seSBiZSB1c2VkIHVuZGVyIHRoZSBCU0Qgc3R5bGUgbGljZW5zZSBmb3VuZCBhdFxuaHR0cDovL3BvbHltZXIuZ2l0aHViLmlvL0xJQ0VOU0UudHh0IFRoZSBjb21wbGV0ZSBzZXQgb2YgYXV0aG9ycyBtYXkgYmUgZm91bmQgYXRcbmh0dHA6Ly9wb2x5bWVyLmdpdGh1Yi5pby9BVVRIT1JTLnR4dCBUaGUgY29tcGxldGUgc2V0IG9mIGNvbnRyaWJ1dG9ycyBtYXkgYmVcbmZvdW5kIGF0IGh0dHA6Ly9wb2x5bWVyLmdpdGh1Yi5pby9DT05UUklCVVRPUlMudHh0IENvZGUgZGlzdHJpYnV0ZWQgYnkgR29vZ2xlIGFzXG5wYXJ0IG9mIHRoZSBwb2x5bWVyIHByb2plY3QgaXMgYWxzbyBzdWJqZWN0IHRvIGFuIGFkZGl0aW9uYWwgSVAgcmlnaHRzIGdyYW50XG5mb3VuZCBhdCBodHRwOi8vcG9seW1lci5naXRodWIuaW8vUEFURU5UUy50eHRcbiovXG4vKiBUYWtlbiBmcm9tXG4gKiBodHRwczovL3d3dy5nb29nbGUuY29tL2Rlc2lnbi9zcGVjL3N0eWxlL2NvbG9yLmh0bWwjY29sb3ItdWktY29sb3ItYXBwbGljYXRpb25cbiAqL1xuaW1wb3J0ICdAcG9seW1lci9wb2x5bWVyL3BvbHltZXItbGVnYWN5LmpzJztcbmltcG9ydCAnLi9jb2xvci5qcyc7XG5cbmltcG9ydCB7aHRtbH0gZnJvbSAnQHBvbHltZXIvcG9seW1lci9saWIvdXRpbHMvaHRtbC10YWcuanMnO1xuY29uc3QgdGVtcGxhdGUgPSBodG1sYFxuPGN1c3RvbS1zdHlsZT5cbiAgPHN0eWxlIGlzPVwiY3VzdG9tLXN0eWxlXCI+XG4gICAgaHRtbCB7XG4gICAgICAvKlxuICAgICAgICogWW91IGNhbiB1c2UgdGhlc2UgZ2VuZXJpYyB2YXJpYWJsZXMgaW4geW91ciBlbGVtZW50cyBmb3IgZWFzeSB0aGVtaW5nLlxuICAgICAgICogRm9yIGV4YW1wbGUsIGlmIGFsbCB5b3VyIGVsZW1lbnRzIHVzZSBcXGAtLXByaW1hcnktdGV4dC1jb2xvclxcYCBhcyBpdHMgbWFpblxuICAgICAgICogY29sb3IsIHRoZW4gc3dpdGNoaW5nIGZyb20gYSBsaWdodCB0byBhIGRhcmsgdGhlbWUgaXMganVzdCBhIG1hdHRlciBvZlxuICAgICAgICogY2hhbmdpbmcgdGhlIHZhbHVlIG9mIFxcYC0tcHJpbWFyeS10ZXh0LWNvbG9yXFxgIGluIHlvdXIgYXBwbGljYXRpb24uXG4gICAgICAgKi9cbiAgICAgIC0tcHJpbWFyeS10ZXh0LWNvbG9yOiB2YXIoLS1saWdodC10aGVtZS10ZXh0LWNvbG9yKTtcbiAgICAgIC0tcHJpbWFyeS1iYWNrZ3JvdW5kLWNvbG9yOiB2YXIoLS1saWdodC10aGVtZS1iYWNrZ3JvdW5kLWNvbG9yKTtcbiAgICAgIC0tc2Vjb25kYXJ5LXRleHQtY29sb3I6IHZhcigtLWxpZ2h0LXRoZW1lLXNlY29uZGFyeS1jb2xvcik7XG4gICAgICAtLWRpc2FibGVkLXRleHQtY29sb3I6IHZhcigtLWxpZ2h0LXRoZW1lLWRpc2FibGVkLWNvbG9yKTtcbiAgICAgIC0tZGl2aWRlci1jb2xvcjogdmFyKC0tbGlnaHQtdGhlbWUtZGl2aWRlci1jb2xvcik7XG4gICAgICAtLWVycm9yLWNvbG9yOiB2YXIoLS1wYXBlci1kZWVwLW9yYW5nZS1hNzAwKTtcblxuICAgICAgLypcbiAgICAgICAqIFByaW1hcnkgYW5kIGFjY2VudCBjb2xvcnMuIEFsc28gc2VlIGNvbG9yLmpzIGZvciBtb3JlIGNvbG9ycy5cbiAgICAgICAqL1xuICAgICAgLS1wcmltYXJ5LWNvbG9yOiB2YXIoLS1wYXBlci1pbmRpZ28tNTAwKTtcbiAgICAgIC0tbGlnaHQtcHJpbWFyeS1jb2xvcjogdmFyKC0tcGFwZXItaW5kaWdvLTEwMCk7XG4gICAgICAtLWRhcmstcHJpbWFyeS1jb2xvcjogdmFyKC0tcGFwZXItaW5kaWdvLTcwMCk7XG5cbiAgICAgIC0tYWNjZW50LWNvbG9yOiB2YXIoLS1wYXBlci1waW5rLWEyMDApO1xuICAgICAgLS1saWdodC1hY2NlbnQtY29sb3I6IHZhcigtLXBhcGVyLXBpbmstYTEwMCk7XG4gICAgICAtLWRhcmstYWNjZW50LWNvbG9yOiB2YXIoLS1wYXBlci1waW5rLWE0MDApO1xuXG5cbiAgICAgIC8qXG4gICAgICAgKiBNYXRlcmlhbCBEZXNpZ24gTGlnaHQgYmFja2dyb3VuZCB0aGVtZVxuICAgICAgICovXG4gICAgICAtLWxpZ2h0LXRoZW1lLWJhY2tncm91bmQtY29sb3I6ICNmZmZmZmY7XG4gICAgICAtLWxpZ2h0LXRoZW1lLWJhc2UtY29sb3I6ICMwMDAwMDA7XG4gICAgICAtLWxpZ2h0LXRoZW1lLXRleHQtY29sb3I6IHZhcigtLXBhcGVyLWdyZXktOTAwKTtcbiAgICAgIC0tbGlnaHQtdGhlbWUtc2Vjb25kYXJ5LWNvbG9yOiAjNzM3MzczOyAgLyogZm9yIHNlY29uZGFyeSB0ZXh0IGFuZCBpY29ucyAqL1xuICAgICAgLS1saWdodC10aGVtZS1kaXNhYmxlZC1jb2xvcjogIzliOWI5YjsgIC8qIGRpc2FibGVkL2hpbnQgdGV4dCAqL1xuICAgICAgLS1saWdodC10aGVtZS1kaXZpZGVyLWNvbG9yOiAjZGJkYmRiO1xuXG4gICAgICAvKlxuICAgICAgICogTWF0ZXJpYWwgRGVzaWduIERhcmsgYmFja2dyb3VuZCB0aGVtZVxuICAgICAgICovXG4gICAgICAtLWRhcmstdGhlbWUtYmFja2dyb3VuZC1jb2xvcjogdmFyKC0tcGFwZXItZ3JleS05MDApO1xuICAgICAgLS1kYXJrLXRoZW1lLWJhc2UtY29sb3I6ICNmZmZmZmY7XG4gICAgICAtLWRhcmstdGhlbWUtdGV4dC1jb2xvcjogI2ZmZmZmZjtcbiAgICAgIC0tZGFyay10aGVtZS1zZWNvbmRhcnktY29sb3I6ICNiY2JjYmM7ICAvKiBmb3Igc2Vjb25kYXJ5IHRleHQgYW5kIGljb25zICovXG4gICAgICAtLWRhcmstdGhlbWUtZGlzYWJsZWQtY29sb3I6ICM2NDY0NjQ7ICAvKiBkaXNhYmxlZC9oaW50IHRleHQgKi9cbiAgICAgIC0tZGFyay10aGVtZS1kaXZpZGVyLWNvbG9yOiAjM2MzYzNjO1xuXG4gICAgICAvKlxuICAgICAgICogRGVwcmVjYXRlZCB2YWx1ZXMgYmVjYXVzZSBvZiB0aGVpciBjb25mdXNpbmcgbmFtZXMuXG4gICAgICAgKi9cbiAgICAgIC0tdGV4dC1wcmltYXJ5LWNvbG9yOiB2YXIoLS1kYXJrLXRoZW1lLXRleHQtY29sb3IpO1xuICAgICAgLS1kZWZhdWx0LXByaW1hcnktY29sb3I6IHZhcigtLXByaW1hcnktY29sb3IpO1xuICAgIH1cbiAgPC9zdHlsZT5cbjwvY3VzdG9tLXN0eWxlPmA7XG50ZW1wbGF0ZS5zZXRBdHRyaWJ1dGUoJ3N0eWxlJywgJ2Rpc3BsYXk6IG5vbmU7Jyk7XG5kb2N1bWVudC5oZWFkLmFwcGVuZENoaWxkKHRlbXBsYXRlLmNvbnRlbnQpO1xuIiwiLyoqXG5AbGljZW5zZVxuQ29weXJpZ2h0IChjKSAyMDE3IFRoZSBQb2x5bWVyIFByb2plY3QgQXV0aG9ycy4gQWxsIHJpZ2h0cyByZXNlcnZlZC5cblRoaXMgY29kZSBtYXkgb25seSBiZSB1c2VkIHVuZGVyIHRoZSBCU0Qgc3R5bGUgbGljZW5zZSBmb3VuZCBhdCBodHRwOi8vcG9seW1lci5naXRodWIuaW8vTElDRU5TRS50eHRcblRoZSBjb21wbGV0ZSBzZXQgb2YgYXV0aG9ycyBtYXkgYmUgZm91bmQgYXQgaHR0cDovL3BvbHltZXIuZ2l0aHViLmlvL0FVVEhPUlMudHh0XG5UaGUgY29tcGxldGUgc2V0IG9mIGNvbnRyaWJ1dG9ycyBtYXkgYmUgZm91bmQgYXQgaHR0cDovL3BvbHltZXIuZ2l0aHViLmlvL0NPTlRSSUJVVE9SUy50eHRcbkNvZGUgZGlzdHJpYnV0ZWQgYnkgR29vZ2xlIGFzIHBhcnQgb2YgdGhlIHBvbHltZXIgcHJvamVjdCBpcyBhbHNvXG5zdWJqZWN0IHRvIGFuIGFkZGl0aW9uYWwgSVAgcmlnaHRzIGdyYW50IGZvdW5kIGF0IGh0dHA6Ly9wb2x5bWVyLmdpdGh1Yi5pby9QQVRFTlRTLnR4dFxuKi9cblxuLyoqXG4gKiBNb2R1bGUgZm9yIHNjaGVkdWxpbmcgZmx1c2hhYmxlIHByZS1yZW5kZXIgYW5kIHBvc3QtcmVuZGVyIHRhc2tzLlxuICpcbiAqIEBzdW1tYXJ5IE1vZHVsZSBmb3Igc2NoZWR1bGluZyBmbHVzaGFibGUgcHJlLXJlbmRlciBhbmQgcG9zdC1yZW5kZXIgdGFza3MuXG4gKi9cblxuaW1wb3J0ICcuL2Jvb3QuanMnO1xuXG5sZXQgc2NoZWR1bGVkID0gZmFsc2U7XG5sZXQgYmVmb3JlUmVuZGVyUXVldWUgPSBbXTtcbmxldCBhZnRlclJlbmRlclF1ZXVlID0gW107XG5cbmZ1bmN0aW9uIHNjaGVkdWxlKCkge1xuICBzY2hlZHVsZWQgPSB0cnVlO1xuICAvLyBiZWZvcmUgbmV4dCByZW5kZXJcbiAgcmVxdWVzdEFuaW1hdGlvbkZyYW1lKGZ1bmN0aW9uKCkge1xuICAgIHNjaGVkdWxlZCA9IGZhbHNlO1xuICAgIGZsdXNoUXVldWUoYmVmb3JlUmVuZGVyUXVldWUpO1xuICAgIC8vIGFmdGVyIHRoZSByZW5kZXJcbiAgICBzZXRUaW1lb3V0KGZ1bmN0aW9uKCkge1xuICAgICAgcnVuUXVldWUoYWZ0ZXJSZW5kZXJRdWV1ZSk7XG4gICAgfSk7XG4gIH0pO1xufVxuXG5mdW5jdGlvbiBmbHVzaFF1ZXVlKHF1ZXVlKSB7XG4gIHdoaWxlIChxdWV1ZS5sZW5ndGgpIHtcbiAgICBjYWxsTWV0aG9kKHF1ZXVlLnNoaWZ0KCkpO1xuICB9XG59XG5cbmZ1bmN0aW9uIHJ1blF1ZXVlKHF1ZXVlKSB7XG4gIGZvciAobGV0IGk9MCwgbD1xdWV1ZS5sZW5ndGg7IGkgPCBsOyBpKyspIHtcbiAgICBjYWxsTWV0aG9kKHF1ZXVlLnNoaWZ0KCkpO1xuICB9XG59XG5cbmZ1bmN0aW9uIGNhbGxNZXRob2QoaW5mbykge1xuICBjb25zdCBjb250ZXh0ID0gaW5mb1swXTtcbiAgY29uc3QgY2FsbGJhY2sgPSBpbmZvWzFdO1xuICBjb25zdCBhcmdzID0gaW5mb1syXTtcbiAgdHJ5IHtcbiAgICBjYWxsYmFjay5hcHBseShjb250ZXh0LCBhcmdzKTtcbiAgfSBjYXRjaChlKSB7XG4gICAgc2V0VGltZW91dCgoKSA9PiB7XG4gICAgICB0aHJvdyBlO1xuICAgIH0pO1xuICB9XG59XG5cbi8qKlxuICogRmx1c2hlcyBhbGwgYGJlZm9yZU5leHRSZW5kZXJgIHRhc2tzLCBmb2xsb3dlZCBieSBhbGwgYGFmdGVyTmV4dFJlbmRlcmBcbiAqIHRhc2tzLlxuICpcbiAqIEByZXR1cm4ge3ZvaWR9XG4gKi9cbmV4cG9ydCBmdW5jdGlvbiBmbHVzaCgpIHtcbiAgd2hpbGUgKGJlZm9yZVJlbmRlclF1ZXVlLmxlbmd0aCB8fCBhZnRlclJlbmRlclF1ZXVlLmxlbmd0aCkge1xuICAgIGZsdXNoUXVldWUoYmVmb3JlUmVuZGVyUXVldWUpO1xuICAgIGZsdXNoUXVldWUoYWZ0ZXJSZW5kZXJRdWV1ZSk7XG4gIH1cbiAgc2NoZWR1bGVkID0gZmFsc2U7XG59XG5cblxuLyoqXG4gKiBFbnF1ZXVlcyBhIGNhbGxiYWNrIHdoaWNoIHdpbGwgYmUgcnVuIGJlZm9yZSB0aGUgbmV4dCByZW5kZXIsIGF0XG4gKiBgcmVxdWVzdEFuaW1hdGlvbkZyYW1lYCB0aW1pbmcuXG4gKlxuICogVGhpcyBtZXRob2QgaXMgdXNlZnVsIGZvciBlbnF1ZXVpbmcgd29yayB0aGF0IHJlcXVpcmVzIERPTSBtZWFzdXJlbWVudCxcbiAqIHNpbmNlIG1lYXN1cmVtZW50IG1heSBub3QgYmUgcmVsaWFibGUgaW4gY3VzdG9tIGVsZW1lbnQgY2FsbGJhY2tzIGJlZm9yZVxuICogdGhlIGZpcnN0IHJlbmRlciwgYXMgd2VsbCBhcyBmb3IgYmF0Y2hpbmcgbWVhc3VyZW1lbnQgdGFza3MgaW4gZ2VuZXJhbC5cbiAqXG4gKiBUYXNrcyBpbiB0aGlzIHF1ZXVlIG1heSBiZSBmbHVzaGVkIGJ5IGNhbGxpbmcgYGZsdXNoKClgLlxuICpcbiAqIEBwYXJhbSB7Kn0gY29udGV4dCBDb250ZXh0IG9iamVjdCB0aGUgY2FsbGJhY2sgZnVuY3Rpb24gd2lsbCBiZSBib3VuZCB0b1xuICogQHBhcmFtIHtmdW5jdGlvbiguLi4qKTp2b2lkfSBjYWxsYmFjayBDYWxsYmFjayBmdW5jdGlvblxuICogQHBhcmFtIHshQXJyYXk9fSBhcmdzIEFuIGFycmF5IG9mIGFyZ3VtZW50cyB0byBjYWxsIHRoZSBjYWxsYmFjayBmdW5jdGlvbiB3aXRoXG4gKiBAcmV0dXJuIHt2b2lkfVxuICovXG5leHBvcnQgZnVuY3Rpb24gYmVmb3JlTmV4dFJlbmRlcihjb250ZXh0LCBjYWxsYmFjaywgYXJncykge1xuICBpZiAoIXNjaGVkdWxlZCkge1xuICAgIHNjaGVkdWxlKCk7XG4gIH1cbiAgYmVmb3JlUmVuZGVyUXVldWUucHVzaChbY29udGV4dCwgY2FsbGJhY2ssIGFyZ3NdKTtcbn1cblxuLyoqXG4gKiBFbnF1ZXVlcyBhIGNhbGxiYWNrIHdoaWNoIHdpbGwgYmUgcnVuIGFmdGVyIHRoZSBuZXh0IHJlbmRlciwgZXF1aXZhbGVudFxuICogdG8gb25lIHRhc2sgKGBzZXRUaW1lb3V0YCkgYWZ0ZXIgdGhlIG5leHQgYHJlcXVlc3RBbmltYXRpb25GcmFtZWAuXG4gKlxuICogVGhpcyBtZXRob2QgaXMgdXNlZnVsIGZvciB0dW5pbmcgdGhlIGZpcnN0LXJlbmRlciBwZXJmb3JtYW5jZSBvZiBhblxuICogZWxlbWVudCBvciBhcHBsaWNhdGlvbiBieSBkZWZlcnJpbmcgbm9uLWNyaXRpY2FsIHdvcmsgdW50aWwgYWZ0ZXIgdGhlXG4gKiBmaXJzdCBwYWludC4gIFR5cGljYWwgbm9uLXJlbmRlci1jcml0aWNhbCB3b3JrIG1heSBpbmNsdWRlIGFkZGluZyBVSVxuICogZXZlbnQgbGlzdGVuZXJzIGFuZCBhcmlhIGF0dHJpYnV0ZXMuXG4gKlxuICogQHBhcmFtIHsqfSBjb250ZXh0IENvbnRleHQgb2JqZWN0IHRoZSBjYWxsYmFjayBmdW5jdGlvbiB3aWxsIGJlIGJvdW5kIHRvXG4gKiBAcGFyYW0ge2Z1bmN0aW9uKC4uLiopOnZvaWR9IGNhbGxiYWNrIENhbGxiYWNrIGZ1bmN0aW9uXG4gKiBAcGFyYW0geyFBcnJheT19IGFyZ3MgQW4gYXJyYXkgb2YgYXJndW1lbnRzIHRvIGNhbGwgdGhlIGNhbGxiYWNrIGZ1bmN0aW9uIHdpdGhcbiAqIEByZXR1cm4ge3ZvaWR9XG4gKi9cbmV4cG9ydCBmdW5jdGlvbiBhZnRlck5leHRSZW5kZXIoY29udGV4dCwgY2FsbGJhY2ssIGFyZ3MpIHtcbiAgaWYgKCFzY2hlZHVsZWQpIHtcbiAgICBzY2hlZHVsZSgpO1xuICB9XG4gIGFmdGVyUmVuZGVyUXVldWUucHVzaChbY29udGV4dCwgY2FsbGJhY2ssIGFyZ3NdKTtcbn1cblxuIiwiLyoqXG5AbGljZW5zZVxuQ29weXJpZ2h0IChjKSAyMDE3IFRoZSBQb2x5bWVyIFByb2plY3QgQXV0aG9ycy4gQWxsIHJpZ2h0cyByZXNlcnZlZC5cblRoaXMgY29kZSBtYXkgb25seSBiZSB1c2VkIHVuZGVyIHRoZSBCU0Qgc3R5bGUgbGljZW5zZSBmb3VuZCBhdCBodHRwOi8vcG9seW1lci5naXRodWIuaW8vTElDRU5TRS50eHRcblRoZSBjb21wbGV0ZSBzZXQgb2YgYXV0aG9ycyBtYXkgYmUgZm91bmQgYXQgaHR0cDovL3BvbHltZXIuZ2l0aHViLmlvL0FVVEhPUlMudHh0XG5UaGUgY29tcGxldGUgc2V0IG9mIGNvbnRyaWJ1dG9ycyBtYXkgYmUgZm91bmQgYXQgaHR0cDovL3BvbHltZXIuZ2l0aHViLmlvL0NPTlRSSUJVVE9SUy50eHRcbkNvZGUgZGlzdHJpYnV0ZWQgYnkgR29vZ2xlIGFzIHBhcnQgb2YgdGhlIHBvbHltZXIgcHJvamVjdCBpcyBhbHNvXG5zdWJqZWN0IHRvIGFuIGFkZGl0aW9uYWwgSVAgcmlnaHRzIGdyYW50IGZvdW5kIGF0IGh0dHA6Ly9wb2x5bWVyLmdpdGh1Yi5pby9QQVRFTlRTLnR4dFxuKi9cblxuJ3VzZSBzdHJpY3QnO1xuXG4vKiogQHR5cGUge1Byb21pc2U8dm9pZD59ICovXG5sZXQgcmVhZHlQcm9taXNlID0gbnVsbDtcblxuLyoqIEB0eXBlIHs/ZnVuY3Rpb24oP2Z1bmN0aW9uKCkpfSAqL1xubGV0IHdoZW5SZWFkeSA9IHdpbmRvd1snSFRNTEltcG9ydHMnXSAmJiB3aW5kb3dbJ0hUTUxJbXBvcnRzJ11bJ3doZW5SZWFkeSddIHx8IG51bGw7XG5cbi8qKiBAdHlwZSB7ZnVuY3Rpb24oKX0gKi9cbmxldCByZXNvbHZlRm47XG5cbi8qKlxuICogQHBhcmFtIHs/ZnVuY3Rpb24oKX0gY2FsbGJhY2tcbiAqL1xuZXhwb3J0IGRlZmF1bHQgZnVuY3Rpb24gZG9jdW1lbnRXYWl0KGNhbGxiYWNrKSB7XG4gIHJlcXVlc3RBbmltYXRpb25GcmFtZShmdW5jdGlvbigpIHtcbiAgICBpZiAod2hlblJlYWR5KSB7XG4gICAgICB3aGVuUmVhZHkoY2FsbGJhY2spXG4gICAgfSBlbHNlIHtcbiAgICAgIGlmICghcmVhZHlQcm9taXNlKSB7XG4gICAgICAgIHJlYWR5UHJvbWlzZSA9IG5ldyBQcm9taXNlKChyZXNvbHZlKSA9PiB7cmVzb2x2ZUZuID0gcmVzb2x2ZX0pO1xuICAgICAgICBpZiAoZG9jdW1lbnQucmVhZHlTdGF0ZSA9PT0gJ2NvbXBsZXRlJykge1xuICAgICAgICAgIHJlc29sdmVGbigpO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgIGRvY3VtZW50LmFkZEV2ZW50TGlzdGVuZXIoJ3JlYWR5c3RhdGVjaGFuZ2UnLCAoKSA9PiB7XG4gICAgICAgICAgICBpZiAoZG9jdW1lbnQucmVhZHlTdGF0ZSA9PT0gJ2NvbXBsZXRlJykge1xuICAgICAgICAgICAgICByZXNvbHZlRm4oKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICB9KTtcbiAgICAgICAgfVxuICAgICAgfVxuICAgICAgcmVhZHlQcm9taXNlLnRoZW4oZnVuY3Rpb24oKXsgY2FsbGJhY2sgJiYgY2FsbGJhY2soKTsgfSk7XG4gICAgfVxuICB9KTtcbn1cbiIsIi8qKlxuQGxpY2Vuc2VcbkNvcHlyaWdodCAoYykgMjAxNyBUaGUgUG9seW1lciBQcm9qZWN0IEF1dGhvcnMuIEFsbCByaWdodHMgcmVzZXJ2ZWQuXG5UaGlzIGNvZGUgbWF5IG9ubHkgYmUgdXNlZCB1bmRlciB0aGUgQlNEIHN0eWxlIGxpY2Vuc2UgZm91bmQgYXQgaHR0cDovL3BvbHltZXIuZ2l0aHViLmlvL0xJQ0VOU0UudHh0XG5UaGUgY29tcGxldGUgc2V0IG9mIGF1dGhvcnMgbWF5IGJlIGZvdW5kIGF0IGh0dHA6Ly9wb2x5bWVyLmdpdGh1Yi5pby9BVVRIT1JTLnR4dFxuVGhlIGNvbXBsZXRlIHNldCBvZiBjb250cmlidXRvcnMgbWF5IGJlIGZvdW5kIGF0IGh0dHA6Ly9wb2x5bWVyLmdpdGh1Yi5pby9DT05UUklCVVRPUlMudHh0XG5Db2RlIGRpc3RyaWJ1dGVkIGJ5IEdvb2dsZSBhcyBwYXJ0IG9mIHRoZSBwb2x5bWVyIHByb2plY3QgaXMgYWxzb1xuc3ViamVjdCB0byBhbiBhZGRpdGlvbmFsIElQIHJpZ2h0cyBncmFudCBmb3VuZCBhdCBodHRwOi8vcG9seW1lci5naXRodWIuaW8vUEFURU5UUy50eHRcbiovXG5cbid1c2Ugc3RyaWN0JztcblxuaW1wb3J0IGRvY3VtZW50V2FpdCBmcm9tICcuL2RvY3VtZW50LXdhaXQuanMnO1xuXG4vKipcbiAqIEB0eXBlZGVmIHtIVE1MU3R5bGVFbGVtZW50IHwge2dldFN0eWxlOiBmdW5jdGlvbigpOkhUTUxTdHlsZUVsZW1lbnR9fVxuICovXG5leHBvcnQgbGV0IEN1c3RvbVN0eWxlUHJvdmlkZXI7XG5cbmNvbnN0IFNFRU5fTUFSS0VSID0gJ19fc2VlbkJ5U2hhZHlDU1MnO1xuY29uc3QgQ0FDSEVEX1NUWUxFID0gJ19fc2hhZHlDU1NDYWNoZWRTdHlsZSc7XG5cbi8qKiBAdHlwZSB7P2Z1bmN0aW9uKCFIVE1MU3R5bGVFbGVtZW50KX0gKi9cbmxldCB0cmFuc2Zvcm1GbiA9IG51bGw7XG5cbi8qKiBAdHlwZSB7P2Z1bmN0aW9uKCl9ICovXG5sZXQgdmFsaWRhdGVGbiA9IG51bGw7XG5cbi8qKlxuVGhpcyBpbnRlcmZhY2UgaXMgcHJvdmlkZWQgdG8gYWRkIGRvY3VtZW50LWxldmVsIDxzdHlsZT4gZWxlbWVudHMgdG8gU2hhZHlDU1MgZm9yIHByb2Nlc3NpbmcuXG5UaGVzZSBzdHlsZXMgbXVzdCBiZSBwcm9jZXNzZWQgYnkgU2hhZHlDU1MgdG8gc2ltdWxhdGUgU2hhZG93Um9vdCB1cHBlci1ib3VuZCBlbmNhcHN1bGF0aW9uIGZyb20gb3V0c2lkZSBzdHlsZXNcbkluIGFkZGl0aW9uLCB0aGVzZSBzdHlsZXMgbWF5IGFsc28gbmVlZCB0byBiZSBwcm9jZXNzZWQgZm9yIEBhcHBseSBydWxlcyBhbmQgQ1NTIEN1c3RvbSBQcm9wZXJ0aWVzXG5cblRvIGFkZCBkb2N1bWVudC1sZXZlbCBzdHlsZXMgdG8gU2hhZHlDU1MsIG9uZSBjYW4gY2FsbCBgU2hhZHlDU1MuYWRkRG9jdW1lbnRTdHlsZShzdHlsZUVsZW1lbnQpYCBvciBgU2hhZHlDU1MuYWRkRG9jdW1lbnRTdHlsZSh7Z2V0U3R5bGU6ICgpID0+IHN0eWxlRWxlbWVudH0pYFxuXG5JbiBhZGRpdGlvbiwgaWYgdGhlIHByb2Nlc3MgdXNlZCB0byBkaXNjb3ZlciBkb2N1bWVudC1sZXZlbCBzdHlsZXMgY2FuIGJlIHN5bmNocm9ub3VzbHkgZmx1c2hlZCwgb25lIHNob3VsZCBzZXQgYFNoYWR5Q1NTLmRvY3VtZW50U3R5bGVGbHVzaGAuXG5UaGlzIGZ1bmN0aW9uIHdpbGwgYmUgY2FsbGVkIHdoZW4gY2FsY3VsYXRpbmcgc3R5bGVzLlxuXG5BbiBleGFtcGxlIHVzYWdlIG9mIHRoZSBkb2N1bWVudC1sZXZlbCBzdHlsaW5nIGFwaSBjYW4gYmUgZm91bmQgaW4gYGV4YW1wbGVzL2RvY3VtZW50LXN0eWxlLWxpYi5qc2BcblxuQHVucmVzdHJpY3RlZFxuKi9cbmV4cG9ydCBkZWZhdWx0IGNsYXNzIEN1c3RvbVN0eWxlSW50ZXJmYWNlIHtcbiAgY29uc3RydWN0b3IoKSB7XG4gICAgLyoqIEB0eXBlIHshQXJyYXk8IUN1c3RvbVN0eWxlUHJvdmlkZXI+fSAqL1xuICAgIHRoaXNbJ2N1c3RvbVN0eWxlcyddID0gW107XG4gICAgdGhpc1snZW5xdWV1ZWQnXSA9IGZhbHNlO1xuICAgIC8vIE5PVEUoZGZyZWVkbSk6IHVzZSBxdW90ZXMgaGVyZSB0byBwcmV2ZW50IGNsb3N1cmUgaW5saW5pbmcgdG8gYGZ1bmN0aW9uKCl7fWA7XG4gICAgZG9jdW1lbnRXYWl0KCgpID0+IHtcbiAgICAgIGlmICh3aW5kb3dbJ1NoYWR5Q1NTJ11bJ2ZsdXNoQ3VzdG9tU3R5bGVzJ10pIHtcbiAgICAgICAgd2luZG93WydTaGFkeUNTUyddWydmbHVzaEN1c3RvbVN0eWxlcyddKCk7XG4gICAgICB9XG4gICAgfSlcbiAgfVxuICAvKipcbiAgICogUXVldWUgYSB2YWxpZGF0aW9uIGZvciBuZXcgY3VzdG9tIHN0eWxlcyB0byBiYXRjaCBzdHlsZSByZWNhbGN1bGF0aW9uc1xuICAgKi9cbiAgZW5xdWV1ZURvY3VtZW50VmFsaWRhdGlvbigpIHtcbiAgICBpZiAodGhpc1snZW5xdWV1ZWQnXSB8fCAhdmFsaWRhdGVGbikge1xuICAgICAgcmV0dXJuO1xuICAgIH1cbiAgICB0aGlzWydlbnF1ZXVlZCddID0gdHJ1ZTtcbiAgICBkb2N1bWVudFdhaXQodmFsaWRhdGVGbik7XG4gIH1cbiAgLyoqXG4gICAqIEBwYXJhbSB7IUhUTUxTdHlsZUVsZW1lbnR9IHN0eWxlXG4gICAqL1xuICBhZGRDdXN0b21TdHlsZShzdHlsZSkge1xuICAgIGlmICghc3R5bGVbU0VFTl9NQVJLRVJdKSB7XG4gICAgICBzdHlsZVtTRUVOX01BUktFUl0gPSB0cnVlO1xuICAgICAgdGhpc1snY3VzdG9tU3R5bGVzJ10ucHVzaChzdHlsZSk7XG4gICAgICB0aGlzLmVucXVldWVEb2N1bWVudFZhbGlkYXRpb24oKTtcbiAgICB9XG4gIH1cbiAgLyoqXG4gICAqIEBwYXJhbSB7IUN1c3RvbVN0eWxlUHJvdmlkZXJ9IGN1c3RvbVN0eWxlXG4gICAqIEByZXR1cm4ge0hUTUxTdHlsZUVsZW1lbnR9XG4gICAqL1xuICBnZXRTdHlsZUZvckN1c3RvbVN0eWxlKGN1c3RvbVN0eWxlKSB7XG4gICAgaWYgKGN1c3RvbVN0eWxlW0NBQ0hFRF9TVFlMRV0pIHtcbiAgICAgIHJldHVybiBjdXN0b21TdHlsZVtDQUNIRURfU1RZTEVdO1xuICAgIH1cbiAgICBsZXQgc3R5bGU7XG4gICAgaWYgKGN1c3RvbVN0eWxlWydnZXRTdHlsZSddKSB7XG4gICAgICBzdHlsZSA9IGN1c3RvbVN0eWxlWydnZXRTdHlsZSddKCk7XG4gICAgfSBlbHNlIHtcbiAgICAgIHN0eWxlID0gY3VzdG9tU3R5bGU7XG4gICAgfVxuICAgIHJldHVybiBzdHlsZTtcbiAgfVxuICAvKipcbiAgICogQHJldHVybiB7IUFycmF5PCFDdXN0b21TdHlsZVByb3ZpZGVyPn1cbiAgICovXG4gIHByb2Nlc3NTdHlsZXMoKSB7XG4gICAgY29uc3QgY3MgPSB0aGlzWydjdXN0b21TdHlsZXMnXTtcbiAgICBmb3IgKGxldCBpID0gMDsgaSA8IGNzLmxlbmd0aDsgaSsrKSB7XG4gICAgICBjb25zdCBjdXN0b21TdHlsZSA9IGNzW2ldO1xuICAgICAgaWYgKGN1c3RvbVN0eWxlW0NBQ0hFRF9TVFlMRV0pIHtcbiAgICAgICAgY29udGludWU7XG4gICAgICB9XG4gICAgICBjb25zdCBzdHlsZSA9IHRoaXMuZ2V0U3R5bGVGb3JDdXN0b21TdHlsZShjdXN0b21TdHlsZSk7XG4gICAgICBpZiAoc3R5bGUpIHtcbiAgICAgICAgLy8gSFRNTEltcG9ydHMgcG9seWZpbGwgbWF5IGhhdmUgY2xvbmVkIHRoZSBzdHlsZSBpbnRvIHRoZSBtYWluIGRvY3VtZW50LFxuICAgICAgICAvLyB3aGljaCBpcyByZWZlcmVuY2VkIHdpdGggX19hcHBsaWVkRWxlbWVudC5cbiAgICAgICAgY29uc3Qgc3R5bGVUb1RyYW5zZm9ybSA9IC8qKiBAdHlwZSB7IUhUTUxTdHlsZUVsZW1lbnR9ICovKHN0eWxlWydfX2FwcGxpZWRFbGVtZW50J10gfHwgc3R5bGUpO1xuICAgICAgICBpZiAodHJhbnNmb3JtRm4pIHtcbiAgICAgICAgICB0cmFuc2Zvcm1GbihzdHlsZVRvVHJhbnNmb3JtKTtcbiAgICAgICAgfVxuICAgICAgICBjdXN0b21TdHlsZVtDQUNIRURfU1RZTEVdID0gc3R5bGVUb1RyYW5zZm9ybTtcbiAgICAgIH1cbiAgICB9XG4gICAgcmV0dXJuIGNzO1xuICB9XG59XG5cbi8qIGVzbGludC1kaXNhYmxlIG5vLXNlbGYtYXNzaWduICovXG5DdXN0b21TdHlsZUludGVyZmFjZS5wcm90b3R5cGVbJ2FkZEN1c3RvbVN0eWxlJ10gPSBDdXN0b21TdHlsZUludGVyZmFjZS5wcm90b3R5cGUuYWRkQ3VzdG9tU3R5bGU7XG5DdXN0b21TdHlsZUludGVyZmFjZS5wcm90b3R5cGVbJ2dldFN0eWxlRm9yQ3VzdG9tU3R5bGUnXSA9IEN1c3RvbVN0eWxlSW50ZXJmYWNlLnByb3RvdHlwZS5nZXRTdHlsZUZvckN1c3RvbVN0eWxlO1xuQ3VzdG9tU3R5bGVJbnRlcmZhY2UucHJvdG90eXBlWydwcm9jZXNzU3R5bGVzJ10gPSBDdXN0b21TdHlsZUludGVyZmFjZS5wcm90b3R5cGUucHJvY2Vzc1N0eWxlcztcbi8qIGVzbGludC1lbmFibGUgbm8tc2VsZi1hc3NpZ24gKi9cblxuT2JqZWN0LmRlZmluZVByb3BlcnRpZXMoQ3VzdG9tU3R5bGVJbnRlcmZhY2UucHJvdG90eXBlLCB7XG4gICd0cmFuc2Zvcm1DYWxsYmFjayc6IHtcbiAgICAvKiogQHJldHVybiB7P2Z1bmN0aW9uKCFIVE1MU3R5bGVFbGVtZW50KX0gKi9cbiAgICBnZXQoKSB7XG4gICAgICByZXR1cm4gdHJhbnNmb3JtRm47XG4gICAgfSxcbiAgICAvKiogQHBhcmFtIHs/ZnVuY3Rpb24oIUhUTUxTdHlsZUVsZW1lbnQpfSBmbiAqL1xuICAgIHNldChmbikge1xuICAgICAgdHJhbnNmb3JtRm4gPSBmbjtcbiAgICB9XG4gIH0sXG4gICd2YWxpZGF0ZUNhbGxiYWNrJzoge1xuICAgIC8qKiBAcmV0dXJuIHs/ZnVuY3Rpb24oKX0gKi9cbiAgICBnZXQoKSB7XG4gICAgICByZXR1cm4gdmFsaWRhdGVGbjtcbiAgICB9LFxuICAgIC8qKlxuICAgICAqIEBwYXJhbSB7P2Z1bmN0aW9uKCl9IGZuXG4gICAgICogQHRoaXMge0N1c3RvbVN0eWxlSW50ZXJmYWNlfVxuICAgICAqL1xuICAgIHNldChmbikge1xuICAgICAgbGV0IG5lZWRzRW5xdWV1ZSA9IGZhbHNlO1xuICAgICAgaWYgKCF2YWxpZGF0ZUZuKSB7XG4gICAgICAgIG5lZWRzRW5xdWV1ZSA9IHRydWU7XG4gICAgICB9XG4gICAgICB2YWxpZGF0ZUZuID0gZm47XG4gICAgICBpZiAobmVlZHNFbnF1ZXVlKSB7XG4gICAgICAgIHRoaXMuZW5xdWV1ZURvY3VtZW50VmFsaWRhdGlvbigpO1xuICAgICAgfVxuICAgIH0sXG4gIH1cbn0pXG5cbi8qKiBAdHlwZWRlZiB7e1xuICogY3VzdG9tU3R5bGVzOiAhQXJyYXk8IUN1c3RvbVN0eWxlUHJvdmlkZXI+LFxuICogYWRkQ3VzdG9tU3R5bGU6IGZ1bmN0aW9uKCFDdXN0b21TdHlsZVByb3ZpZGVyKSxcbiAqIGdldFN0eWxlRm9yQ3VzdG9tU3R5bGU6IGZ1bmN0aW9uKCFDdXN0b21TdHlsZVByb3ZpZGVyKTogSFRNTFN0eWxlRWxlbWVudCxcbiAqIGZpbmRTdHlsZXM6IGZ1bmN0aW9uKCksXG4gKiB0cmFuc2Zvcm1DYWxsYmFjazogP2Z1bmN0aW9uKCFIVE1MU3R5bGVFbGVtZW50KSxcbiAqIHZhbGlkYXRlQ2FsbGJhY2s6ID9mdW5jdGlvbigpXG4gKiB9fVxuICovXG5leHBvcnQgY29uc3QgQ3VzdG9tU3R5bGVJbnRlcmZhY2VJbnRlcmZhY2UgPSB7fTtcbiIsIi8qKlxuQGxpY2Vuc2VcbkNvcHlyaWdodCAoYykgMjAxNSBUaGUgUG9seW1lciBQcm9qZWN0IEF1dGhvcnMuIEFsbCByaWdodHMgcmVzZXJ2ZWQuXG5UaGlzIGNvZGUgbWF5IG9ubHkgYmUgdXNlZCB1bmRlciB0aGUgQlNEIHN0eWxlIGxpY2Vuc2UgZm91bmQgYXRcbmh0dHA6Ly9wb2x5bWVyLmdpdGh1Yi5pby9MSUNFTlNFLnR4dCBUaGUgY29tcGxldGUgc2V0IG9mIGF1dGhvcnMgbWF5IGJlIGZvdW5kIGF0XG5odHRwOi8vcG9seW1lci5naXRodWIuaW8vQVVUSE9SUy50eHQgVGhlIGNvbXBsZXRlIHNldCBvZiBjb250cmlidXRvcnMgbWF5IGJlXG5mb3VuZCBhdCBodHRwOi8vcG9seW1lci5naXRodWIuaW8vQ09OVFJJQlVUT1JTLnR4dCBDb2RlIGRpc3RyaWJ1dGVkIGJ5IEdvb2dsZSBhc1xucGFydCBvZiB0aGUgcG9seW1lciBwcm9qZWN0IGlzIGFsc28gc3ViamVjdCB0byBhbiBhZGRpdGlvbmFsIElQIHJpZ2h0cyBncmFudFxuZm91bmQgYXQgaHR0cDovL3BvbHltZXIuZ2l0aHViLmlvL1BBVEVOVFMudHh0XG4qL1xuaW1wb3J0ICdAcG9seW1lci9wb2x5bWVyL3BvbHltZXItbGVnYWN5LmpzJztcblxuLyoqXG4gKiBDaHJvbWUgdXNlcyBhbiBvbGRlciB2ZXJzaW9uIG9mIERPTSBMZXZlbCAzIEtleWJvYXJkIEV2ZW50c1xuICpcbiAqIE1vc3Qga2V5cyBhcmUgbGFiZWxlZCBhcyB0ZXh0LCBidXQgc29tZSBhcmUgVW5pY29kZSBjb2RlcG9pbnRzLlxuICogVmFsdWVzIHRha2VuIGZyb206XG4gKiBodHRwOi8vd3d3LnczLm9yZy9UUi8yMDA3L1dELURPTS1MZXZlbC0zLUV2ZW50cy0yMDA3MTIyMS9rZXlzZXQuaHRtbCNLZXlTZXQtU2V0XG4gKi9cbnZhciBLRVlfSURFTlRJRklFUiA9IHtcbiAgJ1UrMDAwOCc6ICdiYWNrc3BhY2UnLFxuICAnVSswMDA5JzogJ3RhYicsXG4gICdVKzAwMUInOiAnZXNjJyxcbiAgJ1UrMDAyMCc6ICdzcGFjZScsXG4gICdVKzAwN0YnOiAnZGVsJ1xufTtcblxuLyoqXG4gKiBTcGVjaWFsIHRhYmxlIGZvciBLZXlib2FyZEV2ZW50LmtleUNvZGUuXG4gKiBLZXlib2FyZEV2ZW50LmtleUlkZW50aWZpZXIgaXMgYmV0dGVyLCBhbmQgS2V5Qm9hcmRFdmVudC5rZXkgaXMgZXZlbiBiZXR0ZXJcbiAqIHRoYW4gdGhhdC5cbiAqXG4gKiBWYWx1ZXMgZnJvbTpcbiAqIGh0dHBzOi8vZGV2ZWxvcGVyLm1vemlsbGEub3JnL2VuLVVTL2RvY3MvV2ViL0FQSS9LZXlib2FyZEV2ZW50LmtleUNvZGUjVmFsdWVfb2Zfa2V5Q29kZVxuICovXG52YXIgS0VZX0NPREUgPSB7XG4gIDg6ICdiYWNrc3BhY2UnLFxuICA5OiAndGFiJyxcbiAgMTM6ICdlbnRlcicsXG4gIDI3OiAnZXNjJyxcbiAgMzM6ICdwYWdldXAnLFxuICAzNDogJ3BhZ2Vkb3duJyxcbiAgMzU6ICdlbmQnLFxuICAzNjogJ2hvbWUnLFxuICAzMjogJ3NwYWNlJyxcbiAgMzc6ICdsZWZ0JyxcbiAgMzg6ICd1cCcsXG4gIDM5OiAncmlnaHQnLFxuICA0MDogJ2Rvd24nLFxuICA0NjogJ2RlbCcsXG4gIDEwNjogJyonXG59O1xuXG4vKipcbiAqIE1PRElGSUVSX0tFWVMgbWFwcyB0aGUgc2hvcnQgbmFtZSBmb3IgbW9kaWZpZXIga2V5cyB1c2VkIGluIGEga2V5XG4gKiBjb21ibyBzdHJpbmcgdG8gdGhlIHByb3BlcnR5IG5hbWUgdGhhdCByZWZlcmVuY2VzIHRob3NlIHNhbWUga2V5c1xuICogaW4gYSBLZXlib2FyZEV2ZW50IGluc3RhbmNlLlxuICovXG52YXIgTU9ESUZJRVJfS0VZUyA9IHtcbiAgJ3NoaWZ0JzogJ3NoaWZ0S2V5JyxcbiAgJ2N0cmwnOiAnY3RybEtleScsXG4gICdhbHQnOiAnYWx0S2V5JyxcbiAgJ21ldGEnOiAnbWV0YUtleSdcbn07XG5cbi8qKlxuICogS2V5Ym9hcmRFdmVudC5rZXkgaXMgbW9zdGx5IHJlcHJlc2VudGVkIGJ5IHByaW50YWJsZSBjaGFyYWN0ZXIgbWFkZSBieVxuICogdGhlIGtleWJvYXJkLCB3aXRoIHVucHJpbnRhYmxlIGtleXMgbGFiZWxlZCBuaWNlbHkuXG4gKlxuICogSG93ZXZlciwgb24gT1MgWCwgQWx0K2NoYXIgY2FuIG1ha2UgYSBVbmljb2RlIGNoYXJhY3RlciB0aGF0IGZvbGxvd3MgYW5cbiAqIEFwcGxlLXNwZWNpZmljIG1hcHBpbmcuIEluIHRoaXMgY2FzZSwgd2UgZmFsbCBiYWNrIHRvIC5rZXlDb2RlLlxuICovXG52YXIgS0VZX0NIQVIgPSAvW2EtejAtOSpdLztcblxuLyoqXG4gKiBNYXRjaGVzIGEga2V5SWRlbnRpZmllciBzdHJpbmcuXG4gKi9cbnZhciBJREVOVF9DSEFSID0gL1VcXCsvO1xuXG4vKipcbiAqIE1hdGNoZXMgYXJyb3cga2V5cyBpbiBHZWNrbyAyNy4wK1xuICovXG52YXIgQVJST1dfS0VZID0gL15hcnJvdy87XG5cbi8qKlxuICogTWF0Y2hlcyBzcGFjZSBrZXlzIGV2ZXJ5d2hlcmUgKG5vdGFibHkgaW5jbHVkaW5nIElFMTAncyBleGNlcHRpb25hbCBuYW1lXG4gKiBgc3BhY2ViYXJgKS5cbiAqL1xudmFyIFNQQUNFX0tFWSA9IC9ec3BhY2UoYmFyKT8vO1xuXG4vKipcbiAqIE1hdGNoZXMgRVNDIGtleS5cbiAqXG4gKiBWYWx1ZSBmcm9tOiBodHRwOi8vdzNjLmdpdGh1Yi5pby91aWV2ZW50cy1rZXkvI2tleS1Fc2NhcGVcbiAqL1xudmFyIEVTQ19LRVkgPSAvXmVzY2FwZSQvO1xuXG4vKipcbiAqIFRyYW5zZm9ybXMgdGhlIGtleS5cbiAqIEBwYXJhbSB7c3RyaW5nfSBrZXkgVGhlIEtleUJvYXJkRXZlbnQua2V5XG4gKiBAcGFyYW0ge0Jvb2xlYW59IFtub1NwZWNpYWxDaGFyc10gTGltaXRzIHRoZSB0cmFuc2Zvcm1hdGlvbiB0b1xuICogYWxwaGEtbnVtZXJpYyBjaGFyYWN0ZXJzLlxuICovXG5mdW5jdGlvbiB0cmFuc2Zvcm1LZXkoa2V5LCBub1NwZWNpYWxDaGFycykge1xuICB2YXIgdmFsaWRLZXkgPSAnJztcbiAgaWYgKGtleSkge1xuICAgIHZhciBsS2V5ID0ga2V5LnRvTG93ZXJDYXNlKCk7XG4gICAgaWYgKGxLZXkgPT09ICcgJyB8fCBTUEFDRV9LRVkudGVzdChsS2V5KSkge1xuICAgICAgdmFsaWRLZXkgPSAnc3BhY2UnO1xuICAgIH0gZWxzZSBpZiAoRVNDX0tFWS50ZXN0KGxLZXkpKSB7XG4gICAgICB2YWxpZEtleSA9ICdlc2MnO1xuICAgIH0gZWxzZSBpZiAobEtleS5sZW5ndGggPT0gMSkge1xuICAgICAgaWYgKCFub1NwZWNpYWxDaGFycyB8fCBLRVlfQ0hBUi50ZXN0KGxLZXkpKSB7XG4gICAgICAgIHZhbGlkS2V5ID0gbEtleTtcbiAgICAgIH1cbiAgICB9IGVsc2UgaWYgKEFSUk9XX0tFWS50ZXN0KGxLZXkpKSB7XG4gICAgICB2YWxpZEtleSA9IGxLZXkucmVwbGFjZSgnYXJyb3cnLCAnJyk7XG4gICAgfSBlbHNlIGlmIChsS2V5ID09ICdtdWx0aXBseScpIHtcbiAgICAgIC8vIG51bXBhZCAnKicgY2FuIG1hcCB0byBNdWx0aXBseSBvbiBJRS9XaW5kb3dzXG4gICAgICB2YWxpZEtleSA9ICcqJztcbiAgICB9IGVsc2Uge1xuICAgICAgdmFsaWRLZXkgPSBsS2V5O1xuICAgIH1cbiAgfVxuICByZXR1cm4gdmFsaWRLZXk7XG59XG5cbmZ1bmN0aW9uIHRyYW5zZm9ybUtleUlkZW50aWZpZXIoa2V5SWRlbnQpIHtcbiAgdmFyIHZhbGlkS2V5ID0gJyc7XG4gIGlmIChrZXlJZGVudCkge1xuICAgIGlmIChrZXlJZGVudCBpbiBLRVlfSURFTlRJRklFUikge1xuICAgICAgdmFsaWRLZXkgPSBLRVlfSURFTlRJRklFUltrZXlJZGVudF07XG4gICAgfSBlbHNlIGlmIChJREVOVF9DSEFSLnRlc3Qoa2V5SWRlbnQpKSB7XG4gICAgICBrZXlJZGVudCA9IHBhcnNlSW50KGtleUlkZW50LnJlcGxhY2UoJ1UrJywgJzB4JyksIDE2KTtcbiAgICAgIHZhbGlkS2V5ID0gU3RyaW5nLmZyb21DaGFyQ29kZShrZXlJZGVudCkudG9Mb3dlckNhc2UoKTtcbiAgICB9IGVsc2Uge1xuICAgICAgdmFsaWRLZXkgPSBrZXlJZGVudC50b0xvd2VyQ2FzZSgpO1xuICAgIH1cbiAgfVxuICByZXR1cm4gdmFsaWRLZXk7XG59XG5cbmZ1bmN0aW9uIHRyYW5zZm9ybUtleUNvZGUoa2V5Q29kZSkge1xuICB2YXIgdmFsaWRLZXkgPSAnJztcbiAgaWYgKE51bWJlcihrZXlDb2RlKSkge1xuICAgIGlmIChrZXlDb2RlID49IDY1ICYmIGtleUNvZGUgPD0gOTApIHtcbiAgICAgIC8vIGFzY2lpIGEtelxuICAgICAgLy8gbG93ZXJjYXNlIGlzIDMyIG9mZnNldCBmcm9tIHVwcGVyY2FzZVxuICAgICAgdmFsaWRLZXkgPSBTdHJpbmcuZnJvbUNoYXJDb2RlKDMyICsga2V5Q29kZSk7XG4gICAgfSBlbHNlIGlmIChrZXlDb2RlID49IDExMiAmJiBrZXlDb2RlIDw9IDEyMykge1xuICAgICAgLy8gZnVuY3Rpb24ga2V5cyBmMS1mMTJcbiAgICAgIHZhbGlkS2V5ID0gJ2YnICsgKGtleUNvZGUgLSAxMTIgKyAxKTtcbiAgICB9IGVsc2UgaWYgKGtleUNvZGUgPj0gNDggJiYga2V5Q29kZSA8PSA1Nykge1xuICAgICAgLy8gdG9wIDAtOSBrZXlzXG4gICAgICB2YWxpZEtleSA9IFN0cmluZyhrZXlDb2RlIC0gNDgpO1xuICAgIH0gZWxzZSBpZiAoa2V5Q29kZSA+PSA5NiAmJiBrZXlDb2RlIDw9IDEwNSkge1xuICAgICAgLy8gbnVtIHBhZCAwLTlcbiAgICAgIHZhbGlkS2V5ID0gU3RyaW5nKGtleUNvZGUgLSA5Nik7XG4gICAgfSBlbHNlIHtcbiAgICAgIHZhbGlkS2V5ID0gS0VZX0NPREVba2V5Q29kZV07XG4gICAgfVxuICB9XG4gIHJldHVybiB2YWxpZEtleTtcbn1cblxuLyoqXG4gKiBDYWxjdWxhdGVzIHRoZSBub3JtYWxpemVkIGtleSBmb3IgYSBLZXlib2FyZEV2ZW50LlxuICogQHBhcmFtIHtLZXlib2FyZEV2ZW50fSBrZXlFdmVudFxuICogQHBhcmFtIHtCb29sZWFufSBbbm9TcGVjaWFsQ2hhcnNdIFNldCB0byB0cnVlIHRvIGxpbWl0IGtleUV2ZW50LmtleVxuICogdHJhbnNmb3JtYXRpb24gdG8gYWxwaGEtbnVtZXJpYyBjaGFycy4gVGhpcyBpcyB1c2VmdWwgd2l0aCBrZXlcbiAqIGNvbWJpbmF0aW9ucyBsaWtlIHNoaWZ0ICsgMiwgd2hpY2ggb24gRkYgZm9yIE1hY09TIHByb2R1Y2VzXG4gKiBrZXlFdmVudC5rZXkgPSBAXG4gKiBUbyBnZXQgMiByZXR1cm5lZCwgc2V0IG5vU3BlY2lhbENoYXJzID0gdHJ1ZVxuICogVG8gZ2V0IEAgcmV0dXJuZWQsIHNldCBub1NwZWNpYWxDaGFycyA9IGZhbHNlXG4gKi9cbmZ1bmN0aW9uIG5vcm1hbGl6ZWRLZXlGb3JFdmVudChrZXlFdmVudCwgbm9TcGVjaWFsQ2hhcnMpIHtcbiAgLy8gRmFsbCBiYWNrIGZyb20gLmtleSwgdG8gLmRldGFpbC5rZXkgZm9yIGFydGlmaWNhbCBrZXlib2FyZCBldmVudHMsXG4gIC8vIGFuZCB0aGVuIHRvIGRlcHJlY2F0ZWQgLmtleUlkZW50aWZpZXIgYW5kIC5rZXlDb2RlLlxuICBpZiAoa2V5RXZlbnQua2V5KSB7XG4gICAgcmV0dXJuIHRyYW5zZm9ybUtleShrZXlFdmVudC5rZXksIG5vU3BlY2lhbENoYXJzKTtcbiAgfVxuICBpZiAoa2V5RXZlbnQuZGV0YWlsICYmIGtleUV2ZW50LmRldGFpbC5rZXkpIHtcbiAgICByZXR1cm4gdHJhbnNmb3JtS2V5KGtleUV2ZW50LmRldGFpbC5rZXksIG5vU3BlY2lhbENoYXJzKTtcbiAgfVxuICByZXR1cm4gdHJhbnNmb3JtS2V5SWRlbnRpZmllcihrZXlFdmVudC5rZXlJZGVudGlmaWVyKSB8fFxuICAgICAgdHJhbnNmb3JtS2V5Q29kZShrZXlFdmVudC5rZXlDb2RlKSB8fCAnJztcbn1cblxuZnVuY3Rpb24ga2V5Q29tYm9NYXRjaGVzRXZlbnQoa2V5Q29tYm8sIGV2ZW50KSB7XG4gIC8vIEZvciBjb21ib3Mgd2l0aCBtb2RpZmllcnMgd2Ugc3VwcG9ydCBvbmx5IGFscGhhLW51bWVyaWMga2V5c1xuICB2YXIga2V5RXZlbnQgPSBub3JtYWxpemVkS2V5Rm9yRXZlbnQoZXZlbnQsIGtleUNvbWJvLmhhc01vZGlmaWVycyk7XG4gIHJldHVybiBrZXlFdmVudCA9PT0ga2V5Q29tYm8ua2V5ICYmXG4gICAgICAoIWtleUNvbWJvLmhhc01vZGlmaWVycyB8fFxuICAgICAgICghIWV2ZW50LnNoaWZ0S2V5ID09PSAhIWtleUNvbWJvLnNoaWZ0S2V5ICYmXG4gICAgICAgICEhZXZlbnQuY3RybEtleSA9PT0gISFrZXlDb21iby5jdHJsS2V5ICYmXG4gICAgICAgICEhZXZlbnQuYWx0S2V5ID09PSAhIWtleUNvbWJvLmFsdEtleSAmJlxuICAgICAgICAhIWV2ZW50Lm1ldGFLZXkgPT09ICEha2V5Q29tYm8ubWV0YUtleSkpO1xufVxuXG5mdW5jdGlvbiBwYXJzZUtleUNvbWJvU3RyaW5nKGtleUNvbWJvU3RyaW5nKSB7XG4gIGlmIChrZXlDb21ib1N0cmluZy5sZW5ndGggPT09IDEpIHtcbiAgICByZXR1cm4ge2NvbWJvOiBrZXlDb21ib1N0cmluZywga2V5OiBrZXlDb21ib1N0cmluZywgZXZlbnQ6ICdrZXlkb3duJ307XG4gIH1cbiAgcmV0dXJuIGtleUNvbWJvU3RyaW5nLnNwbGl0KCcrJylcbiAgICAgIC5yZWR1Y2UoZnVuY3Rpb24ocGFyc2VkS2V5Q29tYm8sIGtleUNvbWJvUGFydCkge1xuICAgICAgICB2YXIgZXZlbnRQYXJ0cyA9IGtleUNvbWJvUGFydC5zcGxpdCgnOicpO1xuICAgICAgICB2YXIga2V5TmFtZSA9IGV2ZW50UGFydHNbMF07XG4gICAgICAgIHZhciBldmVudCA9IGV2ZW50UGFydHNbMV07XG5cbiAgICAgICAgaWYgKGtleU5hbWUgaW4gTU9ESUZJRVJfS0VZUykge1xuICAgICAgICAgIHBhcnNlZEtleUNvbWJvW01PRElGSUVSX0tFWVNba2V5TmFtZV1dID0gdHJ1ZTtcbiAgICAgICAgICBwYXJzZWRLZXlDb21iby5oYXNNb2RpZmllcnMgPSB0cnVlO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgIHBhcnNlZEtleUNvbWJvLmtleSA9IGtleU5hbWU7XG4gICAgICAgICAgcGFyc2VkS2V5Q29tYm8uZXZlbnQgPSBldmVudCB8fCAna2V5ZG93bic7XG4gICAgICAgIH1cblxuICAgICAgICByZXR1cm4gcGFyc2VkS2V5Q29tYm87XG4gICAgICB9LCB7Y29tYm86IGtleUNvbWJvU3RyaW5nLnNwbGl0KCc6Jykuc2hpZnQoKX0pO1xufVxuXG5mdW5jdGlvbiBwYXJzZUV2ZW50U3RyaW5nKGV2ZW50U3RyaW5nKSB7XG4gIHJldHVybiBldmVudFN0cmluZy50cmltKCkuc3BsaXQoJyAnKS5tYXAoZnVuY3Rpb24oa2V5Q29tYm9TdHJpbmcpIHtcbiAgICByZXR1cm4gcGFyc2VLZXlDb21ib1N0cmluZyhrZXlDb21ib1N0cmluZyk7XG4gIH0pO1xufVxuXG4vKipcbiAqIGBQb2x5bWVyLklyb25BMTF5S2V5c0JlaGF2aW9yYCBwcm92aWRlcyBhIG5vcm1hbGl6ZWQgaW50ZXJmYWNlIGZvciBwcm9jZXNzaW5nXG4gKiBrZXlib2FyZCBjb21tYW5kcyB0aGF0IHBlcnRhaW4gdG8gW1dBSS1BUklBIGJlc3RcbiAqIHByYWN0aWNlc10oaHR0cDovL3d3dy53My5vcmcvVFIvd2FpLWFyaWEtcHJhY3RpY2VzLyNrYmRfZ2VuZXJhbF9iaW5kaW5nKS4gVGhlXG4gKiBlbGVtZW50IHRha2VzIGNhcmUgb2YgYnJvd3NlciBkaWZmZXJlbmNlcyB3aXRoIHJlc3BlY3QgdG8gS2V5Ym9hcmQgZXZlbnRzIGFuZFxuICogdXNlcyBhbiBleHByZXNzaXZlIHN5bnRheCB0byBmaWx0ZXIga2V5IHByZXNzZXMuXG4gKlxuICogVXNlIHRoZSBga2V5QmluZGluZ3NgIHByb3RvdHlwZSBwcm9wZXJ0eSB0byBleHByZXNzIHdoYXQgY29tYmluYXRpb24gb2Yga2V5c1xuICogd2lsbCB0cmlnZ2VyIHRoZSBjYWxsYmFjay4gQSBrZXkgYmluZGluZyBoYXMgdGhlIGZvcm1hdFxuICogYFwiS0VZK01PRElGSUVSOkVWRU5UXCI6IFwiY2FsbGJhY2tcImAgKGBcIktFWVwiOiBcImNhbGxiYWNrXCJgIG9yXG4gKiBgXCJLRVk6RVZFTlRcIjogXCJjYWxsYmFja1wiYCBhcmUgdmFsaWQgYXMgd2VsbCkuIFNvbWUgZXhhbXBsZXM6XG4gKlxuICogICAgICBrZXlCaW5kaW5nczoge1xuICogICAgICAgICdzcGFjZSc6ICdfb25LZXlkb3duJywgLy8gc2FtZSBhcyAnc3BhY2U6a2V5ZG93bidcbiAqICAgICAgICAnc2hpZnQrdGFiJzogJ19vbktleWRvd24nLFxuICogICAgICAgICdlbnRlcjprZXlwcmVzcyc6ICdfb25LZXlwcmVzcycsXG4gKiAgICAgICAgJ2VzYzprZXl1cCc6ICdfb25LZXl1cCdcbiAqICAgICAgfVxuICpcbiAqIFRoZSBjYWxsYmFjayB3aWxsIHJlY2VpdmUgd2l0aCBhbiBldmVudCBjb250YWluaW5nIHRoZSBmb2xsb3dpbmcgaW5mb3JtYXRpb25cbiAqIGluIGBldmVudC5kZXRhaWxgOlxuICpcbiAqICAgICAgX29uS2V5ZG93bjogZnVuY3Rpb24oZXZlbnQpIHtcbiAqICAgICAgICBjb25zb2xlLmxvZyhldmVudC5kZXRhaWwuY29tYm8pOyAvLyBLRVkrTU9ESUZJRVIsIGUuZy4gXCJzaGlmdCt0YWJcIlxuICogICAgICAgIGNvbnNvbGUubG9nKGV2ZW50LmRldGFpbC5rZXkpOyAvLyBLRVkgb25seSwgZS5nLiBcInRhYlwiXG4gKiAgICAgICAgY29uc29sZS5sb2coZXZlbnQuZGV0YWlsLmV2ZW50KTsgLy8gRVZFTlQsIGUuZy4gXCJrZXlkb3duXCJcbiAqICAgICAgICBjb25zb2xlLmxvZyhldmVudC5kZXRhaWwua2V5Ym9hcmRFdmVudCk7IC8vIHRoZSBvcmlnaW5hbCBLZXlib2FyZEV2ZW50XG4gKiAgICAgIH1cbiAqXG4gKiBVc2UgdGhlIGBrZXlFdmVudFRhcmdldGAgYXR0cmlidXRlIHRvIHNldCB1cCBldmVudCBoYW5kbGVycyBvbiBhIHNwZWNpZmljXG4gKiBub2RlLlxuICpcbiAqIFNlZSB0aGUgW2RlbW8gc291cmNlXG4gKiBjb2RlXShodHRwczovL2dpdGh1Yi5jb20vUG9seW1lckVsZW1lbnRzL2lyb24tYTExeS1rZXlzLWJlaGF2aW9yL2Jsb2IvbWFzdGVyL2RlbW8veC1rZXktYXdhcmUuaHRtbClcbiAqIGZvciBhbiBleGFtcGxlLlxuICpcbiAqIEBkZW1vIGRlbW8vaW5kZXguaHRtbFxuICogQHBvbHltZXJCZWhhdmlvclxuICovXG5leHBvcnQgY29uc3QgSXJvbkExMXlLZXlzQmVoYXZpb3IgPSB7XG4gIHByb3BlcnRpZXM6IHtcbiAgICAvKipcbiAgICAgKiBUaGUgRXZlbnRUYXJnZXQgdGhhdCB3aWxsIGJlIGZpcmluZyByZWxldmFudCBLZXlib2FyZEV2ZW50cy4gU2V0IGl0IHRvXG4gICAgICogYG51bGxgIHRvIGRpc2FibGUgdGhlIGxpc3RlbmVycy5cbiAgICAgKiBAdHlwZSB7P0V2ZW50VGFyZ2V0fVxuICAgICAqL1xuICAgIGtleUV2ZW50VGFyZ2V0OiB7XG4gICAgICB0eXBlOiBPYmplY3QsXG4gICAgICB2YWx1ZTogZnVuY3Rpb24oKSB7XG4gICAgICAgIHJldHVybiB0aGlzO1xuICAgICAgfVxuICAgIH0sXG5cbiAgICAvKipcbiAgICAgKiBJZiB0cnVlLCB0aGlzIHByb3BlcnR5IHdpbGwgY2F1c2UgdGhlIGltcGxlbWVudGluZyBlbGVtZW50IHRvXG4gICAgICogYXV0b21hdGljYWxseSBzdG9wIHByb3BhZ2F0aW9uIG9uIGFueSBoYW5kbGVkIEtleWJvYXJkRXZlbnRzLlxuICAgICAqL1xuICAgIHN0b3BLZXlib2FyZEV2ZW50UHJvcGFnYXRpb246IHt0eXBlOiBCb29sZWFuLCB2YWx1ZTogZmFsc2V9LFxuXG4gICAgX2JvdW5kS2V5SGFuZGxlcnM6IHtcbiAgICAgIHR5cGU6IEFycmF5LFxuICAgICAgdmFsdWU6IGZ1bmN0aW9uKCkge1xuICAgICAgICByZXR1cm4gW107XG4gICAgICB9XG4gICAgfSxcblxuICAgIC8vIFdlIHVzZSB0aGlzIGR1ZSB0byBhIGxpbWl0YXRpb24gaW4gSUUxMCB3aGVyZSBpbnN0YW5jZXMgd2lsbCBoYXZlXG4gICAgLy8gb3duIHByb3BlcnRpZXMgb2YgZXZlcnl0aGluZyBvbiB0aGUgXCJwcm90b3R5cGVcIi5cbiAgICBfaW1wZXJhdGl2ZUtleUJpbmRpbmdzOiB7XG4gICAgICB0eXBlOiBPYmplY3QsXG4gICAgICB2YWx1ZTogZnVuY3Rpb24oKSB7XG4gICAgICAgIHJldHVybiB7fTtcbiAgICAgIH1cbiAgICB9XG4gIH0sXG5cbiAgb2JzZXJ2ZXJzOiBbJ19yZXNldEtleUV2ZW50TGlzdGVuZXJzKGtleUV2ZW50VGFyZ2V0LCBfYm91bmRLZXlIYW5kbGVycyknXSxcblxuXG4gIC8qKlxuICAgKiBUbyBiZSB1c2VkIHRvIGV4cHJlc3Mgd2hhdCBjb21iaW5hdGlvbiBvZiBrZXlzICB3aWxsIHRyaWdnZXIgdGhlIHJlbGF0aXZlXG4gICAqIGNhbGxiYWNrLiBlLmcuIGBrZXlCaW5kaW5nczogeyAnZXNjJzogJ19vbkVzY1ByZXNzZWQnfWBcbiAgICogQHR5cGUgeyFPYmplY3R9XG4gICAqL1xuICBrZXlCaW5kaW5nczoge30sXG5cbiAgcmVnaXN0ZXJlZDogZnVuY3Rpb24oKSB7XG4gICAgdGhpcy5fcHJlcEtleUJpbmRpbmdzKCk7XG4gIH0sXG5cbiAgYXR0YWNoZWQ6IGZ1bmN0aW9uKCkge1xuICAgIHRoaXMuX2xpc3RlbktleUV2ZW50TGlzdGVuZXJzKCk7XG4gIH0sXG5cbiAgZGV0YWNoZWQ6IGZ1bmN0aW9uKCkge1xuICAgIHRoaXMuX3VubGlzdGVuS2V5RXZlbnRMaXN0ZW5lcnMoKTtcbiAgfSxcblxuICAvKipcbiAgICogQ2FuIGJlIHVzZWQgdG8gaW1wZXJhdGl2ZWx5IGFkZCBhIGtleSBiaW5kaW5nIHRvIHRoZSBpbXBsZW1lbnRpbmdcbiAgICogZWxlbWVudC4gVGhpcyBpcyB0aGUgaW1wZXJhdGl2ZSBlcXVpdmFsZW50IG9mIGRlY2xhcmluZyBhIGtleWJpbmRpbmdcbiAgICogaW4gdGhlIGBrZXlCaW5kaW5nc2AgcHJvdG90eXBlIHByb3BlcnR5LlxuICAgKlxuICAgKiBAcGFyYW0ge3N0cmluZ30gZXZlbnRTdHJpbmdcbiAgICogQHBhcmFtIHtzdHJpbmd9IGhhbmRsZXJOYW1lXG4gICAqL1xuICBhZGRPd25LZXlCaW5kaW5nOiBmdW5jdGlvbihldmVudFN0cmluZywgaGFuZGxlck5hbWUpIHtcbiAgICB0aGlzLl9pbXBlcmF0aXZlS2V5QmluZGluZ3NbZXZlbnRTdHJpbmddID0gaGFuZGxlck5hbWU7XG4gICAgdGhpcy5fcHJlcEtleUJpbmRpbmdzKCk7XG4gICAgdGhpcy5fcmVzZXRLZXlFdmVudExpc3RlbmVycygpO1xuICB9LFxuXG4gIC8qKlxuICAgKiBXaGVuIGNhbGxlZCwgd2lsbCByZW1vdmUgYWxsIGltcGVyYXRpdmVseS1hZGRlZCBrZXkgYmluZGluZ3MuXG4gICAqL1xuICByZW1vdmVPd25LZXlCaW5kaW5nczogZnVuY3Rpb24oKSB7XG4gICAgdGhpcy5faW1wZXJhdGl2ZUtleUJpbmRpbmdzID0ge307XG4gICAgdGhpcy5fcHJlcEtleUJpbmRpbmdzKCk7XG4gICAgdGhpcy5fcmVzZXRLZXlFdmVudExpc3RlbmVycygpO1xuICB9LFxuXG4gIC8qKlxuICAgKiBSZXR1cm5zIHRydWUgaWYgYSBrZXlib2FyZCBldmVudCBtYXRjaGVzIGBldmVudFN0cmluZ2AuXG4gICAqXG4gICAqIEBwYXJhbSB7S2V5Ym9hcmRFdmVudH0gZXZlbnRcbiAgICogQHBhcmFtIHtzdHJpbmd9IGV2ZW50U3RyaW5nXG4gICAqIEByZXR1cm4ge2Jvb2xlYW59XG4gICAqL1xuICBrZXlib2FyZEV2ZW50TWF0Y2hlc0tleXM6IGZ1bmN0aW9uKGV2ZW50LCBldmVudFN0cmluZykge1xuICAgIHZhciBrZXlDb21ib3MgPSBwYXJzZUV2ZW50U3RyaW5nKGV2ZW50U3RyaW5nKTtcbiAgICBmb3IgKHZhciBpID0gMDsgaSA8IGtleUNvbWJvcy5sZW5ndGg7ICsraSkge1xuICAgICAgaWYgKGtleUNvbWJvTWF0Y2hlc0V2ZW50KGtleUNvbWJvc1tpXSwgZXZlbnQpKSB7XG4gICAgICAgIHJldHVybiB0cnVlO1xuICAgICAgfVxuICAgIH1cbiAgICByZXR1cm4gZmFsc2U7XG4gIH0sXG5cbiAgX2NvbGxlY3RLZXlCaW5kaW5nczogZnVuY3Rpb24oKSB7XG4gICAgdmFyIGtleUJpbmRpbmdzID0gdGhpcy5iZWhhdmlvcnMubWFwKGZ1bmN0aW9uKGJlaGF2aW9yKSB7XG4gICAgICByZXR1cm4gYmVoYXZpb3Iua2V5QmluZGluZ3M7XG4gICAgfSk7XG5cbiAgICBpZiAoa2V5QmluZGluZ3MuaW5kZXhPZih0aGlzLmtleUJpbmRpbmdzKSA9PT0gLTEpIHtcbiAgICAgIGtleUJpbmRpbmdzLnB1c2godGhpcy5rZXlCaW5kaW5ncyk7XG4gICAgfVxuXG4gICAgcmV0dXJuIGtleUJpbmRpbmdzO1xuICB9LFxuXG4gIF9wcmVwS2V5QmluZGluZ3M6IGZ1bmN0aW9uKCkge1xuICAgIHRoaXMuX2tleUJpbmRpbmdzID0ge307XG5cbiAgICB0aGlzLl9jb2xsZWN0S2V5QmluZGluZ3MoKS5mb3JFYWNoKGZ1bmN0aW9uKGtleUJpbmRpbmdzKSB7XG4gICAgICBmb3IgKHZhciBldmVudFN0cmluZyBpbiBrZXlCaW5kaW5ncykge1xuICAgICAgICB0aGlzLl9hZGRLZXlCaW5kaW5nKGV2ZW50U3RyaW5nLCBrZXlCaW5kaW5nc1tldmVudFN0cmluZ10pO1xuICAgICAgfVxuICAgIH0sIHRoaXMpO1xuXG4gICAgZm9yICh2YXIgZXZlbnRTdHJpbmcgaW4gdGhpcy5faW1wZXJhdGl2ZUtleUJpbmRpbmdzKSB7XG4gICAgICB0aGlzLl9hZGRLZXlCaW5kaW5nKFxuICAgICAgICAgIGV2ZW50U3RyaW5nLCB0aGlzLl9pbXBlcmF0aXZlS2V5QmluZGluZ3NbZXZlbnRTdHJpbmddKTtcbiAgICB9XG5cbiAgICAvLyBHaXZlIHByZWNlZGVuY2UgdG8gY29tYm9zIHdpdGggbW9kaWZpZXJzIHRvIGJlIGNoZWNrZWQgZmlyc3QuXG4gICAgZm9yICh2YXIgZXZlbnROYW1lIGluIHRoaXMuX2tleUJpbmRpbmdzKSB7XG4gICAgICB0aGlzLl9rZXlCaW5kaW5nc1tldmVudE5hbWVdLnNvcnQoZnVuY3Rpb24oa2IxLCBrYjIpIHtcbiAgICAgICAgdmFyIGIxID0ga2IxWzBdLmhhc01vZGlmaWVycztcbiAgICAgICAgdmFyIGIyID0ga2IyWzBdLmhhc01vZGlmaWVycztcbiAgICAgICAgcmV0dXJuIChiMSA9PT0gYjIpID8gMCA6IGIxID8gLTEgOiAxO1xuICAgICAgfSlcbiAgICB9XG4gIH0sXG5cbiAgX2FkZEtleUJpbmRpbmc6IGZ1bmN0aW9uKGV2ZW50U3RyaW5nLCBoYW5kbGVyTmFtZSkge1xuICAgIHBhcnNlRXZlbnRTdHJpbmcoZXZlbnRTdHJpbmcpLmZvckVhY2goZnVuY3Rpb24oa2V5Q29tYm8pIHtcbiAgICAgIHRoaXMuX2tleUJpbmRpbmdzW2tleUNvbWJvLmV2ZW50XSA9XG4gICAgICAgICAgdGhpcy5fa2V5QmluZGluZ3Nba2V5Q29tYm8uZXZlbnRdIHx8IFtdO1xuXG4gICAgICB0aGlzLl9rZXlCaW5kaW5nc1trZXlDb21iby5ldmVudF0ucHVzaChba2V5Q29tYm8sIGhhbmRsZXJOYW1lXSk7XG4gICAgfSwgdGhpcyk7XG4gIH0sXG5cbiAgX3Jlc2V0S2V5RXZlbnRMaXN0ZW5lcnM6IGZ1bmN0aW9uKCkge1xuICAgIHRoaXMuX3VubGlzdGVuS2V5RXZlbnRMaXN0ZW5lcnMoKTtcblxuICAgIGlmICh0aGlzLmlzQXR0YWNoZWQpIHtcbiAgICAgIHRoaXMuX2xpc3RlbktleUV2ZW50TGlzdGVuZXJzKCk7XG4gICAgfVxuICB9LFxuXG4gIF9saXN0ZW5LZXlFdmVudExpc3RlbmVyczogZnVuY3Rpb24oKSB7XG4gICAgaWYgKCF0aGlzLmtleUV2ZW50VGFyZ2V0KSB7XG4gICAgICByZXR1cm47XG4gICAgfVxuICAgIE9iamVjdC5rZXlzKHRoaXMuX2tleUJpbmRpbmdzKS5mb3JFYWNoKGZ1bmN0aW9uKGV2ZW50TmFtZSkge1xuICAgICAgdmFyIGtleUJpbmRpbmdzID0gdGhpcy5fa2V5QmluZGluZ3NbZXZlbnROYW1lXTtcbiAgICAgIHZhciBib3VuZEtleUhhbmRsZXIgPSB0aGlzLl9vbktleUJpbmRpbmdFdmVudC5iaW5kKHRoaXMsIGtleUJpbmRpbmdzKTtcblxuICAgICAgdGhpcy5fYm91bmRLZXlIYW5kbGVycy5wdXNoKFxuICAgICAgICAgIFt0aGlzLmtleUV2ZW50VGFyZ2V0LCBldmVudE5hbWUsIGJvdW5kS2V5SGFuZGxlcl0pO1xuXG4gICAgICB0aGlzLmtleUV2ZW50VGFyZ2V0LmFkZEV2ZW50TGlzdGVuZXIoZXZlbnROYW1lLCBib3VuZEtleUhhbmRsZXIpO1xuICAgIH0sIHRoaXMpO1xuICB9LFxuXG4gIF91bmxpc3RlbktleUV2ZW50TGlzdGVuZXJzOiBmdW5jdGlvbigpIHtcbiAgICB2YXIga2V5SGFuZGxlclR1cGxlO1xuICAgIHZhciBrZXlFdmVudFRhcmdldDtcbiAgICB2YXIgZXZlbnROYW1lO1xuICAgIHZhciBib3VuZEtleUhhbmRsZXI7XG5cbiAgICB3aGlsZSAodGhpcy5fYm91bmRLZXlIYW5kbGVycy5sZW5ndGgpIHtcbiAgICAgIC8vIE15IGtpbmdkb20gZm9yIGJsb2NrLXNjb3BlIGJpbmRpbmcgYW5kIGRlc3RydWN0dXJpbmcgYXNzaWdubWVudC4uXG4gICAgICBrZXlIYW5kbGVyVHVwbGUgPSB0aGlzLl9ib3VuZEtleUhhbmRsZXJzLnBvcCgpO1xuICAgICAga2V5RXZlbnRUYXJnZXQgPSBrZXlIYW5kbGVyVHVwbGVbMF07XG4gICAgICBldmVudE5hbWUgPSBrZXlIYW5kbGVyVHVwbGVbMV07XG4gICAgICBib3VuZEtleUhhbmRsZXIgPSBrZXlIYW5kbGVyVHVwbGVbMl07XG5cbiAgICAgIGtleUV2ZW50VGFyZ2V0LnJlbW92ZUV2ZW50TGlzdGVuZXIoZXZlbnROYW1lLCBib3VuZEtleUhhbmRsZXIpO1xuICAgIH1cbiAgfSxcblxuICBfb25LZXlCaW5kaW5nRXZlbnQ6IGZ1bmN0aW9uKGtleUJpbmRpbmdzLCBldmVudCkge1xuICAgIGlmICh0aGlzLnN0b3BLZXlib2FyZEV2ZW50UHJvcGFnYXRpb24pIHtcbiAgICAgIGV2ZW50LnN0b3BQcm9wYWdhdGlvbigpO1xuICAgIH1cblxuICAgIC8vIGlmIGV2ZW50IGhhcyBiZWVuIGFscmVhZHkgcHJldmVudGVkLCBkb24ndCBkbyBhbnl0aGluZ1xuICAgIGlmIChldmVudC5kZWZhdWx0UHJldmVudGVkKSB7XG4gICAgICByZXR1cm47XG4gICAgfVxuXG4gICAgZm9yICh2YXIgaSA9IDA7IGkgPCBrZXlCaW5kaW5ncy5sZW5ndGg7IGkrKykge1xuICAgICAgdmFyIGtleUNvbWJvID0ga2V5QmluZGluZ3NbaV1bMF07XG4gICAgICB2YXIgaGFuZGxlck5hbWUgPSBrZXlCaW5kaW5nc1tpXVsxXTtcbiAgICAgIGlmIChrZXlDb21ib01hdGNoZXNFdmVudChrZXlDb21ibywgZXZlbnQpKSB7XG4gICAgICAgIHRoaXMuX3RyaWdnZXJLZXlIYW5kbGVyKGtleUNvbWJvLCBoYW5kbGVyTmFtZSwgZXZlbnQpO1xuICAgICAgICAvLyBleGl0IHRoZSBsb29wIGlmIGV2ZW50RGVmYXVsdCB3YXMgcHJldmVudGVkXG4gICAgICAgIGlmIChldmVudC5kZWZhdWx0UHJldmVudGVkKSB7XG4gICAgICAgICAgcmV0dXJuO1xuICAgICAgICB9XG4gICAgICB9XG4gICAgfVxuICB9LFxuXG4gIF90cmlnZ2VyS2V5SGFuZGxlcjogZnVuY3Rpb24oa2V5Q29tYm8sIGhhbmRsZXJOYW1lLCBrZXlib2FyZEV2ZW50KSB7XG4gICAgdmFyIGRldGFpbCA9IE9iamVjdC5jcmVhdGUoa2V5Q29tYm8pO1xuICAgIGRldGFpbC5rZXlib2FyZEV2ZW50ID0ga2V5Ym9hcmRFdmVudDtcbiAgICB2YXIgZXZlbnQgPVxuICAgICAgICBuZXcgQ3VzdG9tRXZlbnQoa2V5Q29tYm8uZXZlbnQsIHtkZXRhaWw6IGRldGFpbCwgY2FuY2VsYWJsZTogdHJ1ZX0pO1xuICAgIHRoaXNbaGFuZGxlck5hbWVdLmNhbGwodGhpcywgZXZlbnQpO1xuICAgIGlmIChldmVudC5kZWZhdWx0UHJldmVudGVkKSB7XG4gICAgICBrZXlib2FyZEV2ZW50LnByZXZlbnREZWZhdWx0KCk7XG4gICAgfVxuICB9XG59O1xuIiwiaW1wb3J0IHsgaHRtbCB9IGZyb20gJ2xpdC1lbGVtZW50L2xpdC1lbGVtZW50J1xuXG5leHBvcnQgY29uc3QgbWVudUljb24gPSBodG1sYDxzdmcgaGVpZ2h0PVwiMjRcIiB2aWV3Qm94PVwiMCAwIDI0IDI0XCIgd2lkdGg9XCIyNFwiPjxwYXRoIGQ9XCJNMyAxOGgxOHYtMkgzdjJ6bTAtNWgxOHYtMkgzdjJ6bTAtN3YyaDE4VjZIM3pcIj48L3BhdGg+PC9zdmc+YFxuZXhwb3J0IGNvbnN0IGFkZFRvQ2FydEljb24gPSBodG1sYDxzdmcgaGVpZ2h0PVwiMjRcIiB2aWV3Qm94PVwiMCAwIDI0IDI0XCIgd2lkdGg9XCIyNFwiPjxwYXRoIGQ9XCJNMCAwaDI0djI0SDB6bTE4LjMxIDZsLTIuNzYgNXpcIiBmaWxsPVwibm9uZVwiLz48cGF0aCBpZD1cImNhcnQtcGF0aFwiIGQ9XCJNMTEgOWgyVjZoM1Y0aC0zVjFoLTJ2M0g4djJoM3Yzem0tNCA5Yy0xLjEgMC0xLjk5LjktMS45OSAyUzUuOSAyMiA3IDIyczItLjkgMi0yLS45LTItMi0yem0xMCAwYy0xLjEgMC0xLjk5LjktMS45OSAycy44OSAyIDEuOTkgMiAyLS45IDItMi0uOS0yLTItMnptLTkuODMtMy4yNWwuMDMtLjEyLjktMS42M2g3LjQ1Yy43NSAwIDEuNDEtLjQxIDEuNzUtMS4wM2wzLjg2LTcuMDFMMTkuNDIgNGgtLjAxbC0xLjEgMi0yLjc2IDVIOC41M2wtLjEzLS4yN0w2LjE2IDZsLS45NS0yLS45NC0ySDF2MmgybDMuNiA3LjU5LTEuMzUgMi40NWMtLjE2LjI4LS4yNS42MS0uMjUuOTYgMCAxLjEuOSAyIDIgMmgxMnYtMkg3LjQyYy0uMTMgMC0uMjUtLjExLS4yNS0uMjV6XCIvPjwvc3ZnPmBcbmV4cG9ydCBjb25zdCByZW1vdmVGcm9tQ2FydEljb24gPSBodG1sYDxzdmcgaGVpZ2h0PVwiMjRcIiB2aWV3Qm94PVwiMCAwIDI0IDI0XCIgd2lkdGg9XCIyNFwiPjxwYXRoIGQ9XCJNMjIuNzMgMjIuNzNMMi43NyAyLjc3IDIgMmwtLjczLS43M0wwIDIuNTRsNC4zOSA0LjM5IDIuMjEgNC42Ni0xLjM1IDIuNDVjLS4xNi4yOC0uMjUuNjEtLjI1Ljk2IDAgMS4xLjkgMiAyIDJoNy40NmwxLjM4IDEuMzhjLS41LjM2LS44My45NS0uODMgMS42MiAwIDEuMS44OSAyIDEuOTkgMiAuNjcgMCAxLjI2LS4zMyAxLjYyLS44NEwyMS40NiAyNGwxLjI3LTEuMjd6TTcuNDIgMTVjLS4xNCAwLS4yNS0uMTEtLjI1LS4yNWwuMDMtLjEyLjktMS42M2gyLjM2bDIgMkg3LjQyem04LjEzLTJjLjc1IDAgMS40MS0uNDEgMS43NS0xLjAzbDMuNTgtNi40OWMuMDgtLjE0LjEyLS4zMS4xMi0uNDggMC0uNTUtLjQ1LTEtMS0xSDYuNTRsOS4wMSA5ek03IDE4Yy0xLjEgMC0xLjk5LjktMS45OSAyUzUuOSAyMiA3IDIyczItLjkgMi0yLS45LTItMi0yelwiLz48cGF0aCBkPVwiTTAgMGgyNHYyNEgwelwiIGZpbGw9XCJub25lXCIvPjwvc3ZnPmBcbmV4cG9ydCBjb25zdCBtaW51c0ljb24gPSBodG1sYDxzdmcgaGVpZ2h0PVwiMjRcIiB2aWV3Qm94PVwiMCAwIDI0IDI0XCIgd2lkdGg9XCIyNFwiPjxwYXRoIGQ9XCJNMCAwaDI0djI0SDB6XCIgZmlsbD1cIm5vbmVcIi8+PHBhdGggZD1cIk03IDExdjJoMTB2LTJIN3ptNS05QzYuNDggMiAyIDYuNDggMiAxMnM0LjQ4IDEwIDEwIDEwIDEwLTQuNDggMTAtMTBTMTcuNTIgMiAxMiAyem0wIDE4Yy00LjQxIDAtOC0zLjU5LTgtOHMzLjU5LTggOC04IDggMy41OSA4IDgtMy41OSA4LTggOHpcIi8+PC9zdmc+YFxuZXhwb3J0IGNvbnN0IHBsdXNJY29uID0gaHRtbGA8c3ZnIGhlaWdodD1cIjI0XCIgdmlld0JveD1cIjAgMCAyNCAyNFwiIHdpZHRoPVwiMjRcIj48cGF0aCBkPVwiTTAgMGgyNHYyNEgwelwiIGZpbGw9XCJub25lXCIvPjxwYXRoIGQ9XCJNMTMgN2gtMnY0SDd2Mmg0djRoMnYtNGg0di0yaC00Vjd6bS0xLTVDNi40OCAyIDIgNi40OCAyIDEyczQuNDggMTAgMTAgMTAgMTAtNC40OCAxMC0xMFMxNy41MiAyIDEyIDJ6bTAgMThjLTQuNDEgMC04LTMuNTktOC04czMuNTktOCA4LTggOCAzLjU5IDggOC0zLjU5IDgtOCA4elwiLz48L3N2Zz5gXG5leHBvcnQgY29uc3QgcHJpbnRJY29uID0gaHRtbGA8c3ZnIGhlaWdodD1cIjI0XCIgdmlld0JveD1cIjAgMCAyNCAyNFwiIHdpZHRoPVwiMjRcIj48cGF0aCBkPVwiTTE5IDhINWMtMS42NiAwLTMgMS4zNC0zIDN2Nmg0djRoMTJ2LTRoNHYtNmMwLTEuNjYtMS4zNC0zLTMtM3ptLTMgMTFIOHYtNWg4djV6bTMtN2MtLjU1IDAtMS0uNDUtMS0xcy40NS0xIDEtMSAxIC40NSAxIDEtLjQ1IDEtMSAxem0tMS05SDZ2NGgxMlYzelwiPjwvcGF0aD48L3N2Zz5gXG5leHBvcnQgY29uc3QgcGhvbmVJY29uID0gaHRtbGA8c3ZnIGhlaWdodD1cIjI0XCIgdmlld0JveD1cIjAgMCAyNCAyNFwiIHdpZHRoPVwiMjRcIj48cGF0aCBkPVwiTTE2IDFIOEM2LjM0IDEgNSAyLjM0IDUgNHYxNmMwIDEuNjYgMS4zNCAzIDMgM2g4YzEuNjYgMCAzLTEuMzQgMy0zVjRjMC0xLjY2LTEuMzQtMy0zLTN6bS0yIDIwaC00di0xaDR2MXptMy4yNS0zSDYuNzVWNGgxMC41djE0elwiPjwvcGF0aD48L3N2Zz5gXG5leHBvcnQgY29uc3QgdHJhZGVtYXJrSWNvbiA9IGh0bWxgPHN2ZyBoZWlnaHQ9XCIyNFwiIHZpZXdCb3g9XCIwIDAgMjQgMjRcIiB3aWR0aD1cIjI0XCIgcHJlc2VydmVBc3BlY3RSYXRpbzxzdmcgdmlld0JveD1cIjAgMCAyNCAyNFwiIHByZXNlcnZlQXNwZWN0UmF0aW89XCJ4TWlkWU1pZCBtZWV0XCIgZm9jdXNhYmxlPVwiZmFsc2VcIiBzdHlsZT1cInBvaW50ZXItZXZlbnRzOiBub25lOyBkaXNwbGF5OiBibG9jazsgd2lkdGg6IDEwMCU7IGhlaWdodDogMTAwJTtcIj48Zz48cGF0aCBkPVwiTTEwLjA4IDEwLjg2Yy4wNS0uMzMuMTYtLjYyLjMtLjg3cy4zNC0uNDYuNTktLjYyYy4yNC0uMTUuNTQtLjIyLjkxLS4yMy4yMy4wMS40NC4wNS42My4xMy4yLjA5LjM4LjIxLjUyLjM2cy4yNS4zMy4zNC41My4xMy40Mi4xNC42NGgxLjc5Yy0uMDItLjQ3LS4xMS0uOS0uMjgtMS4yOXMtLjQtLjczLS43LTEuMDEtLjY2LS41LTEuMDgtLjY2LS44OC0uMjMtMS4zOS0uMjNjLS42NSAwLTEuMjIuMTEtMS43LjM0cy0uODguNTMtMS4yLjkyLS41Ni44NC0uNzEgMS4zNlM4IDExLjI5IDggMTEuODd2LjI3YzAgLjU4LjA4IDEuMTIuMjMgMS42NHMuMzkuOTcuNzEgMS4zNS43Mi42OSAxLjIuOTEgMS4wNS4zNCAxLjcuMzRjLjQ3IDAgLjkxLS4wOCAxLjMyLS4yM3MuNzctLjM2IDEuMDgtLjYzLjU2LS41OC43NC0uOTQuMjktLjc0LjMtMS4xNWgtMS43OWMtLjAxLjIxLS4wNi40LS4xNS41OHMtLjIxLjMzLS4zNi40Ni0uMzIuMjMtLjUyLjNjLS4xOS4wNy0uMzkuMDktLjYuMS0uMzYtLjAxLS42Ni0uMDgtLjg5LS4yMy0uMjUtLjE2LS40NS0uMzctLjU5LS42MnMtLjI1LS41NS0uMy0uODgtLjA4LS42Ny0uMDgtMXYtLjI3YzAtLjM1LjAzLS42OC4wOC0xLjAxek0xMiAyQzYuNDggMiAyIDYuNDggMiAxMnM0LjQ4IDEwIDEwIDEwIDEwLTQuNDggMTAtMTBTMTcuNTIgMiAxMiAyem0wIDE4Yy00LjQxIDAtOC0zLjU5LTgtOHMzLjU5LTggOC04IDggMy41OSA4IDgtMy41OSA4LTggOHpcIj48L3BhdGg+PC9nPjwvc3ZnPmBcbmV4cG9ydCBjb25zdCBiYWNrYXJyb3dJY29uID0gaHRtbGA8c3ZnIGhlaWdodD1cIjI0XCIgdmlld0JveD1cIjAgMCAyNCAyNFwiIHdpZHRoPVwiMjRcIj48cGF0aCBkPVwiTTIwIDExSDcuODNsNS41OS01LjU5TDEyIDRsLTggOCA4IDggMS40MS0xLjQxTDcuODMgMTNIMjB2LTJ6XCI+PC9wYXRoPjwvZz48L3N2Zz5gXG5leHBvcnQgY29uc3QgdmlzaWJpbGl0eUljb24gPSBodG1sYDxzdmcgaGVpZ2h0PVwiMjRcIiB2aWV3Qm94PVwiMCAwIDI0IDI0XCIgd2lkdGg9XCIyNFwiPjxnIGlkPVwidmlzaWJpbGl0eVwiPjxwYXRoIGQ9XCJNMTIgNC41QzcgNC41IDIuNzMgNy42MSAxIDEyYzEuNzMgNC4zOSA2IDcuNSAxMSA3LjVzOS4yNy0zLjExIDExLTcuNWMtMS43My00LjM5LTYtNy41LTExLTcuNXpNMTIgMTdjLTIuNzYgMC01LTIuMjQtNS01czIuMjQtNSA1LTUgNSAyLjI0IDUgNS0yLjI0IDUtNSA1em0wLThjLTEuNjYgMC0zIDEuMzQtMyAzczEuMzQgMyAzIDMgMy0xLjM0IDMtMy0xLjM0LTMtMy0zelwiPjwvcGF0aD48L2c+PC9zdmc+YFxuZXhwb3J0IGNvbnN0IHZpc2liaWxpdHlPZmZJY29uID0gaHRtbGA8c3ZnIGhlaWdodD1cIjI0XCIgdmlld0JveD1cIjAgMCAyNCAyNFwiIHdpZHRoPVwiMjRcIj48cGF0aCBkPVwiTTEyIDdjMi43NiAwIDUgMi4yNCA1IDUgMCAuNjUtLjEzIDEuMjYtLjM2IDEuODNsMi45MiAyLjkyYzEuNTEtMS4yNiAyLjctMi44OSAzLjQzLTQuNzUtMS43My00LjM5LTYtNy41LTExLTcuNS0xLjQgMC0yLjc0LjI1LTMuOTguN2wyLjE2IDIuMTZDMTAuNzQgNy4xMyAxMS4zNSA3IDEyIDd6TTIgNC4yN2wyLjI4IDIuMjguNDYuNDZDMy4wOCA4LjMgMS43OCAxMC4wMiAxIDEyYzEuNzMgNC4zOSA2IDcuNSAxMSA3LjUgMS41NSAwIDMuMDMtLjMgNC4zOC0uODRsLjQyLjQyTDE5LjczIDIyIDIxIDIwLjczIDMuMjcgMyAyIDQuMjd6TTcuNTMgOS44bDEuNTUgMS41NWMtLjA1LjIxLS4wOC40My0uMDguNjUgMCAxLjY2IDEuMzQgMyAzIDMgLjIyIDAgLjQ0LS4wMy42NS0uMDhsMS41NSAxLjU1Yy0uNjcuMzMtMS40MS41My0yLjIuNTMtMi43NiAwLTUtMi4yNC01LTUgMC0uNzkuMi0xLjUzLjUzLTIuMnptNC4zMS0uNzhsMy4xNSAzLjE1LjAyLS4xNmMwLTEuNjYtMS4zNC0zLTMtM2wtLjE3LjAxelwiPjwvcGF0aD48L3N2Zz5gXG5leHBvcnQgY29uc3Qgc2F2ZUljb24gPSBodG1sYDxzdmcgaGVpZ2h0PVwiMjRcIiB2aWV3Qm94PVwiMCAwIDI0IDI0XCIgd2lkdGg9XCIyNFwiPjxwYXRoIGQ9XCJNMTcgM0g1Yy0xLjExIDAtMiAuOS0yIDJ2MTRjMCAxLjEuODkgMiAyIDJoMTRjMS4xIDAgMi0uOSAyLTJWN2wtNC00em0tNSAxNmMtMS42NiAwLTMtMS4zNC0zLTNzMS4zNC0zIDMtMyAzIDEuMzQgMyAzLTEuMzQgMy0zIDN6bTMtMTBINVY1aDEwdjR6XCI+PC9wYXRoPjwvc3ZnPmBcbmV4cG9ydCBjb25zdCBjYWxlbmRhckljb24gPSBodG1sYDxzdmcgaGVpZ2h0PVwiMjRcIiB2aWV3Qm94PVwiMCAwIDI0IDI0XCIgd2lkdGg9XCIyNFwiPjxwYXRoIGQ9XCJNOSAxMUg3djJoMnYtMnptNCAwaC0ydjJoMnYtMnptNCAwaC0ydjJoMnYtMnptMi03aC0xVjJoLTJ2Mkg4VjJINnYySDVjLTEuMTEgMC0xLjk5LjktMS45OSAyTDMgMjBjMCAxLjEuODkgMiAyIDJoMTRjMS4xIDAgMi0uOSAyLTJWNmMwLTEuMS0uOS0yLTItMnptMCAxNkg1VjloMTR2MTF6XCI+PC9wYXRoPjwvc3ZnPmBcbmV4cG9ydCBjb25zdCBvcHRpY2FJY29uID0gaHRtbGA8c3ZnIHZlcnNpb249XCIxLjFcIiBwcmVzZXJ2ZUFzcGVjdFJhdGlvPVwieE1pZFlNaWQgbWVldFwiIHZpZXdCb3g9XCIwIDAgNDAwIDQwMFwiIHdpZHRoPVwiMTUwXCIgaGVpZ2h0PVwiMTAwXCI+PGRlZnM+PHBhdGggZD1cIk0zNTAgMTkzLjI0QzM1MCAyNzYuMDMgMjgyLjc5IDM0My4yNCAyMDAgMzQzLjI0QzExNy4yMSAzNDMuMjQgNTAgMjc2LjAzIDUwIDE5My4yNEM1MCAxMTAuNDUgMTE3LjIxIDQzLjI0IDIwMCA0My4yNEMyODIuNzkgNDMuMjQgMzUwIDExMC40NSAzNTAgMTkzLjI0WlwiIGlkPVwiYTNCSkZIVW44XCI+PC9wYXRoPjxyYWRpYWxHcmFkaWVudCBpZD1cImdyYWRpZW50ZnlOMlRoNzRIXCIgZ3JhZGllbnRVbml0cz1cInVzZXJTcGFjZU9uVXNlXCIgY3g9XCIzNTBcIiBjeT1cIjE5NS4xNFwiIHI9XCIyMzcuMzFcIj48c3RvcCBzdHlsZT1cInN0b3AtY29sb3I6ICNmZmZmZmY7c3RvcC1vcGFjaXR5OiAxXCIgb2Zmc2V0PVwiMCVcIj48L3N0b3A+PHN0b3Agc3R5bGU9XCJzdG9wLWNvbG9yOiAjYTVmMGZmO3N0b3Atb3BhY2l0eTogMVwiIG9mZnNldD1cIjI5LjAxMjQ4MDA5MzYwMDY4MyVcIj48L3N0b3A+PHN0b3Agc3R5bGU9XCJzdG9wLWNvbG9yOiAjNjVlMGU3O3N0b3Atb3BhY2l0eTogMVwiIG9mZnNldD1cIjU5LjUyNjk1ODk1MjE5MjE3JVwiPjwvc3RvcD48c3RvcCBzdHlsZT1cInN0b3AtY29sb3I6ICMzMjZmYTc7c3RvcC1vcGFjaXR5OiAxXCIgb2Zmc2V0PVwiMTAwJVwiPjwvc3RvcD48L3JhZGlhbEdyYWRpZW50PjxwYXRoIGQ9XCJNMjYyLjUgMTk1LjE0QzI2Mi41IDIyOS42MyAyMzQuNDkgMjU3LjY0IDIwMCAyNTcuNjRDMTY1LjUxIDI1Ny42NCAxMzcuNSAyMjkuNjMgMTM3LjUgMTk1LjE0QzEzNy41IDE2MC42NCAxNjUuNTEgMTMyLjY0IDIwMCAxMzIuNjRDMjM0LjQ5IDEzMi42NCAyNjIuNSAxNjAuNjQgMjYyLjUgMTk1LjE0WlwiIGlkPVwiZExnQmdFTWk1XCI+PC9wYXRoPjxwYXRoIGQ9XCJNMjY4LjYgMTU4LjI2QzI2OC42IDE3Mi40MSAyNTcuNCAxODMuODkgMjQzLjYgMTgzLjg5QzIyOS44IDE4My44OSAyMTguNiAxNzIuNDEgMjE4LjYgMTU4LjI2QzIxOC42IDE0NC4xMiAyMjkuOCAxMzIuNjQgMjQzLjYgMTMyLjY0QzI1Ny40IDEzMi42NCAyNjguNiAxNDQuMTIgMjY4LjYgMTU4LjI2WlwiIGlkPVwiZzJQRmFJellSZFwiPjwvcGF0aD48L2RlZnM+PGc+PGc+PGc+PHVzZSB4bGluazpocmVmPVwiI2EzQkpGSFVuOFwiIG9wYWNpdHk9XCIxXCIgZmlsbD1cInVybCgjZ3JhZGllbnRmeU4yVGg3NEgpXCI+PC91c2U+PGc+PHVzZSB4bGluazpocmVmPVwiI2EzQkpGSFVuOFwiIG9wYWNpdHk9XCIxXCIgZmlsbC1vcGFjaXR5PVwiMFwiIHN0cm9rZT1cIiNiMGQ2ZWZcIiBzdHJva2Utd2lkdGg9XCIwXCIgc3Ryb2tlLW9wYWNpdHk9XCIxXCI+PC91c2U+PC9nPjwvZz48Zz48dXNlIHhsaW5rOmhyZWY9XCIjZExnQmdFTWk1XCIgb3BhY2l0eT1cIjFcIiBmaWxsPVwiIzE4MWQzY1wiIGZpbGwtb3BhY2l0eT1cIjFcIj48L3VzZT48L2c+PGc+PHVzZSB4bGluazpocmVmPVwiI2cyUEZhSXpZUmRcIiBvcGFjaXR5PVwiMVwiIGZpbGw9XCIjZmZmZmZmXCIgZmlsbC1vcGFjaXR5PVwiMVwiPjwvdXNlPjwvZz48L2c+PC9nPjwvc3ZnPmBcbmV4cG9ydCBjb25zdCBzZW5kSWNvbiA9IGh0bWxgPHN2ZyBoZWlnaHQ9XCIyNFwiIHZpZXdCb3g9XCIwIDAgMjQgMjRcIiB3aWR0aD1cIjI0XCI+PHBhdGggZD1cIk0yLjAxIDIxTDIzIDEyIDIuMDEgMyAyIDEwbDE1IDItMTUgMnpcIj48L3BhdGg+PC9zdmc+YFxuZXhwb3J0IGNvbnN0IHNlYXJjaEljb24gPSBodG1sYDxzdmcgaGVpZ2h0PVwiMjRcIiB2aWV3Qm94PVwiMCAwIDI0IDI0XCIgd2lkdGg9XCIyNFwiPjxwYXRoIGQ9XCJNMTUuNSAxNGgtLjc5bC0uMjgtLjI3QzE1LjQxIDEyLjU5IDE2IDExLjExIDE2IDkuNSAxNiA1LjkxIDEzLjA5IDMgOS41IDNTMyA1LjkxIDMgOS41IDUuOTEgMTYgOS41IDE2YzEuNjEgMCAzLjA5LS41OSA0LjIzLTEuNTdsLjI3LjI4di43OWw1IDQuOTlMMjAuNDkgMTlsLTQuOTktNXptLTYgMEM3LjAxIDE0IDUgMTEuOTkgNSA5LjVTNy4wMSA1IDkuNSA1IDE0IDcuMDEgMTQgOS41IDExLjk5IDE0IDkuNSAxNHpcIj48L3BhdGg+PC9zdmc+YFxuZXhwb3J0IGNvbnN0IHJlZnJlc2hJY29uID0gaHRtbGA8c3ZnIGhlaWdodD1cIjI0XCIgdmlld0JveD1cIjAgMCAyNCAyNFwiIHdpZHRoPVwiMjRcIj48cGF0aCBkPVwiTTE3LjY1IDYuMzVDMTYuMiA0LjkgMTQuMjEgNCAxMiA0Yy00LjQyIDAtNy45OSAzLjU4LTcuOTkgOHMzLjU3IDggNy45OSA4YzMuNzMgMCA2Ljg0LTIuNTUgNy43My02aC0yLjA4Yy0uODIgMi4zMy0zLjA0IDQtNS42NSA0LTMuMzEgMC02LTIuNjktNi02czIuNjktNiA2LTZjMS42NiAwIDMuMTQuNjkgNC4yMiAxLjc4TDEzIDExaDdWNGwtMi4zNSAyLjM1elwiPjwvcGF0aD48L3N2Zz5gXG5leHBvcnQgY29uc3QgbGFzdFBhZ2VJY29uID0gaHRtbGA8c3ZnIGhlaWdodD1cIjI0XCIgdmlld0JveD1cIjAgMCAyNCAyNFwiIHdpZHRoPVwiMjRcIj48cGF0aCBkPVwiTTUuNTkgNy40MUwxMC4xOCAxMmwtNC41OSA0LjU5TDcgMThsNi02LTYtNnpNMTYgNmgydjEyaC0yelwiPjwvcGF0aD48L3N2Zz5gXG5leHBvcnQgY29uc3QgZmlyc3RQYWdlSWNvbiA9IGh0bWxgPHN2ZyBoZWlnaHQ9XCIyNFwiIHZpZXdCb3g9XCIwIDAgMjQgMjRcIiB3aWR0aD1cIjI0XCI+PHBhdGggZD1cIk0xOC40MSAxNi41OUwxMy44MiAxMmw0LjU5LTQuNTlMMTcgNmwtNiA2IDYgNnpNNiA2aDJ2MTJINnpcIj48L3BhdGg+PC9zdmc+YFxuZXhwb3J0IGNvbnN0IGVtcHR5U2V0SWNvbiA9IGh0bWxgPHN2ZyBoZWlnaHQ9XCIyNFwiIHZpZXdCb3g9XCIwIDAgMjQgMjRcIiB3aWR0aD1cIjI0XCI+PHBhdGggZD1cIk04IDR2MS40NWwyIDJWNGg0djRoLTMuNDVsMiAySDE0djEuNDVsMiAyVjEwaDR2NGgtMy40NWwyIDJIMjB2MS40NWwyIDJWNGMwLTEuMS0uOS0yLTItMkg0LjU1bDIgMkg4em04IDBoNHY0aC00VjR6TTEuMjcgMS4yN0wwIDIuNTVsMiAyVjIwYzAgMS4xLjkgMiAyIDJoMTUuNDZsMiAyIDEuMjctMS4yN0wxLjI3IDEuMjd6TTEwIDEyLjU1TDExLjQ1IDE0SDEwdi0xLjQ1em0tNi02TDUuNDUgOEg0VjYuNTV6TTggMjBINHYtNGg0djR6bTAtNkg0di00aDMuNDVsLjU1LjU1VjE0em02IDZoLTR2LTRoMy40NWwuNTUuNTRWMjB6bTIgMHYtMS40NkwxNy40NiAyMEgxNnpcIj48L3BhdGg+PC9zdmc+YFxuZXhwb3J0IGNvbnN0IGFycm93VXBJY29uID0gaHRtbGA8c3ZnIGhlaWdodD1cIjI0XCIgdmlld0JveD1cIjAgMCAyNCAyNFwiIHdpZHRoPVwiMjRcIj48cGF0aCBkPVwiTTcgMTRsNS01IDUgNXpcIj48L3BhdGg+PC9zdmc+YFxuZXhwb3J0IGNvbnN0IGFycm93RG93bkljb24gPSBodG1sYDxzdmcgaGVpZ2h0PVwiMjRcIiB2aWV3Qm94PVwiMCAwIDI0IDI0XCIgd2lkdGg9XCIyNFwiPjxwYXRoIGQ9XCJNNyAxMGw1IDUgNS01elwiPjwvcGF0aD48L3N2Zz5gXG5leHBvcnQgY29uc3QgcGllQ2hhcnRJY29uID0gaHRtbGA8c3ZnIGhlaWdodD1cIjI0XCIgdmlld0JveD1cIjAgMCAyNCAyNFwiIHdpZHRoPVwiMjRcIj48cGF0aCBkPVwiTTExIDJ2MjBjLTUuMDctLjUtOS00Ljc5LTktMTBzMy45My05LjUgOS0xMHptMi4wMyAwdjguOTlIMjJjLS40Ny00Ljc0LTQuMjQtOC41Mi04Ljk3LTguOTl6bTAgMTEuMDFWMjJjNC43NC0uNDcgOC41LTQuMjUgOC45Ny04Ljk5aC04Ljk3elwiPjwvcGF0aD48L3N2Zz5gXG5leHBvcnQgY29uc3QgYWNjb3VudENpcmNsZUljb24gPSBodG1sYDxzdmcgaGVpZ2h0PVwiMjRcIiB2aWV3Qm94PVwiMCAwIDI0IDI0XCIgd2lkdGg9XCIyNFwiPjxwYXRoIGQ9XCJNMTIgMkM2LjQ4IDIgMiA2LjQ4IDIgMTJzNC40OCAxMCAxMCAxMCAxMC00LjQ4IDEwLTEwUzE3LjUyIDIgMTIgMnptMCAzYzEuNjYgMCAzIDEuMzQgMyAzcy0xLjM0IDMtMyAzLTMtMS4zNC0zLTMgMS4zNC0zIDMtM3ptMCAxNC4yYy0yLjUgMC00LjcxLTEuMjgtNi0zLjIyLjAzLTEuOTkgNC0zLjA4IDYtMy4wOCAxLjk5IDAgNS45NyAxLjA5IDYgMy4wOC0xLjI5IDEuOTQtMy41IDMuMjItNiAzLjIyelwiPjwvcGF0aD48L3N2Zz5gXG5leHBvcnQgY29uc3QgbG9ja0ljb24gPSBodG1sYDxzdmcgaGVpZ2h0PVwiMjRcIiB2aWV3Qm94PVwiMCAwIDI0IDI0XCIgd2lkdGg9XCIyNFwiPjxwYXRoIGQ9XCJNMTIgMTdjMS4xIDAgMi0uOSAyLTJzLS45LTItMi0yLTIgLjktMiAyIC45IDIgMiAyem02LTloLTFWNmMwLTIuNzYtMi4yNC01LTUtNVM3IDMuMjQgNyA2djJINmMtMS4xIDAtMiAuOS0yIDJ2MTBjMCAxLjEuOSAyIDIgMmgxMmMxLjEgMCAyLS45IDItMlYxMGMwLTEuMS0uOS0yLTItMnpNOC45IDZjMC0xLjcxIDEuMzktMy4xIDMuMS0zLjFzMy4xIDEuMzkgMy4xIDMuMXYySDguOVY2ek0xOCAyMEg2VjEwaDEydjEwelwiPjwvc3ZnPmBcbmV4cG9ydCBjb25zdCBjbG9zZUljb24gPSBodG1sYDxzdmcgaGVpZ2h0PVwiMjRcIiB2aWV3Qm94PVwiMCAwIDI0IDI0XCIgd2lkdGg9XCIyNFwiPjxwYXRoIGQ9XCJNMTQuNTkgOEwxMiAxMC41OSA5LjQxIDggOCA5LjQxIDEwLjU5IDEyIDggMTQuNTkgOS40MSAxNiAxMiAxMy40MSAxNC41OSAxNiAxNiAxNC41OSAxMy40MSAxMiAxNiA5LjQxIDE0LjU5IDh6TTEyIDJDNi40NyAyIDIgNi40NyAyIDEyczQuNDcgMTAgMTAgMTAgMTAtNC40NyAxMC0xMFMxNy41MyAyIDEyIDJ6bTAgMThjLTQuNDEgMC04LTMuNTktOC04czMuNTktOCA4LTggOCAzLjU5IDggOC0zLjU5IDgtOCA4elwiPjwvcGF0aD48L3N2Zz5gXG5leHBvcnQgY29uc3QgaG9tZUljb24gPSBodG1sYDxzdmcgaGVpZ2h0PVwiMjRcIiB2aWV3Qm94PVwiMCAwIDI0IDI0XCIgd2lkdGg9XCIyNFwiPjxwYXRoIGQ9XCJNMTAgMjB2LTZoNHY2aDV2LThoM0wxMiAzIDIgMTJoM3Y4elwiPjwvcGF0aD48L3N2Zz5gXG5leHBvcnQgY29uc3Qgb3JkZXJJY29uID0gaHRtbGA8c3ZnIGhlaWdodD1cIjI0XCIgdmlld0JveD1cIjAgMCAyNCAyNFwiIHdpZHRoPVwiMjRcIj48cGF0aCBkPVwiTTE5IDNoLTQuMThDMTQuNCAxLjg0IDEzLjMgMSAxMiAxYy0xLjMgMC0yLjQuODQtMi44MiAySDVjLTEuMSAwLTIgLjktMiAydjE0YzAgMS4xLjkgMiAyIDJoMTRjMS4xIDAgMi0uOSAyLTJWNWMwLTEuMS0uOS0yLTItMnptLTcgMGMuNTUgMCAxIC40NSAxIDFzLS40NSAxLTEgMS0xLS40NS0xLTEgLjQ1LTEgMS0xem0yIDE0SDd2LTJoN3Yyem0zLTRIN3YtMmgxMHYyem0wLTRIN1Y3aDEwdjJ6XCI+PC9wYXRoPjwvc3ZnPmBcbmV4cG9ydCBjb25zdCBwYXN0ZWJvYXJkSWNvbiA9IGh0bWxgPHN2ZyB2aWV3Qm94PVwiMCAwIDI0IDI0XCIgcHJlc2VydmVBc3BlY3RSYXRpbz1cInhNaWRZTWlkIG1lZXRcIiA+PHBhdGggZD1cIk0xOSAyaC00LjE4QzE0LjQuODQgMTMuMyAwIDEyIDBjLTEuMyAwLTIuNC44NC0yLjgyIDJINWMtMS4xIDAtMiAuOS0yIDJ2MTZjMCAxLjEuOSAyIDIgMmgxNGMxLjEgMCAyLS45IDItMlY0YzAtMS4xLS45LTItMi0yem0tNyAwYy41NSAwIDEgLjQ1IDEgMXMtLjQ1IDEtMSAxLTEtLjQ1LTEtMSAuNDUtMSAxLTF6bTcgMThINVY0aDJ2M2gxMFY0aDJ2MTZ6XCI+PC9wYXRoPjwvc3ZnPmBcbmV4cG9ydCBjb25zdCBhbGVydEljb24gPSBodG1sYDxzdmcgIGhlaWdodD1cIjI0XCIgd2lkdGg9XCIyNFwiIHZpZXdCb3g9XCIwIDAgMjQgMjRcIiBwcmVzZXJ2ZUFzcGVjdFJhdGlvPVwieE1pZFlNaWQgbWVldFwiID48cGF0aCBkPVwiTTEwLjAxIDIxLjAxYzAgMS4xLjg5IDEuOTkgMS45OSAxLjk5czEuOTktLjg5IDEuOTktMS45OWgtMy45OHptOC44Ny00LjE5VjExYzAtMy4yNS0yLjI1LTUuOTctNS4yOS02LjY5di0uNzJDMTMuNTkgMi43MSAxMi44OCAyIDEyIDJzLTEuNTkuNzEtMS41OSAxLjU5di43MkM3LjM3IDUuMDMgNS4xMiA3Ljc1IDUuMTIgMTF2NS44MkwzIDE4Ljk0VjIwaDE4di0xLjA2bC0yLjEyLTIuMTJ6TTE2IFwiPjwvcGF0aD48L3N2Zz5gXG5leHBvcnQgY29uc3Qgc2tpcEljb24gPSBodG1sYDxzdmcgIGhlaWdodD1cIjI0XCIgd2lkdGg9XCIyNFwiIHZpZXdCb3g9XCIwIDAgMjQgMjRcIiBwcmVzZXJ2ZUFzcGVjdFJhdGlvPVwieE1pZFlNaWQgbWVldFwiID48cGF0aCBkPVwiTTUuNTkgNy40MUwxMC4xOCAxMmwtNC41OSA0LjU5TDcgMThsNi02LTYtNnpNMTYgNmgydjEyaC0yelwiPjwvcGF0aD48L3N2Zz5gXG5leHBvcnQgY29uc3QgZGVsZXRlSWNvbiA9IGh0bWxgPHN2ZyBoZWlnaHQ9XCIyNFwiIHdpZHRoPVwiMjRcIiAgdmlld0JveD1cIjAgMCAyNCAyNFwiIHByZXNlcnZlQXNwZWN0UmF0aW89XCJ4TWlkWU1pZCBtZWV0XCIgPjxwYXRoIGQ9XCJNNiAxOWMwIDEuMS45IDIgMiAyaDhjMS4xIDAgMi0uOSAyLTJWN0g2djEyek0xOSA0aC0zLjVsLTEtMWgtNWwtMSAxSDV2MmgxNFY0elwiPjwvcGF0aD48L3N2Zz5gXG5leHBvcnQgY29uc3QgZWRpdEljb24gPSBodG1sYDxzdmcgaGVpZ2h0PVwiMjRcIiB3aWR0aD1cIjI0XCIgdmlld0JveD1cIjAgMCAyNCAyNFwiIHByZWVydmVBc3BlY3RSYXRpbz1cInhNaWRZTWlkIG1lZXRcIiA+PHBhdGggZD1cIk0zIDE3LjI1VjIxaDMuNzVMMTcuODEgOS45NGwtMy43NS0zLjc1TDMgMTcuMjV6TTIwLjcxIDcuMDRjLjM5LS4zOS4zOS0xLjAyIDAtMS40MWwtMi4zNC0yLjM0Yy0uMzktLjM5LTEuMDItLjM5LTEuNDEgMGwtMS44MyAxLjgzIDMuNzUgMy43NSAxLjgzLTEuODN6XCI+PC9wYXRoPjwvc3ZnPmBcbmV4cG9ydCBjb25zdCB0aHJlZWRvdEljb24gPSBodG1sYDxzdmcgaGVpZ2h0PVwiMjRcIiB3aWR0aD1cIjI0XCIgdmlld0JveD1cIjAgMCAyNCAyNFwiIHByZWVydmVBc3BlY3RSYXRpbz1cInhNaWRZTWlkIG1lZXRcIiA+PHBhdGggZD1cIk0xMiA4YzEuMSAwIDItLjkgMi0ycy0uOS0yLTItMi0yIC45LTIgMiAuOSAyIDIgMnptMCAyYy0xLjEgMC0yIC45LTIgMnMuOSAyIDIgMiAyLS45IDItMi0uOS0yLTItMnptMCA2Yy0xLjEgMC0yIC45LTIgMnMuOSAyIDIgMiAyLS45IDItMi0uOS0yLTItMnpcIj48L3BhdGg+PC9zdmc+YFxuZXhwb3J0IGNvbnN0IG1lc3NhZ2VJY29uID0gaHRtbGA8c3ZnIGhlaWdodD1cIjI0XCIgd2lkdGg9XCIyNFwiIHZpZXdCb3g9XCIwIDAgMjQgMjRcIiBwcmVlcnZlQXNwZWN0UmF0aW89XCJ4TWlkWU1pZCBtZWV0XCIgPjxwYXRoIGQ9XCJNMjAgMkg0Yy0xLjEgMC0xLjk5LjktMS45OSAyTDIgMjJsNC00aDE0YzEuMSAwIDItLjkgMi0yVjRjMC0xLjEtLjktMi0yLTJ6bS0yIDEySDZ2LTJoMTJ2MnptMC0zSDZWOWgxMnYyem0wLTNINlY2aDEydjJ6XCI+PC9wYXRoPjwvc3ZnPmBcbmV4cG9ydCBjb25zdCBsb2dvdXRJY29uID0gaHRtbGA8c3ZnIHZpZXdCb3g9XCIwIDAgMjQgMjRcIiBwcmVzZXJ2ZUFzcGVjdFJhdGlvPVwieE1pZFlNaWQgbWVldFwiPjxwYXRoIGQ9XCJNMTAuMDkgMTUuNTlMMTEuNSAxN2w1LTUtNS01LTEuNDEgMS40MUwxMi42NyAxMUgzdjJoOS42N2wtMi41OCAyLjU5ek0xOSAzSDVjLTEuMTEgMC0yIC45LTIgMnY0aDJWNWgxNHYxNEg1di00SDN2NGMwIDEuMS44OSAyIDIgMmgxNGMxLjEgMCAyLS45IDItMlY1YzAtMS4xLS45LTItMi0yelwiPjwvcGF0aD48L3N2Zz5gXG5leHBvcnQgY29uc3QgZmlsZVVwbG9hZCA9IGh0bWxgPHN2ZyB2aWV3Qm94PVwiMCAwIDI0IDI0XCIgaGVpZ2h0PVwiMjRcIiB3aWR0aD1cIjI0XCIgcHJlc2VydmVBc3BlY3RSYXRpbz1cInhNaWRZTWlkIG1lZXRcIiBmb2N1c2FibGU9XCJmYWxzZVwiIHN0eWxlPVwicG9pbnRlci1ldmVudHM6IG5vbmU7IGRpc3BsYXk6IGJsb2NrOyB3aWR0aDogMTAwJTsgaGVpZ2h0OiAxMDAlO1wiPjxwYXRoIGQ9XCJNOSAxNmg2di02aDRsLTctNy03IDdoNHptLTQgMmgxNHYySDV6XCI+PC9wYXRoPjwvc3ZnPmBcbmV4cG9ydCBjb25zdCBwbGF5SWNvbiA9IGh0bWxgPHN2ZyB2aWV3Qm94PVwiMCAwIDI0IDI0XCIgaGVpZ2h0PVwiMjRcIiB3aWR0aD1cIjI0XCIgcHJlc2VydmVBc3BlY3RSYXRpbz1cInhNaWRZTWlkIG1lZXRcIiBmb2N1c2FibGU9XCJmYWxzZVwiID48cGF0aCBkPVwiTTggNXYxNGwxMS03elwiPjwvcGF0aD48L3N2Zz5gXG5leHBvcnQgY29uc3QgdHJhbnNsYXRlSWNvbiA9IGh0bWxgPHN2ZyB2aWV3Qm94PVwiMCAwIDI0IDI0XCIgaGVpZ2h0PVwiMjRcIiB3aWR0aD1cIjI0XCIgcHJlc2VydmVBc3BlY3RSYXRpbz1cInhNaWRZTWlkIG1lZXRcIiBmb2N1c2FibGU9XCJmYWxzZVwiID48cGF0aCBkPVwiTTEyLjg3IDE1LjA3bC0yLjU0LTIuNTEuMDMtLjAzYzEuNzQtMS45NCAyLjk4LTQuMTcgMy43MS02LjUzSDE3VjRoLTdWMkg4djJIMXYxLjk5aDExLjE3QzExLjUgNy45MiAxMC40NCA5Ljc1IDkgMTEuMzUgOC4wNyAxMC4zMiA3LjMgOS4xOSA2LjY5IDhoLTJjLjczIDEuNjMgMS43MyAzLjE3IDIuOTggNC41NmwtNS4wOSA1LjAyTDQgMTlsNS01IDMuMTEgMy4xMS43Ni0yLjA0ek0xOC41IDEwaC0yTDEyIDIyaDJsMS4xMi0zaDQuNzVMMjEgMjJoMmwtNC41LTEyem0tMi42MiA3bDEuNjItNC4zM0wxOS4xMiAxN2gtMy4yNHpcIj48L3BhdGg+PC9zdmc+YFxuZXhwb3J0IGNvbnN0IHN0b3BJY29uID0gaHRtbGA8c3ZnIHZpZXdCb3g9XCIwIDAgMjQgMjRcIiBoZWlnaHQ9XCIyNFwiIHdpZHRoPVwiMjRcIiBwcmVzZXJ2ZUFzcGVjdFJhdGlvPVwieE1pZFlNaWQgbWVldFwiIGZvY3VzYWJsZT1cImZhbHNlXCIgPjxwYXRoIGQ9XCJNNiA2aDEydjEySDZ6XCI+PC9wYXRoPjwvc3ZnPmBcbmV4cG9ydCBjb25zdCBjb21waWxlID0gaHRtbGA8c3ZnIHZpZXdCb3g9XCIwIDAgMjQgMjRcIiBoZWlnaHQ9XCIyNFwiIHdpZHRoPVwiMjRcIiBwcmVzZXJ2ZUFzcGVjdFJhdGlvPVwieE1pZFlNaWQgbWVldFwiIGZvY3VzYWJsZT1cImZhbHNlXCIgPjxwYXRoIGQ9XCJNMjAgMThjMS4xIDAgMS45OS0uOSAxLjk5LTJMMjIgNmMwLTEuMS0uOS0yLTItMkg0Yy0xLjEgMC0yIC45LTIgMnYxMGMwIDEuMS45IDIgMiAySDB2MmgyNHYtMmgtNHpNNCA2aDE2djEwSDRWNnpcIj48L3BhdGg+PC9zdmc+YFxuZXhwb3J0IGNvbnN0IGtlZXBQbGF5aW5nID0gaHRtbGA8c3ZnIHZpZXdCb3g9XCIwIDAgMjQgMjRcIiBoZWlnaHQ9XCIyNFwiIHdpZHRoPVwiMjRcIiBwcmVzZXJ2ZUFzcGVjdFJhdGlvPVwieE1pZFlNaWQgbWVldFwiIGZvY3VzYWJsZT1cImZhbHNlXCIgPjxwYXRoIGQ9XCJNMTMuMDUgOS43OUwxMCA3LjV2OWwzLjA1LTIuMjlMMTYgMTJ6bTAgMEwxMCA3LjV2OWwzLjA1LTIuMjlMMTYgMTJ6bTAgMEwxMCA3LjV2OWwzLjA1LTIuMjlMMTYgMTJ6TTExIDQuMDdWMi4wNWMtMi4wMS4yLTMuODQgMS01LjMyIDIuMjFMNy4xIDUuNjljMS4xMS0uODYgMi40NC0xLjQ0IDMuOS0xLjYyek01LjY5IDcuMUw0LjI2IDUuNjhDMy4wNSA3LjE2IDIuMjUgOC45OSAyLjA1IDExaDIuMDJjLjE4LTEuNDYuNzYtMi43OSAxLjYyLTMuOXpNNC4wNyAxM0gyLjA1Yy4yIDIuMDEgMSAzLjg0IDIuMjEgNS4zMmwxLjQzLTEuNDNjLS44Ni0xLjEtMS40NC0yLjQzLTEuNjItMy44OXptMS42MSA2Ljc0QzcuMTYgMjAuOTUgOSAyMS43NSAxMSAyMS45NXYtMi4wMmMtMS40Ni0uMTgtMi43OS0uNzYtMy45LTEuNjJsLTEuNDIgMS40M3pNMjIgMTJjMCA1LjE2LTMuOTIgOS40Mi04Ljk1IDkuOTV2LTIuMDJDMTYuOTcgMTkuNDEgMjAgMTYuMDUgMjAgMTJzLTMuMDMtNy40MS02Ljk1LTcuOTNWMi4wNUMxOC4wOCAyLjU4IDIyIDYuODQgMjIgMTJ6XCI+PC9wYXRoPjwvc3ZnPmBcbmV4cG9ydCBjb25zdCBhc3NlbWJseSA9IGh0bWxgPHN2ZyB2aWV3Qm94PVwiMCAwIDI0IDI0XCIgaGVpZ2h0PVwiMjRcIiB3aWR0aD1cIjI0XCIgcHJlc2VydmVBc3BlY3RSYXRpbz1cInhNaWRZTWlkIG1lZXRcIiBmb2N1c2FibGU9XCJmYWxzZVwiID48cGF0aCBkPVwiTTE1IDlIOXY2aDZWOXptLTIgNGgtMnYtMmgydjJ6bTgtMlY5aC0yVjdjMC0xLjEtLjktMi0yLTJoLTJWM2gtMnYyaC0yVjNIOXYySDdjLTEuMSAwLTIgLjktMiAydjJIM3YyaDJ2MkgzdjJoMnYyYzAgMS4xLjkgMiAyIDJoMnYyaDJ2LTJoMnYyaDJ2LTJoMmMxLjEgMCAyLS45IDItMnYtMmgydi0yaC0ydi0yaDJ6bS00IDZIN1Y3aDEwdjEwelwiPjwvcGF0aD48L3N2Zz5gXG5leHBvcnQgY29uc3QgZmxvYXRJY29uID0gaHRtbGA8c3ZnIHZpZXdCb3g9XCIwIDAgMjQgMjRcIiBoZWlnaHQ9XCIyNFwiIHdpZHRoPVwiMjRcIiBwcmVzZXJ2ZUFzcGVjdFJhdGlvPVwieE1pZFlNaWQgbWVldFwiIGZvY3VzYWJsZT1cImZhbHNlXCIgPjxwYXRoIGQ9XCJNMTkgMTlINVY1aDdWM0g1Yy0xLjExIDAtMiAuOS0yIDJ2MTRjMCAxLjEuODkgMiAyIDJoMTRjMS4xIDAgMi0uOSAyLTJ2LTdoLTJ2N3pNMTQgM3YyaDMuNTlsLTkuODMgOS44MyAxLjQxIDEuNDFMMTkgNi40MVYxMGgyVjNoLTd6XCI+PC9wYXRoPjwvc3ZnID5gXG5leHBvcnQgY29uc3QgZG5zSWNvbiA9IGh0bWxgPHN2ZyB2aWV3Qm94PVwiMCAwIDI0IDI0XCIgaGVpZ2h0PVwiMjRcIiB3aWR0aD1cIjI0XCIgcHJlc2VydmVBc3BlY3RSYXRpbz1cInhNaWRZTWlkIG1lZXRcIiBmb2N1c2FibGU9XCJmYWxzZVwiID48cGF0aCBkPVwiTTIwIDEzSDRjLS41NSAwLTEgLjQ1LTEgMXY2YzAgLjU1LjQ1IDEgMSAxaDE2Yy41NSAwIDEtLjQ1IDEtMXYtNmMwLS41NS0uNDUtMS0xLTF6TTcgMTljLTEuMSAwLTItLjktMi0ycy45LTIgMi0yIDIgLjkgMiAyLS45IDItMiAyek0yMCAzSDRjLS41NSAwLTEgLjQ1LTEgMXY2YzAgLjU1LjQ1IDEgMSAxaDE2Yy41NSAwIDEtLjQ1IDEtMVY0YzAtLjU1LS40NS0xLTEtMXpNNyA5Yy0xLjEgMC0yLS45LTItMnMuOS0yIDItMiAyIC45IDIgMi0uOSAyLTIgMnpcIj48L3BhdGg+PC9zdmc+YFxuIiwiLyoqXG5AbGljZW5zZVxuQ29weXJpZ2h0IChjKSAyMDE1IFRoZSBQb2x5bWVyIFByb2plY3QgQXV0aG9ycy4gQWxsIHJpZ2h0cyByZXNlcnZlZC5cblRoaXMgY29kZSBtYXkgb25seSBiZSB1c2VkIHVuZGVyIHRoZSBCU0Qgc3R5bGUgbGljZW5zZSBmb3VuZCBhdFxuaHR0cDovL3BvbHltZXIuZ2l0aHViLmlvL0xJQ0VOU0UudHh0IFRoZSBjb21wbGV0ZSBzZXQgb2YgYXV0aG9ycyBtYXkgYmUgZm91bmQgYXRcbmh0dHA6Ly9wb2x5bWVyLmdpdGh1Yi5pby9BVVRIT1JTLnR4dCBUaGUgY29tcGxldGUgc2V0IG9mIGNvbnRyaWJ1dG9ycyBtYXkgYmVcbmZvdW5kIGF0IGh0dHA6Ly9wb2x5bWVyLmdpdGh1Yi5pby9DT05UUklCVVRPUlMudHh0IENvZGUgZGlzdHJpYnV0ZWQgYnkgR29vZ2xlIGFzXG5wYXJ0IG9mIHRoZSBwb2x5bWVyIHByb2plY3QgaXMgYWxzbyBzdWJqZWN0IHRvIGFuIGFkZGl0aW9uYWwgSVAgcmlnaHRzIGdyYW50XG5mb3VuZCBhdCBodHRwOi8vcG9seW1lci5naXRodWIuaW8vUEFURU5UUy50eHRcbiovXG5pbXBvcnQgJ0Bwb2x5bWVyL3BvbHltZXIvcG9seW1lci1sZWdhY3kuanMnO1xuXG5pbXBvcnQge2RvbX0gZnJvbSAnQHBvbHltZXIvcG9seW1lci9saWIvbGVnYWN5L3BvbHltZXIuZG9tLmpzJztcbmltcG9ydCB7dXNlU2hhZG93fSBmcm9tICdAcG9seW1lci9wb2x5bWVyL2xpYi91dGlscy9zZXR0aW5ncy5qcyc7XG5cbi8vIENvbnRhaW5zIGFsbCBjb25uZWN0ZWQgcmVzaXphYmxlcyB0aGF0IGRvIG5vdCBoYXZlIGEgcGFyZW50LlxudmFyIE9SUEhBTlMgPSBuZXcgU2V0KCk7XG5cbi8qKlxuICogYElyb25SZXNpemFibGVCZWhhdmlvcmAgaXMgYSBiZWhhdmlvciB0aGF0IGNhbiBiZSB1c2VkIGluIFBvbHltZXIgZWxlbWVudHMgdG9cbiAqIGNvb3JkaW5hdGUgdGhlIGZsb3cgb2YgcmVzaXplIGV2ZW50cyBiZXR3ZWVuIFwicmVzaXplcnNcIiAoZWxlbWVudHMgdGhhdFxuICpjb250cm9sIHRoZSBzaXplIG9yIGhpZGRlbiBzdGF0ZSBvZiB0aGVpciBjaGlsZHJlbikgYW5kIFwicmVzaXphYmxlc1wiIChlbGVtZW50c1xuICp0aGF0IG5lZWQgdG8gYmUgbm90aWZpZWQgd2hlbiB0aGV5IGFyZSByZXNpemVkIG9yIHVuLWhpZGRlbiBieSB0aGVpciBwYXJlbnRzXG4gKmluIG9yZGVyIHRvIHRha2UgYWN0aW9uIG9uIHRoZWlyIG5ldyBtZWFzdXJlbWVudHMpLlxuICpcbiAqIEVsZW1lbnRzIHRoYXQgcGVyZm9ybSBtZWFzdXJlbWVudCBzaG91bGQgYWRkIHRoZSBgSXJvblJlc2l6YWJsZUJlaGF2aW9yYFxuICpiZWhhdmlvciB0byB0aGVpciBlbGVtZW50IGRlZmluaXRpb24gYW5kIGxpc3RlbiBmb3IgdGhlIGBpcm9uLXJlc2l6ZWAgZXZlbnQgb25cbiAqdGhlbXNlbHZlcy4gVGhpcyBldmVudCB3aWxsIGJlIGZpcmVkIHdoZW4gdGhleSBiZWNvbWUgc2hvd2luZyBhZnRlciBoYXZpbmdcbiAqYmVlbiBoaWRkZW4sIHdoZW4gdGhleSBhcmUgcmVzaXplZCBleHBsaWNpdGx5IGJ5IGFub3RoZXIgcmVzaXphYmxlLCBvciB3aGVuXG4gKnRoZSB3aW5kb3cgaGFzIGJlZW4gcmVzaXplZC5cbiAqXG4gKiBOb3RlLCB0aGUgYGlyb24tcmVzaXplYCBldmVudCBpcyBub24tYnViYmxpbmcuXG4gKlxuICogQHBvbHltZXJCZWhhdmlvclxuICogQGRlbW8gZGVtby9pbmRleC5odG1sXG4gKiovXG5leHBvcnQgY29uc3QgSXJvblJlc2l6YWJsZUJlaGF2aW9yID0ge1xuICBwcm9wZXJ0aWVzOiB7XG4gICAgLyoqXG4gICAgICogVGhlIGNsb3Nlc3QgYW5jZXN0b3IgZWxlbWVudCB0aGF0IGltcGxlbWVudHMgYElyb25SZXNpemFibGVCZWhhdmlvcmAuXG4gICAgICovXG4gICAgX3BhcmVudFJlc2l6YWJsZToge1xuICAgICAgdHlwZTogT2JqZWN0LFxuICAgICAgb2JzZXJ2ZXI6ICdfcGFyZW50UmVzaXphYmxlQ2hhbmdlZCcsXG4gICAgfSxcblxuICAgIC8qKlxuICAgICAqIFRydWUgaWYgdGhpcyBlbGVtZW50IGlzIGN1cnJlbnRseSBub3RpZnlpbmcgaXRzIGRlc2NlbmRhbnQgZWxlbWVudHMgb2ZcbiAgICAgKiByZXNpemUuXG4gICAgICovXG4gICAgX25vdGlmeWluZ0Rlc2NlbmRhbnQ6IHtcbiAgICAgIHR5cGU6IEJvb2xlYW4sXG4gICAgICB2YWx1ZTogZmFsc2UsXG4gICAgfVxuICB9LFxuXG4gIGxpc3RlbmVyczoge1xuICAgICdpcm9uLXJlcXVlc3QtcmVzaXplLW5vdGlmaWNhdGlvbnMnOiAnX29uSXJvblJlcXVlc3RSZXNpemVOb3RpZmljYXRpb25zJ1xuICB9LFxuXG4gIGNyZWF0ZWQ6IGZ1bmN0aW9uKCkge1xuICAgIC8vIFdlIGRvbid0IHJlYWxseSBuZWVkIHByb3BlcnR5IGVmZmVjdHMgb24gdGhlc2UsIGFuZCBhbHNvIHdlIHdhbnQgdGhlbVxuICAgIC8vIHRvIGJlIGNyZWF0ZWQgYmVmb3JlIHRoZSBgX3BhcmVudFJlc2l6YWJsZWAgb2JzZXJ2ZXIgZmlyZXM6XG4gICAgdGhpcy5faW50ZXJlc3RlZFJlc2l6YWJsZXMgPSBbXTtcbiAgICB0aGlzLl9ib3VuZE5vdGlmeVJlc2l6ZSA9IHRoaXMubm90aWZ5UmVzaXplLmJpbmQodGhpcyk7XG4gICAgdGhpcy5fYm91bmRPbkRlc2NlbmRhbnRJcm9uUmVzaXplID0gdGhpcy5fb25EZXNjZW5kYW50SXJvblJlc2l6ZS5iaW5kKHRoaXMpO1xuICB9LFxuXG4gIGF0dGFjaGVkOiBmdW5jdGlvbigpIHtcbiAgICB0aGlzLl9yZXF1ZXN0UmVzaXplTm90aWZpY2F0aW9ucygpO1xuICB9LFxuXG4gIGRldGFjaGVkOiBmdW5jdGlvbigpIHtcbiAgICBpZiAodGhpcy5fcGFyZW50UmVzaXphYmxlKSB7XG4gICAgICB0aGlzLl9wYXJlbnRSZXNpemFibGUuc3RvcFJlc2l6ZU5vdGlmaWNhdGlvbnNGb3IodGhpcyk7XG4gICAgfSBlbHNlIHtcbiAgICAgIE9SUEhBTlMuZGVsZXRlKHRoaXMpO1xuICAgICAgd2luZG93LnJlbW92ZUV2ZW50TGlzdGVuZXIoJ3Jlc2l6ZScsIHRoaXMuX2JvdW5kTm90aWZ5UmVzaXplKTtcbiAgICB9XG5cbiAgICB0aGlzLl9wYXJlbnRSZXNpemFibGUgPSBudWxsO1xuICB9LFxuXG4gIC8qKlxuICAgKiBDYW4gYmUgY2FsbGVkIHRvIG1hbnVhbGx5IG5vdGlmeSBhIHJlc2l6YWJsZSBhbmQgaXRzIGRlc2NlbmRhbnRcbiAgICogcmVzaXphYmxlcyBvZiBhIHJlc2l6ZSBjaGFuZ2UuXG4gICAqL1xuICBub3RpZnlSZXNpemU6IGZ1bmN0aW9uKCkge1xuICAgIGlmICghdGhpcy5pc0F0dGFjaGVkKSB7XG4gICAgICByZXR1cm47XG4gICAgfVxuXG4gICAgdGhpcy5faW50ZXJlc3RlZFJlc2l6YWJsZXMuZm9yRWFjaChmdW5jdGlvbihyZXNpemFibGUpIHtcbiAgICAgIGlmICh0aGlzLnJlc2l6ZXJTaG91bGROb3RpZnkocmVzaXphYmxlKSkge1xuICAgICAgICB0aGlzLl9ub3RpZnlEZXNjZW5kYW50KHJlc2l6YWJsZSk7XG4gICAgICB9XG4gICAgfSwgdGhpcyk7XG5cbiAgICB0aGlzLl9maXJlUmVzaXplKCk7XG4gIH0sXG5cbiAgLyoqXG4gICAqIFVzZWQgdG8gYXNzaWduIHRoZSBjbG9zZXN0IHJlc2l6YWJsZSBhbmNlc3RvciB0byB0aGlzIHJlc2l6YWJsZVxuICAgKiBpZiB0aGUgYW5jZXN0b3IgZGV0ZWN0cyBhIHJlcXVlc3QgZm9yIG5vdGlmaWNhdGlvbnMuXG4gICAqL1xuICBhc3NpZ25QYXJlbnRSZXNpemFibGU6IGZ1bmN0aW9uKHBhcmVudFJlc2l6YWJsZSkge1xuICAgIGlmICh0aGlzLl9wYXJlbnRSZXNpemFibGUpIHtcbiAgICAgIHRoaXMuX3BhcmVudFJlc2l6YWJsZS5zdG9wUmVzaXplTm90aWZpY2F0aW9uc0Zvcih0aGlzKTtcbiAgICB9XG5cbiAgICB0aGlzLl9wYXJlbnRSZXNpemFibGUgPSBwYXJlbnRSZXNpemFibGU7XG5cbiAgICBpZiAocGFyZW50UmVzaXphYmxlICYmXG4gICAgICAgIHBhcmVudFJlc2l6YWJsZS5faW50ZXJlc3RlZFJlc2l6YWJsZXMuaW5kZXhPZih0aGlzKSA9PT0gLTEpIHtcbiAgICAgIHBhcmVudFJlc2l6YWJsZS5faW50ZXJlc3RlZFJlc2l6YWJsZXMucHVzaCh0aGlzKTtcbiAgICAgIHBhcmVudFJlc2l6YWJsZS5fc3Vic2NyaWJlSXJvblJlc2l6ZSh0aGlzKTtcbiAgICB9XG4gIH0sXG5cbiAgLyoqXG4gICAqIFVzZWQgdG8gcmVtb3ZlIGEgcmVzaXphYmxlIGRlc2NlbmRhbnQgZnJvbSB0aGUgbGlzdCBvZiBkZXNjZW5kYW50c1xuICAgKiB0aGF0IHNob3VsZCBiZSBub3RpZmllZCBvZiBhIHJlc2l6ZSBjaGFuZ2UuXG4gICAqL1xuICBzdG9wUmVzaXplTm90aWZpY2F0aW9uc0ZvcjogZnVuY3Rpb24odGFyZ2V0KSB7XG4gICAgdmFyIGluZGV4ID0gdGhpcy5faW50ZXJlc3RlZFJlc2l6YWJsZXMuaW5kZXhPZih0YXJnZXQpO1xuXG4gICAgaWYgKGluZGV4ID4gLTEpIHtcbiAgICAgIHRoaXMuX2ludGVyZXN0ZWRSZXNpemFibGVzLnNwbGljZShpbmRleCwgMSk7XG4gICAgICB0aGlzLl91bnN1YnNjcmliZUlyb25SZXNpemUodGFyZ2V0KTtcbiAgICB9XG4gIH0sXG5cbiAgLyoqXG4gICAqIFN1YnNjcmliZSB0aGlzIGVsZW1lbnQgdG8gbGlzdGVuIHRvIGlyb24tcmVzaXplIGV2ZW50cyBvbiB0aGUgZ2l2ZW4gdGFyZ2V0LlxuICAgKlxuICAgKiBQcmVmZXJyZWQgb3ZlciB0YXJnZXQubGlzdGVuIGJlY2F1c2UgdGhlIHByb3BlcnR5IHJlbmFtZXIgZG9lcyBub3RcbiAgICogdW5kZXJzdGFuZCB0byByZW5hbWUgd2hlbiB0aGUgdGFyZ2V0IGlzIG5vdCBzcGVjaWZpY2FsbHkgXCJ0aGlzXCJcbiAgICpcbiAgICogQHBhcmFtIHshSFRNTEVsZW1lbnR9IHRhcmdldCBFbGVtZW50IHRvIGxpc3RlbiB0byBmb3IgaXJvbi1yZXNpemUgZXZlbnRzLlxuICAgKi9cbiAgX3N1YnNjcmliZUlyb25SZXNpemU6IGZ1bmN0aW9uKHRhcmdldCkge1xuICAgIHRhcmdldC5hZGRFdmVudExpc3RlbmVyKCdpcm9uLXJlc2l6ZScsIHRoaXMuX2JvdW5kT25EZXNjZW5kYW50SXJvblJlc2l6ZSk7XG4gIH0sXG5cbiAgLyoqXG4gICAqIFVuc3Vic2NyaWJlIHRoaXMgZWxlbWVudCBmcm9tIGxpc3RlbmluZyB0byB0byBpcm9uLXJlc2l6ZSBldmVudHMgb24gdGhlXG4gICAqIGdpdmVuIHRhcmdldC5cbiAgICpcbiAgICogUHJlZmVycmVkIG92ZXIgdGFyZ2V0LnVubGlzdGVuIGJlY2F1c2UgdGhlIHByb3BlcnR5IHJlbmFtZXIgZG9lcyBub3RcbiAgICogdW5kZXJzdGFuZCB0byByZW5hbWUgd2hlbiB0aGUgdGFyZ2V0IGlzIG5vdCBzcGVjaWZpY2FsbHkgXCJ0aGlzXCJcbiAgICpcbiAgICogQHBhcmFtIHshSFRNTEVsZW1lbnR9IHRhcmdldCBFbGVtZW50IHRvIGxpc3RlbiB0byBmb3IgaXJvbi1yZXNpemUgZXZlbnRzLlxuICAgKi9cbiAgX3Vuc3Vic2NyaWJlSXJvblJlc2l6ZTogZnVuY3Rpb24odGFyZ2V0KSB7XG4gICAgdGFyZ2V0LnJlbW92ZUV2ZW50TGlzdGVuZXIoXG4gICAgICAgICdpcm9uLXJlc2l6ZScsIHRoaXMuX2JvdW5kT25EZXNjZW5kYW50SXJvblJlc2l6ZSk7XG4gIH0sXG5cbiAgLyoqXG4gICAqIFRoaXMgbWV0aG9kIGNhbiBiZSBvdmVycmlkZGVuIHRvIGZpbHRlciBuZXN0ZWQgZWxlbWVudHMgdGhhdCBzaG91bGQgb3JcbiAgICogc2hvdWxkIG5vdCBiZSBub3RpZmllZCBieSB0aGUgY3VycmVudCBlbGVtZW50LiBSZXR1cm4gdHJ1ZSBpZiBhbiBlbGVtZW50XG4gICAqIHNob3VsZCBiZSBub3RpZmllZCwgb3IgZmFsc2UgaWYgaXQgc2hvdWxkIG5vdCBiZSBub3RpZmllZC5cbiAgICpcbiAgICogQHBhcmFtIHtIVE1MRWxlbWVudH0gZWxlbWVudCBBIGNhbmRpZGF0ZSBkZXNjZW5kYW50IGVsZW1lbnQgdGhhdFxuICAgKiBpbXBsZW1lbnRzIGBJcm9uUmVzaXphYmxlQmVoYXZpb3JgLlxuICAgKiBAcmV0dXJuIHtib29sZWFufSBUcnVlIGlmIHRoZSBgZWxlbWVudGAgc2hvdWxkIGJlIG5vdGlmaWVkIG9mIHJlc2l6ZS5cbiAgICovXG4gIHJlc2l6ZXJTaG91bGROb3RpZnk6IGZ1bmN0aW9uKGVsZW1lbnQpIHtcbiAgICByZXR1cm4gdHJ1ZTtcbiAgfSxcblxuICBfb25EZXNjZW5kYW50SXJvblJlc2l6ZTogZnVuY3Rpb24oZXZlbnQpIHtcbiAgICBpZiAodGhpcy5fbm90aWZ5aW5nRGVzY2VuZGFudCkge1xuICAgICAgZXZlbnQuc3RvcFByb3BhZ2F0aW9uKCk7XG4gICAgICByZXR1cm47XG4gICAgfVxuXG4gICAgLy8gbm8gbmVlZCB0byB1c2UgdGhpcyBkdXJpbmcgc2hhZG93IGRvbSBiZWNhdXNlIG9mIGV2ZW50IHJldGFyZ2V0aW5nXG4gICAgaWYgKCF1c2VTaGFkb3cpIHtcbiAgICAgIHRoaXMuX2ZpcmVSZXNpemUoKTtcbiAgICB9XG4gIH0sXG5cbiAgX2ZpcmVSZXNpemU6IGZ1bmN0aW9uKCkge1xuICAgIHRoaXMuZmlyZSgnaXJvbi1yZXNpemUnLCBudWxsLCB7bm9kZTogdGhpcywgYnViYmxlczogZmFsc2V9KTtcbiAgfSxcblxuICBfb25Jcm9uUmVxdWVzdFJlc2l6ZU5vdGlmaWNhdGlvbnM6IGZ1bmN0aW9uKGV2ZW50KSB7XG4gICAgdmFyIHRhcmdldCA9IC8qKiBAdHlwZSB7IUV2ZW50VGFyZ2V0fSAqLyAoZG9tKGV2ZW50KS5yb290VGFyZ2V0KTtcbiAgICBpZiAodGFyZ2V0ID09PSB0aGlzKSB7XG4gICAgICByZXR1cm47XG4gICAgfVxuXG4gICAgdGFyZ2V0LmFzc2lnblBhcmVudFJlc2l6YWJsZSh0aGlzKTtcbiAgICB0aGlzLl9ub3RpZnlEZXNjZW5kYW50KHRhcmdldCk7XG5cbiAgICBldmVudC5zdG9wUHJvcGFnYXRpb24oKTtcbiAgfSxcblxuICBfcGFyZW50UmVzaXphYmxlQ2hhbmdlZDogZnVuY3Rpb24ocGFyZW50UmVzaXphYmxlKSB7XG4gICAgaWYgKHBhcmVudFJlc2l6YWJsZSkge1xuICAgICAgd2luZG93LnJlbW92ZUV2ZW50TGlzdGVuZXIoJ3Jlc2l6ZScsIHRoaXMuX2JvdW5kTm90aWZ5UmVzaXplKTtcbiAgICB9XG4gIH0sXG5cbiAgX25vdGlmeURlc2NlbmRhbnQ6IGZ1bmN0aW9uKGRlc2NlbmRhbnQpIHtcbiAgICAvLyBOT1RFKGNkYXRhKTogSW4gSUUxMCwgYXR0YWNoZWQgaXMgZmlyZWQgb24gY2hpbGRyZW4gZmlyc3QsIHNvIGl0J3NcbiAgICAvLyBpbXBvcnRhbnQgbm90IHRvIG5vdGlmeSB0aGVtIGlmIHRoZSBwYXJlbnQgaXMgbm90IGF0dGFjaGVkIHlldCAob3JcbiAgICAvLyBlbHNlIHRoZXkgd2lsbCBnZXQgcmVkdW5kYW50bHkgbm90aWZpZWQgd2hlbiB0aGUgcGFyZW50IGF0dGFjaGVzKS5cbiAgICBpZiAoIXRoaXMuaXNBdHRhY2hlZCkge1xuICAgICAgcmV0dXJuO1xuICAgIH1cblxuICAgIHRoaXMuX25vdGlmeWluZ0Rlc2NlbmRhbnQgPSB0cnVlO1xuICAgIGRlc2NlbmRhbnQubm90aWZ5UmVzaXplKCk7XG4gICAgdGhpcy5fbm90aWZ5aW5nRGVzY2VuZGFudCA9IGZhbHNlO1xuICB9LFxuXG4gIF9yZXF1ZXN0UmVzaXplTm90aWZpY2F0aW9uczogZnVuY3Rpb24oKSB7XG4gICAgaWYgKCF0aGlzLmlzQXR0YWNoZWQpIHtcbiAgICAgIHJldHVybjtcbiAgICB9XG5cbiAgICBpZiAoZG9jdW1lbnQucmVhZHlTdGF0ZSA9PT0gJ2xvYWRpbmcnKSB7XG4gICAgICB2YXIgX3JlcXVlc3RSZXNpemVOb3RpZmljYXRpb25zID1cbiAgICAgICAgICB0aGlzLl9yZXF1ZXN0UmVzaXplTm90aWZpY2F0aW9ucy5iaW5kKHRoaXMpO1xuICAgICAgZG9jdW1lbnQuYWRkRXZlbnRMaXN0ZW5lcihcbiAgICAgICAgICAncmVhZHlzdGF0ZWNoYW5nZScsIGZ1bmN0aW9uIHJlYWR5c3RhdGVjaGFuZ2VkKCkge1xuICAgICAgICAgICAgZG9jdW1lbnQucmVtb3ZlRXZlbnRMaXN0ZW5lcigncmVhZHlzdGF0ZWNoYW5nZScsIHJlYWR5c3RhdGVjaGFuZ2VkKTtcbiAgICAgICAgICAgIF9yZXF1ZXN0UmVzaXplTm90aWZpY2F0aW9ucygpO1xuICAgICAgICAgIH0pO1xuICAgIH0gZWxzZSB7XG4gICAgICB0aGlzLl9maW5kUGFyZW50KCk7XG5cbiAgICAgIGlmICghdGhpcy5fcGFyZW50UmVzaXphYmxlKSB7XG4gICAgICAgIC8vIElmIHRoaXMgcmVzaXphYmxlIGlzIGFuIG9ycGhhbiwgdGVsbCBvdGhlciBvcnBoYW5zIHRvIHRyeSB0byBmaW5kXG4gICAgICAgIC8vIHRoZWlyIHBhcmVudCBhZ2FpbiwgaW4gY2FzZSBpdCdzIHRoaXMgcmVzaXphYmxlLlxuICAgICAgICBPUlBIQU5TLmZvckVhY2goZnVuY3Rpb24ob3JwaGFuKSB7XG4gICAgICAgICAgaWYgKG9ycGhhbiAhPT0gdGhpcykge1xuICAgICAgICAgICAgb3JwaGFuLl9maW5kUGFyZW50KCk7XG4gICAgICAgICAgfVxuICAgICAgICB9LCB0aGlzKTtcblxuICAgICAgICB3aW5kb3cuYWRkRXZlbnRMaXN0ZW5lcigncmVzaXplJywgdGhpcy5fYm91bmROb3RpZnlSZXNpemUpO1xuICAgICAgICB0aGlzLm5vdGlmeVJlc2l6ZSgpO1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgLy8gSWYgdGhpcyByZXNpemFibGUgaGFzIGEgcGFyZW50LCB0ZWxsIG90aGVyIGNoaWxkIHJlc2l6YWJsZXMgb2ZcbiAgICAgICAgLy8gdGhhdCBwYXJlbnQgdG8gdHJ5IGZpbmRpbmcgdGhlaXIgcGFyZW50IGFnYWluLCBpbiBjYXNlIGl0J3MgdGhpc1xuICAgICAgICAvLyByZXNpemFibGUuXG4gICAgICAgIHRoaXMuX3BhcmVudFJlc2l6YWJsZS5faW50ZXJlc3RlZFJlc2l6YWJsZXNcbiAgICAgICAgICAgIC5mb3JFYWNoKGZ1bmN0aW9uKHJlc2l6YWJsZSkge1xuICAgICAgICAgICAgICBpZiAocmVzaXphYmxlICE9PSB0aGlzKSB7XG4gICAgICAgICAgICAgICAgcmVzaXphYmxlLl9maW5kUGFyZW50KCk7XG4gICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH0sIHRoaXMpO1xuICAgICAgfVxuICAgIH1cbiAgfSxcblxuICBfZmluZFBhcmVudDogZnVuY3Rpb24oKSB7XG4gICAgdGhpcy5hc3NpZ25QYXJlbnRSZXNpemFibGUobnVsbCk7XG4gICAgdGhpcy5maXJlKFxuICAgICAgICAnaXJvbi1yZXF1ZXN0LXJlc2l6ZS1ub3RpZmljYXRpb25zJyxcbiAgICAgICAgbnVsbCxcbiAgICAgICAge25vZGU6IHRoaXMsIGJ1YmJsZXM6IHRydWUsIGNhbmNlbGFibGU6IHRydWV9KTtcblxuICAgIGlmICghdGhpcy5fcGFyZW50UmVzaXphYmxlKSB7XG4gICAgICBPUlBIQU5TLmFkZCh0aGlzKTtcbiAgICB9IGVsc2Uge1xuICAgICAgT1JQSEFOUy5kZWxldGUodGhpcyk7XG4gICAgfVxuICB9XG59O1xuIiwiLyoqXG5AbGljZW5zZVxuQ29weXJpZ2h0IChjKSAyMDE1IFRoZSBQb2x5bWVyIFByb2plY3QgQXV0aG9ycy4gQWxsIHJpZ2h0cyByZXNlcnZlZC5cblRoaXMgY29kZSBtYXkgb25seSBiZSB1c2VkIHVuZGVyIHRoZSBCU0Qgc3R5bGUgbGljZW5zZSBmb3VuZCBhdFxuaHR0cDovL3BvbHltZXIuZ2l0aHViLmlvL0xJQ0VOU0UudHh0IFRoZSBjb21wbGV0ZSBzZXQgb2YgYXV0aG9ycyBtYXkgYmUgZm91bmQgYXRcbmh0dHA6Ly9wb2x5bWVyLmdpdGh1Yi5pby9BVVRIT1JTLnR4dCBUaGUgY29tcGxldGUgc2V0IG9mIGNvbnRyaWJ1dG9ycyBtYXkgYmVcbmZvdW5kIGF0IGh0dHA6Ly9wb2x5bWVyLmdpdGh1Yi5pby9DT05UUklCVVRPUlMudHh0IENvZGUgZGlzdHJpYnV0ZWQgYnkgR29vZ2xlIGFzXG5wYXJ0IG9mIHRoZSBwb2x5bWVyIHByb2plY3QgaXMgYWxzbyBzdWJqZWN0IHRvIGFuIGFkZGl0aW9uYWwgSVAgcmlnaHRzIGdyYW50XG5mb3VuZCBhdCBodHRwOi8vcG9seW1lci5naXRodWIuaW8vUEFURU5UUy50eHRcbiovXG5cbmltcG9ydCAnQHBvbHltZXIvcG9seW1lci9wb2x5bWVyLWxlZ2FjeS5qcyc7XG5cbmltcG9ydCB7aHRtbH0gZnJvbSAnQHBvbHltZXIvcG9seW1lci9saWIvdXRpbHMvaHRtbC10YWcuanMnO1xuY29uc3QgdGVtcGxhdGUgPSBodG1sYFxuPGN1c3RvbS1zdHlsZT5cbiAgPHN0eWxlIGlzPVwiY3VzdG9tLXN0eWxlXCI+XG4gICAgaHRtbCB7XG5cbiAgICAgIC8qIE1hdGVyaWFsIERlc2lnbiBjb2xvciBwYWxldHRlIGZvciBHb29nbGUgcHJvZHVjdHMgKi9cblxuICAgICAgLS1nb29nbGUtcmVkLTEwMDogI2Y0YzdjMztcbiAgICAgIC0tZ29vZ2xlLXJlZC0zMDA6ICNlNjdjNzM7XG4gICAgICAtLWdvb2dsZS1yZWQtNTAwOiAjZGI0NDM3O1xuICAgICAgLS1nb29nbGUtcmVkLTcwMDogI2M1MzkyOTtcblxuICAgICAgLS1nb29nbGUtYmx1ZS0xMDA6ICNjNmRhZmM7XG4gICAgICAtLWdvb2dsZS1ibHVlLTMwMDogIzdiYWFmNztcbiAgICAgIC0tZ29vZ2xlLWJsdWUtNTAwOiAjNDI4NWY0O1xuICAgICAgLS1nb29nbGUtYmx1ZS03MDA6ICMzMzY3ZDY7XG5cbiAgICAgIC0tZ29vZ2xlLWdyZWVuLTEwMDogI2I3ZTFjZDtcbiAgICAgIC0tZ29vZ2xlLWdyZWVuLTMwMDogIzU3YmI4YTtcbiAgICAgIC0tZ29vZ2xlLWdyZWVuLTUwMDogIzBmOWQ1ODtcbiAgICAgIC0tZ29vZ2xlLWdyZWVuLTcwMDogIzBiODA0MztcblxuICAgICAgLS1nb29nbGUteWVsbG93LTEwMDogI2ZjZThiMjtcbiAgICAgIC0tZ29vZ2xlLXllbGxvdy0zMDA6ICNmN2NiNGQ7XG4gICAgICAtLWdvb2dsZS15ZWxsb3ctNTAwOiAjZjRiNDAwO1xuICAgICAgLS1nb29nbGUteWVsbG93LTcwMDogI2YwOTMwMDtcblxuICAgICAgLS1nb29nbGUtZ3JleS0xMDA6ICNmNWY1ZjU7XG4gICAgICAtLWdvb2dsZS1ncmV5LTMwMDogI2UwZTBlMDtcbiAgICAgIC0tZ29vZ2xlLWdyZXktNTAwOiAjOWU5ZTllO1xuICAgICAgLS1nb29nbGUtZ3JleS03MDA6ICM2MTYxNjE7XG5cbiAgICAgIC8qIE1hdGVyaWFsIERlc2lnbiBjb2xvciBwYWxldHRlIGZyb20gb25saW5lIHNwZWMgZG9jdW1lbnQgKi9cblxuICAgICAgLS1wYXBlci1yZWQtNTA6ICNmZmViZWU7XG4gICAgICAtLXBhcGVyLXJlZC0xMDA6ICNmZmNkZDI7XG4gICAgICAtLXBhcGVyLXJlZC0yMDA6ICNlZjlhOWE7XG4gICAgICAtLXBhcGVyLXJlZC0zMDA6ICNlNTczNzM7XG4gICAgICAtLXBhcGVyLXJlZC00MDA6ICNlZjUzNTA7XG4gICAgICAtLXBhcGVyLXJlZC01MDA6ICNmNDQzMzY7XG4gICAgICAtLXBhcGVyLXJlZC02MDA6ICNlNTM5MzU7XG4gICAgICAtLXBhcGVyLXJlZC03MDA6ICNkMzJmMmY7XG4gICAgICAtLXBhcGVyLXJlZC04MDA6ICNjNjI4Mjg7XG4gICAgICAtLXBhcGVyLXJlZC05MDA6ICNiNzFjMWM7XG4gICAgICAtLXBhcGVyLXJlZC1hMTAwOiAjZmY4YTgwO1xuICAgICAgLS1wYXBlci1yZWQtYTIwMDogI2ZmNTI1MjtcbiAgICAgIC0tcGFwZXItcmVkLWE0MDA6ICNmZjE3NDQ7XG4gICAgICAtLXBhcGVyLXJlZC1hNzAwOiAjZDUwMDAwO1xuXG4gICAgICAtLXBhcGVyLXBpbmstNTA6ICNmY2U0ZWM7XG4gICAgICAtLXBhcGVyLXBpbmstMTAwOiAjZjhiYmQwO1xuICAgICAgLS1wYXBlci1waW5rLTIwMDogI2Y0OGZiMTtcbiAgICAgIC0tcGFwZXItcGluay0zMDA6ICNmMDYyOTI7XG4gICAgICAtLXBhcGVyLXBpbmstNDAwOiAjZWM0MDdhO1xuICAgICAgLS1wYXBlci1waW5rLTUwMDogI2U5MWU2MztcbiAgICAgIC0tcGFwZXItcGluay02MDA6ICNkODFiNjA7XG4gICAgICAtLXBhcGVyLXBpbmstNzAwOiAjYzIxODViO1xuICAgICAgLS1wYXBlci1waW5rLTgwMDogI2FkMTQ1NztcbiAgICAgIC0tcGFwZXItcGluay05MDA6ICM4ODBlNGY7XG4gICAgICAtLXBhcGVyLXBpbmstYTEwMDogI2ZmODBhYjtcbiAgICAgIC0tcGFwZXItcGluay1hMjAwOiAjZmY0MDgxO1xuICAgICAgLS1wYXBlci1waW5rLWE0MDA6ICNmNTAwNTc7XG4gICAgICAtLXBhcGVyLXBpbmstYTcwMDogI2M1MTE2MjtcblxuICAgICAgLS1wYXBlci1wdXJwbGUtNTA6ICNmM2U1ZjU7XG4gICAgICAtLXBhcGVyLXB1cnBsZS0xMDA6ICNlMWJlZTc7XG4gICAgICAtLXBhcGVyLXB1cnBsZS0yMDA6ICNjZTkzZDg7XG4gICAgICAtLXBhcGVyLXB1cnBsZS0zMDA6ICNiYTY4Yzg7XG4gICAgICAtLXBhcGVyLXB1cnBsZS00MDA6ICNhYjQ3YmM7XG4gICAgICAtLXBhcGVyLXB1cnBsZS01MDA6ICM5YzI3YjA7XG4gICAgICAtLXBhcGVyLXB1cnBsZS02MDA6ICM4ZTI0YWE7XG4gICAgICAtLXBhcGVyLXB1cnBsZS03MDA6ICM3YjFmYTI7XG4gICAgICAtLXBhcGVyLXB1cnBsZS04MDA6ICM2YTFiOWE7XG4gICAgICAtLXBhcGVyLXB1cnBsZS05MDA6ICM0YTE0OGM7XG4gICAgICAtLXBhcGVyLXB1cnBsZS1hMTAwOiAjZWE4MGZjO1xuICAgICAgLS1wYXBlci1wdXJwbGUtYTIwMDogI2UwNDBmYjtcbiAgICAgIC0tcGFwZXItcHVycGxlLWE0MDA6ICNkNTAwZjk7XG4gICAgICAtLXBhcGVyLXB1cnBsZS1hNzAwOiAjYWEwMGZmO1xuXG4gICAgICAtLXBhcGVyLWRlZXAtcHVycGxlLTUwOiAjZWRlN2Y2O1xuICAgICAgLS1wYXBlci1kZWVwLXB1cnBsZS0xMDA6ICNkMWM0ZTk7XG4gICAgICAtLXBhcGVyLWRlZXAtcHVycGxlLTIwMDogI2IzOWRkYjtcbiAgICAgIC0tcGFwZXItZGVlcC1wdXJwbGUtMzAwOiAjOTU3NWNkO1xuICAgICAgLS1wYXBlci1kZWVwLXB1cnBsZS00MDA6ICM3ZTU3YzI7XG4gICAgICAtLXBhcGVyLWRlZXAtcHVycGxlLTUwMDogIzY3M2FiNztcbiAgICAgIC0tcGFwZXItZGVlcC1wdXJwbGUtNjAwOiAjNWUzNWIxO1xuICAgICAgLS1wYXBlci1kZWVwLXB1cnBsZS03MDA6ICM1MTJkYTg7XG4gICAgICAtLXBhcGVyLWRlZXAtcHVycGxlLTgwMDogIzQ1MjdhMDtcbiAgICAgIC0tcGFwZXItZGVlcC1wdXJwbGUtOTAwOiAjMzExYjkyO1xuICAgICAgLS1wYXBlci1kZWVwLXB1cnBsZS1hMTAwOiAjYjM4OGZmO1xuICAgICAgLS1wYXBlci1kZWVwLXB1cnBsZS1hMjAwOiAjN2M0ZGZmO1xuICAgICAgLS1wYXBlci1kZWVwLXB1cnBsZS1hNDAwOiAjNjUxZmZmO1xuICAgICAgLS1wYXBlci1kZWVwLXB1cnBsZS1hNzAwOiAjNjIwMGVhO1xuXG4gICAgICAtLXBhcGVyLWluZGlnby01MDogI2U4ZWFmNjtcbiAgICAgIC0tcGFwZXItaW5kaWdvLTEwMDogI2M1Y2FlOTtcbiAgICAgIC0tcGFwZXItaW5kaWdvLTIwMDogIzlmYThkYTtcbiAgICAgIC0tcGFwZXItaW5kaWdvLTMwMDogIzc5ODZjYjtcbiAgICAgIC0tcGFwZXItaW5kaWdvLTQwMDogIzVjNmJjMDtcbiAgICAgIC0tcGFwZXItaW5kaWdvLTUwMDogIzNmNTFiNTtcbiAgICAgIC0tcGFwZXItaW5kaWdvLTYwMDogIzM5NDlhYjtcbiAgICAgIC0tcGFwZXItaW5kaWdvLTcwMDogIzMwM2Y5ZjtcbiAgICAgIC0tcGFwZXItaW5kaWdvLTgwMDogIzI4MzU5MztcbiAgICAgIC0tcGFwZXItaW5kaWdvLTkwMDogIzFhMjM3ZTtcbiAgICAgIC0tcGFwZXItaW5kaWdvLWExMDA6ICM4YzllZmY7XG4gICAgICAtLXBhcGVyLWluZGlnby1hMjAwOiAjNTM2ZGZlO1xuICAgICAgLS1wYXBlci1pbmRpZ28tYTQwMDogIzNkNWFmZTtcbiAgICAgIC0tcGFwZXItaW5kaWdvLWE3MDA6ICMzMDRmZmU7XG5cbiAgICAgIC0tcGFwZXItYmx1ZS01MDogI2UzZjJmZDtcbiAgICAgIC0tcGFwZXItYmx1ZS0xMDA6ICNiYmRlZmI7XG4gICAgICAtLXBhcGVyLWJsdWUtMjAwOiAjOTBjYWY5O1xuICAgICAgLS1wYXBlci1ibHVlLTMwMDogIzY0YjVmNjtcbiAgICAgIC0tcGFwZXItYmx1ZS00MDA6ICM0MmE1ZjU7XG4gICAgICAtLXBhcGVyLWJsdWUtNTAwOiAjMjE5NmYzO1xuICAgICAgLS1wYXBlci1ibHVlLTYwMDogIzFlODhlNTtcbiAgICAgIC0tcGFwZXItYmx1ZS03MDA6ICMxOTc2ZDI7XG4gICAgICAtLXBhcGVyLWJsdWUtODAwOiAjMTU2NWMwO1xuICAgICAgLS1wYXBlci1ibHVlLTkwMDogIzBkNDdhMTtcbiAgICAgIC0tcGFwZXItYmx1ZS1hMTAwOiAjODJiMWZmO1xuICAgICAgLS1wYXBlci1ibHVlLWEyMDA6ICM0NDhhZmY7XG4gICAgICAtLXBhcGVyLWJsdWUtYTQwMDogIzI5NzlmZjtcbiAgICAgIC0tcGFwZXItYmx1ZS1hNzAwOiAjMjk2MmZmO1xuXG4gICAgICAtLXBhcGVyLWxpZ2h0LWJsdWUtNTA6ICNlMWY1ZmU7XG4gICAgICAtLXBhcGVyLWxpZ2h0LWJsdWUtMTAwOiAjYjNlNWZjO1xuICAgICAgLS1wYXBlci1saWdodC1ibHVlLTIwMDogIzgxZDRmYTtcbiAgICAgIC0tcGFwZXItbGlnaHQtYmx1ZS0zMDA6ICM0ZmMzZjc7XG4gICAgICAtLXBhcGVyLWxpZ2h0LWJsdWUtNDAwOiAjMjliNmY2O1xuICAgICAgLS1wYXBlci1saWdodC1ibHVlLTUwMDogIzAzYTlmNDtcbiAgICAgIC0tcGFwZXItbGlnaHQtYmx1ZS02MDA6ICMwMzliZTU7XG4gICAgICAtLXBhcGVyLWxpZ2h0LWJsdWUtNzAwOiAjMDI4OGQxO1xuICAgICAgLS1wYXBlci1saWdodC1ibHVlLTgwMDogIzAyNzdiZDtcbiAgICAgIC0tcGFwZXItbGlnaHQtYmx1ZS05MDA6ICMwMTU3OWI7XG4gICAgICAtLXBhcGVyLWxpZ2h0LWJsdWUtYTEwMDogIzgwZDhmZjtcbiAgICAgIC0tcGFwZXItbGlnaHQtYmx1ZS1hMjAwOiAjNDBjNGZmO1xuICAgICAgLS1wYXBlci1saWdodC1ibHVlLWE0MDA6ICMwMGIwZmY7XG4gICAgICAtLXBhcGVyLWxpZ2h0LWJsdWUtYTcwMDogIzAwOTFlYTtcblxuICAgICAgLS1wYXBlci1jeWFuLTUwOiAjZTBmN2ZhO1xuICAgICAgLS1wYXBlci1jeWFuLTEwMDogI2IyZWJmMjtcbiAgICAgIC0tcGFwZXItY3lhbi0yMDA6ICM4MGRlZWE7XG4gICAgICAtLXBhcGVyLWN5YW4tMzAwOiAjNGRkMGUxO1xuICAgICAgLS1wYXBlci1jeWFuLTQwMDogIzI2YzZkYTtcbiAgICAgIC0tcGFwZXItY3lhbi01MDA6ICMwMGJjZDQ7XG4gICAgICAtLXBhcGVyLWN5YW4tNjAwOiAjMDBhY2MxO1xuICAgICAgLS1wYXBlci1jeWFuLTcwMDogIzAwOTdhNztcbiAgICAgIC0tcGFwZXItY3lhbi04MDA6ICMwMDgzOGY7XG4gICAgICAtLXBhcGVyLWN5YW4tOTAwOiAjMDA2MDY0O1xuICAgICAgLS1wYXBlci1jeWFuLWExMDA6ICM4NGZmZmY7XG4gICAgICAtLXBhcGVyLWN5YW4tYTIwMDogIzE4ZmZmZjtcbiAgICAgIC0tcGFwZXItY3lhbi1hNDAwOiAjMDBlNWZmO1xuICAgICAgLS1wYXBlci1jeWFuLWE3MDA6ICMwMGI4ZDQ7XG5cbiAgICAgIC0tcGFwZXItdGVhbC01MDogI2UwZjJmMTtcbiAgICAgIC0tcGFwZXItdGVhbC0xMDA6ICNiMmRmZGI7XG4gICAgICAtLXBhcGVyLXRlYWwtMjAwOiAjODBjYmM0O1xuICAgICAgLS1wYXBlci10ZWFsLTMwMDogIzRkYjZhYztcbiAgICAgIC0tcGFwZXItdGVhbC00MDA6ICMyNmE2OWE7XG4gICAgICAtLXBhcGVyLXRlYWwtNTAwOiAjMDA5Njg4O1xuICAgICAgLS1wYXBlci10ZWFsLTYwMDogIzAwODk3YjtcbiAgICAgIC0tcGFwZXItdGVhbC03MDA6ICMwMDc5NmI7XG4gICAgICAtLXBhcGVyLXRlYWwtODAwOiAjMDA2OTVjO1xuICAgICAgLS1wYXBlci10ZWFsLTkwMDogIzAwNGQ0MDtcbiAgICAgIC0tcGFwZXItdGVhbC1hMTAwOiAjYTdmZmViO1xuICAgICAgLS1wYXBlci10ZWFsLWEyMDA6ICM2NGZmZGE7XG4gICAgICAtLXBhcGVyLXRlYWwtYTQwMDogIzFkZTliNjtcbiAgICAgIC0tcGFwZXItdGVhbC1hNzAwOiAjMDBiZmE1O1xuXG4gICAgICAtLXBhcGVyLWdyZWVuLTUwOiAjZThmNWU5O1xuICAgICAgLS1wYXBlci1ncmVlbi0xMDA6ICNjOGU2Yzk7XG4gICAgICAtLXBhcGVyLWdyZWVuLTIwMDogI2E1ZDZhNztcbiAgICAgIC0tcGFwZXItZ3JlZW4tMzAwOiAjODFjNzg0O1xuICAgICAgLS1wYXBlci1ncmVlbi00MDA6ICM2NmJiNmE7XG4gICAgICAtLXBhcGVyLWdyZWVuLTUwMDogIzRjYWY1MDtcbiAgICAgIC0tcGFwZXItZ3JlZW4tNjAwOiAjNDNhMDQ3O1xuICAgICAgLS1wYXBlci1ncmVlbi03MDA6ICMzODhlM2M7XG4gICAgICAtLXBhcGVyLWdyZWVuLTgwMDogIzJlN2QzMjtcbiAgICAgIC0tcGFwZXItZ3JlZW4tOTAwOiAjMWI1ZTIwO1xuICAgICAgLS1wYXBlci1ncmVlbi1hMTAwOiAjYjlmNmNhO1xuICAgICAgLS1wYXBlci1ncmVlbi1hMjAwOiAjNjlmMGFlO1xuICAgICAgLS1wYXBlci1ncmVlbi1hNDAwOiAjMDBlNjc2O1xuICAgICAgLS1wYXBlci1ncmVlbi1hNzAwOiAjMDBjODUzO1xuXG4gICAgICAtLXBhcGVyLWxpZ2h0LWdyZWVuLTUwOiAjZjFmOGU5O1xuICAgICAgLS1wYXBlci1saWdodC1ncmVlbi0xMDA6ICNkY2VkYzg7XG4gICAgICAtLXBhcGVyLWxpZ2h0LWdyZWVuLTIwMDogI2M1ZTFhNTtcbiAgICAgIC0tcGFwZXItbGlnaHQtZ3JlZW4tMzAwOiAjYWVkNTgxO1xuICAgICAgLS1wYXBlci1saWdodC1ncmVlbi00MDA6ICM5Y2NjNjU7XG4gICAgICAtLXBhcGVyLWxpZ2h0LWdyZWVuLTUwMDogIzhiYzM0YTtcbiAgICAgIC0tcGFwZXItbGlnaHQtZ3JlZW4tNjAwOiAjN2NiMzQyO1xuICAgICAgLS1wYXBlci1saWdodC1ncmVlbi03MDA6ICM2ODlmMzg7XG4gICAgICAtLXBhcGVyLWxpZ2h0LWdyZWVuLTgwMDogIzU1OGIyZjtcbiAgICAgIC0tcGFwZXItbGlnaHQtZ3JlZW4tOTAwOiAjMzM2OTFlO1xuICAgICAgLS1wYXBlci1saWdodC1ncmVlbi1hMTAwOiAjY2NmZjkwO1xuICAgICAgLS1wYXBlci1saWdodC1ncmVlbi1hMjAwOiAjYjJmZjU5O1xuICAgICAgLS1wYXBlci1saWdodC1ncmVlbi1hNDAwOiAjNzZmZjAzO1xuICAgICAgLS1wYXBlci1saWdodC1ncmVlbi1hNzAwOiAjNjRkZDE3O1xuXG4gICAgICAtLXBhcGVyLWxpbWUtNTA6ICNmOWZiZTc7XG4gICAgICAtLXBhcGVyLWxpbWUtMTAwOiAjZjBmNGMzO1xuICAgICAgLS1wYXBlci1saW1lLTIwMDogI2U2ZWU5YztcbiAgICAgIC0tcGFwZXItbGltZS0zMDA6ICNkY2U3NzU7XG4gICAgICAtLXBhcGVyLWxpbWUtNDAwOiAjZDRlMTU3O1xuICAgICAgLS1wYXBlci1saW1lLTUwMDogI2NkZGMzOTtcbiAgICAgIC0tcGFwZXItbGltZS02MDA6ICNjMGNhMzM7XG4gICAgICAtLXBhcGVyLWxpbWUtNzAwOiAjYWZiNDJiO1xuICAgICAgLS1wYXBlci1saW1lLTgwMDogIzllOWQyNDtcbiAgICAgIC0tcGFwZXItbGltZS05MDA6ICM4Mjc3MTc7XG4gICAgICAtLXBhcGVyLWxpbWUtYTEwMDogI2Y0ZmY4MTtcbiAgICAgIC0tcGFwZXItbGltZS1hMjAwOiAjZWVmZjQxO1xuICAgICAgLS1wYXBlci1saW1lLWE0MDA6ICNjNmZmMDA7XG4gICAgICAtLXBhcGVyLWxpbWUtYTcwMDogI2FlZWEwMDtcblxuICAgICAgLS1wYXBlci15ZWxsb3ctNTA6ICNmZmZkZTc7XG4gICAgICAtLXBhcGVyLXllbGxvdy0xMDA6ICNmZmY5YzQ7XG4gICAgICAtLXBhcGVyLXllbGxvdy0yMDA6ICNmZmY1OWQ7XG4gICAgICAtLXBhcGVyLXllbGxvdy0zMDA6ICNmZmYxNzY7XG4gICAgICAtLXBhcGVyLXllbGxvdy00MDA6ICNmZmVlNTg7XG4gICAgICAtLXBhcGVyLXllbGxvdy01MDA6ICNmZmViM2I7XG4gICAgICAtLXBhcGVyLXllbGxvdy02MDA6ICNmZGQ4MzU7XG4gICAgICAtLXBhcGVyLXllbGxvdy03MDA6ICNmYmMwMmQ7XG4gICAgICAtLXBhcGVyLXllbGxvdy04MDA6ICNmOWE4MjU7XG4gICAgICAtLXBhcGVyLXllbGxvdy05MDA6ICNmNTdmMTc7XG4gICAgICAtLXBhcGVyLXllbGxvdy1hMTAwOiAjZmZmZjhkO1xuICAgICAgLS1wYXBlci15ZWxsb3ctYTIwMDogI2ZmZmYwMDtcbiAgICAgIC0tcGFwZXIteWVsbG93LWE0MDA6ICNmZmVhMDA7XG4gICAgICAtLXBhcGVyLXllbGxvdy1hNzAwOiAjZmZkNjAwO1xuXG4gICAgICAtLXBhcGVyLWFtYmVyLTUwOiAjZmZmOGUxO1xuICAgICAgLS1wYXBlci1hbWJlci0xMDA6ICNmZmVjYjM7XG4gICAgICAtLXBhcGVyLWFtYmVyLTIwMDogI2ZmZTA4MjtcbiAgICAgIC0tcGFwZXItYW1iZXItMzAwOiAjZmZkNTRmO1xuICAgICAgLS1wYXBlci1hbWJlci00MDA6ICNmZmNhMjg7XG4gICAgICAtLXBhcGVyLWFtYmVyLTUwMDogI2ZmYzEwNztcbiAgICAgIC0tcGFwZXItYW1iZXItNjAwOiAjZmZiMzAwO1xuICAgICAgLS1wYXBlci1hbWJlci03MDA6ICNmZmEwMDA7XG4gICAgICAtLXBhcGVyLWFtYmVyLTgwMDogI2ZmOGYwMDtcbiAgICAgIC0tcGFwZXItYW1iZXItOTAwOiAjZmY2ZjAwO1xuICAgICAgLS1wYXBlci1hbWJlci1hMTAwOiAjZmZlNTdmO1xuICAgICAgLS1wYXBlci1hbWJlci1hMjAwOiAjZmZkNzQwO1xuICAgICAgLS1wYXBlci1hbWJlci1hNDAwOiAjZmZjNDAwO1xuICAgICAgLS1wYXBlci1hbWJlci1hNzAwOiAjZmZhYjAwO1xuXG4gICAgICAtLXBhcGVyLW9yYW5nZS01MDogI2ZmZjNlMDtcbiAgICAgIC0tcGFwZXItb3JhbmdlLTEwMDogI2ZmZTBiMjtcbiAgICAgIC0tcGFwZXItb3JhbmdlLTIwMDogI2ZmY2M4MDtcbiAgICAgIC0tcGFwZXItb3JhbmdlLTMwMDogI2ZmYjc0ZDtcbiAgICAgIC0tcGFwZXItb3JhbmdlLTQwMDogI2ZmYTcyNjtcbiAgICAgIC0tcGFwZXItb3JhbmdlLTUwMDogI2ZmOTgwMDtcbiAgICAgIC0tcGFwZXItb3JhbmdlLTYwMDogI2ZiOGMwMDtcbiAgICAgIC0tcGFwZXItb3JhbmdlLTcwMDogI2Y1N2MwMDtcbiAgICAgIC0tcGFwZXItb3JhbmdlLTgwMDogI2VmNmMwMDtcbiAgICAgIC0tcGFwZXItb3JhbmdlLTkwMDogI2U2NTEwMDtcbiAgICAgIC0tcGFwZXItb3JhbmdlLWExMDA6ICNmZmQxODA7XG4gICAgICAtLXBhcGVyLW9yYW5nZS1hMjAwOiAjZmZhYjQwO1xuICAgICAgLS1wYXBlci1vcmFuZ2UtYTQwMDogI2ZmOTEwMDtcbiAgICAgIC0tcGFwZXItb3JhbmdlLWE3MDA6ICNmZjY1MDA7XG5cbiAgICAgIC0tcGFwZXItZGVlcC1vcmFuZ2UtNTA6ICNmYmU5ZTc7XG4gICAgICAtLXBhcGVyLWRlZXAtb3JhbmdlLTEwMDogI2ZmY2NiYztcbiAgICAgIC0tcGFwZXItZGVlcC1vcmFuZ2UtMjAwOiAjZmZhYjkxO1xuICAgICAgLS1wYXBlci1kZWVwLW9yYW5nZS0zMDA6ICNmZjhhNjU7XG4gICAgICAtLXBhcGVyLWRlZXAtb3JhbmdlLTQwMDogI2ZmNzA0MztcbiAgICAgIC0tcGFwZXItZGVlcC1vcmFuZ2UtNTAwOiAjZmY1NzIyO1xuICAgICAgLS1wYXBlci1kZWVwLW9yYW5nZS02MDA6ICNmNDUxMWU7XG4gICAgICAtLXBhcGVyLWRlZXAtb3JhbmdlLTcwMDogI2U2NGExOTtcbiAgICAgIC0tcGFwZXItZGVlcC1vcmFuZ2UtODAwOiAjZDg0MzE1O1xuICAgICAgLS1wYXBlci1kZWVwLW9yYW5nZS05MDA6ICNiZjM2MGM7XG4gICAgICAtLXBhcGVyLWRlZXAtb3JhbmdlLWExMDA6ICNmZjllODA7XG4gICAgICAtLXBhcGVyLWRlZXAtb3JhbmdlLWEyMDA6ICNmZjZlNDA7XG4gICAgICAtLXBhcGVyLWRlZXAtb3JhbmdlLWE0MDA6ICNmZjNkMDA7XG4gICAgICAtLXBhcGVyLWRlZXAtb3JhbmdlLWE3MDA6ICNkZDJjMDA7XG5cbiAgICAgIC0tcGFwZXItYnJvd24tNTA6ICNlZmViZTk7XG4gICAgICAtLXBhcGVyLWJyb3duLTEwMDogI2Q3Y2NjODtcbiAgICAgIC0tcGFwZXItYnJvd24tMjAwOiAjYmNhYWE0O1xuICAgICAgLS1wYXBlci1icm93bi0zMDA6ICNhMTg4N2Y7XG4gICAgICAtLXBhcGVyLWJyb3duLTQwMDogIzhkNmU2MztcbiAgICAgIC0tcGFwZXItYnJvd24tNTAwOiAjNzk1NTQ4O1xuICAgICAgLS1wYXBlci1icm93bi02MDA6ICM2ZDRjNDE7XG4gICAgICAtLXBhcGVyLWJyb3duLTcwMDogIzVkNDAzNztcbiAgICAgIC0tcGFwZXItYnJvd24tODAwOiAjNGUzNDJlO1xuICAgICAgLS1wYXBlci1icm93bi05MDA6ICMzZTI3MjM7XG5cbiAgICAgIC0tcGFwZXItZ3JleS01MDogI2ZhZmFmYTtcbiAgICAgIC0tcGFwZXItZ3JleS0xMDA6ICNmNWY1ZjU7XG4gICAgICAtLXBhcGVyLWdyZXktMjAwOiAjZWVlZWVlO1xuICAgICAgLS1wYXBlci1ncmV5LTMwMDogI2UwZTBlMDtcbiAgICAgIC0tcGFwZXItZ3JleS00MDA6ICNiZGJkYmQ7XG4gICAgICAtLXBhcGVyLWdyZXktNTAwOiAjOWU5ZTllO1xuICAgICAgLS1wYXBlci1ncmV5LTYwMDogIzc1NzU3NTtcbiAgICAgIC0tcGFwZXItZ3JleS03MDA6ICM2MTYxNjE7XG4gICAgICAtLXBhcGVyLWdyZXktODAwOiAjNDI0MjQyO1xuICAgICAgLS1wYXBlci1ncmV5LTkwMDogIzIxMjEyMTtcblxuICAgICAgLS1wYXBlci1ibHVlLWdyZXktNTA6ICNlY2VmZjE7XG4gICAgICAtLXBhcGVyLWJsdWUtZ3JleS0xMDA6ICNjZmQ4ZGM7XG4gICAgICAtLXBhcGVyLWJsdWUtZ3JleS0yMDA6ICNiMGJlYzU7XG4gICAgICAtLXBhcGVyLWJsdWUtZ3JleS0zMDA6ICM5MGE0YWU7XG4gICAgICAtLXBhcGVyLWJsdWUtZ3JleS00MDA6ICM3ODkwOWM7XG4gICAgICAtLXBhcGVyLWJsdWUtZ3JleS01MDA6ICM2MDdkOGI7XG4gICAgICAtLXBhcGVyLWJsdWUtZ3JleS02MDA6ICM1NDZlN2E7XG4gICAgICAtLXBhcGVyLWJsdWUtZ3JleS03MDA6ICM0NTVhNjQ7XG4gICAgICAtLXBhcGVyLWJsdWUtZ3JleS04MDA6ICMzNzQ3NGY7XG4gICAgICAtLXBhcGVyLWJsdWUtZ3JleS05MDA6ICMyNjMyMzg7XG5cbiAgICAgIC8qIG9wYWNpdHkgZm9yIGRhcmsgdGV4dCBvbiBhIGxpZ2h0IGJhY2tncm91bmQgKi9cbiAgICAgIC0tZGFyay1kaXZpZGVyLW9wYWNpdHk6IDAuMTI7XG4gICAgICAtLWRhcmstZGlzYWJsZWQtb3BhY2l0eTogMC4zODsgLyogb3IgaGludCB0ZXh0IG9yIGljb24gKi9cbiAgICAgIC0tZGFyay1zZWNvbmRhcnktb3BhY2l0eTogMC41NDtcbiAgICAgIC0tZGFyay1wcmltYXJ5LW9wYWNpdHk6IDAuODc7XG5cbiAgICAgIC8qIG9wYWNpdHkgZm9yIGxpZ2h0IHRleHQgb24gYSBkYXJrIGJhY2tncm91bmQgKi9cbiAgICAgIC0tbGlnaHQtZGl2aWRlci1vcGFjaXR5OiAwLjEyO1xuICAgICAgLS1saWdodC1kaXNhYmxlZC1vcGFjaXR5OiAwLjM7IC8qIG9yIGhpbnQgdGV4dCBvciBpY29uICovXG4gICAgICAtLWxpZ2h0LXNlY29uZGFyeS1vcGFjaXR5OiAwLjc7XG4gICAgICAtLWxpZ2h0LXByaW1hcnktb3BhY2l0eTogMS4wO1xuXG4gICAgfVxuXG4gIDwvc3R5bGU+XG48L2N1c3RvbS1zdHlsZT5cbmA7XG50ZW1wbGF0ZS5zZXRBdHRyaWJ1dGUoJ3N0eWxlJywgJ2Rpc3BsYXk6IG5vbmU7Jyk7XG5kb2N1bWVudC5oZWFkLmFwcGVuZENoaWxkKHRlbXBsYXRlLmNvbnRlbnQpO1xuIiwiLyoqXG5AbGljZW5zZVxuQ29weXJpZ2h0IChjKSAyMDE1IFRoZSBQb2x5bWVyIFByb2plY3QgQXV0aG9ycy4gQWxsIHJpZ2h0cyByZXNlcnZlZC5cblRoaXMgY29kZSBtYXkgb25seSBiZSB1c2VkIHVuZGVyIHRoZSBCU0Qgc3R5bGUgbGljZW5zZSBmb3VuZCBhdFxuaHR0cDovL3BvbHltZXIuZ2l0aHViLmlvL0xJQ0VOU0UudHh0IFRoZSBjb21wbGV0ZSBzZXQgb2YgYXV0aG9ycyBtYXkgYmUgZm91bmQgYXRcbmh0dHA6Ly9wb2x5bWVyLmdpdGh1Yi5pby9BVVRIT1JTLnR4dCBUaGUgY29tcGxldGUgc2V0IG9mIGNvbnRyaWJ1dG9ycyBtYXkgYmVcbmZvdW5kIGF0IGh0dHA6Ly9wb2x5bWVyLmdpdGh1Yi5pby9DT05UUklCVVRPUlMudHh0IENvZGUgZGlzdHJpYnV0ZWQgYnkgR29vZ2xlIGFzXG5wYXJ0IG9mIHRoZSBwb2x5bWVyIHByb2plY3QgaXMgYWxzbyBzdWJqZWN0IHRvIGFuIGFkZGl0aW9uYWwgSVAgcmlnaHRzIGdyYW50XG5mb3VuZCBhdCBodHRwOi8vcG9seW1lci5naXRodWIuaW8vUEFURU5UUy50eHRcbiovXG5pbXBvcnQgJ0Bwb2x5bWVyL3BvbHltZXIvcG9seW1lci1sZWdhY3kuanMnO1xuXG5pbXBvcnQge1BvbHltZXJ9IGZyb20gJ0Bwb2x5bWVyL3BvbHltZXIvbGliL2xlZ2FjeS9wb2x5bWVyLWZuLmpzJztcblxuZXhwb3J0IGNsYXNzIElyb25NZXRhIHtcbiAgLyoqXG4gICAqIEBwYXJhbSB7e1xuICAgKiAgIHR5cGU6IChzdHJpbmd8bnVsbHx1bmRlZmluZWQpLFxuICAgKiAgIGtleTogKHN0cmluZ3xudWxsfHVuZGVmaW5lZCksXG4gICAqICAgdmFsdWU6ICosXG4gICAqIH09fSBvcHRpb25zXG4gICAqL1xuICBjb25zdHJ1Y3RvcihvcHRpb25zKSB7XG4gICAgSXJvbk1ldGFbJyAnXShvcHRpb25zKTtcblxuICAgIC8qKiBAdHlwZSB7c3RyaW5nfSAqL1xuICAgIHRoaXMudHlwZSA9IChvcHRpb25zICYmIG9wdGlvbnMudHlwZSkgfHwgJ2RlZmF1bHQnO1xuICAgIC8qKiBAdHlwZSB7c3RyaW5nfG51bGx8dW5kZWZpbmVkfSAqL1xuICAgIHRoaXMua2V5ID0gb3B0aW9ucyAmJiBvcHRpb25zLmtleTtcbiAgICBpZiAob3B0aW9ucyAmJiAndmFsdWUnIGluIG9wdGlvbnMpIHtcbiAgICAgIC8qKiBAdHlwZSB7Kn0gKi9cbiAgICAgIHRoaXMudmFsdWUgPSBvcHRpb25zLnZhbHVlO1xuICAgIH1cbiAgfVxuXG4gIC8qKiBAcmV0dXJuIHsqfSAqL1xuICBnZXQgdmFsdWUoKSB7XG4gICAgdmFyIHR5cGUgPSB0aGlzLnR5cGU7XG4gICAgdmFyIGtleSA9IHRoaXMua2V5O1xuXG4gICAgaWYgKHR5cGUgJiYga2V5KSB7XG4gICAgICByZXR1cm4gSXJvbk1ldGEudHlwZXNbdHlwZV0gJiYgSXJvbk1ldGEudHlwZXNbdHlwZV1ba2V5XTtcbiAgICB9XG4gIH1cblxuICAvKiogQHBhcmFtIHsqfSB2YWx1ZSAqL1xuICBzZXQgdmFsdWUodmFsdWUpIHtcbiAgICB2YXIgdHlwZSA9IHRoaXMudHlwZTtcbiAgICB2YXIga2V5ID0gdGhpcy5rZXk7XG5cbiAgICBpZiAodHlwZSAmJiBrZXkpIHtcbiAgICAgIHR5cGUgPSBJcm9uTWV0YS50eXBlc1t0eXBlXSA9IElyb25NZXRhLnR5cGVzW3R5cGVdIHx8IHt9O1xuICAgICAgaWYgKHZhbHVlID09IG51bGwpIHtcbiAgICAgICAgZGVsZXRlIHR5cGVba2V5XTtcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIHR5cGVba2V5XSA9IHZhbHVlO1xuICAgICAgfVxuICAgIH1cbiAgfVxuXG4gIC8qKiBAcmV0dXJuIHshQXJyYXk8Kj59ICovXG4gIGdldCBsaXN0KCkge1xuICAgIHZhciB0eXBlID0gdGhpcy50eXBlO1xuXG4gICAgaWYgKHR5cGUpIHtcbiAgICAgIHZhciBpdGVtcyA9IElyb25NZXRhLnR5cGVzW3RoaXMudHlwZV07XG4gICAgICBpZiAoIWl0ZW1zKSB7XG4gICAgICAgIHJldHVybiBbXTtcbiAgICAgIH1cblxuICAgICAgcmV0dXJuIE9iamVjdC5rZXlzKGl0ZW1zKS5tYXAoZnVuY3Rpb24oa2V5KSB7XG4gICAgICAgIHJldHVybiBtZXRhRGF0YXNbdGhpcy50eXBlXVtrZXldO1xuICAgICAgfSwgdGhpcyk7XG4gICAgfVxuICB9XG5cbiAgLyoqXG4gICAqIEBwYXJhbSB7c3RyaW5nfSBrZXlcbiAgICogQHJldHVybiB7Kn1cbiAgICovXG4gIGJ5S2V5KGtleSkge1xuICAgIHRoaXMua2V5ID0ga2V5O1xuICAgIHJldHVybiB0aGlzLnZhbHVlO1xuICB9XG59O1xuXG4vLyBUaGlzIGZ1bmN0aW9uIGlzIHVzZWQgdG8gY29udmluY2UgQ2xvc3VyZSBub3QgdG8gcmVtb3ZlIGNvbnN0cnVjdG9yIGNhbGxzXG4vLyBmb3IgaW5zdGFuY2VzIHRoYXQgYXJlIG5vdCBoZWxkIGFueXdoZXJlLiBGb3IgZXhhbXBsZSwgd2hlblxuLy8gYG5ldyBJcm9uTWV0YSh7Li4ufSlgIGlzIHVzZWQgb25seSBmb3IgdGhlIHNpZGUgZWZmZWN0IG9mIGFkZGluZyBhIHZhbHVlLlxuSXJvbk1ldGFbJyAnXSA9IGZ1bmN0aW9uKCkge307XG5cbklyb25NZXRhLnR5cGVzID0ge307XG5cbnZhciBtZXRhRGF0YXMgPSBJcm9uTWV0YS50eXBlcztcblxuLyoqXG5gaXJvbi1tZXRhYCBpcyBhIGdlbmVyaWMgZWxlbWVudCB5b3UgY2FuIHVzZSBmb3Igc2hhcmluZyBpbmZvcm1hdGlvbiBhY3Jvc3MgdGhlXG5ET00gdHJlZS4gSXQgdXNlcyBbbW9ub3N0YXRlIHBhdHRlcm5dKGh0dHA6Ly9jMi5jb20vY2dpL3dpa2k/TW9ub3N0YXRlUGF0dGVybilcbnN1Y2ggdGhhdCBhbnkgaW5zdGFuY2Ugb2YgaXJvbi1tZXRhIGhhcyBhY2Nlc3MgdG8gdGhlIHNoYXJlZCBpbmZvcm1hdGlvbi4gWW91XG5jYW4gdXNlIGBpcm9uLW1ldGFgIHRvIHNoYXJlIHdoYXRldmVyIHlvdSB3YW50IChvciBjcmVhdGUgYW4gZXh0ZW5zaW9uIFtsaWtlXG54LW1ldGFdIGZvciBlbmhhbmNlbWVudHMpLlxuXG5UaGUgYGlyb24tbWV0YWAgaW5zdGFuY2VzIGNvbnRhaW5pbmcgeW91ciBhY3R1YWwgZGF0YSBjYW4gYmUgbG9hZGVkIGluIGFuXG5pbXBvcnQsIG9yIGNvbnN0cnVjdGVkIGluIGFueSB3YXkgeW91IHNlZSBmaXQuIFRoZSBvbmx5IHJlcXVpcmVtZW50IGlzIHRoYXQgeW91XG5jcmVhdGUgdGhlbSBiZWZvcmUgeW91IHRyeSB0byBhY2Nlc3MgdGhlbS5cblxuRXhhbXBsZXM6XG5cbklmIEkgY3JlYXRlIGFuIGluc3RhbmNlIGxpa2UgdGhpczpcblxuICAgIDxpcm9uLW1ldGEga2V5PVwiaW5mb1wiIHZhbHVlPVwiZm9vL2JhclwiPjwvaXJvbi1tZXRhPlxuXG5Ob3RlIHRoYXQgdmFsdWU9XCJmb28vYmFyXCIgaXMgdGhlIG1ldGFkYXRhIEkndmUgZGVmaW5lZC4gSSBjb3VsZCBkZWZpbmUgbW9yZVxuYXR0cmlidXRlcyBvciB1c2UgY2hpbGQgbm9kZXMgdG8gZGVmaW5lIGFkZGl0aW9uYWwgbWV0YWRhdGEuXG5cbk5vdyBJIGNhbiBhY2Nlc3MgdGhhdCBlbGVtZW50IChhbmQgaXQncyBtZXRhZGF0YSkgZnJvbSBhbnkgaXJvbi1tZXRhIGluc3RhbmNlXG52aWEgdGhlIGJ5S2V5IG1ldGhvZCwgZS5nLlxuXG4gICAgbWV0YS5ieUtleSgnaW5mbycpO1xuXG5QdXJlIGltcGVyYXRpdmUgZm9ybSB3b3VsZCBiZSBsaWtlOlxuXG4gICAgZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnaXJvbi1tZXRhJykuYnlLZXkoJ2luZm8nKTtcblxuT3IsIGluIGEgUG9seW1lciBlbGVtZW50LCB5b3UgY2FuIGluY2x1ZGUgYSBtZXRhIGluIHlvdXIgdGVtcGxhdGU6XG5cbiAgICA8aXJvbi1tZXRhIGlkPVwibWV0YVwiPjwvaXJvbi1tZXRhPlxuICAgIC4uLlxuICAgIHRoaXMuJC5tZXRhLmJ5S2V5KCdpbmZvJyk7XG5cbkBncm91cCBJcm9uIEVsZW1lbnRzXG5AZGVtbyBkZW1vL2luZGV4Lmh0bWxcbkBlbGVtZW50IGlyb24tbWV0YVxuKi9cblBvbHltZXIoe1xuXG4gIGlzOiAnaXJvbi1tZXRhJyxcblxuICBwcm9wZXJ0aWVzOiB7XG5cbiAgICAvKipcbiAgICAgKiBUaGUgdHlwZSBvZiBtZXRhLWRhdGEuICBBbGwgbWV0YS1kYXRhIG9mIHRoZSBzYW1lIHR5cGUgaXMgc3RvcmVkXG4gICAgICogdG9nZXRoZXIuXG4gICAgICogQHR5cGUge3N0cmluZ31cbiAgICAgKi9cbiAgICB0eXBlOiB7XG4gICAgICB0eXBlOiBTdHJpbmcsXG4gICAgICB2YWx1ZTogJ2RlZmF1bHQnLFxuICAgIH0sXG5cbiAgICAvKipcbiAgICAgKiBUaGUga2V5IHVzZWQgdG8gc3RvcmUgYHZhbHVlYCB1bmRlciB0aGUgYHR5cGVgIG5hbWVzcGFjZS5cbiAgICAgKiBAdHlwZSB7P3N0cmluZ31cbiAgICAgKi9cbiAgICBrZXk6IHtcbiAgICAgIHR5cGU6IFN0cmluZyxcbiAgICB9LFxuXG4gICAgLyoqXG4gICAgICogVGhlIG1ldGEtZGF0YSB0byBzdG9yZSBvciByZXRyaWV2ZS5cbiAgICAgKiBAdHlwZSB7Kn1cbiAgICAgKi9cbiAgICB2YWx1ZToge1xuICAgICAgdHlwZTogU3RyaW5nLFxuICAgICAgbm90aWZ5OiB0cnVlLFxuICAgIH0sXG5cbiAgICAvKipcbiAgICAgKiBJZiB0cnVlLCBgdmFsdWVgIGlzIHNldCB0byB0aGUgaXJvbi1tZXRhIGluc3RhbmNlIGl0c2VsZi5cbiAgICAgKi9cbiAgICBzZWxmOiB7dHlwZTogQm9vbGVhbiwgb2JzZXJ2ZXI6ICdfc2VsZkNoYW5nZWQnfSxcblxuICAgIF9fbWV0YToge3R5cGU6IEJvb2xlYW4sIGNvbXB1dGVkOiAnX19jb21wdXRlTWV0YSh0eXBlLCBrZXksIHZhbHVlKSd9XG4gIH0sXG5cbiAgaG9zdEF0dHJpYnV0ZXM6IHtoaWRkZW46IHRydWV9LFxuXG4gIF9fY29tcHV0ZU1ldGE6IGZ1bmN0aW9uKHR5cGUsIGtleSwgdmFsdWUpIHtcbiAgICB2YXIgbWV0YSA9IG5ldyBJcm9uTWV0YSh7dHlwZTogdHlwZSwga2V5OiBrZXl9KTtcblxuICAgIGlmICh2YWx1ZSAhPT0gdW5kZWZpbmVkICYmIHZhbHVlICE9PSBtZXRhLnZhbHVlKSB7XG4gICAgICBtZXRhLnZhbHVlID0gdmFsdWU7XG4gICAgfSBlbHNlIGlmICh0aGlzLnZhbHVlICE9PSBtZXRhLnZhbHVlKSB7XG4gICAgICB0aGlzLnZhbHVlID0gbWV0YS52YWx1ZTtcbiAgICB9XG5cbiAgICByZXR1cm4gbWV0YTtcbiAgfSxcblxuICBnZXQgbGlzdCgpIHtcbiAgICByZXR1cm4gdGhpcy5fX21ldGEgJiYgdGhpcy5fX21ldGEubGlzdDtcbiAgfSxcblxuICBfc2VsZkNoYW5nZWQ6IGZ1bmN0aW9uKHNlbGYpIHtcbiAgICBpZiAoc2VsZikge1xuICAgICAgdGhpcy52YWx1ZSA9IHRoaXM7XG4gICAgfVxuICB9LFxuXG4gIC8qKlxuICAgKiBSZXRyaWV2ZXMgbWV0YSBkYXRhIHZhbHVlIGJ5IGtleS5cbiAgICpcbiAgICogQG1ldGhvZCBieUtleVxuICAgKiBAcGFyYW0ge3N0cmluZ30ga2V5IFRoZSBrZXkgb2YgdGhlIG1ldGEtZGF0YSB0byBiZSByZXR1cm5lZC5cbiAgICogQHJldHVybiB7Kn1cbiAgICovXG4gIGJ5S2V5OiBmdW5jdGlvbihrZXkpIHtcbiAgICByZXR1cm4gbmV3IElyb25NZXRhKHt0eXBlOiB0aGlzLnR5cGUsIGtleToga2V5fSkudmFsdWU7XG4gIH1cbn0pO1xuIiwiLyoqXG5AbGljZW5zZVxuQ29weXJpZ2h0IChjKSAyMDE1IFRoZSBQb2x5bWVyIFByb2plY3QgQXV0aG9ycy4gQWxsIHJpZ2h0cyByZXNlcnZlZC5cblRoaXMgY29kZSBtYXkgb25seSBiZSB1c2VkIHVuZGVyIHRoZSBCU0Qgc3R5bGUgbGljZW5zZSBmb3VuZCBhdFxuaHR0cDovL3BvbHltZXIuZ2l0aHViLmlvL0xJQ0VOU0UudHh0IFRoZSBjb21wbGV0ZSBzZXQgb2YgYXV0aG9ycyBtYXkgYmUgZm91bmQgYXRcbmh0dHA6Ly9wb2x5bWVyLmdpdGh1Yi5pby9BVVRIT1JTLnR4dCBUaGUgY29tcGxldGUgc2V0IG9mIGNvbnRyaWJ1dG9ycyBtYXkgYmVcbmZvdW5kIGF0IGh0dHA6Ly9wb2x5bWVyLmdpdGh1Yi5pby9DT05UUklCVVRPUlMudHh0IENvZGUgZGlzdHJpYnV0ZWQgYnkgR29vZ2xlIGFzXG5wYXJ0IG9mIHRoZSBwb2x5bWVyIHByb2plY3QgaXMgYWxzbyBzdWJqZWN0IHRvIGFuIGFkZGl0aW9uYWwgSVAgcmlnaHRzIGdyYW50XG5mb3VuZCBhdCBodHRwOi8vcG9seW1lci5naXRodWIuaW8vUEFURU5UUy50eHRcbiovXG5cbmltcG9ydCAnQHBvbHltZXIvcG9seW1lci9wb2x5bWVyLWxlZ2FjeS5qcyc7XG5cbmltcG9ydCB7aHRtbH0gZnJvbSAnQHBvbHltZXIvcG9seW1lci9saWIvdXRpbHMvaHRtbC10YWcuanMnO1xuY29uc3QgdGVtcGxhdGUgPSBodG1sYFxuPGN1c3RvbS1zdHlsZT5cbiAgPHN0eWxlIGlzPVwiY3VzdG9tLXN0eWxlXCI+XG4gICAgaHRtbCB7XG5cbiAgICAgIC0tc2hhZG93LXRyYW5zaXRpb246IHtcbiAgICAgICAgdHJhbnNpdGlvbjogYm94LXNoYWRvdyAwLjI4cyBjdWJpYy1iZXppZXIoMC40LCAwLCAwLjIsIDEpO1xuICAgICAgfTtcblxuICAgICAgLS1zaGFkb3ctbm9uZToge1xuICAgICAgICBib3gtc2hhZG93OiBub25lO1xuICAgICAgfTtcblxuICAgICAgLyogZnJvbSBodHRwOi8vY29kZXBlbi5pby9zaHluZG1hbi9wZW4vYzUzOTRkZGYyZThiMmE1YzkxODU5MDRiNTc0MjFjZGIgKi9cblxuICAgICAgLS1zaGFkb3ctZWxldmF0aW9uLTJkcDoge1xuICAgICAgICBib3gtc2hhZG93OiAwIDJweCAycHggMCByZ2JhKDAsIDAsIDAsIDAuMTQpLFxuICAgICAgICAgICAgICAgICAgICAwIDFweCA1cHggMCByZ2JhKDAsIDAsIDAsIDAuMTIpLFxuICAgICAgICAgICAgICAgICAgICAwIDNweCAxcHggLTJweCByZ2JhKDAsIDAsIDAsIDAuMik7XG4gICAgICB9O1xuXG4gICAgICAtLXNoYWRvdy1lbGV2YXRpb24tM2RwOiB7XG4gICAgICAgIGJveC1zaGFkb3c6IDAgM3B4IDRweCAwIHJnYmEoMCwgMCwgMCwgMC4xNCksXG4gICAgICAgICAgICAgICAgICAgIDAgMXB4IDhweCAwIHJnYmEoMCwgMCwgMCwgMC4xMiksXG4gICAgICAgICAgICAgICAgICAgIDAgM3B4IDNweCAtMnB4IHJnYmEoMCwgMCwgMCwgMC40KTtcbiAgICAgIH07XG5cbiAgICAgIC0tc2hhZG93LWVsZXZhdGlvbi00ZHA6IHtcbiAgICAgICAgYm94LXNoYWRvdzogMCA0cHggNXB4IDAgcmdiYSgwLCAwLCAwLCAwLjE0KSxcbiAgICAgICAgICAgICAgICAgICAgMCAxcHggMTBweCAwIHJnYmEoMCwgMCwgMCwgMC4xMiksXG4gICAgICAgICAgICAgICAgICAgIDAgMnB4IDRweCAtMXB4IHJnYmEoMCwgMCwgMCwgMC40KTtcbiAgICAgIH07XG5cbiAgICAgIC0tc2hhZG93LWVsZXZhdGlvbi02ZHA6IHtcbiAgICAgICAgYm94LXNoYWRvdzogMCA2cHggMTBweCAwIHJnYmEoMCwgMCwgMCwgMC4xNCksXG4gICAgICAgICAgICAgICAgICAgIDAgMXB4IDE4cHggMCByZ2JhKDAsIDAsIDAsIDAuMTIpLFxuICAgICAgICAgICAgICAgICAgICAwIDNweCA1cHggLTFweCByZ2JhKDAsIDAsIDAsIDAuNCk7XG4gICAgICB9O1xuXG4gICAgICAtLXNoYWRvdy1lbGV2YXRpb24tOGRwOiB7XG4gICAgICAgIGJveC1zaGFkb3c6IDAgOHB4IDEwcHggMXB4IHJnYmEoMCwgMCwgMCwgMC4xNCksXG4gICAgICAgICAgICAgICAgICAgIDAgM3B4IDE0cHggMnB4IHJnYmEoMCwgMCwgMCwgMC4xMiksXG4gICAgICAgICAgICAgICAgICAgIDAgNXB4IDVweCAtM3B4IHJnYmEoMCwgMCwgMCwgMC40KTtcbiAgICAgIH07XG5cbiAgICAgIC0tc2hhZG93LWVsZXZhdGlvbi0xMmRwOiB7XG4gICAgICAgIGJveC1zaGFkb3c6IDAgMTJweCAxNnB4IDFweCByZ2JhKDAsIDAsIDAsIDAuMTQpLFxuICAgICAgICAgICAgICAgICAgICAwIDRweCAyMnB4IDNweCByZ2JhKDAsIDAsIDAsIDAuMTIpLFxuICAgICAgICAgICAgICAgICAgICAwIDZweCA3cHggLTRweCByZ2JhKDAsIDAsIDAsIDAuNCk7XG4gICAgICB9O1xuXG4gICAgICAtLXNoYWRvdy1lbGV2YXRpb24tMTZkcDoge1xuICAgICAgICBib3gtc2hhZG93OiAwIDE2cHggMjRweCAycHggcmdiYSgwLCAwLCAwLCAwLjE0KSxcbiAgICAgICAgICAgICAgICAgICAgMCAgNnB4IDMwcHggNXB4IHJnYmEoMCwgMCwgMCwgMC4xMiksXG4gICAgICAgICAgICAgICAgICAgIDAgIDhweCAxMHB4IC01cHggcmdiYSgwLCAwLCAwLCAwLjQpO1xuICAgICAgfTtcblxuICAgICAgLS1zaGFkb3ctZWxldmF0aW9uLTI0ZHA6IHtcbiAgICAgICAgYm94LXNoYWRvdzogMCAyNHB4IDM4cHggM3B4IHJnYmEoMCwgMCwgMCwgMC4xNCksXG4gICAgICAgICAgICAgICAgICAgIDAgOXB4IDQ2cHggOHB4IHJnYmEoMCwgMCwgMCwgMC4xMiksXG4gICAgICAgICAgICAgICAgICAgIDAgMTFweCAxNXB4IC03cHggcmdiYSgwLCAwLCAwLCAwLjQpO1xuICAgICAgfTtcbiAgICB9XG4gIDwvc3R5bGU+XG48L2N1c3RvbS1zdHlsZT5gO1xudGVtcGxhdGUuc2V0QXR0cmlidXRlKCdzdHlsZScsICdkaXNwbGF5OiBub25lOycpO1xuZG9jdW1lbnQuaGVhZC5hcHBlbmRDaGlsZCh0ZW1wbGF0ZS5jb250ZW50KTtcbiIsIi8qKlxuQGxpY2Vuc2VcbkNvcHlyaWdodCAoYykgMjAxOCBUaGUgUG9seW1lciBQcm9qZWN0IEF1dGhvcnMuIEFsbCByaWdodHMgcmVzZXJ2ZWQuXG5UaGlzIGNvZGUgbWF5IG9ubHkgYmUgdXNlZCB1bmRlciB0aGUgQlNEIHN0eWxlIGxpY2Vuc2UgZm91bmQgYXQgaHR0cDovL3BvbHltZXIuZ2l0aHViLmlvL0xJQ0VOU0UudHh0XG5UaGUgY29tcGxldGUgc2V0IG9mIGF1dGhvcnMgbWF5IGJlIGZvdW5kIGF0IGh0dHA6Ly9wb2x5bWVyLmdpdGh1Yi5pby9BVVRIT1JTLnR4dFxuVGhlIGNvbXBsZXRlIHNldCBvZiBjb250cmlidXRvcnMgbWF5IGJlIGZvdW5kIGF0IGh0dHA6Ly9wb2x5bWVyLmdpdGh1Yi5pby9DT05UUklCVVRPUlMudHh0XG5Db2RlIGRpc3RyaWJ1dGVkIGJ5IEdvb2dsZSBhcyBwYXJ0IG9mIHRoZSBwb2x5bWVyIHByb2plY3QgaXMgYWxzb1xuc3ViamVjdCB0byBhbiBhZGRpdGlvbmFsIElQIHJpZ2h0cyBncmFudCBmb3VuZCBhdCBodHRwOi8vcG9seW1lci5naXRodWIuaW8vUEFURU5UUy50eHRcbiovXG4vKipcbiAgVXRpbGl0eSBtZXRob2QgdGhhdCB1cGRhdGVzIHRoZSBwYWdlJ3Mgb3BlbiBncmFwaCBhbmQgVHdpdHRlciBjYXJkIG1ldGFkYXRhLlxuICBJdCB0YWtlcyBhbiBvYmplY3QgYXMgYSBwYXJhbWV0ZXIgd2l0aCB0aGUgZm9sbG93aW5nIHByb3BlcnRpZXM6XG4gIHRpdGxlIHwgZGVzY3JpcHRpb24gfCB1cmwgfCBpbWFnZS5cblxuICBJZiB0aGUgYHVybGAgaXMgbm90IHNwZWNpZmllZCwgYHdpbmRvdy5sb2NhdGlvbi5ocmVmYCB3aWxsIGJlIHVzZWQ7IGZvclxuICBhbGwgb3RoZXIgcHJvcGVydGllcywgaWYgdGhleSBhcmVuJ3Qgc3BlY2lmaWVkLCB0aGVuIHRoYXQgbWV0YWRhdGEgZmllbGQgd2lsbCBub3RcbiAgYmUgc2V0LlxuXG4gIEV4YW1wbGUgKGluIHlvdXIgdG9wIGxldmVsIGVsZW1lbnQgb3IgZG9jdW1lbnQsIG9yIGluIHRoZSByb3V0ZXIgY2FsbGJhY2spOlxuXG4gICAgICBpbXBvcnQgeyB1cGRhdGVNZXRhZGF0YSB9IGZyb20gJ3B3YS1oZWxwZXJzL21ldGFkYXRhLmpzJztcblxuICAgICAgdXBkYXRlTWV0YWRhdGEoe1xuICAgICAgICB0aXRsZTogJ015IEFwcCAtIHZpZXcgMScsXG4gICAgICAgIGRlc2NyaXB0aW9uOiAnVGhpcyBpcyBteSBzYW1wbGUgYXBwJyxcbiAgICAgICAgdXJsOiB3aW5kb3cubG9jYXRpb24uaHJlZixcbiAgICAgICAgaW1hZ2U6ICcvYXNzZXRzL3ZpZXcxLWhlcm8ucG5nJ1xuICAgICAgfSk7XG5cbiovXG5leHBvcnQgY29uc3QgdXBkYXRlTWV0YWRhdGEgPSAoeyB0aXRsZSwgZGVzY3JpcHRpb24sIHVybCwgaW1hZ2UsIGltYWdlQWx0IH0pID0+IHtcbiAgICBpZiAodGl0bGUpIHtcbiAgICAgICAgZG9jdW1lbnQudGl0bGUgPSB0aXRsZTtcbiAgICAgICAgc2V0TWV0YVRhZygncHJvcGVydHknLCAnb2c6dGl0bGUnLCB0aXRsZSk7XG4gICAgfVxuICAgIGlmIChkZXNjcmlwdGlvbikge1xuICAgICAgICBzZXRNZXRhVGFnKCduYW1lJywgJ2Rlc2NyaXB0aW9uJywgZGVzY3JpcHRpb24pO1xuICAgICAgICBzZXRNZXRhVGFnKCdwcm9wZXJ0eScsICdvZzpkZXNjcmlwdGlvbicsIGRlc2NyaXB0aW9uKTtcbiAgICB9XG4gICAgaWYgKGltYWdlKSB7XG4gICAgICAgIHNldE1ldGFUYWcoJ3Byb3BlcnR5JywgJ29nOmltYWdlJywgaW1hZ2UpO1xuICAgIH1cbiAgICBpZiAoaW1hZ2VBbHQpIHtcbiAgICAgICAgc2V0TWV0YVRhZygncHJvcGVydHknLCAnb2c6aW1hZ2U6YWx0JywgaW1hZ2VBbHQpO1xuICAgIH1cbiAgICB1cmwgPSB1cmwgfHwgd2luZG93LmxvY2F0aW9uLmhyZWY7XG4gICAgc2V0TWV0YVRhZygncHJvcGVydHknLCAnb2c6dXJsJywgdXJsKTtcbn07XG4vKipcbiAgVXRpbGl0eSBtZXRob2QgdG8gY3JlYXRlIG9yIHVwZGF0ZSB0aGUgY29udGVudCBvZiBhIG1ldGEgdGFnIGJhc2VkIG9uIGFuXG4gIGF0dHJpYnV0ZSBuYW1lL3ZhbHVlIHBhaXIuXG5cbiAgRXhhbXBsZSAoaW4geW91ciB0b3AgbGV2ZWwgZWxlbWVudCBvciBkb2N1bWVudCwgb3IgaW4gdGhlIHJvdXRlciBjYWxsYmFjayk6XG5cbiAgICAgIGltcG9ydCB7IHNldE1ldGFUYWcgfSBmcm9tICdwd2EtaGVscGVycy9tZXRhZGF0YS5qcyc7XG5cbiAgICAgIHNldE1ldGFUYWcoJ25hbWUnLCAndHdpdHRlcjpjYXJkJywgJ3N1bW1hcnknKTtcbiAgICAgIFxuICBUaGlzIHdvdWxkIGNyZWF0ZSB0aGUgZm9sbG93aW5nIG1ldGEgdGFnIGluIHRoZSBoZWFkIG9mIHRoZSBkb2N1bWVudCAob3JcbiAgdXBkYXRlIHRoZSBjb250ZW50IGF0dHJpYnV0ZSBpZiBhIG1ldGEgdGFnIHdpdGggbmFtZT1cInR3aXR0ZXI6Y2FyZFwiIGV4aXN0cyk6XG5cbiAgICAgIDxtZXRhIG5hbWU9XCJ0d2l0dGVyOmNhcmRcIiBjb250ZW50PVwic3VtbWFyeVwiPlxuXG4qL1xuZXhwb3J0IGZ1bmN0aW9uIHNldE1ldGFUYWcoYXR0ck5hbWUsIGF0dHJWYWx1ZSwgY29udGVudCkge1xuICAgIGxldCBlbGVtZW50ID0gZG9jdW1lbnQuaGVhZC5xdWVyeVNlbGVjdG9yKGBtZXRhWyR7YXR0ck5hbWV9PVwiJHthdHRyVmFsdWV9XCJdYCk7XG4gICAgaWYgKCFlbGVtZW50KSB7XG4gICAgICAgIGVsZW1lbnQgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdtZXRhJyk7XG4gICAgICAgIGVsZW1lbnQuc2V0QXR0cmlidXRlKGF0dHJOYW1lLCBhdHRyVmFsdWUpO1xuICAgICAgICBkb2N1bWVudC5oZWFkLmFwcGVuZENoaWxkKGVsZW1lbnQpO1xuICAgIH1cbiAgICBlbGVtZW50LnNldEF0dHJpYnV0ZSgnY29udGVudCcsIGNvbnRlbnQgfHwgJycpO1xufVxuLy8jIHNvdXJjZU1hcHBpbmdVUkw9bWV0YWRhdGEuanMubWFwIiwiLyoqXG5AbGljZW5zZVxuQ29weXJpZ2h0IChjKSAyMDE1IFRoZSBQb2x5bWVyIFByb2plY3QgQXV0aG9ycy4gQWxsIHJpZ2h0cyByZXNlcnZlZC5cblRoaXMgY29kZSBtYXkgb25seSBiZSB1c2VkIHVuZGVyIHRoZSBCU0Qgc3R5bGUgbGljZW5zZSBmb3VuZCBhdFxuaHR0cDovL3BvbHltZXIuZ2l0aHViLmlvL0xJQ0VOU0UudHh0IFRoZSBjb21wbGV0ZSBzZXQgb2YgYXV0aG9ycyBtYXkgYmUgZm91bmQgYXRcbmh0dHA6Ly9wb2x5bWVyLmdpdGh1Yi5pby9BVVRIT1JTLnR4dCBUaGUgY29tcGxldGUgc2V0IG9mIGNvbnRyaWJ1dG9ycyBtYXkgYmVcbmZvdW5kIGF0IGh0dHA6Ly9wb2x5bWVyLmdpdGh1Yi5pby9DT05UUklCVVRPUlMudHh0IENvZGUgZGlzdHJpYnV0ZWQgYnkgR29vZ2xlIGFzXG5wYXJ0IG9mIHRoZSBwb2x5bWVyIHByb2plY3QgaXMgYWxzbyBzdWJqZWN0IHRvIGFuIGFkZGl0aW9uYWwgSVAgcmlnaHRzIGdyYW50XG5mb3VuZCBhdCBodHRwOi8vcG9seW1lci5naXRodWIuaW8vUEFURU5UUy50eHRcbiovXG5pbXBvcnQgJ0Bwb2x5bWVyL3BvbHltZXIvcG9seW1lci1sZWdhY3kuanMnO1xuaW1wb3J0ICdAcG9seW1lci9pcm9uLWZsZXgtbGF5b3V0L2lyb24tZmxleC1sYXlvdXQuanMnO1xuXG5pbXBvcnQge1BvbHltZXJ9IGZyb20gJ0Bwb2x5bWVyL3BvbHltZXIvbGliL2xlZ2FjeS9wb2x5bWVyLWZuLmpzJztcbmltcG9ydCB7ZG9tfSBmcm9tICdAcG9seW1lci9wb2x5bWVyL2xpYi9sZWdhY3kvcG9seW1lci5kb20uanMnO1xuaW1wb3J0IHtodG1sfSBmcm9tICdAcG9seW1lci9wb2x5bWVyL2xpYi91dGlscy9odG1sLXRhZy5qcyc7XG5pbXBvcnQge2FmdGVyTmV4dFJlbmRlcn0gZnJvbSAnQHBvbHltZXIvcG9seW1lci9saWIvdXRpbHMvcmVuZGVyLXN0YXR1cy5qcyc7XG5cbi8qKlxuYXBwLWRyYXdlciBpcyBhIG5hdmlnYXRpb24gZHJhd2VyIHRoYXQgY2FuIHNsaWRlIGluIGZyb20gdGhlIGxlZnQgb3IgcmlnaHQuXG5cbkV4YW1wbGU6XG5cbkFsaWduIHRoZSBkcmF3ZXIgYXQgdGhlIHN0YXJ0LCB3aGljaCBpcyBsZWZ0IGluIExUUiBsYXlvdXRzIChkZWZhdWx0KTpcblxuYGBgaHRtbFxuPGFwcC1kcmF3ZXIgb3BlbmVkPjwvYXBwLWRyYXdlcj5cbmBgYFxuXG5BbGlnbiB0aGUgZHJhd2VyIGF0IHRoZSBlbmQ6XG5cbmBgYGh0bWxcbjxhcHAtZHJhd2VyIGFsaWduPVwiZW5kXCIgb3BlbmVkPjwvYXBwLWRyYXdlcj5cbmBgYFxuXG5UbyBtYWtlIHRoZSBjb250ZW50cyBvZiB0aGUgZHJhd2VyIHNjcm9sbGFibGUsIGNyZWF0ZSBhIHdyYXBwZXIgZm9yIHRoZSBzY3JvbGxcbmNvbnRlbnQsIGFuZCBhcHBseSBoZWlnaHQgYW5kIG92ZXJmbG93IHN0eWxlcyB0byBpdC5cblxuYGBgaHRtbFxuPGFwcC1kcmF3ZXI+XG4gIDxkaXYgc3R5bGU9XCJoZWlnaHQ6IDEwMCU7IG92ZXJmbG93OiBhdXRvO1wiPjwvZGl2PlxuPC9hcHAtZHJhd2VyPlxuYGBgXG5cbiMjIyBTdHlsaW5nXG5cbkN1c3RvbSBwcm9wZXJ0eSAgICAgICAgICAgICAgICAgIHwgRGVzY3JpcHRpb24gICAgICAgICAgICAgICAgICAgICAgICAgICAgfCBEZWZhdWx0XG4tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS18LS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLXwtLS0tLS0tLS0tLS0tLS0tLS0tLVxuYC0tYXBwLWRyYXdlci13aWR0aGAgICAgICAgICAgICAgfCBXaWR0aCBvZiB0aGUgZHJhd2VyICAgICAgICAgICAgICAgICAgICB8IDI1NnB4XG5gLS1hcHAtZHJhd2VyLWNvbnRlbnQtY29udGFpbmVyYCB8IE1peGluIGZvciB0aGUgZHJhd2VyIGNvbnRlbnQgY29udGFpbmVyIHwge31cbmAtLWFwcC1kcmF3ZXItc2NyaW0tYmFja2dyb3VuZGAgIHwgQmFja2dyb3VuZCBmb3IgdGhlIHNjcmltICAgICAgICAgICAgICAgfCByZ2JhKDAsIDAsIDAsIDAuNSlcblxuKipOT1RFOioqIElmIHlvdSB1c2UgYDxhcHAtZHJhd2VyPmAgd2l0aCBgPGFwcC1kcmF3ZXItbGF5b3V0PmAgYW5kIHNwZWNpZnkgYVxudmFsdWUgZm9yXG5gLS1hcHAtZHJhd2VyLXdpZHRoYCwgdGhhdCB2YWx1ZSBtdXN0IGJlIGFjY2Vzc2libGUgYnkgYm90aCBlbGVtZW50cy4gVGhpcyBjYW5cbmJlIGRvbmUgYnkgZGVmaW5pbmcgdGhlIHZhbHVlIG9uIHRoZSBgOmhvc3RgIHRoYXQgY29udGFpbnMgYDxhcHAtZHJhd2VyLWxheW91dD5gXG4ob3IgYGh0bWxgIGlmIG91dHNpZGUgYSBzaGFkb3cgcm9vdCk6XG5cbmBgYGNzc1xuOmhvc3Qge1xuICAtLWFwcC1kcmF3ZXItd2lkdGg6IDMwMHB4O1xufVxuYGBgXG5cbkBncm91cCBBcHAgRWxlbWVudHNcbkBlbGVtZW50IGFwcC1kcmF3ZXJcbkBkZW1vIGFwcC1kcmF3ZXIvZGVtby9sZWZ0LWRyYXdlci5odG1sIFNpbXBsZSBMZWZ0IERyYXdlclxuQGRlbW8gYXBwLWRyYXdlci9kZW1vL3JpZ2h0LWRyYXdlci5odG1sIFJpZ2h0IERyYXdlciB3aXRoIEljb25zXG4qL1xuUG9seW1lcih7XG4gIF90ZW1wbGF0ZTogaHRtbGBcbiAgICA8c3R5bGU+XG4gICAgICA6aG9zdCB7XG4gICAgICAgIHBvc2l0aW9uOiBmaXhlZDtcbiAgICAgICAgdG9wOiAtMTIwcHg7XG4gICAgICAgIHJpZ2h0OiAwO1xuICAgICAgICBib3R0b206IC0xMjBweDtcbiAgICAgICAgbGVmdDogMDtcblxuICAgICAgICB2aXNpYmlsaXR5OiBoaWRkZW47XG5cbiAgICAgICAgdHJhbnNpdGlvbi1wcm9wZXJ0eTogdmlzaWJpbGl0eTtcbiAgICAgIH1cblxuICAgICAgOmhvc3QoW29wZW5lZF0pIHtcbiAgICAgICAgdmlzaWJpbGl0eTogdmlzaWJsZTtcbiAgICAgIH1cblxuICAgICAgOmhvc3QoW3BlcnNpc3RlbnRdKSB7XG4gICAgICAgIHdpZHRoOiB2YXIoLS1hcHAtZHJhd2VyLXdpZHRoLCAyNTZweCk7XG4gICAgICB9XG5cbiAgICAgIDpob3N0KFtwZXJzaXN0ZW50XVtwb3NpdGlvbj1sZWZ0XSkge1xuICAgICAgICByaWdodDogYXV0bztcbiAgICAgIH1cblxuICAgICAgOmhvc3QoW3BlcnNpc3RlbnRdW3Bvc2l0aW9uPXJpZ2h0XSkge1xuICAgICAgICBsZWZ0OiBhdXRvO1xuICAgICAgfVxuXG4gICAgICAjY29udGVudENvbnRhaW5lciB7XG4gICAgICAgIHBvc2l0aW9uOiBhYnNvbHV0ZTtcbiAgICAgICAgdG9wOiAwO1xuICAgICAgICBib3R0b206IDA7XG4gICAgICAgIGxlZnQ6IDA7XG5cbiAgICAgICAgd2lkdGg6IHZhcigtLWFwcC1kcmF3ZXItd2lkdGgsIDI1NnB4KTtcbiAgICAgICAgcGFkZGluZzogMTIwcHggMDtcblxuICAgICAgICB0cmFuc2l0aW9uLXByb3BlcnR5OiAtd2Via2l0LXRyYW5zZm9ybTtcbiAgICAgICAgdHJhbnNpdGlvbi1wcm9wZXJ0eTogdHJhbnNmb3JtO1xuICAgICAgICAtd2Via2l0LXRyYW5zZm9ybTogdHJhbnNsYXRlM2QoLTEwMCUsIDAsIDApO1xuICAgICAgICB0cmFuc2Zvcm06IHRyYW5zbGF0ZTNkKC0xMDAlLCAwLCAwKTtcblxuICAgICAgICBiYWNrZ3JvdW5kLWNvbG9yOiAjRkZGO1xuXG4gICAgICAgIEBhcHBseSAtLWFwcC1kcmF3ZXItY29udGVudC1jb250YWluZXI7XG4gICAgICB9XG5cbiAgICAgICNjb250ZW50Q29udGFpbmVyW3BlcnNpc3RlbnRdIHtcbiAgICAgICAgd2lkdGg6IDEwMCU7XG4gICAgICB9XG5cbiAgICAgICNjb250ZW50Q29udGFpbmVyW3Bvc2l0aW9uPXJpZ2h0XSB7XG4gICAgICAgIHJpZ2h0OiAwO1xuICAgICAgICBsZWZ0OiBhdXRvO1xuXG4gICAgICAgIC13ZWJraXQtdHJhbnNmb3JtOiB0cmFuc2xhdGUzZCgxMDAlLCAwLCAwKTtcbiAgICAgICAgdHJhbnNmb3JtOiB0cmFuc2xhdGUzZCgxMDAlLCAwLCAwKTtcbiAgICAgIH1cblxuICAgICAgI2NvbnRlbnRDb250YWluZXJbc3dpcGUtb3Blbl06OmFmdGVyIHtcbiAgICAgICAgcG9zaXRpb246IGZpeGVkO1xuICAgICAgICB0b3A6IDA7XG4gICAgICAgIGJvdHRvbTogMDtcbiAgICAgICAgbGVmdDogMTAwJTtcblxuICAgICAgICB2aXNpYmlsaXR5OiB2aXNpYmxlO1xuXG4gICAgICAgIHdpZHRoOiAyMHB4O1xuXG4gICAgICAgIGNvbnRlbnQ6ICcnO1xuICAgICAgfVxuXG4gICAgICAjY29udGVudENvbnRhaW5lcltzd2lwZS1vcGVuXVtwb3NpdGlvbj1yaWdodF06OmFmdGVyIHtcbiAgICAgICAgcmlnaHQ6IDEwMCU7XG4gICAgICAgIGxlZnQ6IGF1dG87XG4gICAgICB9XG5cbiAgICAgICNjb250ZW50Q29udGFpbmVyW29wZW5lZF0ge1xuICAgICAgICAtd2Via2l0LXRyYW5zZm9ybTogdHJhbnNsYXRlM2QoMCwgMCwgMCk7XG4gICAgICAgIHRyYW5zZm9ybTogdHJhbnNsYXRlM2QoMCwgMCwgMCk7XG4gICAgICB9XG5cbiAgICAgICNzY3JpbSB7XG4gICAgICAgIHBvc2l0aW9uOiBhYnNvbHV0ZTtcbiAgICAgICAgdG9wOiAwO1xuICAgICAgICByaWdodDogMDtcbiAgICAgICAgYm90dG9tOiAwO1xuICAgICAgICBsZWZ0OiAwO1xuXG4gICAgICAgIHRyYW5zaXRpb24tcHJvcGVydHk6IG9wYWNpdHk7XG4gICAgICAgIC13ZWJraXQtdHJhbnNmb3JtOiB0cmFuc2xhdGVaKDApO1xuICAgICAgICB0cmFuc2Zvcm06ICB0cmFuc2xhdGVaKDApO1xuXG4gICAgICAgIG9wYWNpdHk6IDA7XG4gICAgICAgIGJhY2tncm91bmQ6IHZhcigtLWFwcC1kcmF3ZXItc2NyaW0tYmFja2dyb3VuZCwgcmdiYSgwLCAwLCAwLCAwLjUpKTtcbiAgICAgIH1cblxuICAgICAgI3NjcmltLnZpc2libGUge1xuICAgICAgICBvcGFjaXR5OiAxO1xuICAgICAgfVxuXG4gICAgICA6aG9zdChbbm8tdHJhbnNpdGlvbl0pICNjb250ZW50Q29udGFpbmVyIHtcbiAgICAgICAgdHJhbnNpdGlvbi1wcm9wZXJ0eTogbm9uZTtcbiAgICAgIH1cbiAgICA8L3N0eWxlPlxuXG4gICAgPGRpdiBpZD1cInNjcmltXCIgb24tY2xpY2s9XCJjbG9zZVwiPjwvZGl2PlxuXG4gICAgPCEtLSBIQUNLKGtlYW51bGVlKTogQmluZCBhdHRyaWJ1dGVzIGhlcmUgKGluIGFkZGl0aW9uIHRvIDpob3N0KSBmb3Igc3R5bGluZyB0byB3b3JrYXJvdW5kIFNhZmFyaVxuICAgIGJ1Zy4gaHR0cHM6Ly9idWdzLndlYmtpdC5vcmcvc2hvd19idWcuY2dpP2lkPTE3MDc2MiAtLT5cbiAgICA8ZGl2IGlkPVwiY29udGVudENvbnRhaW5lclwiIG9wZW5lZFxcJD1cIltbb3BlbmVkXV1cIiBwZXJzaXN0ZW50XFwkPVwiW1twZXJzaXN0ZW50XV1cIiBwb3NpdGlvblxcJD1cIltbcG9zaXRpb25dXVwiIHN3aXBlLW9wZW5cXCQ9XCJbW3N3aXBlT3Blbl1dXCI+XG4gICAgICA8c2xvdD48L3Nsb3Q+XG4gICAgPC9kaXY+XG5gLFxuXG4gIGlzOiAnYXBwLWRyYXdlcicsXG5cbiAgcHJvcGVydGllczoge1xuICAgIC8qKlxuICAgICAqIFRoZSBvcGVuZWQgc3RhdGUgb2YgdGhlIGRyYXdlci5cbiAgICAgKi9cbiAgICBvcGVuZWQ6XG4gICAgICAgIHt0eXBlOiBCb29sZWFuLCB2YWx1ZTogZmFsc2UsIG5vdGlmeTogdHJ1ZSwgcmVmbGVjdFRvQXR0cmlidXRlOiB0cnVlfSxcblxuICAgIC8qKlxuICAgICAqIFRoZSBkcmF3ZXIgZG9lcyBub3QgaGF2ZSBhIHNjcmltIGFuZCBjYW5ub3QgYmUgc3dpcGVkIGNsb3NlLlxuICAgICAqL1xuICAgIHBlcnNpc3RlbnQ6IHt0eXBlOiBCb29sZWFuLCB2YWx1ZTogZmFsc2UsIHJlZmxlY3RUb0F0dHJpYnV0ZTogdHJ1ZX0sXG5cbiAgICAvKipcbiAgICAgKiBUaGUgdHJhbnNpdGlvbiBkdXJhdGlvbiBvZiB0aGUgZHJhd2VyIGluIG1pbGxpc2Vjb25kcy5cbiAgICAgKi9cbiAgICB0cmFuc2l0aW9uRHVyYXRpb246IHt0eXBlOiBOdW1iZXIsIHZhbHVlOiAyMDB9LFxuXG4gICAgLyoqXG4gICAgICogVGhlIGFsaWdubWVudCBvZiB0aGUgZHJhd2VyIG9uIHRoZSBzY3JlZW4gKCdsZWZ0JywgJ3JpZ2h0JywgJ3N0YXJ0JyBvclxuICAgICAqICdlbmQnKS4gJ3N0YXJ0JyBjb21wdXRlcyB0byBsZWZ0IGFuZCAnZW5kJyB0byByaWdodCBpbiBMVFIgbGF5b3V0IGFuZFxuICAgICAqIHZpY2UgdmVyc2EgaW4gUlRMIGxheW91dC5cbiAgICAgKi9cbiAgICBhbGlnbjoge3R5cGU6IFN0cmluZywgdmFsdWU6ICdsZWZ0J30sXG5cbiAgICAvKipcbiAgICAgKiBUaGUgY29tcHV0ZWQsIHJlYWQtb25seSBwb3NpdGlvbiBvZiB0aGUgZHJhd2VyIG9uIHRoZSBzY3JlZW4gKCdsZWZ0JyBvclxuICAgICAqICdyaWdodCcpLlxuICAgICAqL1xuICAgIHBvc2l0aW9uOiB7dHlwZTogU3RyaW5nLCByZWFkT25seTogdHJ1ZSwgcmVmbGVjdFRvQXR0cmlidXRlOiB0cnVlfSxcblxuICAgIC8qKlxuICAgICAqIENyZWF0ZSBhbiBhcmVhIGF0IHRoZSBlZGdlIG9mIHRoZSBzY3JlZW4gdG8gc3dpcGUgb3BlbiB0aGUgZHJhd2VyLlxuICAgICAqL1xuICAgIHN3aXBlT3Blbjoge3R5cGU6IEJvb2xlYW4sIHZhbHVlOiBmYWxzZSwgcmVmbGVjdFRvQXR0cmlidXRlOiB0cnVlfSxcblxuICAgIC8qKlxuICAgICAqIFRyYXAga2V5Ym9hcmQgZm9jdXMgd2hlbiB0aGUgZHJhd2VyIGlzIG9wZW5lZCBhbmQgbm90IHBlcnNpc3RlbnQuXG4gICAgICovXG4gICAgbm9Gb2N1c1RyYXA6IHt0eXBlOiBCb29sZWFuLCB2YWx1ZTogZmFsc2V9LFxuXG4gICAgLyoqXG4gICAgICogRGlzYWJsZXMgc3dpcGluZyBvbiB0aGUgZHJhd2VyLlxuICAgICAqL1xuICAgIGRpc2FibGVTd2lwZToge3R5cGU6IEJvb2xlYW4sIHZhbHVlOiBmYWxzZX1cbiAgfSxcblxuICBvYnNlcnZlcnM6IFtcbiAgICAncmVzZXRMYXlvdXQocG9zaXRpb24sIGlzQXR0YWNoZWQpJyxcbiAgICAnX3Jlc2V0UG9zaXRpb24oYWxpZ24sIGlzQXR0YWNoZWQpJyxcbiAgICAnX3N0eWxlVHJhbnNpdGlvbkR1cmF0aW9uKHRyYW5zaXRpb25EdXJhdGlvbiknLFxuICAgICdfb3BlbmVkUGVyc2lzdGVudENoYW5nZWQob3BlbmVkLCBwZXJzaXN0ZW50KSdcbiAgXSxcblxuICBfdHJhbnNsYXRlT2Zmc2V0OiAwLFxuICBfdHJhY2tEZXRhaWxzOiBudWxsLFxuICBfZHJhd2VyU3RhdGU6IDAsXG4gIF9ib3VuZEVzY0tleWRvd25IYW5kbGVyOiBudWxsLFxuICBfZmlyc3RUYWJTdG9wOiBudWxsLFxuICBfbGFzdFRhYlN0b3A6IG51bGwsXG5cbiAgYXR0YWNoZWQ6IGZ1bmN0aW9uKCkge1xuICAgIGFmdGVyTmV4dFJlbmRlcih0aGlzLCBmdW5jdGlvbigpIHtcbiAgICAgIHRoaXMuX2JvdW5kRXNjS2V5ZG93bkhhbmRsZXIgPSB0aGlzLl9lc2NLZXlkb3duSGFuZGxlci5iaW5kKHRoaXMpO1xuICAgICAgdGhpcy5hZGRFdmVudExpc3RlbmVyKCdrZXlkb3duJywgdGhpcy5fdGFiS2V5ZG93bkhhbmRsZXIuYmluZCh0aGlzKSk7XG5cbiAgICAgIC8vIE9ubHkgbGlzdGVuIGZvciBob3Jpem9udGFsIHRyYWNrIHNvIHlvdSBjYW4gdmVydGljYWxseSBzY3JvbGxcbiAgICAgIC8vIGluc2lkZSB0aGUgZHJhd2VyLlxuICAgICAgdGhpcy5saXN0ZW4odGhpcywgJ3RyYWNrJywgJ190cmFjaycpO1xuICAgICAgdGhpcy5zZXRTY3JvbGxEaXJlY3Rpb24oJ3knKTtcbiAgICB9KTtcblxuICAgIHRoaXMuZmlyZSgnYXBwLXJlc2V0LWxheW91dCcpO1xuICB9LFxuXG4gIGRldGFjaGVkOiBmdW5jdGlvbigpIHtcbiAgICBkb2N1bWVudC5yZW1vdmVFdmVudExpc3RlbmVyKCdrZXlkb3duJywgdGhpcy5fYm91bmRFc2NLZXlkb3duSGFuZGxlcik7XG4gIH0sXG5cbiAgLyoqXG4gICAqIE9wZW5zIHRoZSBkcmF3ZXIuXG4gICAqL1xuICBvcGVuOiBmdW5jdGlvbigpIHtcbiAgICB0aGlzLm9wZW5lZCA9IHRydWU7XG4gIH0sXG5cbiAgLyoqXG4gICAqIENsb3NlcyB0aGUgZHJhd2VyLlxuICAgKi9cbiAgY2xvc2U6IGZ1bmN0aW9uKCkge1xuICAgIHRoaXMub3BlbmVkID0gZmFsc2U7XG4gIH0sXG5cbiAgLyoqXG4gICAqIFRvZ2dsZXMgdGhlIGRyYXdlciBvcGVuIGFuZCBjbG9zZS5cbiAgICovXG4gIHRvZ2dsZTogZnVuY3Rpb24oKSB7XG4gICAgdGhpcy5vcGVuZWQgPSAhdGhpcy5vcGVuZWQ7XG4gIH0sXG5cbiAgLyoqXG4gICAqIEdldHMgdGhlIHdpZHRoIG9mIHRoZSBkcmF3ZXIuXG4gICAqXG4gICAqIEByZXR1cm4ge251bWJlcn0gVGhlIHdpZHRoIG9mIHRoZSBkcmF3ZXIgaW4gcGl4ZWxzLlxuICAgKi9cbiAgZ2V0V2lkdGg6IGZ1bmN0aW9uKCkge1xuICAgIHJldHVybiB0aGlzLl9zYXZlZFdpZHRoIHx8IHRoaXMuJC5jb250ZW50Q29udGFpbmVyLm9mZnNldFdpZHRoO1xuICB9LFxuXG4gIF9pc1JUTDogZnVuY3Rpb24oKSB7XG4gICAgcmV0dXJuIHdpbmRvdy5nZXRDb21wdXRlZFN0eWxlKHRoaXMpLmRpcmVjdGlvbiA9PT0gJ3J0bCc7XG4gIH0sXG5cbiAgX3Jlc2V0UG9zaXRpb246IGZ1bmN0aW9uKCkge1xuICAgIHN3aXRjaCAodGhpcy5hbGlnbikge1xuICAgICAgY2FzZSAnc3RhcnQnOlxuICAgICAgICB0aGlzLl9zZXRQb3NpdGlvbih0aGlzLl9pc1JUTCgpID8gJ3JpZ2h0JyA6ICdsZWZ0Jyk7XG4gICAgICAgIHJldHVybjtcbiAgICAgIGNhc2UgJ2VuZCc6XG4gICAgICAgIHRoaXMuX3NldFBvc2l0aW9uKHRoaXMuX2lzUlRMKCkgPyAnbGVmdCcgOiAncmlnaHQnKTtcbiAgICAgICAgcmV0dXJuO1xuICAgIH1cbiAgICB0aGlzLl9zZXRQb3NpdGlvbih0aGlzLmFsaWduKTtcbiAgfSxcblxuICBfZXNjS2V5ZG93bkhhbmRsZXI6IGZ1bmN0aW9uKGV2ZW50KSB7XG4gICAgdmFyIEVTQ19LRVlDT0RFID0gMjc7XG4gICAgaWYgKGV2ZW50LmtleUNvZGUgPT09IEVTQ19LRVlDT0RFKSB7XG4gICAgICAvLyBQcmV2ZW50IGFueSBzaWRlIGVmZmVjdHMgaWYgYXBwLWRyYXdlciBjbG9zZXMuXG4gICAgICBldmVudC5wcmV2ZW50RGVmYXVsdCgpO1xuICAgICAgdGhpcy5jbG9zZSgpO1xuICAgIH1cbiAgfSxcblxuICBfdHJhY2s6IGZ1bmN0aW9uKGV2ZW50KSB7XG4gICAgaWYgKHRoaXMucGVyc2lzdGVudCB8fCB0aGlzLmRpc2FibGVTd2lwZSkge1xuICAgICAgcmV0dXJuO1xuICAgIH1cblxuICAgIC8vIERpc2FibGUgdXNlciBzZWxlY3Rpb24gb24gZGVza3RvcC5cbiAgICBldmVudC5wcmV2ZW50RGVmYXVsdCgpO1xuXG4gICAgc3dpdGNoIChldmVudC5kZXRhaWwuc3RhdGUpIHtcbiAgICAgIGNhc2UgJ3N0YXJ0JzpcbiAgICAgICAgdGhpcy5fdHJhY2tTdGFydChldmVudCk7XG4gICAgICAgIGJyZWFrO1xuICAgICAgY2FzZSAndHJhY2snOlxuICAgICAgICB0aGlzLl90cmFja01vdmUoZXZlbnQpO1xuICAgICAgICBicmVhaztcbiAgICAgIGNhc2UgJ2VuZCc6XG4gICAgICAgIHRoaXMuX3RyYWNrRW5kKGV2ZW50KTtcbiAgICAgICAgYnJlYWs7XG4gICAgfVxuICB9LFxuXG4gIF90cmFja1N0YXJ0OiBmdW5jdGlvbihldmVudCkge1xuICAgIHRoaXMuX2RyYXdlclN0YXRlID0gdGhpcy5fRFJBV0VSX1NUQVRFLlRSQUNLSU5HO1xuXG4gICAgdmFyIHJlY3QgPSB0aGlzLiQuY29udGVudENvbnRhaW5lci5nZXRCb3VuZGluZ0NsaWVudFJlY3QoKTtcbiAgICB0aGlzLl9zYXZlZFdpZHRoID0gcmVjdC53aWR0aDtcbiAgICBpZiAodGhpcy5wb3NpdGlvbiA9PT0gJ2xlZnQnKSB7XG4gICAgICB0aGlzLl90cmFuc2xhdGVPZmZzZXQgPSByZWN0LmxlZnQ7XG4gICAgfSBlbHNlIHtcbiAgICAgIHRoaXMuX3RyYW5zbGF0ZU9mZnNldCA9IHJlY3QucmlnaHQgLSB3aW5kb3cuaW5uZXJXaWR0aDtcbiAgICB9XG5cbiAgICB0aGlzLl90cmFja0RldGFpbHMgPSBbXTtcblxuICAgIC8vIERpc2FibGUgdHJhbnNpdGlvbnMgc2luY2Ugc3R5bGUgYXR0cmlidXRlcyB3aWxsIHJlZmxlY3QgdXNlciB0cmFja1xuICAgIC8vIGV2ZW50cy5cbiAgICB0aGlzLl9zdHlsZVRyYW5zaXRpb25EdXJhdGlvbigwKTtcbiAgICB0aGlzLnN0eWxlLnZpc2liaWxpdHkgPSAndmlzaWJsZSc7XG4gIH0sXG5cbiAgX3RyYWNrTW92ZTogZnVuY3Rpb24oZXZlbnQpIHtcbiAgICB0aGlzLl90cmFuc2xhdGVEcmF3ZXIoZXZlbnQuZGV0YWlsLmR4ICsgdGhpcy5fdHJhbnNsYXRlT2Zmc2V0KTtcblxuICAgIC8vIFVzZSBEYXRlLm5vdygpIHNpbmNlIGV2ZW50LnRpbWVTdGFtcCBpcyBpbmNvbnNpc3RlbnQgYWNyb3NzIGJyb3dzZXJzXG4gICAgLy8gKGUuZy4gbW9zdCBicm93c2VycyB1c2UgbWlsbGlzZWNvbmRzIGJ1dCBGRiA0NCB1c2VzIG1pY3Jvc2Vjb25kcykuXG4gICAgdGhpcy5fdHJhY2tEZXRhaWxzLnB1c2goe2R4OiBldmVudC5kZXRhaWwuZHgsIHRpbWVTdGFtcDogRGF0ZS5ub3coKX0pO1xuICB9LFxuXG4gIF90cmFja0VuZDogZnVuY3Rpb24oZXZlbnQpIHtcbiAgICB2YXIgeCA9IGV2ZW50LmRldGFpbC5keCArIHRoaXMuX3RyYW5zbGF0ZU9mZnNldDtcbiAgICB2YXIgZHJhd2VyV2lkdGggPSB0aGlzLmdldFdpZHRoKCk7XG4gICAgdmFyIGlzUG9zaXRpb25MZWZ0ID0gdGhpcy5wb3NpdGlvbiA9PT0gJ2xlZnQnO1xuICAgIHZhciBpc0luRW5kU3RhdGUgPSBpc1Bvc2l0aW9uTGVmdCA/ICh4ID49IDAgfHwgeCA8PSAtZHJhd2VyV2lkdGgpIDpcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAoeCA8PSAwIHx8IHggPj0gZHJhd2VyV2lkdGgpO1xuXG4gICAgaWYgKCFpc0luRW5kU3RhdGUpIHtcbiAgICAgIC8vIE5vIGxvbmdlciBuZWVkIHRoZSB0cmFjayBldmVudHMgYWZ0ZXIgdGhpcyBtZXRob2QgcmV0dXJucyAtIGFsbG93IHRoZW1cbiAgICAgIC8vIHRvIGJlIEdDJ2QuXG4gICAgICB2YXIgdHJhY2tEZXRhaWxzID0gdGhpcy5fdHJhY2tEZXRhaWxzO1xuICAgICAgdGhpcy5fdHJhY2tEZXRhaWxzID0gbnVsbDtcblxuICAgICAgdGhpcy5fZmxpbmdEcmF3ZXIoZXZlbnQsIHRyYWNrRGV0YWlscyk7XG4gICAgICBpZiAodGhpcy5fZHJhd2VyU3RhdGUgPT09IHRoaXMuX0RSQVdFUl9TVEFURS5GTElOR0lORykge1xuICAgICAgICByZXR1cm47XG4gICAgICB9XG4gICAgfVxuXG4gICAgLy8gSWYgdGhlIGRyYXdlciBpcyBub3QgZmxpbmdpbmcsIHRvZ2dsZSB0aGUgb3BlbmVkIHN0YXRlIGJhc2VkIG9uIHRoZVxuICAgIC8vIHBvc2l0aW9uIG9mIHRoZSBkcmF3ZXIuXG4gICAgdmFyIGhhbGZXaWR0aCA9IGRyYXdlcldpZHRoIC8gMjtcbiAgICBpZiAoZXZlbnQuZGV0YWlsLmR4IDwgLWhhbGZXaWR0aCkge1xuICAgICAgdGhpcy5vcGVuZWQgPSB0aGlzLnBvc2l0aW9uID09PSAncmlnaHQnO1xuICAgIH0gZWxzZSBpZiAoZXZlbnQuZGV0YWlsLmR4ID4gaGFsZldpZHRoKSB7XG4gICAgICB0aGlzLm9wZW5lZCA9IHRoaXMucG9zaXRpb24gPT09ICdsZWZ0JztcbiAgICB9XG5cbiAgICBpZiAoaXNJbkVuZFN0YXRlKSB7XG4gICAgICB0aGlzLmRlYm91bmNlKCdfcmVzZXREcmF3ZXJTdGF0ZScsIHRoaXMuX3Jlc2V0RHJhd2VyU3RhdGUpO1xuICAgIH0gZWxzZSB7XG4gICAgICB0aGlzLmRlYm91bmNlKFxuICAgICAgICAgICdfcmVzZXREcmF3ZXJTdGF0ZScsIHRoaXMuX3Jlc2V0RHJhd2VyU3RhdGUsIHRoaXMudHJhbnNpdGlvbkR1cmF0aW9uKTtcbiAgICB9XG5cbiAgICB0aGlzLl9zdHlsZVRyYW5zaXRpb25EdXJhdGlvbih0aGlzLnRyYW5zaXRpb25EdXJhdGlvbik7XG4gICAgdGhpcy5fcmVzZXREcmF3ZXJUcmFuc2xhdGUoKTtcbiAgICB0aGlzLnN0eWxlLnZpc2liaWxpdHkgPSAnJztcbiAgfSxcblxuICBfY2FsY3VsYXRlVmVsb2NpdHk6IGZ1bmN0aW9uKGV2ZW50LCB0cmFja0RldGFpbHMpIHtcbiAgICAvLyBGaW5kIHRoZSBvbGRlc3QgdHJhY2sgZXZlbnQgdGhhdCBpcyB3aXRoaW4gMTAwbXMgdXNpbmcgYmluYXJ5IHNlYXJjaC5cbiAgICB2YXIgbm93ID0gRGF0ZS5ub3coKTtcbiAgICB2YXIgdGltZUxvd2VyQm91bmQgPSBub3cgLSAxMDA7XG4gICAgdmFyIHRyYWNrRGV0YWlsO1xuICAgIHZhciBtaW4gPSAwO1xuICAgIHZhciBtYXggPSB0cmFja0RldGFpbHMubGVuZ3RoIC0gMTtcblxuICAgIHdoaWxlIChtaW4gPD0gbWF4KSB7XG4gICAgICAvLyBGbG9vciBvZiBhdmVyYWdlIG9mIG1pbiBhbmQgbWF4LlxuICAgICAgdmFyIG1pZCA9IChtaW4gKyBtYXgpID4+IDE7XG4gICAgICB2YXIgZCA9IHRyYWNrRGV0YWlsc1ttaWRdO1xuICAgICAgaWYgKGQudGltZVN0YW1wID49IHRpbWVMb3dlckJvdW5kKSB7XG4gICAgICAgIHRyYWNrRGV0YWlsID0gZDtcbiAgICAgICAgbWF4ID0gbWlkIC0gMTtcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIG1pbiA9IG1pZCArIDE7XG4gICAgICB9XG4gICAgfVxuXG4gICAgaWYgKHRyYWNrRGV0YWlsKSB7XG4gICAgICB2YXIgZHggPSBldmVudC5kZXRhaWwuZHggLSB0cmFja0RldGFpbC5keDtcbiAgICAgIHZhciBkdCA9IChub3cgLSB0cmFja0RldGFpbC50aW1lU3RhbXApIHx8IDE7XG4gICAgICByZXR1cm4gZHggLyBkdDtcbiAgICB9XG4gICAgcmV0dXJuIDA7XG4gIH0sXG5cbiAgX2ZsaW5nRHJhd2VyOiBmdW5jdGlvbihldmVudCwgdHJhY2tEZXRhaWxzKSB7XG4gICAgdmFyIHZlbG9jaXR5ID0gdGhpcy5fY2FsY3VsYXRlVmVsb2NpdHkoZXZlbnQsIHRyYWNrRGV0YWlscyk7XG5cbiAgICAvLyBEbyBub3QgZmxpbmcgaWYgdmVsb2NpdHkgaXMgbm90IGFib3ZlIGEgdGhyZXNob2xkLlxuICAgIGlmIChNYXRoLmFicyh2ZWxvY2l0eSkgPCB0aGlzLl9NSU5fRkxJTkdfVEhSRVNIT0xEKSB7XG4gICAgICByZXR1cm47XG4gICAgfVxuXG4gICAgdGhpcy5fZHJhd2VyU3RhdGUgPSB0aGlzLl9EUkFXRVJfU1RBVEUuRkxJTkdJTkc7XG5cbiAgICB2YXIgeCA9IGV2ZW50LmRldGFpbC5keCArIHRoaXMuX3RyYW5zbGF0ZU9mZnNldDtcbiAgICB2YXIgZHJhd2VyV2lkdGggPSB0aGlzLmdldFdpZHRoKCk7XG4gICAgdmFyIGlzUG9zaXRpb25MZWZ0ID0gdGhpcy5wb3NpdGlvbiA9PT0gJ2xlZnQnO1xuICAgIHZhciBpc1ZlbG9jaXR5UG9zaXRpdmUgPSB2ZWxvY2l0eSA+IDA7XG4gICAgdmFyIGlzQ2xvc2luZ0xlZnQgPSAhaXNWZWxvY2l0eVBvc2l0aXZlICYmIGlzUG9zaXRpb25MZWZ0O1xuICAgIHZhciBpc0Nsb3NpbmdSaWdodCA9IGlzVmVsb2NpdHlQb3NpdGl2ZSAmJiAhaXNQb3NpdGlvbkxlZnQ7XG4gICAgdmFyIGR4O1xuICAgIGlmIChpc0Nsb3NpbmdMZWZ0KSB7XG4gICAgICBkeCA9IC0oeCArIGRyYXdlcldpZHRoKTtcbiAgICB9IGVsc2UgaWYgKGlzQ2xvc2luZ1JpZ2h0KSB7XG4gICAgICBkeCA9IChkcmF3ZXJXaWR0aCAtIHgpO1xuICAgIH0gZWxzZSB7XG4gICAgICBkeCA9IC14O1xuICAgIH1cblxuICAgIC8vIEVuZm9yY2UgYSBtaW5pbXVtIHRyYW5zaXRpb24gdmVsb2NpdHkgdG8gbWFrZSB0aGUgZHJhd2VyIGZlZWwgc25hcHB5LlxuICAgIGlmIChpc1ZlbG9jaXR5UG9zaXRpdmUpIHtcbiAgICAgIHZlbG9jaXR5ID0gTWF0aC5tYXgodmVsb2NpdHksIHRoaXMuX01JTl9UUkFOU0lUSU9OX1ZFTE9DSVRZKTtcbiAgICAgIHRoaXMub3BlbmVkID0gdGhpcy5wb3NpdGlvbiA9PT0gJ2xlZnQnO1xuICAgIH0gZWxzZSB7XG4gICAgICB2ZWxvY2l0eSA9IE1hdGgubWluKHZlbG9jaXR5LCAtdGhpcy5fTUlOX1RSQU5TSVRJT05fVkVMT0NJVFkpO1xuICAgICAgdGhpcy5vcGVuZWQgPSB0aGlzLnBvc2l0aW9uID09PSAncmlnaHQnO1xuICAgIH1cblxuICAgIC8vIENhbGN1bGF0ZSB0aGUgYW1vdW50IG9mIHRpbWUgbmVlZGVkIHRvIGZpbmlzaCB0aGUgdHJhbnNpdGlvbiBiYXNlZCBvbiB0aGVcbiAgICAvLyBpbml0aWFsIHNsb3BlIG9mIHRoZSB0aW1pbmcgZnVuY3Rpb24uXG4gICAgdmFyIHQgPSB0aGlzLl9GTElOR19JTklUSUFMX1NMT1BFICogZHggLyB2ZWxvY2l0eTtcbiAgICB0aGlzLl9zdHlsZVRyYW5zaXRpb25EdXJhdGlvbih0KTtcbiAgICB0aGlzLl9zdHlsZVRyYW5zaXRpb25UaW1pbmdGdW5jdGlvbih0aGlzLl9GTElOR19USU1JTkdfRlVOQ1RJT04pO1xuXG4gICAgdGhpcy5fcmVzZXREcmF3ZXJUcmFuc2xhdGUoKTtcbiAgICB0aGlzLmRlYm91bmNlKCdfcmVzZXREcmF3ZXJTdGF0ZScsIHRoaXMuX3Jlc2V0RHJhd2VyU3RhdGUsIHQpO1xuICB9LFxuXG4gIF9zdHlsZVRyYW5zaXRpb25EdXJhdGlvbjogZnVuY3Rpb24oZHVyYXRpb24pIHtcbiAgICB0aGlzLnN0eWxlLnRyYW5zaXRpb25EdXJhdGlvbiA9IGR1cmF0aW9uICsgJ21zJztcbiAgICB0aGlzLiQuY29udGVudENvbnRhaW5lci5zdHlsZS50cmFuc2l0aW9uRHVyYXRpb24gPSBkdXJhdGlvbiArICdtcyc7XG4gICAgdGhpcy4kLnNjcmltLnN0eWxlLnRyYW5zaXRpb25EdXJhdGlvbiA9IGR1cmF0aW9uICsgJ21zJztcbiAgfSxcblxuICBfc3R5bGVUcmFuc2l0aW9uVGltaW5nRnVuY3Rpb246IGZ1bmN0aW9uKHRpbWluZ0Z1bmN0aW9uKSB7XG4gICAgdGhpcy4kLmNvbnRlbnRDb250YWluZXIuc3R5bGUudHJhbnNpdGlvblRpbWluZ0Z1bmN0aW9uID0gdGltaW5nRnVuY3Rpb247XG4gICAgdGhpcy4kLnNjcmltLnN0eWxlLnRyYW5zaXRpb25UaW1pbmdGdW5jdGlvbiA9IHRpbWluZ0Z1bmN0aW9uO1xuICB9LFxuXG4gIF90cmFuc2xhdGVEcmF3ZXI6IGZ1bmN0aW9uKHgpIHtcbiAgICB2YXIgZHJhd2VyV2lkdGggPSB0aGlzLmdldFdpZHRoKCk7XG5cbiAgICBpZiAodGhpcy5wb3NpdGlvbiA9PT0gJ2xlZnQnKSB7XG4gICAgICB4ID0gTWF0aC5tYXgoLWRyYXdlcldpZHRoLCBNYXRoLm1pbih4LCAwKSk7XG4gICAgICB0aGlzLiQuc2NyaW0uc3R5bGUub3BhY2l0eSA9IDEgKyB4IC8gZHJhd2VyV2lkdGg7XG4gICAgfSBlbHNlIHtcbiAgICAgIHggPSBNYXRoLm1heCgwLCBNYXRoLm1pbih4LCBkcmF3ZXJXaWR0aCkpO1xuICAgICAgdGhpcy4kLnNjcmltLnN0eWxlLm9wYWNpdHkgPSAxIC0geCAvIGRyYXdlcldpZHRoO1xuICAgIH1cblxuICAgIHRoaXMudHJhbnNsYXRlM2QoeCArICdweCcsICcwJywgJzAnLCB0aGlzLiQuY29udGVudENvbnRhaW5lcik7XG4gIH0sXG5cbiAgX3Jlc2V0RHJhd2VyVHJhbnNsYXRlOiBmdW5jdGlvbigpIHtcbiAgICB0aGlzLiQuc2NyaW0uc3R5bGUub3BhY2l0eSA9ICcnO1xuICAgIHRoaXMudHJhbnNmb3JtKCcnLCB0aGlzLiQuY29udGVudENvbnRhaW5lcik7XG4gIH0sXG5cbiAgX3Jlc2V0RHJhd2VyU3RhdGU6IGZ1bmN0aW9uKCkge1xuICAgIHZhciBvbGRTdGF0ZSA9IHRoaXMuX2RyYXdlclN0YXRlO1xuXG4gICAgLy8gSWYgdGhlIGRyYXdlciB3YXMgZmxpbmdpbmcsIHdlIG5lZWQgdG8gcmVzZXQgdGhlIHN0eWxlIGF0dHJpYnV0ZXMuXG4gICAgaWYgKG9sZFN0YXRlID09PSB0aGlzLl9EUkFXRVJfU1RBVEUuRkxJTkdJTkcpIHtcbiAgICAgIHRoaXMuX3N0eWxlVHJhbnNpdGlvbkR1cmF0aW9uKHRoaXMudHJhbnNpdGlvbkR1cmF0aW9uKTtcbiAgICAgIHRoaXMuX3N0eWxlVHJhbnNpdGlvblRpbWluZ0Z1bmN0aW9uKCcnKTtcbiAgICAgIHRoaXMuc3R5bGUudmlzaWJpbGl0eSA9ICcnO1xuICAgIH1cblxuICAgIHRoaXMuX3NhdmVkV2lkdGggPSBudWxsO1xuXG4gICAgaWYgKHRoaXMub3BlbmVkKSB7XG4gICAgICB0aGlzLl9kcmF3ZXJTdGF0ZSA9IHRoaXMucGVyc2lzdGVudCA/XG4gICAgICAgICAgdGhpcy5fRFJBV0VSX1NUQVRFLk9QRU5FRF9QRVJTSVNURU5UIDpcbiAgICAgICAgICB0aGlzLl9EUkFXRVJfU1RBVEUuT1BFTkVEO1xuICAgIH0gZWxzZSB7XG4gICAgICB0aGlzLl9kcmF3ZXJTdGF0ZSA9IHRoaXMuX0RSQVdFUl9TVEFURS5DTE9TRUQ7XG4gICAgfVxuXG4gICAgaWYgKG9sZFN0YXRlICE9PSB0aGlzLl9kcmF3ZXJTdGF0ZSkge1xuICAgICAgaWYgKHRoaXMuX2RyYXdlclN0YXRlID09PSB0aGlzLl9EUkFXRVJfU1RBVEUuT1BFTkVEKSB7XG4gICAgICAgIHRoaXMuX3NldEtleWJvYXJkRm9jdXNUcmFwKCk7XG4gICAgICAgIGRvY3VtZW50LmFkZEV2ZW50TGlzdGVuZXIoJ2tleWRvd24nLCB0aGlzLl9ib3VuZEVzY0tleWRvd25IYW5kbGVyKTtcbiAgICAgICAgZG9jdW1lbnQuYm9keS5zdHlsZS5vdmVyZmxvdyA9ICdoaWRkZW4nO1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgZG9jdW1lbnQucmVtb3ZlRXZlbnRMaXN0ZW5lcigna2V5ZG93bicsIHRoaXMuX2JvdW5kRXNjS2V5ZG93bkhhbmRsZXIpO1xuICAgICAgICBkb2N1bWVudC5ib2R5LnN0eWxlLm92ZXJmbG93ID0gJyc7XG4gICAgICB9XG5cbiAgICAgIC8vIERvbid0IGZpcmUgdGhlIGV2ZW50IG9uIGluaXRpYWwgbG9hZC5cbiAgICAgIGlmIChvbGRTdGF0ZSAhPT0gdGhpcy5fRFJBV0VSX1NUQVRFLklOSVQpIHtcbiAgICAgICAgdGhpcy5maXJlKCdhcHAtZHJhd2VyLXRyYW5zaXRpb25lZCcpO1xuICAgICAgfVxuICAgIH1cbiAgfSxcblxuICAvKipcbiAgICogUmVzZXRzIHRoZSBsYXlvdXQuXG4gICAqXG4gICAqIEBtZXRob2QgcmVzZXRMYXlvdXRcbiAgICovXG4gIHJlc2V0TGF5b3V0OiBmdW5jdGlvbigpIHtcbiAgICB0aGlzLmZpcmUoJ2FwcC1yZXNldC1sYXlvdXQnKTtcbiAgfSxcblxuICBfc2V0S2V5Ym9hcmRGb2N1c1RyYXA6IGZ1bmN0aW9uKCkge1xuICAgIGlmICh0aGlzLm5vRm9jdXNUcmFwKSB7XG4gICAgICByZXR1cm47XG4gICAgfVxuXG4gICAgLy8gTk9URTogVW5sZXNzIHdlIHVzZSAvZGVlcC8gKHdoaWNoIHdlIHNob3VsZG4ndCBzaW5jZSBpdCdzIGRlcHJlY2F0ZWQpLFxuICAgIC8vIHRoaXMgd2lsbCBub3Qgc2VsZWN0IGZvY3VzYWJsZSBlbGVtZW50cyBpbnNpZGUgc2hhZG93IHJvb3RzLlxuICAgIHZhciBmb2N1c2FibGVFbGVtZW50c1NlbGVjdG9yID0gW1xuICAgICAgJ2FbaHJlZl06bm90KFt0YWJpbmRleD1cIi0xXCJdKScsXG4gICAgICAnYXJlYVtocmVmXTpub3QoW3RhYmluZGV4PVwiLTFcIl0pJyxcbiAgICAgICdpbnB1dDpub3QoW2Rpc2FibGVkXSk6bm90KFt0YWJpbmRleD1cIi0xXCJdKScsXG4gICAgICAnc2VsZWN0Om5vdChbZGlzYWJsZWRdKTpub3QoW3RhYmluZGV4PVwiLTFcIl0pJyxcbiAgICAgICd0ZXh0YXJlYTpub3QoW2Rpc2FibGVkXSk6bm90KFt0YWJpbmRleD1cIi0xXCJdKScsXG4gICAgICAnYnV0dG9uOm5vdChbZGlzYWJsZWRdKTpub3QoW3RhYmluZGV4PVwiLTFcIl0pJyxcbiAgICAgICdpZnJhbWU6bm90KFt0YWJpbmRleD1cIi0xXCJdKScsXG4gICAgICAnW3RhYmluZGV4XTpub3QoW3RhYmluZGV4PVwiLTFcIl0pJyxcbiAgICAgICdbY29udGVudEVkaXRhYmxlPXRydWVdOm5vdChbdGFiaW5kZXg9XCItMVwiXSknXG4gICAgXS5qb2luKCcsJyk7XG4gICAgdmFyIGZvY3VzYWJsZUVsZW1lbnRzID1cbiAgICAgICAgZG9tKHRoaXMpLnF1ZXJ5U2VsZWN0b3JBbGwoZm9jdXNhYmxlRWxlbWVudHNTZWxlY3Rvcik7XG5cbiAgICBpZiAoZm9jdXNhYmxlRWxlbWVudHMubGVuZ3RoID4gMCkge1xuICAgICAgdGhpcy5fZmlyc3RUYWJTdG9wID0gZm9jdXNhYmxlRWxlbWVudHNbMF07XG4gICAgICB0aGlzLl9sYXN0VGFiU3RvcCA9IGZvY3VzYWJsZUVsZW1lbnRzW2ZvY3VzYWJsZUVsZW1lbnRzLmxlbmd0aCAtIDFdO1xuICAgIH0gZWxzZSB7XG4gICAgICAvLyBSZXNldCBzYXZlZCB0YWIgc3RvcHMgd2hlbiB0aGVyZSBhcmUgbm8gZm9jdXNhYmxlIGVsZW1lbnRzIGluIHRoZVxuICAgICAgLy8gZHJhd2VyLlxuICAgICAgdGhpcy5fZmlyc3RUYWJTdG9wID0gbnVsbDtcbiAgICAgIHRoaXMuX2xhc3RUYWJTdG9wID0gbnVsbDtcbiAgICB9XG5cbiAgICAvLyBGb2N1cyBvbiBhcHAtZHJhd2VyIGlmIGl0IGhhcyBub24temVybyB0YWJpbmRleC4gT3RoZXJ3aXNlLCBmb2N1cyB0aGVcbiAgICAvLyBmaXJzdCBmb2N1c2FibGUgZWxlbWVudCBpbiB0aGUgZHJhd2VyLCBpZiBpdCBleGlzdHMuIFVzZSB0aGUgdGFiaW5kZXhcbiAgICAvLyBhdHRyaWJ1dGUgc2luY2UgdGhlIHRoaXMudGFiSW5kZXggcHJvcGVydHkgaW4gSUUvRWRnZSByZXR1cm5zIDAgKGluc3RlYWRcbiAgICAvLyBvZiAtMSkgd2hlbiB0aGUgYXR0cmlidXRlIGlzIG5vdCBzZXQuXG4gICAgdmFyIHRhYmluZGV4ID0gdGhpcy5nZXRBdHRyaWJ1dGUoJ3RhYmluZGV4Jyk7XG4gICAgaWYgKHRhYmluZGV4ICYmIHBhcnNlSW50KHRhYmluZGV4LCAxMCkgPiAtMSkge1xuICAgICAgdGhpcy5mb2N1cygpO1xuICAgIH0gZWxzZSBpZiAodGhpcy5fZmlyc3RUYWJTdG9wKSB7XG4gICAgICB0aGlzLl9maXJzdFRhYlN0b3AuZm9jdXMoKTtcbiAgICB9XG4gIH0sXG5cbiAgX3RhYktleWRvd25IYW5kbGVyOiBmdW5jdGlvbihldmVudCkge1xuICAgIGlmICh0aGlzLm5vRm9jdXNUcmFwKSB7XG4gICAgICByZXR1cm47XG4gICAgfVxuXG4gICAgdmFyIFRBQl9LRVlDT0RFID0gOTtcbiAgICBpZiAodGhpcy5fZHJhd2VyU3RhdGUgPT09IHRoaXMuX0RSQVdFUl9TVEFURS5PUEVORUQgJiZcbiAgICAgICAgZXZlbnQua2V5Q29kZSA9PT0gVEFCX0tFWUNPREUpIHtcbiAgICAgIGlmIChldmVudC5zaGlmdEtleSkge1xuICAgICAgICBpZiAodGhpcy5fZmlyc3RUYWJTdG9wICYmXG4gICAgICAgICAgICBkb20oZXZlbnQpLmxvY2FsVGFyZ2V0ID09PSB0aGlzLl9maXJzdFRhYlN0b3ApIHtcbiAgICAgICAgICBldmVudC5wcmV2ZW50RGVmYXVsdCgpO1xuICAgICAgICAgIHRoaXMuX2xhc3RUYWJTdG9wLmZvY3VzKCk7XG4gICAgICAgIH1cbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIGlmICh0aGlzLl9sYXN0VGFiU3RvcCAmJiBkb20oZXZlbnQpLmxvY2FsVGFyZ2V0ID09PSB0aGlzLl9sYXN0VGFiU3RvcCkge1xuICAgICAgICAgIGV2ZW50LnByZXZlbnREZWZhdWx0KCk7XG4gICAgICAgICAgdGhpcy5fZmlyc3RUYWJTdG9wLmZvY3VzKCk7XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICB9XG4gIH0sXG5cbiAgX29wZW5lZFBlcnNpc3RlbnRDaGFuZ2VkOiBmdW5jdGlvbihvcGVuZWQsIHBlcnNpc3RlbnQpIHtcbiAgICB0aGlzLnRvZ2dsZUNsYXNzKCd2aXNpYmxlJywgb3BlbmVkICYmICFwZXJzaXN0ZW50LCB0aGlzLiQuc2NyaW0pO1xuXG4gICAgLy8gVXNlIGEgZGVib3VuY2UgdGltZXIgaW5zdGVhZCBvZiB0cmFuc2l0aW9uZW5kIHNpbmNlIHRyYW5zaXRpb25lbmQgd29uJ3RcbiAgICAvLyBmaXJlIHdoZW4gYXBwLWRyYXdlciBpcyBkaXNwbGF5OiBub25lLlxuICAgIHRoaXMuZGVib3VuY2UoXG4gICAgICAgICdfcmVzZXREcmF3ZXJTdGF0ZScsIHRoaXMuX3Jlc2V0RHJhd2VyU3RhdGUsIHRoaXMudHJhbnNpdGlvbkR1cmF0aW9uKTtcbiAgfSxcblxuICBfTUlOX0ZMSU5HX1RIUkVTSE9MRDogMC4yLFxuICBfTUlOX1RSQU5TSVRJT05fVkVMT0NJVFk6IDEuMixcbiAgX0ZMSU5HX1RJTUlOR19GVU5DVElPTjogJ2N1YmljLWJlemllcigwLjY2NywgMSwgMC42NjcsIDEpJyxcbiAgX0ZMSU5HX0lOSVRJQUxfU0xPUEU6IDEuNSxcblxuICBfRFJBV0VSX1NUQVRFOiB7XG4gICAgSU5JVDogMCxcbiAgICBPUEVORUQ6IDEsXG4gICAgT1BFTkVEX1BFUlNJU1RFTlQ6IDIsXG4gICAgQ0xPU0VEOiAzLFxuICAgIFRSQUNLSU5HOiA0LFxuICAgIEZMSU5HSU5HOiA1XG4gIH1cblxuICAvKipcbiAgICogRmlyZWQgd2hlbiB0aGUgbGF5b3V0IG9mIGFwcC1kcmF3ZXIgaGFzIGNoYW5nZWQuXG4gICAqXG4gICAqIEBldmVudCBhcHAtcmVzZXQtbGF5b3V0XG4gICAqL1xuXG4gIC8qKlxuICAgKiBGaXJlZCB3aGVuIGFwcC1kcmF3ZXIgaGFzIGZpbmlzaGVkIHRyYW5zaXRpb25pbmcuXG4gICAqXG4gICAqIEBldmVudCBhcHAtZHJhd2VyLXRyYW5zaXRpb25lZFxuICAgKi9cbn0pO1xuIiwiLyoqXG5AbGljZW5zZVxuQ29weXJpZ2h0IChjKSAyMDE2IFRoZSBQb2x5bWVyIFByb2plY3QgQXV0aG9ycy4gQWxsIHJpZ2h0cyByZXNlcnZlZC5cblRoaXMgY29kZSBtYXkgb25seSBiZSB1c2VkIHVuZGVyIHRoZSBCU0Qgc3R5bGUgbGljZW5zZSBmb3VuZCBhdFxuaHR0cDovL3BvbHltZXIuZ2l0aHViLmlvL0xJQ0VOU0UudHh0IFRoZSBjb21wbGV0ZSBzZXQgb2YgYXV0aG9ycyBtYXkgYmUgZm91bmQgYXRcbmh0dHA6Ly9wb2x5bWVyLmdpdGh1Yi5pby9BVVRIT1JTLnR4dCBUaGUgY29tcGxldGUgc2V0IG9mIGNvbnRyaWJ1dG9ycyBtYXkgYmVcbmZvdW5kIGF0IGh0dHA6Ly9wb2x5bWVyLmdpdGh1Yi5pby9DT05UUklCVVRPUlMudHh0IENvZGUgZGlzdHJpYnV0ZWQgYnkgR29vZ2xlIGFzXG5wYXJ0IG9mIHRoZSBwb2x5bWVyIHByb2plY3QgaXMgYWxzbyBzdWJqZWN0IHRvIGFuIGFkZGl0aW9uYWwgSVAgcmlnaHRzIGdyYW50XG5mb3VuZCBhdCBodHRwOi8vcG9seW1lci5naXRodWIuaW8vUEFURU5UUy50eHRcbiovXG5pbXBvcnQgJ0Bwb2x5bWVyL3BvbHltZXIvcG9seW1lci1sZWdhY3kuanMnO1xuXG5pbXBvcnQge0lyb25SZXNpemFibGVCZWhhdmlvcn0gZnJvbSAnQHBvbHltZXIvaXJvbi1yZXNpemFibGUtYmVoYXZpb3IvaXJvbi1yZXNpemFibGUtYmVoYXZpb3IuanMnO1xuaW1wb3J0IHtkb219IGZyb20gJ0Bwb2x5bWVyL3BvbHltZXIvbGliL2xlZ2FjeS9wb2x5bWVyLmRvbS5qcyc7XG5pbXBvcnQge2FuaW1hdGlvbkZyYW1lfSBmcm9tICdAcG9seW1lci9wb2x5bWVyL2xpYi91dGlscy9hc3luYy5qcyc7XG5pbXBvcnQge0RlYm91bmNlcn0gZnJvbSAnQHBvbHltZXIvcG9seW1lci9saWIvdXRpbHMvZGVib3VuY2UuanMnO1xuaW1wb3J0IHtlbnF1ZXVlRGVib3VuY2VyfSBmcm9tICdAcG9seW1lci9wb2x5bWVyL2xpYi91dGlscy9mbHVzaC5qcyc7XG5cbi8qKlxuICogQHBvbHltZXJCZWhhdmlvclxuICovXG5leHBvcnQgY29uc3QgQXBwTGF5b3V0QmVoYXZpb3IgPSBbXG4gIElyb25SZXNpemFibGVCZWhhdmlvcixcbiAge1xuXG4gICAgbGlzdGVuZXJzOiB7XG4gICAgICAnYXBwLXJlc2V0LWxheW91dCc6ICdfYXBwUmVzZXRMYXlvdXRIYW5kbGVyJyxcbiAgICAgICdpcm9uLXJlc2l6ZSc6ICdyZXNldExheW91dCdcbiAgICB9LFxuXG4gICAgYXR0YWNoZWQ6IGZ1bmN0aW9uKCkge1xuICAgICAgdGhpcy5maXJlKCdhcHAtcmVzZXQtbGF5b3V0Jyk7XG4gICAgfSxcblxuICAgIF9hcHBSZXNldExheW91dEhhbmRsZXI6IGZ1bmN0aW9uKGUpIHtcbiAgICAgIGlmIChkb20oZSkucGF0aFswXSA9PT0gdGhpcykge1xuICAgICAgICByZXR1cm47XG4gICAgICB9XG4gICAgICB0aGlzLnJlc2V0TGF5b3V0KCk7XG4gICAgICBlLnN0b3BQcm9wYWdhdGlvbigpO1xuICAgIH0sXG5cbiAgICBfdXBkYXRlTGF5b3V0U3RhdGVzOiBmdW5jdGlvbigpIHtcbiAgICAgIGNvbnNvbGUuZXJyb3IoJ3VuaW1wbGVtZW50ZWQnKTtcbiAgICB9LFxuXG4gICAgLyoqXG4gICAgICogUmVzZXRzIHRoZSBsYXlvdXQuIElmIHlvdSBjaGFuZ2VkIHRoZSBzaXplIG9mIHRoaXMgZWxlbWVudCB2aWEgQ1NTXG4gICAgICogeW91IGNhbiBub3RpZnkgdGhlIGNoYW5nZXMgYnkgZWl0aGVyIGZpcmluZyB0aGUgYGlyb24tcmVzaXplYCBldmVudFxuICAgICAqIG9yIGNhbGxpbmcgYHJlc2V0TGF5b3V0YCBkaXJlY3RseS5cbiAgICAgKlxuICAgICAqIEBtZXRob2QgcmVzZXRMYXlvdXRcbiAgICAgKi9cbiAgICByZXNldExheW91dDogZnVuY3Rpb24oKSB7XG4gICAgICB2YXIgc2VsZiA9IHRoaXM7XG4gICAgICB2YXIgY2IgPSB0aGlzLl91cGRhdGVMYXlvdXRTdGF0ZXMuYmluZCh0aGlzKTtcbiAgICAgIHRoaXMuX2xheW91dERlYm91bmNlciA9XG4gICAgICAgICAgRGVib3VuY2VyLmRlYm91bmNlKHRoaXMuX2xheW91dERlYm91bmNlciwgYW5pbWF0aW9uRnJhbWUsIGNiKTtcbiAgICAgIGVucXVldWVEZWJvdW5jZXIodGhpcy5fbGF5b3V0RGVib3VuY2VyKTtcbiAgICAgIHRoaXMuX25vdGlmeURlc2NlbmRhbnRSZXNpemUoKTtcbiAgICB9LFxuXG4gICAgX25vdGlmeUxheW91dENoYW5nZWQ6IGZ1bmN0aW9uKCkge1xuICAgICAgdmFyIHNlbGYgPSB0aGlzO1xuICAgICAgLy8gVE9ETzogdGhlIGV2ZW50IGBhcHAtcmVzZXQtbGF5b3V0YCBjYW4gYmUgZmlyZWQgc3luY2hyb25vdXNseVxuICAgICAgLy8gYXMgbG9uZyBhcyBgX3VwZGF0ZUxheW91dFN0YXRlc2Agd2FpdHMgZm9yIGFsbCB0aGUgbWljcm90YXNrcyBhZnRlclxuICAgICAgLy8gckFGLiBFLmcuIHJlcXVlc3RBbmltYXRpb25GcmFtZShzZXRUaW1lT3V0KCkpXG4gICAgICByZXF1ZXN0QW5pbWF0aW9uRnJhbWUoZnVuY3Rpb24oKSB7XG4gICAgICAgIHNlbGYuZmlyZSgnYXBwLXJlc2V0LWxheW91dCcpO1xuICAgICAgfSk7XG4gICAgfSxcblxuICAgIF9ub3RpZnlEZXNjZW5kYW50UmVzaXplOiBmdW5jdGlvbigpIHtcbiAgICAgIGlmICghdGhpcy5pc0F0dGFjaGVkKSB7XG4gICAgICAgIHJldHVybjtcbiAgICAgIH1cbiAgICAgIHRoaXMuX2ludGVyZXN0ZWRSZXNpemFibGVzLmZvckVhY2goZnVuY3Rpb24ocmVzaXphYmxlKSB7XG4gICAgICAgIGlmICh0aGlzLnJlc2l6ZXJTaG91bGROb3RpZnkocmVzaXphYmxlKSkge1xuICAgICAgICAgIHRoaXMuX25vdGlmeURlc2NlbmRhbnQocmVzaXphYmxlKTtcbiAgICAgICAgfVxuICAgICAgfSwgdGhpcyk7XG4gICAgfVxuICB9XG5dO1xuIiwiLyoqXG5AbGljZW5zZVxuQ29weXJpZ2h0IChjKSAyMDE2IFRoZSBQb2x5bWVyIFByb2plY3QgQXV0aG9ycy4gQWxsIHJpZ2h0cyByZXNlcnZlZC5cblRoaXMgY29kZSBtYXkgb25seSBiZSB1c2VkIHVuZGVyIHRoZSBCU0Qgc3R5bGUgbGljZW5zZSBmb3VuZCBhdFxuaHR0cDovL3BvbHltZXIuZ2l0aHViLmlvL0xJQ0VOU0UudHh0IFRoZSBjb21wbGV0ZSBzZXQgb2YgYXV0aG9ycyBtYXkgYmUgZm91bmQgYXRcbmh0dHA6Ly9wb2x5bWVyLmdpdGh1Yi5pby9BVVRIT1JTLnR4dCBUaGUgY29tcGxldGUgc2V0IG9mIGNvbnRyaWJ1dG9ycyBtYXkgYmVcbmZvdW5kIGF0IGh0dHA6Ly9wb2x5bWVyLmdpdGh1Yi5pby9DT05UUklCVVRPUlMudHh0IENvZGUgZGlzdHJpYnV0ZWQgYnkgR29vZ2xlIGFzXG5wYXJ0IG9mIHRoZSBwb2x5bWVyIHByb2plY3QgaXMgYWxzbyBzdWJqZWN0IHRvIGFuIGFkZGl0aW9uYWwgSVAgcmlnaHRzIGdyYW50XG5mb3VuZCBhdCBodHRwOi8vcG9seW1lci5naXRodWIuaW8vUEFURU5UUy50eHRcbiovXG5pbXBvcnQgJ0Bwb2x5bWVyL3BvbHltZXIvcG9seW1lci1sZWdhY3kuanMnO1xuXG5pbXBvcnQge2RvbX0gZnJvbSAnQHBvbHltZXIvcG9seW1lci9saWIvbGVnYWN5L3BvbHltZXIuZG9tLmpzJztcblxuLyoqXG4gKiBgUG9seW1lci5Jcm9uU2Nyb2xsVGFyZ2V0QmVoYXZpb3JgIGFsbG93cyBhbiBlbGVtZW50IHRvIHJlc3BvbmQgdG8gc2Nyb2xsXG4gKiBldmVudHMgZnJvbSBhIGRlc2lnbmF0ZWQgc2Nyb2xsIHRhcmdldC5cbiAqXG4gKiBFbGVtZW50cyB0aGF0IGNvbnN1bWUgdGhpcyBiZWhhdmlvciBjYW4gb3ZlcnJpZGUgdGhlIGBfc2Nyb2xsSGFuZGxlcmBcbiAqIG1ldGhvZCB0byBhZGQgbG9naWMgb24gdGhlIHNjcm9sbCBldmVudC5cbiAqXG4gKiBAZGVtbyBkZW1vL3Njcm9sbGluZy1yZWdpb24uaHRtbCBTY3JvbGxpbmcgUmVnaW9uXG4gKiBAZGVtbyBkZW1vL2RvY3VtZW50Lmh0bWwgRG9jdW1lbnQgRWxlbWVudFxuICogQHBvbHltZXJCZWhhdmlvclxuICovXG5leHBvcnQgY29uc3QgSXJvblNjcm9sbFRhcmdldEJlaGF2aW9yID0ge1xuXG4gIHByb3BlcnRpZXM6IHtcblxuICAgIC8qKlxuICAgICAqIFNwZWNpZmllcyB0aGUgZWxlbWVudCB0aGF0IHdpbGwgaGFuZGxlIHRoZSBzY3JvbGwgZXZlbnRcbiAgICAgKiBvbiB0aGUgYmVoYWxmIG9mIHRoZSBjdXJyZW50IGVsZW1lbnQuIFRoaXMgaXMgdHlwaWNhbGx5IGEgcmVmZXJlbmNlIHRvIGFuXG4gICAgICplbGVtZW50LCBidXQgdGhlcmUgYXJlIGEgZmV3IG1vcmUgcG9zaWJpbGl0aWVzOlxuICAgICAqXG4gICAgICogIyMjIEVsZW1lbnRzIGlkXG4gICAgICpcbiAgICAgKmBgYGh0bWxcbiAgICAgKiA8ZGl2IGlkPVwic2Nyb2xsYWJsZS1lbGVtZW50XCIgc3R5bGU9XCJvdmVyZmxvdzogYXV0bztcIj5cbiAgICAgKiAgPHgtZWxlbWVudCBzY3JvbGwtdGFyZ2V0PVwic2Nyb2xsYWJsZS1lbGVtZW50XCI+XG4gICAgICogICAgPCEtLSBDb250ZW50LS0+XG4gICAgICogIDwveC1lbGVtZW50PlxuICAgICAqIDwvZGl2PlxuICAgICAqYGBgXG4gICAgICogSW4gdGhpcyBjYXNlLCB0aGUgYHNjcm9sbFRhcmdldGAgd2lsbCBwb2ludCB0byB0aGUgb3V0ZXIgZGl2IGVsZW1lbnQuXG4gICAgICpcbiAgICAgKiAjIyMgRG9jdW1lbnQgc2Nyb2xsaW5nXG4gICAgICpcbiAgICAgKiBGb3IgZG9jdW1lbnQgc2Nyb2xsaW5nLCB5b3UgY2FuIHVzZSB0aGUgcmVzZXJ2ZWQgd29yZCBgZG9jdW1lbnRgOlxuICAgICAqXG4gICAgICpgYGBodG1sXG4gICAgICogPHgtZWxlbWVudCBzY3JvbGwtdGFyZ2V0PVwiZG9jdW1lbnRcIj5cbiAgICAgKiAgIDwhLS0gQ29udGVudCAtLT5cbiAgICAgKiA8L3gtZWxlbWVudD5cbiAgICAgKmBgYFxuICAgICAqXG4gICAgICogIyMjIEVsZW1lbnRzIHJlZmVyZW5jZVxuICAgICAqXG4gICAgICpgYGBqc1xuICAgICAqIGFwcEhlYWRlci5zY3JvbGxUYXJnZXQgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCcjc2Nyb2xsYWJsZS1lbGVtZW50Jyk7XG4gICAgICpgYGBcbiAgICAgKlxuICAgICAqIEB0eXBlIHtIVE1MRWxlbWVudH1cbiAgICAgKiBAZGVmYXVsdCBkb2N1bWVudFxuICAgICAqL1xuICAgIHNjcm9sbFRhcmdldDoge1xuICAgICAgdHlwZTogSFRNTEVsZW1lbnQsXG4gICAgICB2YWx1ZTogZnVuY3Rpb24oKSB7XG4gICAgICAgIHJldHVybiB0aGlzLl9kZWZhdWx0U2Nyb2xsVGFyZ2V0O1xuICAgICAgfVxuICAgIH1cbiAgfSxcblxuICBvYnNlcnZlcnM6IFsnX3Njcm9sbFRhcmdldENoYW5nZWQoc2Nyb2xsVGFyZ2V0LCBpc0F0dGFjaGVkKSddLFxuXG4gIC8qKlxuICAgKiBUcnVlIGlmIHRoZSBldmVudCBsaXN0ZW5lciBzaG91bGQgYmUgaW5zdGFsbGVkLlxuICAgKi9cbiAgX3Nob3VsZEhhdmVMaXN0ZW5lcjogdHJ1ZSxcblxuICBfc2Nyb2xsVGFyZ2V0Q2hhbmdlZDogZnVuY3Rpb24oc2Nyb2xsVGFyZ2V0LCBpc0F0dGFjaGVkKSB7XG4gICAgdmFyIGV2ZW50VGFyZ2V0O1xuXG4gICAgaWYgKHRoaXMuX29sZFNjcm9sbFRhcmdldCkge1xuICAgICAgdGhpcy5fdG9nZ2xlU2Nyb2xsTGlzdGVuZXIoZmFsc2UsIHRoaXMuX29sZFNjcm9sbFRhcmdldCk7XG4gICAgICB0aGlzLl9vbGRTY3JvbGxUYXJnZXQgPSBudWxsO1xuICAgIH1cbiAgICBpZiAoIWlzQXR0YWNoZWQpIHtcbiAgICAgIHJldHVybjtcbiAgICB9XG4gICAgLy8gU3VwcG9ydCBlbGVtZW50IGlkIHJlZmVyZW5jZXNcbiAgICBpZiAoc2Nyb2xsVGFyZ2V0ID09PSAnZG9jdW1lbnQnKSB7XG4gICAgICB0aGlzLnNjcm9sbFRhcmdldCA9IHRoaXMuX2RvYztcblxuICAgIH0gZWxzZSBpZiAodHlwZW9mIHNjcm9sbFRhcmdldCA9PT0gJ3N0cmluZycpIHtcbiAgICAgIHZhciBkb21Ib3N0ID0gdGhpcy5kb21Ib3N0O1xuXG4gICAgICB0aGlzLnNjcm9sbFRhcmdldCA9IGRvbUhvc3QgJiYgZG9tSG9zdC4kID9cbiAgICAgICAgICBkb21Ib3N0LiRbc2Nyb2xsVGFyZ2V0XSA6XG4gICAgICAgICAgZG9tKHRoaXMub3duZXJEb2N1bWVudCkucXVlcnlTZWxlY3RvcignIycgKyBzY3JvbGxUYXJnZXQpO1xuXG4gICAgfSBlbHNlIGlmICh0aGlzLl9pc1ZhbGlkU2Nyb2xsVGFyZ2V0KCkpIHtcbiAgICAgIHRoaXMuX29sZFNjcm9sbFRhcmdldCA9IHNjcm9sbFRhcmdldDtcbiAgICAgIHRoaXMuX3RvZ2dsZVNjcm9sbExpc3RlbmVyKHRoaXMuX3Nob3VsZEhhdmVMaXN0ZW5lciwgc2Nyb2xsVGFyZ2V0KTtcbiAgICB9XG4gIH0sXG5cbiAgLyoqXG4gICAqIFJ1bnMgb24gZXZlcnkgc2Nyb2xsIGV2ZW50LiBDb25zdW1lciBvZiB0aGlzIGJlaGF2aW9yIG1heSBvdmVycmlkZSB0aGlzXG4gICAqIG1ldGhvZC5cbiAgICpcbiAgICogQHByb3RlY3RlZFxuICAgKi9cbiAgX3Njcm9sbEhhbmRsZXI6IGZ1bmN0aW9uIHNjcm9sbEhhbmRsZXIoKSB7fSxcblxuICAvKipcbiAgICogVGhlIGRlZmF1bHQgc2Nyb2xsIHRhcmdldC4gQ29uc3VtZXJzIG9mIHRoaXMgYmVoYXZpb3IgbWF5IHdhbnQgdG8gY3VzdG9taXplXG4gICAqIHRoZSBkZWZhdWx0IHNjcm9sbCB0YXJnZXQuXG4gICAqXG4gICAqIEB0eXBlIHtFbGVtZW50fVxuICAgKi9cbiAgZ2V0IF9kZWZhdWx0U2Nyb2xsVGFyZ2V0KCkge1xuICAgIHJldHVybiB0aGlzLl9kb2M7XG4gIH0sXG5cbiAgLyoqXG4gICAqIFNob3J0Y3V0IGZvciB0aGUgZG9jdW1lbnQgZWxlbWVudFxuICAgKlxuICAgKiBAdHlwZSB7RWxlbWVudH1cbiAgICovXG4gIGdldCBfZG9jKCkge1xuICAgIHJldHVybiB0aGlzLm93bmVyRG9jdW1lbnQuZG9jdW1lbnRFbGVtZW50O1xuICB9LFxuXG4gIC8qKlxuICAgKiBHZXRzIHRoZSBudW1iZXIgb2YgcGl4ZWxzIHRoYXQgdGhlIGNvbnRlbnQgb2YgYW4gZWxlbWVudCBpcyBzY3JvbGxlZFxuICAgKiB1cHdhcmQuXG4gICAqXG4gICAqIEB0eXBlIHtudW1iZXJ9XG4gICAqL1xuICBnZXQgX3Njcm9sbFRvcCgpIHtcbiAgICBpZiAodGhpcy5faXNWYWxpZFNjcm9sbFRhcmdldCgpKSB7XG4gICAgICByZXR1cm4gdGhpcy5zY3JvbGxUYXJnZXQgPT09IHRoaXMuX2RvYyA/IHdpbmRvdy5wYWdlWU9mZnNldCA6XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMuc2Nyb2xsVGFyZ2V0LnNjcm9sbFRvcDtcbiAgICB9XG4gICAgcmV0dXJuIDA7XG4gIH0sXG5cbiAgLyoqXG4gICAqIEdldHMgdGhlIG51bWJlciBvZiBwaXhlbHMgdGhhdCB0aGUgY29udGVudCBvZiBhbiBlbGVtZW50IGlzIHNjcm9sbGVkIHRvIHRoZVxuICAgKiBsZWZ0LlxuICAgKlxuICAgKiBAdHlwZSB7bnVtYmVyfVxuICAgKi9cbiAgZ2V0IF9zY3JvbGxMZWZ0KCkge1xuICAgIGlmICh0aGlzLl9pc1ZhbGlkU2Nyb2xsVGFyZ2V0KCkpIHtcbiAgICAgIHJldHVybiB0aGlzLnNjcm9sbFRhcmdldCA9PT0gdGhpcy5fZG9jID8gd2luZG93LnBhZ2VYT2Zmc2V0IDpcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5zY3JvbGxUYXJnZXQuc2Nyb2xsTGVmdDtcbiAgICB9XG4gICAgcmV0dXJuIDA7XG4gIH0sXG5cbiAgLyoqXG4gICAqIFNldHMgdGhlIG51bWJlciBvZiBwaXhlbHMgdGhhdCB0aGUgY29udGVudCBvZiBhbiBlbGVtZW50IGlzIHNjcm9sbGVkXG4gICAqIHVwd2FyZC5cbiAgICpcbiAgICogQHR5cGUge251bWJlcn1cbiAgICovXG4gIHNldCBfc2Nyb2xsVG9wKHRvcCkge1xuICAgIGlmICh0aGlzLnNjcm9sbFRhcmdldCA9PT0gdGhpcy5fZG9jKSB7XG4gICAgICB3aW5kb3cuc2Nyb2xsVG8od2luZG93LnBhZ2VYT2Zmc2V0LCB0b3ApO1xuICAgIH0gZWxzZSBpZiAodGhpcy5faXNWYWxpZFNjcm9sbFRhcmdldCgpKSB7XG4gICAgICB0aGlzLnNjcm9sbFRhcmdldC5zY3JvbGxUb3AgPSB0b3A7XG4gICAgfVxuICB9LFxuXG4gIC8qKlxuICAgKiBTZXRzIHRoZSBudW1iZXIgb2YgcGl4ZWxzIHRoYXQgdGhlIGNvbnRlbnQgb2YgYW4gZWxlbWVudCBpcyBzY3JvbGxlZCB0byB0aGVcbiAgICogbGVmdC5cbiAgICpcbiAgICogQHR5cGUge251bWJlcn1cbiAgICovXG4gIHNldCBfc2Nyb2xsTGVmdChsZWZ0KSB7XG4gICAgaWYgKHRoaXMuc2Nyb2xsVGFyZ2V0ID09PSB0aGlzLl9kb2MpIHtcbiAgICAgIHdpbmRvdy5zY3JvbGxUbyhsZWZ0LCB3aW5kb3cucGFnZVlPZmZzZXQpO1xuICAgIH0gZWxzZSBpZiAodGhpcy5faXNWYWxpZFNjcm9sbFRhcmdldCgpKSB7XG4gICAgICB0aGlzLnNjcm9sbFRhcmdldC5zY3JvbGxMZWZ0ID0gbGVmdDtcbiAgICB9XG4gIH0sXG5cbiAgLyoqXG4gICAqIFNjcm9sbHMgdGhlIGNvbnRlbnQgdG8gYSBwYXJ0aWN1bGFyIHBsYWNlLlxuICAgKlxuICAgKiBAbWV0aG9kIHNjcm9sbFxuICAgKiBAcGFyYW0ge251bWJlcnwhe2xlZnQ6IG51bWJlciwgdG9wOiBudW1iZXJ9fSBsZWZ0T3JPcHRpb25zIFRoZSBsZWZ0IHBvc2l0aW9uIG9yIHNjcm9sbCBvcHRpb25zXG4gICAqIEBwYXJhbSB7bnVtYmVyPX0gdG9wIFRoZSB0b3AgcG9zaXRpb25cbiAgICogQHJldHVybiB7dm9pZH1cbiAgICovXG4gIHNjcm9sbDogZnVuY3Rpb24obGVmdE9yT3B0aW9ucywgdG9wKSB7XG4gICAgdmFyIGxlZnQ7XG5cbiAgICBpZiAodHlwZW9mIGxlZnRPck9wdGlvbnMgPT09ICdvYmplY3QnKSB7XG4gICAgICBsZWZ0ID0gbGVmdE9yT3B0aW9ucy5sZWZ0O1xuICAgICAgdG9wID0gbGVmdE9yT3B0aW9ucy50b3A7XG4gICAgfSBlbHNlIHtcbiAgICAgIGxlZnQgPSBsZWZ0T3JPcHRpb25zO1xuICAgIH1cblxuICAgIGxlZnQgPSBsZWZ0IHx8IDA7XG4gICAgdG9wID0gdG9wIHx8IDA7XG4gICAgaWYgKHRoaXMuc2Nyb2xsVGFyZ2V0ID09PSB0aGlzLl9kb2MpIHtcbiAgICAgIHdpbmRvdy5zY3JvbGxUbyhsZWZ0LCB0b3ApO1xuICAgIH0gZWxzZSBpZiAodGhpcy5faXNWYWxpZFNjcm9sbFRhcmdldCgpKSB7XG4gICAgICB0aGlzLnNjcm9sbFRhcmdldC5zY3JvbGxMZWZ0ID0gbGVmdDtcbiAgICAgIHRoaXMuc2Nyb2xsVGFyZ2V0LnNjcm9sbFRvcCA9IHRvcDtcbiAgICB9XG4gIH0sXG5cbiAgLyoqXG4gICAqIEdldHMgdGhlIHdpZHRoIG9mIHRoZSBzY3JvbGwgdGFyZ2V0LlxuICAgKlxuICAgKiBAdHlwZSB7bnVtYmVyfVxuICAgKi9cbiAgZ2V0IF9zY3JvbGxUYXJnZXRXaWR0aCgpIHtcbiAgICBpZiAodGhpcy5faXNWYWxpZFNjcm9sbFRhcmdldCgpKSB7XG4gICAgICByZXR1cm4gdGhpcy5zY3JvbGxUYXJnZXQgPT09IHRoaXMuX2RvYyA/IHdpbmRvdy5pbm5lcldpZHRoIDpcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5zY3JvbGxUYXJnZXQub2Zmc2V0V2lkdGg7XG4gICAgfVxuICAgIHJldHVybiAwO1xuICB9LFxuXG4gIC8qKlxuICAgKiBHZXRzIHRoZSBoZWlnaHQgb2YgdGhlIHNjcm9sbCB0YXJnZXQuXG4gICAqXG4gICAqIEB0eXBlIHtudW1iZXJ9XG4gICAqL1xuICBnZXQgX3Njcm9sbFRhcmdldEhlaWdodCgpIHtcbiAgICBpZiAodGhpcy5faXNWYWxpZFNjcm9sbFRhcmdldCgpKSB7XG4gICAgICByZXR1cm4gdGhpcy5zY3JvbGxUYXJnZXQgPT09IHRoaXMuX2RvYyA/IHdpbmRvdy5pbm5lckhlaWdodCA6XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMuc2Nyb2xsVGFyZ2V0Lm9mZnNldEhlaWdodDtcbiAgICB9XG4gICAgcmV0dXJuIDA7XG4gIH0sXG5cbiAgLyoqXG4gICAqIFJldHVybnMgdHJ1ZSBpZiB0aGUgc2Nyb2xsIHRhcmdldCBpcyBhIHZhbGlkIEhUTUxFbGVtZW50LlxuICAgKlxuICAgKiBAcmV0dXJuIHtib29sZWFufVxuICAgKi9cbiAgX2lzVmFsaWRTY3JvbGxUYXJnZXQ6IGZ1bmN0aW9uKCkge1xuICAgIHJldHVybiB0aGlzLnNjcm9sbFRhcmdldCBpbnN0YW5jZW9mIEhUTUxFbGVtZW50O1xuICB9LFxuXG4gIF90b2dnbGVTY3JvbGxMaXN0ZW5lcjogZnVuY3Rpb24oeWVzLCBzY3JvbGxUYXJnZXQpIHtcbiAgICB2YXIgZXZlbnRUYXJnZXQgPSBzY3JvbGxUYXJnZXQgPT09IHRoaXMuX2RvYyA/IHdpbmRvdyA6IHNjcm9sbFRhcmdldDtcbiAgICBpZiAoeWVzKSB7XG4gICAgICBpZiAoIXRoaXMuX2JvdW5kU2Nyb2xsSGFuZGxlcikge1xuICAgICAgICB0aGlzLl9ib3VuZFNjcm9sbEhhbmRsZXIgPSB0aGlzLl9zY3JvbGxIYW5kbGVyLmJpbmQodGhpcyk7XG4gICAgICAgIGV2ZW50VGFyZ2V0LmFkZEV2ZW50TGlzdGVuZXIoJ3Njcm9sbCcsIHRoaXMuX2JvdW5kU2Nyb2xsSGFuZGxlcik7XG4gICAgICB9XG4gICAgfSBlbHNlIHtcbiAgICAgIGlmICh0aGlzLl9ib3VuZFNjcm9sbEhhbmRsZXIpIHtcbiAgICAgICAgZXZlbnRUYXJnZXQucmVtb3ZlRXZlbnRMaXN0ZW5lcignc2Nyb2xsJywgdGhpcy5fYm91bmRTY3JvbGxIYW5kbGVyKTtcbiAgICAgICAgdGhpcy5fYm91bmRTY3JvbGxIYW5kbGVyID0gbnVsbDtcbiAgICAgIH1cbiAgICB9XG4gIH0sXG5cbiAgLyoqXG4gICAqIEVuYWJsZXMgb3IgZGlzYWJsZXMgdGhlIHNjcm9sbCBldmVudCBsaXN0ZW5lci5cbiAgICpcbiAgICogQHBhcmFtIHtib29sZWFufSB5ZXMgVHJ1ZSB0byBhZGQgdGhlIGV2ZW50LCBGYWxzZSB0byByZW1vdmUgaXQuXG4gICAqL1xuICB0b2dnbGVTY3JvbGxMaXN0ZW5lcjogZnVuY3Rpb24oeWVzKSB7XG4gICAgdGhpcy5fc2hvdWxkSGF2ZUxpc3RlbmVyID0geWVzO1xuICAgIHRoaXMuX3RvZ2dsZVNjcm9sbExpc3RlbmVyKHllcywgdGhpcy5zY3JvbGxUYXJnZXQpO1xuICB9XG5cbn07XG4iLCIvKipcbkBsaWNlbnNlXG5Db3B5cmlnaHQgKGMpIDIwMTYgVGhlIFBvbHltZXIgUHJvamVjdCBBdXRob3JzLiBBbGwgcmlnaHRzIHJlc2VydmVkLlxuVGhpcyBjb2RlIG1heSBvbmx5IGJlIHVzZWQgdW5kZXIgdGhlIEJTRCBzdHlsZSBsaWNlbnNlIGZvdW5kIGF0XG5odHRwOi8vcG9seW1lci5naXRodWIuaW8vTElDRU5TRS50eHQgVGhlIGNvbXBsZXRlIHNldCBvZiBhdXRob3JzIG1heSBiZSBmb3VuZCBhdFxuaHR0cDovL3BvbHltZXIuZ2l0aHViLmlvL0FVVEhPUlMudHh0IFRoZSBjb21wbGV0ZSBzZXQgb2YgY29udHJpYnV0b3JzIG1heSBiZVxuZm91bmQgYXQgaHR0cDovL3BvbHltZXIuZ2l0aHViLmlvL0NPTlRSSUJVVE9SUy50eHQgQ29kZSBkaXN0cmlidXRlZCBieSBHb29nbGUgYXNcbnBhcnQgb2YgdGhlIHBvbHltZXIgcHJvamVjdCBpcyBhbHNvIHN1YmplY3QgdG8gYW4gYWRkaXRpb25hbCBJUCByaWdodHMgZ3JhbnRcbmZvdW5kIGF0IGh0dHA6Ly9wb2x5bWVyLmdpdGh1Yi5pby9QQVRFTlRTLnR4dFxuKi9cbmltcG9ydCAnQHBvbHltZXIvcG9seW1lci9wb2x5bWVyLWxlZ2FjeS5qcyc7XG5cbmV4cG9ydCBjb25zdCBfc2Nyb2xsRWZmZWN0cyA9IHt9O1xuZXhwb3J0IGxldCBfc2Nyb2xsVGltZXIgPSBudWxsO1xuXG5leHBvcnQgY29uc3Qgc2Nyb2xsVGltaW5nRnVuY3Rpb24gPSBmdW5jdGlvbiBlYXNlT3V0UXVhZCh0LCBiLCBjLCBkKSB7XG4gIHQgLz0gZDtcbiAgcmV0dXJuIC1jICogdCAqICh0IC0gMikgKyBiO1xufTtcblxuLyoqXG4gKiBSZWdpc3RlcnMgYSBzY3JvbGwgZWZmZWN0IHRvIGJlIHVzZWQgaW4gZWxlbWVudHMgdGhhdCBpbXBsZW1lbnQgdGhlXG4gKiBgUG9seW1lci5BcHBTY3JvbGxFZmZlY3RzQmVoYXZpb3JgIGJlaGF2aW9yLlxuICpcbiAqIEBwYXJhbSB7c3RyaW5nfSBlZmZlY3ROYW1lIFRoZSBlZmZlY3QgbmFtZS5cbiAqIEBwYXJhbSB7T2JqZWN0fSBlZmZlY3REZWYgVGhlIGVmZmVjdCBkZWZpbml0aW9uLlxuICovXG5leHBvcnQgY29uc3QgcmVnaXN0ZXJFZmZlY3QgPSBmdW5jdGlvbiByZWdpc3RlckVmZmVjdChlZmZlY3ROYW1lLCBlZmZlY3REZWYpIHtcbiAgaWYgKF9zY3JvbGxFZmZlY3RzW2VmZmVjdE5hbWVdICE9IG51bGwpIHtcbiAgICB0aHJvdyBuZXcgRXJyb3IoJ2VmZmVjdCBgJyArIGVmZmVjdE5hbWUgKyAnYCBpcyBhbHJlYWR5IHJlZ2lzdGVyZWQuJyk7XG4gIH1cbiAgX3Njcm9sbEVmZmVjdHNbZWZmZWN0TmFtZV0gPSBlZmZlY3REZWY7XG59O1xuXG5leHBvcnQgY29uc3QgcXVlcnlBbGxSb290ID0gZnVuY3Rpb24oc2VsZWN0b3IsIHJvb3QpIHtcbiAgdmFyIHF1ZXVlID0gW3Jvb3RdO1xuICB2YXIgbWF0Y2hlcyA9IFtdO1xuXG4gIHdoaWxlIChxdWV1ZS5sZW5ndGggPiAwKSB7XG4gICAgdmFyIG5vZGUgPSBxdWV1ZS5zaGlmdCgpO1xuICAgIG1hdGNoZXMucHVzaC5hcHBseShtYXRjaGVzLCBub2RlLnF1ZXJ5U2VsZWN0b3JBbGwoc2VsZWN0b3IpKTtcbiAgICBmb3IgKHZhciBpID0gMDsgbm9kZS5jaGlsZHJlbltpXTsgaSsrKSB7XG4gICAgICBpZiAobm9kZS5jaGlsZHJlbltpXS5zaGFkb3dSb290KSB7XG4gICAgICAgIHF1ZXVlLnB1c2gobm9kZS5jaGlsZHJlbltpXS5zaGFkb3dSb290KTtcbiAgICAgIH1cbiAgICB9XG4gIH1cbiAgcmV0dXJuIG1hdGNoZXM7XG59O1xuXG4vKipcbiAqIFNjcm9sbHMgdG8gYSBwYXJ0aWN1bGFyIHNldCBvZiBjb29yZGluYXRlcyBpbiBhIHNjcm9sbCB0YXJnZXQuXG4gKiBJZiB0aGUgc2Nyb2xsIHRhcmdldCBpcyBub3QgZGVmaW5lZCwgdGhlbiBpdCB3b3VsZCB1c2UgdGhlIG1haW4gZG9jdW1lbnQgYXNcbiAqIHRoZSB0YXJnZXQuXG4gKlxuICogVG8gc2Nyb2xsIGluIGEgc21vb3RoIGZhc2hpb24sIHlvdSBjYW4gc2V0IHRoZSBvcHRpb24gYGJlaGF2aW9yOiAnc21vb3RoJ2AuXG4gKiBlLmcuXG4gKlxuICogYGBganNcbiAqIFBvbHltZXIuQXBwTGF5b3V0LnNjcm9sbCh7dG9wOiAwLCBiZWhhdmlvcjogJ3Ntb290aCd9KTtcbiAqIGBgYFxuICpcbiAqIFRvIHNjcm9sbCBpbiBhIHNpbGVudCBtb2RlLCB3aXRob3V0IG5vdGlmeWluZyBzY3JvbGwgY2hhbmdlcyB0byBhbnlcbiAqIGFwcC1sYXlvdXQgZWxlbWVudHMsIHlvdSBjYW4gc2V0IHRoZSBvcHRpb24gYGJlaGF2aW9yOiAnc2lsZW50J2AuIFRoaXMgaXNcbiAqIHBhcnRpY3VsYXJseSB1c2VmdWwgd2UgeW91IGFyZSB1c2luZyBgYXBwLWhlYWRlcmAgYW5kIHlvdSBkZXNpcmUgdG8gc2Nyb2xsIHRvXG4gKiB0aGUgdG9wIG9mIGEgc2Nyb2xsaW5nIHJlZ2lvbiB3aXRob3V0IHJ1bm5pbmcgc2Nyb2xsIGVmZmVjdHMuIGUuZy5cbiAqXG4gKiBgYGBqc1xuICogUG9seW1lci5BcHBMYXlvdXQuc2Nyb2xsKHt0b3A6IDAsIGJlaGF2aW9yOiAnc2lsZW50J30pO1xuICogYGBgXG4gKlxuICogQHBhcmFtIHtPYmplY3R9IG9wdGlvbnMge3RvcDogTnVtYmVyLCBsZWZ0OiBOdW1iZXIsIGJlaGF2aW9yOiBTdHJpbmcoc21vb3RoIHwgc2lsZW50KX1cbiAqL1xuZXhwb3J0IGNvbnN0IHNjcm9sbCA9IGZ1bmN0aW9uIHNjcm9sbChvcHRpb25zKSB7XG4gIG9wdGlvbnMgPSBvcHRpb25zIHx8IHt9O1xuXG4gIHZhciBkb2NFbCA9IGRvY3VtZW50LmRvY3VtZW50RWxlbWVudDtcbiAgdmFyIHRhcmdldCA9IG9wdGlvbnMudGFyZ2V0IHx8IGRvY0VsO1xuICB2YXIgaGFzTmF0aXZlU2Nyb2xsQmVoYXZpb3IgPVxuICAgICAgJ3Njcm9sbEJlaGF2aW9yJyBpbiB0YXJnZXQuc3R5bGUgJiYgdGFyZ2V0LnNjcm9sbDtcbiAgdmFyIHNjcm9sbENsYXNzTmFtZSA9ICdhcHAtbGF5b3V0LXNpbGVudC1zY3JvbGwnO1xuICB2YXIgc2Nyb2xsVG9wID0gb3B0aW9ucy50b3AgfHwgMDtcbiAgdmFyIHNjcm9sbExlZnQgPSBvcHRpb25zLmxlZnQgfHwgMDtcbiAgdmFyIHNjcm9sbFRvID0gdGFyZ2V0ID09PSBkb2NFbCA/IHdpbmRvdy5zY3JvbGxUbyA6XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBmdW5jdGlvbiBzY3JvbGxUbyhzY3JvbGxMZWZ0LCBzY3JvbGxUb3ApIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdGFyZ2V0LnNjcm9sbExlZnQgPSBzY3JvbGxMZWZ0O1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB0YXJnZXQuc2Nyb2xsVG9wID0gc2Nyb2xsVG9wO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfTtcblxuICBpZiAob3B0aW9ucy5iZWhhdmlvciA9PT0gJ3Ntb290aCcpIHtcbiAgICBpZiAoaGFzTmF0aXZlU2Nyb2xsQmVoYXZpb3IpIHtcbiAgICAgIHRhcmdldC5zY3JvbGwob3B0aW9ucyk7XG5cbiAgICB9IGVsc2Uge1xuICAgICAgdmFyIHRpbWluZ0ZuID0gc2Nyb2xsVGltaW5nRnVuY3Rpb247XG4gICAgICB2YXIgc3RhcnRUaW1lID0gRGF0ZS5ub3coKTtcbiAgICAgIHZhciBjdXJyZW50U2Nyb2xsVG9wID1cbiAgICAgICAgICB0YXJnZXQgPT09IGRvY0VsID8gd2luZG93LnBhZ2VZT2Zmc2V0IDogdGFyZ2V0LnNjcm9sbFRvcDtcbiAgICAgIHZhciBjdXJyZW50U2Nyb2xsTGVmdCA9XG4gICAgICAgICAgdGFyZ2V0ID09PSBkb2NFbCA/IHdpbmRvdy5wYWdlWE9mZnNldCA6IHRhcmdldC5zY3JvbGxMZWZ0O1xuICAgICAgdmFyIGRlbHRhU2Nyb2xsVG9wID0gc2Nyb2xsVG9wIC0gY3VycmVudFNjcm9sbFRvcDtcbiAgICAgIHZhciBkZWx0YVNjcm9sbExlZnQgPSBzY3JvbGxMZWZ0IC0gY3VycmVudFNjcm9sbExlZnQ7XG4gICAgICB2YXIgZHVyYXRpb24gPSAzMDA7XG4gICAgICB2YXIgdXBkYXRlRnJhbWUgPVxuICAgICAgICAgIChmdW5jdGlvbiB1cGRhdGVGcmFtZSgpIHtcbiAgICAgICAgICAgIHZhciBub3cgPSBEYXRlLm5vdygpO1xuICAgICAgICAgICAgdmFyIGVsYXBzZWRUaW1lID0gbm93IC0gc3RhcnRUaW1lO1xuXG4gICAgICAgICAgICBpZiAoZWxhcHNlZFRpbWUgPCBkdXJhdGlvbikge1xuICAgICAgICAgICAgICBzY3JvbGxUbyhcbiAgICAgICAgICAgICAgICAgIHRpbWluZ0ZuKFxuICAgICAgICAgICAgICAgICAgICAgIGVsYXBzZWRUaW1lLFxuICAgICAgICAgICAgICAgICAgICAgIGN1cnJlbnRTY3JvbGxMZWZ0LFxuICAgICAgICAgICAgICAgICAgICAgIGRlbHRhU2Nyb2xsTGVmdCxcbiAgICAgICAgICAgICAgICAgICAgICBkdXJhdGlvbiksXG4gICAgICAgICAgICAgICAgICB0aW1pbmdGbihcbiAgICAgICAgICAgICAgICAgICAgICBlbGFwc2VkVGltZSwgY3VycmVudFNjcm9sbFRvcCwgZGVsdGFTY3JvbGxUb3AsIGR1cmF0aW9uKSk7XG4gICAgICAgICAgICAgIHJlcXVlc3RBbmltYXRpb25GcmFtZSh1cGRhdGVGcmFtZSk7XG4gICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICBzY3JvbGxUbyhzY3JvbGxMZWZ0LCBzY3JvbGxUb3ApO1xuICAgICAgICAgICAgfVxuICAgICAgICAgIH0pLmJpbmQodGhpcyk7XG5cbiAgICAgIHVwZGF0ZUZyYW1lKCk7XG4gICAgfVxuXG4gIH0gZWxzZSBpZiAob3B0aW9ucy5iZWhhdmlvciA9PT0gJ3NpbGVudCcpIHtcbiAgICB2YXIgaGVhZGVycyA9IHF1ZXJ5QWxsUm9vdCgnYXBwLWhlYWRlcicsIGRvY3VtZW50LmJvZHkpO1xuXG4gICAgaGVhZGVycy5mb3JFYWNoKGZ1bmN0aW9uKGhlYWRlcikge1xuICAgICAgaGVhZGVyLnNldEF0dHJpYnV0ZSgnc2lsZW50LXNjcm9sbCcsICcnKTtcbiAgICB9KTtcblxuICAgIC8vIEJyb3dzZXJzIGtlZXAgdGhlIHNjcm9sbCBtb21lbnR1bSBldmVuIGlmIHRoZSBib3R0b20gb2YgdGhlIHNjcm9sbGluZ1xuICAgIC8vIGNvbnRlbnQgd2FzIHJlYWNoZWQuIFRoaXMgbWVhbnMgdGhhdCBjYWxsaW5nIHNjcm9sbCh7dG9wOiAwLCBiZWhhdmlvcjpcbiAgICAvLyAnc2lsZW50J30pIHdoZW4gdGhlIG1vbWVudHVtIGlzIHN0aWxsIGdvaW5nIHdpbGwgcmVzdWx0IGluIG1vcmUgc2Nyb2xsXG4gICAgLy8gZXZlbnRzIGFuZCB0aHVzIHNjcm9sbCBlZmZlY3RzLiBUaGlzIHNlZW1zIHRvIG9ubHkgYXBwbHkgd2hlbiB1c2luZ1xuICAgIC8vIGRvY3VtZW50IHNjcm9sbGluZy4gVGhlcmVmb3JlLCB3aGVuIHNob3VsZCB3ZSByZW1vdmUgdGhlIGNsYXNzIGZyb20gdGhlXG4gICAgLy8gZG9jdW1lbnQgZWxlbWVudD9cblxuICAgIGlmIChfc2Nyb2xsVGltZXIpIHtcbiAgICAgIHdpbmRvdy5jYW5jZWxBbmltYXRpb25GcmFtZShfc2Nyb2xsVGltZXIpO1xuICAgIH1cblxuICAgIF9zY3JvbGxUaW1lciA9IHdpbmRvdy5yZXF1ZXN0QW5pbWF0aW9uRnJhbWUoZnVuY3Rpb24oKSB7XG4gICAgICBoZWFkZXJzLmZvckVhY2goZnVuY3Rpb24oaGVhZGVyKSB7XG4gICAgICAgIGhlYWRlci5yZW1vdmVBdHRyaWJ1dGUoJ3NpbGVudC1zY3JvbGwnKTtcbiAgICAgIH0pO1xuICAgICAgX3Njcm9sbFRpbWVyID0gbnVsbDtcbiAgICB9KTtcblxuICAgIHNjcm9sbFRvKHNjcm9sbExlZnQsIHNjcm9sbFRvcCk7XG5cbiAgfSBlbHNlIHtcbiAgICBzY3JvbGxUbyhzY3JvbGxMZWZ0LCBzY3JvbGxUb3ApO1xuICB9XG59O1xuIiwiLyoqXG5AbGljZW5zZVxuQ29weXJpZ2h0IChjKSAyMDE2IFRoZSBQb2x5bWVyIFByb2plY3QgQXV0aG9ycy4gQWxsIHJpZ2h0cyByZXNlcnZlZC5cblRoaXMgY29kZSBtYXkgb25seSBiZSB1c2VkIHVuZGVyIHRoZSBCU0Qgc3R5bGUgbGljZW5zZSBmb3VuZCBhdFxuaHR0cDovL3BvbHltZXIuZ2l0aHViLmlvL0xJQ0VOU0UudHh0IFRoZSBjb21wbGV0ZSBzZXQgb2YgYXV0aG9ycyBtYXkgYmUgZm91bmQgYXRcbmh0dHA6Ly9wb2x5bWVyLmdpdGh1Yi5pby9BVVRIT1JTLnR4dCBUaGUgY29tcGxldGUgc2V0IG9mIGNvbnRyaWJ1dG9ycyBtYXkgYmVcbmZvdW5kIGF0IGh0dHA6Ly9wb2x5bWVyLmdpdGh1Yi5pby9DT05UUklCVVRPUlMudHh0IENvZGUgZGlzdHJpYnV0ZWQgYnkgR29vZ2xlIGFzXG5wYXJ0IG9mIHRoZSBwb2x5bWVyIHByb2plY3QgaXMgYWxzbyBzdWJqZWN0IHRvIGFuIGFkZGl0aW9uYWwgSVAgcmlnaHRzIGdyYW50XG5mb3VuZCBhdCBodHRwOi8vcG9seW1lci5naXRodWIuaW8vUEFURU5UUy50eHRcbiovXG5pbXBvcnQgJ0Bwb2x5bWVyL3BvbHltZXIvcG9seW1lci1sZWdhY3kuanMnO1xuXG5pbXBvcnQge0lyb25TY3JvbGxUYXJnZXRCZWhhdmlvcn0gZnJvbSAnQHBvbHltZXIvaXJvbi1zY3JvbGwtdGFyZ2V0LWJlaGF2aW9yL2lyb24tc2Nyb2xsLXRhcmdldC1iZWhhdmlvci5qcyc7XG5pbXBvcnQge19zY3JvbGxFZmZlY3RzfSBmcm9tICcuLi9oZWxwZXJzL2hlbHBlcnMuanMnO1xuXG4vKipcbiAqIGBQb2x5bWVyLkFwcFNjcm9sbEVmZmVjdHNCZWhhdmlvcmAgcHJvdmlkZXMgYW4gaW50ZXJmYWNlIHRoYXQgYWxsb3dzIGFuXG4gKiBlbGVtZW50IHRvIHVzZSBzY3JvbGxzIGVmZmVjdHMuXG4gKlxuICogIyMjIEltcG9ydGluZyB0aGUgYXBwLWxheW91dCBlZmZlY3RzXG4gKlxuICogYXBwLWxheW91dCBwcm92aWRlcyBhIHNldCBvZiBzY3JvbGwgZWZmZWN0cyB0aGF0IGNhbiBiZSB1c2VkIGJ5IGV4cGxpY2l0bHlcbiAqIGltcG9ydGluZyBgYXBwLXNjcm9sbC1lZmZlY3RzLmpzYDpcbiAqXG4gKiBgYGBqc1xuICogaW1wb3J0ICdAcG9seW1lci9hcHAtbGF5b3V0L2FwcC1zY3JvbGwtZWZmZWN0cy9hcHAtc2Nyb2xsLWVmZmVjdHMuanMnO1xuICogYGBgXG4gKlxuICogVGhlIHNjcm9sbCBlZmZlY3RzIGNhbiBhbHNvIGJlIHVzZWQgYnkgaW5kaXZpZHVhbGx5IGltcG9ydGluZ1xuICogYEBwb2x5bWVyL2FwcC1sYXlvdXQvYXBwLXNjcm9sbC1lZmZlY3RzL2VmZmVjdHMvW2VmZmVjdE5hbWVdLmpzYC4gRm9yXG4gKiBleGFtcGxlOlxuICpcbiAqIGBgYGpzXG4gKiBpbXBvcnQgJ0Bwb2x5bWVyL2FwcC1sYXlvdXQvYXBwLXNjcm9sbC1lZmZlY3RzL2VmZmVjdHMvd2F0ZXJmYWxsLmpzJztcbiAqIGBgYFxuICpcbiAqICMjIyBDb25zdW1pbmcgZWZmZWN0c1xuICpcbiAqIEVmZmVjdHMgY2FuIGJlIGNvbnN1bWVkIHZpYSB0aGUgYGVmZmVjdHNgIHByb3BlcnR5LiBGb3IgZXhhbXBsZTpcbiAqXG4gKiBgYGBodG1sXG4gKiA8YXBwLWhlYWRlciBlZmZlY3RzPVwid2F0ZXJmYWxsXCI+PC9hcHAtaGVhZGVyPlxuICogYGBgXG4gKlxuICogIyMjIENyZWF0aW5nIHNjcm9sbCBlZmZlY3RzXG4gKlxuICogWW91IG1heSB3YW50IHRvIGNyZWF0ZSBhIGN1c3RvbSBzY3JvbGwgZWZmZWN0IGlmIHlvdSBuZWVkIHRvIG1vZGlmeSB0aGUgQ1NTXG4gKiBvZiBhbiBlbGVtZW50IGJhc2VkIG9uIHRoZSBzY3JvbGwgcG9zaXRpb24uXG4gKlxuICogQSBzY3JvbGwgZWZmZWN0IGRlZmluaXRpb24gaXMgYW4gb2JqZWN0IHdpdGggYHNldFVwKClgLCBgdGVhckRvd24oKWAgYW5kXG4gKiBgcnVuKClgIGZ1bmN0aW9ucy5cbiAqXG4gKiBUbyByZWdpc3RlciB0aGUgZWZmZWN0LCB5b3UgY2FuIHVzZVxuICogYFBvbHltZXIuQXBwTGF5b3V0LnJlZ2lzdGVyRWZmZWN0KGVmZmVjdE5hbWUsIGVmZmVjdERlZilgIEZvciBleGFtcGxlLCBsZXQnc1xuICogZGVmaW5lIGFuIGVmZmVjdCB0aGF0IHJlc2l6ZXMgdGhlIGhlYWRlcidzIGxvZ286XG4gKlxuICogYGBganNcbiAqIFBvbHltZXIuQXBwTGF5b3V0LnJlZ2lzdGVyRWZmZWN0KCdyZXNpemFibGUtbG9nbycsIHtcbiAqICAgc2V0VXA6IGZ1bmN0aW9uKGNvbmZpZykge1xuICogICAgIC8vIHRoZSBlZmZlY3QncyBjb25maWcgaXMgcGFzc2VkIHRvIHRoZSBzZXRVcC5cbiAqICAgICB0aGlzLl9meFJlc2l6ZUxvZ28gPSB7IGxvZ286IFBvbHltZXIuZG9tKHRoaXMpLnF1ZXJ5U2VsZWN0b3IoJ1tsb2dvXScpIH07XG4gKiAgIH0sXG4gKlxuICogICBydW46IGZ1bmN0aW9uKHByb2dyZXNzKSB7XG4gKiAgICAgIC8vIHRoZSBwcm9ncmVzcyBvZiB0aGUgZWZmZWN0XG4gKiAgICAgIHRoaXMudHJhbnNmb3JtKCdzY2FsZTNkKCcgKyBwcm9ncmVzcyArICcsICcrIHByb2dyZXNzICsnLCAxKScsXG4gKiB0aGlzLl9meFJlc2l6ZUxvZ28ubG9nbyk7XG4gKiAgIH0sXG4gKlxuICogICB0ZWFyRG93bjogZnVuY3Rpb24oKSB7XG4gKiAgICAgIC8vIGNsZWFuIHVwIGFuZCByZXNldCBvZiBzdGF0ZXNcbiAqICAgICAgZGVsZXRlIHRoaXMuX2Z4UmVzaXplTG9nbztcbiAqICAgfVxuICogfSk7XG4gKiBgYGBcbiAqIE5vdywgeW91IGNhbiBjb25zdW1lIHRoZSBlZmZlY3Q6XG4gKlxuICogYGBgaHRtbFxuICogPGFwcC1oZWFkZXIgaWQ9XCJhcHBIZWFkZXJcIiBlZmZlY3RzPVwicmVzaXphYmxlLWxvZ29cIj5cbiAqICAgPGltZyBsb2dvIHNyYz1cImxvZ28uc3ZnXCI+XG4gKiA8L2FwcC1oZWFkZXI+XG4gKiBgYGBcbiAqXG4gKiAjIyMgSW1wZXJhdGl2ZSBBUElcbiAqXG4gKiBgYGBqc1xuICogdmFyIGxvZ29FZmZlY3QgPSBhcHBIZWFkZXIuY3JlYXRlRWZmZWN0KCdyZXNpemFibGUtbG9nbycsIGVmZmVjdENvbmZpZyk7XG4gKiAvLyBydW4gdGhlIGVmZmVjdDogbG9nb0VmZmVjdC5ydW4ocHJvZ3Jlc3MpO1xuICogLy8gdGVhciBkb3duIHRoZSBlZmZlY3Q6IGxvZ29FZmZlY3QudGVhckRvd24oKTtcbiAqIGBgYFxuICpcbiAqICMjIyBDb25maWd1cmluZyBlZmZlY3RzXG4gKlxuICogRm9yIGVmZmVjdHMgaW5zdGFsbGVkIHZpYSB0aGUgYGVmZmVjdHNgIHByb3BlcnR5LCB0aGVpciBjb25maWd1cmF0aW9uIGNhbiBiZVxuICogc2V0IHZpYSB0aGUgYGVmZmVjdHNDb25maWdgIHByb3BlcnR5LiBGb3IgZXhhbXBsZTpcbiAqXG4gKiBgYGBodG1sXG4gKiA8YXBwLWhlYWRlciBlZmZlY3RzPVwid2F0ZXJmYWxsXCJcbiAqICAgZWZmZWN0cy1jb25maWc9J3tcIndhdGVyZmFsbFwiOiB7XCJzdGFydHNBdFwiOiAwLCBcImVuZHNBdFwiOiAwLjV9fSc+XG4gKiA8L2FwcC1oZWFkZXI+XG4gKiBgYGBcbiAqXG4gKiBBbGwgZWZmZWN0cyBoYXZlIGEgYHN0YXJ0c0F0YCBhbmQgYGVuZHNBdGAgY29uZmlnIHByb3BlcnR5LiBUaGV5IHNwZWNpZnkgYXRcbiAqIHdoYXQgcG9pbnQgdGhlIGVmZmVjdCBzaG91bGQgc3RhcnQgYW5kIGVuZC4gVGhpcyB2YWx1ZSBnb2VzIGZyb20gMCB0byAxXG4gKiBpbmNsdXNpdmUuXG4gKlxuICogQHBvbHltZXJCZWhhdmlvclxuICovXG5leHBvcnQgY29uc3QgQXBwU2Nyb2xsRWZmZWN0c0JlaGF2aW9yID0gW1xuICBJcm9uU2Nyb2xsVGFyZ2V0QmVoYXZpb3IsXG4gIHtcblxuICAgIHByb3BlcnRpZXM6IHtcblxuICAgICAgLyoqXG4gICAgICAgKiBBIHNwYWNlLXNlcGFyYXRlZCBsaXN0IG9mIHRoZSBlZmZlY3RzIG5hbWVzIHRoYXQgd2lsbCBiZSB0cmlnZ2VyZWQgd2hlblxuICAgICAgICogdGhlIHVzZXIgc2Nyb2xscy4gZS5nLiBgd2F0ZXJmYWxsIHBhcmFsbGF4LWJhY2tncm91bmRgIGluc3RhbGxzIHRoZVxuICAgICAgICogYHdhdGVyZmFsbGAgYW5kIGBwYXJhbGxheC1iYWNrZ3JvdW5kYC5cbiAgICAgICAqL1xuICAgICAgZWZmZWN0czoge3R5cGU6IFN0cmluZ30sXG5cbiAgICAgIC8qKlxuICAgICAgICogQW4gb2JqZWN0IHRoYXQgY29uZmlndXJhdGVzIHRoZSBlZmZlY3RzIGluc3RhbGxlZCB2aWEgdGhlIGBlZmZlY3RzYFxuICAgICAgICogcHJvcGVydHkuIGUuZy5cbiAgICAgICAqIGBgYGpzXG4gICAgICAgKiAgZWxlbWVudC5lZmZlY3RzQ29uZmlnID0ge1xuICAgICAgICogICBcImJsZW5kLWJhY2tncm91bmRcIjoge1xuICAgICAgICogICAgIFwic3RhcnRzQXRcIjogMC41XG4gICAgICAgKiAgIH1cbiAgICAgICAqIH07XG4gICAgICAgKiBgYGBcbiAgICAgICAqIEV2ZXJ5IGVmZmVjdCBoYXMgYXQgbGVhc3QgdHdvIGNvbmZpZyBwcm9wZXJ0aWVzOiBgc3RhcnRzQXRgIGFuZFxuICAgICAgICogYGVuZHNBdGAuIFRoZXNlIHByb3BlcnRpZXMgaW5kaWNhdGUgd2hlbiB0aGUgZXZlbnQgc2hvdWxkIHN0YXJ0IGFuZCBlbmRcbiAgICAgICAqIHJlc3BlY3RpdmVseSBhbmQgcmVsYXRpdmUgdG8gdGhlIG92ZXJhbGwgZWxlbWVudCBwcm9ncmVzcy4gU28gZm9yXG4gICAgICAgKiBleGFtcGxlLCBpZiBgYmxlbmQtYmFja2dyb3VuZGAgc3RhcnRzIGF0IGAwLjVgLCB0aGUgZWZmZWN0IHdpbGwgb25seVxuICAgICAgICogc3RhcnQgb25jZSB0aGUgY3VycmVudCBlbGVtZW50IHJlYWNoZXMgMC41IG9mIGl0cyBwcm9ncmVzcy4gSW4gdGhpc1xuICAgICAgICogY29udGV4dCwgdGhlIHByb2dyZXNzIGlzIGEgdmFsdWUgaW4gdGhlIHJhbmdlIG9mIGBbMCwgMV1gIHRoYXRcbiAgICAgICAqIGluZGljYXRlcyB3aGVyZSB0aGlzIGVsZW1lbnQgaXMgb24gdGhlIHNjcmVlbiByZWxhdGl2ZSB0byB0aGUgdmlld3BvcnQuXG4gICAgICAgKi9cbiAgICAgIGVmZmVjdHNDb25maWc6IHtcbiAgICAgICAgdHlwZTogT2JqZWN0LFxuICAgICAgICB2YWx1ZTogZnVuY3Rpb24oKSB7XG4gICAgICAgICAgcmV0dXJuIHt9O1xuICAgICAgICB9XG4gICAgICB9LFxuXG4gICAgICAvKipcbiAgICAgICAqIERpc2FibGVzIENTUyB0cmFuc2l0aW9ucyBhbmQgc2Nyb2xsIGVmZmVjdHMgb24gdGhlIGVsZW1lbnQuXG4gICAgICAgKi9cbiAgICAgIGRpc2FibGVkOiB7dHlwZTogQm9vbGVhbiwgcmVmbGVjdFRvQXR0cmlidXRlOiB0cnVlLCB2YWx1ZTogZmFsc2V9LFxuXG4gICAgICAvKipcbiAgICAgICAqIEFsbG93cyB0byBzZXQgYSBgc2Nyb2xsVG9wYCB0aHJlc2hvbGQuIFdoZW4gZ3JlYXRlciB0aGFuIDAsXG4gICAgICAgKiBgdGhyZXNob2xkVHJpZ2dlcmVkYCBpcyB0cnVlIG9ubHkgd2hlbiB0aGUgc2Nyb2xsIHRhcmdldCdzIGBzY3JvbGxUb3BgXG4gICAgICAgKiBoYXMgcmVhY2hlZCB0aGlzIHZhbHVlLlxuICAgICAgICpcbiAgICAgICAqIEZvciBleGFtcGxlLCBpZiBgdGhyZXNob2xkID0gMTAwYCwgYHRocmVzaG9sZFRyaWdnZXJlZGAgaXMgdHJ1ZSB3aGVuXG4gICAgICAgKiB0aGUgYHNjcm9sbFRvcGAgaXMgYXQgbGVhc3QgYDEwMGAuXG4gICAgICAgKi9cbiAgICAgIHRocmVzaG9sZDoge3R5cGU6IE51bWJlciwgdmFsdWU6IDB9LFxuXG4gICAgICAvKipcbiAgICAgICAqIFRydWUgaWYgdGhlIGBzY3JvbGxUb3BgIHRocmVzaG9sZCAoc2V0IGluIGBzY3JvbGxUb3BUaHJlc2hvbGRgKSBoYXNcbiAgICAgICAqIGJlZW4gcmVhY2hlZC5cbiAgICAgICAqL1xuICAgICAgdGhyZXNob2xkVHJpZ2dlcmVkOiB7XG4gICAgICAgIHR5cGU6IEJvb2xlYW4sXG4gICAgICAgIG5vdGlmeTogdHJ1ZSxcbiAgICAgICAgcmVhZE9ubHk6IHRydWUsXG4gICAgICAgIHJlZmxlY3RUb0F0dHJpYnV0ZTogdHJ1ZVxuICAgICAgfVxuICAgIH0sXG5cbiAgICBvYnNlcnZlcnM6IFsnX2VmZmVjdHNDaGFuZ2VkKGVmZmVjdHMsIGVmZmVjdHNDb25maWcsIGlzQXR0YWNoZWQpJ10sXG5cbiAgICAvKipcbiAgICAgKiBVcGRhdGVzIHRoZSBzY3JvbGwgc3RhdGUuIFRoaXMgbWV0aG9kIHNob3VsZCBiZSBvdmVycmlkZGVuXG4gICAgICogYnkgdGhlIGNvbnN1bWVyIG9mIHRoaXMgYmVoYXZpb3IuXG4gICAgICpcbiAgICAgKiBAbWV0aG9kIF91cGRhdGVTY3JvbGxTdGF0ZVxuICAgICAqIEBwYXJhbSB7bnVtYmVyfSBzY3JvbGxUb3BcbiAgICAgKi9cbiAgICBfdXBkYXRlU2Nyb2xsU3RhdGU6IGZ1bmN0aW9uKHNjcm9sbFRvcCkge30sXG5cbiAgICAvKipcbiAgICAgKiBSZXR1cm5zIHRydWUgaWYgdGhlIGN1cnJlbnQgZWxlbWVudCBpcyBvbiB0aGUgc2NyZWVuLlxuICAgICAqIFRoYXQgaXMsIHZpc2libGUgaW4gdGhlIGN1cnJlbnQgdmlld3BvcnQuIFRoaXMgbWV0aG9kIHNob3VsZCBiZVxuICAgICAqIG92ZXJyaWRkZW4gYnkgdGhlIGNvbnN1bWVyIG9mIHRoaXMgYmVoYXZpb3IuXG4gICAgICpcbiAgICAgKiBAbWV0aG9kIGlzT25TY3JlZW5cbiAgICAgKiBAcmV0dXJuIHtib29sZWFufVxuICAgICAqL1xuICAgIGlzT25TY3JlZW46IGZ1bmN0aW9uKCkge1xuICAgICAgcmV0dXJuIGZhbHNlO1xuICAgIH0sXG5cbiAgICAvKipcbiAgICAgKiBSZXR1cm5zIHRydWUgaWYgdGhlcmUncyBjb250ZW50IGJlbG93IHRoZSBjdXJyZW50IGVsZW1lbnQuIFRoaXMgbWV0aG9kXG4gICAgICogc2hvdWxkIGJlIG92ZXJyaWRkZW4gYnkgdGhlIGNvbnN1bWVyIG9mIHRoaXMgYmVoYXZpb3IuXG4gICAgICpcbiAgICAgKiBAbWV0aG9kIGlzQ29udGVudEJlbG93XG4gICAgICogQHJldHVybiB7Ym9vbGVhbn1cbiAgICAgKi9cbiAgICBpc0NvbnRlbnRCZWxvdzogZnVuY3Rpb24oKSB7XG4gICAgICByZXR1cm4gZmFsc2U7XG4gICAgfSxcblxuICAgIC8qKlxuICAgICAqIExpc3Qgb2YgZWZmZWN0cyBoYW5kbGVycyB0aGF0IHdpbGwgdGFrZSBwbGFjZSBkdXJpbmcgc2Nyb2xsLlxuICAgICAqXG4gICAgICogQHR5cGUge0FycmF5PEZ1bmN0aW9uPn1cbiAgICAgKi9cbiAgICBfZWZmZWN0c1J1bkZuOiBudWxsLFxuXG4gICAgLyoqXG4gICAgICogTGlzdCBvZiB0aGUgZWZmZWN0cyBkZWZpbml0aW9ucyBpbnN0YWxsZWQgdmlhIHRoZSBgZWZmZWN0c2AgcHJvcGVydHkuXG4gICAgICpcbiAgICAgKiBAdHlwZSB7QXJyYXk8T2JqZWN0Pn1cbiAgICAgKi9cbiAgICBfZWZmZWN0czogbnVsbCxcblxuICAgIC8qKlxuICAgICAqIFRoZSBjbGFtcGVkIHZhbHVlIG9mIGBfc2Nyb2xsVG9wYC5cbiAgICAgKiBAdHlwZSBudW1iZXJcbiAgICAgKi9cbiAgICBnZXQgX2NsYW1wZWRTY3JvbGxUb3AoKSB7XG4gICAgICByZXR1cm4gTWF0aC5tYXgoMCwgdGhpcy5fc2Nyb2xsVG9wKTtcbiAgICB9LFxuXG4gICAgYXR0YWNoZWQ6IGZ1bmN0aW9uKCkge1xuICAgICAgdGhpcy5fc2Nyb2xsU3RhdGVDaGFuZ2VkKCk7XG4gICAgfSxcblxuICAgIGRldGFjaGVkOiBmdW5jdGlvbigpIHtcbiAgICAgIHRoaXMuX3RlYXJEb3duRWZmZWN0cygpO1xuICAgIH0sXG5cbiAgICAvKipcbiAgICAgKiBDcmVhdGVzIGFuIGVmZmVjdCBvYmplY3QgZnJvbSBhbiBlZmZlY3QncyBuYW1lIHRoYXQgY2FuIGJlIHVzZWQgdG8gcnVuXG4gICAgICogZWZmZWN0cyBwcm9ncmFtbWF0aWNhbGx5LlxuICAgICAqXG4gICAgICogQG1ldGhvZCBjcmVhdGVFZmZlY3RcbiAgICAgKiBAcGFyYW0ge3N0cmluZ30gZWZmZWN0TmFtZSBUaGUgZWZmZWN0J3MgbmFtZSByZWdpc3RlcmVkIHZpYSBgUG9seW1lci5BcHBMYXlvdXQucmVnaXN0ZXJFZmZlY3RgLlxuICAgICAqIEBwYXJhbSB7T2JqZWN0PX0gZWZmZWN0Q29uZmlnIFRoZSBlZmZlY3QgY29uZmlnIG9iamVjdC4gKE9wdGlvbmFsKVxuICAgICAqIEByZXR1cm4ge09iamVjdH0gQW4gZWZmZWN0IG9iamVjdCB3aXRoIHRoZSBmb2xsb3dpbmcgZnVuY3Rpb25zOlxuICAgICAqXG4gICAgICogICogYGVmZmVjdC5zZXRVcCgpYCwgU2V0cyB1cCB0aGUgcmVxdWlyZW1lbnRzIGZvciB0aGUgZWZmZWN0LlxuICAgICAqICAgICAgIFRoaXMgZnVuY3Rpb24gaXMgY2FsbGVkIGF1dG9tYXRpY2FsbHkgYmVmb3JlIHRoZSBgZWZmZWN0YCBmdW5jdGlvblxuICAgICAqIHJldHVybnMuXG4gICAgICogICogYGVmZmVjdC5ydW4ocHJvZ3Jlc3MsIHkpYCwgUnVucyB0aGUgZWZmZWN0IGdpdmVuIGEgYHByb2dyZXNzYC5cbiAgICAgKiAgKiBgZWZmZWN0LnRlYXJEb3duKClgLCBDbGVhbnMgdXAgYW55IERPTSBub2RlcyBvciBlbGVtZW50IHJlZmVyZW5jZXNcbiAgICAgKiB1c2VkIGJ5IHRoZSBlZmZlY3QuXG4gICAgICpcbiAgICAgKiBFeGFtcGxlOlxuICAgICAqIGBgYGpzXG4gICAgICogdmFyIHBhcmFsbGF4ID0gZWxlbWVudC5jcmVhdGVFZmZlY3QoJ3BhcmFsbGF4LWJhY2tncm91bmQnKTtcbiAgICAgKiAvLyBydW5zIHRoZSBlZmZlY3RcbiAgICAgKiBwYXJhbGxheC5ydW4oMC41LCAwKTtcbiAgICAgKiBgYGBcbiAgICAgKi9cbiAgICBjcmVhdGVFZmZlY3Q6IGZ1bmN0aW9uKGVmZmVjdE5hbWUsIGVmZmVjdENvbmZpZykge1xuICAgICAgdmFyIGVmZmVjdERlZiA9IF9zY3JvbGxFZmZlY3RzW2VmZmVjdE5hbWVdO1xuICAgICAgaWYgKCFlZmZlY3REZWYpIHtcbiAgICAgICAgdGhyb3cgbmV3IFJlZmVyZW5jZUVycm9yKHRoaXMuX2dldFVuZGVmaW5lZE1zZyhlZmZlY3ROYW1lKSk7XG4gICAgICB9XG4gICAgICB2YXIgcHJvcCA9IHRoaXMuX2JvdW5kRWZmZWN0KGVmZmVjdERlZiwgZWZmZWN0Q29uZmlnIHx8IHt9KTtcbiAgICAgIHByb3Auc2V0VXAoKTtcbiAgICAgIHJldHVybiBwcm9wO1xuICAgIH0sXG5cbiAgICAvKipcbiAgICAgKiBDYWxsZWQgd2hlbiBgZWZmZWN0c2Agb3IgYGVmZmVjdHNDb25maWdgIGNoYW5nZXMuXG4gICAgICovXG4gICAgX2VmZmVjdHNDaGFuZ2VkOiBmdW5jdGlvbihlZmZlY3RzLCBlZmZlY3RzQ29uZmlnLCBpc0F0dGFjaGVkKSB7XG4gICAgICB0aGlzLl90ZWFyRG93bkVmZmVjdHMoKTtcblxuICAgICAgaWYgKCFlZmZlY3RzIHx8ICFpc0F0dGFjaGVkKSB7XG4gICAgICAgIHJldHVybjtcbiAgICAgIH1cbiAgICAgIGVmZmVjdHMuc3BsaXQoJyAnKS5mb3JFYWNoKGZ1bmN0aW9uKGVmZmVjdE5hbWUpIHtcbiAgICAgICAgdmFyIGVmZmVjdERlZjtcbiAgICAgICAgaWYgKGVmZmVjdE5hbWUgIT09ICcnKSB7XG4gICAgICAgICAgaWYgKChlZmZlY3REZWYgPSBfc2Nyb2xsRWZmZWN0c1tlZmZlY3ROYW1lXSkpIHtcbiAgICAgICAgICAgIHRoaXMuX2VmZmVjdHMucHVzaChcbiAgICAgICAgICAgICAgICB0aGlzLl9ib3VuZEVmZmVjdChlZmZlY3REZWYsIGVmZmVjdHNDb25maWdbZWZmZWN0TmFtZV0pKTtcbiAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgY29uc29sZS53YXJuKHRoaXMuX2dldFVuZGVmaW5lZE1zZyhlZmZlY3ROYW1lKSk7XG4gICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICB9LCB0aGlzKTtcblxuICAgICAgdGhpcy5fc2V0VXBFZmZlY3QoKTtcbiAgICB9LFxuXG4gICAgLyoqXG4gICAgICogRm9yY2VzIGxheW91dFxuICAgICAqL1xuICAgIF9sYXlvdXRJZkRpcnR5OiBmdW5jdGlvbigpIHtcbiAgICAgIHJldHVybiB0aGlzLm9mZnNldFdpZHRoO1xuICAgIH0sXG5cbiAgICAvKipcbiAgICAgKiBSZXR1cm5zIGFuIGVmZmVjdCBvYmplY3QgYm91bmQgdG8gdGhlIGN1cnJlbnQgY29udGV4dC5cbiAgICAgKlxuICAgICAqIEBwYXJhbSB7T2JqZWN0fSBlZmZlY3REZWZcbiAgICAgKiBAcGFyYW0ge09iamVjdD19IGVmZmVjdHNDb25maWcgVGhlIGVmZmVjdCBjb25maWcgb2JqZWN0IGlmIHRoZSBlZmZlY3QgYWNjZXB0cyBjb25maWcgdmFsdWVzLiAoT3B0aW9uYWwpXG4gICAgICovXG4gICAgX2JvdW5kRWZmZWN0OiBmdW5jdGlvbihlZmZlY3REZWYsIGVmZmVjdHNDb25maWcpIHtcbiAgICAgIGVmZmVjdHNDb25maWcgPSBlZmZlY3RzQ29uZmlnIHx8IHt9O1xuICAgICAgdmFyIHN0YXJ0c0F0ID0gcGFyc2VGbG9hdChlZmZlY3RzQ29uZmlnLnN0YXJ0c0F0IHx8IDApO1xuICAgICAgdmFyIGVuZHNBdCA9IHBhcnNlRmxvYXQoZWZmZWN0c0NvbmZpZy5lbmRzQXQgfHwgMSk7XG4gICAgICB2YXIgZGVsdGFTID0gZW5kc0F0IC0gc3RhcnRzQXQ7XG4gICAgICB2YXIgbm9vcCA9IGZ1bmN0aW9uKCkge307XG4gICAgICAvLyBmYXN0IHBhdGggaWYgcG9zc2libGVcbiAgICAgIHZhciBydW5GbiA9IChzdGFydHNBdCA9PT0gMCAmJiBlbmRzQXQgPT09IDEpID9cbiAgICAgICAgICBlZmZlY3REZWYucnVuIDpcbiAgICAgICAgICBmdW5jdGlvbihwcm9ncmVzcywgeSkge1xuICAgICAgICAgICAgZWZmZWN0RGVmLnJ1bi5jYWxsKFxuICAgICAgICAgICAgICAgIHRoaXMsIE1hdGgubWF4KDAsIChwcm9ncmVzcyAtIHN0YXJ0c0F0KSAvIGRlbHRhUyksIHkpO1xuICAgICAgICAgIH07XG4gICAgICByZXR1cm4ge1xuICAgICAgICBzZXRVcDogZWZmZWN0RGVmLnNldFVwID8gZWZmZWN0RGVmLnNldFVwLmJpbmQodGhpcywgZWZmZWN0c0NvbmZpZykgOlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgbm9vcCxcbiAgICAgICAgcnVuOiBlZmZlY3REZWYucnVuID8gcnVuRm4uYmluZCh0aGlzKSA6IG5vb3AsXG4gICAgICAgIHRlYXJEb3duOiBlZmZlY3REZWYudGVhckRvd24gPyBlZmZlY3REZWYudGVhckRvd24uYmluZCh0aGlzKSA6IG5vb3BcbiAgICAgIH07XG4gICAgfSxcblxuICAgIC8qKlxuICAgICAqIFNldHMgdXAgdGhlIGVmZmVjdHMuXG4gICAgICovXG4gICAgX3NldFVwRWZmZWN0OiBmdW5jdGlvbigpIHtcbiAgICAgIGlmICh0aGlzLmlzQXR0YWNoZWQgJiYgdGhpcy5fZWZmZWN0cykge1xuICAgICAgICB0aGlzLl9lZmZlY3RzUnVuRm4gPSBbXTtcbiAgICAgICAgdGhpcy5fZWZmZWN0cy5mb3JFYWNoKGZ1bmN0aW9uKGVmZmVjdERlZikge1xuICAgICAgICAgIC8vIGluc3RhbGwgdGhlIGVmZmVjdCBvbmx5IGlmIG5vIGVycm9yIHdhcyByZXBvcnRlZFxuICAgICAgICAgIGlmIChlZmZlY3REZWYuc2V0VXAoKSAhPT0gZmFsc2UpIHtcbiAgICAgICAgICAgIHRoaXMuX2VmZmVjdHNSdW5Gbi5wdXNoKGVmZmVjdERlZi5ydW4pO1xuICAgICAgICAgIH1cbiAgICAgICAgfSwgdGhpcyk7XG4gICAgICB9XG4gICAgfSxcblxuICAgIC8qKlxuICAgICAqIFRlYXJzIGRvd24gdGhlIGVmZmVjdHMuXG4gICAgICovXG4gICAgX3RlYXJEb3duRWZmZWN0czogZnVuY3Rpb24oKSB7XG4gICAgICBpZiAodGhpcy5fZWZmZWN0cykge1xuICAgICAgICB0aGlzLl9lZmZlY3RzLmZvckVhY2goZnVuY3Rpb24oZWZmZWN0RGVmKSB7XG4gICAgICAgICAgZWZmZWN0RGVmLnRlYXJEb3duKCk7XG4gICAgICAgIH0pO1xuICAgICAgfVxuICAgICAgdGhpcy5fZWZmZWN0c1J1bkZuID0gW107XG4gICAgICB0aGlzLl9lZmZlY3RzID0gW107XG4gICAgfSxcblxuICAgIC8qKlxuICAgICAqIFJ1bnMgdGhlIGVmZmVjdHMuXG4gICAgICpcbiAgICAgKiBAcGFyYW0ge251bWJlcn0gcCBUaGUgcHJvZ3Jlc3NcbiAgICAgKiBAcGFyYW0ge251bWJlcn0geSBUaGUgdG9wIHBvc2l0aW9uIG9mIHRoZSBjdXJyZW50IGVsZW1lbnQgcmVsYXRpdmUgdG8gdGhlIHZpZXdwb3J0LlxuICAgICAqL1xuICAgIF9ydW5FZmZlY3RzOiBmdW5jdGlvbihwLCB5KSB7XG4gICAgICBpZiAodGhpcy5fZWZmZWN0c1J1bkZuKSB7XG4gICAgICAgIHRoaXMuX2VmZmVjdHNSdW5Gbi5mb3JFYWNoKGZ1bmN0aW9uKHJ1bikge1xuICAgICAgICAgIHJ1bihwLCB5KTtcbiAgICAgICAgfSk7XG4gICAgICB9XG4gICAgfSxcblxuICAgIC8qKlxuICAgICAqIE92ZXJyaWRlcyB0aGUgYF9zY3JvbGxIYW5kbGVyYC5cbiAgICAgKi9cbiAgICBfc2Nyb2xsSGFuZGxlcjogZnVuY3Rpb24oKSB7XG4gICAgICB0aGlzLl9zY3JvbGxTdGF0ZUNoYW5nZWQoKTtcbiAgICB9LFxuXG4gICAgX3Njcm9sbFN0YXRlQ2hhbmdlZDogZnVuY3Rpb24oKSB7XG4gICAgICBpZiAoIXRoaXMuZGlzYWJsZWQpIHtcbiAgICAgICAgdmFyIHNjcm9sbFRvcCA9IHRoaXMuX2NsYW1wZWRTY3JvbGxUb3A7XG4gICAgICAgIHRoaXMuX3VwZGF0ZVNjcm9sbFN0YXRlKHNjcm9sbFRvcCk7XG4gICAgICAgIGlmICh0aGlzLnRocmVzaG9sZCA+IDApIHtcbiAgICAgICAgICB0aGlzLl9zZXRUaHJlc2hvbGRUcmlnZ2VyZWQoc2Nyb2xsVG9wID49IHRoaXMudGhyZXNob2xkKTtcbiAgICAgICAgfVxuICAgICAgfVxuICAgIH0sXG5cbiAgICAvKipcbiAgICAgKiBPdmVycmlkZSB0aGlzIG1ldGhvZCB0byByZXR1cm4gYSByZWZlcmVuY2UgdG8gYSBub2RlIGluIHRoZSBsb2NhbCBET00uXG4gICAgICogVGhlIG5vZGUgaXMgY29uc3VtZWQgYnkgYSBzY3JvbGwgZWZmZWN0LlxuICAgICAqXG4gICAgICogQHBhcmFtIHtzdHJpbmd9IGlkIFRoZSBpZCBmb3IgdGhlIG5vZGUuXG4gICAgICovXG4gICAgX2dldERPTVJlZjogZnVuY3Rpb24oaWQpIHtcbiAgICAgIGNvbnNvbGUud2FybignX2dldERPTVJlZicsICdgJyArIGlkICsgJ2AgaXMgdW5kZWZpbmVkJyk7XG4gICAgfSxcblxuICAgIF9nZXRVbmRlZmluZWRNc2c6IGZ1bmN0aW9uKGVmZmVjdE5hbWUpIHtcbiAgICAgIHJldHVybiAnU2Nyb2xsIGVmZmVjdCBgJyArIGVmZmVjdE5hbWUgKyAnYCBpcyB1bmRlZmluZWQuICcgK1xuICAgICAgICAgICdEaWQgeW91IGZvcmdldCB0byBpbXBvcnQgYXBwLWxheW91dC9hcHAtc2Nyb2xsLWVmZmVjdHMvZWZmZWN0cy8nICtcbiAgICAgICAgICBlZmZlY3ROYW1lICsgJy5odG1sID8nO1xuICAgIH1cblxuICB9XG5dO1xuIiwiLyoqXG5AbGljZW5zZVxuQ29weXJpZ2h0IChjKSAyMDE1IFRoZSBQb2x5bWVyIFByb2plY3QgQXV0aG9ycy4gQWxsIHJpZ2h0cyByZXNlcnZlZC5cblRoaXMgY29kZSBtYXkgb25seSBiZSB1c2VkIHVuZGVyIHRoZSBCU0Qgc3R5bGUgbGljZW5zZSBmb3VuZCBhdFxuaHR0cDovL3BvbHltZXIuZ2l0aHViLmlvL0xJQ0VOU0UudHh0IFRoZSBjb21wbGV0ZSBzZXQgb2YgYXV0aG9ycyBtYXkgYmUgZm91bmQgYXRcbmh0dHA6Ly9wb2x5bWVyLmdpdGh1Yi5pby9BVVRIT1JTLnR4dCBUaGUgY29tcGxldGUgc2V0IG9mIGNvbnRyaWJ1dG9ycyBtYXkgYmVcbmZvdW5kIGF0IGh0dHA6Ly9wb2x5bWVyLmdpdGh1Yi5pby9DT05UUklCVVRPUlMudHh0IENvZGUgZGlzdHJpYnV0ZWQgYnkgR29vZ2xlIGFzXG5wYXJ0IG9mIHRoZSBwb2x5bWVyIHByb2plY3QgaXMgYWxzbyBzdWJqZWN0IHRvIGFuIGFkZGl0aW9uYWwgSVAgcmlnaHRzIGdyYW50XG5mb3VuZCBhdCBodHRwOi8vcG9seW1lci5naXRodWIuaW8vUEFURU5UUy50eHRcbiovXG5pbXBvcnQgJ0Bwb2x5bWVyL3BvbHltZXIvcG9seW1lci1sZWdhY3kuanMnO1xuaW1wb3J0ICdAcG9seW1lci9pcm9uLWZsZXgtbGF5b3V0L2lyb24tZmxleC1sYXlvdXQuanMnO1xuXG5pbXBvcnQge1BvbHltZXJ9IGZyb20gJ0Bwb2x5bWVyL3BvbHltZXIvbGliL2xlZ2FjeS9wb2x5bWVyLWZuLmpzJztcbmltcG9ydCB7ZG9tfSBmcm9tICdAcG9seW1lci9wb2x5bWVyL2xpYi9sZWdhY3kvcG9seW1lci5kb20uanMnO1xuaW1wb3J0IHtodG1sfSBmcm9tICdAcG9seW1lci9wb2x5bWVyL2xpYi91dGlscy9odG1sLXRhZy5qcyc7XG5cbmltcG9ydCB7QXBwTGF5b3V0QmVoYXZpb3J9IGZyb20gJy4uL2FwcC1sYXlvdXQtYmVoYXZpb3IvYXBwLWxheW91dC1iZWhhdmlvci5qcyc7XG5pbXBvcnQge0FwcFNjcm9sbEVmZmVjdHNCZWhhdmlvcn0gZnJvbSAnLi4vYXBwLXNjcm9sbC1lZmZlY3RzL2FwcC1zY3JvbGwtZWZmZWN0cy1iZWhhdmlvci5qcyc7XG5cbi8qKlxuYXBwLWhlYWRlciBpcyBjb250YWluZXIgZWxlbWVudCBmb3IgYXBwLXRvb2xiYXJzIGF0IHRoZSB0b3Agb2YgdGhlIHNjcmVlbiB0aGF0XG5jYW4gaGF2ZSBzY3JvbGwgZWZmZWN0cy4gQnkgZGVmYXVsdCwgYW4gYXBwLWhlYWRlciBtb3ZlcyBhd2F5IGZyb20gdGhlIHZpZXdwb3J0XG53aGVuIHNjcm9sbGluZyBkb3duIGFuZCBpZiB1c2luZyBgcmV2ZWFsc2AsIHRoZSBoZWFkZXIgc2xpZGVzIGJhY2sgd2hlblxuc2Nyb2xsaW5nIGJhY2sgdXAuIEZvciBleGFtcGxlOlxuXG5gYGBodG1sXG48YXBwLWhlYWRlciByZXZlYWxzPlxuICA8YXBwLXRvb2xiYXI+XG4gICAgPGRpdiBtYWluLXRpdGxlPkFwcCBuYW1lPC9kaXY+XG4gIDwvYXBwLXRvb2xiYXI+XG48L2FwcC1oZWFkZXI+XG5gYGBcblxuYXBwLWhlYWRlciBjYW4gYWxzbyBjb25kZW5zZSB3aGVuIHNjcm9sbGluZyBkb3duLiBUbyBhY2hpZXZlIHRoaXMgYmVoYXZpb3IsIHRoZVxuaGVhZGVyIG11c3QgaGF2ZSBhIGxhcmdlciBoZWlnaHQgdGhhbiB0aGUgYHN0aWNreWAgZWxlbWVudCBpbiB0aGUgbGlnaHQgRE9NLiBGb3JcbmV4YW1wbGU6XG5cbmBgYGh0bWxcbjxhcHAtaGVhZGVyIHN0eWxlPVwiaGVpZ2h0OiA5NnB4O1wiIGNvbmRlbnNlcyBmaXhlZD5cbiAgPGFwcC10b29sYmFyIHN0eWxlPVwiaGVpZ2h0OiA2NHB4O1wiPlxuICAgIDxkaXYgbWFpbi10aXRsZT5BcHAgbmFtZTwvZGl2PlxuICA8L2FwcC10b29sYmFyPlxuPC9hcHAtaGVhZGVyPlxuYGBgXG5cbkluIHRoaXMgY2FzZSB0aGUgaGVhZGVyIGlzIGluaXRpYWxseSBgOTZweGAgdGFsbCwgYW5kIGl0IHNocmlua3MgdG8gYDY0cHhgIHdoZW5cbnNjcm9sbGluZyBkb3duLiBUaGF0IGlzIHdoYXQgaXMgbWVhbnQgYnkgXCJjb25kZW5zaW5nXCIuXG5cbiMjIyBTdGlja3kgZWxlbWVudFxuXG5UaGUgZWxlbWVudCB0aGF0IGlzIHBvc2l0aW9uZWQgZml4ZWQgdG8gdG9wIG9mIHRoZSBoZWFkZXIncyBgc2Nyb2xsVGFyZ2V0YCB3aGVuXG5hIHRocmVzaG9sZCBpcyByZWFjaGVkLCBzaW1pbGFyIHRvIGBwb3NpdGlvbjogc3RpY2t5YCBpbiBDU1MuIFRoaXMgZWxlbWVudFxuKiptdXN0KiogYmUgYW4gaW1tZWRpYXRlIGNoaWxkIG9mIGFwcC1oZWFkZXIuIEJ5IGRlZmF1bHQsIHRoZSBgc3RpY2t5YCBlbGVtZW50XG5pcyB0aGUgZmlyc3QgYGFwcC10b29sYmFyIHRoYXQgaXMgYW4gaW1tZWRpYXRlIGNoaWxkIG9mIGFwcC1oZWFkZXIuXG5cbmBgYGh0bWxcbjxhcHAtaGVhZGVyIGNvbmRlbnNlcz5cbiAgPGFwcC10b29sYmFyPiBTdGlja3kgZWxlbWVudCA8L2FwcC10b29sYmFyPlxuPC9hcHAtaGVhZGVyPlxuYGBgXG5cbiMjIyMgQ3VzdG9taXppbmcgdGhlIHN0aWNreSBlbGVtZW50XG5cbmBgYGh0bWxcbjxhcHAtaGVhZGVyIGNvbmRlbnNlcz5cbiAgPGFwcC10b29sYmFyPjwvYXBwLXRvb2xiYXI+XG4gIDxhcHAtdG9vbGJhciBzdGlja3k+IFN0aWNreSBlbGVtZW50IDwvYXBwLXRvb2xiYXI+XG48L2FwcC1oZWFkZXI+XG5gYGBcblxuIyMjIFNjcm9sbCB0YXJnZXRcblxuVGhlIGFwcC1oZWFkZXIncyBgc2Nyb2xsVGFyZ2V0YCBwcm9wZXJ0eSBhbGxvd3MgdG8gY3VzdG9taXplIHRoZSBzY3JvbGxhYmxlXG5lbGVtZW50IHRvIHdoaWNoIHRoZSBoZWFkZXIgcmVzcG9uZHMgd2hlbiB0aGUgdXNlciBzY3JvbGxzLiBCeSBkZWZhdWx0LFxuYXBwLWhlYWRlciB1c2VzIHRoZSBkb2N1bWVudCBhcyB0aGUgc2Nyb2xsIHRhcmdldCwgYnV0IHlvdSBjYW4gY3VzdG9taXplIHRoaXNcbnByb3BlcnR5IGJ5IHNldHRpbmcgdGhlIGlkIG9mIHRoZSBlbGVtZW50LCBlLmcuXG5cbmBgYGh0bWxcbjxkaXYgaWQ9XCJzY3JvbGxpbmdSZWdpb25cIiBzdHlsZT1cIm92ZXJmbG93LXk6IGF1dG87XCI+XG4gIDxhcHAtaGVhZGVyIHNjcm9sbC10YXJnZXQ9XCJzY3JvbGxpbmdSZWdpb25cIj5cbiAgPC9hcHAtaGVhZGVyPlxuPC9kaXY+XG5gYGBcblxuSW4gdGhpcyBjYXNlLCB0aGUgYHNjcm9sbFRhcmdldGAgcHJvcGVydHkgcG9pbnRzIHRvIHRoZSBvdXRlciBkaXYgZWxlbWVudC5cbkFsdGVybmF0aXZlbHksIHlvdSBjYW4gc2V0IHRoaXMgcHJvcGVydHkgcHJvZ3JhbW1hdGljYWxseTpcblxuYGBganNcbmFwcEhlYWRlci5zY3JvbGxUYXJnZXQgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKFwiI3Njcm9sbGluZ1JlZ2lvblwiKTtcbmBgYFxuXG4jIyBCYWNrZ3JvdW5kc1xuYXBwLWhlYWRlciBoYXMgdHdvIGJhY2tncm91bmQgbGF5ZXJzIHRoYXQgY2FuIGJlIHVzZWQgZm9yIHN0eWxpbmcgd2hlbiB0aGVcbmhlYWRlciBpcyBjb25kZW5zZWQgb3Igd2hlbiB0aGUgc2Nyb2xsYWJsZSBlbGVtZW50IGlzIHNjcm9sbGVkIHRvIHRoZSB0b3AuXG5cbiMjIFNjcm9sbCBlZmZlY3RzXG5cblNjcm9sbCBlZmZlY3RzIGFyZSBfb3B0aW9uYWxfIHZpc3VhbCBlZmZlY3RzIGFwcGxpZWQgaW4gYXBwLWhlYWRlciBiYXNlZCBvblxuc2Nyb2xsIHBvc2l0aW9uLiBGb3IgZXhhbXBsZSwgVGhlIFtNYXRlcmlhbCBEZXNpZ24gc2Nyb2xsaW5nXG50ZWNobmlxdWVzXShodHRwczovL3d3dy5nb29nbGUuY29tL2Rlc2lnbi9zcGVjL3BhdHRlcm5zL3Njcm9sbGluZy10ZWNobmlxdWVzLmh0bWwpXG5yZWNvbW1lbmRzIGVmZmVjdHMgdGhhdCBjYW4gYmUgaW5zdGFsbGVkIHZpYSB0aGUgYGVmZmVjdHNgIHByb3BlcnR5LiBlLmcuXG5cbmBgYGh0bWxcbjxhcHAtaGVhZGVyIGVmZmVjdHM9XCJ3YXRlcmZhbGxcIj5cbiAgPGFwcC10b29sYmFyPkFwcCBuYW1lPC9hcHAtdG9vbGJhcj5cbjwvYXBwLWhlYWRlcj5cbmBgYFxuXG4jIyMjIEltcG9ydGluZyB0aGUgZWZmZWN0c1xuXG5UbyB1c2UgdGhlIHNjcm9sbCBlZmZlY3RzLCB5b3UgbXVzdCBleHBsaWNpdGx5IGltcG9ydCB0aGVtIGluIGFkZGl0aW9uIHRvXG5gYXBwLWhlYWRlcmA6XG5cbmBgYGpzXG5pbXBvcnQgJ0Bwb2x5bWVyL2FwcC1sYXlvdXQvYXBwLXNjcm9sbC1lZmZlY3RzL2FwcC1zY3JvbGwtZWZmZWN0cy5qcyc7XG5gYGBcblxuIyMjIyBMaXN0IG9mIGVmZmVjdHNcblxuKiAqKmJsZW5kLWJhY2tncm91bmQqKlxuRmFkZXMgaW4vb3V0IHR3byBiYWNrZ3JvdW5kIGVsZW1lbnRzIGJ5IGFwcGx5aW5nIENTUyBvcGFjaXR5IGJhc2VkIG9uIHNjcm9sbFxucG9zaXRpb24uIFlvdSBjYW4gdXNlIHRoaXMgZWZmZWN0IHRvIHNtb290aGx5IGNoYW5nZSB0aGUgYmFja2dyb3VuZCBjb2xvciBvclxuaW1hZ2Ugb2YgdGhlIGhlYWRlci4gRm9yIGV4YW1wbGUsIHVzaW5nIHRoZSBtaXhpblxuYC0tYXBwLWhlYWRlci1iYWNrZ3JvdW5kLXJlYXItbGF5ZXJgIGxldHMgeW91IGFzc2lnbiBhIGRpZmZlcmVudCBiYWNrZ3JvdW5kIHdoZW5cbnRoZSBoZWFkZXIgaXMgY29uZGVuc2VkOlxuXG5gYGBjc3NcbmFwcC1oZWFkZXIge1xuICBiYWNrZ3JvdW5kLWNvbG9yOiByZWQ7XG4gIC0tYXBwLWhlYWRlci1iYWNrZ3JvdW5kLXJlYXItbGF5ZXI6IHtcbiAgICAvKiBUaGUgaGVhZGVyIGlzIGJsdWUgd2hlbiBjb25kZW5zZWQgKlxcL1xuICAgIGJhY2tncm91bmQtY29sb3I6IGJsdWU7XG4gIH07XG59XG5gYGBcblxuKiAqKmZhZGUtYmFja2dyb3VuZCoqXG5VcG9uIHNjcm9sbGluZyBwYXN0IGEgdGhyZXNob2xkLCB0aGlzIGVmZmVjdCB3aWxsIHRyaWdnZXIgYW4gb3BhY2l0eSB0cmFuc2l0aW9uXG50byBmYWRlIGluL291dCB0aGUgYmFja2dyb3VuZHMuIENvbXBhcmVkIHRvIHRoZSBgYmxlbmQtYmFja2dyb3VuZGAgZWZmZWN0LCB0aGlzXG5lZmZlY3QgZG9lc24ndCBpbnRlcnBvbGF0ZSB0aGUgb3BhY2l0eSBiYXNlZCBvbiBzY3JvbGwgcG9zaXRpb24uXG5cblxuKiAqKnBhcmFsbGF4LWJhY2tncm91bmQqKlxuQSBzaW1wbGUgcGFyYWxsYXggZWZmZWN0IHRoYXQgdmVydGljYWxseSB0cmFuc2xhdGVzIHRoZSBiYWNrZ3JvdW5kcyBiYXNlZCBvbiBhXG5mcmFjdGlvbiBvZiB0aGUgc2Nyb2xsIHBvc2l0aW9uLiBGb3IgZXhhbXBsZTpcblxuYGBgY3NzXG5hcHAtaGVhZGVyIHtcbiAgLS1hcHAtaGVhZGVyLWJhY2tncm91bmQtZnJvbnQtbGF5ZXI6IHtcbiAgICBiYWNrZ3JvdW5kLWltYWdlOiB1cmwoLi4uKTtcbiAgfTtcbn1cbmBgYFxuYGBgaHRtbFxuPGFwcC1oZWFkZXIgc3R5bGU9XCJoZWlnaHQ6IDMwMHB4O1wiIGVmZmVjdHM9XCJwYXJhbGxheC1iYWNrZ3JvdW5kXCI+XG4gIDxhcHAtdG9vbGJhcj5BcHAgbmFtZTwvYXBwLXRvb2xiYXI+XG48L2FwcC1oZWFkZXI+XG5gYGBcblxuVGhlIGZyYWN0aW9uIGRldGVybWluZXMgaG93IGZhciB0aGUgYmFja2dyb3VuZCBtb3ZlcyByZWxhdGl2ZSB0byB0aGUgc2Nyb2xsXG5wb3NpdGlvbi4gVGhpcyB2YWx1ZSBjYW4gYmUgYXNzaWduZWQgdmlhIHRoZSBgc2NhbGFyYCBjb25maWcgdmFsdWUgYW5kIGl0IGlzXG50eXBpY2FsbHkgYSB2YWx1ZSBiZXR3ZWVuIDAgYW5kIDEgaW5jbHVzaXZlLiBJZiBgc2NhbGFyPTBgLCB0aGUgYmFja2dyb3VuZFxuZG9lc24ndCBtb3ZlIGF3YXkgZnJvbSB0aGUgaGVhZGVyLlxuXG4qICoqcmVzaXplLXRpdGxlKipcblByb2dyZXNzaXZlbHkgaW50ZXJwb2xhdGVzIHRoZSBzaXplIG9mIHRoZSB0aXRsZSBmcm9tIHRoZSBlbGVtZW50IHdpdGggdGhlXG5gbWFpbi10aXRsZWAgYXR0cmlidXRlIHRvIHRoZSBlbGVtZW50IHdpdGggdGhlIGBjb25kZW5zZWQtdGl0bGVgIGF0dHJpYnV0ZSBhc1xudGhlIGhlYWRlciBjb25kZW5zZXMuIEZvciBleGFtcGxlOlxuXG5gYGBodG1sXG48YXBwLWhlYWRlciBjb25kZW5zZXMgcmV2ZWFscyBlZmZlY3RzPVwicmVzaXplLXRpdGxlXCI+XG4gIDxhcHAtdG9vbGJhcj5cbiAgICAgIDxoNCBjb25kZW5zZWQtdGl0bGU+QXBwIG5hbWU8L2g0PlxuICA8L2FwcC10b29sYmFyPlxuICA8YXBwLXRvb2xiYXI+XG4gICAgICA8aDEgbWFpbi10aXRsZT5BcHAgbmFtZTwvaDE+XG4gIDwvYXBwLXRvb2xiYXI+XG48L2FwcC1oZWFkZXI+XG5gYGBcblxuKiAqKnJlc2l6ZS1zbmFwcGVkLXRpdGxlKipcblVwb24gc2Nyb2xsaW5nIHBhc3QgYSB0aHJlc2hvbGQsIHRoaXMgZWZmZWN0IGZhZGVzIGluL291dCB0aGUgdGl0bGVzIHVzaW5nXG5vcGFjaXR5IHRyYW5zaXRpb25zLiBTaW1pbGFybHkgdG8gYHJlc2l6ZS10aXRsZWAsIHRoZSBgbWFpbi10aXRsZWAgYW5kXG5gY29uZGVuc2VkLXRpdGxlYCBlbGVtZW50cyBtdXN0IGJlIHBsYWNlZCBpbiB0aGUgbGlnaHQgRE9NLlxuXG4qICoqd2F0ZXJmYWxsKipcblRvZ2dsZXMgdGhlIHNoYWRvdyBwcm9wZXJ0eSBpbiBhcHAtaGVhZGVyIHRvIGNyZWF0ZSBhIHNlbnNlIG9mIGRlcHRoIChhc1xucmVjb21tZW5kZWQgaW4gdGhlIE1EIHNwZWMpIGJldHdlZW4gdGhlIGhlYWRlciBhbmQgdGhlIHVuZGVybmVhdGggY29udGVudC4gWW91XG5jYW4gY2hhbmdlIHRoZSBzaGFkb3cgYnkgY3VzdG9taXppbmcgdGhlIGAtLWFwcC1oZWFkZXItc2hhZG93YCBtaXhpbi4gRm9yXG5leGFtcGxlOlxuXG5gYGBjc3NcbmFwcC1oZWFkZXIge1xuICAtLWFwcC1oZWFkZXItc2hhZG93OiB7XG4gICAgYm94LXNoYWRvdzogaW5zZXQgMHB4IDVweCAycHggLTNweCByZ2JhKDAsIDAsIDAsIDAuMik7XG4gIH07XG59XG5gYGBcblxuYGBgaHRtbFxuPGFwcC1oZWFkZXIgY29uZGVuc2VzIHJldmVhbHMgZWZmZWN0cz1cIndhdGVyZmFsbFwiPlxuICA8YXBwLXRvb2xiYXI+XG4gICAgICA8aDEgbWFpbi10aXRsZT5BcHAgbmFtZTwvaDE+XG4gIDwvYXBwLXRvb2xiYXI+XG48L2FwcC1oZWFkZXI+XG5gYGBcblxuKiAqKm1hdGVyaWFsKipcbkluc3RhbGxzIHRoZSB3YXRlcmZhbGwsIHJlc2l6ZS10aXRsZSwgYmxlbmQtYmFja2dyb3VuZCBhbmQgcGFyYWxsYXgtYmFja2dyb3VuZFxuZWZmZWN0cy5cblxuIyMjIENvbnRlbnQgYXR0cmlidXRlc1xuXG5BdHRyaWJ1dGUgfCBEZXNjcmlwdGlvbiAgICAgICAgIHwgRGVmYXVsdFxuLS0tLS0tLS0tLXwtLS0tLS0tLS0tLS0tLS0tLS0tLS18LS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLVxuYHN0aWNreWAgfCBFbGVtZW50IHRoYXQgcmVtYWlucyBhdCB0aGUgdG9wIHdoZW4gdGhlIGhlYWRlciBjb25kZW5zZXMuIHwgVGhlIGZpcnN0IGFwcC10b29sYmFyIGluIHRoZSBsaWdodCBET00uXG5cblxuIyMgU3R5bGluZ1xuXG5NaXhpbiB8IERlc2NyaXB0aW9uIHwgRGVmYXVsdFxuLS0tLS0tfC0tLS0tLS0tLS0tLS18LS0tLS0tLS0tLVxuYC0tYXBwLWhlYWRlci1iYWNrZ3JvdW5kLWZyb250LWxheWVyYCB8IEFwcGxpZXMgdG8gdGhlIGZyb250IGxheWVyIG9mIHRoZSBiYWNrZ3JvdW5kLiB8IHt9XG5gLS1hcHAtaGVhZGVyLWJhY2tncm91bmQtcmVhci1sYXllcmAgfCBBcHBsaWVzIHRvIHRoZSByZWFyIGxheWVyIG9mIHRoZSBiYWNrZ3JvdW5kLiB8IHt9XG5gLS1hcHAtaGVhZGVyLXNoYWRvd2AgfCBBcHBsaWVzIHRvIHRoZSBzaGFkb3cuIHwge31cblxuQGdyb3VwIEFwcCBFbGVtZW50c1xuQGVsZW1lbnQgYXBwLWhlYWRlclxuQGRlbW8gYXBwLWhlYWRlci9kZW1vL2JsZW5kLWJhY2tncm91bmQtMS5odG1sIEJsZW5kIEJhY2tncm91bmQgSW1hZ2VcbkBkZW1vIGFwcC1oZWFkZXIvZGVtby9ibGVuZC1iYWNrZ3JvdW5kLTIuaHRtbCBCbGVuZCAyIEJhY2tncm91bmQgSW1hZ2VzXG5AZGVtbyBhcHAtaGVhZGVyL2RlbW8vYmxlbmQtYmFja2dyb3VuZC0zLmh0bWwgQmxlbmQgQmFja2dyb3VuZCBDb2xvcnNcbkBkZW1vIGFwcC1oZWFkZXIvZGVtby9jb250YWN0cy5odG1sIENvbnRhY3RzIERlbW9cbkBkZW1vIGFwcC1oZWFkZXIvZGVtby9naXZlLmh0bWwgUmVzaXplIFNuYXBwZWQgVGl0bGUgRGVtb1xuQGRlbW8gYXBwLWhlYWRlci9kZW1vL211c2ljLmh0bWwgUmV2ZWFscyBEZW1vXG5AZGVtbyBhcHAtaGVhZGVyL2RlbW8vbm8tZWZmZWN0cy5odG1sIENvbmRlbnNlcyBhbmQgUmV2ZWFscyBEZW1vXG5AZGVtbyBhcHAtaGVhZGVyL2RlbW8vbm90ZXMuaHRtbCBGaXhlZCB3aXRoIER5bmFtaWMgU2hhZG93IERlbW9cbkBkZW1vIGFwcC1oZWFkZXIvZGVtby9jdXN0b20tc3RpY2t5LWVsZW1lbnQtMS5odG1sIEN1c3RvbSBTdGlja3kgRWxlbWVudCBEZW1vIDFcbkBkZW1vIGFwcC1oZWFkZXIvZGVtby9jdXN0b20tc3RpY2t5LWVsZW1lbnQtMi5odG1sIEN1c3RvbSBTdGlja3kgRWxlbWVudCBEZW1vIDJcblxuKi9cblBvbHltZXIoe1xuICBfdGVtcGxhdGU6IGh0bWxgXG4gICAgPHN0eWxlPlxuICAgICAgOmhvc3Qge1xuICAgICAgICBwb3NpdGlvbjogcmVsYXRpdmU7XG4gICAgICAgIGRpc3BsYXk6IGJsb2NrO1xuICAgICAgICB0cmFuc2l0aW9uLXRpbWluZy1mdW5jdGlvbjogbGluZWFyO1xuICAgICAgICB0cmFuc2l0aW9uLXByb3BlcnR5OiAtd2Via2l0LXRyYW5zZm9ybTtcbiAgICAgICAgdHJhbnNpdGlvbi1wcm9wZXJ0eTogdHJhbnNmb3JtO1xuICAgICAgfVxuXG4gICAgICA6aG9zdDo6YmVmb3JlIHtcbiAgICAgICAgcG9zaXRpb246IGFic29sdXRlO1xuICAgICAgICByaWdodDogMHB4O1xuICAgICAgICBib3R0b206IC01cHg7XG4gICAgICAgIGxlZnQ6IDBweDtcbiAgICAgICAgd2lkdGg6IDEwMCU7XG4gICAgICAgIGhlaWdodDogNXB4O1xuICAgICAgICBjb250ZW50OiBcIlwiO1xuICAgICAgICB0cmFuc2l0aW9uOiBvcGFjaXR5IDAuNHM7XG4gICAgICAgIHBvaW50ZXItZXZlbnRzOiBub25lO1xuICAgICAgICBvcGFjaXR5OiAwO1xuICAgICAgICBib3gtc2hhZG93OiBpbnNldCAwcHggNXB4IDZweCAtM3B4IHJnYmEoMCwgMCwgMCwgMC40KTtcbiAgICAgICAgd2lsbC1jaGFuZ2U6IG9wYWNpdHk7XG4gICAgICAgIEBhcHBseSAtLWFwcC1oZWFkZXItc2hhZG93O1xuICAgICAgfVxuXG4gICAgICA6aG9zdChbc2hhZG93XSk6OmJlZm9yZSB7XG4gICAgICAgIG9wYWNpdHk6IDE7XG4gICAgICB9XG5cbiAgICAgICNiYWNrZ3JvdW5kIHtcbiAgICAgICAgQGFwcGx5IC0tbGF5b3V0LWZpdDtcbiAgICAgICAgb3ZlcmZsb3c6IGhpZGRlbjtcbiAgICAgIH1cblxuICAgICAgI2JhY2tncm91bmRGcm9udExheWVyLFxuICAgICAgI2JhY2tncm91bmRSZWFyTGF5ZXIge1xuICAgICAgICBAYXBwbHkgLS1sYXlvdXQtZml0O1xuICAgICAgICBoZWlnaHQ6IDEwMCU7XG4gICAgICAgIHBvaW50ZXItZXZlbnRzOiBub25lO1xuICAgICAgICBiYWNrZ3JvdW5kLXNpemU6IGNvdmVyO1xuICAgICAgfVxuXG4gICAgICAjYmFja2dyb3VuZEZyb250TGF5ZXIge1xuICAgICAgICBAYXBwbHkgLS1hcHAtaGVhZGVyLWJhY2tncm91bmQtZnJvbnQtbGF5ZXI7XG4gICAgICB9XG5cbiAgICAgICNiYWNrZ3JvdW5kUmVhckxheWVyIHtcbiAgICAgICAgb3BhY2l0eTogMDtcbiAgICAgICAgQGFwcGx5IC0tYXBwLWhlYWRlci1iYWNrZ3JvdW5kLXJlYXItbGF5ZXI7XG4gICAgICB9XG5cbiAgICAgICNjb250ZW50Q29udGFpbmVyIHtcbiAgICAgICAgcG9zaXRpb246IHJlbGF0aXZlO1xuICAgICAgICB3aWR0aDogMTAwJTtcbiAgICAgICAgaGVpZ2h0OiAxMDAlO1xuICAgICAgfVxuXG4gICAgICA6aG9zdChbZGlzYWJsZWRdKSxcbiAgICAgIDpob3N0KFtkaXNhYmxlZF0pOjphZnRlcixcbiAgICAgIDpob3N0KFtkaXNhYmxlZF0pICNiYWNrZ3JvdW5kRnJvbnRMYXllcixcbiAgICAgIDpob3N0KFtkaXNhYmxlZF0pICNiYWNrZ3JvdW5kUmVhckxheWVyLFxuICAgICAgLyogU2lsZW50IHNjcm9sbGluZyBzaG91bGQgbm90IHJ1biBDU1MgdHJhbnNpdGlvbnMgKi9cbiAgICAgIDpob3N0KFtzaWxlbnQtc2Nyb2xsXSksXG4gICAgICA6aG9zdChbc2lsZW50LXNjcm9sbF0pOjphZnRlcixcbiAgICAgIDpob3N0KFtzaWxlbnQtc2Nyb2xsXSkgI2JhY2tncm91bmRGcm9udExheWVyLFxuICAgICAgOmhvc3QoW3NpbGVudC1zY3JvbGxdKSAjYmFja2dyb3VuZFJlYXJMYXllciB7XG4gICAgICAgIHRyYW5zaXRpb246IG5vbmUgIWltcG9ydGFudDtcbiAgICAgIH1cblxuICAgICAgOmhvc3QoW2Rpc2FibGVkXSkgOjpzbG90dGVkKGFwcC10b29sYmFyOmZpcnN0LW9mLXR5cGUpLFxuICAgICAgOmhvc3QoW2Rpc2FibGVkXSkgOjpzbG90dGVkKFtzdGlja3ldKSxcbiAgICAgIC8qIFNpbGVudCBzY3JvbGxpbmcgc2hvdWxkIG5vdCBydW4gQ1NTIHRyYW5zaXRpb25zICovXG4gICAgICA6aG9zdChbc2lsZW50LXNjcm9sbF0pIDo6c2xvdHRlZChhcHAtdG9vbGJhcjpmaXJzdC1vZi10eXBlKSxcbiAgICAgIDpob3N0KFtzaWxlbnQtc2Nyb2xsXSkgOjpzbG90dGVkKFtzdGlja3ldKSB7XG4gICAgICAgIHRyYW5zaXRpb246IG5vbmUgIWltcG9ydGFudDtcbiAgICAgIH1cblxuICAgIDwvc3R5bGU+XG4gICAgPGRpdiBpZD1cImNvbnRlbnRDb250YWluZXJcIj5cbiAgICAgIDxzbG90IGlkPVwic2xvdFwiPjwvc2xvdD5cbiAgICA8L2Rpdj5cbmAsXG5cbiAgaXM6ICdhcHAtaGVhZGVyJyxcbiAgYmVoYXZpb3JzOiBbQXBwU2Nyb2xsRWZmZWN0c0JlaGF2aW9yLCBBcHBMYXlvdXRCZWhhdmlvcl0sXG5cbiAgcHJvcGVydGllczoge1xuICAgIC8qKlxuICAgICAqIElmIHRydWUsIHRoZSBoZWFkZXIgd2lsbCBhdXRvbWF0aWNhbGx5IGNvbGxhcHNlIHdoZW4gc2Nyb2xsaW5nIGRvd24uXG4gICAgICogVGhhdCBpcywgdGhlIGBzdGlja3lgIGVsZW1lbnQgcmVtYWlucyB2aXNpYmxlIHdoZW4gdGhlIGhlYWRlciBpcyBmdWxseVxuICAgICAqY29uZGVuc2VkIHdoZXJlYXMgdGhlIHJlc3Qgb2YgdGhlIGVsZW1lbnRzIHdpbGwgY29sbGFwc2UgYmVsb3cgYHN0aWNreWBcbiAgICAgKmVsZW1lbnQuXG4gICAgICpcbiAgICAgKiBCeSBkZWZhdWx0LCB0aGUgYHN0aWNreWAgZWxlbWVudCBpcyB0aGUgZmlyc3QgdG9vbGJhciBpbiB0aGUgbGlnaHQgRE9NOlxuICAgICAqXG4gICAgICpgYGBodG1sXG4gICAgICogPGFwcC1oZWFkZXIgY29uZGVuc2VzPlxuICAgICAqICAgPGFwcC10b29sYmFyPlRoaXMgdG9vbGJhciByZW1haW5zIG9uIHRvcDwvYXBwLXRvb2xiYXI+XG4gICAgICogICA8YXBwLXRvb2xiYXI+PC9hcHAtdG9vbGJhcj5cbiAgICAgKiAgIDxhcHAtdG9vbGJhcj48L2FwcC10b29sYmFyPlxuICAgICAqIDwvYXBwLWhlYWRlcj5cbiAgICAgKiBgYGBcbiAgICAgKlxuICAgICAqIEFkZGl0aW9uYWxseSwgeW91IGNhbiBzcGVjaWZ5IHdoaWNoIHRvb2xiYXIgb3IgZWxlbWVudCByZW1haW5zIHZpc2libGUgaW5cbiAgICAgKmNvbmRlbnNlZCBtb2RlIGJ5IGFkZGluZyB0aGUgYHN0aWNreWAgYXR0cmlidXRlIHRvIHRoYXQgZWxlbWVudC4gRm9yXG4gICAgICpleGFtcGxlOiBpZiB3ZSB3YW50IHRoZSBsYXN0IHRvb2xiYXIgdG8gcmVtYWluIHZpc2libGUsIHdlIGNhbiBhZGQgdGhlXG4gICAgICpgc3RpY2t5YCBhdHRyaWJ1dGUgdG8gaXQuXG4gICAgICpcbiAgICAgKmBgYGh0bWxcbiAgICAgKiA8YXBwLWhlYWRlciBjb25kZW5zZXM+XG4gICAgICogICA8YXBwLXRvb2xiYXI+PC9hcHAtdG9vbGJhcj5cbiAgICAgKiAgIDxhcHAtdG9vbGJhcj48L2FwcC10b29sYmFyPlxuICAgICAqICAgPGFwcC10b29sYmFyIHN0aWNreT5UaGlzIHRvb2xiYXIgcmVtYWlucyBvbiB0b3A8L2FwcC10b29sYmFyPlxuICAgICAqIDwvYXBwLWhlYWRlcj5cbiAgICAgKiBgYGBcbiAgICAgKlxuICAgICAqIE5vdGUgdGhlIGBzdGlja3lgIGVsZW1lbnQgbXVzdCBiZSBhIGRpcmVjdCBjaGlsZCBvZiBgYXBwLWhlYWRlcmAuXG4gICAgICovXG4gICAgY29uZGVuc2VzOiB7dHlwZTogQm9vbGVhbiwgdmFsdWU6IGZhbHNlfSxcblxuICAgIC8qKlxuICAgICAqIE1hbnRhaW5zIHRoZSBoZWFkZXIgZml4ZWQgYXQgdGhlIHRvcCBzbyBpdCBuZXZlciBtb3ZlcyBhd2F5LlxuICAgICAqL1xuICAgIGZpeGVkOiB7dHlwZTogQm9vbGVhbiwgdmFsdWU6IGZhbHNlfSxcblxuICAgIC8qKlxuICAgICAqIFNsaWRlcyBiYWNrIHRoZSBoZWFkZXIgd2hlbiBzY3JvbGxpbmcgYmFjayB1cC5cbiAgICAgKi9cbiAgICByZXZlYWxzOiB7dHlwZTogQm9vbGVhbiwgdmFsdWU6IGZhbHNlfSxcblxuICAgIC8qKlxuICAgICAqIERpc3BsYXlzIGEgc2hhZG93IGJlbG93IHRoZSBoZWFkZXIuXG4gICAgICovXG4gICAgc2hhZG93OiB7dHlwZTogQm9vbGVhbiwgcmVmbGVjdFRvQXR0cmlidXRlOiB0cnVlLCB2YWx1ZTogZmFsc2V9XG4gIH0sXG5cbiAgb2JzZXJ2ZXJzOiBbJ19jb25maWdDaGFuZ2VkKGlzQXR0YWNoZWQsIGNvbmRlbnNlcywgZml4ZWQpJ10sXG5cbiAgLyoqXG4gICAqIEEgY2FjaGVkIG9mZnNldEhlaWdodCBvZiB0aGUgY3VycmVudCBlbGVtZW50LlxuICAgKlxuICAgKiBAdHlwZSB7bnVtYmVyfVxuICAgKi9cbiAgX2hlaWdodDogMCxcblxuICAvKipcbiAgICogVGhlIGRpc3RhbmNlIGluIHBpeGVscyB0aGUgaGVhZGVyIHdpbGwgYmUgdHJhbnNsYXRlZCB0byB3aGVuIHNjcm9sbGluZy5cbiAgICpcbiAgICogQHR5cGUge251bWJlcn1cbiAgICovXG4gIF9kSGVpZ2h0OiAwLFxuXG4gIC8qKlxuICAgKiBUaGUgb2Zmc2V0VG9wIG9mIGBfc3RpY2t5RWxgXG4gICAqXG4gICAqIEB0eXBlIHtudW1iZXJ9XG4gICAqL1xuICBfc3RpY2t5RWxUb3A6IDAsXG5cbiAgLyoqXG4gICAqIEEgcmVmZXJlbmNlIHRvIHRoZSBlbGVtZW50IHRoYXQgcmVtYWlucyB2aXNpYmxlIHdoZW4gdGhlIGhlYWRlciBjb25kZW5zZXMuXG4gICAqXG4gICAqIEB0eXBlIHtIVE1MRWxlbWVudH1cbiAgICovXG4gIF9zdGlja3lFbFJlZjogbnVsbCxcblxuICAvKipcbiAgICogVGhlIGhlYWRlcidzIHRvcCB2YWx1ZSB1c2VkIGZvciB0aGUgYHRyYW5zZm9ybVlgXG4gICAqXG4gICAqIEB0eXBlIHtudW1iZXJ9XG4gICAqL1xuICBfdG9wOiAwLFxuXG4gIC8qKlxuICAgKiBUaGUgY3VycmVudCBzY3JvbGwgcHJvZ3Jlc3MuXG4gICAqXG4gICAqIEB0eXBlIHtudW1iZXJ9XG4gICAqL1xuICBfcHJvZ3Jlc3M6IDAsXG5cbiAgX3dhc1Njcm9sbGluZ0Rvd246IGZhbHNlLFxuICBfaW5pdFNjcm9sbFRvcDogMCxcbiAgX2luaXRUaW1lc3RhbXA6IDAsXG4gIF9sYXN0VGltZXN0YW1wOiAwLFxuICBfbGFzdFNjcm9sbFRvcDogMCxcblxuICAvKipcbiAgICogVGhlIGRpc3RhbmNlIHRoZSBoZWFkZXIgaXMgYWxsb3dlZCB0byBtb3ZlIGF3YXkuXG4gICAqXG4gICAqIEB0eXBlIHtudW1iZXJ9XG4gICAqL1xuICBnZXQgX21heEhlYWRlclRvcCgpIHtcbiAgICByZXR1cm4gdGhpcy5maXhlZCA/IHRoaXMuX2RIZWlnaHQgOiB0aGlzLl9oZWlnaHQgKyA1O1xuICB9LFxuXG4gIC8qKlxuICAgKiBSZXR1cm5zIGEgcmVmZXJlbmNlIHRvIHRoZSBzdGlja3kgZWxlbWVudC5cbiAgICpcbiAgICogQHJldHVybiB7SFRNTEVsZW1lbnR9P1xuICAgKi9cbiAgZ2V0IF9zdGlja3lFbCgpIHtcbiAgICBpZiAodGhpcy5fc3RpY2t5RWxSZWYpIHtcbiAgICAgIHJldHVybiB0aGlzLl9zdGlja3lFbFJlZjtcbiAgICB9XG4gICAgdmFyIG5vZGVzID0gZG9tKHRoaXMuJC5zbG90KS5nZXREaXN0cmlidXRlZE5vZGVzKCk7XG4gICAgLy8gR2V0IHRoZSBlbGVtZW50IHdpdGggdGhlIHN0aWNreSBhdHRyaWJ1dGUgb24gaXQgb3IgdGhlIGZpcnN0IGVsZW1lbnQgaW5cbiAgICAvLyB0aGUgbGlnaHQgRE9NLlxuICAgIGZvciAodmFyIGkgPSAwLCBub2RlOyBub2RlID0gLyoqIEB0eXBlIHshSFRNTEVsZW1lbnR9ICovIChub2Rlc1tpXSk7IGkrKykge1xuICAgICAgaWYgKG5vZGUubm9kZVR5cGUgPT09IE5vZGUuRUxFTUVOVF9OT0RFKSB7XG4gICAgICAgIGlmIChub2RlLmhhc0F0dHJpYnV0ZSgnc3RpY2t5JykpIHtcbiAgICAgICAgICB0aGlzLl9zdGlja3lFbFJlZiA9IG5vZGU7XG4gICAgICAgICAgYnJlYWs7XG4gICAgICAgIH0gZWxzZSBpZiAoIXRoaXMuX3N0aWNreUVsUmVmKSB7XG4gICAgICAgICAgdGhpcy5fc3RpY2t5RWxSZWYgPSBub2RlO1xuICAgICAgICB9XG4gICAgICB9XG4gICAgfVxuICAgIHJldHVybiB0aGlzLl9zdGlja3lFbFJlZjtcbiAgfSxcblxuICBfY29uZmlnQ2hhbmdlZDogZnVuY3Rpb24oKSB7XG4gICAgdGhpcy5yZXNldExheW91dCgpO1xuICAgIHRoaXMuX25vdGlmeUxheW91dENoYW5nZWQoKTtcbiAgfSxcblxuICBfdXBkYXRlTGF5b3V0U3RhdGVzOiBmdW5jdGlvbigpIHtcbiAgICBpZiAodGhpcy5vZmZzZXRXaWR0aCA9PT0gMCAmJiB0aGlzLm9mZnNldEhlaWdodCA9PT0gMCkge1xuICAgICAgcmV0dXJuO1xuICAgIH1cbiAgICB2YXIgc2Nyb2xsVG9wID0gdGhpcy5fY2xhbXBlZFNjcm9sbFRvcDtcbiAgICB2YXIgZmlyc3RTZXR1cCA9IHRoaXMuX2hlaWdodCA9PT0gMCB8fCBzY3JvbGxUb3AgPT09IDA7XG4gICAgdmFyIGN1cnJlbnREaXNhYmxlZCA9IHRoaXMuZGlzYWJsZWQ7XG4gICAgdGhpcy5faGVpZ2h0ID0gdGhpcy5vZmZzZXRIZWlnaHQ7XG4gICAgdGhpcy5fc3RpY2t5RWxSZWYgPSBudWxsO1xuICAgIHRoaXMuZGlzYWJsZWQgPSB0cnVlO1xuICAgIC8vIHByZXBhcmUgZm9yIG1lYXN1cmVtZW50XG4gICAgaWYgKCFmaXJzdFNldHVwKSB7XG4gICAgICB0aGlzLl91cGRhdGVTY3JvbGxTdGF0ZSgwLCB0cnVlKTtcbiAgICB9XG4gICAgaWYgKHRoaXMuX21heU1vdmUoKSkge1xuICAgICAgdGhpcy5fZEhlaWdodCA9XG4gICAgICAgICAgdGhpcy5fc3RpY2t5RWwgPyB0aGlzLl9oZWlnaHQgLSB0aGlzLl9zdGlja3lFbC5vZmZzZXRIZWlnaHQgOiAwO1xuICAgIH0gZWxzZSB7XG4gICAgICB0aGlzLl9kSGVpZ2h0ID0gMDtcbiAgICB9XG4gICAgdGhpcy5fc3RpY2t5RWxUb3AgPSB0aGlzLl9zdGlja3lFbCA/IHRoaXMuX3N0aWNreUVsLm9mZnNldFRvcCA6IDA7XG4gICAgdGhpcy5fc2V0VXBFZmZlY3QoKTtcbiAgICBpZiAoZmlyc3RTZXR1cCkge1xuICAgICAgdGhpcy5fdXBkYXRlU2Nyb2xsU3RhdGUoc2Nyb2xsVG9wLCB0cnVlKTtcbiAgICB9IGVsc2Uge1xuICAgICAgdGhpcy5fdXBkYXRlU2Nyb2xsU3RhdGUodGhpcy5fbGFzdFNjcm9sbFRvcCwgdHJ1ZSk7XG4gICAgICB0aGlzLl9sYXlvdXRJZkRpcnR5KCk7XG4gICAgfVxuICAgIC8vIHJlc3RvcmUgbm8gdHJhbnNpdGlvblxuICAgIHRoaXMuZGlzYWJsZWQgPSBjdXJyZW50RGlzYWJsZWQ7XG4gIH0sXG5cbiAgLyoqXG4gICAqIFVwZGF0ZXMgdGhlIHNjcm9sbCBzdGF0ZS5cbiAgICpcbiAgICogQHBhcmFtIHtudW1iZXJ9IHNjcm9sbFRvcFxuICAgKiBAcGFyYW0ge2Jvb2xlYW49fSBmb3JjZVVwZGF0ZSAoZGVmYXVsdDogZmFsc2UpXG4gICAqL1xuICBfdXBkYXRlU2Nyb2xsU3RhdGU6IGZ1bmN0aW9uKHNjcm9sbFRvcCwgZm9yY2VVcGRhdGUpIHtcbiAgICBpZiAodGhpcy5faGVpZ2h0ID09PSAwKSB7XG4gICAgICByZXR1cm47XG4gICAgfVxuICAgIHZhciBwcm9ncmVzcyA9IDA7XG4gICAgdmFyIHRvcCA9IDA7XG4gICAgdmFyIGxhc3RUb3AgPSB0aGlzLl90b3A7XG4gICAgdmFyIGxhc3RTY3JvbGxUb3AgPSB0aGlzLl9sYXN0U2Nyb2xsVG9wO1xuICAgIHZhciBtYXhIZWFkZXJUb3AgPSB0aGlzLl9tYXhIZWFkZXJUb3A7XG4gICAgdmFyIGRTY3JvbGxUb3AgPSBzY3JvbGxUb3AgLSB0aGlzLl9sYXN0U2Nyb2xsVG9wO1xuICAgIHZhciBhYnNEU2Nyb2xsVG9wID0gTWF0aC5hYnMoZFNjcm9sbFRvcCk7XG4gICAgdmFyIGlzU2Nyb2xsaW5nRG93biA9IHNjcm9sbFRvcCA+IHRoaXMuX2xhc3RTY3JvbGxUb3A7XG4gICAgdmFyIG5vdyA9IHBlcmZvcm1hbmNlLm5vdygpO1xuXG4gICAgaWYgKHRoaXMuX21heU1vdmUoKSkge1xuICAgICAgdG9wID0gdGhpcy5fY2xhbXAoXG4gICAgICAgICAgdGhpcy5yZXZlYWxzID8gbGFzdFRvcCArIGRTY3JvbGxUb3AgOiBzY3JvbGxUb3AsIDAsIG1heEhlYWRlclRvcCk7XG4gICAgfVxuICAgIGlmIChzY3JvbGxUb3AgPj0gdGhpcy5fZEhlaWdodCkge1xuICAgICAgdG9wID0gdGhpcy5jb25kZW5zZXMgJiYgIXRoaXMuZml4ZWQgPyBNYXRoLm1heCh0aGlzLl9kSGVpZ2h0LCB0b3ApIDogdG9wO1xuICAgICAgdGhpcy5zdHlsZS50cmFuc2l0aW9uRHVyYXRpb24gPSAnMG1zJztcbiAgICB9XG4gICAgaWYgKHRoaXMucmV2ZWFscyAmJiAhdGhpcy5kaXNhYmxlZCAmJiBhYnNEU2Nyb2xsVG9wIDwgMTAwKSB7XG4gICAgICAvLyBzZXQgdGhlIGluaXRpYWwgc2Nyb2xsIHBvc2l0aW9uXG4gICAgICBpZiAobm93IC0gdGhpcy5faW5pdFRpbWVzdGFtcCA+IDMwMCB8fFxuICAgICAgICAgIHRoaXMuX3dhc1Njcm9sbGluZ0Rvd24gIT09IGlzU2Nyb2xsaW5nRG93bikge1xuICAgICAgICB0aGlzLl9pbml0U2Nyb2xsVG9wID0gc2Nyb2xsVG9wO1xuICAgICAgICB0aGlzLl9pbml0VGltZXN0YW1wID0gbm93O1xuICAgICAgfVxuICAgICAgaWYgKHNjcm9sbFRvcCA+PSBtYXhIZWFkZXJUb3ApIHtcbiAgICAgICAgLy8gY2hlY2sgaWYgdGhlIGhlYWRlciBpcyBhbGxvd2VkIHRvIHNuYXBcbiAgICAgICAgaWYgKE1hdGguYWJzKHRoaXMuX2luaXRTY3JvbGxUb3AgLSBzY3JvbGxUb3ApID4gMzAgfHxcbiAgICAgICAgICAgIGFic0RTY3JvbGxUb3AgPiAxMCkge1xuICAgICAgICAgIGlmIChpc1Njcm9sbGluZ0Rvd24gJiYgc2Nyb2xsVG9wID49IG1heEhlYWRlclRvcCkge1xuICAgICAgICAgICAgdG9wID0gbWF4SGVhZGVyVG9wO1xuICAgICAgICAgIH0gZWxzZSBpZiAoIWlzU2Nyb2xsaW5nRG93biAmJiBzY3JvbGxUb3AgPj0gdGhpcy5fZEhlaWdodCkge1xuICAgICAgICAgICAgdG9wID0gdGhpcy5jb25kZW5zZXMgJiYgIXRoaXMuZml4ZWQgPyB0aGlzLl9kSGVpZ2h0IDogMDtcbiAgICAgICAgICB9XG4gICAgICAgICAgdmFyIHNjcm9sbFZlbG9jaXR5ID0gZFNjcm9sbFRvcCAvIChub3cgLSB0aGlzLl9sYXN0VGltZXN0YW1wKTtcbiAgICAgICAgICB0aGlzLnN0eWxlLnRyYW5zaXRpb25EdXJhdGlvbiA9XG4gICAgICAgICAgICAgIHRoaXMuX2NsYW1wKCh0b3AgLSBsYXN0VG9wKSAvIHNjcm9sbFZlbG9jaXR5LCAwLCAzMDApICsgJ21zJztcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICB0b3AgPSB0aGlzLl90b3A7XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICB9XG4gICAgaWYgKHRoaXMuX2RIZWlnaHQgPT09IDApIHtcbiAgICAgIHByb2dyZXNzID0gc2Nyb2xsVG9wID4gMCA/IDEgOiAwO1xuICAgIH0gZWxzZSB7XG4gICAgICBwcm9ncmVzcyA9IHRvcCAvIHRoaXMuX2RIZWlnaHQ7XG4gICAgfVxuICAgIGlmICghZm9yY2VVcGRhdGUpIHtcbiAgICAgIHRoaXMuX2xhc3RTY3JvbGxUb3AgPSBzY3JvbGxUb3A7XG4gICAgICB0aGlzLl90b3AgPSB0b3A7XG4gICAgICB0aGlzLl93YXNTY3JvbGxpbmdEb3duID0gaXNTY3JvbGxpbmdEb3duO1xuICAgICAgdGhpcy5fbGFzdFRpbWVzdGFtcCA9IG5vdztcbiAgICB9XG4gICAgaWYgKGZvcmNlVXBkYXRlIHx8IHByb2dyZXNzICE9PSB0aGlzLl9wcm9ncmVzcyB8fCBsYXN0VG9wICE9PSB0b3AgfHxcbiAgICAgICAgc2Nyb2xsVG9wID09PSAwKSB7XG4gICAgICB0aGlzLl9wcm9ncmVzcyA9IHByb2dyZXNzO1xuICAgICAgdGhpcy5fcnVuRWZmZWN0cyhwcm9ncmVzcywgdG9wKTtcbiAgICAgIHRoaXMuX3RyYW5zZm9ybUhlYWRlcih0b3ApO1xuICAgIH1cbiAgfSxcblxuICAvKipcbiAgICogUmV0dXJucyB0cnVlIGlmIHRoZSBjdXJyZW50IGhlYWRlciBpcyBhbGxvd2VkIHRvIG1vdmUgYXMgdGhlIHVzZXIgc2Nyb2xscy5cbiAgICpcbiAgICogQHJldHVybiB7Ym9vbGVhbn1cbiAgICovXG4gIF9tYXlNb3ZlOiBmdW5jdGlvbigpIHtcbiAgICByZXR1cm4gdGhpcy5jb25kZW5zZXMgfHwgIXRoaXMuZml4ZWQ7XG4gIH0sXG5cbiAgLyoqXG4gICAqIFJldHVybnMgdHJ1ZSBpZiB0aGUgY3VycmVudCBoZWFkZXIgd2lsbCBjb25kZW5zZSBiYXNlZCBvbiB0aGUgc2l6ZSBvZiB0aGVcbiAgICogaGVhZGVyIGFuZCB0aGUgYGNvbnNlbnNlc2AgcHJvcGVydHkuXG4gICAqXG4gICAqIEByZXR1cm4ge2Jvb2xlYW59XG4gICAqL1xuICB3aWxsQ29uZGVuc2U6IGZ1bmN0aW9uKCkge1xuICAgIHJldHVybiB0aGlzLl9kSGVpZ2h0ID4gMCAmJiB0aGlzLmNvbmRlbnNlcztcbiAgfSxcblxuICAvKipcbiAgICogUmV0dXJucyB0cnVlIGlmIHRoZSBjdXJyZW50IGVsZW1lbnQgaXMgb24gdGhlIHNjcmVlbi5cbiAgICogVGhhdCBpcywgdmlzaWJsZSBpbiB0aGUgY3VycmVudCB2aWV3cG9ydC5cbiAgICpcbiAgICogQG1ldGhvZCBpc09uU2NyZWVuXG4gICAqIEByZXR1cm4ge2Jvb2xlYW59XG4gICAqL1xuICBpc09uU2NyZWVuOiBmdW5jdGlvbigpIHtcbiAgICByZXR1cm4gdGhpcy5faGVpZ2h0ICE9PSAwICYmIHRoaXMuX3RvcCA8IHRoaXMuX2hlaWdodDtcbiAgfSxcblxuICAvKipcbiAgICogUmV0dXJucyB0cnVlIGlmIHRoZXJlJ3MgY29udGVudCBiZWxvdyB0aGUgY3VycmVudCBlbGVtZW50LlxuICAgKlxuICAgKiBAbWV0aG9kIGlzQ29udGVudEJlbG93XG4gICAqIEByZXR1cm4ge2Jvb2xlYW59XG4gICAqL1xuICBpc0NvbnRlbnRCZWxvdzogZnVuY3Rpb24oKSB7XG4gICAgcmV0dXJuIHRoaXMuX3RvcCA9PT0gMCA/IHRoaXMuX2NsYW1wZWRTY3JvbGxUb3AgPiAwIDpcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5fY2xhbXBlZFNjcm9sbFRvcCAtIHRoaXMuX21heEhlYWRlclRvcCA+PSAwO1xuICB9LFxuXG4gIC8qKlxuICAgKiBUcmFuc2Zvcm1zIHRoZSBoZWFkZXIuXG4gICAqXG4gICAqIEBwYXJhbSB7bnVtYmVyfSB5XG4gICAqL1xuICBfdHJhbnNmb3JtSGVhZGVyOiBmdW5jdGlvbih5KSB7XG4gICAgdGhpcy50cmFuc2xhdGUzZCgwLCAoLXkpICsgJ3B4JywgMCk7XG4gICAgaWYgKHRoaXMuX3N0aWNreUVsKSB7XG4gICAgICB0aGlzLnRyYW5zbGF0ZTNkKFxuICAgICAgICAgIDAsXG4gICAgICAgICAgdGhpcy5jb25kZW5zZXMgJiYgeSA+PSB0aGlzLl9zdGlja3lFbFRvcCA/XG4gICAgICAgICAgICAgIChNYXRoLm1pbih5LCB0aGlzLl9kSGVpZ2h0KSAtIHRoaXMuX3N0aWNreUVsVG9wKSArICdweCcgOlxuICAgICAgICAgICAgICAwLFxuICAgICAgICAgIDAsXG4gICAgICAgICAgdGhpcy5fc3RpY2t5RWwpO1xuICAgIH1cbiAgfSxcblxuICBfY2xhbXA6IGZ1bmN0aW9uKHYsIG1pbiwgbWF4KSB7XG4gICAgcmV0dXJuIE1hdGgubWluKG1heCwgTWF0aC5tYXgobWluLCB2KSk7XG4gIH0sXG5cbiAgX2Vuc3VyZUJnQ29udGFpbmVyczogZnVuY3Rpb24oKSB7XG4gICAgaWYgKCF0aGlzLl9iZ0NvbnRhaW5lcikge1xuICAgICAgdGhpcy5fYmdDb250YWluZXIgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdkaXYnKTtcbiAgICAgIHRoaXMuX2JnQ29udGFpbmVyLmlkID0gJ2JhY2tncm91bmQnO1xuICAgICAgdGhpcy5fYmdSZWFyID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnZGl2Jyk7XG4gICAgICB0aGlzLl9iZ1JlYXIuaWQgPSAnYmFja2dyb3VuZFJlYXJMYXllcic7XG4gICAgICB0aGlzLl9iZ0NvbnRhaW5lci5hcHBlbmRDaGlsZCh0aGlzLl9iZ1JlYXIpO1xuICAgICAgdGhpcy5fYmdGcm9udCA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ2RpdicpO1xuICAgICAgdGhpcy5fYmdGcm9udC5pZCA9ICdiYWNrZ3JvdW5kRnJvbnRMYXllcic7XG4gICAgICB0aGlzLl9iZ0NvbnRhaW5lci5hcHBlbmRDaGlsZCh0aGlzLl9iZ0Zyb250KTtcbiAgICAgIGRvbSh0aGlzLnJvb3QpLmluc2VydEJlZm9yZSh0aGlzLl9iZ0NvbnRhaW5lciwgdGhpcy4kLmNvbnRlbnRDb250YWluZXIpO1xuICAgIH1cbiAgfSxcblxuICBfZ2V0RE9NUmVmOiBmdW5jdGlvbihpZCkge1xuICAgIHN3aXRjaCAoaWQpIHtcbiAgICAgIGNhc2UgJ2JhY2tncm91bmRGcm9udExheWVyJzpcbiAgICAgICAgdGhpcy5fZW5zdXJlQmdDb250YWluZXJzKCk7XG4gICAgICAgIHJldHVybiB0aGlzLl9iZ0Zyb250O1xuICAgICAgY2FzZSAnYmFja2dyb3VuZFJlYXJMYXllcic6XG4gICAgICAgIHRoaXMuX2Vuc3VyZUJnQ29udGFpbmVycygpO1xuICAgICAgICByZXR1cm4gdGhpcy5fYmdSZWFyO1xuICAgICAgY2FzZSAnYmFja2dyb3VuZCc6XG4gICAgICAgIHRoaXMuX2Vuc3VyZUJnQ29udGFpbmVycygpO1xuICAgICAgICByZXR1cm4gdGhpcy5fYmdDb250YWluZXI7XG4gICAgICBjYXNlICdtYWluVGl0bGUnOlxuICAgICAgICByZXR1cm4gZG9tKHRoaXMpLnF1ZXJ5U2VsZWN0b3IoJ1ttYWluLXRpdGxlXScpO1xuICAgICAgY2FzZSAnY29uZGVuc2VkVGl0bGUnOlxuICAgICAgICByZXR1cm4gZG9tKHRoaXMpLnF1ZXJ5U2VsZWN0b3IoJ1tjb25kZW5zZWQtdGl0bGVdJyk7XG4gICAgfVxuICAgIHJldHVybiBudWxsO1xuICB9LFxuXG4gIC8qKlxuICAgKiBSZXR1cm5zIGFuIG9iamVjdCBjb250YWluaW5nIHRoZSBwcm9ncmVzcyB2YWx1ZSBvZiB0aGUgc2Nyb2xsIGVmZmVjdHNcbiAgICogYW5kIHRoZSB0b3AgcG9zaXRpb24gb2YgdGhlIGhlYWRlci5cbiAgICpcbiAgICogQG1ldGhvZCBnZXRTY3JvbGxTdGF0ZVxuICAgKiBAcmV0dXJuIHtPYmplY3R9XG4gICAqL1xuICBnZXRTY3JvbGxTdGF0ZTogZnVuY3Rpb24oKSB7XG4gICAgcmV0dXJuIHtwcm9ncmVzczogdGhpcy5fcHJvZ3Jlc3MsIHRvcDogdGhpcy5fdG9wfTtcbiAgfVxufSk7XG4iLCIvKipcbkBsaWNlbnNlXG5Db3B5cmlnaHQgKGMpIDIwMTYgVGhlIFBvbHltZXIgUHJvamVjdCBBdXRob3JzLiBBbGwgcmlnaHRzIHJlc2VydmVkLlxuVGhpcyBjb2RlIG1heSBvbmx5IGJlIHVzZWQgdW5kZXIgdGhlIEJTRCBzdHlsZSBsaWNlbnNlIGZvdW5kIGF0XG5odHRwOi8vcG9seW1lci5naXRodWIuaW8vTElDRU5TRS50eHQgVGhlIGNvbXBsZXRlIHNldCBvZiBhdXRob3JzIG1heSBiZSBmb3VuZCBhdFxuaHR0cDovL3BvbHltZXIuZ2l0aHViLmlvL0FVVEhPUlMudHh0IFRoZSBjb21wbGV0ZSBzZXQgb2YgY29udHJpYnV0b3JzIG1heSBiZVxuZm91bmQgYXQgaHR0cDovL3BvbHltZXIuZ2l0aHViLmlvL0NPTlRSSUJVVE9SUy50eHQgQ29kZSBkaXN0cmlidXRlZCBieSBHb29nbGUgYXNcbnBhcnQgb2YgdGhlIHBvbHltZXIgcHJvamVjdCBpcyBhbHNvIHN1YmplY3QgdG8gYW4gYWRkaXRpb25hbCBJUCByaWdodHMgZ3JhbnRcbmZvdW5kIGF0IGh0dHA6Ly9wb2x5bWVyLmdpdGh1Yi5pby9QQVRFTlRTLnR4dFxuKi9cbmltcG9ydCAnLi4vYXBwLXNjcm9sbC1lZmZlY3RzLWJlaGF2aW9yLmpzJztcblxuaW1wb3J0IHtyZWdpc3RlckVmZmVjdH0gZnJvbSAnLi4vLi4vaGVscGVycy9oZWxwZXJzLmpzJztcbi8qKlxuICogVG9nZ2xlcyB0aGUgc2hhZG93IHByb3BlcnR5IGluIGFwcC1oZWFkZXIgd2hlbiBjb250ZW50IGlzIHNjcm9sbGVkIHRvIGNyZWF0ZVxuICogYSBzZW5zZSBvZiBkZXB0aCBiZXR3ZWVuIHRoZSBlbGVtZW50IGFuZCB0aGUgY29udGVudCB1bmRlcm5lYXRoLlxuICovXG5yZWdpc3RlckVmZmVjdCgnd2F0ZXJmYWxsJywge1xuICAvKipcbiAgICogIEB0aGlzIFBvbHltZXIuQXBwTGF5b3V0LkVsZW1lbnRXaXRoQmFja2dyb3VuZFxuICAgKi9cbiAgcnVuOiBmdW5jdGlvbiBydW4oKSB7XG4gICAgdGhpcy5zaGFkb3cgPSB0aGlzLmlzT25TY3JlZW4oKSAmJiB0aGlzLmlzQ29udGVudEJlbG93KCk7XG4gIH1cbn0pO1xuIiwiLyoqXG5AbGljZW5zZVxuQ29weXJpZ2h0IChjKSAyMDE1IFRoZSBQb2x5bWVyIFByb2plY3QgQXV0aG9ycy4gQWxsIHJpZ2h0cyByZXNlcnZlZC5cblRoaXMgY29kZSBtYXkgb25seSBiZSB1c2VkIHVuZGVyIHRoZSBCU0Qgc3R5bGUgbGljZW5zZSBmb3VuZCBhdFxuaHR0cDovL3BvbHltZXIuZ2l0aHViLmlvL0xJQ0VOU0UudHh0IFRoZSBjb21wbGV0ZSBzZXQgb2YgYXV0aG9ycyBtYXkgYmUgZm91bmQgYXRcbmh0dHA6Ly9wb2x5bWVyLmdpdGh1Yi5pby9BVVRIT1JTLnR4dCBUaGUgY29tcGxldGUgc2V0IG9mIGNvbnRyaWJ1dG9ycyBtYXkgYmVcbmZvdW5kIGF0IGh0dHA6Ly9wb2x5bWVyLmdpdGh1Yi5pby9DT05UUklCVVRPUlMudHh0IENvZGUgZGlzdHJpYnV0ZWQgYnkgR29vZ2xlIGFzXG5wYXJ0IG9mIHRoZSBwb2x5bWVyIHByb2plY3QgaXMgYWxzbyBzdWJqZWN0IHRvIGFuIGFkZGl0aW9uYWwgSVAgcmlnaHRzIGdyYW50XG5mb3VuZCBhdCBodHRwOi8vcG9seW1lci5naXRodWIuaW8vUEFURU5UUy50eHRcbiovXG5pbXBvcnQgJ0Bwb2x5bWVyL3BvbHltZXIvcG9seW1lci1sZWdhY3kuanMnO1xuXG5pbXBvcnQgJ0Bwb2x5bWVyL2lyb24tZmxleC1sYXlvdXQvaXJvbi1mbGV4LWxheW91dC5qcyc7XG5pbXBvcnQge1BvbHltZXJ9IGZyb20gJ0Bwb2x5bWVyL3BvbHltZXIvbGliL2xlZ2FjeS9wb2x5bWVyLWZuLmpzJztcbmltcG9ydCB7aHRtbH0gZnJvbSAnQHBvbHltZXIvcG9seW1lci9saWIvdXRpbHMvaHRtbC10YWcuanMnO1xuXG4vKipcbmFwcC10b29sYmFyIGlzIGEgaG9yaXpvbnRhbCB0b29sYmFyIGNvbnRhaW5pbmcgaXRlbXMgdGhhdCBjYW4gYmUgdXNlZCBmb3JcbmxhYmVsLCBuYXZpZ2F0aW9uLCBzZWFyY2ggYW5kIGFjdGlvbnMuXG5cbiMjIyBFeGFtcGxlXG5cbkFkZCBhIHRpdGxlIHRvIHRoZSB0b29sYmFyLlxuXG5gYGBodG1sXG48YXBwLXRvb2xiYXI+XG4gIDxkaXYgbWFpbi10aXRsZT5BcHAgbmFtZTwvZGl2PlxuPC9hcHAtdG9vbGJhcj5cbmBgYFxuXG5BZGQgYSBidXR0b24gdG8gdGhlIGxlZnQgYW5kIHJpZ2h0IHNpZGUgb2YgdGhlIHRvb2xiYXIuXG5cbmBgYGh0bWxcbjxhcHAtdG9vbGJhcj5cbiAgPHBhcGVyLWljb24tYnV0dG9uIGljb249XCJtZW51XCI+PC9wYXBlci1pY29uLWJ1dHRvbj5cbiAgPGRpdiBtYWluLXRpdGxlPkFwcCBuYW1lPC9kaXY+XG4gIDxwYXBlci1pY29uLWJ1dHRvbiBpY29uPVwic2VhcmNoXCI+PC9wYXBlci1pY29uLWJ1dHRvbj5cbjwvYXBwLXRvb2xiYXI+XG5gYGBcblxuWW91IGNhbiB1c2UgdGhlIGF0dHJpYnV0ZXMgYHRvcC1pdGVtYCBvciBgYm90dG9tLWl0ZW1gIHRvIGNvbXBsZXRlbHkgZml0IGFuXG5lbGVtZW50IHRvIHRoZSB0b3Agb3IgYm90dG9tIG9mIHRoZSB0b29sYmFyIHJlc3BlY3RpdmVseS5cblxuIyMjIENvbnRlbnQgYXR0cmlidXRlc1xuXG5BdHRyaWJ1dGUgICAgICAgICAgICB8IERlc2NyaXB0aW9uXG4tLS0tLS0tLS0tLS0tLS0tLS0tLS18LS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tXG5gbWFpbi10aXRsZWAgICAgICAgICB8IFRoZSBtYWluIHRpdGxlIGVsZW1lbnQuXG5gY29uZGVuc2VkLXRpdGxlYCAgICB8IFRoZSB0aXRsZSBlbGVtZW50IGlmIHVzZWQgaW5zaWRlIGEgY29uZGVuc2VkIGFwcC1oZWFkZXIuXG5gc3BhY2VyYCAgICAgICAgICAgICB8IEFkZHMgYSBsZWZ0IG1hcmdpbiBvZiBgNjRweGAuXG5gYm90dG9tLWl0ZW1gICAgICAgICB8IFN0aWNrcyB0aGUgZWxlbWVudCB0byB0aGUgYm90dG9tIG9mIHRoZSB0b29sYmFyLlxuYHRvcC1pdGVtYCAgICAgICAgICAgfCBTdGlja3MgdGhlIGVsZW1lbnQgdG8gdGhlIHRvcCBvZiB0aGUgdG9vbGJhci5cblxuIyMjIFN0eWxpbmdcblxuQ3VzdG9tIHByb3BlcnR5ICAgICAgICAgICAgICB8IERlc2NyaXB0aW9uICAgICAgICAgICAgICAgICAgfCBEZWZhdWx0XG4tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLXwtLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS18LS0tLS0tLS0tLS0tLS0tLS0tLS0tLS1cbmAtLWFwcC10b29sYmFyLWZvbnQtc2l6ZWAgICAgfCBUb29sYmFyIGZvbnQgc2l6ZSAgICAgICAgICAgIHwgMjBweFxuXG5AZ3JvdXAgQXBwIEVsZW1lbnRzXG5AZWxlbWVudCBhcHAtdG9vbGJhclxuQGRlbW8gYXBwLXRvb2xiYXIvZGVtby9pbmRleC5odG1sXG4qL1xuUG9seW1lcih7XG4gIF90ZW1wbGF0ZTogaHRtbGBcbiAgICA8c3R5bGU+XG5cbiAgICAgIDpob3N0IHtcbiAgICAgICAgQGFwcGx5IC0tbGF5b3V0LWhvcml6b250YWw7XG4gICAgICAgIEBhcHBseSAtLWxheW91dC1jZW50ZXI7XG4gICAgICAgIHBvc2l0aW9uOiByZWxhdGl2ZTtcbiAgICAgICAgaGVpZ2h0OiA2NHB4O1xuICAgICAgICBwYWRkaW5nOiAwIDE2cHg7XG4gICAgICAgIHBvaW50ZXItZXZlbnRzOiBub25lO1xuICAgICAgICBmb250LXNpemU6IHZhcigtLWFwcC10b29sYmFyLWZvbnQtc2l6ZSwgMjBweCk7XG4gICAgICB9XG5cbiAgICAgIDpob3N0IDo6c2xvdHRlZCgqKSB7XG4gICAgICAgIHBvaW50ZXItZXZlbnRzOiBhdXRvO1xuICAgICAgfVxuXG4gICAgICA6aG9zdCA6OnNsb3R0ZWQocGFwZXItaWNvbi1idXR0b24pIHtcbiAgICAgICAgLyogcGFwZXItaWNvbi1idXR0b24vaXNzdWVzLzMzICovXG4gICAgICAgIGZvbnQtc2l6ZTogMDtcbiAgICAgIH1cblxuICAgICAgOmhvc3QgOjpzbG90dGVkKFttYWluLXRpdGxlXSksXG4gICAgICA6aG9zdCA6OnNsb3R0ZWQoW2NvbmRlbnNlZC10aXRsZV0pIHtcbiAgICAgICAgcG9pbnRlci1ldmVudHM6IG5vbmU7XG4gICAgICAgIEBhcHBseSAtLWxheW91dC1mbGV4O1xuICAgICAgfVxuXG4gICAgICA6aG9zdCA6OnNsb3R0ZWQoW2JvdHRvbS1pdGVtXSkge1xuICAgICAgICBwb3NpdGlvbjogYWJzb2x1dGU7XG4gICAgICAgIHJpZ2h0OiAwO1xuICAgICAgICBib3R0b206IDA7XG4gICAgICAgIGxlZnQ6IDA7XG4gICAgICB9XG5cbiAgICAgIDpob3N0IDo6c2xvdHRlZChbdG9wLWl0ZW1dKSB7XG4gICAgICAgIHBvc2l0aW9uOiBhYnNvbHV0ZTtcbiAgICAgICAgdG9wOiAwO1xuICAgICAgICByaWdodDogMDtcbiAgICAgICAgbGVmdDogMDtcbiAgICAgIH1cblxuICAgICAgOmhvc3QgOjpzbG90dGVkKFtzcGFjZXJdKSB7XG4gICAgICAgIG1hcmdpbi1sZWZ0OiA2NHB4O1xuICAgICAgfVxuICAgIDwvc3R5bGU+XG5cbiAgICA8c2xvdD48L3Nsb3Q+XG5gLFxuXG4gIGlzOiAnYXBwLXRvb2xiYXInXG59KTtcbiIsIi8qKlxuQGxpY2Vuc2VcbkNvcHlyaWdodCAoYykgMjAxNSBUaGUgUG9seW1lciBQcm9qZWN0IEF1dGhvcnMuIEFsbCByaWdodHMgcmVzZXJ2ZWQuXG5UaGlzIGNvZGUgbWF5IG9ubHkgYmUgdXNlZCB1bmRlciB0aGUgQlNEIHN0eWxlIGxpY2Vuc2UgZm91bmQgYXRcbmh0dHA6Ly9wb2x5bWVyLmdpdGh1Yi5pby9MSUNFTlNFLnR4dCBUaGUgY29tcGxldGUgc2V0IG9mIGF1dGhvcnMgbWF5IGJlIGZvdW5kIGF0XG5odHRwOi8vcG9seW1lci5naXRodWIuaW8vQVVUSE9SUy50eHQgVGhlIGNvbXBsZXRlIHNldCBvZiBjb250cmlidXRvcnMgbWF5IGJlXG5mb3VuZCBhdCBodHRwOi8vcG9seW1lci5naXRodWIuaW8vQ09OVFJJQlVUT1JTLnR4dCBDb2RlIGRpc3RyaWJ1dGVkIGJ5IEdvb2dsZSBhc1xucGFydCBvZiB0aGUgcG9seW1lciBwcm9qZWN0IGlzIGFsc28gc3ViamVjdCB0byBhbiBhZGRpdGlvbmFsIElQIHJpZ2h0cyBncmFudFxuZm91bmQgYXQgaHR0cDovL3BvbHltZXIuZ2l0aHViLmlvL1BBVEVOVFMudHh0XG4qL1xuXG5leHBvcnQge307IC8vIGVuc3VyZSB0aGlzIGZpbGUgY2FuIG9ubHkgYmUgcGFyc2VkIGFzIGEgbW9kdWxlLlxuXG4vLyBHaXZlIHRoZSB1c2VyIHRoZSBjaG9pY2UgdG8gb3B0IG91dCBvZiBmb250IGxvYWRpbmcuXG5pZiAoIXdpbmRvdy5wb2x5bWVyU2tpcExvYWRpbmdGb250Um9ib3RvKSB7XG4gIGNvbnN0IGxpbmsgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdsaW5rJyk7XG4gIGxpbmsucmVsID0gJ3N0eWxlc2hlZXQnO1xuICBsaW5rLnR5cGUgPSAndGV4dC9jc3MnO1xuICBsaW5rLmNyb3NzT3JpZ2luID0gJ2Fub255bW91cyc7XG4gIGxpbmsuaHJlZiA9XG4gICAgICAnaHR0cHM6Ly9mb250cy5nb29nbGVhcGlzLmNvbS9jc3M/ZmFtaWx5PVJvYm90bytNb25vOjQwMCw3MDB8Um9ib3RvOjQwMCwzMDAsMzAwaXRhbGljLDQwMGl0YWxpYyw1MDAsNTAwaXRhbGljLDcwMCw3MDBpdGFsaWMnO1xuICBkb2N1bWVudC5oZWFkLmFwcGVuZENoaWxkKGxpbmspO1xufVxuIiwiLyoqXG5AbGljZW5zZVxuQ29weXJpZ2h0IChjKSAyMDE1IFRoZSBQb2x5bWVyIFByb2plY3QgQXV0aG9ycy4gQWxsIHJpZ2h0cyByZXNlcnZlZC5cblRoaXMgY29kZSBtYXkgb25seSBiZSB1c2VkIHVuZGVyIHRoZSBCU0Qgc3R5bGUgbGljZW5zZSBmb3VuZCBhdFxuaHR0cDovL3BvbHltZXIuZ2l0aHViLmlvL0xJQ0VOU0UudHh0IFRoZSBjb21wbGV0ZSBzZXQgb2YgYXV0aG9ycyBtYXkgYmUgZm91bmQgYXRcbmh0dHA6Ly9wb2x5bWVyLmdpdGh1Yi5pby9BVVRIT1JTLnR4dCBUaGUgY29tcGxldGUgc2V0IG9mIGNvbnRyaWJ1dG9ycyBtYXkgYmVcbmZvdW5kIGF0IGh0dHA6Ly9wb2x5bWVyLmdpdGh1Yi5pby9DT05UUklCVVRPUlMudHh0IENvZGUgZGlzdHJpYnV0ZWQgYnkgR29vZ2xlIGFzXG5wYXJ0IG9mIHRoZSBwb2x5bWVyIHByb2plY3QgaXMgYWxzbyBzdWJqZWN0IHRvIGFuIGFkZGl0aW9uYWwgSVAgcmlnaHRzIGdyYW50XG5mb3VuZCBhdCBodHRwOi8vcG9seW1lci5naXRodWIuaW8vUEFURU5UUy50eHRcbiovXG4vKlxuVHlwb2dyYXBoaWMgc3R5bGVzIGFyZSBwcm92aWRlZCBtYXRjaGluZyB0aGUgTWF0ZXJpYWwgRGVzaWduIHN0YW5kYXJkIHN0eWxlczpcbmh0dHA6Ly93d3cuZ29vZ2xlLmNvbS9kZXNpZ24vc3BlYy9zdHlsZS90eXBvZ3JhcGh5Lmh0bWwjdHlwb2dyYXBoeS1zdGFuZGFyZC1zdHlsZXNcblxuTm90ZSB0aGF0IHRoZXNlIGFyZSBFbmdsaXNoL0xhdGluIGNlbnRyaWMgc3R5bGVzLiBZb3UgbWF5IG5lZWQgdG8gZnVydGhlciBhZGp1c3RcbmxpbmUgaGVpZ2h0cyBhbmQgd2VpZ2h0cyBmb3IgQ0pLIHR5cGVzZXR0aW5nLiBTZWUgdGhlIG5vdGVzIGluIHRoZSBNYXRlcmlhbFxuRGVzaWduIHR5cG9ncmFwaHkgc2VjdGlvbi5cbiovXG5cbmltcG9ydCAnQHBvbHltZXIvcG9seW1lci9wb2x5bWVyLWxlZ2FjeS5qcyc7XG5pbXBvcnQgJ0Bwb2x5bWVyL2ZvbnQtcm9ib3RvL3JvYm90by5qcyc7XG5cbmltcG9ydCB7aHRtbH0gZnJvbSAnQHBvbHltZXIvcG9seW1lci9saWIvdXRpbHMvaHRtbC10YWcuanMnO1xuY29uc3QgdGVtcGxhdGUgPSBodG1sYDxjdXN0b20tc3R5bGU+XG4gIDxzdHlsZSBpcz1cImN1c3RvbS1zdHlsZVwiPlxuICAgIGh0bWwge1xuXG4gICAgICAvKiBTaGFyZWQgU3R5bGVzICovXG4gICAgICAtLXBhcGVyLWZvbnQtY29tbW9uLWJhc2U6IHtcbiAgICAgICAgZm9udC1mYW1pbHk6ICdSb2JvdG8nLCAnTm90bycsIHNhbnMtc2VyaWY7XG4gICAgICAgIC13ZWJraXQtZm9udC1zbW9vdGhpbmc6IGFudGlhbGlhc2VkO1xuICAgICAgfTtcblxuICAgICAgLS1wYXBlci1mb250LWNvbW1vbi1jb2RlOiB7XG4gICAgICAgIGZvbnQtZmFtaWx5OiAnUm9ib3RvIE1vbm8nLCAnQ29uc29sYXMnLCAnTWVubG8nLCBtb25vc3BhY2U7XG4gICAgICAgIC13ZWJraXQtZm9udC1zbW9vdGhpbmc6IGFudGlhbGlhc2VkO1xuICAgICAgfTtcblxuICAgICAgLS1wYXBlci1mb250LWNvbW1vbi1leHBlbnNpdmUta2VybmluZzoge1xuICAgICAgICB0ZXh0LXJlbmRlcmluZzogb3B0aW1pemVMZWdpYmlsaXR5O1xuICAgICAgfTtcblxuICAgICAgLS1wYXBlci1mb250LWNvbW1vbi1ub3dyYXA6IHtcbiAgICAgICAgd2hpdGUtc3BhY2U6IG5vd3JhcDtcbiAgICAgICAgb3ZlcmZsb3c6IGhpZGRlbjtcbiAgICAgICAgdGV4dC1vdmVyZmxvdzogZWxsaXBzaXM7XG4gICAgICB9O1xuXG4gICAgICAvKiBNYXRlcmlhbCBGb250IFN0eWxlcyAqL1xuXG4gICAgICAtLXBhcGVyLWZvbnQtZGlzcGxheTQ6IHtcbiAgICAgICAgQGFwcGx5IC0tcGFwZXItZm9udC1jb21tb24tYmFzZTtcbiAgICAgICAgQGFwcGx5IC0tcGFwZXItZm9udC1jb21tb24tbm93cmFwO1xuXG4gICAgICAgIGZvbnQtc2l6ZTogMTEycHg7XG4gICAgICAgIGZvbnQtd2VpZ2h0OiAzMDA7XG4gICAgICAgIGxldHRlci1zcGFjaW5nOiAtLjA0NGVtO1xuICAgICAgICBsaW5lLWhlaWdodDogMTIwcHg7XG4gICAgICB9O1xuXG4gICAgICAtLXBhcGVyLWZvbnQtZGlzcGxheTM6IHtcbiAgICAgICAgQGFwcGx5IC0tcGFwZXItZm9udC1jb21tb24tYmFzZTtcbiAgICAgICAgQGFwcGx5IC0tcGFwZXItZm9udC1jb21tb24tbm93cmFwO1xuXG4gICAgICAgIGZvbnQtc2l6ZTogNTZweDtcbiAgICAgICAgZm9udC13ZWlnaHQ6IDQwMDtcbiAgICAgICAgbGV0dGVyLXNwYWNpbmc6IC0uMDI2ZW07XG4gICAgICAgIGxpbmUtaGVpZ2h0OiA2MHB4O1xuICAgICAgfTtcblxuICAgICAgLS1wYXBlci1mb250LWRpc3BsYXkyOiB7XG4gICAgICAgIEBhcHBseSAtLXBhcGVyLWZvbnQtY29tbW9uLWJhc2U7XG5cbiAgICAgICAgZm9udC1zaXplOiA0NXB4O1xuICAgICAgICBmb250LXdlaWdodDogNDAwO1xuICAgICAgICBsZXR0ZXItc3BhY2luZzogLS4wMThlbTtcbiAgICAgICAgbGluZS1oZWlnaHQ6IDQ4cHg7XG4gICAgICB9O1xuXG4gICAgICAtLXBhcGVyLWZvbnQtZGlzcGxheTE6IHtcbiAgICAgICAgQGFwcGx5IC0tcGFwZXItZm9udC1jb21tb24tYmFzZTtcblxuICAgICAgICBmb250LXNpemU6IDM0cHg7XG4gICAgICAgIGZvbnQtd2VpZ2h0OiA0MDA7XG4gICAgICAgIGxldHRlci1zcGFjaW5nOiAtLjAxZW07XG4gICAgICAgIGxpbmUtaGVpZ2h0OiA0MHB4O1xuICAgICAgfTtcblxuICAgICAgLS1wYXBlci1mb250LWhlYWRsaW5lOiB7XG4gICAgICAgIEBhcHBseSAtLXBhcGVyLWZvbnQtY29tbW9uLWJhc2U7XG5cbiAgICAgICAgZm9udC1zaXplOiAyNHB4O1xuICAgICAgICBmb250LXdlaWdodDogNDAwO1xuICAgICAgICBsZXR0ZXItc3BhY2luZzogLS4wMTJlbTtcbiAgICAgICAgbGluZS1oZWlnaHQ6IDMycHg7XG4gICAgICB9O1xuXG4gICAgICAtLXBhcGVyLWZvbnQtdGl0bGU6IHtcbiAgICAgICAgQGFwcGx5IC0tcGFwZXItZm9udC1jb21tb24tYmFzZTtcbiAgICAgICAgQGFwcGx5IC0tcGFwZXItZm9udC1jb21tb24tbm93cmFwO1xuXG4gICAgICAgIGZvbnQtc2l6ZTogMjBweDtcbiAgICAgICAgZm9udC13ZWlnaHQ6IDUwMDtcbiAgICAgICAgbGluZS1oZWlnaHQ6IDI4cHg7XG4gICAgICB9O1xuXG4gICAgICAtLXBhcGVyLWZvbnQtc3ViaGVhZDoge1xuICAgICAgICBAYXBwbHkgLS1wYXBlci1mb250LWNvbW1vbi1iYXNlO1xuXG4gICAgICAgIGZvbnQtc2l6ZTogMTZweDtcbiAgICAgICAgZm9udC13ZWlnaHQ6IDQwMDtcbiAgICAgICAgbGluZS1oZWlnaHQ6IDI0cHg7XG4gICAgICB9O1xuXG4gICAgICAtLXBhcGVyLWZvbnQtYm9keTI6IHtcbiAgICAgICAgQGFwcGx5IC0tcGFwZXItZm9udC1jb21tb24tYmFzZTtcblxuICAgICAgICBmb250LXNpemU6IDE0cHg7XG4gICAgICAgIGZvbnQtd2VpZ2h0OiA1MDA7XG4gICAgICAgIGxpbmUtaGVpZ2h0OiAyNHB4O1xuICAgICAgfTtcblxuICAgICAgLS1wYXBlci1mb250LWJvZHkxOiB7XG4gICAgICAgIEBhcHBseSAtLXBhcGVyLWZvbnQtY29tbW9uLWJhc2U7XG5cbiAgICAgICAgZm9udC1zaXplOiAxNHB4O1xuICAgICAgICBmb250LXdlaWdodDogNDAwO1xuICAgICAgICBsaW5lLWhlaWdodDogMjBweDtcbiAgICAgIH07XG5cbiAgICAgIC0tcGFwZXItZm9udC1jYXB0aW9uOiB7XG4gICAgICAgIEBhcHBseSAtLXBhcGVyLWZvbnQtY29tbW9uLWJhc2U7XG4gICAgICAgIEBhcHBseSAtLXBhcGVyLWZvbnQtY29tbW9uLW5vd3JhcDtcblxuICAgICAgICBmb250LXNpemU6IDEycHg7XG4gICAgICAgIGZvbnQtd2VpZ2h0OiA0MDA7XG4gICAgICAgIGxldHRlci1zcGFjaW5nOiAwLjAxMWVtO1xuICAgICAgICBsaW5lLWhlaWdodDogMjBweDtcbiAgICAgIH07XG5cbiAgICAgIC0tcGFwZXItZm9udC1tZW51OiB7XG4gICAgICAgIEBhcHBseSAtLXBhcGVyLWZvbnQtY29tbW9uLWJhc2U7XG4gICAgICAgIEBhcHBseSAtLXBhcGVyLWZvbnQtY29tbW9uLW5vd3JhcDtcblxuICAgICAgICBmb250LXNpemU6IDEzcHg7XG4gICAgICAgIGZvbnQtd2VpZ2h0OiA1MDA7XG4gICAgICAgIGxpbmUtaGVpZ2h0OiAyNHB4O1xuICAgICAgfTtcblxuICAgICAgLS1wYXBlci1mb250LWJ1dHRvbjoge1xuICAgICAgICBAYXBwbHkgLS1wYXBlci1mb250LWNvbW1vbi1iYXNlO1xuICAgICAgICBAYXBwbHkgLS1wYXBlci1mb250LWNvbW1vbi1ub3dyYXA7XG5cbiAgICAgICAgZm9udC1zaXplOiAxNHB4O1xuICAgICAgICBmb250LXdlaWdodDogNTAwO1xuICAgICAgICBsZXR0ZXItc3BhY2luZzogMC4wMThlbTtcbiAgICAgICAgbGluZS1oZWlnaHQ6IDI0cHg7XG4gICAgICAgIHRleHQtdHJhbnNmb3JtOiB1cHBlcmNhc2U7XG4gICAgICB9O1xuXG4gICAgICAtLXBhcGVyLWZvbnQtY29kZTI6IHtcbiAgICAgICAgQGFwcGx5IC0tcGFwZXItZm9udC1jb21tb24tY29kZTtcblxuICAgICAgICBmb250LXNpemU6IDE0cHg7XG4gICAgICAgIGZvbnQtd2VpZ2h0OiA3MDA7XG4gICAgICAgIGxpbmUtaGVpZ2h0OiAyMHB4O1xuICAgICAgfTtcblxuICAgICAgLS1wYXBlci1mb250LWNvZGUxOiB7XG4gICAgICAgIEBhcHBseSAtLXBhcGVyLWZvbnQtY29tbW9uLWNvZGU7XG5cbiAgICAgICAgZm9udC1zaXplOiAxNHB4O1xuICAgICAgICBmb250LXdlaWdodDogNTAwO1xuICAgICAgICBsaW5lLWhlaWdodDogMjBweDtcbiAgICAgIH07XG5cbiAgICB9XG5cbiAgPC9zdHlsZT5cbjwvY3VzdG9tLXN0eWxlPmA7XG50ZW1wbGF0ZS5zZXRBdHRyaWJ1dGUoJ3N0eWxlJywgJ2Rpc3BsYXk6IG5vbmU7Jyk7XG5kb2N1bWVudC5oZWFkLmFwcGVuZENoaWxkKHRlbXBsYXRlLmNvbnRlbnQpO1xuIiwiLyoqXG5AbGljZW5zZVxuQ29weXJpZ2h0IChjKSAyMDE1IFRoZSBQb2x5bWVyIFByb2plY3QgQXV0aG9ycy4gQWxsIHJpZ2h0cyByZXNlcnZlZC5cblRoaXMgY29kZSBtYXkgb25seSBiZSB1c2VkIHVuZGVyIHRoZSBCU0Qgc3R5bGUgbGljZW5zZSBmb3VuZCBhdFxuaHR0cDovL3BvbHltZXIuZ2l0aHViLmlvL0xJQ0VOU0UudHh0IFRoZSBjb21wbGV0ZSBzZXQgb2YgYXV0aG9ycyBtYXkgYmUgZm91bmQgYXRcbmh0dHA6Ly9wb2x5bWVyLmdpdGh1Yi5pby9BVVRIT1JTLnR4dCBUaGUgY29tcGxldGUgc2V0IG9mIGNvbnRyaWJ1dG9ycyBtYXkgYmVcbmZvdW5kIGF0IGh0dHA6Ly9wb2x5bWVyLmdpdGh1Yi5pby9DT05UUklCVVRPUlMudHh0IENvZGUgZGlzdHJpYnV0ZWQgYnkgR29vZ2xlIGFzXG5wYXJ0IG9mIHRoZSBwb2x5bWVyIHByb2plY3QgaXMgYWxzbyBzdWJqZWN0IHRvIGFuIGFkZGl0aW9uYWwgSVAgcmlnaHRzIGdyYW50XG5mb3VuZCBhdCBodHRwOi8vcG9seW1lci5naXRodWIuaW8vUEFURU5UUy50eHRcbiovXG5pbXBvcnQgJ0Bwb2x5bWVyL3BvbHltZXIvcG9seW1lci1sZWdhY3kuanMnO1xuXG5pbXBvcnQge1BvbHltZXJ9IGZyb20gJ0Bwb2x5bWVyL3BvbHltZXIvbGliL2xlZ2FjeS9wb2x5bWVyLWZuLmpzJztcbmltcG9ydCB7aHRtbH0gZnJvbSAnQHBvbHltZXIvcG9seW1lci9saWIvdXRpbHMvaHRtbC10YWcuanMnO1xuXG4vKipcbmBpcm9uLWExMXktYW5ub3VuY2VyYCBpcyBhIHNpbmdsZXRvbiBlbGVtZW50IHRoYXQgaXMgaW50ZW5kZWQgdG8gYWRkIGExMXlcbnRvIGZlYXR1cmVzIHRoYXQgcmVxdWlyZSBvbi1kZW1hbmQgYW5ub3VuY2VtZW50IGZyb20gc2NyZWVuIHJlYWRlcnMuIEluXG5vcmRlciB0byBtYWtlIHVzZSBvZiB0aGUgYW5ub3VuY2VyLCBpdCBpcyBiZXN0IHRvIHJlcXVlc3QgaXRzIGF2YWlsYWJpbGl0eVxuaW4gdGhlIGFubm91bmNpbmcgZWxlbWVudC5cblxuRXhhbXBsZTpcblxuICAgIFBvbHltZXIoe1xuXG4gICAgICBpczogJ3gtY2hhdHR5JyxcblxuICAgICAgYXR0YWNoZWQ6IGZ1bmN0aW9uKCkge1xuICAgICAgICAvLyBUaGlzIHdpbGwgY3JlYXRlIHRoZSBzaW5nbGV0b24gZWxlbWVudCBpZiBpdCBoYXMgbm90XG4gICAgICAgIC8vIGJlZW4gY3JlYXRlZCB5ZXQ6XG4gICAgICAgIFBvbHltZXIuSXJvbkExMXlBbm5vdW5jZXIucmVxdWVzdEF2YWlsYWJpbGl0eSgpO1xuICAgICAgfVxuICAgIH0pO1xuXG5BZnRlciB0aGUgYGlyb24tYTExeS1hbm5vdW5jZXJgIGhhcyBiZWVuIG1hZGUgYXZhaWxhYmxlLCBlbGVtZW50cyBjYW5cbm1ha2UgYW5ub3VuY2VzIGJ5IGZpcmluZyBidWJibGluZyBgaXJvbi1hbm5vdW5jZWAgZXZlbnRzLlxuXG5FeGFtcGxlOlxuXG4gICAgdGhpcy5maXJlKCdpcm9uLWFubm91bmNlJywge1xuICAgICAgdGV4dDogJ1RoaXMgaXMgYW4gYW5ub3VuY2VtZW50ISdcbiAgICB9LCB7IGJ1YmJsZXM6IHRydWUgfSk7XG5cbk5vdGU6IGFubm91bmNlbWVudHMgYXJlIG9ubHkgYXVkaWJsZSBpZiB5b3UgaGF2ZSBhIHNjcmVlbiByZWFkZXIgZW5hYmxlZC5cblxuQGdyb3VwIElyb24gRWxlbWVudHNcbkBkZW1vIGRlbW8vaW5kZXguaHRtbFxuKi9cbmV4cG9ydCBjb25zdCBJcm9uQTExeUFubm91bmNlciA9IFBvbHltZXIoe1xuICBfdGVtcGxhdGU6IGh0bWxgXG4gICAgPHN0eWxlPlxuICAgICAgOmhvc3Qge1xuICAgICAgICBkaXNwbGF5OiBpbmxpbmUtYmxvY2s7XG4gICAgICAgIHBvc2l0aW9uOiBmaXhlZDtcbiAgICAgICAgY2xpcDogcmVjdCgwcHgsMHB4LDBweCwwcHgpO1xuICAgICAgfVxuICAgIDwvc3R5bGU+XG4gICAgPGRpdiBhcmlhLWxpdmUkPVwiW1ttb2RlXV1cIj5bW190ZXh0XV08L2Rpdj5cbmAsXG5cbiAgaXM6ICdpcm9uLWExMXktYW5ub3VuY2VyJyxcblxuICBwcm9wZXJ0aWVzOiB7XG5cbiAgICAvKipcbiAgICAgKiBUaGUgdmFsdWUgb2YgbW9kZSBpcyB1c2VkIHRvIHNldCB0aGUgYGFyaWEtbGl2ZWAgYXR0cmlidXRlXG4gICAgICogZm9yIHRoZSBlbGVtZW50IHRoYXQgd2lsbCBiZSBhbm5vdW5jZWQuIFZhbGlkIHZhbHVlcyBhcmU6IGBvZmZgLFxuICAgICAqIGBwb2xpdGVgIGFuZCBgYXNzZXJ0aXZlYC5cbiAgICAgKi9cbiAgICBtb2RlOiB7dHlwZTogU3RyaW5nLCB2YWx1ZTogJ3BvbGl0ZSd9LFxuXG4gICAgX3RleHQ6IHt0eXBlOiBTdHJpbmcsIHZhbHVlOiAnJ31cbiAgfSxcblxuICBjcmVhdGVkOiBmdW5jdGlvbigpIHtcbiAgICBpZiAoIUlyb25BMTF5QW5ub3VuY2VyLmluc3RhbmNlKSB7XG4gICAgICBJcm9uQTExeUFubm91bmNlci5pbnN0YW5jZSA9IHRoaXM7XG4gICAgfVxuXG4gICAgZG9jdW1lbnQuYm9keS5hZGRFdmVudExpc3RlbmVyKFxuICAgICAgICAnaXJvbi1hbm5vdW5jZScsIHRoaXMuX29uSXJvbkFubm91bmNlLmJpbmQodGhpcykpO1xuICB9LFxuXG4gIC8qKlxuICAgKiBDYXVzZSBhIHRleHQgc3RyaW5nIHRvIGJlIGFubm91bmNlZCBieSBzY3JlZW4gcmVhZGVycy5cbiAgICpcbiAgICogQHBhcmFtIHtzdHJpbmd9IHRleHQgVGhlIHRleHQgdGhhdCBzaG91bGQgYmUgYW5ub3VuY2VkLlxuICAgKi9cbiAgYW5ub3VuY2U6IGZ1bmN0aW9uKHRleHQpIHtcbiAgICB0aGlzLl90ZXh0ID0gJyc7XG4gICAgdGhpcy5hc3luYyhmdW5jdGlvbigpIHtcbiAgICAgIHRoaXMuX3RleHQgPSB0ZXh0O1xuICAgIH0sIDEwMCk7XG4gIH0sXG5cbiAgX29uSXJvbkFubm91bmNlOiBmdW5jdGlvbihldmVudCkge1xuICAgIGlmIChldmVudC5kZXRhaWwgJiYgZXZlbnQuZGV0YWlsLnRleHQpIHtcbiAgICAgIHRoaXMuYW5ub3VuY2UoZXZlbnQuZGV0YWlsLnRleHQpO1xuICAgIH1cbiAgfVxufSk7XG5cbklyb25BMTF5QW5ub3VuY2VyLmluc3RhbmNlID0gbnVsbDtcblxuSXJvbkExMXlBbm5vdW5jZXIucmVxdWVzdEF2YWlsYWJpbGl0eSA9IGZ1bmN0aW9uKCkge1xuICBpZiAoIUlyb25BMTF5QW5ub3VuY2VyLmluc3RhbmNlKSB7XG4gICAgSXJvbkExMXlBbm5vdW5jZXIuaW5zdGFuY2UgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdpcm9uLWExMXktYW5ub3VuY2VyJyk7XG4gIH1cblxuICBkb2N1bWVudC5ib2R5LmFwcGVuZENoaWxkKElyb25BMTF5QW5ub3VuY2VyLmluc3RhbmNlKTtcbn07XG4iLCIvKipcbkBsaWNlbnNlXG5Db3B5cmlnaHQgKGMpIDIwMTUgVGhlIFBvbHltZXIgUHJvamVjdCBBdXRob3JzLiBBbGwgcmlnaHRzIHJlc2VydmVkLlxuVGhpcyBjb2RlIG1heSBvbmx5IGJlIHVzZWQgdW5kZXIgdGhlIEJTRCBzdHlsZSBsaWNlbnNlIGZvdW5kIGF0XG5odHRwOi8vcG9seW1lci5naXRodWIuaW8vTElDRU5TRS50eHQgVGhlIGNvbXBsZXRlIHNldCBvZiBhdXRob3JzIG1heSBiZSBmb3VuZCBhdFxuaHR0cDovL3BvbHltZXIuZ2l0aHViLmlvL0FVVEhPUlMudHh0IFRoZSBjb21wbGV0ZSBzZXQgb2YgY29udHJpYnV0b3JzIG1heSBiZVxuZm91bmQgYXQgaHR0cDovL3BvbHltZXIuZ2l0aHViLmlvL0NPTlRSSUJVVE9SUy50eHQgQ29kZSBkaXN0cmlidXRlZCBieSBHb29nbGUgYXNcbnBhcnQgb2YgdGhlIHBvbHltZXIgcHJvamVjdCBpcyBhbHNvIHN1YmplY3QgdG8gYW4gYWRkaXRpb25hbCBJUCByaWdodHMgZ3JhbnRcbmZvdW5kIGF0IGh0dHA6Ly9wb2x5bWVyLmdpdGh1Yi5pby9QQVRFTlRTLnR4dFxuKi9cbmltcG9ydCAnQHBvbHltZXIvcG9seW1lci9wb2x5bWVyLWxlZ2FjeS5qcyc7XG5cbmltcG9ydCB7SXJvbk1ldGF9IGZyb20gJ0Bwb2x5bWVyL2lyb24tbWV0YS9pcm9uLW1ldGEuanMnO1xuXG4vKipcbiAqIFNpbmdsZXRvbiBJcm9uTWV0YSBpbnN0YW5jZS5cbiAqL1xuZXhwb3J0IGxldCBJcm9uVmFsaWRhdGFibGVCZWhhdmlvck1ldGEgPSBudWxsO1xuXG4vKipcbiAqIGBVc2UgSXJvblZhbGlkYXRhYmxlQmVoYXZpb3JgIHRvIGltcGxlbWVudCBhbiBlbGVtZW50IHRoYXQgdmFsaWRhdGVzXG4gKiB1c2VyIGlucHV0LiBVc2UgdGhlIHJlbGF0ZWQgYElyb25WYWxpZGF0b3JCZWhhdmlvcmAgdG8gYWRkIGN1c3RvbVxuICogdmFsaWRhdGlvbiBsb2dpYyB0byBhbiBpcm9uLWlucHV0LlxuICpcbiAqIEJ5IGRlZmF1bHQsIGFuIGA8aXJvbi1mb3JtPmAgZWxlbWVudCB2YWxpZGF0ZXMgaXRzIGZpZWxkcyB3aGVuIHRoZSB1c2VyXG4gKiBwcmVzc2VzIHRoZSBzdWJtaXQgYnV0dG9uLiBUbyB2YWxpZGF0ZSBhIGZvcm0gaW1wZXJhdGl2ZWx5LCBjYWxsIHRoZSBmb3JtJ3NcbiAqIGB2YWxpZGF0ZSgpYCBtZXRob2QsIHdoaWNoIGluIHR1cm4gd2lsbCBjYWxsIGB2YWxpZGF0ZSgpYCBvbiBhbGwgaXRzXG4gKiBjaGlsZHJlbi4gQnkgdXNpbmcgYElyb25WYWxpZGF0YWJsZUJlaGF2aW9yYCwgeW91ciBjdXN0b20gZWxlbWVudFxuICogd2lsbCBnZXQgYSBwdWJsaWMgYHZhbGlkYXRlKClgLCB3aGljaCB3aWxsIHJldHVybiB0aGUgdmFsaWRpdHkgb2YgdGhlXG4gKiBlbGVtZW50LCBhbmQgYSBjb3JyZXNwb25kaW5nIGBpbnZhbGlkYCBhdHRyaWJ1dGUsIHdoaWNoIGNhbiBiZSB1c2VkIGZvclxuICogc3R5bGluZy5cbiAqXG4gKiBUbyBpbXBsZW1lbnQgdGhlIGN1c3RvbSB2YWxpZGF0aW9uIGxvZ2ljIG9mIHlvdXIgZWxlbWVudCwgeW91IG11c3Qgb3ZlcnJpZGVcbiAqIHRoZSBwcm90ZWN0ZWQgYF9nZXRWYWxpZGl0eSgpYCBtZXRob2Qgb2YgdGhpcyBiZWhhdmlvdXIsIHJhdGhlciB0aGFuXG4gKiBgdmFsaWRhdGUoKWAuIFNlZVxuICogW3RoaXNdKGh0dHBzOi8vZ2l0aHViLmNvbS9Qb2x5bWVyRWxlbWVudHMvaXJvbi1mb3JtL2Jsb2IvbWFzdGVyL2RlbW8vc2ltcGxlLWVsZW1lbnQuaHRtbClcbiAqIGZvciBhbiBleGFtcGxlLlxuICpcbiAqICMjIyBBY2Nlc3NpYmlsaXR5XG4gKlxuICogQ2hhbmdpbmcgdGhlIGBpbnZhbGlkYCBwcm9wZXJ0eSwgZWl0aGVyIG1hbnVhbGx5IG9yIGJ5IGNhbGxpbmcgYHZhbGlkYXRlKClgXG4gKiB3aWxsIHVwZGF0ZSB0aGUgYGFyaWEtaW52YWxpZGAgYXR0cmlidXRlLlxuICpcbiAqIEBkZW1vIGRlbW8vaW5kZXguaHRtbFxuICogQHBvbHltZXJCZWhhdmlvclxuICovXG5leHBvcnQgY29uc3QgSXJvblZhbGlkYXRhYmxlQmVoYXZpb3IgPSB7XG5cbiAgcHJvcGVydGllczoge1xuICAgIC8qKlxuICAgICAqIE5hbWUgb2YgdGhlIHZhbGlkYXRvciB0byB1c2UuXG4gICAgICovXG4gICAgdmFsaWRhdG9yOiB7dHlwZTogU3RyaW5nfSxcblxuICAgIC8qKlxuICAgICAqIFRydWUgaWYgdGhlIGxhc3QgY2FsbCB0byBgdmFsaWRhdGVgIGlzIGludmFsaWQuXG4gICAgICovXG4gICAgaW52YWxpZDoge1xuICAgICAgbm90aWZ5OiB0cnVlLFxuICAgICAgcmVmbGVjdFRvQXR0cmlidXRlOiB0cnVlLFxuICAgICAgdHlwZTogQm9vbGVhbixcbiAgICAgIHZhbHVlOiBmYWxzZSxcbiAgICAgIG9ic2VydmVyOiAnX2ludmFsaWRDaGFuZ2VkJ1xuICAgIH0sXG4gIH0sXG5cbiAgcmVnaXN0ZXJlZDogZnVuY3Rpb24oKSB7XG4gICAgSXJvblZhbGlkYXRhYmxlQmVoYXZpb3JNZXRhID0gbmV3IElyb25NZXRhKHt0eXBlOiAndmFsaWRhdG9yJ30pO1xuICB9LFxuXG4gIF9pbnZhbGlkQ2hhbmdlZDogZnVuY3Rpb24oKSB7XG4gICAgaWYgKHRoaXMuaW52YWxpZCkge1xuICAgICAgdGhpcy5zZXRBdHRyaWJ1dGUoJ2FyaWEtaW52YWxpZCcsICd0cnVlJyk7XG4gICAgfSBlbHNlIHtcbiAgICAgIHRoaXMucmVtb3ZlQXR0cmlidXRlKCdhcmlhLWludmFsaWQnKTtcbiAgICB9XG4gIH0sXG5cbiAgLyogUmVjb21wdXRlIHRoaXMgZXZlcnkgdGltZSBpdCdzIG5lZWRlZCwgYmVjYXVzZSB3ZSBkb24ndCBrbm93IGlmIHRoZVxuICAgKiB1bmRlcmx5aW5nIElyb25WYWxpZGF0YWJsZUJlaGF2aW9yTWV0YSBoYXMgY2hhbmdlZC4gKi9cbiAgZ2V0IF92YWxpZGF0b3IoKSB7XG4gICAgcmV0dXJuIElyb25WYWxpZGF0YWJsZUJlaGF2aW9yTWV0YSAmJlxuICAgICAgICBJcm9uVmFsaWRhdGFibGVCZWhhdmlvck1ldGEuYnlLZXkodGhpcy52YWxpZGF0b3IpO1xuICB9LFxuXG4gIC8qKlxuICAgKiBAcmV0dXJuIHtib29sZWFufSBUcnVlIGlmIHRoZSB2YWxpZGF0b3IgYHZhbGlkYXRvcmAgZXhpc3RzLlxuICAgKi9cbiAgaGFzVmFsaWRhdG9yOiBmdW5jdGlvbigpIHtcbiAgICByZXR1cm4gdGhpcy5fdmFsaWRhdG9yICE9IG51bGw7XG4gIH0sXG5cbiAgLyoqXG4gICAqIFJldHVybnMgdHJ1ZSBpZiB0aGUgYHZhbHVlYCBpcyB2YWxpZCwgYW5kIHVwZGF0ZXMgYGludmFsaWRgLiBJZiB5b3Ugd2FudFxuICAgKiB5b3VyIGVsZW1lbnQgdG8gaGF2ZSBjdXN0b20gdmFsaWRhdGlvbiBsb2dpYywgZG8gbm90IG92ZXJyaWRlIHRoaXMgbWV0aG9kO1xuICAgKiBvdmVycmlkZSBgX2dldFZhbGlkaXR5KHZhbHVlKWAgaW5zdGVhZC5cblxuICAgKiBAcGFyYW0ge09iamVjdH0gdmFsdWUgRGVwcmVjYXRlZDogVGhlIHZhbHVlIHRvIGJlIHZhbGlkYXRlZC4gQnkgZGVmYXVsdCxcbiAgICogaXQgaXMgcGFzc2VkIHRvIHRoZSB2YWxpZGF0b3IncyBgdmFsaWRhdGUoKWAgZnVuY3Rpb24sIGlmIGEgdmFsaWRhdG9yIGlzXG4gICBzZXQuXG4gICAqIElmIHRoaXMgYXJndW1lbnQgaXMgbm90IHNwZWNpZmllZCwgdGhlbiB0aGUgZWxlbWVudCdzIGB2YWx1ZWAgcHJvcGVydHlcbiAgICogaXMgdXNlZCwgaWYgaXQgZXhpc3RzLlxuICAgKiBAcmV0dXJuIHtib29sZWFufSBUcnVlIGlmIGB2YWx1ZWAgaXMgdmFsaWQuXG4gICAqL1xuICB2YWxpZGF0ZTogZnVuY3Rpb24odmFsdWUpIHtcbiAgICAvLyBJZiB0aGlzIGlzIGFuIGVsZW1lbnQgdGhhdCBhbHNvIGhhcyBhIHZhbHVlIHByb3BlcnR5LCBhbmQgdGhlcmUgd2FzXG4gICAgLy8gbm8gZXhwbGljaXQgdmFsdWUgYXJndW1lbnQgcGFzc2VkLCB1c2UgdGhlIGVsZW1lbnQncyBwcm9wZXJ0eSBpbnN0ZWFkLlxuICAgIGlmICh2YWx1ZSA9PT0gdW5kZWZpbmVkICYmIHRoaXMudmFsdWUgIT09IHVuZGVmaW5lZClcbiAgICAgIHRoaXMuaW52YWxpZCA9ICF0aGlzLl9nZXRWYWxpZGl0eSh0aGlzLnZhbHVlKTtcbiAgICBlbHNlXG4gICAgICB0aGlzLmludmFsaWQgPSAhdGhpcy5fZ2V0VmFsaWRpdHkodmFsdWUpO1xuICAgIHJldHVybiAhdGhpcy5pbnZhbGlkO1xuICB9LFxuXG4gIC8qKlxuICAgKiBSZXR1cm5zIHRydWUgaWYgYHZhbHVlYCBpcyB2YWxpZC4gIEJ5IGRlZmF1bHQsIGl0IGlzIHBhc3NlZFxuICAgKiB0byB0aGUgdmFsaWRhdG9yJ3MgYHZhbGlkYXRlKClgIGZ1bmN0aW9uLCBpZiBhIHZhbGlkYXRvciBpcyBzZXQuIFlvdVxuICAgKiBzaG91bGQgb3ZlcnJpZGUgdGhpcyBtZXRob2QgaWYgeW91IHdhbnQgdG8gaW1wbGVtZW50IGN1c3RvbSB2YWxpZGl0eVxuICAgKiBsb2dpYyBmb3IgeW91ciBlbGVtZW50LlxuICAgKlxuICAgKiBAcGFyYW0ge09iamVjdH0gdmFsdWUgVGhlIHZhbHVlIHRvIGJlIHZhbGlkYXRlZC5cbiAgICogQHJldHVybiB7Ym9vbGVhbn0gVHJ1ZSBpZiBgdmFsdWVgIGlzIHZhbGlkLlxuICAgKi9cblxuICBfZ2V0VmFsaWRpdHk6IGZ1bmN0aW9uKHZhbHVlKSB7XG4gICAgaWYgKHRoaXMuaGFzVmFsaWRhdG9yKCkpIHtcbiAgICAgIHJldHVybiB0aGlzLl92YWxpZGF0b3IudmFsaWRhdGUodmFsdWUpO1xuICAgIH1cbiAgICByZXR1cm4gdHJ1ZTtcbiAgfVxufTtcbiIsIi8qKlxuQGxpY2Vuc2VcbkNvcHlyaWdodCAoYykgMjAxNSBUaGUgUG9seW1lciBQcm9qZWN0IEF1dGhvcnMuIEFsbCByaWdodHMgcmVzZXJ2ZWQuXG5UaGlzIGNvZGUgbWF5IG9ubHkgYmUgdXNlZCB1bmRlciB0aGUgQlNEIHN0eWxlIGxpY2Vuc2UgZm91bmQgYXRcbmh0dHA6Ly9wb2x5bWVyLmdpdGh1Yi5pby9MSUNFTlNFLnR4dCBUaGUgY29tcGxldGUgc2V0IG9mIGF1dGhvcnMgbWF5IGJlIGZvdW5kIGF0XG5odHRwOi8vcG9seW1lci5naXRodWIuaW8vQVVUSE9SUy50eHQgVGhlIGNvbXBsZXRlIHNldCBvZiBjb250cmlidXRvcnMgbWF5IGJlXG5mb3VuZCBhdCBodHRwOi8vcG9seW1lci5naXRodWIuaW8vQ09OVFJJQlVUT1JTLnR4dCBDb2RlIGRpc3RyaWJ1dGVkIGJ5IEdvb2dsZSBhc1xucGFydCBvZiB0aGUgcG9seW1lciBwcm9qZWN0IGlzIGFsc28gc3ViamVjdCB0byBhbiBhZGRpdGlvbmFsIElQIHJpZ2h0cyBncmFudFxuZm91bmQgYXQgaHR0cDovL3BvbHltZXIuZ2l0aHViLmlvL1BBVEVOVFMudHh0XG4qL1xuaW1wb3J0ICdAcG9seW1lci9wb2x5bWVyL3BvbHltZXItbGVnYWN5LmpzJztcblxuaW1wb3J0IHtJcm9uQTExeUFubm91bmNlcn0gZnJvbSAnQHBvbHltZXIvaXJvbi1hMTF5LWFubm91bmNlci9pcm9uLWExMXktYW5ub3VuY2VyLmpzJztcbmltcG9ydCB7SXJvblZhbGlkYXRhYmxlQmVoYXZpb3J9IGZyb20gJ0Bwb2x5bWVyL2lyb24tdmFsaWRhdGFibGUtYmVoYXZpb3IvaXJvbi12YWxpZGF0YWJsZS1iZWhhdmlvci5qcyc7XG5pbXBvcnQge1BvbHltZXJ9IGZyb20gJ0Bwb2x5bWVyL3BvbHltZXIvbGliL2xlZ2FjeS9wb2x5bWVyLWZuLmpzJztcbmltcG9ydCB7ZG9tfSBmcm9tICdAcG9seW1lci9wb2x5bWVyL2xpYi9sZWdhY3kvcG9seW1lci5kb20uanMnO1xuaW1wb3J0IHtodG1sfSBmcm9tICdAcG9seW1lci9wb2x5bWVyL2xpYi91dGlscy9odG1sLXRhZy5qcyc7XG5cbi8qKlxuYDxpcm9uLWlucHV0PmAgaXMgYSB3cmFwcGVyIHRvIGEgbmF0aXZlIGA8aW5wdXQ+YCBlbGVtZW50LCB0aGF0IGFkZHMgdHdvLXdheVxuYmluZGluZyBhbmQgcHJldmVudGlvbiBvZiBpbnZhbGlkIGlucHV0LiBUbyB1c2UgaXQsIHlvdSBtdXN0IGRpc3RyaWJ1dGUgYSBuYXRpdmVcbmA8aW5wdXQ+YCB5b3Vyc2VsZi4gWW91IGNhbiBjb250aW51ZSB0byB1c2UgdGhlIG5hdGl2ZSBgaW5wdXRgIGFzIHlvdSB3b3VsZFxubm9ybWFsbHk6XG5cbiAgICA8aXJvbi1pbnB1dD5cbiAgICAgIDxpbnB1dD5cbiAgICA8L2lyb24taW5wdXQ+XG5cbiAgICA8aXJvbi1pbnB1dD5cbiAgICAgIDxpbnB1dCB0eXBlPVwiZW1haWxcIiBkaXNhYmxlZD5cbiAgICA8L2lyb24taW5wdXQ+XG5cbiMjIyBUd28td2F5IGJpbmRpbmdcblxuQnkgZGVmYXVsdCB5b3UgY2FuIG9ubHkgZ2V0IG5vdGlmaWVkIG9mIGNoYW5nZXMgdG8gYSBuYXRpdmUgYDxpbnB1dD5gJ3MgYHZhbHVlYFxuZHVlIHRvIHVzZXIgaW5wdXQ6XG5cbiAgICA8aW5wdXQgdmFsdWU9XCJ7e215VmFsdWU6OmlucHV0fX1cIj5cblxuVGhpcyBtZWFucyB0aGF0IGlmIHlvdSBpbXBlcmF0aXZlbHkgc2V0IHRoZSB2YWx1ZSAoaS5lLiBgc29tZU5hdGl2ZUlucHV0LnZhbHVlID1cbidmb28nYCksIG5vIGV2ZW50cyB3aWxsIGJlIGZpcmVkIGFuZCB0aGlzIGNoYW5nZSBjYW5ub3QgYmUgb2JzZXJ2ZWQuXG5cbmBpcm9uLWlucHV0YCBhZGRzIHRoZSBgYmluZC12YWx1ZWAgcHJvcGVydHkgdGhhdCBtaXJyb3JzIHRoZSBuYXRpdmUgYGlucHV0YCdzXG4nYHZhbHVlYCBwcm9wZXJ0eTsgdGhpcyBwcm9wZXJ0eSBjYW4gYmUgdXNlZCBmb3IgdHdvLXdheSBkYXRhIGJpbmRpbmcuXG5gYmluZC12YWx1ZWAgd2lsbCBub3RpZnkgaWYgaXQgaXMgY2hhbmdlZCBlaXRoZXIgYnkgdXNlciBpbnB1dCBvciBieSBzY3JpcHQuXG5cbiAgICA8aXJvbi1pbnB1dCBiaW5kLXZhbHVlPVwie3tteVZhbHVlfX1cIj5cbiAgICAgIDxpbnB1dD5cbiAgICA8L2lyb24taW5wdXQ+XG5cbk5vdGU6IHRoaXMgbWVhbnMgdGhhdCBpZiB5b3Ugd2FudCB0byBpbXBlcmF0aXZlbHkgc2V0IHRoZSBuYXRpdmUgYGlucHV0YCdzLCB5b3Vcbl9tdXN0XyBzZXQgYGJpbmQtdmFsdWVgIGluc3RlYWQsIHNvIHRoYXQgdGhlIHdyYXBwZXIgYGlyb24taW5wdXRgIGNhbiBiZVxubm90aWZpZWQuXG5cbiMjIyBWYWxpZGF0aW9uXG5cbmBpcm9uLWlucHV0YCB1c2VzIHRoZSBuYXRpdmUgYGlucHV0YCdzIHZhbGlkYXRpb24uIEZvciBzaW1wbGljaXR5LCBgaXJvbi1pbnB1dGBcbmhhcyBhIGB2YWxpZGF0ZSgpYCBtZXRob2QgKHdoaWNoIGludGVybmFsbHkganVzdCBjaGVja3MgdGhlIGRpc3RyaWJ1dGVkXG5gaW5wdXRgJ3MgdmFsaWRpdHkpLCB3aGljaCBzZXRzIGFuIGBpbnZhbGlkYCBhdHRyaWJ1dGUgdGhhdCBjYW4gYWxzbyBiZSB1c2VkIGZvclxuc3R5bGluZy5cblxuVG8gdmFsaWRhdGUgYXV0b21hdGljYWxseSBhcyB5b3UgdHlwZSwgeW91IGNhbiB1c2UgdGhlIGBhdXRvLXZhbGlkYXRlYFxuYXR0cmlidXRlLlxuXG5gaXJvbi1pbnB1dGAgYWxzbyBmaXJlcyBhbiBgaXJvbi1pbnB1dC12YWxpZGF0ZWAgZXZlbnQgYWZ0ZXIgYHZhbGlkYXRlKClgIGlzXG5jYWxsZWQuIFlvdSBjYW4gdXNlIGl0IHRvIGltcGxlbWVudCBhIGN1c3RvbSB2YWxpZGF0b3I6XG5cbiAgICB2YXIgQ2F0c09ubHlWYWxpZGF0b3IgPSB7XG4gICAgICB2YWxpZGF0ZTogZnVuY3Rpb24oaXJvbklucHV0KSB7XG4gICAgICAgIHZhciB2YWxpZCA9ICFpcm9uSW5wdXQuYmluZFZhbHVlIHx8IGlyb25JbnB1dC5iaW5kVmFsdWUgPT09ICdjYXQnO1xuICAgICAgICBpcm9uSW5wdXQuaW52YWxpZCA9ICF2YWxpZDtcbiAgICAgICAgcmV0dXJuIHZhbGlkO1xuICAgICAgfVxuICAgIH1cbiAgICBpcm9uSW5wdXQuYWRkRXZlbnRMaXN0ZW5lcignaXJvbi1pbnB1dC12YWxpZGF0ZScsIGZ1bmN0aW9uKCkge1xuICAgICAgQ2F0c09ubHkudmFsaWRhdGUoaW5wdXQyKTtcbiAgICB9KTtcblxuWW91IGNhbiBhbHNvIHVzZSBhbiBlbGVtZW50IGltcGxlbWVudGluZyBhblxuW2BJcm9uVmFsaWRhdG9yQmVoYXZpb3JgXSgvZWxlbWVudC9Qb2x5bWVyRWxlbWVudHMvaXJvbi12YWxpZGF0YWJsZS1iZWhhdmlvcikuXG5UaGlzIGV4YW1wbGUgY2FuIGFsc28gYmUgZm91bmQgaW4gdGhlIGRlbW8gZm9yIHRoaXMgZWxlbWVudDpcblxuICAgIDxpcm9uLWlucHV0IHZhbGlkYXRvcj1cImNhdHMtb25seVwiPlxuICAgICAgPGlucHV0PlxuICAgIDwvaXJvbi1pbnB1dD5cblxuIyMjIFByZXZlbnRpbmcgaW52YWxpZCBpbnB1dFxuXG5JdCBtYXkgYmUgZGVzaXJhYmxlIHRvIG9ubHkgYWxsb3cgdXNlcnMgdG8gZW50ZXIgY2VydGFpbiBjaGFyYWN0ZXJzLiBZb3UgY2FuIHVzZVxudGhlIGBhbGxvd2VkLXBhdHRlcm5gIGF0dHJpYnV0ZSB0byBhY2NvbXBsaXNoIHRoaXMuIFRoaXMgZmVhdHVyZSBpcyBzZXBhcmF0ZVxuZnJvbSB2YWxpZGF0aW9uLCBhbmQgYGFsbG93ZWQtcGF0dGVybmAgZG9lcyBub3QgYWZmZWN0IGhvdyB0aGUgaW5wdXQgaXNcbnZhbGlkYXRlZC5cblxuICAgIC8vIE9ubHkgYWxsb3cgdHlwaW5nIGRpZ2l0cywgYnV0IGEgdmFsaWQgaW5wdXQgaGFzIGV4YWN0bHkgNSBkaWdpdHMuXG4gICAgPGlyb24taW5wdXQgYWxsb3dlZC1wYXR0ZXJuPVwiWzAtOV1cIj5cbiAgICAgIDxpbnB1dCBwYXR0ZXJuPVwiXFxkezV9XCI+XG4gICAgPC9pcm9uLWlucHV0PlxuXG5AZGVtbyBkZW1vL2luZGV4Lmh0bWxcbiovXG5Qb2x5bWVyKHtcbiAgX3RlbXBsYXRlOiBodG1sYFxuICAgIDxzdHlsZT5cbiAgICAgIDpob3N0IHtcbiAgICAgICAgZGlzcGxheTogaW5saW5lLWJsb2NrO1xuICAgICAgfVxuICAgIDwvc3R5bGU+XG4gICAgPHNsb3QgaWQ9XCJjb250ZW50XCI+PC9zbG90PlxuYCxcblxuICBpczogJ2lyb24taW5wdXQnLFxuICBiZWhhdmlvcnM6IFtJcm9uVmFsaWRhdGFibGVCZWhhdmlvcl0sXG5cbiAgLyoqXG4gICAqIEZpcmVkIHdoZW5ldmVyIGB2YWxpZGF0ZSgpYCBpcyBjYWxsZWQuXG4gICAqXG4gICAqIEBldmVudCBpcm9uLWlucHV0LXZhbGlkYXRlXG4gICAqL1xuXG4gIHByb3BlcnRpZXM6IHtcblxuICAgIC8qKlxuICAgICAqIFVzZSB0aGlzIHByb3BlcnR5IGluc3RlYWQgb2YgYHZhbHVlYCBmb3IgdHdvLXdheSBkYXRhIGJpbmRpbmcsIG9yIHRvXG4gICAgICogc2V0IGEgZGVmYXVsdCB2YWx1ZSBmb3IgdGhlIGlucHV0LiAqKkRvIG5vdCoqIHVzZSB0aGUgZGlzdHJpYnV0ZWRcbiAgICAgKiBpbnB1dCdzIGB2YWx1ZWAgcHJvcGVydHkgdG8gc2V0IGEgZGVmYXVsdCB2YWx1ZS5cbiAgICAgKi9cbiAgICBiaW5kVmFsdWU6IHt0eXBlOiBTdHJpbmcsIHZhbHVlOiAnJ30sXG5cbiAgICAvKipcbiAgICAgKiBDb21wdXRlZCBwcm9wZXJ0eSB0aGF0IGVjaG9lcyBgYmluZFZhbHVlYCAobW9zdGx5IHVzZWQgZm9yIFBvbHltZXIgMS4wXG4gICAgICogYmFja2NvbXBhdGliaWxpdHksIGlmIHlvdSB3ZXJlIG9uZS13YXkgYmluZGluZyB0byB0aGUgUG9seW1lciAxLjBcbiAgICAgKiBgaW5wdXQgaXM9XCJpcm9uLWlucHV0XCJgIHZhbHVlIGF0dHJpYnV0ZSkuXG4gICAgICovXG4gICAgdmFsdWU6IHt0eXBlOiBTdHJpbmcsIGNvbXB1dGVkOiAnX2NvbXB1dGVWYWx1ZShiaW5kVmFsdWUpJ30sXG5cbiAgICAvKipcbiAgICAgKiBSZWdleC1saWtlIGxpc3Qgb2YgY2hhcmFjdGVycyBhbGxvd2VkIGFzIGlucHV0OyBhbGwgY2hhcmFjdGVycyBub3QgaW4gdGhlXG4gICAgICogbGlzdCB3aWxsIGJlIHJlamVjdGVkLiBUaGUgcmVjb21tZW5kZWQgZm9ybWF0IHNob3VsZCBiZSBhIGxpc3Qgb2YgYWxsb3dlZFxuICAgICAqIGNoYXJhY3RlcnMsIGZvciBleGFtcGxlLCBgW2EtekEtWjAtOS4rLSE7Ol1gLlxuICAgICAqXG4gICAgICogVGhpcyBwYXR0ZXJuIHJlcHJlc2VudHMgdGhlIGFsbG93ZWQgY2hhcmFjdGVycyBmb3IgdGhlIGZpZWxkOyBhcyB0aGUgdXNlclxuICAgICAqIGlucHV0cyB0ZXh0LCBlYWNoIGluZGl2aWR1YWwgY2hhcmFjdGVyIHdpbGwgYmUgY2hlY2tlZCBhZ2FpbnN0IHRoZVxuICAgICAqIHBhdHRlcm4gKHJhdGhlciB0aGFuIGNoZWNraW5nIHRoZSBlbnRpcmUgdmFsdWUgYXMgYSB3aG9sZSkuIElmIGFcbiAgICAgKiBjaGFyYWN0ZXIgaXMgbm90IGEgbWF0Y2gsIGl0IHdpbGwgYmUgcmVqZWN0ZWQuXG4gICAgICpcbiAgICAgKiBQYXN0ZWQgaW5wdXQgd2lsbCBoYXZlIGVhY2ggY2hhcmFjdGVyIGNoZWNrZWQgaW5kaXZpZHVhbGx5OyBpZiBhbnlcbiAgICAgKiBjaGFyYWN0ZXIgZG9lc24ndCBtYXRjaCBgYWxsb3dlZFBhdHRlcm5gLCB0aGUgZW50aXJlIHBhc3RlZCBzdHJpbmcgd2lsbFxuICAgICAqIGJlIHJlamVjdGVkLlxuICAgICAqXG4gICAgICogTm90ZTogaWYgeW91IHdlcmUgdXNpbmcgYGlyb24taW5wdXRgIGluIDEuMCwgeW91IHdlcmUgYWxzbyByZXF1aXJlZCB0b1xuICAgICAqIHNldCBgcHJldmVudC1pbnZhbGlkLWlucHV0YC4gVGhpcyBpcyBubyBsb25nZXIgbmVlZGVkIGFzIG9mIFBvbHltZXIgMi4wLFxuICAgICAqIGFuZCB3aWxsIGJlIHNldCBhdXRvbWF0aWNhbGx5IGZvciB5b3UgaWYgYW4gYGFsbG93ZWRQYXR0ZXJuYCBpcyBwcm92aWRlZC5cbiAgICAgKlxuICAgICAqL1xuICAgIGFsbG93ZWRQYXR0ZXJuOiB7dHlwZTogU3RyaW5nfSxcblxuICAgIC8qKlxuICAgICAqIFNldCB0byB0cnVlIHRvIGF1dG8tdmFsaWRhdGUgdGhlIGlucHV0IHZhbHVlIGFzIHlvdSB0eXBlLlxuICAgICAqL1xuICAgIGF1dG9WYWxpZGF0ZToge3R5cGU6IEJvb2xlYW4sIHZhbHVlOiBmYWxzZX0sXG5cbiAgICAvKipcbiAgICAgKiBUaGUgbmF0aXZlIGlucHV0IGVsZW1lbnQuXG4gICAgICovXG4gICAgX2lucHV0RWxlbWVudDogT2JqZWN0LFxuICB9LFxuXG4gIG9ic2VydmVyczogWydfYmluZFZhbHVlQ2hhbmdlZChiaW5kVmFsdWUsIF9pbnB1dEVsZW1lbnQpJ10sXG4gIGxpc3RlbmVyczogeydpbnB1dCc6ICdfb25JbnB1dCcsICdrZXlwcmVzcyc6ICdfb25LZXlwcmVzcyd9LFxuXG4gIGNyZWF0ZWQ6IGZ1bmN0aW9uKCkge1xuICAgIElyb25BMTF5QW5ub3VuY2VyLnJlcXVlc3RBdmFpbGFiaWxpdHkoKTtcbiAgICB0aGlzLl9wcmV2aW91c1ZhbGlkSW5wdXQgPSAnJztcbiAgICB0aGlzLl9wYXR0ZXJuQWxyZWFkeUNoZWNrZWQgPSBmYWxzZTtcbiAgfSxcblxuICBhdHRhY2hlZDogZnVuY3Rpb24oKSB7XG4gICAgLy8gSWYgdGhlIGlucHV0IGlzIGFkZGVkIGF0IGEgbGF0ZXIgdGltZSwgdXBkYXRlIHRoZSBpbnRlcm5hbCByZWZlcmVuY2UuXG4gICAgdGhpcy5fb2JzZXJ2ZXIgPSBkb20odGhpcykub2JzZXJ2ZU5vZGVzKGZ1bmN0aW9uKGluZm8pIHtcbiAgICAgIHRoaXMuX2luaXRTbG90dGVkSW5wdXQoKTtcbiAgICB9LmJpbmQodGhpcykpO1xuICB9LFxuXG4gIGRldGFjaGVkOiBmdW5jdGlvbigpIHtcbiAgICBpZiAodGhpcy5fb2JzZXJ2ZXIpIHtcbiAgICAgIGRvbSh0aGlzKS51bm9ic2VydmVOb2Rlcyh0aGlzLl9vYnNlcnZlcik7XG4gICAgICB0aGlzLl9vYnNlcnZlciA9IG51bGw7XG4gICAgfVxuICB9LFxuXG4gIC8qKlxuICAgKiBSZXR1cm5zIHRoZSBkaXN0cmlidXRlZCBpbnB1dCBlbGVtZW50LlxuICAgKi9cbiAgZ2V0IGlucHV0RWxlbWVudCgpIHtcbiAgICByZXR1cm4gdGhpcy5faW5wdXRFbGVtZW50O1xuICB9LFxuXG4gIF9pbml0U2xvdHRlZElucHV0OiBmdW5jdGlvbigpIHtcbiAgICB0aGlzLl9pbnB1dEVsZW1lbnQgPSB0aGlzLmdldEVmZmVjdGl2ZUNoaWxkcmVuKClbMF07XG5cbiAgICBpZiAodGhpcy5pbnB1dEVsZW1lbnQgJiYgdGhpcy5pbnB1dEVsZW1lbnQudmFsdWUpIHtcbiAgICAgIHRoaXMuYmluZFZhbHVlID0gdGhpcy5pbnB1dEVsZW1lbnQudmFsdWU7XG4gICAgfVxuXG4gICAgdGhpcy5maXJlKCdpcm9uLWlucHV0LXJlYWR5Jyk7XG4gIH0sXG5cbiAgZ2V0IF9wYXR0ZXJuUmVnRXhwKCkge1xuICAgIHZhciBwYXR0ZXJuO1xuICAgIGlmICh0aGlzLmFsbG93ZWRQYXR0ZXJuKSB7XG4gICAgICBwYXR0ZXJuID0gbmV3IFJlZ0V4cCh0aGlzLmFsbG93ZWRQYXR0ZXJuKTtcbiAgICB9IGVsc2Uge1xuICAgICAgc3dpdGNoICh0aGlzLmlucHV0RWxlbWVudC50eXBlKSB7XG4gICAgICAgIGNhc2UgJ251bWJlcic6XG4gICAgICAgICAgcGF0dGVybiA9IC9bMC05LixlLV0vO1xuICAgICAgICAgIGJyZWFrO1xuICAgICAgfVxuICAgIH1cbiAgICByZXR1cm4gcGF0dGVybjtcbiAgfSxcblxuICAvKipcbiAgICogQHN1cHByZXNzIHtjaGVja1R5cGVzfVxuICAgKi9cbiAgX2JpbmRWYWx1ZUNoYW5nZWQ6IGZ1bmN0aW9uKGJpbmRWYWx1ZSwgaW5wdXRFbGVtZW50KSB7XG4gICAgLy8gVGhlIG9ic2VydmVyIGNvdWxkIGhhdmUgcnVuIGJlZm9yZSBhdHRhY2hlZCgpIHdoZW4gd2UgaGF2ZSBhY3R1YWxseVxuICAgIC8vIGluaXRpYWxpemVkIHRoaXMgcHJvcGVydHkuXG4gICAgaWYgKCFpbnB1dEVsZW1lbnQpIHtcbiAgICAgIHJldHVybjtcbiAgICB9XG5cbiAgICBpZiAoYmluZFZhbHVlID09PSB1bmRlZmluZWQpIHtcbiAgICAgIGlucHV0RWxlbWVudC52YWx1ZSA9IG51bGw7XG4gICAgfSBlbHNlIGlmIChiaW5kVmFsdWUgIT09IGlucHV0RWxlbWVudC52YWx1ZSkge1xuICAgICAgdGhpcy5pbnB1dEVsZW1lbnQudmFsdWUgPSBiaW5kVmFsdWU7XG4gICAgfVxuXG4gICAgaWYgKHRoaXMuYXV0b1ZhbGlkYXRlKSB7XG4gICAgICB0aGlzLnZhbGlkYXRlKCk7XG4gICAgfVxuXG4gICAgLy8gbWFudWFsbHkgbm90aWZ5IGJlY2F1c2Ugd2UgZG9uJ3Qgd2FudCB0byBub3RpZnkgdW50aWwgYWZ0ZXIgc2V0dGluZyB2YWx1ZVxuICAgIHRoaXMuZmlyZSgnYmluZC12YWx1ZS1jaGFuZ2VkJywge3ZhbHVlOiBiaW5kVmFsdWV9KTtcbiAgfSxcblxuICBfb25JbnB1dDogZnVuY3Rpb24oKSB7XG4gICAgLy8gTmVlZCB0byB2YWxpZGF0ZSBlYWNoIG9mIHRoZSBjaGFyYWN0ZXJzIHBhc3RlZCBpZiB0aGV5IGhhdmVuJ3RcbiAgICAvLyBiZWVuIHZhbGlkYXRlZCBpbnNpZGUgYF9vbktleXByZXNzYCBhbHJlYWR5LlxuICAgIGlmICh0aGlzLmFsbG93ZWRQYXR0ZXJuICYmICF0aGlzLl9wYXR0ZXJuQWxyZWFkeUNoZWNrZWQpIHtcbiAgICAgIHZhciB2YWxpZCA9IHRoaXMuX2NoZWNrUGF0dGVyblZhbGlkaXR5KCk7XG4gICAgICBpZiAoIXZhbGlkKSB7XG4gICAgICAgIHRoaXMuX2Fubm91bmNlSW52YWxpZENoYXJhY3RlcihcbiAgICAgICAgICAgICdJbnZhbGlkIHN0cmluZyBvZiBjaGFyYWN0ZXJzIG5vdCBlbnRlcmVkLicpO1xuICAgICAgICB0aGlzLmlucHV0RWxlbWVudC52YWx1ZSA9IHRoaXMuX3ByZXZpb3VzVmFsaWRJbnB1dDtcbiAgICAgIH1cbiAgICB9XG4gICAgdGhpcy5iaW5kVmFsdWUgPSB0aGlzLl9wcmV2aW91c1ZhbGlkSW5wdXQgPSB0aGlzLmlucHV0RWxlbWVudC52YWx1ZTtcbiAgICB0aGlzLl9wYXR0ZXJuQWxyZWFkeUNoZWNrZWQgPSBmYWxzZTtcbiAgfSxcblxuICBfaXNQcmludGFibGU6IGZ1bmN0aW9uKGV2ZW50KSB7XG4gICAgLy8gV2hhdCBhIGNvbnRyb2wvcHJpbnRhYmxlIGNoYXJhY3RlciBpcyB2YXJpZXMgd2lsZGx5IGJhc2VkIG9uIHRoZSBicm93c2VyLlxuICAgIC8vIC0gbW9zdCBjb250cm9sIGNoYXJhY3RlcnMgKGFycm93cywgYmFja3NwYWNlKSBkbyBub3Qgc2VuZCBhIGBrZXlwcmVzc2BcbiAgICAvLyBldmVudFxuICAgIC8vICAgaW4gQ2hyb21lLCBidXQgdGhlICpkbyogb24gRmlyZWZveFxuICAgIC8vIC0gaW4gRmlyZWZveCwgd2hlbiB0aGV5IGRvIHNlbmQgYSBga2V5cHJlc3NgIGV2ZW50LCBjb250cm9sIGNoYXJzIGhhdmVcbiAgICAvLyAgIGEgY2hhckNvZGUgPSAwLCBrZXlDb2RlID0geHggKGZvciBleC4gNDAgZm9yIGRvd24gYXJyb3cpXG4gICAgLy8gLSBwcmludGFibGUgY2hhcmFjdGVycyBhbHdheXMgc2VuZCBhIGtleXByZXNzIGV2ZW50LlxuICAgIC8vIC0gaW4gRmlyZWZveCwgcHJpbnRhYmxlIGNoYXJzIGFsd2F5cyBoYXZlIGEga2V5Q29kZSA9IDAuIEluIENocm9tZSwgdGhlXG4gICAgLy8ga2V5Q29kZVxuICAgIC8vICAgYWx3YXlzIG1hdGNoZXMgdGhlIGNoYXJDb2RlLlxuICAgIC8vIE5vbmUgb2YgdGhpcyBtYWtlcyBhbnkgc2Vuc2UuXG5cbiAgICAvLyBGb3IgdGhlc2Uga2V5cywgQVNDSUkgY29kZSA9PSBicm93c2VyIGtleWNvZGUuXG4gICAgdmFyIGFueU5vblByaW50YWJsZSA9IChldmVudC5rZXlDb2RlID09IDgpIHx8ICAvLyBiYWNrc3BhY2VcbiAgICAgICAgKGV2ZW50LmtleUNvZGUgPT0gOSkgfHwgICAgICAgICAgICAgICAgICAgIC8vIHRhYlxuICAgICAgICAoZXZlbnQua2V5Q29kZSA9PSAxMykgfHwgICAgICAgICAgICAgICAgICAgLy8gZW50ZXJcbiAgICAgICAgKGV2ZW50LmtleUNvZGUgPT0gMjcpOyAgICAgICAgICAgICAgICAgICAgIC8vIGVzY2FwZVxuXG4gICAgLy8gRm9yIHRoZXNlIGtleXMsIG1ha2Ugc3VyZSBpdCdzIGEgYnJvd3NlciBrZXljb2RlIGFuZCBub3QgYW4gQVNDSUkgY29kZS5cbiAgICB2YXIgbW96Tm9uUHJpbnRhYmxlID0gKGV2ZW50LmtleUNvZGUgPT0gMTkpIHx8ICAvLyBwYXVzZVxuICAgICAgICAoZXZlbnQua2V5Q29kZSA9PSAyMCkgfHwgICAgICAgICAgICAgICAgICAgIC8vIGNhcHMgbG9ja1xuICAgICAgICAoZXZlbnQua2V5Q29kZSA9PSA0NSkgfHwgICAgICAgICAgICAgICAgICAgIC8vIGluc2VydFxuICAgICAgICAoZXZlbnQua2V5Q29kZSA9PSA0NikgfHwgICAgICAgICAgICAgICAgICAgIC8vIGRlbGV0ZVxuICAgICAgICAoZXZlbnQua2V5Q29kZSA9PSAxNDQpIHx8ICAgICAgICAgICAgICAgICAgIC8vIG51bSBsb2NrXG4gICAgICAgIChldmVudC5rZXlDb2RlID09IDE0NSkgfHwgICAgICAgICAgICAgICAgICAgLy8gc2Nyb2xsIGxvY2tcbiAgICAgICAgKGV2ZW50LmtleUNvZGUgPiAzMiAmJlxuICAgICAgICAgZXZlbnQua2V5Q29kZSA8IDQxKSB8fCAgLy8gcGFnZSB1cC9kb3duLCBlbmQsIGhvbWUsIGFycm93c1xuICAgICAgICAoZXZlbnQua2V5Q29kZSA+IDExMSAmJiBldmVudC5rZXlDb2RlIDwgMTI0KTsgIC8vIGZuIGtleXNcblxuICAgIHJldHVybiAhYW55Tm9uUHJpbnRhYmxlICYmICEoZXZlbnQuY2hhckNvZGUgPT0gMCAmJiBtb3pOb25QcmludGFibGUpO1xuICB9LFxuXG4gIF9vbktleXByZXNzOiBmdW5jdGlvbihldmVudCkge1xuICAgIGlmICghdGhpcy5hbGxvd2VkUGF0dGVybiAmJiB0aGlzLmlucHV0RWxlbWVudC50eXBlICE9PSAnbnVtYmVyJykge1xuICAgICAgcmV0dXJuO1xuICAgIH1cbiAgICB2YXIgcmVnZXhwID0gdGhpcy5fcGF0dGVyblJlZ0V4cDtcbiAgICBpZiAoIXJlZ2V4cCkge1xuICAgICAgcmV0dXJuO1xuICAgIH1cblxuICAgIC8vIEhhbmRsZSBzcGVjaWFsIGtleXMgYW5kIGJhY2tzcGFjZVxuICAgIGlmIChldmVudC5tZXRhS2V5IHx8IGV2ZW50LmN0cmxLZXkgfHwgZXZlbnQuYWx0S2V5KSB7XG4gICAgICByZXR1cm47XG4gICAgfVxuXG4gICAgLy8gQ2hlY2sgdGhlIHBhdHRlcm4gZWl0aGVyIGhlcmUgb3IgaW4gYF9vbklucHV0YCwgYnV0IG5vdCBpbiBib3RoLlxuICAgIHRoaXMuX3BhdHRlcm5BbHJlYWR5Q2hlY2tlZCA9IHRydWU7XG5cbiAgICB2YXIgdGhpc0NoYXIgPSBTdHJpbmcuZnJvbUNoYXJDb2RlKGV2ZW50LmNoYXJDb2RlKTtcbiAgICBpZiAodGhpcy5faXNQcmludGFibGUoZXZlbnQpICYmICFyZWdleHAudGVzdCh0aGlzQ2hhcikpIHtcbiAgICAgIGV2ZW50LnByZXZlbnREZWZhdWx0KCk7XG4gICAgICB0aGlzLl9hbm5vdW5jZUludmFsaWRDaGFyYWN0ZXIoXG4gICAgICAgICAgJ0ludmFsaWQgY2hhcmFjdGVyICcgKyB0aGlzQ2hhciArICcgbm90IGVudGVyZWQuJyk7XG4gICAgfVxuICB9LFxuXG4gIF9jaGVja1BhdHRlcm5WYWxpZGl0eTogZnVuY3Rpb24oKSB7XG4gICAgdmFyIHJlZ2V4cCA9IHRoaXMuX3BhdHRlcm5SZWdFeHA7XG4gICAgaWYgKCFyZWdleHApIHtcbiAgICAgIHJldHVybiB0cnVlO1xuICAgIH1cbiAgICBmb3IgKHZhciBpID0gMDsgaSA8IHRoaXMuaW5wdXRFbGVtZW50LnZhbHVlLmxlbmd0aDsgaSsrKSB7XG4gICAgICBpZiAoIXJlZ2V4cC50ZXN0KHRoaXMuaW5wdXRFbGVtZW50LnZhbHVlW2ldKSkge1xuICAgICAgICByZXR1cm4gZmFsc2U7XG4gICAgICB9XG4gICAgfVxuICAgIHJldHVybiB0cnVlO1xuICB9LFxuXG4gIC8qKlxuICAgKiBSZXR1cm5zIHRydWUgaWYgYHZhbHVlYCBpcyB2YWxpZC4gVGhlIHZhbGlkYXRvciBwcm92aWRlZCBpbiBgdmFsaWRhdG9yYFxuICAgKiB3aWxsIGJlIHVzZWQgZmlyc3QsIHRoZW4gYW55IGNvbnN0cmFpbnRzLlxuICAgKiBAcmV0dXJuIHtib29sZWFufSBUcnVlIGlmIHRoZSB2YWx1ZSBpcyB2YWxpZC5cbiAgICovXG4gIHZhbGlkYXRlOiBmdW5jdGlvbigpIHtcbiAgICBpZiAoIXRoaXMuaW5wdXRFbGVtZW50KSB7XG4gICAgICB0aGlzLmludmFsaWQgPSBmYWxzZTtcbiAgICAgIHJldHVybiB0cnVlO1xuICAgIH1cblxuICAgIC8vIFVzZSB0aGUgbmVzdGVkIGlucHV0J3MgbmF0aXZlIHZhbGlkaXR5LlxuICAgIHZhciB2YWxpZCA9IHRoaXMuaW5wdXRFbGVtZW50LmNoZWNrVmFsaWRpdHkoKTtcblxuICAgIC8vIE9ubHkgZG8gZXh0cmEgY2hlY2tpbmcgaWYgdGhlIGJyb3dzZXIgdGhvdWdodCB0aGlzIHdhcyB2YWxpZC5cbiAgICBpZiAodmFsaWQpIHtcbiAgICAgIC8vIEVtcHR5LCByZXF1aXJlZCBpbnB1dCBpcyBpbnZhbGlkXG4gICAgICBpZiAodGhpcy5yZXF1aXJlZCAmJiB0aGlzLmJpbmRWYWx1ZSA9PT0gJycpIHtcbiAgICAgICAgdmFsaWQgPSBmYWxzZTtcbiAgICAgIH0gZWxzZSBpZiAodGhpcy5oYXNWYWxpZGF0b3IoKSkge1xuICAgICAgICB2YWxpZCA9IElyb25WYWxpZGF0YWJsZUJlaGF2aW9yLnZhbGlkYXRlLmNhbGwodGhpcywgdGhpcy5iaW5kVmFsdWUpO1xuICAgICAgfVxuICAgIH1cblxuICAgIHRoaXMuaW52YWxpZCA9ICF2YWxpZDtcbiAgICB0aGlzLmZpcmUoJ2lyb24taW5wdXQtdmFsaWRhdGUnKTtcbiAgICByZXR1cm4gdmFsaWQ7XG4gIH0sXG5cbiAgX2Fubm91bmNlSW52YWxpZENoYXJhY3RlcjogZnVuY3Rpb24obWVzc2FnZSkge1xuICAgIHRoaXMuZmlyZSgnaXJvbi1hbm5vdW5jZScsIHt0ZXh0OiBtZXNzYWdlfSk7XG4gIH0sXG5cbiAgX2NvbXB1dGVWYWx1ZTogZnVuY3Rpb24oYmluZFZhbHVlKSB7XG4gICAgcmV0dXJuIGJpbmRWYWx1ZTtcbiAgfVxufSk7XG4iLCIvKipcbkBsaWNlbnNlXG5Db3B5cmlnaHQgKGMpIDIwMTUgVGhlIFBvbHltZXIgUHJvamVjdCBBdXRob3JzLiBBbGwgcmlnaHRzIHJlc2VydmVkLlxuVGhpcyBjb2RlIG1heSBvbmx5IGJlIHVzZWQgdW5kZXIgdGhlIEJTRCBzdHlsZSBsaWNlbnNlIGZvdW5kIGF0XG5odHRwOi8vcG9seW1lci5naXRodWIuaW8vTElDRU5TRS50eHQgVGhlIGNvbXBsZXRlIHNldCBvZiBhdXRob3JzIG1heSBiZSBmb3VuZCBhdFxuaHR0cDovL3BvbHltZXIuZ2l0aHViLmlvL0FVVEhPUlMudHh0IFRoZSBjb21wbGV0ZSBzZXQgb2YgY29udHJpYnV0b3JzIG1heSBiZVxuZm91bmQgYXQgaHR0cDovL3BvbHltZXIuZ2l0aHViLmlvL0NPTlRSSUJVVE9SUy50eHQgQ29kZSBkaXN0cmlidXRlZCBieSBHb29nbGUgYXNcbnBhcnQgb2YgdGhlIHBvbHltZXIgcHJvamVjdCBpcyBhbHNvIHN1YmplY3QgdG8gYW4gYWRkaXRpb25hbCBJUCByaWdodHMgZ3JhbnRcbmZvdW5kIGF0IGh0dHA6Ly9wb2x5bWVyLmdpdGh1Yi5pby9QQVRFTlRTLnR4dFxuKi9cbmltcG9ydCAnQHBvbHltZXIvcG9seW1lci9wb2x5bWVyLWxlZ2FjeS5qcyc7XG5cbi8qKlxuICogVXNlIGBQb2x5bWVyLlBhcGVySW5wdXRBZGRvbkJlaGF2aW9yYCB0byBpbXBsZW1lbnQgYW4gYWRkLW9uIGZvclxuICogYDxwYXBlci1pbnB1dC1jb250YWluZXI+YC4gQSBhZGQtb24gYXBwZWFycyBiZWxvdyB0aGUgaW5wdXQsIGFuZCBtYXkgZGlzcGxheVxuICogaW5mb3JtYXRpb24gYmFzZWQgb24gdGhlIGlucHV0IHZhbHVlIGFuZCB2YWxpZGl0eSBzdWNoIGFzIGEgY2hhcmFjdGVyIGNvdW50ZXJcbiAqIG9yIGFuIGVycm9yIG1lc3NhZ2UuXG4gKiBAcG9seW1lckJlaGF2aW9yXG4gKi9cbmV4cG9ydCBjb25zdCBQYXBlcklucHV0QWRkb25CZWhhdmlvciA9IHtcbiAgYXR0YWNoZWQ6IGZ1bmN0aW9uKCkge1xuICAgIHRoaXMuZmlyZSgnYWRkb24tYXR0YWNoZWQnKTtcbiAgfSxcblxuICAvKipcbiAgICogVGhlIGZ1bmN0aW9uIGNhbGxlZCBieSBgPHBhcGVyLWlucHV0LWNvbnRhaW5lcj5gIHdoZW4gdGhlIGlucHV0IHZhbHVlIG9yXG4gICAqIHZhbGlkaXR5IGNoYW5nZXMuXG4gICAqIEBwYXJhbSB7e1xuICAgKiAgIGludmFsaWQ6IGJvb2xlYW4sXG4gICAqICAgaW5wdXRFbGVtZW50OiAoRWxlbWVudHx1bmRlZmluZWQpLFxuICAgKiAgIHZhbHVlOiAoc3RyaW5nfHVuZGVmaW5lZClcbiAgICogfX0gc3RhdGUgLVxuICAgKiAgICAgaW5wdXRFbGVtZW50OiBUaGUgaW5wdXQgZWxlbWVudC5cbiAgICogICAgIHZhbHVlOiBUaGUgaW5wdXQgdmFsdWUuXG4gICAqICAgICBpbnZhbGlkOiBUcnVlIGlmIHRoZSBpbnB1dCB2YWx1ZSBpcyBpbnZhbGlkLlxuICAgKi9cbiAgdXBkYXRlOiBmdW5jdGlvbihzdGF0ZSkge31cblxufTtcbiIsIi8qKlxuQGxpY2Vuc2VcbkNvcHlyaWdodCAoYykgMjAxNSBUaGUgUG9seW1lciBQcm9qZWN0IEF1dGhvcnMuIEFsbCByaWdodHMgcmVzZXJ2ZWQuXG5UaGlzIGNvZGUgbWF5IG9ubHkgYmUgdXNlZCB1bmRlciB0aGUgQlNEIHN0eWxlIGxpY2Vuc2UgZm91bmQgYXRcbmh0dHA6Ly9wb2x5bWVyLmdpdGh1Yi5pby9MSUNFTlNFLnR4dCBUaGUgY29tcGxldGUgc2V0IG9mIGF1dGhvcnMgbWF5IGJlIGZvdW5kIGF0XG5odHRwOi8vcG9seW1lci5naXRodWIuaW8vQVVUSE9SUy50eHQgVGhlIGNvbXBsZXRlIHNldCBvZiBjb250cmlidXRvcnMgbWF5IGJlXG5mb3VuZCBhdCBodHRwOi8vcG9seW1lci5naXRodWIuaW8vQ09OVFJJQlVUT1JTLnR4dCBDb2RlIGRpc3RyaWJ1dGVkIGJ5IEdvb2dsZSBhc1xucGFydCBvZiB0aGUgcG9seW1lciBwcm9qZWN0IGlzIGFsc28gc3ViamVjdCB0byBhbiBhZGRpdGlvbmFsIElQIHJpZ2h0cyBncmFudFxuZm91bmQgYXQgaHR0cDovL3BvbHltZXIuZ2l0aHViLmlvL1BBVEVOVFMudHh0XG4qL1xuaW1wb3J0ICdAcG9seW1lci9wb2x5bWVyL3BvbHltZXItbGVnYWN5LmpzJztcbmltcG9ydCAnQHBvbHltZXIvcGFwZXItc3R5bGVzL3R5cG9ncmFwaHkuanMnO1xuXG5pbXBvcnQge1BvbHltZXJ9IGZyb20gJ0Bwb2x5bWVyL3BvbHltZXIvbGliL2xlZ2FjeS9wb2x5bWVyLWZuLmpzJztcbmltcG9ydCB7aHRtbH0gZnJvbSAnQHBvbHltZXIvcG9seW1lci9saWIvdXRpbHMvaHRtbC10YWcuanMnO1xuXG5pbXBvcnQge1BhcGVySW5wdXRBZGRvbkJlaGF2aW9yfSBmcm9tICcuL3BhcGVyLWlucHV0LWFkZG9uLWJlaGF2aW9yLmpzJztcblxuLypcbmA8cGFwZXItaW5wdXQtY2hhci1jb3VudGVyPmAgaXMgYSBjaGFyYWN0ZXIgY291bnRlciBmb3IgdXNlIHdpdGhcbmA8cGFwZXItaW5wdXQtY29udGFpbmVyPmAuIEl0IHNob3dzIHRoZSBudW1iZXIgb2YgY2hhcmFjdGVycyBlbnRlcmVkIGluIHRoZVxuaW5wdXQgYW5kIHRoZSBtYXggbGVuZ3RoIGlmIGl0IGlzIHNwZWNpZmllZC5cblxuICAgIDxwYXBlci1pbnB1dC1jb250YWluZXI+XG4gICAgICA8aW5wdXQgbWF4bGVuZ3RoPVwiMjBcIj5cbiAgICAgIDxwYXBlci1pbnB1dC1jaGFyLWNvdW50ZXI+PC9wYXBlci1pbnB1dC1jaGFyLWNvdW50ZXI+XG4gICAgPC9wYXBlci1pbnB1dC1jb250YWluZXI+XG5cbiMjIyBTdHlsaW5nXG5cblRoZSBmb2xsb3dpbmcgbWl4aW4gaXMgYXZhaWxhYmxlIGZvciBzdHlsaW5nOlxuXG5DdXN0b20gcHJvcGVydHkgfCBEZXNjcmlwdGlvbiB8IERlZmF1bHRcbi0tLS0tLS0tLS0tLS0tLS18LS0tLS0tLS0tLS0tLXwtLS0tLS0tLS0tXG5gLS1wYXBlci1pbnB1dC1jaGFyLWNvdW50ZXJgIHwgTWl4aW4gYXBwbGllZCB0byB0aGUgZWxlbWVudCB8IGB7fWBcbiovXG5Qb2x5bWVyKHtcbiAgX3RlbXBsYXRlOiBodG1sYFxuICAgIDxzdHlsZT5cbiAgICAgIDpob3N0IHtcbiAgICAgICAgZGlzcGxheTogaW5saW5lLWJsb2NrO1xuICAgICAgICBmbG9hdDogcmlnaHQ7XG5cbiAgICAgICAgQGFwcGx5IC0tcGFwZXItZm9udC1jYXB0aW9uO1xuICAgICAgICBAYXBwbHkgLS1wYXBlci1pbnB1dC1jaGFyLWNvdW50ZXI7XG4gICAgICB9XG5cbiAgICAgIDpob3N0KFtoaWRkZW5dKSB7XG4gICAgICAgIGRpc3BsYXk6IG5vbmUgIWltcG9ydGFudDtcbiAgICAgIH1cblxuICAgICAgOmhvc3QoOmRpcihydGwpKSB7XG4gICAgICAgIGZsb2F0OiBsZWZ0O1xuICAgICAgfVxuICAgIDwvc3R5bGU+XG5cbiAgICA8c3Bhbj5bW19jaGFyQ291bnRlclN0cl1dPC9zcGFuPlxuYCxcblxuICBpczogJ3BhcGVyLWlucHV0LWNoYXItY291bnRlcicsXG4gIGJlaGF2aW9yczogW1BhcGVySW5wdXRBZGRvbkJlaGF2aW9yXSxcbiAgcHJvcGVydGllczoge19jaGFyQ291bnRlclN0cjoge3R5cGU6IFN0cmluZywgdmFsdWU6ICcwJ319LFxuXG4gIC8qKlxuICAgKiBUaGlzIG92ZXJyaWRlcyB0aGUgdXBkYXRlIGZ1bmN0aW9uIGluIFBhcGVySW5wdXRBZGRvbkJlaGF2aW9yLlxuICAgKiBAcGFyYW0ge3tcbiAgICogICBpbnB1dEVsZW1lbnQ6IChFbGVtZW50fHVuZGVmaW5lZCksXG4gICAqICAgdmFsdWU6IChzdHJpbmd8dW5kZWZpbmVkKSxcbiAgICogICBpbnZhbGlkOiBib29sZWFuXG4gICAqIH19IHN0YXRlIC1cbiAgICogICAgIGlucHV0RWxlbWVudDogVGhlIGlucHV0IGVsZW1lbnQuXG4gICAqICAgICB2YWx1ZTogVGhlIGlucHV0IHZhbHVlLlxuICAgKiAgICAgaW52YWxpZDogVHJ1ZSBpZiB0aGUgaW5wdXQgdmFsdWUgaXMgaW52YWxpZC5cbiAgICovXG4gIHVwZGF0ZTogZnVuY3Rpb24oc3RhdGUpIHtcbiAgICBpZiAoIXN0YXRlLmlucHV0RWxlbWVudCkge1xuICAgICAgcmV0dXJuO1xuICAgIH1cblxuICAgIHN0YXRlLnZhbHVlID0gc3RhdGUudmFsdWUgfHwgJyc7XG5cbiAgICB2YXIgY291bnRlciA9IHN0YXRlLnZhbHVlLnRvU3RyaW5nKCkubGVuZ3RoLnRvU3RyaW5nKCk7XG5cbiAgICBpZiAoc3RhdGUuaW5wdXRFbGVtZW50Lmhhc0F0dHJpYnV0ZSgnbWF4bGVuZ3RoJykpIHtcbiAgICAgIGNvdW50ZXIgKz0gJy8nICsgc3RhdGUuaW5wdXRFbGVtZW50LmdldEF0dHJpYnV0ZSgnbWF4bGVuZ3RoJyk7XG4gICAgfVxuXG4gICAgdGhpcy5fY2hhckNvdW50ZXJTdHIgPSBjb3VudGVyO1xuICB9XG59KTtcbiIsIi8qKlxuQGxpY2Vuc2VcbkNvcHlyaWdodCAoYykgMjAxNSBUaGUgUG9seW1lciBQcm9qZWN0IEF1dGhvcnMuIEFsbCByaWdodHMgcmVzZXJ2ZWQuXG5UaGlzIGNvZGUgbWF5IG9ubHkgYmUgdXNlZCB1bmRlciB0aGUgQlNEIHN0eWxlIGxpY2Vuc2UgZm91bmQgYXRcbmh0dHA6Ly9wb2x5bWVyLmdpdGh1Yi5pby9MSUNFTlNFLnR4dCBUaGUgY29tcGxldGUgc2V0IG9mIGF1dGhvcnMgbWF5IGJlIGZvdW5kIGF0XG5odHRwOi8vcG9seW1lci5naXRodWIuaW8vQVVUSE9SUy50eHQgVGhlIGNvbXBsZXRlIHNldCBvZiBjb250cmlidXRvcnMgbWF5IGJlXG5mb3VuZCBhdCBodHRwOi8vcG9seW1lci5naXRodWIuaW8vQ09OVFJJQlVUT1JTLnR4dCBDb2RlIGRpc3RyaWJ1dGVkIGJ5IEdvb2dsZSBhc1xucGFydCBvZiB0aGUgcG9seW1lciBwcm9qZWN0IGlzIGFsc28gc3ViamVjdCB0byBhbiBhZGRpdGlvbmFsIElQIHJpZ2h0cyBncmFudFxuZm91bmQgYXQgaHR0cDovL3BvbHltZXIuZ2l0aHViLmlvL1BBVEVOVFMudHh0XG4qL1xuaW1wb3J0ICdAcG9seW1lci9wb2x5bWVyL3BvbHltZXItbGVnYWN5LmpzJztcbmltcG9ydCAnQHBvbHltZXIvaXJvbi1mbGV4LWxheW91dC9pcm9uLWZsZXgtbGF5b3V0LmpzJztcbmltcG9ydCAnQHBvbHltZXIvcGFwZXItc3R5bGVzL2RlZmF1bHQtdGhlbWUuanMnO1xuaW1wb3J0ICdAcG9seW1lci9wYXBlci1zdHlsZXMvdHlwb2dyYXBoeS5qcyc7XG5cbmltcG9ydCB7UG9seW1lcn0gZnJvbSAnQHBvbHltZXIvcG9seW1lci9saWIvbGVnYWN5L3BvbHltZXItZm4uanMnO1xuaW1wb3J0IHtkb219IGZyb20gJ0Bwb2x5bWVyL3BvbHltZXIvbGliL2xlZ2FjeS9wb2x5bWVyLmRvbS5qcyc7XG5pbXBvcnQge2Rhc2hUb0NhbWVsQ2FzZX0gZnJvbSAnQHBvbHltZXIvcG9seW1lci9saWIvdXRpbHMvY2FzZS1tYXAuanMnO1xuaW1wb3J0IHtodG1sfSBmcm9tICdAcG9seW1lci9wb2x5bWVyL2xpYi91dGlscy9odG1sLXRhZy5qcyc7XG5jb25zdCB0ZW1wbGF0ZSA9IGh0bWxgXG48Y3VzdG9tLXN0eWxlPlxuICA8c3R5bGUgaXM9XCJjdXN0b20tc3R5bGVcIj5cbiAgICBodG1sIHtcbiAgICAgIC0tcGFwZXItaW5wdXQtY29udGFpbmVyLXNoYXJlZC1pbnB1dC1zdHlsZToge1xuICAgICAgICBwb3NpdGlvbjogcmVsYXRpdmU7IC8qIHRvIG1ha2UgYSBzdGFja2luZyBjb250ZXh0ICovXG4gICAgICAgIG91dGxpbmU6IG5vbmU7XG4gICAgICAgIGJveC1zaGFkb3c6IG5vbmU7XG4gICAgICAgIHBhZGRpbmc6IDA7XG4gICAgICAgIG1hcmdpbjogMDtcbiAgICAgICAgd2lkdGg6IDEwMCU7XG4gICAgICAgIG1heC13aWR0aDogMTAwJTtcbiAgICAgICAgYmFja2dyb3VuZDogdHJhbnNwYXJlbnQ7XG4gICAgICAgIGJvcmRlcjogbm9uZTtcbiAgICAgICAgY29sb3I6IHZhcigtLXBhcGVyLWlucHV0LWNvbnRhaW5lci1pbnB1dC1jb2xvciwgdmFyKC0tcHJpbWFyeS10ZXh0LWNvbG9yKSk7XG4gICAgICAgIC13ZWJraXQtYXBwZWFyYW5jZTogbm9uZTtcbiAgICAgICAgdGV4dC1hbGlnbjogaW5oZXJpdDtcbiAgICAgICAgdmVydGljYWwtYWxpZ246IHZhcigtLXBhcGVyLWlucHV0LWNvbnRhaW5lci1pbnB1dC1hbGlnbiwgYm90dG9tKTtcblxuICAgICAgICBAYXBwbHkgLS1wYXBlci1mb250LXN1YmhlYWQ7XG4gICAgICB9O1xuICAgIH1cbiAgPC9zdHlsZT5cbjwvY3VzdG9tLXN0eWxlPlxuYDtcbnRlbXBsYXRlLnNldEF0dHJpYnV0ZSgnc3R5bGUnLCAnZGlzcGxheTogbm9uZTsnKTtcbmRvY3VtZW50LmhlYWQuYXBwZW5kQ2hpbGQodGVtcGxhdGUuY29udGVudCk7XG5cbi8qXG5gPHBhcGVyLWlucHV0LWNvbnRhaW5lcj5gIGlzIGEgY29udGFpbmVyIGZvciBhIGA8bGFiZWw+YCwgYW4gYDxpcm9uLWlucHV0PmAgb3JcbmA8dGV4dGFyZWE+YCBhbmQgb3B0aW9uYWwgYWRkLW9uIGVsZW1lbnRzIHN1Y2ggYXMgYW4gZXJyb3IgbWVzc2FnZSBvciBjaGFyYWN0ZXJcbmNvdW50ZXIsIHVzZWQgdG8gaW1wbGVtZW50IE1hdGVyaWFsIERlc2lnbiB0ZXh0IGZpZWxkcy5cblxuRm9yIGV4YW1wbGU6XG5cbiAgICA8cGFwZXItaW5wdXQtY29udGFpbmVyPlxuICAgICAgPGxhYmVsIHNsb3Q9XCJsYWJlbFwiPllvdXIgbmFtZTwvbGFiZWw+XG4gICAgICA8aXJvbi1pbnB1dCBzbG90PVwiaW5wdXRcIj5cbiAgICAgICAgPGlucHV0PlxuICAgICAgPC9pcm9uLWlucHV0PlxuICAgICAgLy8gSW4gUG9seW1lciAxLjAsIHlvdSB3b3VsZCB1c2UgYDxpbnB1dCBpcz1cImlyb24taW5wdXRcIiBzbG90PVwiaW5wdXRcIj5gXG5pbnN0ZWFkIG9mIHRoZSBhYm92ZS5cbiAgICA8L3BhcGVyLWlucHV0LWNvbnRhaW5lcj5cblxuWW91IGNhbiBzdHlsZSB0aGUgbmVzdGVkIGA8aW5wdXQ+YCBob3dldmVyIHlvdSB3YW50OyBpZiB5b3Ugd2FudCBpdCB0byBsb29rIGxpa2VcbmEgTWF0ZXJpYWwgRGVzaWduIGlucHV0LCB5b3UgY2FuIHN0eWxlIGl0IHdpdGggdGhlXG4tLXBhcGVyLWlucHV0LWNvbnRhaW5lci1zaGFyZWQtaW5wdXQtc3R5bGUgbWl4aW4uXG5cbkRvIG5vdCB3cmFwIGA8cGFwZXItaW5wdXQtY29udGFpbmVyPmAgYXJvdW5kIGVsZW1lbnRzIHRoYXQgYWxyZWFkeSBpbmNsdWRlIGl0LFxuc3VjaCBhcyBgPHBhcGVyLWlucHV0PmAuIERvaW5nIHNvIG1heSBjYXVzZSBldmVudHMgdG8gYm91bmNlIGluZmluaXRlbHkgYmV0d2VlblxudGhlIGNvbnRhaW5lciBhbmQgaXRzIGNvbnRhaW5lZCBlbGVtZW50LlxuXG4jIyMgTGlzdGVuaW5nIGZvciBpbnB1dCBjaGFuZ2VzXG5cbkJ5IGRlZmF1bHQsIGl0IGxpc3RlbnMgZm9yIGNoYW5nZXMgb24gdGhlIGBiaW5kLXZhbHVlYCBhdHRyaWJ1dGUgb24gaXRzIGNoaWxkcmVuXG5ub2RlcyBhbmQgcGVyZm9ybSB0YXNrcyBzdWNoIGFzIGF1dG8tdmFsaWRhdGluZyBhbmQgbGFiZWwgc3R5bGluZyB3aGVuIHRoZVxuYGJpbmQtdmFsdWVgIGNoYW5nZXMuIFlvdSBjYW4gY29uZmlndXJlIHRoZSBhdHRyaWJ1dGUgaXQgbGlzdGVucyB0byB3aXRoIHRoZVxuYGF0dHItZm9yLXZhbHVlYCBhdHRyaWJ1dGUuXG5cbiMjIyBVc2luZyBhIGN1c3RvbSBpbnB1dCBlbGVtZW50XG5cbllvdSBjYW4gdXNlIGEgY3VzdG9tIGlucHV0IGVsZW1lbnQgaW4gYSBgPHBhcGVyLWlucHV0LWNvbnRhaW5lcj5gLCBmb3IgZXhhbXBsZVxudG8gaW1wbGVtZW50IGEgY29tcG91bmQgaW5wdXQgZmllbGQgbGlrZSBhIHNvY2lhbCBzZWN1cml0eSBudW1iZXIgaW5wdXQuIFRoZVxuY3VzdG9tIGlucHV0IGVsZW1lbnQgc2hvdWxkIGhhdmUgdGhlIGBwYXBlci1pbnB1dC1pbnB1dGAgY2xhc3MsIGhhdmUgYVxuYG5vdGlmeTp0cnVlYCB2YWx1ZSBwcm9wZXJ0eSBhbmQgb3B0aW9uYWxseSBpbXBsZW1lbnRzXG5gUG9seW1lci5Jcm9uVmFsaWRhdGFibGVCZWhhdmlvcmAgaWYgaXQgaXMgdmFsaWRhdGFibGUuXG5cbiAgICA8cGFwZXItaW5wdXQtY29udGFpbmVyIGF0dHItZm9yLXZhbHVlPVwic3NuLXZhbHVlXCI+XG4gICAgICA8bGFiZWwgc2xvdD1cImxhYmVsXCI+U29jaWFsIHNlY3VyaXR5IG51bWJlcjwvbGFiZWw+XG4gICAgICA8c3NuLWlucHV0IHNsb3Q9XCJpbnB1dFwiIGNsYXNzPVwicGFwZXItaW5wdXQtaW5wdXRcIj48L3Nzbi1pbnB1dD5cbiAgICA8L3BhcGVyLWlucHV0LWNvbnRhaW5lcj5cblxuXG5JZiB5b3UncmUgdXNpbmcgYSBgPHBhcGVyLWlucHV0LWNvbnRhaW5lcj5gIGltcGVyYXRpdmVseSwgaXQncyBpbXBvcnRhbnQgdG8gbWFrZVxuc3VyZSB0aGF0IHlvdSBhdHRhY2ggaXRzIGNoaWxkcmVuICh0aGUgYGlyb24taW5wdXRgIGFuZCB0aGUgb3B0aW9uYWwgYGxhYmVsYClcbmJlZm9yZSB5b3UgYXR0YWNoIHRoZSBgPHBhcGVyLWlucHV0LWNvbnRhaW5lcj5gIGl0c2VsZiwgc28gdGhhdCBpdCBjYW4gYmUgc2V0IHVwXG5jb3JyZWN0bHkuXG5cbiMjIyBWYWxpZGF0aW9uXG5cbklmIHRoZSBgYXV0by12YWxpZGF0ZWAgYXR0cmlidXRlIGlzIHNldCwgdGhlIGlucHV0IGNvbnRhaW5lciB3aWxsIHZhbGlkYXRlIHRoZVxuaW5wdXQgYW5kIHVwZGF0ZSB0aGUgY29udGFpbmVyIHN0eWxpbmcgd2hlbiB0aGUgaW5wdXQgdmFsdWUgY2hhbmdlcy5cblxuIyMjIEFkZC1vbnNcblxuQWRkLW9ucyBhcmUgY2hpbGQgZWxlbWVudHMgb2YgYSBgPHBhcGVyLWlucHV0LWNvbnRhaW5lcj5gIHdpdGggdGhlIGBhZGQtb25gXG5hdHRyaWJ1dGUgYW5kIGltcGxlbWVudHMgdGhlIGBQb2x5bWVyLlBhcGVySW5wdXRBZGRvbkJlaGF2aW9yYCBiZWhhdmlvci4gVGhleVxuYXJlIG5vdGlmaWVkIHdoZW4gdGhlIGlucHV0IHZhbHVlIG9yIHZhbGlkaXR5IGNoYW5nZXMsIGFuZCBtYXkgaW1wbGVtZW50XG5mdW5jdGlvbmFsaXR5IHN1Y2ggYXMgZXJyb3IgbWVzc2FnZXMgb3IgY2hhcmFjdGVyIGNvdW50ZXJzLiBUaGV5IGFwcGVhciBhdCB0aGVcbmJvdHRvbSBvZiB0aGUgaW5wdXQuXG5cbiMjIyBQcmVmaXhlcyBhbmQgc3VmZml4ZXNcblRoZXNlIGFyZSBjaGlsZCBlbGVtZW50cyBvZiBhIGA8cGFwZXItaW5wdXQtY29udGFpbmVyPmAgd2l0aCB0aGUgYHByZWZpeGBcbm9yIGBzdWZmaXhgIGF0dHJpYnV0ZSwgYW5kIGFyZSBkaXNwbGF5ZWQgaW5saW5lIHdpdGggdGhlIGlucHV0LCBiZWZvcmUgb3IgYWZ0ZXIuXG5cbiAgICA8cGFwZXItaW5wdXQtY29udGFpbmVyPlxuICAgICAgPGRpdiBzbG90PVwicHJlZml4XCI+JDwvZGl2PlxuICAgICAgPGxhYmVsIHNsb3Q9XCJsYWJlbFwiPlRvdGFsPC9sYWJlbD5cbiAgICAgIDxpcm9uLWlucHV0IHNsb3Q9XCJpbnB1dFwiPlxuICAgICAgICA8aW5wdXQ+XG4gICAgICA8L2lyb24taW5wdXQ+XG4gICAgICAvLyBJbiBQb2x5bWVyIDEuMCwgeW91IHdvdWxkIHVzZSBgPGlucHV0IGlzPVwiaXJvbi1pbnB1dFwiIHNsb3Q9XCJpbnB1dFwiPmBcbmluc3RlYWQgb2YgdGhlIGFib3ZlLiA8cGFwZXItaWNvbi1idXR0b24gc2xvdD1cInN1ZmZpeFwiXG5pY29uPVwiY2xlYXJcIj48L3BhcGVyLWljb24tYnV0dG9uPlxuICAgIDwvcGFwZXItaW5wdXQtY29udGFpbmVyPlxuXG4jIyMgU3R5bGluZ1xuXG5UaGUgZm9sbG93aW5nIGN1c3RvbSBwcm9wZXJ0aWVzIGFuZCBtaXhpbnMgYXJlIGF2YWlsYWJsZSBmb3Igc3R5bGluZzpcblxuQ3VzdG9tIHByb3BlcnR5IHwgRGVzY3JpcHRpb24gfCBEZWZhdWx0XG4tLS0tLS0tLS0tLS0tLS0tfC0tLS0tLS0tLS0tLS18LS0tLS0tLS0tLVxuYC0tcGFwZXItaW5wdXQtY29udGFpbmVyLWNvbG9yYCB8IExhYmVsIGFuZCB1bmRlcmxpbmUgY29sb3Igd2hlbiB0aGUgaW5wdXQgaXMgbm90IGZvY3VzZWQgfCBgLS1zZWNvbmRhcnktdGV4dC1jb2xvcmBcbmAtLXBhcGVyLWlucHV0LWNvbnRhaW5lci1mb2N1cy1jb2xvcmAgfCBMYWJlbCBhbmQgdW5kZXJsaW5lIGNvbG9yIHdoZW4gdGhlIGlucHV0IGlzIGZvY3VzZWQgfCBgLS1wcmltYXJ5LWNvbG9yYFxuYC0tcGFwZXItaW5wdXQtY29udGFpbmVyLWludmFsaWQtY29sb3JgIHwgTGFiZWwgYW5kIHVuZGVybGluZSBjb2xvciB3aGVuIHRoZSBpbnB1dCBpcyBpcyBpbnZhbGlkIHwgYC0tZXJyb3ItY29sb3JgXG5gLS1wYXBlci1pbnB1dC1jb250YWluZXItaW5wdXQtY29sb3JgIHwgSW5wdXQgZm9yZWdyb3VuZCBjb2xvciB8IGAtLXByaW1hcnktdGV4dC1jb2xvcmBcbmAtLXBhcGVyLWlucHV0LWNvbnRhaW5lcmAgfCBNaXhpbiBhcHBsaWVkIHRvIHRoZSBjb250YWluZXIgfCBge31gXG5gLS1wYXBlci1pbnB1dC1jb250YWluZXItZGlzYWJsZWRgIHwgTWl4aW4gYXBwbGllZCB0byB0aGUgY29udGFpbmVyIHdoZW4gaXQncyBkaXNhYmxlZCB8IGB7fWBcbmAtLXBhcGVyLWlucHV0LWNvbnRhaW5lci1sYWJlbGAgfCBNaXhpbiBhcHBsaWVkIHRvIHRoZSBsYWJlbCB8IGB7fWBcbmAtLXBhcGVyLWlucHV0LWNvbnRhaW5lci1sYWJlbC1mb2N1c2AgfCBNaXhpbiBhcHBsaWVkIHRvIHRoZSBsYWJlbCB3aGVuIHRoZSBpbnB1dCBpcyBmb2N1c2VkIHwgYHt9YFxuYC0tcGFwZXItaW5wdXQtY29udGFpbmVyLWxhYmVsLWZsb2F0aW5nYCB8IE1peGluIGFwcGxpZWQgdG8gdGhlIGxhYmVsIHdoZW4gZmxvYXRpbmcgfCBge31gXG5gLS1wYXBlci1pbnB1dC1jb250YWluZXItaW5wdXRgIHwgTWl4aW4gYXBwbGllZCB0byB0aGUgaW5wdXQgfCBge31gXG5gLS1wYXBlci1pbnB1dC1jb250YWluZXItaW5wdXQtYWxpZ25gIHwgVGhlIHZlcnRpY2FsLWFsaWduIHByb3BlcnR5IG9mIHRoZSBpbnB1dCB8IGBib3R0b21gXG5gLS1wYXBlci1pbnB1dC1jb250YWluZXItaW5wdXQtZGlzYWJsZWRgIHwgTWl4aW4gYXBwbGllZCB0byB0aGUgaW5wdXQgd2hlbiB0aGUgY29tcG9uZW50IGlzIGRpc2FibGVkIHwgYHt9YFxuYC0tcGFwZXItaW5wdXQtY29udGFpbmVyLWlucHV0LWZvY3VzYCB8IE1peGluIGFwcGxpZWQgdG8gdGhlIGlucHV0IHdoZW4gZm9jdXNlZCB8IGB7fWBcbmAtLXBhcGVyLWlucHV0LWNvbnRhaW5lci1pbnB1dC1pbnZhbGlkYCB8IE1peGluIGFwcGxpZWQgdG8gdGhlIGlucHV0IHdoZW4gaW52YWxpZCB8IGB7fWBcbmAtLXBhcGVyLWlucHV0LWNvbnRhaW5lci1pbnB1dC13ZWJraXQtc3Bpbm5lcmAgfCBNaXhpbiBhcHBsaWVkIHRvIHRoZSB3ZWJraXQgc3Bpbm5lciB8IGB7fWBcbmAtLXBhcGVyLWlucHV0LWNvbnRhaW5lci1pbnB1dC13ZWJraXQtY2xlYXJgIHwgTWl4aW4gYXBwbGllZCB0byB0aGUgd2Via2l0IGNsZWFyIGJ1dHRvbiB8IGB7fWBcbmAtLXBhcGVyLWlucHV0LWNvbnRhaW5lci1pbnB1dC13ZWJraXQtY2FsZW5kYXItcGlja2VyLWluZGljYXRvcmAgfCBNaXhpbiBhcHBsaWVkIHRvIHRoZSB3ZWJraXQgY2FsZW5kYXIgcGlja2VyIGluZGljYXRvciB8IGB7fWBcbmAtLXBhcGVyLWlucHV0LWNvbnRhaW5lci1tcy1jbGVhcmAgfCBNaXhpbiBhcHBsaWVkIHRvIHRoZSBJbnRlcm5ldCBFeHBsb3JlciBjbGVhciBidXR0b24gfCBge31gXG5gLS1wYXBlci1pbnB1dC1jb250YWluZXItdW5kZXJsaW5lYCB8IE1peGluIGFwcGxpZWQgdG8gdGhlIHVuZGVybGluZSB8IGB7fWBcbmAtLXBhcGVyLWlucHV0LWNvbnRhaW5lci11bmRlcmxpbmUtZm9jdXNgIHwgTWl4aW4gYXBwbGllZCB0byB0aGUgdW5kZXJsaW5lIHdoZW4gdGhlIGlucHV0IGlzIGZvY3VzZWQgfCBge31gXG5gLS1wYXBlci1pbnB1dC1jb250YWluZXItdW5kZXJsaW5lLWRpc2FibGVkYCB8IE1peGluIGFwcGxpZWQgdG8gdGhlIHVuZGVybGluZSB3aGVuIHRoZSBpbnB1dCBpcyBkaXNhYmxlZCB8IGB7fWBcbmAtLXBhcGVyLWlucHV0LXByZWZpeGAgfCBNaXhpbiBhcHBsaWVkIHRvIHRoZSBpbnB1dCBwcmVmaXggfCBge31gXG5gLS1wYXBlci1pbnB1dC1zdWZmaXhgIHwgTWl4aW4gYXBwbGllZCB0byB0aGUgaW5wdXQgc3VmZml4IHwgYHt9YFxuXG5UaGlzIGVsZW1lbnQgaXMgYGRpc3BsYXk6YmxvY2tgIGJ5IGRlZmF1bHQsIGJ1dCB5b3UgY2FuIHNldCB0aGUgYGlubGluZWBcbmF0dHJpYnV0ZSB0byBtYWtlIGl0IGBkaXNwbGF5OmlubGluZS1ibG9ja2AuXG4qL1xuUG9seW1lcih7XG4gIF90ZW1wbGF0ZTogaHRtbGBcbiAgICA8c3R5bGU+XG4gICAgICA6aG9zdCB7XG4gICAgICAgIGRpc3BsYXk6IGJsb2NrO1xuICAgICAgICBwYWRkaW5nOiA4cHggMDtcbiAgICAgICAgQGFwcGx5IC0tcGFwZXItaW5wdXQtY29udGFpbmVyO1xuICAgICAgfVxuXG4gICAgICA6aG9zdChbaW5saW5lXSkge1xuICAgICAgICBkaXNwbGF5OiBpbmxpbmUtYmxvY2s7XG4gICAgICB9XG5cbiAgICAgIDpob3N0KFtkaXNhYmxlZF0pIHtcbiAgICAgICAgcG9pbnRlci1ldmVudHM6IG5vbmU7XG4gICAgICAgIG9wYWNpdHk6IDAuMzM7XG5cbiAgICAgICAgQGFwcGx5IC0tcGFwZXItaW5wdXQtY29udGFpbmVyLWRpc2FibGVkO1xuICAgICAgfVxuXG4gICAgICA6aG9zdChbaGlkZGVuXSkge1xuICAgICAgICBkaXNwbGF5OiBub25lICFpbXBvcnRhbnQ7XG4gICAgICB9XG5cbiAgICAgIFtoaWRkZW5dIHtcbiAgICAgICAgZGlzcGxheTogbm9uZSAhaW1wb3J0YW50O1xuICAgICAgfVxuXG4gICAgICAuZmxvYXRlZC1sYWJlbC1wbGFjZWhvbGRlciB7XG4gICAgICAgIEBhcHBseSAtLXBhcGVyLWZvbnQtY2FwdGlvbjtcbiAgICAgIH1cblxuICAgICAgLnVuZGVybGluZSB7XG4gICAgICAgIGhlaWdodDogMnB4O1xuICAgICAgICBwb3NpdGlvbjogcmVsYXRpdmU7XG4gICAgICB9XG5cbiAgICAgIC5mb2N1c2VkLWxpbmUge1xuICAgICAgICBAYXBwbHkgLS1sYXlvdXQtZml0O1xuICAgICAgICBib3JkZXItYm90dG9tOiAycHggc29saWQgdmFyKC0tcGFwZXItaW5wdXQtY29udGFpbmVyLWZvY3VzLWNvbG9yLCB2YXIoLS1wcmltYXJ5LWNvbG9yKSk7XG5cbiAgICAgICAgLXdlYmtpdC10cmFuc2Zvcm0tb3JpZ2luOiBjZW50ZXIgY2VudGVyO1xuICAgICAgICB0cmFuc2Zvcm0tb3JpZ2luOiBjZW50ZXIgY2VudGVyO1xuICAgICAgICAtd2Via2l0LXRyYW5zZm9ybTogc2NhbGUzZCgwLDEsMSk7XG4gICAgICAgIHRyYW5zZm9ybTogc2NhbGUzZCgwLDEsMSk7XG5cbiAgICAgICAgQGFwcGx5IC0tcGFwZXItaW5wdXQtY29udGFpbmVyLXVuZGVybGluZS1mb2N1cztcbiAgICAgIH1cblxuICAgICAgLnVuZGVybGluZS5pcy1oaWdobGlnaHRlZCAuZm9jdXNlZC1saW5lIHtcbiAgICAgICAgLXdlYmtpdC10cmFuc2Zvcm06IG5vbmU7XG4gICAgICAgIHRyYW5zZm9ybTogbm9uZTtcbiAgICAgICAgLXdlYmtpdC10cmFuc2l0aW9uOiAtd2Via2l0LXRyYW5zZm9ybSAwLjI1cztcbiAgICAgICAgdHJhbnNpdGlvbjogdHJhbnNmb3JtIDAuMjVzO1xuXG4gICAgICAgIEBhcHBseSAtLXBhcGVyLXRyYW5zaXRpb24tZWFzaW5nO1xuICAgICAgfVxuXG4gICAgICAudW5kZXJsaW5lLmlzLWludmFsaWQgLmZvY3VzZWQtbGluZSB7XG4gICAgICAgIGJvcmRlci1jb2xvcjogdmFyKC0tcGFwZXItaW5wdXQtY29udGFpbmVyLWludmFsaWQtY29sb3IsIHZhcigtLWVycm9yLWNvbG9yKSk7XG4gICAgICAgIC13ZWJraXQtdHJhbnNmb3JtOiBub25lO1xuICAgICAgICB0cmFuc2Zvcm06IG5vbmU7XG4gICAgICAgIC13ZWJraXQtdHJhbnNpdGlvbjogLXdlYmtpdC10cmFuc2Zvcm0gMC4yNXM7XG4gICAgICAgIHRyYW5zaXRpb246IHRyYW5zZm9ybSAwLjI1cztcblxuICAgICAgICBAYXBwbHkgLS1wYXBlci10cmFuc2l0aW9uLWVhc2luZztcbiAgICAgIH1cblxuICAgICAgLnVuZm9jdXNlZC1saW5lIHtcbiAgICAgICAgQGFwcGx5IC0tbGF5b3V0LWZpdDtcbiAgICAgICAgYm9yZGVyLWJvdHRvbTogMXB4IHNvbGlkIHZhcigtLXBhcGVyLWlucHV0LWNvbnRhaW5lci1jb2xvciwgdmFyKC0tc2Vjb25kYXJ5LXRleHQtY29sb3IpKTtcbiAgICAgICAgQGFwcGx5IC0tcGFwZXItaW5wdXQtY29udGFpbmVyLXVuZGVybGluZTtcbiAgICAgIH1cblxuICAgICAgOmhvc3QoW2Rpc2FibGVkXSkgLnVuZm9jdXNlZC1saW5lIHtcbiAgICAgICAgYm9yZGVyLWJvdHRvbTogMXB4IGRhc2hlZDtcbiAgICAgICAgYm9yZGVyLWNvbG9yOiB2YXIoLS1wYXBlci1pbnB1dC1jb250YWluZXItY29sb3IsIHZhcigtLXNlY29uZGFyeS10ZXh0LWNvbG9yKSk7XG4gICAgICAgIEBhcHBseSAtLXBhcGVyLWlucHV0LWNvbnRhaW5lci11bmRlcmxpbmUtZGlzYWJsZWQ7XG4gICAgICB9XG5cbiAgICAgIC5pbnB1dC13cmFwcGVyIHtcbiAgICAgICAgQGFwcGx5IC0tbGF5b3V0LWhvcml6b250YWw7XG4gICAgICAgIEBhcHBseSAtLWxheW91dC1jZW50ZXI7XG4gICAgICAgIHBvc2l0aW9uOiByZWxhdGl2ZTtcbiAgICAgIH1cblxuICAgICAgLmlucHV0LWNvbnRlbnQge1xuICAgICAgICBAYXBwbHkgLS1sYXlvdXQtZmxleC1hdXRvO1xuICAgICAgICBAYXBwbHkgLS1sYXlvdXQtcmVsYXRpdmU7XG4gICAgICAgIG1heC13aWR0aDogMTAwJTtcbiAgICAgIH1cblxuICAgICAgLmlucHV0LWNvbnRlbnQgOjpzbG90dGVkKGxhYmVsKSxcbiAgICAgIC5pbnB1dC1jb250ZW50IDo6c2xvdHRlZCgucGFwZXItaW5wdXQtbGFiZWwpIHtcbiAgICAgICAgcG9zaXRpb246IGFic29sdXRlO1xuICAgICAgICB0b3A6IDA7XG4gICAgICAgIGxlZnQ6IDA7XG4gICAgICAgIHdpZHRoOiAxMDAlO1xuICAgICAgICBmb250OiBpbmhlcml0O1xuICAgICAgICBjb2xvcjogdmFyKC0tcGFwZXItaW5wdXQtY29udGFpbmVyLWNvbG9yLCB2YXIoLS1zZWNvbmRhcnktdGV4dC1jb2xvcikpO1xuICAgICAgICAtd2Via2l0LXRyYW5zaXRpb246IC13ZWJraXQtdHJhbnNmb3JtIDAuMjVzLCB3aWR0aCAwLjI1cztcbiAgICAgICAgdHJhbnNpdGlvbjogdHJhbnNmb3JtIDAuMjVzLCB3aWR0aCAwLjI1cztcbiAgICAgICAgLXdlYmtpdC10cmFuc2Zvcm0tb3JpZ2luOiBsZWZ0IHRvcDtcbiAgICAgICAgdHJhbnNmb3JtLW9yaWdpbjogbGVmdCB0b3A7XG4gICAgICAgIC8qIEZpeCBmb3Igc2FmYXJpIG5vdCBmb2N1c2luZyAwLWhlaWdodCBkYXRlL3RpbWUgaW5wdXRzIHdpdGggLXdlYmtpdC1hcHBlcmFuY2U6IG5vbmU7ICovXG4gICAgICAgIG1pbi1oZWlnaHQ6IDFweDtcblxuICAgICAgICBAYXBwbHkgLS1wYXBlci1mb250LWNvbW1vbi1ub3dyYXA7XG4gICAgICAgIEBhcHBseSAtLXBhcGVyLWZvbnQtc3ViaGVhZDtcbiAgICAgICAgQGFwcGx5IC0tcGFwZXItaW5wdXQtY29udGFpbmVyLWxhYmVsO1xuICAgICAgICBAYXBwbHkgLS1wYXBlci10cmFuc2l0aW9uLWVhc2luZztcbiAgICAgIH1cblxuICAgICAgLmlucHV0LWNvbnRlbnQubGFiZWwtaXMtZmxvYXRpbmcgOjpzbG90dGVkKGxhYmVsKSxcbiAgICAgIC5pbnB1dC1jb250ZW50LmxhYmVsLWlzLWZsb2F0aW5nIDo6c2xvdHRlZCgucGFwZXItaW5wdXQtbGFiZWwpIHtcbiAgICAgICAgLXdlYmtpdC10cmFuc2Zvcm06IHRyYW5zbGF0ZVkoLTc1JSkgc2NhbGUoMC43NSk7XG4gICAgICAgIHRyYW5zZm9ybTogdHJhbnNsYXRlWSgtNzUlKSBzY2FsZSgwLjc1KTtcblxuICAgICAgICAvKiBTaW5jZSB3ZSBzY2FsZSB0byA3NS8xMDAgb2YgdGhlIHNpemUsIHdlIGFjdHVhbGx5IGhhdmUgMTAwLzc1IG9mIHRoZVxuICAgICAgICBvcmlnaW5hbCBzcGFjZSBub3cgYXZhaWxhYmxlICovXG4gICAgICAgIHdpZHRoOiAxMzMlO1xuXG4gICAgICAgIEBhcHBseSAtLXBhcGVyLWlucHV0LWNvbnRhaW5lci1sYWJlbC1mbG9hdGluZztcbiAgICAgIH1cblxuICAgICAgOmhvc3QoOmRpcihydGwpKSAuaW5wdXQtY29udGVudC5sYWJlbC1pcy1mbG9hdGluZyA6OnNsb3R0ZWQobGFiZWwpLFxuICAgICAgOmhvc3QoOmRpcihydGwpKSAuaW5wdXQtY29udGVudC5sYWJlbC1pcy1mbG9hdGluZyA6OnNsb3R0ZWQoLnBhcGVyLWlucHV0LWxhYmVsKSB7XG4gICAgICAgIHJpZ2h0OiAwO1xuICAgICAgICBsZWZ0OiBhdXRvO1xuICAgICAgICAtd2Via2l0LXRyYW5zZm9ybS1vcmlnaW46IHJpZ2h0IHRvcDtcbiAgICAgICAgdHJhbnNmb3JtLW9yaWdpbjogcmlnaHQgdG9wO1xuICAgICAgfVxuXG4gICAgICAuaW5wdXQtY29udGVudC5sYWJlbC1pcy1oaWdobGlnaHRlZCA6OnNsb3R0ZWQobGFiZWwpLFxuICAgICAgLmlucHV0LWNvbnRlbnQubGFiZWwtaXMtaGlnaGxpZ2h0ZWQgOjpzbG90dGVkKC5wYXBlci1pbnB1dC1sYWJlbCkge1xuICAgICAgICBjb2xvcjogdmFyKC0tcGFwZXItaW5wdXQtY29udGFpbmVyLWZvY3VzLWNvbG9yLCB2YXIoLS1wcmltYXJ5LWNvbG9yKSk7XG5cbiAgICAgICAgQGFwcGx5IC0tcGFwZXItaW5wdXQtY29udGFpbmVyLWxhYmVsLWZvY3VzO1xuICAgICAgfVxuXG4gICAgICAuaW5wdXQtY29udGVudC5pcy1pbnZhbGlkIDo6c2xvdHRlZChsYWJlbCksXG4gICAgICAuaW5wdXQtY29udGVudC5pcy1pbnZhbGlkIDo6c2xvdHRlZCgucGFwZXItaW5wdXQtbGFiZWwpIHtcbiAgICAgICAgY29sb3I6IHZhcigtLXBhcGVyLWlucHV0LWNvbnRhaW5lci1pbnZhbGlkLWNvbG9yLCB2YXIoLS1lcnJvci1jb2xvcikpO1xuICAgICAgfVxuXG4gICAgICAuaW5wdXQtY29udGVudC5sYWJlbC1pcy1oaWRkZW4gOjpzbG90dGVkKGxhYmVsKSxcbiAgICAgIC5pbnB1dC1jb250ZW50LmxhYmVsLWlzLWhpZGRlbiA6OnNsb3R0ZWQoLnBhcGVyLWlucHV0LWxhYmVsKSB7XG4gICAgICAgIHZpc2liaWxpdHk6IGhpZGRlbjtcbiAgICAgIH1cblxuICAgICAgLmlucHV0LWNvbnRlbnQgOjpzbG90dGVkKGlucHV0KSxcbiAgICAgIC5pbnB1dC1jb250ZW50IDo6c2xvdHRlZChpcm9uLWlucHV0KSxcbiAgICAgIC5pbnB1dC1jb250ZW50IDo6c2xvdHRlZCh0ZXh0YXJlYSksXG4gICAgICAuaW5wdXQtY29udGVudCA6OnNsb3R0ZWQoaXJvbi1hdXRvZ3Jvdy10ZXh0YXJlYSksXG4gICAgICAuaW5wdXQtY29udGVudCA6OnNsb3R0ZWQoLnBhcGVyLWlucHV0LWlucHV0KSB7XG4gICAgICAgIEBhcHBseSAtLXBhcGVyLWlucHV0LWNvbnRhaW5lci1zaGFyZWQtaW5wdXQtc3R5bGU7XG4gICAgICAgIC8qIFRoZSBhcHBseSBzaGltIGRvZXNuJ3QgYXBwbHkgdGhlIG5lc3RlZCBjb2xvciBjdXN0b20gcHJvcGVydHksXG4gICAgICAgICAgc28gd2UgaGF2ZSB0byByZS1hcHBseSBpdCBoZXJlLiAqL1xuICAgICAgICBjb2xvcjogdmFyKC0tcGFwZXItaW5wdXQtY29udGFpbmVyLWlucHV0LWNvbG9yLCB2YXIoLS1wcmltYXJ5LXRleHQtY29sb3IpKTtcbiAgICAgICAgQGFwcGx5IC0tcGFwZXItaW5wdXQtY29udGFpbmVyLWlucHV0O1xuICAgICAgfVxuXG4gICAgICAuaW5wdXQtY29udGVudCA6OnNsb3R0ZWQoaW5wdXQpOjotd2Via2l0LW91dGVyLXNwaW4tYnV0dG9uLFxuICAgICAgLmlucHV0LWNvbnRlbnQgOjpzbG90dGVkKGlucHV0KTo6LXdlYmtpdC1pbm5lci1zcGluLWJ1dHRvbiB7XG4gICAgICAgIEBhcHBseSAtLXBhcGVyLWlucHV0LWNvbnRhaW5lci1pbnB1dC13ZWJraXQtc3Bpbm5lcjtcbiAgICAgIH1cblxuICAgICAgLmlucHV0LWNvbnRlbnQuZm9jdXNlZCA6OnNsb3R0ZWQoaW5wdXQpLFxuICAgICAgLmlucHV0LWNvbnRlbnQuZm9jdXNlZCA6OnNsb3R0ZWQoaXJvbi1pbnB1dCksXG4gICAgICAuaW5wdXQtY29udGVudC5mb2N1c2VkIDo6c2xvdHRlZCh0ZXh0YXJlYSksXG4gICAgICAuaW5wdXQtY29udGVudC5mb2N1c2VkIDo6c2xvdHRlZChpcm9uLWF1dG9ncm93LXRleHRhcmVhKSxcbiAgICAgIC5pbnB1dC1jb250ZW50LmZvY3VzZWQgOjpzbG90dGVkKC5wYXBlci1pbnB1dC1pbnB1dCkge1xuICAgICAgICBAYXBwbHkgLS1wYXBlci1pbnB1dC1jb250YWluZXItaW5wdXQtZm9jdXM7XG4gICAgICB9XG5cbiAgICAgIC5pbnB1dC1jb250ZW50LmlzLWludmFsaWQgOjpzbG90dGVkKGlucHV0KSxcbiAgICAgIC5pbnB1dC1jb250ZW50LmlzLWludmFsaWQgOjpzbG90dGVkKGlyb24taW5wdXQpLFxuICAgICAgLmlucHV0LWNvbnRlbnQuaXMtaW52YWxpZCA6OnNsb3R0ZWQodGV4dGFyZWEpLFxuICAgICAgLmlucHV0LWNvbnRlbnQuaXMtaW52YWxpZCA6OnNsb3R0ZWQoaXJvbi1hdXRvZ3Jvdy10ZXh0YXJlYSksXG4gICAgICAuaW5wdXQtY29udGVudC5pcy1pbnZhbGlkIDo6c2xvdHRlZCgucGFwZXItaW5wdXQtaW5wdXQpIHtcbiAgICAgICAgQGFwcGx5IC0tcGFwZXItaW5wdXQtY29udGFpbmVyLWlucHV0LWludmFsaWQ7XG4gICAgICB9XG5cbiAgICAgIC5wcmVmaXggOjpzbG90dGVkKCopIHtcbiAgICAgICAgZGlzcGxheTogaW5saW5lLWJsb2NrO1xuICAgICAgICBAYXBwbHkgLS1wYXBlci1mb250LXN1YmhlYWQ7XG4gICAgICAgIEBhcHBseSAtLWxheW91dC1mbGV4LW5vbmU7XG4gICAgICAgIEBhcHBseSAtLXBhcGVyLWlucHV0LXByZWZpeDtcbiAgICAgIH1cblxuICAgICAgLnN1ZmZpeCA6OnNsb3R0ZWQoKikge1xuICAgICAgICBkaXNwbGF5OiBpbmxpbmUtYmxvY2s7XG4gICAgICAgIEBhcHBseSAtLXBhcGVyLWZvbnQtc3ViaGVhZDtcbiAgICAgICAgQGFwcGx5IC0tbGF5b3V0LWZsZXgtbm9uZTtcblxuICAgICAgICBAYXBwbHkgLS1wYXBlci1pbnB1dC1zdWZmaXg7XG4gICAgICB9XG5cbiAgICAgIC8qIEZpcmVmb3ggc2V0cyBhIG1pbi13aWR0aCBvbiB0aGUgaW5wdXQsIHdoaWNoIGNhbiBjYXVzZSBsYXlvdXQgaXNzdWVzICovXG4gICAgICAuaW5wdXQtY29udGVudCA6OnNsb3R0ZWQoaW5wdXQpIHtcbiAgICAgICAgbWluLXdpZHRoOiAwO1xuICAgICAgfVxuXG4gICAgICAuaW5wdXQtY29udGVudCA6OnNsb3R0ZWQodGV4dGFyZWEpIHtcbiAgICAgICAgcmVzaXplOiBub25lO1xuICAgICAgfVxuXG4gICAgICAuYWRkLW9uLWNvbnRlbnQge1xuICAgICAgICBwb3NpdGlvbjogcmVsYXRpdmU7XG4gICAgICB9XG5cbiAgICAgIC5hZGQtb24tY29udGVudC5pcy1pbnZhbGlkIDo6c2xvdHRlZCgqKSB7XG4gICAgICAgIGNvbG9yOiB2YXIoLS1wYXBlci1pbnB1dC1jb250YWluZXItaW52YWxpZC1jb2xvciwgdmFyKC0tZXJyb3ItY29sb3IpKTtcbiAgICAgIH1cblxuICAgICAgLmFkZC1vbi1jb250ZW50LmlzLWhpZ2hsaWdodGVkIDo6c2xvdHRlZCgqKSB7XG4gICAgICAgIGNvbG9yOiB2YXIoLS1wYXBlci1pbnB1dC1jb250YWluZXItZm9jdXMtY29sb3IsIHZhcigtLXByaW1hcnktY29sb3IpKTtcbiAgICAgIH1cbiAgICA8L3N0eWxlPlxuXG4gICAgPGRpdiBjbGFzcz1cImZsb2F0ZWQtbGFiZWwtcGxhY2Vob2xkZXJcIiBhcmlhLWhpZGRlbj1cInRydWVcIiBoaWRkZW49XCJbW25vTGFiZWxGbG9hdF1dXCI+Jm5ic3A7PC9kaXY+XG5cbiAgICA8ZGl2IGNsYXNzPVwiaW5wdXQtd3JhcHBlclwiPlxuICAgICAgPHNwYW4gY2xhc3M9XCJwcmVmaXhcIj48c2xvdCBuYW1lPVwicHJlZml4XCI+PC9zbG90Pjwvc3Bhbj5cblxuICAgICAgPGRpdiBjbGFzcyQ9XCJbW19jb21wdXRlSW5wdXRDb250ZW50Q2xhc3Mobm9MYWJlbEZsb2F0LGFsd2F5c0Zsb2F0TGFiZWwsZm9jdXNlZCxpbnZhbGlkLF9pbnB1dEhhc0NvbnRlbnQpXV1cIiBpZD1cImxhYmVsQW5kSW5wdXRDb250YWluZXJcIj5cbiAgICAgICAgPHNsb3QgbmFtZT1cImxhYmVsXCI+PC9zbG90PlxuICAgICAgICA8c2xvdCBuYW1lPVwiaW5wdXRcIj48L3Nsb3Q+XG4gICAgICA8L2Rpdj5cblxuICAgICAgPHNwYW4gY2xhc3M9XCJzdWZmaXhcIj48c2xvdCBuYW1lPVwic3VmZml4XCI+PC9zbG90Pjwvc3Bhbj5cbiAgICA8L2Rpdj5cblxuICAgIDxkaXYgY2xhc3MkPVwiW1tfY29tcHV0ZVVuZGVybGluZUNsYXNzKGZvY3VzZWQsaW52YWxpZCldXVwiPlxuICAgICAgPGRpdiBjbGFzcz1cInVuZm9jdXNlZC1saW5lXCI+PC9kaXY+XG4gICAgICA8ZGl2IGNsYXNzPVwiZm9jdXNlZC1saW5lXCI+PC9kaXY+XG4gICAgPC9kaXY+XG5cbiAgICA8ZGl2IGNsYXNzJD1cIltbX2NvbXB1dGVBZGRPbkNvbnRlbnRDbGFzcyhmb2N1c2VkLGludmFsaWQpXV1cIj5cbiAgICAgIDxzbG90IG5hbWU9XCJhZGQtb25cIj48L3Nsb3Q+XG4gICAgPC9kaXY+XG5gLFxuXG4gIGlzOiAncGFwZXItaW5wdXQtY29udGFpbmVyJyxcblxuICBwcm9wZXJ0aWVzOiB7XG4gICAgLyoqXG4gICAgICogU2V0IHRvIHRydWUgdG8gZGlzYWJsZSB0aGUgZmxvYXRpbmcgbGFiZWwuIFRoZSBsYWJlbCBkaXNhcHBlYXJzIHdoZW4gdGhlXG4gICAgICogaW5wdXQgdmFsdWUgaXMgbm90IG51bGwuXG4gICAgICovXG4gICAgbm9MYWJlbEZsb2F0OiB7dHlwZTogQm9vbGVhbiwgdmFsdWU6IGZhbHNlfSxcblxuICAgIC8qKlxuICAgICAqIFNldCB0byB0cnVlIHRvIGFsd2F5cyBmbG9hdCB0aGUgZmxvYXRpbmcgbGFiZWwuXG4gICAgICovXG4gICAgYWx3YXlzRmxvYXRMYWJlbDoge3R5cGU6IEJvb2xlYW4sIHZhbHVlOiBmYWxzZX0sXG5cbiAgICAvKipcbiAgICAgKiBUaGUgYXR0cmlidXRlIHRvIGxpc3RlbiBmb3IgdmFsdWUgY2hhbmdlcyBvbi5cbiAgICAgKi9cbiAgICBhdHRyRm9yVmFsdWU6IHt0eXBlOiBTdHJpbmcsIHZhbHVlOiAnYmluZC12YWx1ZSd9LFxuXG4gICAgLyoqXG4gICAgICogU2V0IHRvIHRydWUgdG8gYXV0by12YWxpZGF0ZSB0aGUgaW5wdXQgdmFsdWUgd2hlbiBpdCBjaGFuZ2VzLlxuICAgICAqL1xuICAgIGF1dG9WYWxpZGF0ZToge3R5cGU6IEJvb2xlYW4sIHZhbHVlOiBmYWxzZX0sXG5cbiAgICAvKipcbiAgICAgKiBUcnVlIGlmIHRoZSBpbnB1dCBpcyBpbnZhbGlkLiBUaGlzIHByb3BlcnR5IGlzIHNldCBhdXRvbWF0aWNhbGx5IHdoZW4gdGhlXG4gICAgICogaW5wdXQgdmFsdWUgY2hhbmdlcyBpZiBhdXRvLXZhbGlkYXRpbmcsIG9yIHdoZW4gdGhlIGBpcm9uLWlucHV0LXZhbGlkYXRlYFxuICAgICAqIGV2ZW50IGlzIGhlYXJkIGZyb20gYSBjaGlsZC5cbiAgICAgKi9cbiAgICBpbnZhbGlkOiB7b2JzZXJ2ZXI6ICdfaW52YWxpZENoYW5nZWQnLCB0eXBlOiBCb29sZWFuLCB2YWx1ZTogZmFsc2V9LFxuXG4gICAgLyoqXG4gICAgICogVHJ1ZSBpZiB0aGUgaW5wdXQgaGFzIGZvY3VzLlxuICAgICAqL1xuICAgIGZvY3VzZWQ6IHtyZWFkT25seTogdHJ1ZSwgdHlwZTogQm9vbGVhbiwgdmFsdWU6IGZhbHNlLCBub3RpZnk6IHRydWV9LFxuXG4gICAgX2FkZG9uczoge1xuICAgICAgdHlwZTogQXJyYXlcbiAgICAgIC8vIGRvIG5vdCBzZXQgYSBkZWZhdWx0IHZhbHVlIGhlcmUgaW50ZW50aW9uYWxseSAtIGl0IHdpbGwgYmUgaW5pdGlhbGl6ZWRcbiAgICAgIC8vIGxhemlseSB3aGVuIGEgZGlzdHJpYnV0ZWQgY2hpbGQgaXMgYXR0YWNoZWQsIHdoaWNoIG1heSBvY2N1ciBiZWZvcmVcbiAgICAgIC8vIGNvbmZpZ3VyYXRpb24gZm9yIHRoaXMgZWxlbWVudCBpbiBwb2x5ZmlsbC5cbiAgICB9LFxuXG4gICAgX2lucHV0SGFzQ29udGVudDoge3R5cGU6IEJvb2xlYW4sIHZhbHVlOiBmYWxzZX0sXG5cbiAgICBfaW5wdXRTZWxlY3RvcjpcbiAgICAgICAge3R5cGU6IFN0cmluZywgdmFsdWU6ICdpbnB1dCxpcm9uLWlucHV0LHRleHRhcmVhLC5wYXBlci1pbnB1dC1pbnB1dCd9LFxuXG4gICAgX2JvdW5kT25Gb2N1czoge1xuICAgICAgdHlwZTogRnVuY3Rpb24sXG4gICAgICB2YWx1ZTogZnVuY3Rpb24oKSB7XG4gICAgICAgIHJldHVybiB0aGlzLl9vbkZvY3VzLmJpbmQodGhpcyk7XG4gICAgICB9XG4gICAgfSxcblxuICAgIF9ib3VuZE9uQmx1cjoge1xuICAgICAgdHlwZTogRnVuY3Rpb24sXG4gICAgICB2YWx1ZTogZnVuY3Rpb24oKSB7XG4gICAgICAgIHJldHVybiB0aGlzLl9vbkJsdXIuYmluZCh0aGlzKTtcbiAgICAgIH1cbiAgICB9LFxuXG4gICAgX2JvdW5kT25JbnB1dDoge1xuICAgICAgdHlwZTogRnVuY3Rpb24sXG4gICAgICB2YWx1ZTogZnVuY3Rpb24oKSB7XG4gICAgICAgIHJldHVybiB0aGlzLl9vbklucHV0LmJpbmQodGhpcyk7XG4gICAgICB9XG4gICAgfSxcblxuICAgIF9ib3VuZFZhbHVlQ2hhbmdlZDoge1xuICAgICAgdHlwZTogRnVuY3Rpb24sXG4gICAgICB2YWx1ZTogZnVuY3Rpb24oKSB7XG4gICAgICAgIHJldHVybiB0aGlzLl9vblZhbHVlQ2hhbmdlZC5iaW5kKHRoaXMpO1xuICAgICAgfVxuICAgIH1cbiAgfSxcblxuICBsaXN0ZW5lcnM6IHtcbiAgICAnYWRkb24tYXR0YWNoZWQnOiAnX29uQWRkb25BdHRhY2hlZCcsXG4gICAgJ2lyb24taW5wdXQtdmFsaWRhdGUnOiAnX29uSXJvbklucHV0VmFsaWRhdGUnXG4gIH0sXG5cbiAgZ2V0IF92YWx1ZUNoYW5nZWRFdmVudCgpIHtcbiAgICByZXR1cm4gdGhpcy5hdHRyRm9yVmFsdWUgKyAnLWNoYW5nZWQnO1xuICB9LFxuXG4gIGdldCBfcHJvcGVydHlGb3JWYWx1ZSgpIHtcbiAgICByZXR1cm4gZGFzaFRvQ2FtZWxDYXNlKHRoaXMuYXR0ckZvclZhbHVlKTtcbiAgfSxcblxuICBnZXQgX2lucHV0RWxlbWVudCgpIHtcbiAgICByZXR1cm4gZG9tKHRoaXMpLnF1ZXJ5U2VsZWN0b3IodGhpcy5faW5wdXRTZWxlY3Rvcik7XG4gIH0sXG5cbiAgZ2V0IF9pbnB1dEVsZW1lbnRWYWx1ZSgpIHtcbiAgICByZXR1cm4gdGhpcy5faW5wdXRFbGVtZW50W3RoaXMuX3Byb3BlcnR5Rm9yVmFsdWVdIHx8XG4gICAgICAgIHRoaXMuX2lucHV0RWxlbWVudC52YWx1ZTtcbiAgfSxcblxuICByZWFkeTogZnVuY3Rpb24oKSB7XG4gICAgLy8gUGFwZXItaW5wdXQgdHJlYXRzIGEgdmFsdWUgb2YgdW5kZWZpbmVkIGRpZmZlcmVudGx5IGF0IHN0YXJ0dXAgdGhhblxuICAgIC8vIHRoZSByZXN0IG9mIHRoZSB0aW1lIChzcGVjaWZpY2FsbHk6IGl0IGRvZXMgbm90IHZhbGlkYXRlIGl0IGF0IHN0YXJ0dXAsXG4gICAgLy8gYnV0IGl0IGRvZXMgYWZ0ZXIgdGhhdC4gV2UgbmVlZCB0byB0cmFjayB3aGV0aGVyIHRoZSBmaXJzdCB0aW1lIHdlXG4gICAgLy8gZW5jb3VudGVyIHRoZSB2YWx1ZSBpcyBiYXNpY2FsbHkgdGhpcyBmaXJzdCB0aW1lLCBzbyB0aGF0IHdlIGNhbiB2YWxpZGF0ZVxuICAgIC8vIGl0IGNvcnJlY3RseSB0aGUgcmVzdCBvZiB0aGUgdGltZS4gU2VlXG4gICAgLy8gaHR0cHM6Ly9naXRodWIuY29tL1BvbHltZXJFbGVtZW50cy9wYXBlci1pbnB1dC9pc3N1ZXMvNjA1XG4gICAgdGhpcy5fX2lzRmlyc3RWYWx1ZVVwZGF0ZSA9IHRydWU7XG4gICAgaWYgKCF0aGlzLl9hZGRvbnMpIHtcbiAgICAgIHRoaXMuX2FkZG9ucyA9IFtdO1xuICAgIH1cbiAgICB0aGlzLmFkZEV2ZW50TGlzdGVuZXIoJ2ZvY3VzJywgdGhpcy5fYm91bmRPbkZvY3VzLCB0cnVlKTtcbiAgICB0aGlzLmFkZEV2ZW50TGlzdGVuZXIoJ2JsdXInLCB0aGlzLl9ib3VuZE9uQmx1ciwgdHJ1ZSk7XG4gIH0sXG5cbiAgYXR0YWNoZWQ6IGZ1bmN0aW9uKCkge1xuICAgIGlmICh0aGlzLmF0dHJGb3JWYWx1ZSkge1xuICAgICAgdGhpcy5faW5wdXRFbGVtZW50LmFkZEV2ZW50TGlzdGVuZXIoXG4gICAgICAgICAgdGhpcy5fdmFsdWVDaGFuZ2VkRXZlbnQsIHRoaXMuX2JvdW5kVmFsdWVDaGFuZ2VkKTtcbiAgICB9IGVsc2Uge1xuICAgICAgdGhpcy5hZGRFdmVudExpc3RlbmVyKCdpbnB1dCcsIHRoaXMuX29uSW5wdXQpO1xuICAgIH1cblxuICAgIC8vIE9ubHkgdmFsaWRhdGUgd2hlbiBhdHRhY2hlZCBpZiB0aGUgaW5wdXQgYWxyZWFkeSBoYXMgYSB2YWx1ZS5cbiAgICBpZiAodGhpcy5faW5wdXRFbGVtZW50VmFsdWUgJiYgdGhpcy5faW5wdXRFbGVtZW50VmFsdWUgIT0gJycpIHtcbiAgICAgIHRoaXMuX2hhbmRsZVZhbHVlQW5kQXV0b1ZhbGlkYXRlKHRoaXMuX2lucHV0RWxlbWVudCk7XG4gICAgfSBlbHNlIHtcbiAgICAgIHRoaXMuX2hhbmRsZVZhbHVlKHRoaXMuX2lucHV0RWxlbWVudCk7XG4gICAgfVxuICB9LFxuXG4gIC8qKiBAcHJpdmF0ZSAqL1xuICBfb25BZGRvbkF0dGFjaGVkOiBmdW5jdGlvbihldmVudCkge1xuICAgIGlmICghdGhpcy5fYWRkb25zKSB7XG4gICAgICB0aGlzLl9hZGRvbnMgPSBbXTtcbiAgICB9XG4gICAgdmFyIHRhcmdldCA9IGV2ZW50LnRhcmdldDtcbiAgICBpZiAodGhpcy5fYWRkb25zLmluZGV4T2YodGFyZ2V0KSA9PT0gLTEpIHtcbiAgICAgIHRoaXMuX2FkZG9ucy5wdXNoKHRhcmdldCk7XG4gICAgICBpZiAodGhpcy5pc0F0dGFjaGVkKSB7XG4gICAgICAgIHRoaXMuX2hhbmRsZVZhbHVlKHRoaXMuX2lucHV0RWxlbWVudCk7XG4gICAgICB9XG4gICAgfVxuICB9LFxuXG4gIC8qKiBAcHJpdmF0ZSAqL1xuICBfb25Gb2N1czogZnVuY3Rpb24oKSB7XG4gICAgdGhpcy5fc2V0Rm9jdXNlZCh0cnVlKTtcbiAgfSxcblxuICAvKiogQHByaXZhdGUgKi9cbiAgX29uQmx1cjogZnVuY3Rpb24oKSB7XG4gICAgdGhpcy5fc2V0Rm9jdXNlZChmYWxzZSk7XG4gICAgdGhpcy5faGFuZGxlVmFsdWVBbmRBdXRvVmFsaWRhdGUodGhpcy5faW5wdXRFbGVtZW50KTtcbiAgfSxcblxuICAvKiogQHByaXZhdGUgKi9cbiAgX29uSW5wdXQ6IGZ1bmN0aW9uKGV2ZW50KSB7XG4gICAgdGhpcy5faGFuZGxlVmFsdWVBbmRBdXRvVmFsaWRhdGUoZXZlbnQudGFyZ2V0KTtcbiAgfSxcblxuICAvKiogQHByaXZhdGUgKi9cbiAgX29uVmFsdWVDaGFuZ2VkOiBmdW5jdGlvbihldmVudCkge1xuICAgIHZhciBpbnB1dCA9IGV2ZW50LnRhcmdldDtcblxuICAgIC8vIFBhcGVyLWlucHV0IHRyZWF0cyBhIHZhbHVlIG9mIHVuZGVmaW5lZCBkaWZmZXJlbnRseSBhdCBzdGFydHVwIHRoYW5cbiAgICAvLyB0aGUgcmVzdCBvZiB0aGUgdGltZSAoc3BlY2lmaWNhbGx5OiBpdCBkb2VzIG5vdCB2YWxpZGF0ZSBpdCBhdCBzdGFydHVwLFxuICAgIC8vIGJ1dCBpdCBkb2VzIGFmdGVyIHRoYXQuIElmIHRoaXMgaXMgaW4gZmFjdCB0aGUgYm9vdHVwIGNhc2UsIGlnbm9yZVxuICAgIC8vIHZhbGlkYXRpb24sIGp1c3QgdGhpcyBvbmNlLlxuICAgIGlmICh0aGlzLl9faXNGaXJzdFZhbHVlVXBkYXRlKSB7XG4gICAgICB0aGlzLl9faXNGaXJzdFZhbHVlVXBkYXRlID0gZmFsc2U7XG4gICAgICBpZiAoaW5wdXQudmFsdWUgPT09IHVuZGVmaW5lZCB8fCBpbnB1dC52YWx1ZSA9PT0gJycpIHtcbiAgICAgICAgcmV0dXJuO1xuICAgICAgfVxuICAgIH1cblxuICAgIHRoaXMuX2hhbmRsZVZhbHVlQW5kQXV0b1ZhbGlkYXRlKGV2ZW50LnRhcmdldCk7XG4gIH0sXG5cbiAgLyoqIEBwcml2YXRlICovXG4gIF9oYW5kbGVWYWx1ZTogZnVuY3Rpb24oaW5wdXRFbGVtZW50KSB7XG4gICAgdmFyIHZhbHVlID0gdGhpcy5faW5wdXRFbGVtZW50VmFsdWU7XG5cbiAgICAvLyB0eXBlPVwibnVtYmVyXCIgaGFjayBuZWVkZWQgYmVjYXVzZSB0aGlzLnZhbHVlIGlzIGVtcHR5IHVudGlsIGl0J3MgdmFsaWRcbiAgICBpZiAodmFsdWUgfHwgdmFsdWUgPT09IDAgfHxcbiAgICAgICAgKGlucHV0RWxlbWVudC50eXBlID09PSAnbnVtYmVyJyAmJiAhaW5wdXRFbGVtZW50LmNoZWNrVmFsaWRpdHkoKSkpIHtcbiAgICAgIHRoaXMuX2lucHV0SGFzQ29udGVudCA9IHRydWU7XG4gICAgfSBlbHNlIHtcbiAgICAgIHRoaXMuX2lucHV0SGFzQ29udGVudCA9IGZhbHNlO1xuICAgIH1cblxuICAgIHRoaXMudXBkYXRlQWRkb25zKFxuICAgICAgICB7aW5wdXRFbGVtZW50OiBpbnB1dEVsZW1lbnQsIHZhbHVlOiB2YWx1ZSwgaW52YWxpZDogdGhpcy5pbnZhbGlkfSk7XG4gIH0sXG5cbiAgLyoqIEBwcml2YXRlICovXG4gIF9oYW5kbGVWYWx1ZUFuZEF1dG9WYWxpZGF0ZTogZnVuY3Rpb24oaW5wdXRFbGVtZW50KSB7XG4gICAgaWYgKHRoaXMuYXV0b1ZhbGlkYXRlICYmIGlucHV0RWxlbWVudCkge1xuICAgICAgdmFyIHZhbGlkO1xuXG4gICAgICBpZiAoaW5wdXRFbGVtZW50LnZhbGlkYXRlKSB7XG4gICAgICAgIHZhbGlkID0gaW5wdXRFbGVtZW50LnZhbGlkYXRlKHRoaXMuX2lucHV0RWxlbWVudFZhbHVlKTtcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIHZhbGlkID0gaW5wdXRFbGVtZW50LmNoZWNrVmFsaWRpdHkoKTtcbiAgICAgIH1cbiAgICAgIHRoaXMuaW52YWxpZCA9ICF2YWxpZDtcbiAgICB9XG5cbiAgICAvLyBDYWxsIHRoaXMgbGFzdCB0byBub3RpZnkgdGhlIGFkZC1vbnMuXG4gICAgdGhpcy5faGFuZGxlVmFsdWUoaW5wdXRFbGVtZW50KTtcbiAgfSxcblxuICAvKiogQHByaXZhdGUgKi9cbiAgX29uSXJvbklucHV0VmFsaWRhdGU6IGZ1bmN0aW9uKGV2ZW50KSB7XG4gICAgdGhpcy5pbnZhbGlkID0gdGhpcy5faW5wdXRFbGVtZW50LmludmFsaWQ7XG4gIH0sXG5cbiAgLyoqIEBwcml2YXRlICovXG4gIF9pbnZhbGlkQ2hhbmdlZDogZnVuY3Rpb24oKSB7XG4gICAgaWYgKHRoaXMuX2FkZG9ucykge1xuICAgICAgdGhpcy51cGRhdGVBZGRvbnMoe2ludmFsaWQ6IHRoaXMuaW52YWxpZH0pO1xuICAgIH1cbiAgfSxcblxuICAvKipcbiAgICogQ2FsbCB0aGlzIHRvIHVwZGF0ZSB0aGUgc3RhdGUgb2YgYWRkLW9ucy5cbiAgICogQHBhcmFtIHtPYmplY3R9IHN0YXRlIEFkZC1vbiBzdGF0ZS5cbiAgICovXG4gIHVwZGF0ZUFkZG9uczogZnVuY3Rpb24oc3RhdGUpIHtcbiAgICBmb3IgKHZhciBhZGRvbiwgaW5kZXggPSAwOyBhZGRvbiA9IHRoaXMuX2FkZG9uc1tpbmRleF07IGluZGV4KyspIHtcbiAgICAgIGFkZG9uLnVwZGF0ZShzdGF0ZSk7XG4gICAgfVxuICB9LFxuXG4gIC8qKiBAcHJpdmF0ZSAqL1xuICBfY29tcHV0ZUlucHV0Q29udGVudENsYXNzOiBmdW5jdGlvbihcbiAgICAgIG5vTGFiZWxGbG9hdCwgYWx3YXlzRmxvYXRMYWJlbCwgZm9jdXNlZCwgaW52YWxpZCwgX2lucHV0SGFzQ29udGVudCkge1xuICAgIHZhciBjbHMgPSAnaW5wdXQtY29udGVudCc7XG4gICAgaWYgKCFub0xhYmVsRmxvYXQpIHtcbiAgICAgIHZhciBsYWJlbCA9IHRoaXMucXVlcnlTZWxlY3RvcignbGFiZWwnKTtcblxuICAgICAgaWYgKGFsd2F5c0Zsb2F0TGFiZWwgfHwgX2lucHV0SGFzQ29udGVudCkge1xuICAgICAgICBjbHMgKz0gJyBsYWJlbC1pcy1mbG9hdGluZyc7XG4gICAgICAgIC8vIElmIHRoZSBsYWJlbCBpcyBmbG9hdGluZywgaWdub3JlIGFueSBvZmZzZXRzIHRoYXQgbWF5IGhhdmUgYmVlblxuICAgICAgICAvLyBhcHBsaWVkIGZyb20gYSBwcmVmaXggZWxlbWVudC5cbiAgICAgICAgdGhpcy4kLmxhYmVsQW5kSW5wdXRDb250YWluZXIuc3R5bGUucG9zaXRpb24gPSAnc3RhdGljJztcblxuICAgICAgICBpZiAoaW52YWxpZCkge1xuICAgICAgICAgIGNscyArPSAnIGlzLWludmFsaWQnO1xuICAgICAgICB9IGVsc2UgaWYgKGZvY3VzZWQpIHtcbiAgICAgICAgICBjbHMgKz0gJyBsYWJlbC1pcy1oaWdobGlnaHRlZCc7XG4gICAgICAgIH1cbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIC8vIFdoZW4gdGhlIGxhYmVsIGlzIG5vdCBmbG9hdGluZywgaXQgc2hvdWxkIG92ZXJsYXAgdGhlIGlucHV0IGVsZW1lbnQuXG4gICAgICAgIGlmIChsYWJlbCkge1xuICAgICAgICAgIHRoaXMuJC5sYWJlbEFuZElucHV0Q29udGFpbmVyLnN0eWxlLnBvc2l0aW9uID0gJ3JlbGF0aXZlJztcbiAgICAgICAgfVxuICAgICAgICBpZiAoaW52YWxpZCkge1xuICAgICAgICAgIGNscyArPSAnIGlzLWludmFsaWQnO1xuICAgICAgICB9XG4gICAgICB9XG4gICAgfSBlbHNlIHtcbiAgICAgIGlmIChfaW5wdXRIYXNDb250ZW50KSB7XG4gICAgICAgIGNscyArPSAnIGxhYmVsLWlzLWhpZGRlbic7XG4gICAgICB9XG4gICAgICBpZiAoaW52YWxpZCkge1xuICAgICAgICBjbHMgKz0gJyBpcy1pbnZhbGlkJztcbiAgICAgIH1cbiAgICB9XG4gICAgaWYgKGZvY3VzZWQpIHtcbiAgICAgIGNscyArPSAnIGZvY3VzZWQnO1xuICAgIH1cbiAgICByZXR1cm4gY2xzO1xuICB9LFxuXG4gIC8qKiBAcHJpdmF0ZSAqL1xuICBfY29tcHV0ZVVuZGVybGluZUNsYXNzOiBmdW5jdGlvbihmb2N1c2VkLCBpbnZhbGlkKSB7XG4gICAgdmFyIGNscyA9ICd1bmRlcmxpbmUnO1xuICAgIGlmIChpbnZhbGlkKSB7XG4gICAgICBjbHMgKz0gJyBpcy1pbnZhbGlkJztcbiAgICB9IGVsc2UgaWYgKGZvY3VzZWQpIHtcbiAgICAgIGNscyArPSAnIGlzLWhpZ2hsaWdodGVkJ1xuICAgIH1cbiAgICByZXR1cm4gY2xzO1xuICB9LFxuXG4gIC8qKiBAcHJpdmF0ZSAqL1xuICBfY29tcHV0ZUFkZE9uQ29udGVudENsYXNzOiBmdW5jdGlvbihmb2N1c2VkLCBpbnZhbGlkKSB7XG4gICAgdmFyIGNscyA9ICdhZGQtb24tY29udGVudCc7XG4gICAgaWYgKGludmFsaWQpIHtcbiAgICAgIGNscyArPSAnIGlzLWludmFsaWQnO1xuICAgIH0gZWxzZSBpZiAoZm9jdXNlZCkge1xuICAgICAgY2xzICs9ICcgaXMtaGlnaGxpZ2h0ZWQnXG4gICAgfVxuICAgIHJldHVybiBjbHM7XG4gIH1cbn0pO1xuIiwiLyoqXG5AbGljZW5zZVxuQ29weXJpZ2h0IChjKSAyMDE1IFRoZSBQb2x5bWVyIFByb2plY3QgQXV0aG9ycy4gQWxsIHJpZ2h0cyByZXNlcnZlZC5cblRoaXMgY29kZSBtYXkgb25seSBiZSB1c2VkIHVuZGVyIHRoZSBCU0Qgc3R5bGUgbGljZW5zZSBmb3VuZCBhdFxuaHR0cDovL3BvbHltZXIuZ2l0aHViLmlvL0xJQ0VOU0UudHh0IFRoZSBjb21wbGV0ZSBzZXQgb2YgYXV0aG9ycyBtYXkgYmUgZm91bmQgYXRcbmh0dHA6Ly9wb2x5bWVyLmdpdGh1Yi5pby9BVVRIT1JTLnR4dCBUaGUgY29tcGxldGUgc2V0IG9mIGNvbnRyaWJ1dG9ycyBtYXkgYmVcbmZvdW5kIGF0IGh0dHA6Ly9wb2x5bWVyLmdpdGh1Yi5pby9DT05UUklCVVRPUlMudHh0IENvZGUgZGlzdHJpYnV0ZWQgYnkgR29vZ2xlIGFzXG5wYXJ0IG9mIHRoZSBwb2x5bWVyIHByb2plY3QgaXMgYWxzbyBzdWJqZWN0IHRvIGFuIGFkZGl0aW9uYWwgSVAgcmlnaHRzIGdyYW50XG5mb3VuZCBhdCBodHRwOi8vcG9seW1lci5naXRodWIuaW8vUEFURU5UUy50eHRcbiovXG5pbXBvcnQgJ0Bwb2x5bWVyL3BvbHltZXIvcG9seW1lci1sZWdhY3kuanMnO1xuaW1wb3J0ICdAcG9seW1lci9wYXBlci1zdHlsZXMvZGVmYXVsdC10aGVtZS5qcyc7XG5pbXBvcnQgJ0Bwb2x5bWVyL3BhcGVyLXN0eWxlcy90eXBvZ3JhcGh5LmpzJztcblxuaW1wb3J0IHtQb2x5bWVyfSBmcm9tICdAcG9seW1lci9wb2x5bWVyL2xpYi9sZWdhY3kvcG9seW1lci1mbi5qcyc7XG5pbXBvcnQge2h0bWx9IGZyb20gJ0Bwb2x5bWVyL3BvbHltZXIvbGliL3V0aWxzL2h0bWwtdGFnLmpzJztcblxuaW1wb3J0IHtQYXBlcklucHV0QWRkb25CZWhhdmlvcn0gZnJvbSAnLi9wYXBlci1pbnB1dC1hZGRvbi1iZWhhdmlvci5qcyc7XG5cbi8qXG5gPHBhcGVyLWlucHV0LWVycm9yPmAgaXMgYW4gZXJyb3IgbWVzc2FnZSBmb3IgdXNlIHdpdGhcbmA8cGFwZXItaW5wdXQtY29udGFpbmVyPmAuIFRoZSBlcnJvciBpcyBkaXNwbGF5ZWQgd2hlbiB0aGVcbmA8cGFwZXItaW5wdXQtY29udGFpbmVyPmAgaXMgYGludmFsaWRgLlxuXG4gICAgPHBhcGVyLWlucHV0LWNvbnRhaW5lcj5cbiAgICAgIDxpbnB1dCBwYXR0ZXJuPVwiWzAtOV0qXCI+XG4gICAgICA8cGFwZXItaW5wdXQtZXJyb3Igc2xvdD1cImFkZC1vblwiPk9ubHkgbnVtYmVycyBhcmVcbmFsbG93ZWQhPC9wYXBlci1pbnB1dC1lcnJvcj5cbiAgICA8L3BhcGVyLWlucHV0LWNvbnRhaW5lcj5cblxuIyMjIFN0eWxpbmdcblxuVGhlIGZvbGxvd2luZyBjdXN0b20gcHJvcGVydGllcyBhbmQgbWl4aW5zIGFyZSBhdmFpbGFibGUgZm9yIHN0eWxpbmc6XG5cbkN1c3RvbSBwcm9wZXJ0eSB8IERlc2NyaXB0aW9uIHwgRGVmYXVsdFxuLS0tLS0tLS0tLS0tLS0tLXwtLS0tLS0tLS0tLS0tfC0tLS0tLS0tLS1cbmAtLXBhcGVyLWlucHV0LWNvbnRhaW5lci1pbnZhbGlkLWNvbG9yYCB8IFRoZSBmb3JlZ3JvdW5kIGNvbG9yIG9mIHRoZSBlcnJvciB8IGAtLWVycm9yLWNvbG9yYFxuYC0tcGFwZXItaW5wdXQtZXJyb3JgIHwgTWl4aW4gYXBwbGllZCB0byB0aGUgZXJyb3IgfCBge31gXG4qL1xuUG9seW1lcih7XG4gIF90ZW1wbGF0ZTogaHRtbGBcbiAgICA8c3R5bGU+XG4gICAgICA6aG9zdCB7XG4gICAgICAgIGRpc3BsYXk6IGlubGluZS1ibG9jaztcbiAgICAgICAgdmlzaWJpbGl0eTogaGlkZGVuO1xuXG4gICAgICAgIGNvbG9yOiB2YXIoLS1wYXBlci1pbnB1dC1jb250YWluZXItaW52YWxpZC1jb2xvciwgdmFyKC0tZXJyb3ItY29sb3IpKTtcblxuICAgICAgICBAYXBwbHkgLS1wYXBlci1mb250LWNhcHRpb247XG4gICAgICAgIEBhcHBseSAtLXBhcGVyLWlucHV0LWVycm9yO1xuICAgICAgICBwb3NpdGlvbjogYWJzb2x1dGU7XG4gICAgICAgIGxlZnQ6MDtcbiAgICAgICAgcmlnaHQ6MDtcbiAgICAgIH1cblxuICAgICAgOmhvc3QoW2ludmFsaWRdKSB7XG4gICAgICAgIHZpc2liaWxpdHk6IHZpc2libGU7XG4gICAgICB9XG5cbiAgICAgICNhMTF5V3JhcHBlciB7XG4gICAgICAgIHZpc2liaWxpdHk6IGhpZGRlbjtcbiAgICAgIH1cblxuICAgICAgOmhvc3QoW2ludmFsaWRdKSAjYTExeVdyYXBwZXIge1xuICAgICAgICB2aXNpYmlsaXR5OiB2aXNpYmxlO1xuICAgICAgfVxuICAgIDwvc3R5bGU+XG5cbiAgICA8IS0tXG4gICAgSWYgdGhlIHBhcGVyLWlucHV0LWVycm9yIGVsZW1lbnQgaXMgZGlyZWN0bHkgcmVmZXJlbmNlZCBieSBhblxuICAgIFxcYGFyaWEtZGVzY3JpYmVkYnlcXGAgYXR0cmlidXRlLCBzdWNoIGFzIHdoZW4gdXNlZCBhcyBhIHBhcGVyLWlucHV0IGFkZC1vbixcbiAgICB0aGVuIGFwcGx5aW5nIFxcYHZpc2liaWxpdHk6IGhpZGRlbjtcXGAgdG8gdGhlIHBhcGVyLWlucHV0LWVycm9yIGVsZW1lbnQgaXRzZWxmXG4gICAgZG9lcyBub3QgaGlkZSB0aGUgZXJyb3IuXG5cbiAgICBGb3IgbW9yZSBpbmZvcm1hdGlvbiwgc2VlOlxuICAgIGh0dHBzOi8vd3d3LnczLm9yZy9UUi9hY2NuYW1lLTEuMS8jbWFwcGluZ19hZGRpdGlvbmFsX25kX2Rlc2NyaXB0aW9uXG4gICAgLS0+XG4gICAgPGRpdiBpZD1cImExMXlXcmFwcGVyXCI+XG4gICAgICA8c2xvdD48L3Nsb3Q+XG4gICAgPC9kaXY+XG5gLFxuXG4gIGlzOiAncGFwZXItaW5wdXQtZXJyb3InLFxuICBiZWhhdmlvcnM6IFtQYXBlcklucHV0QWRkb25CZWhhdmlvcl0sXG5cbiAgcHJvcGVydGllczoge1xuICAgIC8qKlxuICAgICAqIFRydWUgaWYgdGhlIGVycm9yIGlzIHNob3dpbmcuXG4gICAgICovXG4gICAgaW52YWxpZDoge3JlYWRPbmx5OiB0cnVlLCByZWZsZWN0VG9BdHRyaWJ1dGU6IHRydWUsIHR5cGU6IEJvb2xlYW59XG4gIH0sXG5cbiAgLyoqXG4gICAqIFRoaXMgb3ZlcnJpZGVzIHRoZSB1cGRhdGUgZnVuY3Rpb24gaW4gUGFwZXJJbnB1dEFkZG9uQmVoYXZpb3IuXG4gICAqIEBwYXJhbSB7e1xuICAgKiAgIGlucHV0RWxlbWVudDogKEVsZW1lbnR8dW5kZWZpbmVkKSxcbiAgICogICB2YWx1ZTogKHN0cmluZ3x1bmRlZmluZWQpLFxuICAgKiAgIGludmFsaWQ6IGJvb2xlYW5cbiAgICogfX0gc3RhdGUgLVxuICAgKiAgICAgaW5wdXRFbGVtZW50OiBUaGUgaW5wdXQgZWxlbWVudC5cbiAgICogICAgIHZhbHVlOiBUaGUgaW5wdXQgdmFsdWUuXG4gICAqICAgICBpbnZhbGlkOiBUcnVlIGlmIHRoZSBpbnB1dCB2YWx1ZSBpcyBpbnZhbGlkLlxuICAgKi9cbiAgdXBkYXRlOiBmdW5jdGlvbihzdGF0ZSkge1xuICAgIHRoaXMuX3NldEludmFsaWQoc3RhdGUuaW52YWxpZCk7XG4gIH1cbn0pO1xuIiwiLyoqXG5AbGljZW5zZVxuQ29weXJpZ2h0IChjKSAyMDE1IFRoZSBQb2x5bWVyIFByb2plY3QgQXV0aG9ycy4gQWxsIHJpZ2h0cyByZXNlcnZlZC5cblRoaXMgY29kZSBtYXkgb25seSBiZSB1c2VkIHVuZGVyIHRoZSBCU0Qgc3R5bGUgbGljZW5zZSBmb3VuZCBhdFxuaHR0cDovL3BvbHltZXIuZ2l0aHViLmlvL0xJQ0VOU0UudHh0IFRoZSBjb21wbGV0ZSBzZXQgb2YgYXV0aG9ycyBtYXkgYmUgZm91bmQgYXRcbmh0dHA6Ly9wb2x5bWVyLmdpdGh1Yi5pby9BVVRIT1JTLnR4dCBUaGUgY29tcGxldGUgc2V0IG9mIGNvbnRyaWJ1dG9ycyBtYXkgYmVcbmZvdW5kIGF0IGh0dHA6Ly9wb2x5bWVyLmdpdGh1Yi5pby9DT05UUklCVVRPUlMudHh0IENvZGUgZGlzdHJpYnV0ZWQgYnkgR29vZ2xlIGFzXG5wYXJ0IG9mIHRoZSBwb2x5bWVyIHByb2plY3QgaXMgYWxzbyBzdWJqZWN0IHRvIGFuIGFkZGl0aW9uYWwgSVAgcmlnaHRzIGdyYW50XG5mb3VuZCBhdCBodHRwOi8vcG9seW1lci5naXRodWIuaW8vUEFURU5UUy50eHRcbiovXG5pbXBvcnQgJ0Bwb2x5bWVyL3BvbHltZXIvcG9seW1lci1sZWdhY3kuanMnO1xuXG4vKipcbiAgSXJvbkZvcm1FbGVtZW50QmVoYXZpb3IgYWRkcyBhIGBuYW1lYCwgYHZhbHVlYCBhbmQgYHJlcXVpcmVkYCBwcm9wZXJ0aWVzIHRvXG4gIGEgY3VzdG9tIGVsZW1lbnQuIEl0IG1vc3RseSBleGlzdHMgZm9yIGJhY2tjb21wYXRpYmlsaXR5IHdpdGggUG9seW1lciAxLngsIGFuZFxuICBpcyBwcm9iYWJseSBub3Qgc29tZXRoaW5nIHlvdSB3YW50IHRvIHVzZS5cblxuICBAZGVtbyBkZW1vL2luZGV4Lmh0bWxcbiAgQHBvbHltZXJCZWhhdmlvclxuICovXG5leHBvcnQgY29uc3QgSXJvbkZvcm1FbGVtZW50QmVoYXZpb3IgPSB7XG5cbiAgcHJvcGVydGllczoge1xuICAgIC8qKlxuICAgICAqIFRoZSBuYW1lIG9mIHRoaXMgZWxlbWVudC5cbiAgICAgKi9cbiAgICBuYW1lOiB7dHlwZTogU3RyaW5nfSxcblxuICAgIC8qKlxuICAgICAqIFRoZSB2YWx1ZSBmb3IgdGhpcyBlbGVtZW50LlxuICAgICAqIEB0eXBlIHsqfVxuICAgICAqL1xuICAgIHZhbHVlOiB7bm90aWZ5OiB0cnVlLCB0eXBlOiBTdHJpbmd9LFxuXG4gICAgLyoqXG4gICAgICogU2V0IHRvIHRydWUgdG8gbWFyayB0aGUgaW5wdXQgYXMgcmVxdWlyZWQuIElmIHVzZWQgaW4gYSBmb3JtLCBhXG4gICAgICogY3VzdG9tIGVsZW1lbnQgdGhhdCB1c2VzIHRoaXMgYmVoYXZpb3Igc2hvdWxkIGFsc28gdXNlXG4gICAgICogSXJvblZhbGlkYXRhYmxlQmVoYXZpb3IgYW5kIGRlZmluZSBhIGN1c3RvbSB2YWxpZGF0aW9uIG1ldGhvZC5cbiAgICAgKiBPdGhlcndpc2UsIGEgYHJlcXVpcmVkYCBlbGVtZW50IHdpbGwgYWx3YXlzIGJlIGNvbnNpZGVyZWQgdmFsaWQuXG4gICAgICogSXQncyBhbHNvIHN0cm9uZ2x5IHJlY29tbWVuZGVkIHRvIHByb3ZpZGUgYSB2aXN1YWwgc3R5bGUgZm9yIHRoZSBlbGVtZW50XG4gICAgICogd2hlbiBpdHMgdmFsdWUgaXMgaW52YWxpZC5cbiAgICAgKi9cbiAgICByZXF1aXJlZDoge3R5cGU6IEJvb2xlYW4sIHZhbHVlOiBmYWxzZX0sXG4gIH0sXG5cbiAgLy8gRW1wdHkgaW1wbGVtZW50YXRpb25zIGZvciBiYWNrY29tcGF0aWJpbGl0eS5cbiAgYXR0YWNoZWQ6IGZ1bmN0aW9uKCkge30sXG4gIGRldGFjaGVkOiBmdW5jdGlvbigpIHt9XG59O1xuIiwiLyoqXG5AbGljZW5zZVxuQ29weXJpZ2h0IChjKSAyMDE1IFRoZSBQb2x5bWVyIFByb2plY3QgQXV0aG9ycy4gQWxsIHJpZ2h0cyByZXNlcnZlZC5cblRoaXMgY29kZSBtYXkgb25seSBiZSB1c2VkIHVuZGVyIHRoZSBCU0Qgc3R5bGUgbGljZW5zZSBmb3VuZCBhdFxuaHR0cDovL3BvbHltZXIuZ2l0aHViLmlvL0xJQ0VOU0UudHh0IFRoZSBjb21wbGV0ZSBzZXQgb2YgYXV0aG9ycyBtYXkgYmUgZm91bmQgYXRcbmh0dHA6Ly9wb2x5bWVyLmdpdGh1Yi5pby9BVVRIT1JTLnR4dCBUaGUgY29tcGxldGUgc2V0IG9mIGNvbnRyaWJ1dG9ycyBtYXkgYmVcbmZvdW5kIGF0IGh0dHA6Ly9wb2x5bWVyLmdpdGh1Yi5pby9DT05UUklCVVRPUlMudHh0IENvZGUgZGlzdHJpYnV0ZWQgYnkgR29vZ2xlIGFzXG5wYXJ0IG9mIHRoZSBwb2x5bWVyIHByb2plY3QgaXMgYWxzbyBzdWJqZWN0IHRvIGFuIGFkZGl0aW9uYWwgSVAgcmlnaHRzIGdyYW50XG5mb3VuZCBhdCBodHRwOi8vcG9seW1lci5naXRodWIuaW8vUEFURU5UUy50eHRcbiovXG5pbXBvcnQgJ0Bwb2x5bWVyL3BvbHltZXIvcG9seW1lci1sZWdhY3kuanMnO1xuXG5pbXBvcnQge0lyb25BMTF5S2V5c0JlaGF2aW9yfSBmcm9tICdAcG9seW1lci9pcm9uLWExMXkta2V5cy1iZWhhdmlvci9pcm9uLWExMXkta2V5cy1iZWhhdmlvci5qcyc7XG5pbXBvcnQge0lyb25Db250cm9sU3RhdGV9IGZyb20gJ0Bwb2x5bWVyL2lyb24tYmVoYXZpb3JzL2lyb24tY29udHJvbC1zdGF0ZS5qcyc7XG5pbXBvcnQge2RvbX0gZnJvbSAnQHBvbHltZXIvcG9seW1lci9saWIvbGVnYWN5L3BvbHltZXIuZG9tLmpzJztcbmltcG9ydCB7UG9seW1lckVsZW1lbnR9IGZyb20gJ0Bwb2x5bWVyL3BvbHltZXIvcG9seW1lci1lbGVtZW50LmpzJztcblxuLy8gR2VuZXJhdGUgdW5pcXVlLCBtb25vdG9uaWNhbGx5IGluY3JlYXNpbmcgSURzIGZvciBsYWJlbHMgKG5lZWRlZCBieVxuLy8gYXJpYS1sYWJlbGxlZGJ5KSBhbmQgYWRkLW9ucy5cbmV4cG9ydCBjb25zdCBQYXBlcklucHV0SGVscGVyID0ge307XG5cblBhcGVySW5wdXRIZWxwZXIuTmV4dExhYmVsSUQgPSAxO1xuUGFwZXJJbnB1dEhlbHBlci5OZXh0QWRkb25JRCA9IDE7XG5QYXBlcklucHV0SGVscGVyLk5leHRJbnB1dElEID0gMTtcblxuLyoqXG4gKiBVc2UgYFBhcGVySW5wdXRCZWhhdmlvcmAgdG8gaW1wbGVtZW50IGlucHV0cyB3aXRoIGA8cGFwZXItaW5wdXQtY29udGFpbmVyPmAuXG4gKiBUaGlzIGJlaGF2aW9yIGlzIGltcGxlbWVudGVkIGJ5IGA8cGFwZXItaW5wdXQ+YC4gSXQgZXhwb3NlcyBhIG51bWJlciBvZlxuICogcHJvcGVydGllcyBmcm9tIGA8cGFwZXItaW5wdXQtY29udGFpbmVyPmAgYW5kIGA8aW5wdXQgaXM9XCJpcm9uLWlucHV0XCI+YCBhbmRcbiAqIHRoZXkgc2hvdWxkIGJlIGJvdW5kIGluIHlvdXIgdGVtcGxhdGUuXG4gKlxuICogVGhlIGlucHV0IGVsZW1lbnQgY2FuIGJlIGFjY2Vzc2VkIGJ5IHRoZSBgaW5wdXRFbGVtZW50YCBwcm9wZXJ0eSBpZiB5b3UgbmVlZFxuICogdG8gYWNjZXNzIHByb3BlcnRpZXMgb3IgbWV0aG9kcyB0aGF0IGFyZSBub3QgZXhwb3NlZC5cbiAqIEBwb2x5bWVyQmVoYXZpb3IgUGFwZXJJbnB1dEJlaGF2aW9yXG4gKi9cbmV4cG9ydCBjb25zdCBQYXBlcklucHV0QmVoYXZpb3JJbXBsID0ge1xuXG4gIHByb3BlcnRpZXM6IHtcbiAgICAvKipcbiAgICAgKiBGaXJlZCB3aGVuIHRoZSBpbnB1dCBjaGFuZ2VzIGR1ZSB0byB1c2VyIGludGVyYWN0aW9uLlxuICAgICAqXG4gICAgICogQGV2ZW50IGNoYW5nZVxuICAgICAqL1xuXG4gICAgLyoqXG4gICAgICogVGhlIGxhYmVsIGZvciB0aGlzIGlucHV0LiBJZiB5b3UncmUgdXNpbmcgUGFwZXJJbnB1dEJlaGF2aW9yIHRvXG4gICAgICogaW1wbGVtZW50IHlvdXIgb3duIHBhcGVyLWlucHV0LWxpa2UgZWxlbWVudCwgYmluZCB0aGlzIHRvXG4gICAgICogYDxsYWJlbD5gJ3MgY29udGVudCBhbmQgYGhpZGRlbmAgcHJvcGVydHksIGUuZy5cbiAgICAgKiBgPGxhYmVsIGhpZGRlbiQ9XCJbWyFsYWJlbF1dXCI+W1tsYWJlbF1dPC9sYWJlbD5gIGluIHlvdXIgYHRlbXBsYXRlYFxuICAgICAqL1xuICAgIGxhYmVsOiB7dHlwZTogU3RyaW5nfSxcblxuICAgIC8qKlxuICAgICAqIFRoZSB2YWx1ZSBmb3IgdGhpcyBpbnB1dC4gSWYgeW91J3JlIHVzaW5nIFBhcGVySW5wdXRCZWhhdmlvciB0b1xuICAgICAqIGltcGxlbWVudCB5b3VyIG93biBwYXBlci1pbnB1dC1saWtlIGVsZW1lbnQsIGJpbmQgdGhpcyB0b1xuICAgICAqIHRoZSBgPGlyb24taW5wdXQ+YCdzIGBiaW5kVmFsdWVgXG4gICAgICogcHJvcGVydHksIG9yIHRoZSB2YWx1ZSBwcm9wZXJ0eSBvZiB5b3VyIGlucHV0IHRoYXQgaXMgYG5vdGlmeTp0cnVlYC5cbiAgICAgKiBAdHlwZSB7Kn1cbiAgICAgKi9cbiAgICB2YWx1ZToge25vdGlmeTogdHJ1ZSwgdHlwZTogU3RyaW5nfSxcblxuICAgIC8qKlxuICAgICAqIFNldCB0byB0cnVlIHRvIGRpc2FibGUgdGhpcyBpbnB1dC4gSWYgeW91J3JlIHVzaW5nIFBhcGVySW5wdXRCZWhhdmlvciB0b1xuICAgICAqIGltcGxlbWVudCB5b3VyIG93biBwYXBlci1pbnB1dC1saWtlIGVsZW1lbnQsIGJpbmQgdGhpcyB0b1xuICAgICAqIGJvdGggdGhlIGA8cGFwZXItaW5wdXQtY29udGFpbmVyPmAncyBhbmQgdGhlIGlucHV0J3MgYGRpc2FibGVkYCBwcm9wZXJ0eS5cbiAgICAgKi9cbiAgICBkaXNhYmxlZDoge3R5cGU6IEJvb2xlYW4sIHZhbHVlOiBmYWxzZX0sXG5cbiAgICAvKipcbiAgICAgKiBSZXR1cm5zIHRydWUgaWYgdGhlIHZhbHVlIGlzIGludmFsaWQuIElmIHlvdSdyZSB1c2luZyBQYXBlcklucHV0QmVoYXZpb3JcbiAgICAgKiB0byBpbXBsZW1lbnQgeW91ciBvd24gcGFwZXItaW5wdXQtbGlrZSBlbGVtZW50LCBiaW5kIHRoaXMgdG8gYm90aCB0aGVcbiAgICAgKiBgPHBhcGVyLWlucHV0LWNvbnRhaW5lcj5gJ3MgYW5kIHRoZSBpbnB1dCdzIGBpbnZhbGlkYCBwcm9wZXJ0eS5cbiAgICAgKlxuICAgICAqIElmIGBhdXRvVmFsaWRhdGVgIGlzIHRydWUsIHRoZSBgaW52YWxpZGAgYXR0cmlidXRlIGlzIG1hbmFnZWRcbiAgICAgKiBhdXRvbWF0aWNhbGx5LCB3aGljaCBjYW4gY2xvYmJlciBhdHRlbXB0cyB0byBtYW5hZ2UgaXQgbWFudWFsbHkuXG4gICAgICovXG4gICAgaW52YWxpZDoge3R5cGU6IEJvb2xlYW4sIHZhbHVlOiBmYWxzZSwgbm90aWZ5OiB0cnVlfSxcblxuICAgIC8qKlxuICAgICAqIFNldCB0aGlzIHRvIHNwZWNpZnkgdGhlIHBhdHRlcm4gYWxsb3dlZCBieSBgcHJldmVudEludmFsaWRJbnB1dGAuIElmXG4gICAgICogeW91J3JlIHVzaW5nIFBhcGVySW5wdXRCZWhhdmlvciB0byBpbXBsZW1lbnQgeW91ciBvd24gcGFwZXItaW5wdXQtbGlrZVxuICAgICAqIGVsZW1lbnQsIGJpbmQgdGhpcyB0byB0aGUgYDxpbnB1dCBpcz1cImlyb24taW5wdXRcIj5gJ3MgYGFsbG93ZWRQYXR0ZXJuYFxuICAgICAqIHByb3BlcnR5LlxuICAgICAqL1xuICAgIGFsbG93ZWRQYXR0ZXJuOiB7dHlwZTogU3RyaW5nfSxcblxuICAgIC8qKlxuICAgICAqIFRoZSB0eXBlIG9mIHRoZSBpbnB1dC4gVGhlIHN1cHBvcnRlZCB0eXBlcyBhcmUgdGhlXG4gICAgICogW25hdGl2ZSBpbnB1dCdzXG4gICAgICogdHlwZXNdKGh0dHBzOi8vZGV2ZWxvcGVyLm1vemlsbGEub3JnL2VuLVVTL2RvY3MvV2ViL0hUTUwvRWxlbWVudC9pbnB1dCNGb3JtXzxpbnB1dD5fdHlwZXMpLlxuICAgICAqIElmIHlvdSdyZSB1c2luZyBQYXBlcklucHV0QmVoYXZpb3IgdG8gaW1wbGVtZW50IHlvdXIgb3duIHBhcGVyLWlucHV0LWxpa2VcbiAgICAgKiBlbGVtZW50LCBiaW5kIHRoaXMgdG8gdGhlIChQb2x5bWVyIDEpIGA8aW5wdXQgaXM9XCJpcm9uLWlucHV0XCI+YCdzIG9yXG4gICAgICogKFBvbHltZXIgMilcbiAgICAgKiBgPGlyb24taW5wdXQ+YCdzIGB0eXBlYCBwcm9wZXJ0eS5cbiAgICAgKi9cbiAgICB0eXBlOiB7dHlwZTogU3RyaW5nfSxcblxuICAgIC8qKlxuICAgICAqIFRoZSBkYXRhbGlzdCBvZiB0aGUgaW5wdXQgKGlmIGFueSkuIFRoaXMgc2hvdWxkIG1hdGNoIHRoZSBpZCBvZiBhblxuICAgICAqIGV4aXN0aW5nIGA8ZGF0YWxpc3Q+YC4gSWYgeW91J3JlIHVzaW5nIFBhcGVySW5wdXRCZWhhdmlvciB0byBpbXBsZW1lbnRcbiAgICAgKiB5b3VyIG93biBwYXBlci1pbnB1dC1saWtlIGVsZW1lbnQsIGJpbmQgdGhpcyB0byB0aGUgYDxpbnB1dFxuICAgICAqIGlzPVwiaXJvbi1pbnB1dFwiPmAncyBgbGlzdGAgcHJvcGVydHkuXG4gICAgICovXG4gICAgbGlzdDoge3R5cGU6IFN0cmluZ30sXG5cbiAgICAvKipcbiAgICAgKiBBIHBhdHRlcm4gdG8gdmFsaWRhdGUgdGhlIGBpbnB1dGAgd2l0aC4gSWYgeW91J3JlIHVzaW5nXG4gICAgICogUGFwZXJJbnB1dEJlaGF2aW9yIHRvIGltcGxlbWVudCB5b3VyIG93biBwYXBlci1pbnB1dC1saWtlIGVsZW1lbnQsIGJpbmRcbiAgICAgKiB0aGlzIHRvIHRoZSBgPGlucHV0IGlzPVwiaXJvbi1pbnB1dFwiPmAncyBgcGF0dGVybmAgcHJvcGVydHkuXG4gICAgICovXG4gICAgcGF0dGVybjoge3R5cGU6IFN0cmluZ30sXG5cbiAgICAvKipcbiAgICAgKiBTZXQgdG8gdHJ1ZSB0byBtYXJrIHRoZSBpbnB1dCBhcyByZXF1aXJlZC4gSWYgeW91J3JlIHVzaW5nXG4gICAgICogUGFwZXJJbnB1dEJlaGF2aW9yIHRvIGltcGxlbWVudCB5b3VyIG93biBwYXBlci1pbnB1dC1saWtlIGVsZW1lbnQsIGJpbmRcbiAgICAgKiB0aGlzIHRvIHRoZSBgPGlucHV0IGlzPVwiaXJvbi1pbnB1dFwiPmAncyBgcmVxdWlyZWRgIHByb3BlcnR5LlxuICAgICAqL1xuICAgIHJlcXVpcmVkOiB7dHlwZTogQm9vbGVhbiwgdmFsdWU6IGZhbHNlfSxcblxuICAgIC8qKlxuICAgICAqIFRoZSBlcnJvciBtZXNzYWdlIHRvIGRpc3BsYXkgd2hlbiB0aGUgaW5wdXQgaXMgaW52YWxpZC4gSWYgeW91J3JlIHVzaW5nXG4gICAgICogUGFwZXJJbnB1dEJlaGF2aW9yIHRvIGltcGxlbWVudCB5b3VyIG93biBwYXBlci1pbnB1dC1saWtlIGVsZW1lbnQsXG4gICAgICogYmluZCB0aGlzIHRvIHRoZSBgPHBhcGVyLWlucHV0LWVycm9yPmAncyBjb250ZW50LCBpZiB1c2luZy5cbiAgICAgKi9cbiAgICBlcnJvck1lc3NhZ2U6IHt0eXBlOiBTdHJpbmd9LFxuXG4gICAgLyoqXG4gICAgICogU2V0IHRvIHRydWUgdG8gc2hvdyBhIGNoYXJhY3RlciBjb3VudGVyLlxuICAgICAqL1xuICAgIGNoYXJDb3VudGVyOiB7dHlwZTogQm9vbGVhbiwgdmFsdWU6IGZhbHNlfSxcblxuICAgIC8qKlxuICAgICAqIFNldCB0byB0cnVlIHRvIGRpc2FibGUgdGhlIGZsb2F0aW5nIGxhYmVsLiBJZiB5b3UncmUgdXNpbmdcbiAgICAgKiBQYXBlcklucHV0QmVoYXZpb3IgdG8gaW1wbGVtZW50IHlvdXIgb3duIHBhcGVyLWlucHV0LWxpa2UgZWxlbWVudCwgYmluZFxuICAgICAqIHRoaXMgdG8gdGhlIGA8cGFwZXItaW5wdXQtY29udGFpbmVyPmAncyBgbm9MYWJlbEZsb2F0YCBwcm9wZXJ0eS5cbiAgICAgKi9cbiAgICBub0xhYmVsRmxvYXQ6IHt0eXBlOiBCb29sZWFuLCB2YWx1ZTogZmFsc2V9LFxuXG4gICAgLyoqXG4gICAgICogU2V0IHRvIHRydWUgdG8gYWx3YXlzIGZsb2F0IHRoZSBsYWJlbC4gSWYgeW91J3JlIHVzaW5nIFBhcGVySW5wdXRCZWhhdmlvclxuICAgICAqIHRvIGltcGxlbWVudCB5b3VyIG93biBwYXBlci1pbnB1dC1saWtlIGVsZW1lbnQsIGJpbmQgdGhpcyB0byB0aGVcbiAgICAgKiBgPHBhcGVyLWlucHV0LWNvbnRhaW5lcj5gJ3MgYGFsd2F5c0Zsb2F0TGFiZWxgIHByb3BlcnR5LlxuICAgICAqL1xuICAgIGFsd2F5c0Zsb2F0TGFiZWw6IHt0eXBlOiBCb29sZWFuLCB2YWx1ZTogZmFsc2V9LFxuXG4gICAgLyoqXG4gICAgICogU2V0IHRvIHRydWUgdG8gYXV0by12YWxpZGF0ZSB0aGUgaW5wdXQgdmFsdWUuIElmIHlvdSdyZSB1c2luZ1xuICAgICAqIFBhcGVySW5wdXRCZWhhdmlvciB0byBpbXBsZW1lbnQgeW91ciBvd24gcGFwZXItaW5wdXQtbGlrZSBlbGVtZW50LCBiaW5kXG4gICAgICogdGhpcyB0byB0aGUgYDxwYXBlci1pbnB1dC1jb250YWluZXI+YCdzIGBhdXRvVmFsaWRhdGVgIHByb3BlcnR5LlxuICAgICAqL1xuICAgIGF1dG9WYWxpZGF0ZToge3R5cGU6IEJvb2xlYW4sIHZhbHVlOiBmYWxzZX0sXG5cbiAgICAvKipcbiAgICAgKiBOYW1lIG9mIHRoZSB2YWxpZGF0b3IgdG8gdXNlLiBJZiB5b3UncmUgdXNpbmcgUGFwZXJJbnB1dEJlaGF2aW9yIHRvXG4gICAgICogaW1wbGVtZW50IHlvdXIgb3duIHBhcGVyLWlucHV0LWxpa2UgZWxlbWVudCwgYmluZCB0aGlzIHRvXG4gICAgICogdGhlIGA8aW5wdXQgaXM9XCJpcm9uLWlucHV0XCI+YCdzIGB2YWxpZGF0b3JgIHByb3BlcnR5LlxuICAgICAqL1xuICAgIHZhbGlkYXRvcjoge3R5cGU6IFN0cmluZ30sXG5cbiAgICAvLyBIVE1MSW5wdXRFbGVtZW50IGF0dHJpYnV0ZXMgZm9yIGJpbmRpbmcgaWYgbmVlZGVkXG5cbiAgICAvKipcbiAgICAgKiBJZiB5b3UncmUgdXNpbmcgUGFwZXJJbnB1dEJlaGF2aW9yIHRvIGltcGxlbWVudCB5b3VyIG93biBwYXBlci1pbnB1dC1saWtlXG4gICAgICogZWxlbWVudCwgYmluZCB0aGlzIHRvIHRoZSBgPGlucHV0IGlzPVwiaXJvbi1pbnB1dFwiPmAncyBgYXV0b2NvbXBsZXRlYFxuICAgICAqIHByb3BlcnR5LlxuICAgICAqL1xuICAgIGF1dG9jb21wbGV0ZToge3R5cGU6IFN0cmluZywgdmFsdWU6ICdvZmYnfSxcblxuICAgIC8qKlxuICAgICAqIElmIHlvdSdyZSB1c2luZyBQYXBlcklucHV0QmVoYXZpb3IgdG8gaW1wbGVtZW50IHlvdXIgb3duIHBhcGVyLWlucHV0LWxpa2VcbiAgICAgKiBlbGVtZW50LCBiaW5kIHRoaXMgdG8gdGhlIGA8aW5wdXQgaXM9XCJpcm9uLWlucHV0XCI+YCdzIGBhdXRvZm9jdXNgXG4gICAgICogcHJvcGVydHkuXG4gICAgICovXG4gICAgYXV0b2ZvY3VzOiB7dHlwZTogQm9vbGVhbiwgb2JzZXJ2ZXI6ICdfYXV0b2ZvY3VzQ2hhbmdlZCd9LFxuXG4gICAgLyoqXG4gICAgICogSWYgeW91J3JlIHVzaW5nIFBhcGVySW5wdXRCZWhhdmlvciB0byBpbXBsZW1lbnQgeW91ciBvd24gcGFwZXItaW5wdXQtbGlrZVxuICAgICAqIGVsZW1lbnQsIGJpbmQgdGhpcyB0byB0aGUgYDxpbnB1dCBpcz1cImlyb24taW5wdXRcIj5gJ3MgYGlucHV0bW9kZWBcbiAgICAgKiBwcm9wZXJ0eS5cbiAgICAgKi9cbiAgICBpbnB1dG1vZGU6IHt0eXBlOiBTdHJpbmd9LFxuXG4gICAgLyoqXG4gICAgICogVGhlIG1pbmltdW0gbGVuZ3RoIG9mIHRoZSBpbnB1dCB2YWx1ZS5cbiAgICAgKiBJZiB5b3UncmUgdXNpbmcgUGFwZXJJbnB1dEJlaGF2aW9yIHRvIGltcGxlbWVudCB5b3VyIG93biBwYXBlci1pbnB1dC1saWtlXG4gICAgICogZWxlbWVudCwgYmluZCB0aGlzIHRvIHRoZSBgPGlucHV0IGlzPVwiaXJvbi1pbnB1dFwiPmAncyBgbWlubGVuZ3RoYFxuICAgICAqIHByb3BlcnR5LlxuICAgICAqL1xuICAgIG1pbmxlbmd0aDoge3R5cGU6IE51bWJlcn0sXG5cbiAgICAvKipcbiAgICAgKiBUaGUgbWF4aW11bSBsZW5ndGggb2YgdGhlIGlucHV0IHZhbHVlLlxuICAgICAqIElmIHlvdSdyZSB1c2luZyBQYXBlcklucHV0QmVoYXZpb3IgdG8gaW1wbGVtZW50IHlvdXIgb3duIHBhcGVyLWlucHV0LWxpa2VcbiAgICAgKiBlbGVtZW50LCBiaW5kIHRoaXMgdG8gdGhlIGA8aW5wdXQgaXM9XCJpcm9uLWlucHV0XCI+YCdzIGBtYXhsZW5ndGhgXG4gICAgICogcHJvcGVydHkuXG4gICAgICovXG4gICAgbWF4bGVuZ3RoOiB7dHlwZTogTnVtYmVyfSxcblxuICAgIC8qKlxuICAgICAqIFRoZSBtaW5pbXVtIChudW1lcmljIG9yIGRhdGUtdGltZSkgaW5wdXQgdmFsdWUuXG4gICAgICogSWYgeW91J3JlIHVzaW5nIFBhcGVySW5wdXRCZWhhdmlvciB0byBpbXBsZW1lbnQgeW91ciBvd24gcGFwZXItaW5wdXQtbGlrZVxuICAgICAqIGVsZW1lbnQsIGJpbmQgdGhpcyB0byB0aGUgYDxpbnB1dCBpcz1cImlyb24taW5wdXRcIj5gJ3MgYG1pbmAgcHJvcGVydHkuXG4gICAgICovXG4gICAgbWluOiB7dHlwZTogU3RyaW5nfSxcblxuICAgIC8qKlxuICAgICAqIFRoZSBtYXhpbXVtIChudW1lcmljIG9yIGRhdGUtdGltZSkgaW5wdXQgdmFsdWUuXG4gICAgICogQ2FuIGJlIGEgU3RyaW5nIChlLmcuIGBcIjIwMDAtMDEtMDFcImApIG9yIGEgTnVtYmVyIChlLmcuIGAyYCkuXG4gICAgICogSWYgeW91J3JlIHVzaW5nIFBhcGVySW5wdXRCZWhhdmlvciB0byBpbXBsZW1lbnQgeW91ciBvd24gcGFwZXItaW5wdXQtbGlrZVxuICAgICAqIGVsZW1lbnQsIGJpbmQgdGhpcyB0byB0aGUgYDxpbnB1dCBpcz1cImlyb24taW5wdXRcIj5gJ3MgYG1heGAgcHJvcGVydHkuXG4gICAgICovXG4gICAgbWF4OiB7dHlwZTogU3RyaW5nfSxcblxuICAgIC8qKlxuICAgICAqIExpbWl0cyB0aGUgbnVtZXJpYyBvciBkYXRlLXRpbWUgaW5jcmVtZW50cy5cbiAgICAgKiBJZiB5b3UncmUgdXNpbmcgUGFwZXJJbnB1dEJlaGF2aW9yIHRvIGltcGxlbWVudCB5b3VyIG93biBwYXBlci1pbnB1dC1saWtlXG4gICAgICogZWxlbWVudCwgYmluZCB0aGlzIHRvIHRoZSBgPGlucHV0IGlzPVwiaXJvbi1pbnB1dFwiPmAncyBgc3RlcGAgcHJvcGVydHkuXG4gICAgICovXG4gICAgc3RlcDoge3R5cGU6IFN0cmluZ30sXG5cbiAgICAvKipcbiAgICAgKiBJZiB5b3UncmUgdXNpbmcgUGFwZXJJbnB1dEJlaGF2aW9yIHRvIGltcGxlbWVudCB5b3VyIG93biBwYXBlci1pbnB1dC1saWtlXG4gICAgICogZWxlbWVudCwgYmluZCB0aGlzIHRvIHRoZSBgPGlucHV0IGlzPVwiaXJvbi1pbnB1dFwiPmAncyBgbmFtZWAgcHJvcGVydHkuXG4gICAgICovXG4gICAgbmFtZToge3R5cGU6IFN0cmluZ30sXG5cbiAgICAvKipcbiAgICAgKiBBIHBsYWNlaG9sZGVyIHN0cmluZyBpbiBhZGRpdGlvbiB0byB0aGUgbGFiZWwuIElmIHRoaXMgaXMgc2V0LCB0aGUgbGFiZWxcbiAgICAgKiB3aWxsIGFsd2F5cyBmbG9hdC5cbiAgICAgKi9cbiAgICBwbGFjZWhvbGRlcjoge1xuICAgICAgdHlwZTogU3RyaW5nLFxuICAgICAgLy8gbmVlZCB0byBzZXQgYSBkZWZhdWx0IHNvIF9jb21wdXRlQWx3YXlzRmxvYXRMYWJlbCBpcyBydW5cbiAgICAgIHZhbHVlOiAnJ1xuICAgIH0sXG5cbiAgICAvKipcbiAgICAgKiBJZiB5b3UncmUgdXNpbmcgUGFwZXJJbnB1dEJlaGF2aW9yIHRvIGltcGxlbWVudCB5b3VyIG93biBwYXBlci1pbnB1dC1saWtlXG4gICAgICogZWxlbWVudCwgYmluZCB0aGlzIHRvIHRoZSBgPGlucHV0IGlzPVwiaXJvbi1pbnB1dFwiPmAncyBgcmVhZG9ubHlgXG4gICAgICogcHJvcGVydHkuXG4gICAgICovXG4gICAgcmVhZG9ubHk6IHt0eXBlOiBCb29sZWFuLCB2YWx1ZTogZmFsc2V9LFxuXG4gICAgLyoqXG4gICAgICogSWYgeW91J3JlIHVzaW5nIFBhcGVySW5wdXRCZWhhdmlvciB0byBpbXBsZW1lbnQgeW91ciBvd24gcGFwZXItaW5wdXQtbGlrZVxuICAgICAqIGVsZW1lbnQsIGJpbmQgdGhpcyB0byB0aGUgYDxpbnB1dCBpcz1cImlyb24taW5wdXRcIj5gJ3MgYHNpemVgIHByb3BlcnR5LlxuICAgICAqL1xuICAgIHNpemU6IHt0eXBlOiBOdW1iZXJ9LFxuXG4gICAgLy8gTm9uc3RhbmRhcmQgYXR0cmlidXRlcyBmb3IgYmluZGluZyBpZiBuZWVkZWRcblxuICAgIC8qKlxuICAgICAqIElmIHlvdSdyZSB1c2luZyBQYXBlcklucHV0QmVoYXZpb3IgdG8gaW1wbGVtZW50IHlvdXIgb3duIHBhcGVyLWlucHV0LWxpa2VcbiAgICAgKiBlbGVtZW50LCBiaW5kIHRoaXMgdG8gdGhlIGA8aW5wdXQgaXM9XCJpcm9uLWlucHV0XCI+YCdzIGBhdXRvY2FwaXRhbGl6ZWBcbiAgICAgKiBwcm9wZXJ0eS5cbiAgICAgKlxuICAgICAqIEB0eXBlIHtzdHJpbmd9XG4gICAgICovXG4gICAgYXV0b2NhcGl0YWxpemU6IHt0eXBlOiBTdHJpbmcsIHZhbHVlOiAnbm9uZSd9LFxuXG4gICAgLyoqXG4gICAgICogSWYgeW91J3JlIHVzaW5nIFBhcGVySW5wdXRCZWhhdmlvciB0byBpbXBsZW1lbnQgeW91ciBvd24gcGFwZXItaW5wdXQtbGlrZVxuICAgICAqIGVsZW1lbnQsIGJpbmQgdGhpcyB0byB0aGUgYDxpbnB1dCBpcz1cImlyb24taW5wdXRcIj5gJ3MgYGF1dG9jb3JyZWN0YFxuICAgICAqIHByb3BlcnR5LlxuICAgICAqL1xuICAgIGF1dG9jb3JyZWN0OiB7dHlwZTogU3RyaW5nLCB2YWx1ZTogJ29mZid9LFxuXG4gICAgLyoqXG4gICAgICogSWYgeW91J3JlIHVzaW5nIFBhcGVySW5wdXRCZWhhdmlvciB0byBpbXBsZW1lbnQgeW91ciBvd24gcGFwZXItaW5wdXQtbGlrZVxuICAgICAqIGVsZW1lbnQsIGJpbmQgdGhpcyB0byB0aGUgYDxpbnB1dCBpcz1cImlyb24taW5wdXRcIj5gJ3MgYGF1dG9zYXZlYFxuICAgICAqIHByb3BlcnR5LCB1c2VkIHdpdGggdHlwZT1zZWFyY2guXG4gICAgICovXG4gICAgYXV0b3NhdmU6IHt0eXBlOiBTdHJpbmd9LFxuXG4gICAgLyoqXG4gICAgICogSWYgeW91J3JlIHVzaW5nIFBhcGVySW5wdXRCZWhhdmlvciB0byBpbXBsZW1lbnQgeW91ciBvd24gcGFwZXItaW5wdXQtbGlrZVxuICAgICAqIGVsZW1lbnQsIGJpbmQgdGhpcyB0byB0aGUgYDxpbnB1dCBpcz1cImlyb24taW5wdXRcIj5gJ3MgYHJlc3VsdHNgIHByb3BlcnR5LFxuICAgICAqIHVzZWQgd2l0aCB0eXBlPXNlYXJjaC5cbiAgICAgKi9cbiAgICByZXN1bHRzOiB7dHlwZTogTnVtYmVyfSxcblxuICAgIC8qKlxuICAgICAqIElmIHlvdSdyZSB1c2luZyBQYXBlcklucHV0QmVoYXZpb3IgdG8gaW1wbGVtZW50IHlvdXIgb3duIHBhcGVyLWlucHV0LWxpa2VcbiAgICAgKiBlbGVtZW50LCBiaW5kIHRoaXMgdG8gdGhlIGA8aW5wdXQgaXM9XCJpcm9uLWlucHV0XCI+YCdzIGBhY2NlcHRgIHByb3BlcnR5LFxuICAgICAqIHVzZWQgd2l0aCB0eXBlPWZpbGUuXG4gICAgICovXG4gICAgYWNjZXB0OiB7dHlwZTogU3RyaW5nfSxcblxuICAgIC8qKlxuICAgICAqIElmIHlvdSdyZSB1c2luZyBQYXBlcklucHV0QmVoYXZpb3IgdG8gaW1wbGVtZW50IHlvdXIgb3duIHBhcGVyLWlucHV0LWxpa2VcbiAgICAgKiBlbGVtZW50LCBiaW5kIHRoaXMgdG8gdGhlYDxpbnB1dCBpcz1cImlyb24taW5wdXRcIj5gJ3MgYG11bHRpcGxlYCBwcm9wZXJ0eSxcbiAgICAgKiB1c2VkIHdpdGggdHlwZT1maWxlLlxuICAgICAqL1xuICAgIG11bHRpcGxlOiB7dHlwZTogQm9vbGVhbn0sXG5cbiAgICAvKiogQHByaXZhdGUgKi9cbiAgICBfYXJpYURlc2NyaWJlZEJ5OiB7dHlwZTogU3RyaW5nLCB2YWx1ZTogJyd9LFxuXG4gICAgLyoqIEBwcml2YXRlICovXG4gICAgX2FyaWFMYWJlbGxlZEJ5OiB7dHlwZTogU3RyaW5nLCB2YWx1ZTogJyd9LFxuXG4gICAgLyoqIEBwcml2YXRlICovXG4gICAgX2lucHV0SWQ6IHt0eXBlOiBTdHJpbmcsIHZhbHVlOiAnJ31cbiAgfSxcblxuICBsaXN0ZW5lcnM6IHtcbiAgICAnYWRkb24tYXR0YWNoZWQnOiAnX29uQWRkb25BdHRhY2hlZCcsXG4gIH0sXG5cbiAgLyoqXG4gICAqIEB0eXBlIHshT2JqZWN0fVxuICAgKi9cbiAga2V5QmluZGluZ3M6IHsnc2hpZnQrdGFiOmtleWRvd24nOiAnX29uU2hpZnRUYWJEb3duJ30sXG5cbiAgLyoqIEBwcml2YXRlICovXG4gIGhvc3RBdHRyaWJ1dGVzOiB7dGFiaW5kZXg6IDB9LFxuXG4gIC8qKlxuICAgKiBSZXR1cm5zIGEgcmVmZXJlbmNlIHRvIHRoZSBpbnB1dCBlbGVtZW50LlxuICAgKiBAcmV0dXJuIHshSFRNTEVsZW1lbnR9XG4gICAqL1xuICBnZXQgaW5wdXRFbGVtZW50KCkge1xuICAgIC8vIENocm9tZSBnZW5lcmF0ZXMgYXVkaXQgZXJyb3JzIGlmIGFuIDxpbnB1dCB0eXBlPVwicGFzc3dvcmRcIj4gaGFzIGFcbiAgICAvLyBkdXBsaWNhdGUgSUQsIHdoaWNoIGlzIGFsbW9zdCBhbHdheXMgdHJ1ZSBpbiBTaGFkeSBET00uIEdlbmVyYXRlXG4gICAgLy8gYSB1bmlxdWUgSUQgaW5zdGVhZC5cbiAgICBpZiAoIXRoaXMuJCkge1xuICAgICAgdGhpcy4kID0ge31cbiAgICB9XG4gICAgaWYgKCF0aGlzLiQuaW5wdXQpIHtcbiAgICAgIHRoaXMuX2dlbmVyYXRlSW5wdXRJZCgpO1xuICAgICAgdGhpcy4kLmlucHV0ID0gdGhpcy4kJCgnIycgKyB0aGlzLl9pbnB1dElkKTtcbiAgICB9XG4gICAgcmV0dXJuIHRoaXMuJC5pbnB1dDtcbiAgfSxcblxuICAvKipcbiAgICogUmV0dXJucyBhIHJlZmVyZW5jZSB0byB0aGUgZm9jdXNhYmxlIGVsZW1lbnQuXG4gICAqIEByZXR1cm4geyFIVE1MRWxlbWVudH1cbiAgICovXG4gIGdldCBfZm9jdXNhYmxlRWxlbWVudCgpIHtcbiAgICByZXR1cm4gdGhpcy5pbnB1dEVsZW1lbnQ7XG4gIH0sXG5cbiAgY3JlYXRlZDogZnVuY3Rpb24oKSB7XG4gICAgLy8gVGhlc2UgdHlwZXMgaGF2ZSBzb21lIGRlZmF1bHQgcGxhY2Vob2xkZXIgdGV4dDsgb3ZlcmxhcHBpbmdcbiAgICAvLyB0aGUgbGFiZWwgb24gdG9wIG9mIGl0IGxvb2tzIHRlcnJpYmxlLiBBdXRvLWZsb2F0IHRoZSBsYWJlbCBpbiB0aGlzIGNhc2UuXG4gICAgdGhpcy5fdHlwZXNUaGF0SGF2ZVRleHQgPVxuICAgICAgICBbJ2RhdGUnLCAnZGF0ZXRpbWUnLCAnZGF0ZXRpbWUtbG9jYWwnLCAnbW9udGgnLCAndGltZScsICd3ZWVrJywgJ2ZpbGUnXTtcbiAgfSxcblxuICBhdHRhY2hlZDogZnVuY3Rpb24oKSB7XG4gICAgdGhpcy5fdXBkYXRlQXJpYUxhYmVsbGVkQnkoKTtcblxuICAgIC8vIEluIHRoZSAyLjAgdmVyc2lvbiBvZiB0aGUgZWxlbWVudCwgdGhpcyBpcyBoYW5kbGVkIGluIGBvbklyb25JbnB1dFJlYWR5YCxcbiAgICAvLyBpLmUuIGFmdGVyIHRoZSBuYXRpdmUgaW5wdXQgaGFzIGZpbmlzaGVkIGRpc3RyaWJ1dGluZy4gSW4gdGhlIDEuMFxuICAgIC8vIHZlcnNpb24sIHRoZSBpbnB1dCBpcyBpbiB0aGUgc2hhZG93IHRyZWUsIHNvIGl0J3MgYWxyZWFkeSBhdmFpbGFibGUuXG4gICAgaWYgKCFQb2x5bWVyRWxlbWVudCAmJiB0aGlzLmlucHV0RWxlbWVudCAmJlxuICAgICAgICB0aGlzLl90eXBlc1RoYXRIYXZlVGV4dC5pbmRleE9mKHRoaXMuaW5wdXRFbGVtZW50LnR5cGUpICE9PSAtMSkge1xuICAgICAgdGhpcy5hbHdheXNGbG9hdExhYmVsID0gdHJ1ZTtcbiAgICB9XG4gIH0sXG5cbiAgX2FwcGVuZFN0cmluZ1dpdGhTcGFjZTogZnVuY3Rpb24oc3RyLCBtb3JlKSB7XG4gICAgaWYgKHN0cikge1xuICAgICAgc3RyID0gc3RyICsgJyAnICsgbW9yZTtcbiAgICB9IGVsc2Uge1xuICAgICAgc3RyID0gbW9yZTtcbiAgICB9XG4gICAgcmV0dXJuIHN0cjtcbiAgfSxcblxuICBfb25BZGRvbkF0dGFjaGVkOiBmdW5jdGlvbihldmVudCkge1xuICAgIHZhciB0YXJnZXQgPSBkb20oZXZlbnQpLnJvb3RUYXJnZXQ7XG4gICAgaWYgKHRhcmdldC5pZCkge1xuICAgICAgdGhpcy5fYXJpYURlc2NyaWJlZEJ5ID1cbiAgICAgICAgICB0aGlzLl9hcHBlbmRTdHJpbmdXaXRoU3BhY2UodGhpcy5fYXJpYURlc2NyaWJlZEJ5LCB0YXJnZXQuaWQpO1xuICAgIH0gZWxzZSB7XG4gICAgICB2YXIgaWQgPSAncGFwZXItaW5wdXQtYWRkLW9uLScgKyBQYXBlcklucHV0SGVscGVyLk5leHRBZGRvbklEKys7XG4gICAgICB0YXJnZXQuaWQgPSBpZDtcbiAgICAgIHRoaXMuX2FyaWFEZXNjcmliZWRCeSA9XG4gICAgICAgICAgdGhpcy5fYXBwZW5kU3RyaW5nV2l0aFNwYWNlKHRoaXMuX2FyaWFEZXNjcmliZWRCeSwgaWQpO1xuICAgIH1cbiAgfSxcblxuICAvKipcbiAgICogVmFsaWRhdGVzIHRoZSBpbnB1dCBlbGVtZW50IGFuZCBzZXRzIGFuIGVycm9yIHN0eWxlIGlmIG5lZWRlZC5cbiAgICpcbiAgICogQHJldHVybiB7Ym9vbGVhbn1cbiAgICovXG4gIHZhbGlkYXRlOiBmdW5jdGlvbigpIHtcbiAgICByZXR1cm4gdGhpcy5pbnB1dEVsZW1lbnQudmFsaWRhdGUoKTtcbiAgfSxcblxuICAvKipcbiAgICogRm9yd2FyZCBmb2N1cyB0byBpbnB1dEVsZW1lbnQuIE92ZXJyaWRlbiBmcm9tIElyb25Db250cm9sU3RhdGUuXG4gICAqL1xuICBfZm9jdXNCbHVySGFuZGxlcjogZnVuY3Rpb24oZXZlbnQpIHtcbiAgICBJcm9uQ29udHJvbFN0YXRlLl9mb2N1c0JsdXJIYW5kbGVyLmNhbGwodGhpcywgZXZlbnQpO1xuXG4gICAgLy8gRm9yd2FyZCB0aGUgZm9jdXMgdG8gdGhlIG5lc3RlZCBpbnB1dC5cbiAgICBpZiAodGhpcy5mb2N1c2VkICYmICF0aGlzLl9zaGlmdFRhYlByZXNzZWQgJiYgdGhpcy5fZm9jdXNhYmxlRWxlbWVudCkge1xuICAgICAgdGhpcy5fZm9jdXNhYmxlRWxlbWVudC5mb2N1cygpO1xuICAgIH1cbiAgfSxcblxuICAvKipcbiAgICogSGFuZGxlciB0aGF0IGlzIGNhbGxlZCB3aGVuIGEgc2hpZnQrdGFiIGtleXByZXNzIGlzIGRldGVjdGVkIGJ5IHRoZSBtZW51LlxuICAgKlxuICAgKiBAcGFyYW0ge0N1c3RvbUV2ZW50fSBldmVudCBBIGtleSBjb21iaW5hdGlvbiBldmVudC5cbiAgICovXG4gIF9vblNoaWZ0VGFiRG93bjogZnVuY3Rpb24oZXZlbnQpIHtcbiAgICB2YXIgb2xkVGFiSW5kZXggPSB0aGlzLmdldEF0dHJpYnV0ZSgndGFiaW5kZXgnKTtcbiAgICB0aGlzLl9zaGlmdFRhYlByZXNzZWQgPSB0cnVlO1xuICAgIHRoaXMuc2V0QXR0cmlidXRlKCd0YWJpbmRleCcsICctMScpO1xuICAgIHRoaXMuYXN5bmMoZnVuY3Rpb24oKSB7XG4gICAgICB0aGlzLnNldEF0dHJpYnV0ZSgndGFiaW5kZXgnLCBvbGRUYWJJbmRleCk7XG4gICAgICB0aGlzLl9zaGlmdFRhYlByZXNzZWQgPSBmYWxzZTtcbiAgICB9LCAxKTtcbiAgfSxcblxuICAvKipcbiAgICogSWYgYGF1dG9WYWxpZGF0ZWAgaXMgdHJ1ZSwgdGhlbiB2YWxpZGF0ZXMgdGhlIGVsZW1lbnQuXG4gICAqL1xuICBfaGFuZGxlQXV0b1ZhbGlkYXRlOiBmdW5jdGlvbigpIHtcbiAgICBpZiAodGhpcy5hdXRvVmFsaWRhdGUpXG4gICAgICB0aGlzLnZhbGlkYXRlKCk7XG4gIH0sXG5cbiAgLyoqXG4gICAqIFJlc3RvcmVzIHRoZSBjdXJzb3IgdG8gaXRzIG9yaWdpbmFsIHBvc2l0aW9uIGFmdGVyIHVwZGF0aW5nIHRoZSB2YWx1ZS5cbiAgICogQHBhcmFtIHtzdHJpbmd9IG5ld1ZhbHVlIFRoZSB2YWx1ZSB0aGF0IHNob3VsZCBiZSBzYXZlZC5cbiAgICovXG4gIHVwZGF0ZVZhbHVlQW5kUHJlc2VydmVDYXJldDogZnVuY3Rpb24obmV3VmFsdWUpIHtcbiAgICAvLyBOb3QgYWxsIGVsZW1lbnRzIG1pZ2h0IGhhdmUgc2VsZWN0aW9uLCBhbmQgZXZlbiBpZiB0aGV5IGhhdmUgdGhlXG4gICAgLy8gcmlnaHQgcHJvcGVydGllcywgYWNjZXNzaW5nIHRoZW0gbWlnaHQgdGhyb3cgYW4gZXhjZXB0aW9uIChsaWtlIGZvclxuICAgIC8vIDxpbnB1dCB0eXBlPW51bWJlcj4pXG4gICAgdHJ5IHtcbiAgICAgIHZhciBzdGFydCA9IHRoaXMuaW5wdXRFbGVtZW50LnNlbGVjdGlvblN0YXJ0O1xuICAgICAgdGhpcy52YWx1ZSA9IG5ld1ZhbHVlO1xuXG4gICAgICAvLyBUaGUgY3Vyc29yIGF1dG9tYXRpY2FsbHkganVtcHMgdG8gdGhlIGVuZCBhZnRlciByZS1zZXR0aW5nIHRoZSB2YWx1ZSxcbiAgICAgIC8vIHNvIHJlc3RvcmUgaXQgdG8gaXRzIG9yaWdpbmFsIHBvc2l0aW9uLlxuICAgICAgdGhpcy5pbnB1dEVsZW1lbnQuc2VsZWN0aW9uU3RhcnQgPSBzdGFydDtcbiAgICAgIHRoaXMuaW5wdXRFbGVtZW50LnNlbGVjdGlvbkVuZCA9IHN0YXJ0O1xuICAgIH0gY2F0Y2ggKGUpIHtcbiAgICAgIC8vIEp1c3Qgc2V0IHRoZSB2YWx1ZSBhbmQgZ2l2ZSB1cCBvbiB0aGUgY2FyZXQuXG4gICAgICB0aGlzLnZhbHVlID0gbmV3VmFsdWU7XG4gICAgfVxuICB9LFxuXG4gIF9jb21wdXRlQWx3YXlzRmxvYXRMYWJlbDogZnVuY3Rpb24oYWx3YXlzRmxvYXRMYWJlbCwgcGxhY2Vob2xkZXIpIHtcbiAgICByZXR1cm4gcGxhY2Vob2xkZXIgfHwgYWx3YXlzRmxvYXRMYWJlbDtcbiAgfSxcblxuICBfdXBkYXRlQXJpYUxhYmVsbGVkQnk6IGZ1bmN0aW9uKCkge1xuICAgIHZhciBsYWJlbCA9IGRvbSh0aGlzLnJvb3QpLnF1ZXJ5U2VsZWN0b3IoJ2xhYmVsJyk7XG4gICAgaWYgKCFsYWJlbCkge1xuICAgICAgdGhpcy5fYXJpYUxhYmVsbGVkQnkgPSAnJztcbiAgICAgIHJldHVybjtcbiAgICB9XG4gICAgdmFyIGxhYmVsbGVkQnk7XG4gICAgaWYgKGxhYmVsLmlkKSB7XG4gICAgICBsYWJlbGxlZEJ5ID0gbGFiZWwuaWQ7XG4gICAgfSBlbHNlIHtcbiAgICAgIGxhYmVsbGVkQnkgPSAncGFwZXItaW5wdXQtbGFiZWwtJyArIFBhcGVySW5wdXRIZWxwZXIuTmV4dExhYmVsSUQrKztcbiAgICAgIGxhYmVsLmlkID0gbGFiZWxsZWRCeTtcbiAgICB9XG4gICAgdGhpcy5fYXJpYUxhYmVsbGVkQnkgPSBsYWJlbGxlZEJ5O1xuICB9LFxuXG4gIF9nZW5lcmF0ZUlucHV0SWQ6IGZ1bmN0aW9uKCkge1xuICAgIGlmICghdGhpcy5faW5wdXRJZCB8fCB0aGlzLl9pbnB1dElkID09PSAnJykge1xuICAgICAgdGhpcy5faW5wdXRJZCA9ICdpbnB1dC0nICsgUGFwZXJJbnB1dEhlbHBlci5OZXh0SW5wdXRJRCsrO1xuICAgIH1cbiAgfSxcblxuICBfb25DaGFuZ2U6IGZ1bmN0aW9uKGV2ZW50KSB7XG4gICAgLy8gSW4gdGhlIFNoYWRvdyBET00sIHRoZSBgY2hhbmdlYCBldmVudCBpcyBub3QgbGVha2VkIGludG8gdGhlXG4gICAgLy8gYW5jZXN0b3IgdHJlZSwgc28gd2UgbXVzdCBkbyB0aGlzIG1hbnVhbGx5LlxuICAgIC8vIFNlZVxuICAgIC8vIGh0dHBzOi8vdzNjLmdpdGh1Yi5pby93ZWJjb21wb25lbnRzL3NwZWMvc2hhZG93LyNldmVudHMtdGhhdC1hcmUtbm90LWxlYWtlZC1pbnRvLWFuY2VzdG9yLXRyZWVzLlxuICAgIGlmICh0aGlzLnNoYWRvd1Jvb3QpIHtcbiAgICAgIHRoaXMuZmlyZShcbiAgICAgICAgICBldmVudC50eXBlLFxuICAgICAgICAgIHtzb3VyY2VFdmVudDogZXZlbnR9LFxuICAgICAgICAgIHtub2RlOiB0aGlzLCBidWJibGVzOiBldmVudC5idWJibGVzLCBjYW5jZWxhYmxlOiBldmVudC5jYW5jZWxhYmxlfSk7XG4gICAgfVxuICB9LFxuXG4gIF9hdXRvZm9jdXNDaGFuZ2VkOiBmdW5jdGlvbigpIHtcbiAgICAvLyBGaXJlZm94IGRvZXNuJ3QgcmVzcGVjdCB0aGUgYXV0b2ZvY3VzIGF0dHJpYnV0ZSBpZiBpdCdzIGFwcGxpZWQgYWZ0ZXJcbiAgICAvLyB0aGUgcGFnZSBpcyBsb2FkZWQgKENocm9tZS9XZWJLaXQgZG8gcmVzcGVjdCBpdCksIHByZXZlbnRpbmcgYW5cbiAgICAvLyBhdXRvZm9jdXMgYXR0cmlidXRlIHNwZWNpZmllZCBpbiBtYXJrdXAgZnJvbSB0YWtpbmcgZWZmZWN0IHdoZW4gdGhlXG4gICAgLy8gZWxlbWVudCBpcyB1cGdyYWRlZC4gQXMgYSB3b3JrYXJvdW5kLCBpZiB0aGUgYXV0b2ZvY3VzIHByb3BlcnR5IGlzIHNldCxcbiAgICAvLyBhbmQgdGhlIGZvY3VzIGhhc24ndCBhbHJlYWR5IGJlZW4gbW92ZWQgZWxzZXdoZXJlLCB3ZSB0YWtlIGZvY3VzLlxuICAgIGlmICh0aGlzLmF1dG9mb2N1cyAmJiB0aGlzLl9mb2N1c2FibGVFbGVtZW50KSB7XG4gICAgICAvLyBJbiBJRSAxMSwgdGhlIGRlZmF1bHQgZG9jdW1lbnQuYWN0aXZlRWxlbWVudCBjYW4gYmUgdGhlIHBhZ2Unc1xuICAgICAgLy8gb3V0ZXJtb3N0IGh0bWwgZWxlbWVudCwgYnV0IHRoZXJlIGFyZSBhbHNvIGNhc2VzICh1bmRlciB0aGVcbiAgICAgIC8vIHBvbHlmaWxsPykgaW4gd2hpY2ggdGhlIGFjdGl2ZUVsZW1lbnQgaXMgbm90IGEgcmVhbCBIVE1MRWxlbWVudCwgYnV0XG4gICAgICAvLyBqdXN0IGEgcGxhaW4gb2JqZWN0LiBXZSBpZGVudGlmeSB0aGUgbGF0dGVyIGNhc2UgYXMgaGF2aW5nIG5vIHZhbGlkXG4gICAgICAvLyBhY3RpdmVFbGVtZW50LlxuICAgICAgdmFyIGFjdGl2ZUVsZW1lbnQgPSBkb2N1bWVudC5hY3RpdmVFbGVtZW50O1xuICAgICAgdmFyIGlzQWN0aXZlRWxlbWVudFZhbGlkID0gYWN0aXZlRWxlbWVudCBpbnN0YW5jZW9mIEhUTUxFbGVtZW50O1xuXG4gICAgICAvLyBIYXMgc29tZSBvdGhlciBlbGVtZW50IGhhcyBhbHJlYWR5IHRha2VuIHRoZSBmb2N1cz9cbiAgICAgIHZhciBpc1NvbWVFbGVtZW50QWN0aXZlID0gaXNBY3RpdmVFbGVtZW50VmFsaWQgJiZcbiAgICAgICAgICBhY3RpdmVFbGVtZW50ICE9PSBkb2N1bWVudC5ib2R5ICYmXG4gICAgICAgICAgYWN0aXZlRWxlbWVudCAhPT0gZG9jdW1lbnQuZG9jdW1lbnRFbGVtZW50OyAvKiBJRSAxMSAqL1xuICAgICAgaWYgKCFpc1NvbWVFbGVtZW50QWN0aXZlKSB7XG4gICAgICAgIC8vIE5vIHNwZWNpZmljIGVsZW1lbnQgaGFzIHRha2VuIHRoZSBmb2N1cyB5ZXQsIHNvIHdlIGNhbiB0YWtlIGl0LlxuICAgICAgICB0aGlzLl9mb2N1c2FibGVFbGVtZW50LmZvY3VzKCk7XG4gICAgICB9XG4gICAgfVxuICB9XG59O1xuXG4vKiogQHBvbHltZXJCZWhhdmlvciAqL1xuZXhwb3J0IGNvbnN0IFBhcGVySW5wdXRCZWhhdmlvciA9XG4gICAgW0lyb25Db250cm9sU3RhdGUsIElyb25BMTF5S2V5c0JlaGF2aW9yLCBQYXBlcklucHV0QmVoYXZpb3JJbXBsXTtcbiIsIi8qKlxuQGxpY2Vuc2VcbkNvcHlyaWdodCAoYykgMjAxNSBUaGUgUG9seW1lciBQcm9qZWN0IEF1dGhvcnMuIEFsbCByaWdodHMgcmVzZXJ2ZWQuXG5UaGlzIGNvZGUgbWF5IG9ubHkgYmUgdXNlZCB1bmRlciB0aGUgQlNEIHN0eWxlIGxpY2Vuc2UgZm91bmQgYXRcbmh0dHA6Ly9wb2x5bWVyLmdpdGh1Yi5pby9MSUNFTlNFLnR4dCBUaGUgY29tcGxldGUgc2V0IG9mIGF1dGhvcnMgbWF5IGJlIGZvdW5kIGF0XG5odHRwOi8vcG9seW1lci5naXRodWIuaW8vQVVUSE9SUy50eHQgVGhlIGNvbXBsZXRlIHNldCBvZiBjb250cmlidXRvcnMgbWF5IGJlXG5mb3VuZCBhdCBodHRwOi8vcG9seW1lci5naXRodWIuaW8vQ09OVFJJQlVUT1JTLnR4dCBDb2RlIGRpc3RyaWJ1dGVkIGJ5IEdvb2dsZSBhc1xucGFydCBvZiB0aGUgcG9seW1lciBwcm9qZWN0IGlzIGFsc28gc3ViamVjdCB0byBhbiBhZGRpdGlvbmFsIElQIHJpZ2h0cyBncmFudFxuZm91bmQgYXQgaHR0cDovL3BvbHltZXIuZ2l0aHViLmlvL1BBVEVOVFMudHh0XG4qL1xuaW1wb3J0ICdAcG9seW1lci9wb2x5bWVyL3BvbHltZXItbGVnYWN5LmpzJztcbmltcG9ydCAnQHBvbHltZXIvaXJvbi1pbnB1dC9pcm9uLWlucHV0LmpzJztcbmltcG9ydCAnLi9wYXBlci1pbnB1dC1jaGFyLWNvdW50ZXIuanMnO1xuaW1wb3J0ICcuL3BhcGVyLWlucHV0LWNvbnRhaW5lci5qcyc7XG5pbXBvcnQgJy4vcGFwZXItaW5wdXQtZXJyb3IuanMnO1xuXG5pbXBvcnQge0lyb25Gb3JtRWxlbWVudEJlaGF2aW9yfSBmcm9tICdAcG9seW1lci9pcm9uLWZvcm0tZWxlbWVudC1iZWhhdmlvci9pcm9uLWZvcm0tZWxlbWVudC1iZWhhdmlvci5qcyc7XG5pbXBvcnQge0RvbU1vZHVsZX0gZnJvbSAnQHBvbHltZXIvcG9seW1lci9saWIvZWxlbWVudHMvZG9tLW1vZHVsZS5qcyc7XG5pbXBvcnQge1BvbHltZXJ9IGZyb20gJ0Bwb2x5bWVyL3BvbHltZXIvbGliL2xlZ2FjeS9wb2x5bWVyLWZuLmpzJztcbmltcG9ydCB7aHRtbH0gZnJvbSAnQHBvbHltZXIvcG9seW1lci9saWIvdXRpbHMvaHRtbC10YWcuanMnO1xuaW1wb3J0IHtQYXBlcklucHV0QmVoYXZpb3J9IGZyb20gJy4vcGFwZXItaW5wdXQtYmVoYXZpb3IuanMnO1xuXG4vKipcbk1hdGVyaWFsIGRlc2lnbjogW1RleHRcbmZpZWxkc10oaHR0cHM6Ly93d3cuZ29vZ2xlLmNvbS9kZXNpZ24vc3BlYy9jb21wb25lbnRzL3RleHQtZmllbGRzLmh0bWwpXG5cbmA8cGFwZXItaW5wdXQ+YCBpcyBhIHNpbmdsZS1saW5lIHRleHQgZmllbGQgd2l0aCBNYXRlcmlhbCBEZXNpZ24gc3R5bGluZy5cblxuICAgIDxwYXBlci1pbnB1dCBsYWJlbD1cIklucHV0IGxhYmVsXCI+PC9wYXBlci1pbnB1dD5cblxuSXQgbWF5IGluY2x1ZGUgYW4gb3B0aW9uYWwgZXJyb3IgbWVzc2FnZSBvciBjaGFyYWN0ZXIgY291bnRlci5cblxuICAgIDxwYXBlci1pbnB1dCBlcnJvci1tZXNzYWdlPVwiSW52YWxpZCBpbnB1dCFcIiBsYWJlbD1cIklucHV0XG4gICAgbGFiZWxcIj48L3BhcGVyLWlucHV0PiA8cGFwZXItaW5wdXQgY2hhci1jb3VudGVyIGxhYmVsPVwiSW5wdXRcbiAgICBsYWJlbFwiPjwvcGFwZXItaW5wdXQ+XG5cbkl0IGNhbiBhbHNvIGluY2x1ZGUgY3VzdG9tIHByZWZpeCBvciBzdWZmaXggZWxlbWVudHMsIHdoaWNoIGFyZSBkaXNwbGF5ZWRcbmJlZm9yZSBvciBhZnRlciB0aGUgdGV4dCBpbnB1dCBpdHNlbGYuIEluIG9yZGVyIGZvciBhbiBlbGVtZW50IHRvIGJlXG5jb25zaWRlcmVkIGFzIGEgcHJlZml4LCBpdCBtdXN0IGhhdmUgdGhlIGBwcmVmaXhgIGF0dHJpYnV0ZSAoYW5kIHNpbWlsYXJseVxuZm9yIGBzdWZmaXhgKS5cblxuICAgIDxwYXBlci1pbnB1dCBsYWJlbD1cInRvdGFsXCI+XG4gICAgICA8ZGl2IHByZWZpeD4kPC9kaXY+XG4gICAgICA8cGFwZXItaWNvbi1idXR0b24gc2xvdD1cInN1ZmZpeFwiIGljb249XCJjbGVhclwiPjwvcGFwZXItaWNvbi1idXR0b24+XG4gICAgPC9wYXBlci1pbnB1dD5cblxuQSBgcGFwZXItaW5wdXRgIGNhbiB1c2UgdGhlIG5hdGl2ZSBgdHlwZT1zZWFyY2hgIG9yIGB0eXBlPWZpbGVgIGZlYXR1cmVzLlxuSG93ZXZlciwgc2luY2Ugd2UgY2FuJ3QgY29udHJvbCB0aGUgbmF0aXZlIHN0eWxpbmcgb2YgdGhlIGlucHV0IChzZWFyY2ggaWNvbixcbmZpbGUgYnV0dG9uLCBkYXRlIHBsYWNlaG9sZGVyLCBldGMuKSwgaW4gdGhlc2UgY2FzZXMgdGhlIGxhYmVsIHdpbGwgYmVcbmF1dG9tYXRpY2FsbHkgZmxvYXRlZC4gVGhlIGBwbGFjZWhvbGRlcmAgYXR0cmlidXRlIGNhbiBzdGlsbCBiZSB1c2VkIGZvclxuYWRkaXRpb25hbCBpbmZvcm1hdGlvbmFsIHRleHQuXG5cbiAgICA8cGFwZXItaW5wdXQgbGFiZWw9XCJzZWFyY2ghXCIgdHlwZT1cInNlYXJjaFwiXG4gICAgICAgIHBsYWNlaG9sZGVyPVwic2VhcmNoIGZvciBjYXRzXCIgYXV0b3NhdmU9XCJ0ZXN0XCIgcmVzdWx0cz1cIjVcIj5cbiAgICA8L3BhcGVyLWlucHV0PlxuXG5TZWUgYFBvbHltZXIuUGFwZXJJbnB1dEJlaGF2aW9yYCBmb3IgbW9yZSBBUEkgZG9jcy5cblxuIyMjIEZvY3VzXG5cblRvIGZvY3VzIGEgcGFwZXItaW5wdXQsIHlvdSBjYW4gY2FsbCB0aGUgbmF0aXZlIGBmb2N1cygpYCBtZXRob2QgYXMgbG9uZyBhcyB0aGVcbnBhcGVyIGlucHV0IGhhcyBhIHRhYiBpbmRleC4gU2ltaWxhcmx5LCBgYmx1cigpYCB3aWxsIGJsdXIgdGhlIGVsZW1lbnQuXG5cbiMjIyBTdHlsaW5nXG5cblNlZSBgUG9seW1lci5QYXBlcklucHV0Q29udGFpbmVyYCBmb3IgYSBsaXN0IG9mIGN1c3RvbSBwcm9wZXJ0aWVzIHVzZWQgdG9cbnN0eWxlIHRoaXMgZWxlbWVudC5cblxuVGhlIGZvbGxvd2luZyBjdXN0b20gcHJvcGVydGllcyBhbmQgbWl4aW5zIGFyZSBhdmFpbGFibGUgZm9yIHN0eWxpbmc6XG5cbkN1c3RvbSBwcm9wZXJ0eSB8IERlc2NyaXB0aW9uIHwgRGVmYXVsdFxuLS0tLS0tLS0tLS0tLS0tLXwtLS0tLS0tLS0tLS0tfC0tLS0tLS0tLS1cbmAtLXBhcGVyLWlucHV0LWNvbnRhaW5lci1tcy1jbGVhcmAgfCBNaXhpbiBhcHBsaWVkIHRvIHRoZSBJbnRlcm5ldCBFeHBsb3JlciByZXZlYWwgYnV0dG9uICh0aGUgZXllYmFsbCkgfCB7fVxuXG5AZ3JvdXAgUGFwZXIgRWxlbWVudHNcbkBlbGVtZW50IHBhcGVyLWlucHV0XG5AaGVybyBoZXJvLnN2Z1xuQGRlbW8gZGVtby9pbmRleC5odG1sXG4qL1xuUG9seW1lcih7XG4gIGlzOiAncGFwZXItaW5wdXQnLFxuXG4gIF90ZW1wbGF0ZTogaHRtbGBcbiAgICA8c3R5bGU+XG4gICAgICA6aG9zdCB7XG4gICAgICAgIGRpc3BsYXk6IGJsb2NrO1xuICAgICAgfVxuXG4gICAgICA6aG9zdChbZm9jdXNlZF0pIHtcbiAgICAgICAgb3V0bGluZTogbm9uZTtcbiAgICAgIH1cblxuICAgICAgOmhvc3QoW2hpZGRlbl0pIHtcbiAgICAgICAgZGlzcGxheTogbm9uZSAhaW1wb3J0YW50O1xuICAgICAgfVxuXG4gICAgICBpbnB1dCB7XG4gICAgICAgIC8qIEZpcmVmb3ggc2V0cyBhIG1pbi13aWR0aCBvbiB0aGUgaW5wdXQsIHdoaWNoIGNhbiBjYXVzZSBsYXlvdXQgaXNzdWVzICovXG4gICAgICAgIG1pbi13aWR0aDogMDtcbiAgICAgIH1cblxuICAgICAgLyogSW4gMS54LCB0aGUgPGlucHV0PiBpcyBkaXN0cmlidXRlZCB0byBwYXBlci1pbnB1dC1jb250YWluZXIsIHdoaWNoIHN0eWxlcyBpdC5cbiAgICAgIEluIDIueCB0aGUgPGlyb24taW5wdXQ+IGlzIGRpc3RyaWJ1dGVkIHRvIHBhcGVyLWlucHV0LWNvbnRhaW5lciwgd2hpY2ggc3R5bGVzXG4gICAgICBpdCwgYnV0IGluIG9yZGVyIGZvciB0aGlzIHRvIHdvcmsgY29ycmVjdGx5LCB3ZSBuZWVkIHRvIHJlc2V0IHNvbWVcbiAgICAgIG9mIHRoZSBuYXRpdmUgaW5wdXQncyBwcm9wZXJ0aWVzIHRvIGluaGVyaXQgKGZyb20gdGhlIGlyb24taW5wdXQpICovXG4gICAgICBpcm9uLWlucHV0ID4gaW5wdXQge1xuICAgICAgICBAYXBwbHkgLS1wYXBlci1pbnB1dC1jb250YWluZXItc2hhcmVkLWlucHV0LXN0eWxlO1xuICAgICAgICBmb250LWZhbWlseTogaW5oZXJpdDtcbiAgICAgICAgZm9udC13ZWlnaHQ6IGluaGVyaXQ7XG4gICAgICAgIGZvbnQtc2l6ZTogaW5oZXJpdDtcbiAgICAgICAgbGV0dGVyLXNwYWNpbmc6IGluaGVyaXQ7XG4gICAgICAgIHdvcmQtc3BhY2luZzogaW5oZXJpdDtcbiAgICAgICAgbGluZS1oZWlnaHQ6IGluaGVyaXQ7XG4gICAgICAgIHRleHQtc2hhZG93OiBpbmhlcml0O1xuICAgICAgICBjb2xvcjogaW5oZXJpdDtcbiAgICAgICAgY3Vyc29yOiBpbmhlcml0O1xuICAgICAgfVxuXG4gICAgICBpbnB1dDpkaXNhYmxlZCB7XG4gICAgICAgIEBhcHBseSAtLXBhcGVyLWlucHV0LWNvbnRhaW5lci1pbnB1dC1kaXNhYmxlZDtcbiAgICAgIH1cblxuICAgICAgaW5wdXQ6Oi13ZWJraXQtb3V0ZXItc3Bpbi1idXR0b24sXG4gICAgICBpbnB1dDo6LXdlYmtpdC1pbm5lci1zcGluLWJ1dHRvbiB7XG4gICAgICAgIEBhcHBseSAtLXBhcGVyLWlucHV0LWNvbnRhaW5lci1pbnB1dC13ZWJraXQtc3Bpbm5lcjtcbiAgICAgIH1cblxuICAgICAgaW5wdXQ6Oi13ZWJraXQtY2xlYXItYnV0dG9uIHtcbiAgICAgICAgQGFwcGx5IC0tcGFwZXItaW5wdXQtY29udGFpbmVyLWlucHV0LXdlYmtpdC1jbGVhcjtcbiAgICAgIH1cblxuICAgICAgaW5wdXQ6Oi13ZWJraXQtY2FsZW5kYXItcGlja2VyLWluZGljYXRvciB7XG4gICAgICAgIEBhcHBseSAtLXBhcGVyLWlucHV0LWNvbnRhaW5lci1pbnB1dC13ZWJraXQtY2FsZW5kYXItcGlja2VyLWluZGljYXRvcjtcbiAgICAgIH1cblxuICAgICAgaW5wdXQ6Oi13ZWJraXQtaW5wdXQtcGxhY2Vob2xkZXIge1xuICAgICAgICBjb2xvcjogdmFyKC0tcGFwZXItaW5wdXQtY29udGFpbmVyLWNvbG9yLCB2YXIoLS1zZWNvbmRhcnktdGV4dC1jb2xvcikpO1xuICAgICAgfVxuXG4gICAgICBpbnB1dDotbW96LXBsYWNlaG9sZGVyIHtcbiAgICAgICAgY29sb3I6IHZhcigtLXBhcGVyLWlucHV0LWNvbnRhaW5lci1jb2xvciwgdmFyKC0tc2Vjb25kYXJ5LXRleHQtY29sb3IpKTtcbiAgICAgIH1cblxuICAgICAgaW5wdXQ6Oi1tb3otcGxhY2Vob2xkZXIge1xuICAgICAgICBjb2xvcjogdmFyKC0tcGFwZXItaW5wdXQtY29udGFpbmVyLWNvbG9yLCB2YXIoLS1zZWNvbmRhcnktdGV4dC1jb2xvcikpO1xuICAgICAgfVxuXG4gICAgICBpbnB1dDo6LW1zLWNsZWFyIHtcbiAgICAgICAgQGFwcGx5IC0tcGFwZXItaW5wdXQtY29udGFpbmVyLW1zLWNsZWFyO1xuICAgICAgfVxuXG4gICAgICBpbnB1dDo6LW1zLXJldmVhbCB7XG4gICAgICAgIEBhcHBseSAtLXBhcGVyLWlucHV0LWNvbnRhaW5lci1tcy1yZXZlYWw7XG4gICAgICB9XG5cbiAgICAgIGlucHV0Oi1tcy1pbnB1dC1wbGFjZWhvbGRlciB7XG4gICAgICAgIGNvbG9yOiB2YXIoLS1wYXBlci1pbnB1dC1jb250YWluZXItY29sb3IsIHZhcigtLXNlY29uZGFyeS10ZXh0LWNvbG9yKSk7XG4gICAgICB9XG5cbiAgICAgIGxhYmVsIHtcbiAgICAgICAgcG9pbnRlci1ldmVudHM6IG5vbmU7XG4gICAgICB9XG4gICAgPC9zdHlsZT5cblxuICAgIDxwYXBlci1pbnB1dC1jb250YWluZXIgaWQ9XCJjb250YWluZXJcIiBuby1sYWJlbC1mbG9hdD1cIltbbm9MYWJlbEZsb2F0XV1cIiBhbHdheXMtZmxvYXQtbGFiZWw9XCJbW19jb21wdXRlQWx3YXlzRmxvYXRMYWJlbChhbHdheXNGbG9hdExhYmVsLHBsYWNlaG9sZGVyKV1dXCIgYXV0by12YWxpZGF0ZSQ9XCJbW2F1dG9WYWxpZGF0ZV1dXCIgZGlzYWJsZWQkPVwiW1tkaXNhYmxlZF1dXCIgaW52YWxpZD1cIltbaW52YWxpZF1dXCI+XG5cbiAgICAgIDxzbG90IG5hbWU9XCJwcmVmaXhcIiBzbG90PVwicHJlZml4XCI+PC9zbG90PlxuXG4gICAgICA8bGFiZWwgaGlkZGVuJD1cIltbIWxhYmVsXV1cIiBhcmlhLWhpZGRlbj1cInRydWVcIiBmb3IkPVwiW1tfaW5wdXRJZF1dXCIgc2xvdD1cImxhYmVsXCI+W1tsYWJlbF1dPC9sYWJlbD5cblxuICAgICAgPCEtLSBOZWVkIHRvIGJpbmQgbWF4bGVuZ3RoIHNvIHRoYXQgdGhlIHBhcGVyLWlucHV0LWNoYXItY291bnRlciB3b3JrcyBjb3JyZWN0bHkgLS0+XG4gICAgICA8aXJvbi1pbnB1dCBiaW5kLXZhbHVlPVwie3t2YWx1ZX19XCIgc2xvdD1cImlucHV0XCIgY2xhc3M9XCJpbnB1dC1lbGVtZW50XCIgaWQkPVwiW1tfaW5wdXRJZF1dXCIgbWF4bGVuZ3RoJD1cIltbbWF4bGVuZ3RoXV1cIiBhbGxvd2VkLXBhdHRlcm49XCJbW2FsbG93ZWRQYXR0ZXJuXV1cIiBpbnZhbGlkPVwie3tpbnZhbGlkfX1cIiB2YWxpZGF0b3I9XCJbW3ZhbGlkYXRvcl1dXCI+XG4gICAgICAgIDxpbnB1dCBhcmlhLWxhYmVsbGVkYnkkPVwiW1tfYXJpYUxhYmVsbGVkQnldXVwiIGFyaWEtZGVzY3JpYmVkYnkkPVwiW1tfYXJpYURlc2NyaWJlZEJ5XV1cIiBkaXNhYmxlZCQ9XCJbW2Rpc2FibGVkXV1cIiB0aXRsZSQ9XCJbW3RpdGxlXV1cIiB0eXBlJD1cIltbdHlwZV1dXCIgcGF0dGVybiQ9XCJbW3BhdHRlcm5dXVwiIHJlcXVpcmVkJD1cIltbcmVxdWlyZWRdXVwiIGF1dG9jb21wbGV0ZSQ9XCJbW2F1dG9jb21wbGV0ZV1dXCIgYXV0b2ZvY3VzJD1cIltbYXV0b2ZvY3VzXV1cIiBpbnB1dG1vZGUkPVwiW1tpbnB1dG1vZGVdXVwiIG1pbmxlbmd0aCQ9XCJbW21pbmxlbmd0aF1dXCIgbWF4bGVuZ3RoJD1cIltbbWF4bGVuZ3RoXV1cIiBtaW4kPVwiW1ttaW5dXVwiIG1heCQ9XCJbW21heF1dXCIgc3RlcCQ9XCJbW3N0ZXBdXVwiIG5hbWUkPVwiW1tuYW1lXV1cIiBwbGFjZWhvbGRlciQ9XCJbW3BsYWNlaG9sZGVyXV1cIiByZWFkb25seSQ9XCJbW3JlYWRvbmx5XV1cIiBsaXN0JD1cIltbbGlzdF1dXCIgc2l6ZSQ9XCJbW3NpemVdXVwiIGF1dG9jYXBpdGFsaXplJD1cIltbYXV0b2NhcGl0YWxpemVdXVwiIGF1dG9jb3JyZWN0JD1cIltbYXV0b2NvcnJlY3RdXVwiIG9uLWNoYW5nZT1cIl9vbkNoYW5nZVwiIHRhYmluZGV4JD1cIltbdGFiSW5kZXhdXVwiIGF1dG9zYXZlJD1cIltbYXV0b3NhdmVdXVwiIHJlc3VsdHMkPVwiW1tyZXN1bHRzXV1cIiBhY2NlcHQkPVwiW1thY2NlcHRdXVwiIG11bHRpcGxlJD1cIltbbXVsdGlwbGVdXVwiPlxuICAgICAgPC9pcm9uLWlucHV0PlxuXG4gICAgICA8c2xvdCBuYW1lPVwic3VmZml4XCIgc2xvdD1cInN1ZmZpeFwiPjwvc2xvdD5cblxuICAgICAgPHRlbXBsYXRlIGlzPVwiZG9tLWlmXCIgaWY9XCJbW2Vycm9yTWVzc2FnZV1dXCI+XG4gICAgICAgIDxwYXBlci1pbnB1dC1lcnJvciBhcmlhLWxpdmU9XCJhc3NlcnRpdmVcIiBzbG90PVwiYWRkLW9uXCI+W1tlcnJvck1lc3NhZ2VdXTwvcGFwZXItaW5wdXQtZXJyb3I+XG4gICAgICA8L3RlbXBsYXRlPlxuXG4gICAgICA8dGVtcGxhdGUgaXM9XCJkb20taWZcIiBpZj1cIltbY2hhckNvdW50ZXJdXVwiPlxuICAgICAgICA8cGFwZXItaW5wdXQtY2hhci1jb3VudGVyIHNsb3Q9XCJhZGQtb25cIj48L3BhcGVyLWlucHV0LWNoYXItY291bnRlcj5cbiAgICAgIDwvdGVtcGxhdGU+XG5cbiAgICA8L3BhcGVyLWlucHV0LWNvbnRhaW5lcj5cbiAgYCxcblxuICBiZWhhdmlvcnM6IFtQYXBlcklucHV0QmVoYXZpb3IsIElyb25Gb3JtRWxlbWVudEJlaGF2aW9yXSxcblxuICBwcm9wZXJ0aWVzOiB7XG4gICAgdmFsdWU6IHtcbiAgICAgIC8vIFJlcXVpcmVkIGZvciB0aGUgY29ycmVjdCBUeXBlU2NyaXB0IHR5cGUtZ2VuZXJhdGlvblxuICAgICAgdHlwZTogU3RyaW5nXG4gICAgfVxuICB9LFxuXG4gIC8qKlxuICAgKiBSZXR1cm5zIGEgcmVmZXJlbmNlIHRvIHRoZSBmb2N1c2FibGUgZWxlbWVudC4gT3ZlcnJpZGRlbiBmcm9tXG4gICAqIFBhcGVySW5wdXRCZWhhdmlvciB0byBjb3JyZWN0bHkgZm9jdXMgdGhlIG5hdGl2ZSBpbnB1dC5cbiAgICpcbiAgICogQHJldHVybiB7IUhUTUxFbGVtZW50fVxuICAgKi9cbiAgZ2V0IF9mb2N1c2FibGVFbGVtZW50KCkge1xuICAgIHJldHVybiB0aGlzLmlucHV0RWxlbWVudC5faW5wdXRFbGVtZW50O1xuICB9LFxuXG4gIC8vIE5vdGU6IFRoaXMgZXZlbnQgaXMgb25seSBhdmFpbGFibGUgaW4gdGhlIDEuMCB2ZXJzaW9uIG9mIHRoaXMgZWxlbWVudC5cbiAgLy8gSW4gMi4wLCB0aGUgZnVuY3Rpb25hbGl0eSBvZiBgX29uSXJvbklucHV0UmVhZHlgIGlzIGRvbmUgaW5cbiAgLy8gUGFwZXJJbnB1dEJlaGF2aW9yOjphdHRhY2hlZC5cbiAgbGlzdGVuZXJzOiB7J2lyb24taW5wdXQtcmVhZHknOiAnX29uSXJvbklucHV0UmVhZHknfSxcblxuICBfb25Jcm9uSW5wdXRSZWFkeTogZnVuY3Rpb24oKSB7XG4gICAgLy8gRXZlbiB0aG91Z2ggdGhpcyBpcyBvbmx5IHVzZWQgaW4gdGhlIG5leHQgbGluZSwgc2F2ZSB0aGlzIGZvclxuICAgIC8vIGJhY2t3YXJkcyBjb21wYXRpYmlsaXR5LCBzaW5jZSB0aGUgbmF0aXZlIGlucHV0IGhhZCB0aGlzIElEIHVudGlsIDIuMC41LlxuICAgIGlmICghdGhpcy4kLm5hdGl2ZUlucHV0KSB7XG4gICAgICB0aGlzLiQubmF0aXZlSW5wdXQgPSB0aGlzLiQkKCdpbnB1dCcpO1xuICAgIH1cbiAgICBpZiAodGhpcy5pbnB1dEVsZW1lbnQgJiZcbiAgICAgICAgdGhpcy5fdHlwZXNUaGF0SGF2ZVRleHQuaW5kZXhPZih0aGlzLiQubmF0aXZlSW5wdXQudHlwZSkgIT09IC0xKSB7XG4gICAgICB0aGlzLmFsd2F5c0Zsb2F0TGFiZWwgPSB0cnVlO1xuICAgIH1cblxuICAgIC8vIE9ubHkgdmFsaWRhdGUgd2hlbiBhdHRhY2hlZCBpZiB0aGUgaW5wdXQgYWxyZWFkeSBoYXMgYSB2YWx1ZS5cbiAgICBpZiAoISF0aGlzLmlucHV0RWxlbWVudC5iaW5kVmFsdWUpIHtcbiAgICAgIHRoaXMuJC5jb250YWluZXIuX2hhbmRsZVZhbHVlQW5kQXV0b1ZhbGlkYXRlKHRoaXMuaW5wdXRFbGVtZW50KTtcbiAgICB9XG4gIH0sXG59KTtcbiIsImltcG9ydCB7IEJhc2VMaXQsIGh0bWwsIGNzcyB9IGZyb20gJy4vYmFzZS1lbGVtZW50J1xuXG5jbGFzcyBTbmFja0JhciBleHRlbmRzIEJhc2VMaXQge1xuICBzdGF0aWMgZ2V0IHN0eWxlcyAoKSB7XG4gICAgcmV0dXJuIFtcbiAgICAgIGNzc2A6aG9zdCB7XG4gICAgICAgIGRpc3BsYXk6IGJsb2NrO1xuICAgICAgICBwb3NpdGlvbjogZml4ZWQ7XG4gICAgICAgIGJvdHRvbTogMDtcbiAgICAgICAgbGVmdDogMDtcbiAgICAgICAgcmlnaHQ6IDA7XG4gICAgICAgIHBhZGRpbmc6IDEycHg7XG4gICAgICAgIGJhY2tncm91bmQtY29sb3I6IHZhcigtLWFwcC1zZWNvbmRhcnktY29sb3IpO1xuICAgICAgICBjb2xvcjogd2hpdGU7XG4gICAgICAgIGJveC1zaGFkb3c6IDAgMCAxMHB4IHJnYmEoMCwgMCwgMCwgMC4yKTtcbiAgICAgICAgdGV4dC1hbGlnbjogY2VudGVyO1xuICAgICAgICB3aWxsLWNoYW5nZTogdHJhbnNmb3JtO1xuICAgICAgICB0cmFuc2Zvcm06IHRyYW5zbGF0ZTNkKDAsIDEwMCUsIDApO1xuICAgICAgICB0cmFuc2l0aW9uLXByb3BlcnR5OiB2aXNpYmlsaXR5LCB0cmFuc2Zvcm07XG4gICAgICAgIHRyYW5zaXRpb24tZHVyYXRpb246IDAuMnM7XG4gICAgICAgIHZpc2liaWxpdHk6IGhpZGRlbjtcbiAgICAgIH1cbiAgICAgIDpob3N0KFthY3RpdmVdKSB7XG4gICAgICAgIHZpc2liaWxpdHk6IHZpc2libGU7XG4gICAgICAgIHRyYW5zZm9ybTogdHJhbnNsYXRlM2QoMCwgMCwgMCk7XG4gICAgICAgIHotaW5kZXg6IDE2MDtcbiAgICAgIH1cbiAgICAgIEBtZWRpYSAobWluLXdpZHRoOiA0NjBweCkge1xuICAgICAgICA6aG9zdCB7XG4gICAgICAgICAgd2lkdGg6IDMyMHB4O1xuICAgICAgICAgIG1hcmdpbjogYXV0bztcbiAgICAgICAgICBib3JkZXItcmFkaXVzOiA1cHggNXB4IDAgMDtcbiAgICAgICAgfVxuICAgICAgfWBcbiAgICBdXG4gIH1cblxuICByZW5kZXIgKCkge1xuICAgIHJldHVybiBodG1sYFxuICAgICAgPHNsb3Q+PC9zbG90PlxuICAgIGBcbiAgfVxuXG4gIHN0YXRpYyBnZXQgcHJvcGVydGllcyAoKSB7XG4gICAgcmV0dXJuIHtcbiAgICAgIGFjdGl2ZTogeyB0eXBlOiBCb29sZWFuIH1cbiAgICB9XG4gIH1cbn1cblxuY3VzdG9tRWxlbWVudHMuZGVmaW5lKCdzbmFjay1iYXInLCBTbmFja0JhcilcbiIsImltcG9ydCB7IEJhc2VMaXQsIGh0bWwsIGNzcyB9IGZyb20gJy4vYmFzZS1lbGVtZW50J1xuaW1wb3J0IHsgc2V0UGFzc2l2ZVRvdWNoR2VzdHVyZXMgfSBmcm9tICdAcG9seW1lci9wb2x5bWVyL2xpYi91dGlscy9zZXR0aW5ncydcbmltcG9ydCB7IGluc3RhbGxNZWRpYVF1ZXJ5V2F0Y2hlciB9IGZyb20gJ3B3YS1oZWxwZXJzL21lZGlhLXF1ZXJ5J1xuaW1wb3J0IHsgaW5zdGFsbE9mZmxpbmVXYXRjaGVyIH0gZnJvbSAncHdhLWhlbHBlcnMvbmV0d29yaydcbmltcG9ydCB7IGluc3RhbGxSb3V0ZXIgfSBmcm9tICdwd2EtaGVscGVycy9yb3V0ZXInXG5pbXBvcnQgeyB1cGRhdGVNZXRhZGF0YSB9IGZyb20gJ3B3YS1oZWxwZXJzL21ldGFkYXRhJ1xuXG5pbXBvcnQgJ0Bwb2x5bWVyL2FwcC1sYXlvdXQvYXBwLWRyYXdlci9hcHAtZHJhd2VyJ1xuaW1wb3J0ICdAcG9seW1lci9hcHAtbGF5b3V0L2FwcC1oZWFkZXIvYXBwLWhlYWRlcidcbmltcG9ydCAnQHBvbHltZXIvYXBwLWxheW91dC9hcHAtc2Nyb2xsLWVmZmVjdHMvZWZmZWN0cy93YXRlcmZhbGwnXG5pbXBvcnQgJ0Bwb2x5bWVyL2FwcC1sYXlvdXQvYXBwLXRvb2xiYXIvYXBwLXRvb2xiYXInXG5pbXBvcnQgJ0Bwb2x5bWVyL3BhcGVyLXN0eWxlcy9wYXBlci1zdHlsZXMnXG5pbXBvcnQgJ0Bwb2x5bWVyL3BhcGVyLWlucHV0L3BhcGVyLWlucHV0J1xuaW1wb3J0IHsgbWVudUljb24gfSBmcm9tICcuL3N0eWxlLWhlbHBlcnMvbXktaWNvbnMnXG5pbXBvcnQgJy4vc25hY2stYmFyJ1xuaW1wb3J0IHsgTWFpblNoYXJlZFN0eWxlLCBEaXZpZGVyU3R5bGUgfSBmcm9tICcuL3N0eWxlLWhlbHBlcnMvc2hhcmVkLXN0eWxlcydcblxuY2xhc3MgQ29tcGlBcHAgZXh0ZW5kcyBCYXNlTGl0IHtcbiAgc3RhdGljIGdldCBwcm9wZXJ0aWVzICgpIHtcbiAgICByZXR1cm4ge1xuICAgICAgYXBwVGl0bGU6IHsgdHlwZTogU3RyaW5nIH0sXG4gICAgICBfcGFnZTogeyB0eXBlOiBTdHJpbmcgfSxcbiAgICAgIF9kcmF3ZXJPcGVuZWQ6IHsgdHlwZTogQm9vbGVhbiB9LFxuICAgICAgX3NuYWNrYmFyT3BlbmVkOiB7IHR5cGU6IEJvb2xlYW4gfSxcbiAgICAgIF9vZmZsaW5lOiB7IHR5cGU6IEJvb2xlYW4gfSxcbiAgICAgIF9zbmFja2Jhck1lc3NhZ2U6IHsgdHlwZTogU3RyaW5nIH1cbiAgICB9XG4gIH1cblxuICBzdGF0aWMgZ2V0IHN0eWxlcyAoKSB7XG4gICAgcmV0dXJuIFtcbiAgICAgIGNzc2BcbiAgICAgICAgOmhvc3Qge1xuICAgICAgICAgIGRpc3BsYXk6IGJsb2NrO1xuXG4gICAgICAgICAgLS1kYXJrLXByaW1hcnktY29sb3I6ICAgICAgICAgIzAwOTdBNztcbiAgICAgICAgICAtLWRlZmF1bHQtcHJpbWFyeS1jb2xvcjogICAgICAjMDBCQ0Q0O1xuICAgICAgICAgIC0tbGlnaHQtcHJpbWFyeS1jb2xvcjogICAgICAgICNCMkVCRjI7IC8qIzliZTdmZjsgKi9cbiAgICAgICAgICAtLWxpZ2h0LXNlY29uZGFyeS1jb2xvcjogICAgICAjZTRmMmZmO1xuICAgICAgICAgIC0tdGV4dC1wcmltYXJ5LWNvbG9yOiAgICAgICAgICNGRkZGRkY7XG4gICAgICAgICAgLS1hY2NlbnQtY29sb3I6ICAgICAgICAgICAgICAgIzAwOTY4ODsgLyojMDNBOUY0OyAqL1xuICAgICAgICAgIC0tcHJpbWFyeS1iYWNrZ3JvdW5kLWNvbG9yOiAgICNGN0ZGRkU7IC8qI0JCREVGQjsgKi9cbiAgICAgICAgICAtLXNlY29uZGFyeS1iYWNrZ3JvdW5kLWNvbG9yOiAjRkZGRkZGO1xuICAgICAgICAgIC0tcHJpbWFyeS10ZXh0LWNvbG9yOiAgICAgICAgICMwMDQ0Njc7XG4gICAgICAgICAgLS1zZWNvbmRhcnktdGV4dC1jb2xvcjogICAgICAgIzc1NzU3NTsgLyojMDc1Nzg0OyAqL1xuICAgICAgICAgIC0tdGVybmFyeS10ZXh0LWNvbG9yOiAgICAgICAgICMwNzU3ODQ7XG4gICAgICAgICAgLS1kaXNhYmxlZC10ZXh0LWNvbG9yOiAgICAgICAgI0JEQkRCRDtcbiAgICAgICAgICAtLWRpdmlkZXItY29sb3I6ICAgICAgICAgICAgICAjQkRCREJEO1xuICAgICAgICAgIC0tZGlzYWJsZWQtY29sb3I6ICAgICAgICAgICAgICM2NDY0NjQ7XG5cbiAgICAgICAgICAtLXNoYWRvdy1ib3gtOGRwLWN1c3RvbSA6IHJnYmEoNCwgNjgsIDEwOSwgMC4xNCkgMHB4IDhweCAxMHB4IDFweCwgcmdiYSg0LCA2OCwgMTA5LCAwLjEyKSAwcHggM3B4IDE0cHggMnB4LCByZ2JhKDQsIDY4LCAxMDksIDAuNCkgMHB4IDVweCA1cHggLTNweDtcbiAgICAgICAgICAtLXNoYWRvdy1ib3gtNGRwLWN1c3RvbSA6IHJnYmEoNCwgNjgsIDEwOSwgMC4yOCkgMHB4IDNweCA0cHggMHB4LCByZ2JhKDQsIDY4LCAxMDksIDAuMjQpIDBweCAxcHggOHB4IDBweCwgcmdiYSg0LCA2OCwgMTA5LCAwLjgpIDBweCAzcHggM3B4IC0ycHg7XG4gICAgICAgICAgLS1zaGFkb3ctYm94LTJkcC1jdXN0b20gOiAwIDNweCA0cHggMCByZ2JhKDQsIDY4LCAxMDksIDAuMTQpLCAwIDFweCA4cHggMCByZ2JhKDQsIDY4LCAxMDksIDAuMTIpLCAwIDNweCAzcHggLTJweCByZ2JhKDQsIDY4LCAxMDksIDAuNCk7XG5cblxuICAgICAgICAgIC0tYXBwLWRyYXdlci13aWR0aDogMjU2cHg7XG5cbiAgICAgICAgICAtLWFwcC1wcmltYXJ5LWNvbG9yOiAjMDBCQ0Q0O1xuICAgICAgICAgIC0tYXBwLXNlY29uZGFyeS1jb2xvcjogIzI5MzIzNztcbiAgICAgICAgICAtLWFwcC1kYXJrLXRleHQtY29sb3I6IHZhcigtLWFwcC1zZWNvbmRhcnktY29sb3IpO1xuICAgICAgICAgIC0tYXBwLWxpZ2h0LXRleHQtY29sb3I6IHdoaXRlO1xuICAgICAgICAgIC0tYXBwLXNlY3Rpb24tZXZlbi1jb2xvcjogI2Y3ZjdmNztcbiAgICAgICAgICAtLWFwcC1zZWN0aW9uLW9kZC1jb2xvcjogd2hpdGU7XG5cbiAgICAgICAgICAtLWFwcC1oZWFkZXItYmFja2dyb3VuZC1jb2xvcjogd2hpdGU7XG4gICAgICAgICAgLS1hcHAtaGVhZGVyLXRleHQtY29sb3I6IHZhcigtLWFwcC1kYXJrLXRleHQtY29sb3IpO1xuICAgICAgICAgIC0tYXBwLWhlYWRlci1zZWxlY3RlZC1jb2xvcjogdmFyKC0tYXBwLXByaW1hcnktY29sb3IpO1xuXG4gICAgICAgICAgLS1hcHAtZHJhd2VyLWJhY2tncm91bmQtY29sb3I6IHZhcigtLWFwcC1zZWNvbmRhcnktY29sb3IpO1xuICAgICAgICAgIC0tYXBwLWRyYXdlci10ZXh0LWNvbG9yOiB2YXIoLS1hcHAtbGlnaHQtdGV4dC1jb2xvcik7XG4gICAgICAgICAgLS1hcHAtZHJhd2VyLXNlbGVjdGVkLWNvbG9yOiAjNzg5MDlDO1xuXG4gICAgICAgICAgZm9udC1zaXplOiAxMnB4O1xuICAgICAgICB9XG5cbiAgICAgICAgYXBwLWhlYWRlciB7XG4gICAgICAgICAgcG9zaXRpb246IGZpeGVkO1xuICAgICAgICAgIHRvcDogMDtcbiAgICAgICAgICBsZWZ0OiAwO1xuICAgICAgICAgIHdpZHRoOiAxMDAlO1xuICAgICAgICAgIHotaW5kZXg6IDEyMDtcbiAgICAgICAgICB0ZXh0LWFsaWduOiBjZW50ZXI7XG4gICAgICAgICAgYmFja2dyb3VuZC1jb2xvcjogdmFyKC0tZGVmYXVsdC1wcmltYXJ5LWNvbG9yKTtcbiAgICAgICAgICBjb2xvcjogdmFyKC0tYXBwLWhlYWRlci10ZXh0LWNvbG9yKTtcbiAgICAgICAgICBib3JkZXItYm90dG9tOiAxcHggc29saWQgI2VlZTtcbiAgICAgICAgfVxuXG4gICAgICAgIC50b29sYmFyLXRvcCB7XG4gICAgICAgICAgYmFja2dyb3VuZC1jb2xvcjogdmFyKC0tZGFyay1wcmltYXJ5LWNvbG9yKTtcbiAgICAgICAgICBjb2xvcjogd2hpdGU7XG4gICAgICAgIH1cblxuICAgICAgICBbbWFpbi10aXRsZV0ge1xuICAgICAgICAgIGZvbnQtZmFtaWx5OiAnUGFjaWZpY28nO1xuICAgICAgICAgIHRleHQtdHJhbnNmb3JtOiBsb3dlcmNhc2U7XG4gICAgICAgICAgZm9udC1zaXplOiAzMHB4O1xuICAgICAgICAgIC8qIEluIHRoZSBuYXJyb3cgbGF5b3V0LCB0aGUgdG9vbGJhciBpcyBvZmZzZXQgYnkgdGhlIHdpZHRoIG9mIHRoZVxuICAgICAgICAgIGRyYXdlciBidXR0b24sIGFuZCB0aGUgdGV4dCBsb29rcyBub3QgY2VudGVyZWQuIEFkZCBhIHBhZGRpbmcgdG9cbiAgICAgICAgICBtYXRjaCB0aGF0IGJ1dHRvbiAqL1xuICAgICAgICAgIHBhZGRpbmctcmlnaHQ6IDQ0cHg7XG4gICAgICAgIH1cblxuICAgICAgICAudG9vbGJhci1saXN0IHtcbiAgICAgICAgICBkaXNwbGF5OiBub25lO1xuICAgICAgICB9XG5cbiAgICAgICAgLnRvb2xiYXItbGlzdCA+IGEge1xuICAgICAgICAgIGRpc3BsYXk6IGlubGluZS1ibG9jaztcbiAgICAgICAgICBjb2xvcjogdmFyKC0tYXBwLWhlYWRlci10ZXh0LWNvbG9yKTtcbiAgICAgICAgICB0ZXh0LWRlY29yYXRpb246IG5vbmU7XG4gICAgICAgICAgbGluZS1oZWlnaHQ6IDMwcHg7XG4gICAgICAgICAgcGFkZGluZzogNHB4IDI0cHg7XG4gICAgICAgIH1cblxuICAgICAgICAudG9vbGJhci1saXN0ID4gYVtzZWxlY3RlZF0ge1xuICAgICAgICAgIGNvbG9yOiB2YXIoLS1hY2NlbnQtY29sb3IpO1xuICAgICAgICAgIGJvcmRlci1ib3R0b206IDRweCBzb2xpZCB2YXIoLS1hY2NlbnQtY29sb3IpO1xuICAgICAgICB9XG5cbiAgICAgICAgLm1lbnUtYnRuIHtcbiAgICAgICAgICBiYWNrZ3JvdW5kOiBub25lO1xuICAgICAgICAgIGJvcmRlcjogbm9uZTtcbiAgICAgICAgICBmaWxsOiB2YXIoLS1hcHAtaGVhZGVyLXRleHQtY29sb3IpO1xuICAgICAgICAgIGN1cnNvcjogcG9pbnRlcjtcbiAgICAgICAgICBoZWlnaHQ6IDQ0cHg7XG4gICAgICAgICAgd2lkdGg6IDQ0cHg7XG4gICAgICAgIH1cblxuICAgICAgICAuZHJhd2VyLWxpc3Qge1xuICAgICAgICAgIGJveC1zaXppbmc6IGJvcmRlci1ib3g7XG4gICAgICAgICAgd2lkdGg6IDEwMCU7XG4gICAgICAgICAgaGVpZ2h0OiAxMDAlO1xuICAgICAgICAgIHBhZGRpbmc6IDI0cHg7XG4gICAgICAgICAgYmFja2dyb3VuZDogdmFyKC0tYXBwLWRyYXdlci1iYWNrZ3JvdW5kLWNvbG9yKTtcbiAgICAgICAgICBwb3NpdGlvbjogcmVsYXRpdmU7XG4gICAgICAgIH1cblxuICAgICAgICAuZHJhd2VyLWxpc3QgPiBhIHtcbiAgICAgICAgICBkaXNwbGF5OiBibG9jaztcbiAgICAgICAgICB0ZXh0LWRlY29yYXRpb246IG5vbmU7XG4gICAgICAgICAgY29sb3I6IHZhcigtLWFwcC1kcmF3ZXItdGV4dC1jb2xvcik7XG4gICAgICAgICAgbGluZS1oZWlnaHQ6IDQwcHg7XG4gICAgICAgICAgcGFkZGluZzogMCAyNHB4O1xuICAgICAgICB9XG5cbiAgICAgICAgLmRyYXdlci1saXN0ID4gYVtzZWxlY3RlZF0ge1xuICAgICAgICAgIGNvbG9yOiB2YXIoLS1hcHAtZHJhd2VyLXNlbGVjdGVkLWNvbG9yKTtcbiAgICAgICAgfVxuXG4gICAgICAgIC8qIFdvcmthcm91bmQgZm9yIElFMTEgZGlzcGxheWluZyA8bWFpbj4gYXMgaW5saW5lICovXG4gICAgICAgIG1haW4ge1xuICAgICAgICAgIGRpc3BsYXk6IGJsb2NrO1xuICAgICAgICB9XG5cbiAgICAgICAgLm1haW4tY29udGVudCB7XG4gICAgICAgICAgcGFkZGluZy10b3A6IDY0cHg7XG4gICAgICAgICAgbWF4LWhlaWdodDogMTAwdmg7XG4gICAgICAgICAgb3ZlcmZsb3c6IGF1dG87XG4gICAgICAgICAgcG9zaXRpb246IHJlbGF0aXZlO1xuICAgICAgICAgIHotaW5kZXg6IDEzMDtcbiAgICAgICAgICBoZWlnaHQ6IGNhbGMoMTAwdmggLSA2NHB4KTtcbiAgICAgICAgfVxuXG4gICAgICAgIC5wYWdlIHtcbiAgICAgICAgICBkaXNwbGF5OiBub25lO1xuICAgICAgICB9XG5cbiAgICAgICAgLnBhZ2VbYWN0aXZlXSB7XG4gICAgICAgICAgZGlzcGxheTogYmxvY2s7XG4gICAgICAgIH1cblxuICAgICAgICBmb290ZXIge1xuICAgICAgICAgIHBhZGRpbmc6IDI0cHg7XG4gICAgICAgICAgYmFja2dyb3VuZDogdmFyKC0tYXBwLWRyYXdlci1iYWNrZ3JvdW5kLWNvbG9yKTtcbiAgICAgICAgICBjb2xvcjogdmFyKC0tYXBwLWRyYXdlci10ZXh0LWNvbG9yKTtcbiAgICAgICAgICB0ZXh0LWFsaWduOiBjZW50ZXI7XG4gICAgICAgIH1cblxuICAgICAgICAvKiBXaWRlIGxheW91dDogd2hlbiB0aGUgdmlld3BvcnQgd2lkdGggaXMgYmlnZ2VyIHRoYW4gNDYwcHgsIGxheW91dFxuICAgICAgICBjaGFuZ2VzIHRvIGEgd2lkZSBsYXlvdXQgKi9cbiAgICAgICAgQG1lZGlhIChtaW4td2lkdGg6IDQ2MHB4KSB7XG4gICAgICAgICAgLnRvb2xiYXItbGlzdCB7XG4gICAgICAgICAgICBkaXNwbGF5OiBibG9jaztcbiAgICAgICAgICB9XG5cbiAgICAgICAgICAubWVudS1idG4ge1xuICAgICAgICAgICAgZGlzcGxheTogbm9uZTtcbiAgICAgICAgICB9XG4gICAgICAgICAgLyogVGhlIGRyYXdlciBidXR0b24gaXNuJ3Qgc2hvd24gaW4gdGhlIHdpZGUgbGF5b3V0LCBzbyB3ZSBkb24ndFxuICAgICAgICAgIG5lZWQgdG8gb2Zmc2V0IHRoZSB0aXRsZSAqL1xuICAgICAgICAgIFttYWluLXRpdGxlXSB7XG4gICAgICAgICAgICBwYWRkaW5nLXJpZ2h0OiAwcHg7XG4gICAgICAgICAgfVxuICAgICAgICB9XG5cbiAgICAgICAgY3VzdG9tLWFic29sdXRlLWNvbnRhaW5lcntcbiAgICAgICAgICAgIHdpZHRoOiA1MHB4O1xuICAgICAgICAgICAgZGlzcGxheTogaW5saW5lLWJsb2NrO1xuICAgICAgICAgICAgYm9yZGVyLXJhZGl1czogNXB4O1xuICAgICAgICAgICAgei1pbmRleDogMTUwO1xuICAgICAgICAgICAgbWFyZ2luLWxlZnQ6IDkyLjUlO1xuICAgICAgICAgICAgcG9zaXRpb246IGZpeGVkO1xuXG5cbiAgICAgICAgICAgIC0tcGFwZXItaW5wdXQtY29udGFpbmVyLWNvbG9yOiAgICAgICB3aGl0ZTtcbiAgICAgICAgICAgIC0tcGFwZXItaW5wdXQtY29udGFpbmVyLWZvY3VzLWNvbG9yOiB3aGl0ZTtcbiAgICAgICAgICAgIC0tcGFwZXItaW5wdXQtY29udGFpbmVyLWlucHV0LWNvbG9yOiB3aGl0ZTtcblxuICAgICAgICB9XG4gICAgICBgLFxuICAgICAgTWFpblNoYXJlZFN0eWxlLFxuICAgICAgRGl2aWRlclN0eWxlXG4gICAgXVxuICB9XG5cbiAgcmVuZGVyICgpIHtcbiAgICAvLyBBbnl0aGluZyB0aGF0J3MgcmVsYXRlZCB0byByZW5kZXJpbmcgc2hvdWxkIGJlIGRvbmUgaW4gaGVyZS5cbiAgICByZXR1cm4gaHRtbGBcbiAgICAgIDwhLS0gSGVhZGVyIC0tPlxuICAgICAgPGFwcC1oZWFkZXIgY29uZGVuc2VzIHJldmVhbHMgZWZmZWN0cz1cIndhdGVyZmFsbFwiPlxuICAgICAgICA8YXBwLXRvb2xiYXIgY2xhc3M9XCJ0b29sYmFyLXRvcFwiPlxuICAgICAgICAgIDxidXR0b24gY2xhc3M9XCJtZW51LWJ0blwiIHRpdGxlPVwiTWVudVwiIEBjbGljaz1cIiR7dGhpcy5fbWVudUJ1dHRvbkNsaWNrZWR9XCI+JHttZW51SWNvbn08L2J1dHRvbj5cbiAgICAgICAgICA8ZGl2IG1haW4tdGl0bGU+JHt0aGlzLmFwcFRpdGxlfTwvZGl2PlxuICAgICAgICA8L2FwcC10b29sYmFyPlxuXG4gICAgICA8L2FwcC1oZWFkZXI+XG5cbiAgICAgIDwhLS0gTWFpbiBjb250ZW50IC0tPlxuICAgICAgPG1haW4gcm9sZT1cIm1haW5cIiBjbGFzcz1cIm1haW4tY29udGVudFwiIGlkPVwibWFpbi1jb250ZW50XCI+XG4gICAgICAgIDxwcmltYXJ5LXZpZXcgY2xhc3M9XCJwYWdlXCIgP2FjdGl2ZT1cIiR7dGhpcy5fcGFnZSA9PT0gJ3ByaW1hcnknfVwiPjwvcHJpbWFyeS12aWV3PlxuICAgICAgICA8bXktdmlldzQwNCBjbGFzcz1cInBhZ2VcIiA/YWN0aXZlPVwiJHt0aGlzLl9wYWdlID09PSAndmlldzQwNCd9XCI+PC9teS12aWV3NDA0PlxuICAgICAgPC9tYWluPlxuXG4gICAgICA8c25hY2stYmFyID9hY3RpdmU9XCIke3RoaXMuX3NuYWNrYmFyT3BlbmVkfVwiPlxuICAgICAgICAke3RoaXMuX3NuYWNrYmFyTWVzc2FnZX1cbiAgICAgIDwvc25hY2stYmFyPlxuICAgIGBcbiAgfVxuXG4gIGNvbnN0cnVjdG9yICgpIHtcbiAgICBzdXBlcigpXG4gICAgdGhpcy5fZHJhd2VyT3BlbmVkID0gZmFsc2VcbiAgICBzZXRQYXNzaXZlVG91Y2hHZXN0dXJlcyh0cnVlKVxuICB9XG5cbiAgZmlyc3RVcGRhdGVkICgpIHtcbiAgICBpbnN0YWxsUm91dGVyKChsb2NhdGlvbikgPT4gdGhpcy5fbG9jYXRpb25DaGFuZ2VkKGxvY2F0aW9uKSlcbiAgICBpbnN0YWxsT2ZmbGluZVdhdGNoZXIoKG9mZmxpbmUpID0+IHRoaXMuX29mZmxpbmVDaGFuZ2VkKG9mZmxpbmUpKVxuICAgIGluc3RhbGxNZWRpYVF1ZXJ5V2F0Y2hlcignKG1pbi13aWR0aDogNDYwcHgpJyxcbiAgICAgIChtYXRjaGVzKSA9PiB0aGlzLl9sYXlvdXRDaGFuZ2VkKG1hdGNoZXMpKVxuICAgIHdpbmRvdy5hZGRFdmVudExpc3RlbmVyKCdzbmFja2Jhci1tZXNzYWdlJywgKGUpID0+IHtcbiAgICAgIHRoaXMuX3NuYWNrYmFyTWVzc2FnZSA9IGUuZGV0YWlsXG4gICAgICB0aGlzLl9zaG93U25hY2tCYXIoKVxuICAgIH0pXG4gIH1cblxuICB1cGRhdGVkIChjaGFuZ2VkUHJvcHMpIHtcbiAgICBpZiAoY2hhbmdlZFByb3BzLmhhcygnX3BhZ2UnKSkge1xuICAgICAgY29uc3QgcGFnZVRpdGxlID0gdGhpcy5hcHBUaXRsZSArICcgLSAnICsgdGhpcy5fcGFnZVxuICAgICAgdXBkYXRlTWV0YWRhdGEoe1xuICAgICAgICB0aXRsZTogcGFnZVRpdGxlLFxuICAgICAgICBkZXNjcmlwdGlvbjogcGFnZVRpdGxlXG4gICAgICB9KVxuICAgIH1cbiAgfVxuXG4gIF9sYXlvdXRDaGFuZ2VkIChpc1dpZGVMYXlvdXQpIHtcbiAgICAvLyBUaGUgZHJhd2VyIGRvZXNuJ3QgbWFrZSBzZW5zZSBpbiBhIHdpZGUgbGF5b3V0LCBzbyBpZiBpdCdzIG9wZW5lZCwgY2xvc2UgaXQuXG4gICAgdGhpcy5fdXBkYXRlRHJhd2VyU3RhdGUoZmFsc2UpXG4gIH1cblxuICBfb2ZmbGluZUNoYW5nZWQgKG9mZmxpbmUpIHtcbiAgICBjb25zdCBwcmV2aW91c09mZmxpbmUgPSB0aGlzLl9vZmZsaW5lXG4gICAgdGhpcy5fb2ZmbGluZSA9IG9mZmxpbmVcblxuICAgIC8vIERvbid0IHNob3cgdGhlIHNuYWNrYmFyIG9uIHRoZSBmaXJzdCBsb2FkIG9mIHRoZSBwYWdlLlxuICAgIGlmIChwcmV2aW91c09mZmxpbmUgPT09IHVuZGVmaW5lZCkge1xuICAgICAgcmV0dXJuXG4gICAgfVxuXG4gICAgY2xlYXJUaW1lb3V0KHRoaXMuX19zbmFja2JhclRpbWVyKVxuICAgIHRoaXMuX3NuYWNrYmFyT3BlbmVkID0gdHJ1ZVxuICAgIHRoaXMuX19zbmFja2JhclRpbWVyID0gc2V0VGltZW91dCgoKSA9PiB7IHRoaXMuX3NuYWNrYmFyT3BlbmVkID0gZmFsc2UgfSwgMzAwMClcbiAgfVxuXG4gIF9zaG93U25hY2tCYXIgKCkge1xuICAgIGNsZWFyVGltZW91dCh0aGlzLl9fc25hY2tiYXJUaW1lcilcbiAgICB0aGlzLl9zbmFja2Jhck9wZW5lZCA9IHRydWVcbiAgICB0aGlzLl9fc25hY2tiYXJUaW1lciA9IHNldFRpbWVvdXQoKCkgPT4geyB0aGlzLl9zbmFja2Jhck9wZW5lZCA9IGZhbHNlIH0sIDMwMDApXG4gIH1cblxuICBfbG9jYXRpb25DaGFuZ2VkIChsb2NhdGlvbikge1xuICAgIGNvbnN0IHBhdGggPSB3aW5kb3cuZGVjb2RlVVJJQ29tcG9uZW50KGxvY2F0aW9uLnBhdGhuYW1lKVxuICAgIGNvbnN0IHBhZ2UgPSBwYXRoID09PSAnLycgPyAncHJpbWFyeScgOiBwYXRoLnNsaWNlKDEpXG4gICAgdGhpcy5fbG9hZFBhZ2UocGFnZSlcbiAgICB0aGlzLl91cGRhdGVEcmF3ZXJTdGF0ZShmYWxzZSlcbiAgfVxuXG4gIF91cGRhdGVEcmF3ZXJTdGF0ZSAob3BlbmVkKSB7XG4gICAgaWYgKG9wZW5lZCAhPT0gdGhpcy5fZHJhd2VyT3BlbmVkKSB7XG4gICAgICB0aGlzLl9kcmF3ZXJPcGVuZWQgPSBvcGVuZWRcbiAgICB9XG4gIH1cblxuICBfbG9hZFBhZ2UgKHBhZ2UpIHtcbiAgICBzd2l0Y2ggKHBhZ2UpIHtcbiAgICAgIGNhc2UgJ3ByaW1hcnknOlxuICAgICAgICBwYWdlID0gJ3ByaW1hcnknXG4gICAgICAgIGltcG9ydCgnLi4vY29tcG9uZW50cy92aWV3cy9wcmltYXJ5LXZpZXcnKVxuICAgICAgICBicmVha1xuICAgICAgZGVmYXVsdDpcbiAgICAgICAgcGFnZSA9ICd2aWV3NDA0J1xuICAgICAgICBpbXBvcnQoJy4uL2NvbXBvbmVudHMvdmlld3MvbXktdmlldzQwNCcpXG4gICAgICAgIGJyZWFrXG4gICAgfVxuXG4gICAgdGhpcy5fcGFnZSA9IHBhZ2VcbiAgfVxuXG4gIF9tZW51QnV0dG9uQ2xpY2tlZCAoKSB7XG4gICAgdGhpcy5fdXBkYXRlRHJhd2VyU3RhdGUodHJ1ZSlcbiAgfVxuXG4gIF9kcmF3ZXJPcGVuZWRDaGFuZ2VkIChlKSB7XG4gICAgdGhpcy5fdXBkYXRlRHJhd2VyU3RhdGUoZS50YXJnZXQub3BlbmVkKVxuICB9XG59XG5cbndpbmRvdy5jdXN0b21FbGVtZW50cy5kZWZpbmUoJ2NvbXBpLWFwcCcsIENvbXBpQXBwKVxuIiwiLyoqXG5AbGljZW5zZVxuQ29weXJpZ2h0IChjKSAyMDE4IFRoZSBQb2x5bWVyIFByb2plY3QgQXV0aG9ycy4gQWxsIHJpZ2h0cyByZXNlcnZlZC5cblRoaXMgY29kZSBtYXkgb25seSBiZSB1c2VkIHVuZGVyIHRoZSBCU0Qgc3R5bGUgbGljZW5zZSBmb3VuZCBhdCBodHRwOi8vcG9seW1lci5naXRodWIuaW8vTElDRU5TRS50eHRcblRoZSBjb21wbGV0ZSBzZXQgb2YgYXV0aG9ycyBtYXkgYmUgZm91bmQgYXQgaHR0cDovL3BvbHltZXIuZ2l0aHViLmlvL0FVVEhPUlMudHh0XG5UaGUgY29tcGxldGUgc2V0IG9mIGNvbnRyaWJ1dG9ycyBtYXkgYmUgZm91bmQgYXQgaHR0cDovL3BvbHltZXIuZ2l0aHViLmlvL0NPTlRSSUJVVE9SUy50eHRcbkNvZGUgZGlzdHJpYnV0ZWQgYnkgR29vZ2xlIGFzIHBhcnQgb2YgdGhlIHBvbHltZXIgcHJvamVjdCBpcyBhbHNvXG5zdWJqZWN0IHRvIGFuIGFkZGl0aW9uYWwgSVAgcmlnaHRzIGdyYW50IGZvdW5kIGF0IGh0dHA6Ly9wb2x5bWVyLmdpdGh1Yi5pby9QQVRFTlRTLnR4dFxuKi9cbi8qKlxuICBCYXNpYyByb3V0ZXIgdGhhdCBjYWxscyBhIGNhbGxiYWNrIHdoZW5ldmVyIHRoZSBsb2NhdGlvbiBpcyB1cGRhdGVkLlxuXG4gIEV4YW1wbGU6XG5cbiAgICAgIGltcG9ydCB7IGluc3RhbGxSb3V0ZXIgfSBmcm9tICdwd2EtaGVscGVycy9yb3V0ZXIuanMnO1xuXG4gICAgICBpbnN0YWxsUm91dGVyKChsb2NhdGlvbikgPT4gaGFuZGxlTmF2aWdhdGlvbihsb2NhdGlvbikpO1xuXG4gIEZvciBleGFtcGxlLCBpZiB5b3UncmUgdXNpbmcgdGhpcyByb3V0ZXIgaW4gYSBSZWR1eC1jb25uZWN0ZWQgY29tcG9uZW50LFxuICB5b3UgY291bGQgZGlzcGF0Y2ggYW4gYWN0aW9uIGluIHRoZSBjYWxsYmFjazpcblxuICAgICAgaW1wb3J0IHsgaW5zdGFsbFJvdXRlciB9IGZyb20gJ3B3YS1oZWxwZXJzL3JvdXRlci5qcyc7XG4gICAgICBpbXBvcnQgeyBuYXZpZ2F0ZSB9IGZyb20gJy4uL2FjdGlvbnMvYXBwLmpzJztcblxuICAgICAgaW5zdGFsbFJvdXRlcigobG9jYXRpb24pID0+IHN0b3JlLmRpc3BhdGNoKG5hdmlnYXRlKGxvY2F0aW9uKSkpXG5cbiAgSWYgeW91IG5lZWQgdG8gZm9yY2UgYSBuYXZpZ2F0aW9uIHRvIGEgbmV3IGxvY2F0aW9uIHByb2dyYW1tYXRpY2FsbHksIHlvdSBjYW5cbiAgZG8gc28gYnkgcHVzaGluZyBhIG5ldyBzdGF0ZSB1c2luZyB0aGUgSGlzdG9yeSBBUEksIGFuZCB0aGVuIG1hbnVhbGx5XG4gIGNhbGxpbmcgdGhlIGNhbGxiYWNrIHdpdGggdGhlIG5ldyBsb2NhdGlvbjpcblxuICAgICAgd2luZG93Lmhpc3RvcnkucHVzaFN0YXRlKHt9LCAnJywgJy9uZXctcm91dGUnKTtcbiAgICAgIGhhbmRsZU5hdmlnYXRpb24od2luZG93LmxvY2F0aW9uKTtcblxuICBPcHRpb25hbGx5LCB5b3UgY2FuIHVzZSB0aGUgc2Vjb25kIGFyZ3VtZW50IHRvIHJlYWQgdGhlIGV2ZW50IHRoYXQgY2F1c2VkIHRoZVxuICBuYXZpZ2F0aW9uLiBGb3IgZXhhbXBsZSwgeW91IG1heSB3YW50IHRvIHNjcm9sbCB0byB0b3Agb25seSBhZnRlciBhIGxpbmsgY2xpY2suXG5cbiAgICAgIGluc3RhbGxSb3V0ZXIoKGxvY2F0aW9uLCBldmVudCkgPT4ge1xuICAgICAgICAvLyBPbmx5IHNjcm9sbCB0byB0b3Agb24gbGluayBjbGlja3MsIG5vdCBwb3BzdGF0ZSBldmVudHMuXG4gICAgICAgIGlmIChldmVudCAmJiBldmVudC50eXBlID09PSAnY2xpY2snKSB7XG4gICAgICAgICAgd2luZG93LnNjcm9sbFRvKDAsIDApO1xuICAgICAgICB9XG4gICAgICAgIGhhbmRsZU5hdmlnYXRpb24obG9jYXRpb24pO1xuICAgICAgfSk7XG4qL1xuZXhwb3J0IGNvbnN0IGluc3RhbGxSb3V0ZXIgPSAobG9jYXRpb25VcGRhdGVkQ2FsbGJhY2spID0+IHtcbiAgICBkb2N1bWVudC5ib2R5LmFkZEV2ZW50TGlzdGVuZXIoJ2NsaWNrJywgZSA9PiB7XG4gICAgICAgIGlmIChlLmRlZmF1bHRQcmV2ZW50ZWQgfHwgZS5idXR0b24gIT09IDAgfHxcbiAgICAgICAgICAgIGUubWV0YUtleSB8fCBlLmN0cmxLZXkgfHwgZS5zaGlmdEtleSlcbiAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgY29uc3QgYW5jaG9yID0gZS5jb21wb3NlZFBhdGgoKS5maWx0ZXIobiA9PiBuLnRhZ05hbWUgPT09ICdBJylbMF07XG4gICAgICAgIGlmICghYW5jaG9yIHx8IGFuY2hvci50YXJnZXQgfHxcbiAgICAgICAgICAgIGFuY2hvci5oYXNBdHRyaWJ1dGUoJ2Rvd25sb2FkJykgfHxcbiAgICAgICAgICAgIGFuY2hvci5nZXRBdHRyaWJ1dGUoJ3JlbCcpID09PSAnZXh0ZXJuYWwnKVxuICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICBjb25zdCBocmVmID0gYW5jaG9yLmhyZWY7XG4gICAgICAgIGlmICghaHJlZiB8fCBocmVmLmluZGV4T2YoJ21haWx0bzonKSAhPT0gLTEpXG4gICAgICAgICAgICByZXR1cm47XG4gICAgICAgIGNvbnN0IGxvY2F0aW9uID0gd2luZG93LmxvY2F0aW9uO1xuICAgICAgICBjb25zdCBvcmlnaW4gPSBsb2NhdGlvbi5vcmlnaW4gfHwgbG9jYXRpb24ucHJvdG9jb2wgKyAnLy8nICsgbG9jYXRpb24uaG9zdDtcbiAgICAgICAgaWYgKGhyZWYuaW5kZXhPZihvcmlnaW4pICE9PSAwKVxuICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICBlLnByZXZlbnREZWZhdWx0KCk7XG4gICAgICAgIGlmIChocmVmICE9PSBsb2NhdGlvbi5ocmVmKSB7XG4gICAgICAgICAgICB3aW5kb3cuaGlzdG9yeS5wdXNoU3RhdGUoe30sICcnLCBocmVmKTtcbiAgICAgICAgICAgIGxvY2F0aW9uVXBkYXRlZENhbGxiYWNrKGxvY2F0aW9uLCBlKTtcbiAgICAgICAgfVxuICAgIH0pO1xuICAgIHdpbmRvdy5hZGRFdmVudExpc3RlbmVyKCdwb3BzdGF0ZScsIGUgPT4gbG9jYXRpb25VcGRhdGVkQ2FsbGJhY2sod2luZG93LmxvY2F0aW9uLCBlKSk7XG4gICAgbG9jYXRpb25VcGRhdGVkQ2FsbGJhY2sod2luZG93LmxvY2F0aW9uLCBudWxsIC8qIGV2ZW50ICovKTtcbn07XG4vLyMgc291cmNlTWFwcGluZ1VSTD1yb3V0ZXIuanMubWFwIiwiLyoqXG5AbGljZW5zZVxuQ29weXJpZ2h0IChjKSAyMDE4IFRoZSBQb2x5bWVyIFByb2plY3QgQXV0aG9ycy4gQWxsIHJpZ2h0cyByZXNlcnZlZC5cblRoaXMgY29kZSBtYXkgb25seSBiZSB1c2VkIHVuZGVyIHRoZSBCU0Qgc3R5bGUgbGljZW5zZSBmb3VuZCBhdCBodHRwOi8vcG9seW1lci5naXRodWIuaW8vTElDRU5TRS50eHRcblRoZSBjb21wbGV0ZSBzZXQgb2YgYXV0aG9ycyBtYXkgYmUgZm91bmQgYXQgaHR0cDovL3BvbHltZXIuZ2l0aHViLmlvL0FVVEhPUlMudHh0XG5UaGUgY29tcGxldGUgc2V0IG9mIGNvbnRyaWJ1dG9ycyBtYXkgYmUgZm91bmQgYXQgaHR0cDovL3BvbHltZXIuZ2l0aHViLmlvL0NPTlRSSUJVVE9SUy50eHRcbkNvZGUgZGlzdHJpYnV0ZWQgYnkgR29vZ2xlIGFzIHBhcnQgb2YgdGhlIHBvbHltZXIgcHJvamVjdCBpcyBhbHNvXG5zdWJqZWN0IHRvIGFuIGFkZGl0aW9uYWwgSVAgcmlnaHRzIGdyYW50IGZvdW5kIGF0IGh0dHA6Ly9wb2x5bWVyLmdpdGh1Yi5pby9QQVRFTlRTLnR4dFxuKi9cbi8qKlxuICBVdGlsaXR5IG1ldGhvZCB0aGF0IGNhbGxzIGEgY2FsbGJhY2sgd2hlbmV2ZXIgdGhlIG5ldHdvcmsgY29ubmVjdGl2aXR5IG9mIHRoZSBhcHAgY2hhbmdlcy5cbiAgVGhlIGNhbGxiYWNrIHNob3VsZCB0YWtlIGEgYm9vbGVhbiBwYXJhbWV0ZXIgKHdpdGggYHRydWVgIG1lYW5pbmdcbiAgdGhlIG5ldHdvcmsgaXMgb2ZmbGluZSwgYW5kIGBmYWxzZWAgbWVhbmluZyBvbmxpbmUpXG5cbiAgRXhhbXBsZTpcblxuICAgICAgaW1wb3J0IHsgaW5zdGFsbE9mZmxpbmVXYXRjaGVyIH0gZnJvbSAncHdhLWhlbHBlcnMvbmV0d29yay5qcyc7XG5cbiAgICAgIGluc3RhbGxPZmZsaW5lV2F0Y2hlcigob2ZmbGluZSkgPT4ge1xuICAgICAgICBjb25zb2xlLmxvZygnWW91IGFyZSAnICsgb2ZmbGluZSA/ICcgb2ZmbGluZScgOiAnb25saW5lJyk7XG4gICAgICB9KTtcbiovXG5leHBvcnQgY29uc3QgaW5zdGFsbE9mZmxpbmVXYXRjaGVyID0gKG9mZmxpbmVVcGRhdGVkQ2FsbGJhY2spID0+IHtcbiAgICB3aW5kb3cuYWRkRXZlbnRMaXN0ZW5lcignb25saW5lJywgKCkgPT4gb2ZmbGluZVVwZGF0ZWRDYWxsYmFjayhmYWxzZSkpO1xuICAgIHdpbmRvdy5hZGRFdmVudExpc3RlbmVyKCdvZmZsaW5lJywgKCkgPT4gb2ZmbGluZVVwZGF0ZWRDYWxsYmFjayh0cnVlKSk7XG4gICAgb2ZmbGluZVVwZGF0ZWRDYWxsYmFjayhuYXZpZ2F0b3Iub25MaW5lID09PSBmYWxzZSk7XG59O1xuLy8jIHNvdXJjZU1hcHBpbmdVUkw9bmV0d29yay5qcy5tYXAiLCIvKipcbkBsaWNlbnNlXG5Db3B5cmlnaHQgKGMpIDIwMTggVGhlIFBvbHltZXIgUHJvamVjdCBBdXRob3JzLiBBbGwgcmlnaHRzIHJlc2VydmVkLlxuVGhpcyBjb2RlIG1heSBvbmx5IGJlIHVzZWQgdW5kZXIgdGhlIEJTRCBzdHlsZSBsaWNlbnNlIGZvdW5kIGF0IGh0dHA6Ly9wb2x5bWVyLmdpdGh1Yi5pby9MSUNFTlNFLnR4dFxuVGhlIGNvbXBsZXRlIHNldCBvZiBhdXRob3JzIG1heSBiZSBmb3VuZCBhdCBodHRwOi8vcG9seW1lci5naXRodWIuaW8vQVVUSE9SUy50eHRcblRoZSBjb21wbGV0ZSBzZXQgb2YgY29udHJpYnV0b3JzIG1heSBiZSBmb3VuZCBhdCBodHRwOi8vcG9seW1lci5naXRodWIuaW8vQ09OVFJJQlVUT1JTLnR4dFxuQ29kZSBkaXN0cmlidXRlZCBieSBHb29nbGUgYXMgcGFydCBvZiB0aGUgcG9seW1lciBwcm9qZWN0IGlzIGFsc29cbnN1YmplY3QgdG8gYW4gYWRkaXRpb25hbCBJUCByaWdodHMgZ3JhbnQgZm91bmQgYXQgaHR0cDovL3BvbHltZXIuZ2l0aHViLmlvL1BBVEVOVFMudHh0XG4qL1xuLyoqXG4gIFV0aWxpdHkgbWV0aG9kIHRoYXQgY2FsbHMgYSBjYWxsYmFjayB3aGVuZXZlciBhIG1lZGlhLXF1ZXJ5IG1hdGNoZXMgaW4gcmVzcG9uc2VcbiAgdG8gdGhlIHZpZXdwb3J0IHNpemUgY2hhbmdpbmcuIFRoZSBjYWxsYmFjayBzaG91bGQgdGFrZSBhIGJvb2xlYW4gcGFyYW1ldGVyXG4gICh3aXRoIGB0cnVlYCBtZWFuaW5nIHRoZSBtZWRpYSBxdWVyeSBpcyBtYXRjaGVkKS5cblxuICBFeGFtcGxlOlxuXG4gICAgICBpbXBvcnQgeyBpbnN0YWxsTWVkaWFRdWVyeVdhdGNoZXIgfSBmcm9tICdwd2EtaGVscGVycy9tZWRpYS1xdWVyeS5qcyc7XG5cbiAgICAgIGluc3RhbGxNZWRpYVF1ZXJ5V2F0Y2hlcihgKG1pbi13aWR0aDogNjAwcHgpYCwgKG1hdGNoZXMpID0+IHtcbiAgICAgICAgY29uc29sZS5sb2cobWF0Y2hlcyA/ICd3aWRlIHNjcmVlbicgOiAnbmFycm93IHNyZWVuJyk7XG4gICAgICB9KTtcbiovXG5leHBvcnQgY29uc3QgaW5zdGFsbE1lZGlhUXVlcnlXYXRjaGVyID0gKG1lZGlhUXVlcnksIGxheW91dENoYW5nZWRDYWxsYmFjaykgPT4ge1xuICAgIGxldCBtcWwgPSB3aW5kb3cubWF0Y2hNZWRpYShtZWRpYVF1ZXJ5KTtcbiAgICBtcWwuYWRkTGlzdGVuZXIoKGUpID0+IGxheW91dENoYW5nZWRDYWxsYmFjayhlLm1hdGNoZXMpKTtcbiAgICBsYXlvdXRDaGFuZ2VkQ2FsbGJhY2sobXFsLm1hdGNoZXMpO1xufTtcbi8vIyBzb3VyY2VNYXBwaW5nVVJMPW1lZGlhLXF1ZXJ5LmpzLm1hcCJdLCJzb3VyY2VSb290IjoiIn0=